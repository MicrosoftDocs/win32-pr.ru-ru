---
title: Вставка собственных форматов потока в файлы ASF (КАСФ)
description: Вставка собственных форматов потока в файлы ASF (КАСФ)
ms.assetid: ec7a69f3-0d4c-43dd-8d4b-fe066329a98f
keywords:
- Windows Пакет SDK для формата мультимедиа, собственные форматы потока (КАСФ)
- Windows Пакет SDK для формата мультимедиа, Вставка собственных форматов потоков в файлы ASF (КАСФ)
- Windows Пакет SDK для формата мультимедиа, DirectShow
- Расширенный системный формат (ASF), Вставка собственных форматов потока (КАСФ)
- ASF (Расширенный системный формат), Вставка собственных форматов потока (КАСФ)
- Расширенный системный формат (ASF), собственные форматы потока (КАСФ)
- ASF (Расширенный системный формат), форматы машинного потока (КАСФ)
- Расширенный формат систем (ASF), DirectShow
- ASF (Расширенный системный формат), DirectShow
- DirectShow, собственные форматы потока (касф)
- DirectShow, вставка собственных форматов потока в файлы ASF (касф)
- Windows Пакет SDK для формата мультимедиа, КАСФ
- Расширенный системный формат (ASF), КАСФ
- ASF (Расширенный системный формат), КАСФ
- DirectShow, касф
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 9b395748520943a62645a88c018131f909577191ebafbe1f9c4d3a80219cb39f
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "118701781"
---
# <a name="inserting-native-stream-formats-into-asf-files-qasf"></a>Вставка собственных форматов потока в файлы ASF (КАСФ)

по умолчанию [средство записи WM ASF](wm-asf-writer-filter.md) ждет несжатые аудио-и видеопотоки на входных пин-кодах и использует пакет SDK Windows media Format для доступа к видеокодекам Windows media audio и Windows media video, которые сжимают потоки. Но контейнер файлов ASF можно использовать для любого типа данных. Помещая цифровые мультимедийные данные в контейнер файлов ASF, можно добавлять функции, предоставляемые ASF, такие как метаданные и управление цифровыми правами (DRM), без необходимости перекодирования содержимого.

чтобы создать файл ASF, содержащий содержимое, которое не Windows на основе носителя, приложение должно сжать поток в графе фильтра в виде вышестоящего потока модуля записи wm asf и обойти механизм сжатия модуля записи wm asf, вызвав [**IConfigAsfWriter2:: сетпарам**](iconfigasfwriter2-setparam.md) следующим образом:


```C++
pConfigAsfWriter2->SetParam(AM_CONFIGASFWRITER_PARAM_DONTCOMPRESS,TRUE,0)

```



Затем настройте фильтр с нужным профилем. Очень важно, чтобы тип носителя входного потока точно совпадал с форматом в профиле. В некоторых случаях может потребоваться проверить формат входного потока и создать настраиваемый профиль для его сопоставления. Дополнительные сведения см. [в разделе Создание файлов ASF с помощью сторонних кодеков](to-create-asf-files-using-third-party-codecs.md).

При подключении модуля записи WM ASF к вышестоящему фильтру используйте метод **играфбуилдер:: коннектдирект** . не используйте методы intelligent connect, такие как **играфбуилдер:: Подключение** или **играфбуилдер:: RenderFile** , для подключения фильтра, так как это приведет к отключению режима "обходного сжатия" фильтра.

 

 




