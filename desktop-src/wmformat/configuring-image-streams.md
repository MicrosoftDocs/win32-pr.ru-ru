---
title: Настройка потоков изображений
description: Настройка потоков изображений
ms.assetid: 29325834-8766-47f4-8b33-b5fcbcc494c1
keywords:
- потоки, Настройка потоков изображений
- кодеки, Настройка потоков изображений
- потоки изображений, Настройка
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 24b05a21474143e227257dad240ff4d4464732ad
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/16/2019
ms.locfileid: "104410877"
---
# <a name="configuring-image-streams"></a><span data-ttu-id="bbe04-106">Настройка потоков изображений</span><span class="sxs-lookup"><span data-stu-id="bbe04-106">Configuring Image Streams</span></span>

<span data-ttu-id="bbe04-107">Потоки изображений содержат изображения в формате JPEG.</span><span class="sxs-lookup"><span data-stu-id="bbe04-107">Image streams contain still images in JPEG format.</span></span> <span data-ttu-id="bbe04-108">Несмотря на то, что потоки изображений подобны потокам видео в том, что они принимают несжатые изображения в качестве входных данных, они требуют немного другой конфигурации.</span><span class="sxs-lookup"><span data-stu-id="bbe04-108">Even though image streams are like video streams in that they take uncompressed images as inputs, they require a slightly different configuration.</span></span> <span data-ttu-id="bbe04-109">Чтобы настроить поток изображений, необходимо задать значения для элементов структур конфигурации видео, как показано в следующей таблице.</span><span class="sxs-lookup"><span data-stu-id="bbe04-109">To configure an image stream, you must set the values for the members of the video configuration structures as shown in the following table.</span></span>



| <span data-ttu-id="bbe04-110">Параметр</span><span class="sxs-lookup"><span data-stu-id="bbe04-110">Setting</span></span>                                                           | <span data-ttu-id="bbe04-111">Описание</span><span class="sxs-lookup"><span data-stu-id="bbe04-111">Description</span></span>                                                                                                                                                                      |
|-------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="bbe04-112">**\_Тип мультимедиа WM \_ . мажортипе**</span><span class="sxs-lookup"><span data-stu-id="bbe04-112">**WM\_MEDIA\_TYPE.majortype**</span></span>                                     | <span data-ttu-id="bbe04-113">Задайте значение ВММЕДИАТИПЕ \_ Image.</span><span class="sxs-lookup"><span data-stu-id="bbe04-113">Set to WMMEDIATYPE\_Image.</span></span>                                                                                                                                                       |
| <span data-ttu-id="bbe04-114">**\_Тип мультимедиа WM \_ . подтип**</span><span class="sxs-lookup"><span data-stu-id="bbe04-114">**WM\_MEDIA\_TYPE.subtype**</span></span>                                       | <span data-ttu-id="bbe04-115">Задайте для параметра значение ВММЕДИАСУБТИПЕ \_ Rgb24.</span><span class="sxs-lookup"><span data-stu-id="bbe04-115">Set to WMMEDIASUBTYPE\_RGB24.</span></span>                                                                                                                                                    |
| <span data-ttu-id="bbe04-116">**\_Тип мультимедиа WM \_ . бфикседсизесамплес**</span><span class="sxs-lookup"><span data-stu-id="bbe04-116">**WM\_MEDIA\_TYPE.bFixedSizeSamples**</span></span>                             | <span data-ttu-id="bbe04-117">Задайте значение **false**.</span><span class="sxs-lookup"><span data-stu-id="bbe04-117">Set to **FALSE**.</span></span>                                                                                                                                                                |
| <span data-ttu-id="bbe04-118">**\_Тип мультимедиа WM \_ . бтемпоралкомпрессион**</span><span class="sxs-lookup"><span data-stu-id="bbe04-118">**WM\_MEDIA\_TYPE.bTemporalCompression**</span></span>                          | <span data-ttu-id="bbe04-119">Задайте значение **false**.</span><span class="sxs-lookup"><span data-stu-id="bbe04-119">Set to **FALSE**.</span></span>                                                                                                                                                                |
| <span data-ttu-id="bbe04-120">**\_Тип мультимедиа WM \_ . лсамплесизе**</span><span class="sxs-lookup"><span data-stu-id="bbe04-120">**WM\_MEDIA\_TYPE.lSampleSize**</span></span>                                   | <span data-ttu-id="bbe04-121">Задайте значение 0.</span><span class="sxs-lookup"><span data-stu-id="bbe04-121">Set to 0.</span></span>                                                                                                                                                                        |
| <span data-ttu-id="bbe04-122">**\_Тип мультимедиа WM \_ . форматтипе**</span><span class="sxs-lookup"><span data-stu-id="bbe04-122">**WM\_MEDIA\_TYPE.formattype**</span></span>                                    | <span data-ttu-id="bbe04-123">Задайте для параметра значение ВМФОРМАТ \_ видеоинфо.</span><span class="sxs-lookup"><span data-stu-id="bbe04-123">Set to WMFORMAT\_VideoInfo.</span></span>                                                                                                                                                      |
| <span data-ttu-id="bbe04-124">**\_Тип мультимедиа WM \_ . Punk**</span><span class="sxs-lookup"><span data-stu-id="bbe04-124">**WM\_MEDIA\_TYPE.pUnk**</span></span>                                          | <span data-ttu-id="bbe04-125">Задайте **значение NULL**.</span><span class="sxs-lookup"><span data-stu-id="bbe04-125">Set to **NULL**.</span></span>                                                                                                                                                                 |
| <span data-ttu-id="bbe04-126">**\_Тип мультимедиа WM \_ . кбформат**</span><span class="sxs-lookup"><span data-stu-id="bbe04-126">**WM\_MEDIA\_TYPE.cbFormat**</span></span>                                      | <span data-ttu-id="bbe04-127">Задайте значение `sizeof(WMVIDEOINFOHEADER)`.</span><span class="sxs-lookup"><span data-stu-id="bbe04-127">Set to `sizeof(WMVIDEOINFOHEADER)`.</span></span>                                                                                                                                              |
| <span data-ttu-id="bbe04-128">**\_Тип мультимедиа WM \_ . пбформат**</span><span class="sxs-lookup"><span data-stu-id="bbe04-128">**WM\_MEDIA\_TYPE.pbFormat**</span></span>                                      | <span data-ttu-id="bbe04-129">Укажите адрес правильно настроенной структуры **вмвидеоинфохеадер** .</span><span class="sxs-lookup"><span data-stu-id="bbe04-129">Set to the address of a properly configured **WMVIDEOINFOHEADER** structure.</span></span>                                                                                                     |
| <span data-ttu-id="bbe04-130">**Вмвидеоинфохеадер. рксаурце** и **вмвидеоинфохеадер. рктаржет**</span><span class="sxs-lookup"><span data-stu-id="bbe04-130">**WMVIDEOINFOHEADER.rcSource** and **WMVIDEOINFOHEADER.rcTarget**</span></span> | <span data-ttu-id="bbe04-131">Установите оба прямоугольника таким образом, чтобы верхние левые углы были координатами (0, 0), а нижние правый углы — координатами (x, y), где x — это ширина изображения, а y — высота изображения.</span><span class="sxs-lookup"><span data-stu-id="bbe04-131">Set both rectangles so that the top left corners are coordinates (0, 0) and the bottom right corners are coordinates(x, y) where x is the image width and y is the image height.</span></span> |
| <span data-ttu-id="bbe04-132">**ВМВИДЕОИНФОХЕАДЕР. Двбитрате**</span><span class="sxs-lookup"><span data-stu-id="bbe04-132">**WMVIDEOINFOHEADER.dwBitRate**</span></span>                                   | <span data-ttu-id="bbe04-133">Задайте значение скорости потока.</span><span class="sxs-lookup"><span data-stu-id="bbe04-133">Set to the bit rate of the stream.</span></span>                                                                                                                                               |
| <span data-ttu-id="bbe04-134">**ВМВИДЕОИНФОХЕАДЕР. Дверроррате**</span><span class="sxs-lookup"><span data-stu-id="bbe04-134">**WMVIDEOINFOHEADER.dwErrorRate**</span></span>                                 | <span data-ttu-id="bbe04-135">Задайте значение 0.</span><span class="sxs-lookup"><span data-stu-id="bbe04-135">Set to 0.</span></span>                                                                                                                                                                        |
| <span data-ttu-id="bbe04-136">**ВМВИДЕОИНФОХЕАДЕР. Двбитерроррате**</span><span class="sxs-lookup"><span data-stu-id="bbe04-136">**WMVIDEOINFOHEADER.dwBitErrorRate**</span></span>                              | <span data-ttu-id="bbe04-137">Задайте значение 0.</span><span class="sxs-lookup"><span data-stu-id="bbe04-137">Set to 0.</span></span>                                                                                                                                                                        |
| <span data-ttu-id="bbe04-138">**ВМВИДЕОИНФОХЕАДЕР. авгтимеперфраме**</span><span class="sxs-lookup"><span data-stu-id="bbe04-138">**WMVIDEOINFOHEADER.AvgTimePerFrame**</span></span>                             | <span data-ttu-id="bbe04-139">Задайте значение 0.</span><span class="sxs-lookup"><span data-stu-id="bbe04-139">Set to 0.</span></span>                                                                                                                                                                        |
| <span data-ttu-id="bbe04-140">**БИТМАПИНФОХЕАДЕР. Бивидс**</span><span class="sxs-lookup"><span data-stu-id="bbe04-140">**BITMAPINFOHEADER.biWidth**</span></span>                                      | <span data-ttu-id="bbe04-141">Задайте ширину изображения.</span><span class="sxs-lookup"><span data-stu-id="bbe04-141">Set to the width of the image.</span></span>                                                                                                                                                   |
| <span data-ttu-id="bbe04-142">**БИТМАПИНФОХЕАДЕР. Бихеигхт**</span><span class="sxs-lookup"><span data-stu-id="bbe04-142">**BITMAPINFOHEADER.biHeight**</span></span>                                     | <span data-ttu-id="bbe04-143">Задайте высоту изображения.</span><span class="sxs-lookup"><span data-stu-id="bbe04-143">Set to the height of the image.</span></span>                                                                                                                                                  |
| <span data-ttu-id="bbe04-144">**БИТМАПИНФОХЕАДЕР. Бипланес**</span><span class="sxs-lookup"><span data-stu-id="bbe04-144">**BITMAPINFOHEADER.biPlanes**</span></span>                                     | <span data-ttu-id="bbe04-145">Задан равным 1.</span><span class="sxs-lookup"><span data-stu-id="bbe04-145">Set to 1.</span></span>                                                                                                                                                                        |
| <span data-ttu-id="bbe04-146">**БИТМАПИНФОХЕАДЕР. Бибиткаунт**</span><span class="sxs-lookup"><span data-stu-id="bbe04-146">**BITMAPINFOHEADER.biBitCount**</span></span>                                   | <span data-ttu-id="bbe04-147">Установите значение 24.</span><span class="sxs-lookup"><span data-stu-id="bbe04-147">Set to 24.</span></span>                                                                                                                                                                       |
| <span data-ttu-id="bbe04-148">**БИТМАПИНФОХЕАДЕР. Бикомпрессион**</span><span class="sxs-lookup"><span data-stu-id="bbe04-148">**BITMAPINFOHEADER.biCompression**</span></span>                                | <span data-ttu-id="bbe04-149">Задайте значение BI \_ RGB.</span><span class="sxs-lookup"><span data-stu-id="bbe04-149">Set to BI\_RGB.</span></span>                                                                                                                                                                  |
| <span data-ttu-id="bbe04-150">**БИТМАПИНФОХЕАДЕР. Бисизеимаже**</span><span class="sxs-lookup"><span data-stu-id="bbe04-150">**BITMAPINFOHEADER.biSizeImage**</span></span>                                  | <span data-ttu-id="bbe04-151">Задайте значение ((x \* y \* )/8), где x — ширина изображения, y — высота изображения, а c — глубина цвета изображения (в данном случае всегда 24).</span><span class="sxs-lookup"><span data-stu-id="bbe04-151">Set to ((x \* y \* c) / 8), where x is the width of the image, y is the height of the image, and c is the color depth of the image (in this case always 24).</span></span>                     |
| <span data-ttu-id="bbe04-152">**БИТМАПИНФОХЕАДЕР. Бикспелсперметер**</span><span class="sxs-lookup"><span data-stu-id="bbe04-152">**BITMAPINFOHEADER.biXPelsPerMeter**</span></span>                              | <span data-ttu-id="bbe04-153">Задайте значение 0.</span><span class="sxs-lookup"><span data-stu-id="bbe04-153">Set to 0.</span></span>                                                                                                                                                                        |
| <span data-ttu-id="bbe04-154">**БИТМАПИНФОХЕАДЕР. Бийпелсперметер**</span><span class="sxs-lookup"><span data-stu-id="bbe04-154">**BITMAPINFOHEADER.biYPelsPerMeter**</span></span>                              | <span data-ttu-id="bbe04-155">Задайте значение 0.</span><span class="sxs-lookup"><span data-stu-id="bbe04-155">Set to 0.</span></span>                                                                                                                                                                        |
| <span data-ttu-id="bbe04-156">**БИТМАПИНФОХЕАДЕР. Биклрусед**</span><span class="sxs-lookup"><span data-stu-id="bbe04-156">**BITMAPINFOHEADER.biClrUsed**</span></span>                                    | <span data-ttu-id="bbe04-157">Задайте значение 0.</span><span class="sxs-lookup"><span data-stu-id="bbe04-157">Set to 0.</span></span>                                                                                                                                                                        |
| <span data-ttu-id="bbe04-158">**БИТМАПИНФОХЕАДЕР. Биклримпортант**</span><span class="sxs-lookup"><span data-stu-id="bbe04-158">**BITMAPINFOHEADER.biClrImportant**</span></span>                               | <span data-ttu-id="bbe04-159">Задайте значение 0.</span><span class="sxs-lookup"><span data-stu-id="bbe04-159">Set to 0.</span></span>                                                                                                                                                                        |



 

## <a name="related-topics"></a><span data-ttu-id="bbe04-160">См. также</span><span class="sxs-lookup"><span data-stu-id="bbe04-160">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="bbe04-161">**Общая конфигурация для всех потоков**</span><span class="sxs-lookup"><span data-stu-id="bbe04-161">**Configuration Common to All Streams**</span></span>](configuration-common-to-all-streams.md)
</dt> <dt>

[<span data-ttu-id="bbe04-162">**Настройка потоков**</span><span class="sxs-lookup"><span data-stu-id="bbe04-162">**Configuring Streams**</span></span>](configuring-streams.md)
</dt> <dt>

[<span data-ttu-id="bbe04-163">**Получение хороших результатов с помощью экранного видеокодека Windows Media видео 9**</span><span class="sxs-lookup"><span data-stu-id="bbe04-163">**Getting Good Results with the Windows Media Video 9 Screen Codec**</span></span>](getting-good-results-with-the-windows-media-video-9-screen-codec.md)
</dt> <dt>

[<span data-ttu-id="bbe04-164">**Потоки изображений**</span><span class="sxs-lookup"><span data-stu-id="bbe04-164">**Image Streams**</span></span>](image-streams.md)
</dt> </dl>

 

 




