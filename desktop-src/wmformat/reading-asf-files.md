---
title: Чтение файлов ASF
description: Чтение файлов ASF
ms.assetid: e0aabe05-b317-42ac-85fc-5a75165722d4
keywords:
- Windows Media Format SDK, чтение файлов ASF
- Windows Media Format SDK, расширенный формат систем (ASF)
- Расширенный формат систем (ASF), чтение файлов
- ASF (Расширенный системный формат), чтение файлов
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 32f35cbd0e9a7dde800e23f83337ac30cdd66582
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/16/2019
ms.locfileid: "104331936"
---
# <a name="reading-asf-files"></a><span data-ttu-id="f835b-107">Чтение файлов ASF</span><span class="sxs-lookup"><span data-stu-id="f835b-107">Reading ASF Files</span></span>

<span data-ttu-id="f835b-108">Пакет SDK для Windows Media Format можно использовать для доставки образцов мультимедиа из ASF.</span><span class="sxs-lookup"><span data-stu-id="f835b-108">The Windows Media Format SDK can be used to deliver media samples from an ASF file.</span></span> <span data-ttu-id="f835b-109">Для получения образцов используются два объекта: объект чтения и синхронный объект Reader.</span><span class="sxs-lookup"><span data-stu-id="f835b-109">Two objects are used to retrieve samples, the reader object and the synchronous reader object.</span></span>

<span data-ttu-id="f835b-110">Объект DataReader является исходным объектом чтения в пакете SDK формата Windows Media.</span><span class="sxs-lookup"><span data-stu-id="f835b-110">The reader object is the original reading object in the Windows Media Format SDK.</span></span> <span data-ttu-id="f835b-111">Объект модуля чтения использует асинхронную архитектуру для передачи образцов в приложение.</span><span class="sxs-lookup"><span data-stu-id="f835b-111">The reader object uses an asynchronous architecture to push samples to an application.</span></span> <span data-ttu-id="f835b-112">Приложения, созданные с помощью объекта Reader, должны реализовывать функции обратного вызова, реагирующие на различные сообщения и события, являющиеся результатом этой многопоточной модели.</span><span class="sxs-lookup"><span data-stu-id="f835b-112">Applications built using the reader object must implement callback functions that respond to the various messages and events that result from this multi-threaded model.</span></span> <span data-ttu-id="f835b-113">Для ясности этот раздел будет ссылаться на объект Reader в качестве асинхронного модуля чтения.</span><span class="sxs-lookup"><span data-stu-id="f835b-113">For clarity, this section will refer to the reader object as the asynchronous reader.</span></span>

<span data-ttu-id="f835b-114">Объект синхронного модуля чтения является новым для этой версии пакета SDK Windows Media Format.</span><span class="sxs-lookup"><span data-stu-id="f835b-114">The synchronous reader object is new for this version of the Windows Media Format SDK.</span></span> <span data-ttu-id="f835b-115">Синхронный модуль чтения не использует несколько потоков при обработке образцов из файлов ASF.</span><span class="sxs-lookup"><span data-stu-id="f835b-115">The synchronous reader does not use multiple threads in processing samples from ASF files.</span></span> <span data-ttu-id="f835b-116">Приложение, созданное с помощью синхронного модуля чтения, получает выборки по запросу, а не ожидает их отправку устройству чтения.</span><span class="sxs-lookup"><span data-stu-id="f835b-116">An application built using the synchronous reader retrieves samples on demand, rather than waiting for the reader to send them.</span></span>

<span data-ttu-id="f835b-117">При создании приложения для чтения файлов ASF необходимо выбрать, какой объект модуля чтения следует использовать.</span><span class="sxs-lookup"><span data-stu-id="f835b-117">When creating an application to read ASF files, you must choose which reader object to use.</span></span> <span data-ttu-id="f835b-118">Как правило, приложения, предназначенные для доставки содержимого на основе Windows Media, должны создаваться с помощью асинхронного модуля чтения, а приложения, предназначенные для редактирования ASF-файлов, должны создаваться с помощью синхронного модуля чтения.</span><span class="sxs-lookup"><span data-stu-id="f835b-118">In general, applications designed to deliver Windows Media-based content should be created using the asynchronous reader, while applications designed to edit ASF files should be created with the synchronous reader.</span></span>

<span data-ttu-id="f835b-119">В следующей таблице перечислены основные функции объектов Reader.</span><span class="sxs-lookup"><span data-stu-id="f835b-119">The following table lists the major features of both reader objects.</span></span> <span data-ttu-id="f835b-120">Используйте эту таблицу, чтобы определить, какой объект следует использовать для приложения.</span><span class="sxs-lookup"><span data-stu-id="f835b-120">Use this table to help determine which object to use for your application.</span></span>



| <span data-ttu-id="f835b-121">Функция</span><span class="sxs-lookup"><span data-stu-id="f835b-121">Feature</span></span>                                                                    | <span data-ttu-id="f835b-122">Асинхронный читатель</span><span class="sxs-lookup"><span data-stu-id="f835b-122">Async reader</span></span> | <span data-ttu-id="f835b-123">Читатель синхронизации</span><span class="sxs-lookup"><span data-stu-id="f835b-123">Sync reader</span></span> |
|----------------------------------------------------------------------------|--------------|-------------|
| <span data-ttu-id="f835b-124">Чтение несжатых образцов по номеру выхода</span><span class="sxs-lookup"><span data-stu-id="f835b-124">Read uncompressed samples by output number</span></span>                                 | <span data-ttu-id="f835b-125">Да</span><span class="sxs-lookup"><span data-stu-id="f835b-125">Yes</span></span>          | <span data-ttu-id="f835b-126">Да</span><span class="sxs-lookup"><span data-stu-id="f835b-126">Yes</span></span>         |
| <span data-ttu-id="f835b-127">Чтение сжатых образцов по номеру потока</span><span class="sxs-lookup"><span data-stu-id="f835b-127">Read compressed samples by stream number</span></span>                                   | <span data-ttu-id="f835b-128">Да</span><span class="sxs-lookup"><span data-stu-id="f835b-128">Yes</span></span>          | <span data-ttu-id="f835b-129">Да</span><span class="sxs-lookup"><span data-stu-id="f835b-129">Yes</span></span>         |
| <span data-ttu-id="f835b-130">Чтение несжатых образцов по номеру потока</span><span class="sxs-lookup"><span data-stu-id="f835b-130">Read uncompressed samples by stream number</span></span>                                 | <span data-ttu-id="f835b-131">Нет</span><span class="sxs-lookup"><span data-stu-id="f835b-131">No</span></span>           | <span data-ttu-id="f835b-132">Да</span><span class="sxs-lookup"><span data-stu-id="f835b-132">Yes</span></span>         |
| <span data-ttu-id="f835b-133">Чтение с веб-сайта</span><span class="sxs-lookup"><span data-stu-id="f835b-133">Read from Internet site</span></span>                                                    | <span data-ttu-id="f835b-134">Да</span><span class="sxs-lookup"><span data-stu-id="f835b-134">Yes</span></span>          | <span data-ttu-id="f835b-135">Нет</span><span class="sxs-lookup"><span data-stu-id="f835b-135">No</span></span>          |
| <span data-ttu-id="f835b-136">Чтение метаданных</span><span class="sxs-lookup"><span data-stu-id="f835b-136">Read metadata</span></span>                                                              | <span data-ttu-id="f835b-137">Да</span><span class="sxs-lookup"><span data-stu-id="f835b-137">Yes</span></span>          | <span data-ttu-id="f835b-138">Да</span><span class="sxs-lookup"><span data-stu-id="f835b-138">Yes</span></span>         |
| <span data-ttu-id="f835b-139">Поиск времени презентации</span><span class="sxs-lookup"><span data-stu-id="f835b-139">Seek to presentation time</span></span>                                                  | <span data-ttu-id="f835b-140">Да</span><span class="sxs-lookup"><span data-stu-id="f835b-140">Yes</span></span>          | <span data-ttu-id="f835b-141">Да</span><span class="sxs-lookup"><span data-stu-id="f835b-141">Yes</span></span>         |
| <span data-ttu-id="f835b-142">Перейти к кадру</span><span class="sxs-lookup"><span data-stu-id="f835b-142">Seek to frame</span></span>                                                              | <span data-ttu-id="f835b-143">Да</span><span class="sxs-lookup"><span data-stu-id="f835b-143">Yes</span></span>          | <span data-ttu-id="f835b-144">Да</span><span class="sxs-lookup"><span data-stu-id="f835b-144">Yes</span></span>         |
| <span data-ttu-id="f835b-145">Поиск маркера</span><span class="sxs-lookup"><span data-stu-id="f835b-145">Seek to marker</span></span>                                                             | <span data-ttu-id="f835b-146">Да</span><span class="sxs-lookup"><span data-stu-id="f835b-146">Yes</span></span>          | <span data-ttu-id="f835b-147">Нет</span><span class="sxs-lookup"><span data-stu-id="f835b-147">No</span></span>          |
| <span data-ttu-id="f835b-148">Переключение между сжатыми и несжатыми примерами доставки во время воспроизведения</span><span class="sxs-lookup"><span data-stu-id="f835b-148">Switch between compressed and uncompressed sample delivery during playback</span></span> | <span data-ttu-id="f835b-149">Нет</span><span class="sxs-lookup"><span data-stu-id="f835b-149">No</span></span>           | <span data-ttu-id="f835b-150">Да</span><span class="sxs-lookup"><span data-stu-id="f835b-150">Yes</span></span>         |
| <span data-ttu-id="f835b-151">Открытие файлов с помощью интерфейса **IStream**</span><span class="sxs-lookup"><span data-stu-id="f835b-151">Open files using **IStream** interface</span></span>                                     | <span data-ttu-id="f835b-152">Да</span><span class="sxs-lookup"><span data-stu-id="f835b-152">Yes</span></span>          | <span data-ttu-id="f835b-153">Да</span><span class="sxs-lookup"><span data-stu-id="f835b-153">Yes</span></span>         |



 

<span data-ttu-id="f835b-154">В следующих разделах содержатся дополнительные сведения о работе с двумя объектами чтения.</span><span class="sxs-lookup"><span data-stu-id="f835b-154">The following sections provide more information about working with the two reader objects.</span></span>



| <span data-ttu-id="f835b-155">Section</span><span class="sxs-lookup"><span data-stu-id="f835b-155">Section</span></span>                                                                                      | <span data-ttu-id="f835b-156">Описание</span><span class="sxs-lookup"><span data-stu-id="f835b-156">Description</span></span>                                                                                                                             |
|----------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="f835b-157">Работа с выходами</span><span class="sxs-lookup"><span data-stu-id="f835b-157">Working with Outputs</span></span>](working-with-outputs.md)                                             | <span data-ttu-id="f835b-158">Описывает, как использовать выходные данные и управлять ими.</span><span class="sxs-lookup"><span data-stu-id="f835b-158">Describes how to use and manipulate outputs.</span></span> <span data-ttu-id="f835b-159">Применяется к обоим объектам Reader.</span><span class="sxs-lookup"><span data-stu-id="f835b-159">Applies to both reader objects.</span></span>                                                            |
| [<span data-ttu-id="f835b-160">Выделение буферов для чтения файлов</span><span class="sxs-lookup"><span data-stu-id="f835b-160">Allocating Buffers for File Reading</span></span>](allocating-buffers-for-file-reading.md)               | <span data-ttu-id="f835b-161">Описывает использование собственного пула буферов для хранения образцов, доставленных модулем чтения или синхронным модулем чтения.</span><span class="sxs-lookup"><span data-stu-id="f835b-161">Describes how to use your own pool of buffers to hold samples delivered by the reader or synchronous reader.</span></span>                            |
| [<span data-ttu-id="f835b-162">Считывание метаданных при воспроизведении</span><span class="sxs-lookup"><span data-stu-id="f835b-162">Reading Metadata at Playback</span></span>](reading-metadata-at-playback.md)                             | <span data-ttu-id="f835b-163">Описывает, как использовать преимущества поддержки метаданных при воспроизведении.</span><span class="sxs-lookup"><span data-stu-id="f835b-163">Describes how to take advantage of metadata support at playback.</span></span> <span data-ttu-id="f835b-164">Применяется к обоим объектам Reader.</span><span class="sxs-lookup"><span data-stu-id="f835b-164">Applies to both reader objects.</span></span>                                        |
| [<span data-ttu-id="f835b-165">Получение сведений о профиле при воспроизведении</span><span class="sxs-lookup"><span data-stu-id="f835b-165">Getting Profile Information at Playback</span></span>](getting-profile-information-at-playback.md)       | <span data-ttu-id="f835b-166">Описывает, как получить доступ к сведениям о профиле для открытых файлов.</span><span class="sxs-lookup"><span data-stu-id="f835b-166">Describes how to access profile information for opened files.</span></span> <span data-ttu-id="f835b-167">Применяется к обоим объектам Reader.</span><span class="sxs-lookup"><span data-stu-id="f835b-167">Applies to both reader objects.</span></span>                                           |
| [<span data-ttu-id="f835b-168">Чтение многоканального звука</span><span class="sxs-lookup"><span data-stu-id="f835b-168">Reading Multichannel Audio</span></span>](reading-multichannel-audio.md)                                 | <span data-ttu-id="f835b-169">Описание настройки модуля записи для правильного декодирования многоканального звука.</span><span class="sxs-lookup"><span data-stu-id="f835b-169">Describes how to configure the writer to properly decode multichannel audio.</span></span>                                                            |
| [<span data-ttu-id="f835b-170">Подготовка содержимого</span><span class="sxs-lookup"><span data-stu-id="f835b-170">Rendering Content</span></span>](rendering-content.md)                                                   | <span data-ttu-id="f835b-171">Обсуждаются проблемы, связанные с визуализацией несжатых образцов.</span><span class="sxs-lookup"><span data-stu-id="f835b-171">Discusses the issues related to rendering uncompressed samples.</span></span> <span data-ttu-id="f835b-172">Применяется к обоим объектам Reader.</span><span class="sxs-lookup"><span data-stu-id="f835b-172">Applies to both reader objects.</span></span>                                         |
| [<span data-ttu-id="f835b-173">Получение наилучшей производительности поиска видео</span><span class="sxs-lookup"><span data-stu-id="f835b-173">Getting the Best Video Seeking Performance</span></span>](getting-the-best-video-seeking-performance.md) | <span data-ttu-id="f835b-174">Описывает способы повышения производительности поиска в видео.</span><span class="sxs-lookup"><span data-stu-id="f835b-174">Describes ways to improve video seeking performance.</span></span>                                                                                    |
| [<span data-ttu-id="f835b-175">Чтение файлов с помощью асинхронного модуля чтения</span><span class="sxs-lookup"><span data-stu-id="f835b-175">Reading Files with the Asynchronous Reader</span></span>](reading-files-with-the-asynchronous-reader.md) | <span data-ttu-id="f835b-176">Описывает, как читать файлы ASF с помощью асинхронного объекта Reader.</span><span class="sxs-lookup"><span data-stu-id="f835b-176">Describes how to read ASF files using the asynchronous reader object.</span></span>                                                                   |
| [<span data-ttu-id="f835b-177">Чтение файлов с помощью синхронного модуля чтения</span><span class="sxs-lookup"><span data-stu-id="f835b-177">Reading Files with the Synchronous Reader</span></span>](reading-files-with-the-synchronous-reader.md)   | <span data-ttu-id="f835b-178">Описывает, как читать файлы ASF с помощью синхронного объекта Reader.</span><span class="sxs-lookup"><span data-stu-id="f835b-178">Describes how to read ASF files using the synchronous reader object.</span></span>                                                                    |
| [<span data-ttu-id="f835b-179">Включение ускорения видео DirectX</span><span class="sxs-lookup"><span data-stu-id="f835b-179">Enabling DirectX Video Acceleration</span></span>](enabling-directx-video-acceleration.md)               | <span data-ttu-id="f835b-180">Описывается, как реализовать ускорение видео DirectX для использования функций аппаратного ускорения некоторых видеоадаптеров для декодирования видео.</span><span class="sxs-lookup"><span data-stu-id="f835b-180">Describes how to implement DirectX Video Acceleration to use the hardware acceleration features of some video cards for decoding video.</span></span> |



 

## <a name="related-topics"></a><span data-ttu-id="f835b-181">См. также</span><span class="sxs-lookup"><span data-stu-id="f835b-181">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="f835b-182">**Инструкции по программированию**</span><span class="sxs-lookup"><span data-stu-id="f835b-182">**Programming Guide**</span></span>](programming-guide.md)
</dt> <dt>

[<span data-ttu-id="f835b-183">**Объект модуля чтения**</span><span class="sxs-lookup"><span data-stu-id="f835b-183">**Reader Object**</span></span>](reader-object.md)
</dt> <dt>

[<span data-ttu-id="f835b-184">**Объект модуля синхронного чтения**</span><span class="sxs-lookup"><span data-stu-id="f835b-184">**Synchronous Reader Object**</span></span>](synchronous-reader-object.md)
</dt> </dl>

 

 




