---
title: Получение требуемой библиотеки DRM
description: Получение требуемой библиотеки DRM
ms.assetid: 7bd13b77-439e-40cf-99e8-b359247da74d
keywords:
- Windows Media Format SDK, получение необходимых библиотек DRM
- Расширенный формат систем (ASF), получение необходимых библиотек DRM
- ASF (Расширенный системный формат), получение необходимых библиотек DRM
- Управление цифровыми правами (DRM), получение необходимых библиотек
- DRM (Управление цифровыми правами), получение необходимых библиотек
- Управление цифровыми правами (DRM), сведения о сборке
- DRM (Управление цифровыми правами), сведения о сборке
- Управление цифровыми правами (DRM), отладочная информация
- DRM (Управление цифровыми правами), отладочная информация
- Отладка DRM
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 9f5c124c1e7edf0bba736b9dd392e852aac97e96
ms.sourcegitcommit: 773fa6257ead6c74154ad3cf46d21e49adc900aa
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/09/2020
ms.locfileid: "104414001"
---
# <a name="obtaining-the-required-drm-library"></a><span data-ttu-id="1bdea-113">Получение требуемой библиотеки DRM</span><span class="sxs-lookup"><span data-stu-id="1bdea-113">Obtaining the Required DRM Library</span></span>

<span data-ttu-id="1bdea-114">Для создания или воспроизведения файлов цифрового мультимедиа, защищенных с помощью DRM, приложение должно ссылаться на статическую библиотеку, предоставляемую корпорацией Майкрософт в двоичном формате.</span><span class="sxs-lookup"><span data-stu-id="1bdea-114">To create or play DRM-protected digital media files, your application must link to a static library that is provided in binary form by Microsoft.</span></span> <span data-ttu-id="1bdea-115">Эта библиотека иногда называется библиотекой-заглушкой или "стублиб" и уникально идентифицирует ваше приложение.</span><span class="sxs-lookup"><span data-stu-id="1bdea-115">This library is sometimes called a stub library or "stublib" and it uniquely identifies your application.</span></span>

<span data-ttu-id="1bdea-116">В этой документации библиотека DRM называется "Вмстубдрм. lib".</span><span class="sxs-lookup"><span data-stu-id="1bdea-116">In this documentation, the DRM library is referred to as "WMStubDRM.lib".</span></span> <span data-ttu-id="1bdea-117">Имя полученной библиотеки будет содержать идентификационный номер.</span><span class="sxs-lookup"><span data-stu-id="1bdea-117">The name of the library you receive will include an identifying number.</span></span> <span data-ttu-id="1bdea-118">Чтобы получить эту библиотеку, необходимо подписать лицензионное соглашение с корпорацией Майкрософт.</span><span class="sxs-lookup"><span data-stu-id="1bdea-118">To obtain this library, you must sign a license agreement with Microsoft.</span></span> <span data-ttu-id="1bdea-119">Условия соглашения могут отличаться в зависимости от того, вы запрашиваете лицензию на оценку или рабочую лицензию.</span><span class="sxs-lookup"><span data-stu-id="1bdea-119">The terms of the agreement may differ depending on whether you request an evaluation license or a production license.</span></span> <span data-ttu-id="1bdea-120">Дополнительные сведения о процессе лицензирования DRM см. на [веб-сайте Майкрософт](https://www.microsoft.com/licensing/default)в форме Windows Media Licensing.</span><span class="sxs-lookup"><span data-stu-id="1bdea-120">For more information on the DRM licensing process, see the Windows Media Licensing Form at the [Microsoft Web site](https://www.microsoft.com/licensing/default).</span></span>

<span data-ttu-id="1bdea-121">Полученная библиотека имеет уровень безопасности DRM, зависящий от типа лицензионного соглашения, в которое вы вводите.</span><span class="sxs-lookup"><span data-stu-id="1bdea-121">The library that you receive has a DRM security level that depends on the type of license agreement you enter into.</span></span> <span data-ttu-id="1bdea-122">Лицензия DRM может ограничить доступ к содержимому файлов для приложений с компонентами DRM ниже указанного уровня безопасности.</span><span class="sxs-lookup"><span data-stu-id="1bdea-122">A DRM license can restrict applications with DRM components below a specified security level from accessing the file contents.</span></span> <span data-ttu-id="1bdea-123">Этот уровень безопасности отличается от уровня индивидуальности DRM и не связан ни с одним из числовых значений уровней защиты выходных данных (Оплс).</span><span class="sxs-lookup"><span data-stu-id="1bdea-123">This security level is not the same as the DRM individualization level, nor is it related to any of the numerical values of output protection levels (OPLs).</span></span> <span data-ttu-id="1bdea-124">В следующей таблице приведены примеры уровней безопасности DRM для различных игроков и портативных устройств.</span><span class="sxs-lookup"><span data-stu-id="1bdea-124">The following table shows examples of DRM security levels for different players and portable devices.</span></span>



| <span data-ttu-id="1bdea-125">Уровень безопасности</span><span class="sxs-lookup"><span data-stu-id="1bdea-125">Security level</span></span> | <span data-ttu-id="1bdea-126">Проигрыватели и портативные устройства</span><span class="sxs-lookup"><span data-stu-id="1bdea-126">Players and portable devices</span></span>                                                                                                                                                                                                                                                                                                   | <span data-ttu-id="1bdea-127">Пример</span><span class="sxs-lookup"><span data-stu-id="1bdea-127">Example</span></span>                                                                                                                                                                                          |
|----------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="1bdea-128">150</span><span class="sxs-lookup"><span data-stu-id="1bdea-128">150</span></span>            | <span data-ttu-id="1bdea-129">Устройства, которые не поддерживают Windows Media DRM.</span><span class="sxs-lookup"><span data-stu-id="1bdea-129">Devices that do not support Windows Media DRM.</span></span> <span data-ttu-id="1bdea-130">Защита DRM удаляется, когда содержимое передается на такое устройство.</span><span class="sxs-lookup"><span data-stu-id="1bdea-130">DRM protection is removed when content is transferred to such a device.</span></span>                                                                                                                                                                                                         | <span data-ttu-id="1bdea-131">Устройства, поддерживающие содержимое на основе Windows Media, но не защищенное содержимое</span><span class="sxs-lookup"><span data-stu-id="1bdea-131">Devices that support Windows Media-based content but not protected content</span></span>                                                                                                                       |
| <span data-ttu-id="1bdea-132">1000</span><span class="sxs-lookup"><span data-stu-id="1bdea-132">1,000</span></span>          | <span data-ttu-id="1bdea-133">Приложения проигрывателя на основе пакета SDK Windows Media Format 9,5 или более ранней версии, которые не соответствуют дополнительным требованиям для уровня 2000. устройства, основанные на переносных устройствах Windows Media DRM v1.</span><span class="sxs-lookup"><span data-stu-id="1bdea-133">Player applications based on the Windows Media Format 9.5 SDK or earlier that do not meet additional requirements for level 2000.Devices based on Windows Media Portable Device DRM v1.</span></span><br/> <span data-ttu-id="1bdea-134">Устройства на базе Windows CE 4,2 и более поздних версий.</span><span class="sxs-lookup"><span data-stu-id="1bdea-134">Devices based on Windows CE 4.2 and later.</span></span><br/>                                                                       | <span data-ttu-id="1bdea-135">Проигрыватель Windows Media 6,4, 7Portable Media Player, поддерживающий переносные устройства с Windows Media DRM версии v1.</span><span class="sxs-lookup"><span data-stu-id="1bdea-135">Windows Media Player 6.4, Windows Media Player 7Portable media devices that support Windows Media Portable Device DRM v1.</span></span><br/>                                                             |
| <span data-ttu-id="1bdea-136">2 000</span><span class="sxs-lookup"><span data-stu-id="1bdea-136">2,000</span></span>          | <span data-ttu-id="1bdea-137">Приложения проигрывателя, основанные на пакете SDK серии Windows Media версии 9 или более поздней версии, и которые следуют более строгим рекомендациям по защите содержимого, чем приложения на уровне 1000. устройства на основе Windows Media DRM 10 для портативных устройств.</span><span class="sxs-lookup"><span data-stu-id="1bdea-137">Player applications that are based on Windows Media Format 9 Series SDK or later, and that follow a stricter set of content protection guidelines than applications at level 1000.Devices based on Windows Media DRM 10 for Portable Devices.</span></span><br/> <span data-ttu-id="1bdea-138">Устройства на основе Windows Media DRM 10 для сетевых устройств.</span><span class="sxs-lookup"><span data-stu-id="1bdea-138">Devices based on Windows Media DRM 10 for Network Devices.</span></span><br/> | <span data-ttu-id="1bdea-139">Устройства мультимедиа Windows Media 9 Series и Латерпортабле, поддерживающие Windows Media DRM 10 для переносных устройств</span><span class="sxs-lookup"><span data-stu-id="1bdea-139">Windows Media Player 9 Series and laterPortable media devices that support Windows Media DRM 10 for Portable Devices</span></span><br/> <span data-ttu-id="1bdea-140">Портативные устройства Media Center на основе Windows Mobile</span><span class="sxs-lookup"><span data-stu-id="1bdea-140">Portable Media Center devices based on Windows Mobile</span></span><br/> |



 

## <a name="build-and-debugging-information"></a><span data-ttu-id="1bdea-141">Сведения о сборке и отладке</span><span class="sxs-lookup"><span data-stu-id="1bdea-141">Build and Debugging Information</span></span>

<span data-ttu-id="1bdea-142">При компоновке с Вмстубдрм. lib не следует связываться с вмвкоре. lib.</span><span class="sxs-lookup"><span data-stu-id="1bdea-142">When you link to WMStubDRM.lib, do NOT link to wmvcore.lib.</span></span> <span data-ttu-id="1bdea-143">Компонент DRM не будет работать должным образом, если приложение ссылается на обе библиотеки.</span><span class="sxs-lookup"><span data-stu-id="1bdea-143">The DRM component will not work properly if the application links to both libraries.</span></span>

<span data-ttu-id="1bdea-144">Точка останова пользователя в компоненте DRM не позволит версиям отладки и выпуска приложений получать доступ к защищенному содержимому при работе в отладчике.</span><span class="sxs-lookup"><span data-stu-id="1bdea-144">A user breakpoint in the DRM component will prevent both debug and release versions of applications from accessing protected content when running inside the debugger.</span></span> <span data-ttu-id="1bdea-145">Для устранения неполадок в приложении, связанных с DRM, необходимо написать собственные подпрограммы трассировки, которые сохраняют такие сведения, как значения **HRESULT** , в некоторый каталог, например в файл журнала.</span><span class="sxs-lookup"><span data-stu-id="1bdea-145">To troubleshoot DRM-related functions in your application, you must write your own trace routines that save information such as **HRESULT** values to some location such as a log file.</span></span>

<span data-ttu-id="1bdea-146">При попытке запустить окончательную версию приложения в системе с установленной отладочной версией пакета SDK (или другим способом) будут возникать ошибки кучи во время воспроизведения содержимого DRM версии 7.</span><span class="sxs-lookup"><span data-stu-id="1bdea-146">If you attempt to run a release version of an application on a system with a debug version of the SDK bits installed (or the other way around), you will encounter heap errors during playback of DRM version 7 content.</span></span> <span data-ttu-id="1bdea-147">Не забудьте запустить отладку приложений по битам пакета SDK для отладки и выпустить приложения по битам выпуска.</span><span class="sxs-lookup"><span data-stu-id="1bdea-147">Be sure to run debug applications over debug SDK bits, and release applications over release bits.</span></span> <span data-ttu-id="1bdea-148">Эта же проблема возникает при запуске отладочной версии пакета SDK с отдельным компонентом DRM (который всегда является сборкой выпуска).</span><span class="sxs-lookup"><span data-stu-id="1bdea-148">The same problem will occur if you run a debug version of the SDK with an individualized DRM component (which is always a release build).</span></span>

<span data-ttu-id="1bdea-149">**Примечания** DRM не поддерживает версию этого пакета SDK на базе x64.</span><span class="sxs-lookup"><span data-stu-id="1bdea-149">**Notes** DRM is not supported by the x64-based version of this SDK.</span></span>

<span data-ttu-id="1bdea-150">Файлы Вмстубдрм. lib, связанные с пакетом SDK для Windows Media Format 9,5, можно использовать только с компонентами Microsoft Visual Studio .NET 2003.</span><span class="sxs-lookup"><span data-stu-id="1bdea-150">The WMStubDRM.lib files that are associated with the Windows Media Format 9.5 SDK can be used only with the components of Microsoft Visual Studio  .NET 2003.</span></span> <span data-ttu-id="1bdea-151">Если вы используете более раннюю версию библиотеки-заглушки, для ее использования нет новых ограничений.</span><span class="sxs-lookup"><span data-stu-id="1bdea-151">If you are using an older version of the stub library, there are no new restrictions for its use.</span></span>

## <a name="related-topics"></a><span data-ttu-id="1bdea-152">См. также</span><span class="sxs-lookup"><span data-stu-id="1bdea-152">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="1bdea-153">**Включение поддержки DRM**</span><span class="sxs-lookup"><span data-stu-id="1bdea-153">**Enabling DRM Support**</span></span>](enabling-drm-support.md)
</dt> </dl>

 

 





