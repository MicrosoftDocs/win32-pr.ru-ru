---
description: Объект плекса тома
ms.assetid: 9e770bfc-2bcb-45f0-a7fc-ba526349839e
title: Объект плекса тома
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 54a858bc6ce98761bb687e8dca473b1b68879da8
ms.sourcegitcommit: 37f276b5d887a3aad04b1ba86e390dea9d87e591
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/04/2021
ms.locfileid: "104350892"
---
# <a name="volume-plex-object"></a><span data-ttu-id="f59a0-103">Объект плекса тома</span><span class="sxs-lookup"><span data-stu-id="f59a0-103">Volume Plex Object</span></span>

<span data-ttu-id="f59a0-104">\[Начиная с Windows 8 и Windows Server 2012, интерфейс COM [службы виртуальных дисков](virtual-disk-service-portal.md) заменяется [API управления хранилищами Windows](/previous-versions/windows/desktop/stormgmt/windows-storage-management-api-portal).\]</span><span class="sxs-lookup"><span data-stu-id="f59a0-104">\[Beginning with Windows 8 and Windows Server 2012, the [Virtual Disk Service](virtual-disk-service-portal.md) COM interface is superseded by the [Windows Storage Management API](/previous-versions/windows/desktop/stormgmt/windows-storage-management-api-portal).\]</span></span>

<span data-ttu-id="f59a0-105">Объект плекса тома моделирует Плекс тома, содержащийся в томе.</span><span class="sxs-lookup"><span data-stu-id="f59a0-105">A volume plex object models a volume plex that is contained by a volume.</span></span> <span data-ttu-id="f59a0-106">Только зеркальный том может иметь несколько плексов; все остальные типы томов имеют один плекс.</span><span class="sxs-lookup"><span data-stu-id="f59a0-106">Only a mirrored volume can have multiple plexes; all other volume types have one plex.</span></span> <span data-ttu-id="f59a0-107">Каждый плекс содержит копию данных на томе.</span><span class="sxs-lookup"><span data-stu-id="f59a0-107">Each plex contains a copy of the data on the volume.</span></span> <span data-ttu-id="f59a0-108">Служба VDS поддерживает четыре типа плексов томов: простой, составной, чередующийся и чередующийся с четностью.</span><span class="sxs-lookup"><span data-stu-id="f59a0-108">VDS supports four volume plex types: simple, spanned, striped, and striped with parity.</span></span> <span data-ttu-id="f59a0-109">Описание каждого из этих типов томов см. в разделе [объект Volume](volume-object.md).</span><span class="sxs-lookup"><span data-stu-id="f59a0-109">For a description of each of these volume types, see the [Volume Object](volume-object.md).</span></span>

<span data-ttu-id="f59a0-110">Существует два способа создания тома с несколькими плексми.</span><span class="sxs-lookup"><span data-stu-id="f59a0-110">There are two ways to create a volume with multiple plexes.</span></span> <span data-ttu-id="f59a0-111">Вы можете использовать метод [**ивдспакк:: креатеволуме**](/windows/desktop/api/Vds/nf-vds-ivdspack-createvolume) для создания зеркального тома напрямую или использовать метод [**Ивдсволуме:: аддплекс**](/windows/desktop/api/Vds/nf-vds-ivdsvolume-addplex) , чтобы добавить один том на другой том.</span><span class="sxs-lookup"><span data-stu-id="f59a0-111">You can use the [**IVdsPack::CreateVolume**](/windows/desktop/api/Vds/nf-vds-ivdspack-createvolume) method to create the mirrored volume directly, or use the [**IVdsVolume::AddPlex**](/windows/desktop/api/Vds/nf-vds-ivdsvolume-addplex) method to add one volume to another volume.</span></span> <span data-ttu-id="f59a0-112">Тома (и базовые диски) должны находиться в одном пакете.</span><span class="sxs-lookup"><span data-stu-id="f59a0-112">The volumes (and the underlying disks) must be in the same pack.</span></span> <span data-ttu-id="f59a0-113">На следующем рисунке показан пример добавления одного тома (B) в качестве плекса в другой том (A) и итогового мультиплексированного тома (A).</span><span class="sxs-lookup"><span data-stu-id="f59a0-113">The following illustration shows an example of adding one volume (B) as a plex to another volume (A), and the resulting multiplexed volume (A).</span></span> <span data-ttu-id="f59a0-114">Данные на томе A остаются неизменными, а данные на томе B становятся зеркальной копией данных на томе а.</span><span class="sxs-lookup"><span data-stu-id="f59a0-114">The data on volume A remains intact, while the data on volume B becomes a mirrored copy of the data on volume A.</span></span>

![Схема, на которой показаны два отдельных плекса, один с простым томом A и одним с простым томом B, равный нескольким плекса с зеркальным томом а.](images/vdsplex.png)

<span data-ttu-id="f59a0-116">Вы можете запросить Плекс томов, вызвав метод [**ивдсволуме:: куериплексес**](/windows/desktop/api/Vds/nf-vds-ivdsvolume-queryplexes) .</span><span class="sxs-lookup"><span data-stu-id="f59a0-116">You can query for volume plexes by invoking the [**IVdsVolume::QueryPlexes**](/windows/desktop/api/Vds/nf-vds-ivdsvolume-queryplexes) method.</span></span> <span data-ttu-id="f59a0-117">Вы можете получить указатель на конкретный Плекс тома, выбрав нужный объект плекса из перечисления, возвращаемого **куериплексес**.</span><span class="sxs-lookup"><span data-stu-id="f59a0-117">You can get a pointer to a specific volume plex by selecting the desired plex object from the enumeration that is returned by **QueryPlexes**.</span></span> <span data-ttu-id="f59a0-118">За исключением последнего плекса, существующие плексов можно разбить или удалить.</span><span class="sxs-lookup"><span data-stu-id="f59a0-118">With the exception of the last plex, existing plexes can be broken or removed.</span></span> <span data-ttu-id="f59a0-119">Используйте [**ивдсволуме:: бреакплекс**](/windows/desktop/api/Vds/nf-vds-ivdsvolume-breakplex) , чтобы разделить Плекс из тома и преобразовать поврежденный объект плекса в объект тома.</span><span class="sxs-lookup"><span data-stu-id="f59a0-119">Use the [**IVdsVolume::BreakPlex**](/windows/desktop/api/Vds/nf-vds-ivdsvolume-breakplex) to split a plex from a volume and convert the broken plex object into a volume object.</span></span> <span data-ttu-id="f59a0-120">Чтобы полностью удалить плекс, используйте [**ивдсволуме:: ремовеплекс**](/windows/desktop/api/Vds/nf-vds-ivdsvolume-removeplex) .</span><span class="sxs-lookup"><span data-stu-id="f59a0-120">Use the [**IVdsVolume::RemovePlex**](/windows/desktop/api/Vds/nf-vds-ivdsvolume-removeplex) to delete the plex altogether.</span></span> <span data-ttu-id="f59a0-121">Можно попытаться восстановить отказоустойчивый плекс, вызвав метод [**ивдсволумеплекс:: Repair**](/windows/desktop/api/Vds/nf-vds-ivdsvolumeplex-repair) , который перемещает недопустимые элементы на хорошие диски.</span><span class="sxs-lookup"><span data-stu-id="f59a0-121">You can attempt to repair a fault-tolerant plex by calling the [**IVdsVolumePlex::Repair**](/windows/desktop/api/Vds/nf-vds-ivdsvolumeplex-repair) method, which moves bad members to good disks.</span></span>

<span data-ttu-id="f59a0-122">В дополнение к идентификатору объекта и типу плекса свойства объекта плекса тома включают состояние, работоспособность и состояние перехода для плекса.</span><span class="sxs-lookup"><span data-stu-id="f59a0-122">In addition to an object identifier and plex type, volume plex object properties include the status, health, and transition state of the plex.</span></span> <span data-ttu-id="f59a0-123">У этого объекта нет флагов.</span><span class="sxs-lookup"><span data-stu-id="f59a0-123">This object has no flags.</span></span>

<span data-ttu-id="f59a0-124">В следующей таблице перечислены связанные интерфейсы, перечисления и структуры.</span><span class="sxs-lookup"><span data-stu-id="f59a0-124">The following table lists related interfaces, enumerations, and structures.</span></span>



| <span data-ttu-id="f59a0-125">Тип</span><span class="sxs-lookup"><span data-stu-id="f59a0-125">Type</span></span>                                              | <span data-ttu-id="f59a0-126">Элемент</span><span class="sxs-lookup"><span data-stu-id="f59a0-126">Element</span></span>                                                                                                                                                                            |
|---------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="f59a0-127">Интерфейсы, которые всегда предоставляются этим объектом</span><span class="sxs-lookup"><span data-stu-id="f59a0-127">Interfaces that are always exposed by this object</span></span> | <span data-ttu-id="f59a0-128">[**Ивдсволумеплекс**](/windows/desktop/api/Vds/nn-vds-ivdsvolumeplex).</span><span class="sxs-lookup"><span data-stu-id="f59a0-128">[**IVdsVolumePlex**](/windows/desktop/api/Vds/nn-vds-ivdsvolumeplex).</span></span>                                                                                                                                          |
| <span data-ttu-id="f59a0-129">Связанные перечисления</span><span class="sxs-lookup"><span data-stu-id="f59a0-129">Associated enumerations</span></span>                           | <span data-ttu-id="f59a0-130">Служба [**VDS \_ \_ \_ Состояние плекса тома**](/windows/desktop/api/Vds/ne-vds-vds_volume_plex_status), [**\_ \_ \_ тип плекса тома VDS**](/windows/desktop/api/Vds/ne-vds-vds_volume_plex_type)и [**\_ \_ \_ тип экстента диска VDS**](/windows/desktop/api/Vds/ne-vds-vds_disk_extent_type).</span><span class="sxs-lookup"><span data-stu-id="f59a0-130">[**VDS\_VOLUME\_PLEX\_STATUS**](/windows/desktop/api/Vds/ne-vds-vds_volume_plex_status), [**VDS\_VOLUME\_PLEX\_TYPE**](/windows/desktop/api/Vds/ne-vds-vds_volume_plex_type), and [**VDS\_DISK\_EXTENT\_TYPE**](/windows/desktop/api/Vds/ne-vds-vds_disk_extent_type).</span></span> |
| <span data-ttu-id="f59a0-131">Связанные структуры</span><span class="sxs-lookup"><span data-stu-id="f59a0-131">Associated structures</span></span>                             | <span data-ttu-id="f59a0-132">Служба [**VDS \_ \_ \_ prop Плекс Volume**](/windows/desktop/api/Vds/ns-vds-vds_volume_plex_prop).</span><span class="sxs-lookup"><span data-stu-id="f59a0-132">[**VDS\_VOLUME\_PLEX\_PROP**](/windows/desktop/api/Vds/ns-vds-vds_volume_plex_prop).</span></span>                                                                                                                           |



 

## <a name="related-topics"></a><span data-ttu-id="f59a0-133">См. также</span><span class="sxs-lookup"><span data-stu-id="f59a0-133">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="f59a0-134">Объекты поставщика программного обеспечения</span><span class="sxs-lookup"><span data-stu-id="f59a0-134">Software Provider Objects</span></span>](software-provider-objects.md)
</dt> <dt>

[<span data-ttu-id="f59a0-135">Объект Volume</span><span class="sxs-lookup"><span data-stu-id="f59a0-135">Volume Object</span></span>](volume-object.md)
</dt> </dl>

 

 
