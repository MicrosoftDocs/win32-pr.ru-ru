---
description: Объект поставщика моделирует программу, отвечающую за управление хранилищем.
ms.assetid: 131e927d-d32a-44f6-8aae-28839cfa9e7d
title: Объект поставщика
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: fb36517f0091776b9429911212610134f31077a2
ms.sourcegitcommit: 37f276b5d887a3aad04b1ba86e390dea9d87e591
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/04/2021
ms.locfileid: "104556094"
---
# <a name="provider-object"></a><span data-ttu-id="1bd97-103">Объект поставщика</span><span class="sxs-lookup"><span data-stu-id="1bd97-103">Provider Object</span></span>

<span data-ttu-id="1bd97-104">\[Начиная с Windows 8 и Windows Server 2012, интерфейс COM [службы виртуальных дисков](virtual-disk-service-portal.md) заменяется [API управления хранилищами Windows](/previous-versions/windows/desktop/stormgmt/windows-storage-management-api-portal).\]</span><span class="sxs-lookup"><span data-stu-id="1bd97-104">\[Beginning with Windows 8 and Windows Server 2012, the [Virtual Disk Service](virtual-disk-service-portal.md) COM interface is superseded by the [Windows Storage Management API](/previous-versions/windows/desktop/stormgmt/windows-storage-management-api-portal).\]</span></span>

<span data-ttu-id="1bd97-105">Объект поставщика моделирует программу, отвечающую за управление хранилищем.</span><span class="sxs-lookup"><span data-stu-id="1bd97-105">The provider object models the program that is responsible for storage management.</span></span> <span data-ttu-id="1bd97-106">Этот объект предоставляет доступ к функциональным возможностям поставщика программного обеспечения и поставщика оборудования.</span><span class="sxs-lookup"><span data-stu-id="1bd97-106">This object provides access to both software provider and hardware provider functionality.</span></span> <span data-ttu-id="1bd97-107">Программы поставщика выполняют операции на устройствах программного обеспечения (тома и диски) и аппаратных устройствах (подсистемы хранения и массивы дисков за контроллерами RAID).</span><span class="sxs-lookup"><span data-stu-id="1bd97-107">Provider programs execute operations on software devices (volumes and disks) and hardware devices (storage subsystems and arrays of drives behind RAID controllers).</span></span>

<span data-ttu-id="1bd97-108">Служба VDS регистрирует объект поставщика в виде COM-объекта в реестре Windows и использует содержащиеся интерфейсы (не агрегаты) для реализации оставшихся объектов, заключив все интерфейсы и методы и условно добавляя функциональные возможности.</span><span class="sxs-lookup"><span data-stu-id="1bd97-108">VDS registers a provider object as a COM object in the Windows Registry and uses contained interfaces (not aggregation) to implement the remaining objects, wrapping all the interfaces and methods and conditionally adding functionality.</span></span> <span data-ttu-id="1bd97-109">Объекты и интерфейсы, обтекаемые объектом поставщика, зависят от типа поставщика.</span><span class="sxs-lookup"><span data-stu-id="1bd97-109">The objects and interfaces that are wrapped by the provider object differ depending on the provider type.</span></span>

<span data-ttu-id="1bd97-110">Нельзя создать экземпляр объекта поставщика непосредственно из приложения.</span><span class="sxs-lookup"><span data-stu-id="1bd97-110">You cannot instantiate a provider object directly from your application.</span></span> <span data-ttu-id="1bd97-111">Вместо этого необходимо запустить службу VDS, получить указатель на объект службы и использовать объект службы для запроса поставщиков, известных узлу.</span><span class="sxs-lookup"><span data-stu-id="1bd97-111">Instead, you must start up VDS, obtain a pointer to a service object, and use the service object to query for the providers known to the host.</span></span> <span data-ttu-id="1bd97-112">Инструкции по загрузке VDS см. в разделе [объекты запуска и службы](startup-and-service-objects.md).</span><span class="sxs-lookup"><span data-stu-id="1bd97-112">For instructions on loading VDS, see [Startup and Service Objects](startup-and-service-objects.md).</span></span>

<span data-ttu-id="1bd97-113">Используйте метод [**ивдссервице:: куерипровидерс**](/windows/desktop/api/Vds/nf-vds-ivdsservice-queryproviders) , чтобы перечислить зарегистрированные программы поставщика на узле.</span><span class="sxs-lookup"><span data-stu-id="1bd97-113">Use the [**IVdsService::QueryProviders**](/windows/desktop/api/Vds/nf-vds-ivdsservice-queryproviders) method to enumerate the registered provider programs on a host.</span></span> <span data-ttu-id="1bd97-114">Первый параметр метода позволяет указать только поставщиков программного обеспечения, только поставщиков оборудования или и то, и другое.</span><span class="sxs-lookup"><span data-stu-id="1bd97-114">The first parameter of the method enables you to specify software providers only, hardware providers only, or both.</span></span> <span data-ttu-id="1bd97-115">С помощью объекта поставщика можно выполнять операции с объектами, управляемыми этим поставщиком.</span><span class="sxs-lookup"><span data-stu-id="1bd97-115">With a provider object, you can perform operations on the objects managed by that provider.</span></span> <span data-ttu-id="1bd97-116">Как показано на следующем рисунке, можно использовать методы, предоставляемые интерфейсом [**ивдссвпровидер**](/windows/desktop/api/Vds/nn-vds-ivdsswprovider) для создания и запроса объектов Pack, связанных с поставщиками программного обеспечения.</span><span class="sxs-lookup"><span data-stu-id="1bd97-116">As the following illustration shows, you can use the methods that are exposed by the [**IVdsSwProvider**](/windows/desktop/api/Vds/nn-vds-ivdsswprovider) interface to create and query pack objects that are associated with software providers.</span></span> <span data-ttu-id="1bd97-117">Аналогичным образом можно использовать методы интерфейса [**ивдшвпровидер**](/windows/desktop/api/Vds/nn-vds-ivdshwprovider) для взаимодействия с объектами подсистемы, связанными с поставщиками оборудования.</span><span class="sxs-lookup"><span data-stu-id="1bd97-117">Likewise, you can use the methods on the [**IVdsHwProvider**](/windows/desktop/api/Vds/nn-vds-ivdshwprovider) interface to interact with the subsystem objects that are associated with hardware providers.</span></span>

![Схема, на которой показано ветвление "приложение" в "поставщики", "Pack" или "подсистема", а затем "шпиндели".](images/vdsproviderobject.png)

<span data-ttu-id="1bd97-119">Свойства объекта включают постоянный идентификатор объекта GUID, представляющий конкретного поставщика, и второй идентификатор GUID, представляющий версию поставщика.</span><span class="sxs-lookup"><span data-stu-id="1bd97-119">Object properties include a persistent GUID object identifier that represents a specific provider and a second GUID that represents the provider version.</span></span> <span data-ttu-id="1bd97-120">Обратите внимание, что другие идентификаторы объектов в объектной модели VDS не являются постоянными.</span><span class="sxs-lookup"><span data-stu-id="1bd97-120">Note that other object identifiers in the VDS object model are non-persistent.</span></span> <span data-ttu-id="1bd97-121">Остальные свойства этого объекта включают имя поставщика, дополнительные сведения о версии, тип поставщика программное обеспечение или оборудование, различные флаги и параметр перестроения приоритета, который применяется только к поставщикам программного обеспечения.</span><span class="sxs-lookup"><span data-stu-id="1bd97-121">The remaining properties for this object include a provider name, additional version information, the provider type software or hardware), various flags, and a rebuild-priority setting that applies only to software providers.</span></span>

<span data-ttu-id="1bd97-122">В следующей таблице перечислены связанные интерфейсы, перечисления и структуры.</span><span class="sxs-lookup"><span data-stu-id="1bd97-122">The following table lists related interfaces, enumerations, and structures</span></span> 

| <span data-ttu-id="1bd97-123">Тип</span><span class="sxs-lookup"><span data-stu-id="1bd97-123">Type</span></span>                                                                                         | <span data-ttu-id="1bd97-124">Элемент</span><span class="sxs-lookup"><span data-stu-id="1bd97-124">Element</span></span>                                                                                                                                                                                                                                                                                        |
|----------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="1bd97-125">Интерфейсы, которые всегда предоставляются этим объектом</span><span class="sxs-lookup"><span data-stu-id="1bd97-125">Interfaces that are always exposed by this object</span></span>                                            | [<span data-ttu-id="1bd97-126">**ивдспровидер**</span><span class="sxs-lookup"><span data-stu-id="1bd97-126">**IVdsProvider**</span></span>](/windows/desktop/api/Vds/nn-vds-ivdsprovider)                                                                                                                                                                                                                                                           |
| <span data-ttu-id="1bd97-127">Интерфейсы, которые всегда предоставляются только поставщиками программного обеспечения</span><span class="sxs-lookup"><span data-stu-id="1bd97-127">Interfaces that are always exposed by software providers only</span></span>                                | [<span data-ttu-id="1bd97-128">**ивдссвпровидер**</span><span class="sxs-lookup"><span data-stu-id="1bd97-128">**IVdsSwProvider**</span></span>](/windows/desktop/api/Vds/nn-vds-ivdsswprovider)                                                                                                                                                                                                                                                       |
| <span data-ttu-id="1bd97-129">Интерфейсы, которые всегда предоставляются только поставщиками оборудования</span><span class="sxs-lookup"><span data-stu-id="1bd97-129">Interfaces that are always exposed by hardware providers only</span></span>                                | [<span data-ttu-id="1bd97-130">**ивдшвпровидер**</span><span class="sxs-lookup"><span data-stu-id="1bd97-130">**IVdsHwProvider**</span></span>](/windows/desktop/api/Vds/nn-vds-ivdshwprovider)                                                                                                                                                                                                                                                       |
| <span data-ttu-id="1bd97-131">Интерфейсы, которые могут предоставляться этим объектом</span><span class="sxs-lookup"><span data-stu-id="1bd97-131">Interfaces that may be exposed by this object</span></span>                                                | [<span data-ttu-id="1bd97-132">**ивдспровидерсуппорт**</span><span class="sxs-lookup"><span data-stu-id="1bd97-132">**IVdsProviderSupport**</span></span>](/windows/desktop/api/Vds/nn-vds-ivdsprovidersupport)                                                                                                                                                                                                                                             |
| <span data-ttu-id="1bd97-133">Интерфейсы, которые могут предоставляться только поставщиками оборудования</span><span class="sxs-lookup"><span data-stu-id="1bd97-133">Interfaces that may be exposed by hardware providers only</span></span>                                    | <span data-ttu-id="1bd97-134">[**Ивдшвпровидертипе**](/windows/desktop/api/Vds/nn-vds-ivdshwprovidertype), [**ивдшвпровидерсторажепулс**](/windows/desktop/api/Vds/nn-vds-ivdshwproviderstoragepools)**Windows Server 2008, windows Vista и Windows Server 2003:** интерфейс [**ивдшвпровидерсторажепулс**](/windows/desktop/api/Vds/nn-vds-ivdshwproviderstoragepools) не поддерживается.</span><span class="sxs-lookup"><span data-stu-id="1bd97-134">[**IVdsHwProviderType**](/windows/desktop/api/Vds/nn-vds-ivdshwprovidertype), [**IVdsHwProviderStoragePools**](/windows/desktop/api/Vds/nn-vds-ivdshwproviderstoragepools)**Windows Server 2008, Windows Vista, and Windows Server 2003:** The [**IVdsHwProviderStoragePools**](/windows/desktop/api/Vds/nn-vds-ivdshwproviderstoragepools) interface is not supported.</span></span><br/> |
| <span data-ttu-id="1bd97-135">Интерфейсы, которые всегда реализуются, но не предоставляются приложениям</span><span class="sxs-lookup"><span data-stu-id="1bd97-135">Interfaces that are always implemented but not exposed to applications</span></span>                       | [<span data-ttu-id="1bd97-136">**ивдспровидерпривате**</span><span class="sxs-lookup"><span data-stu-id="1bd97-136">**IVdsProviderPrivate**</span></span>](/windows/desktop/api/VdsHwPrv/nn-vdshwprv-ivdsproviderprivate)                                                                                                                                                                                                                                             |
| <span data-ttu-id="1bd97-137">Интерфейсы, которые всегда реализуются поставщиками оборудования, но не предоставляются приложениям</span><span class="sxs-lookup"><span data-stu-id="1bd97-137">Interfaces that are always implemented by hardware providers but not exposed to applications</span></span> | [<span data-ttu-id="1bd97-138">**ивдшвпровидерпривате**</span><span class="sxs-lookup"><span data-stu-id="1bd97-138">**IVdsHwProviderPrivate**</span></span>](/windows/desktop/api/VdsHwPrv/nn-vdshwprv-ivdshwproviderprivate)                                                                                                                                                                                                                                         |
| <span data-ttu-id="1bd97-139">Интерфейсы, которые могут быть реализованы поставщиками оборудования, но не доступны для приложений</span><span class="sxs-lookup"><span data-stu-id="1bd97-139">Interfaces that may be implemented by hardware providers but not exposed to applications</span></span>     | [<span data-ttu-id="1bd97-140">**ивдшвпровидерприватемпио**</span><span class="sxs-lookup"><span data-stu-id="1bd97-140">**IVdsHwProviderPrivateMpio**</span></span>](/windows/desktop/api/VdsHwPrv/nn-vdshwprv-ivdshwproviderprivatempio)                                                                                                                                                                                                                                 |
| <span data-ttu-id="1bd97-141">Связанные перечисления</span><span class="sxs-lookup"><span data-stu-id="1bd97-141">Associated enumerations</span></span>                                                                      | <span data-ttu-id="1bd97-142">Служба [**VDS \_ \_Флаг поставщика**](/windows/desktop/api/Vds/ne-vds-vds_provider_flag), [**\_ \_ \_ флаг поставщика запросов VDS**](/windows/desktop/api/Vds/ne-vds-vds_query_provider_flag)и [**\_ \_ тип поставщика службы VDS**](/windows/desktop/api/Vds/ne-vds-vds_provider_type).</span><span class="sxs-lookup"><span data-stu-id="1bd97-142">[**VDS\_PROVIDER\_FLAG**](/windows/desktop/api/Vds/ne-vds-vds_provider_flag), [**VDS\_QUERY\_PROVIDER\_FLAG**](/windows/desktop/api/Vds/ne-vds-vds_query_provider_flag), and [**VDS\_PROVIDER\_TYPE**](/windows/desktop/api/Vds/ne-vds-vds_provider_type).</span></span>                                                                                                                         |
| <span data-ttu-id="1bd97-143">Связанные структуры</span><span class="sxs-lookup"><span data-stu-id="1bd97-143">Associated structures</span></span>                                                                        | <span data-ttu-id="1bd97-144">Нет.</span><span class="sxs-lookup"><span data-stu-id="1bd97-144">None.</span></span>                                                                                                                                                                                                                                                                                          |



 

## <a name="related-topics"></a><span data-ttu-id="1bd97-145">См. также</span><span class="sxs-lookup"><span data-stu-id="1bd97-145">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="1bd97-146">Объектная модель VDS</span><span class="sxs-lookup"><span data-stu-id="1bd97-146">VDS Object Model</span></span>](vds-object-model.md)
</dt> <dt>

[<span data-ttu-id="1bd97-147">Объекты запуска и службы</span><span class="sxs-lookup"><span data-stu-id="1bd97-147">Startup and Service Objects</span></span>](startup-and-service-objects.md)
</dt> <dt>

[<span data-ttu-id="1bd97-148">**Ивдссервице:: Куерипровидерс**</span><span class="sxs-lookup"><span data-stu-id="1bd97-148">**IVdsService::QueryProviders**</span></span>](/windows/desktop/api/Vds/nf-vds-ivdsservice-queryproviders)
</dt> <dt>

[<span data-ttu-id="1bd97-149">**ивдссвпровидер**</span><span class="sxs-lookup"><span data-stu-id="1bd97-149">**IVdsSwProvider**</span></span>](/windows/desktop/api/Vds/nn-vds-ivdsswprovider)
</dt> <dt>

[<span data-ttu-id="1bd97-150">**ивдшвпровидер**</span><span class="sxs-lookup"><span data-stu-id="1bd97-150">**IVdsHwProvider**</span></span>](/windows/desktop/api/Vds/nn-vds-ivdshwprovider)
</dt> </dl>

 

