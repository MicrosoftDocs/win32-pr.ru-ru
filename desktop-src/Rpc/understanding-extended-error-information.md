---
title: Основные сведения о расширенных ошибках
description: Расширенные сведения об ошибках — это массив записей, каждый из которых указывает на передачу кода ошибки через определенный слой в системе или приложении.
ms.assetid: 1b112e49-bdb2-4014-b86d-3c6d8ebe4fcd
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 1b2918caa446f7cee9c4eaa609a5713c9cb385e4
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/16/2019
ms.locfileid: "104068335"
---
# <a name="understanding-extended-error-information"></a><span data-ttu-id="d9859-103">Основные сведения о расширенных ошибках</span><span class="sxs-lookup"><span data-stu-id="d9859-103">Understanding Extended Error Information</span></span>

<span data-ttu-id="d9859-104">Расширенные сведения об ошибках — это массив записей, каждый из которых указывает на передачу кода ошибки через определенный слой в системе или приложении.</span><span class="sxs-lookup"><span data-stu-id="d9859-104">Extended error information is an array of records, each indicating the passing of the error code through a particular layer in the system or application.</span></span> <span data-ttu-id="d9859-105">Если ошибка возникает на компьютере C, так как она вызывается из компьютера B, который, в свою очередь, вызывается из компьютера а, то время выполнения RPC на компьютере C создает одну или несколько записей, описывающих ошибку, и передает их на компьютер B. на компьютере B можно добавить одну или несколько записей в заголовок существующей цепочки и передать полную цепь в. Может добавить одну или несколько записей, а также отобразить или записать информацию.</span><span class="sxs-lookup"><span data-stu-id="d9859-105">If an error occurs on a machine C, as it is called from machine B, which in turn is called from machine A, the RPC run time on machine C generates one or more records describing the error, and passes them to machine B. Machine B can add one or more records to the head of the existing chain, and passes the full chain to A. A can add one or more records, and display or log the information.</span></span> <span data-ttu-id="d9859-106">По сути, расширенная цепочка ошибок представляет журнал ошибки.</span><span class="sxs-lookup"><span data-stu-id="d9859-106">Essentially, then, the extended error chain represents the history of the error.</span></span>

<span data-ttu-id="d9859-107">Расширенные сведения об ошибке не заменяют код ошибки ( \_ \_ \* код состояния RPC S).</span><span class="sxs-lookup"><span data-stu-id="d9859-107">Extended error information does not replace the error code (the RPC\_S\_\* status code).</span></span> <span data-ttu-id="d9859-108">Независимо от того, сколько или какие расширенные сведения об ошибке создаются, код ошибки остается неизменным.</span><span class="sxs-lookup"><span data-stu-id="d9859-108">Regardless of how much or whether extended error information is generated, the error code remains unchanged.</span></span>

<span data-ttu-id="d9859-109">Каждая Расширенная запись сведений об ошибке содержит следующее.</span><span class="sxs-lookup"><span data-stu-id="d9859-109">Each extended error information record contains the following.</span></span> <span data-ttu-id="d9859-110">Дополнительные сведения см. в разделе " [**\_ Расширенные сведения \_ об \_ ошибке RPC**](/windows/win32/api/rpcasync/ns-rpcasync-rpc_extended_error_info) ":</span><span class="sxs-lookup"><span data-stu-id="d9859-110">Please see [**RPC\_EXTENDED\_ERROR\_INFO**](/windows/win32/api/rpcasync/ns-rpcasync-rpc_extended_error_info) for more information:</span></span>

-   <span data-ttu-id="d9859-111">ComputerName — это неполное DNS-имя компьютера, на котором возникла ошибка.</span><span class="sxs-lookup"><span data-stu-id="d9859-111">ComputerName—this is the non-qualified DNS name of the computer on which the error originated.</span></span> <span data-ttu-id="d9859-112">Эти сведения имеют только записи на границах компьютера.</span><span class="sxs-lookup"><span data-stu-id="d9859-112">Only records on machine boundaries have this information.</span></span> <span data-ttu-id="d9859-113">Например, в сценарии, описанном ранее с компьютерами A, B и C, ComputerName определяется для следующих полей:</span><span class="sxs-lookup"><span data-stu-id="d9859-113">For example, in the scenario described earlier with machines A, B, and C, the ComputerName is defined for the following fields:</span></span>

    | <span data-ttu-id="d9859-114">Record</span><span class="sxs-lookup"><span data-stu-id="d9859-114">Record</span></span>                            | <span data-ttu-id="d9859-115">Поле ComputerName</span><span class="sxs-lookup"><span data-stu-id="d9859-115">ComputerName field</span></span> |
    |-----------------------------------|--------------------|
    | <span data-ttu-id="d9859-116">Запись \# 1, созданная на компьютере C</span><span class="sxs-lookup"><span data-stu-id="d9859-116">Record \#1 generated by machine C</span></span> | \-                 |
    | <span data-ttu-id="d9859-117">Запись \# 2, созданная на компьютере C</span><span class="sxs-lookup"><span data-stu-id="d9859-117">Record \#2 generated by machine C</span></span> | \-                 |
    | <span data-ttu-id="d9859-118">Запись \# 3, созданная на компьютере C</span><span class="sxs-lookup"><span data-stu-id="d9859-118">Record \#3 generated by machine C</span></span> | <span data-ttu-id="d9859-119">C</span><span class="sxs-lookup"><span data-stu-id="d9859-119">C</span></span>                  |
    | <span data-ttu-id="d9859-120">Запись \# 1, созданная компьютером B</span><span class="sxs-lookup"><span data-stu-id="d9859-120">Record \#1 generated by machine B</span></span> | \-                 |
    | <span data-ttu-id="d9859-121">Запись \# 2, созданная компьютером б</span><span class="sxs-lookup"><span data-stu-id="d9859-121">Record \#2 generated by machine B</span></span> | \-                 |
    | <span data-ttu-id="d9859-122">Запись \# 3, созданная компьютером б</span><span class="sxs-lookup"><span data-stu-id="d9859-122">Record \#3 generated by machine B</span></span> | <span data-ttu-id="d9859-123">B</span><span class="sxs-lookup"><span data-stu-id="d9859-123">B</span></span>                  |
    | <span data-ttu-id="d9859-124">Запись \# 1, созданная компьютером A</span><span class="sxs-lookup"><span data-stu-id="d9859-124">Record \#1 generated by machine A</span></span> | \-                 |
    | <span data-ttu-id="d9859-125">Запись \# 2, созданная компьютером A</span><span class="sxs-lookup"><span data-stu-id="d9859-125">Record \#2 generated by machine A</span></span> | \-                 |
    | <span data-ttu-id="d9859-126">Запись \# 3, созданная компьютером A</span><span class="sxs-lookup"><span data-stu-id="d9859-126">Record \#3 generated by machine A</span></span> | \-                 |
    | <span data-ttu-id="d9859-127">Заголовок цепочки</span><span class="sxs-lookup"><span data-stu-id="d9859-127">Head of the chain</span></span>                 |                    |

    

     

<!-- -->

-   <span data-ttu-id="d9859-128">ProcessID — идентификатор процесса, вызвавшего ошибку.</span><span class="sxs-lookup"><span data-stu-id="d9859-128">ProcessID—process identifier of the process that generated the error.</span></span>
-   <span data-ttu-id="d9859-129">TimeStamp — время возникновения ошибки, выраженное в формате UTC.</span><span class="sxs-lookup"><span data-stu-id="d9859-129">TimeStamp—time when the error occurred, expressed in UTC format.</span></span>
-   <span data-ttu-id="d9859-130">Создание компонента — целочисленное определение кода логического компонента, вызвавшего ошибку.</span><span class="sxs-lookup"><span data-stu-id="d9859-130">Generating Component—integer code definition of the logical component that generated the error.</span></span> <span data-ttu-id="d9859-131">В настоящее время определены следующие компоненты:</span><span class="sxs-lookup"><span data-stu-id="d9859-131">The following components are currently defined:</span></span>

    | <span data-ttu-id="d9859-132">Код</span><span class="sxs-lookup"><span data-stu-id="d9859-132">Code</span></span> | <span data-ttu-id="d9859-133">Имя</span><span class="sxs-lookup"><span data-stu-id="d9859-133">Name</span></span>              | <span data-ttu-id="d9859-134">Описание</span><span class="sxs-lookup"><span data-stu-id="d9859-134">Description</span></span>                                                                                                                                                                           |
    |------|-------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
    | <span data-ttu-id="d9859-135">1</span><span class="sxs-lookup"><span data-stu-id="d9859-135">1</span></span>    | <span data-ttu-id="d9859-136">Приложение</span><span class="sxs-lookup"><span data-stu-id="d9859-136">Application</span></span>       | <span data-ttu-id="d9859-137">Компонент, которому принадлежит подпрограммы диспетчера для конкретного вызова RPC</span><span class="sxs-lookup"><span data-stu-id="d9859-137">The component owning the manager routine for the particular RPC call</span></span>                                                                                                                  |
    | <span data-ttu-id="d9859-138">2</span><span class="sxs-lookup"><span data-stu-id="d9859-138">2</span></span>    | <span data-ttu-id="d9859-139">Параметры выполнения</span><span class="sxs-lookup"><span data-stu-id="d9859-139">Runtime</span></span>           | <span data-ttu-id="d9859-140">Время выполнения RPC</span><span class="sxs-lookup"><span data-stu-id="d9859-140">The RPC run time</span></span>                                                                                                                                                                      |
    | <span data-ttu-id="d9859-141">3</span><span class="sxs-lookup"><span data-stu-id="d9859-141">3</span></span>    | <span data-ttu-id="d9859-142">Поставщик безопасности</span><span class="sxs-lookup"><span data-stu-id="d9859-142">Security Provider</span></span> | <span data-ttu-id="d9859-143">Поставщик безопасности для этого вызова.</span><span class="sxs-lookup"><span data-stu-id="d9859-143">The security provider for this call.</span></span>                                                                                                                                                  |
    | <span data-ttu-id="d9859-144">4</span><span class="sxs-lookup"><span data-stu-id="d9859-144">4</span></span>    | <span data-ttu-id="d9859-145">нпфс</span><span class="sxs-lookup"><span data-stu-id="d9859-145">NPFS</span></span>              | <span data-ttu-id="d9859-146">Файловая система НПФС</span><span class="sxs-lookup"><span data-stu-id="d9859-146">The NPFS file system</span></span>                                                                                                                                                                  |
    | <span data-ttu-id="d9859-147">5</span><span class="sxs-lookup"><span data-stu-id="d9859-147">5</span></span>    | <span data-ttu-id="d9859-148">Е</span><span class="sxs-lookup"><span data-stu-id="d9859-148">RDR</span></span>               | <span data-ttu-id="d9859-149">Перенаправитель</span><span class="sxs-lookup"><span data-stu-id="d9859-149">The Redirector</span></span>                                                                                                                                                                        |
    | <span data-ttu-id="d9859-150">6</span><span class="sxs-lookup"><span data-stu-id="d9859-150">6</span></span>    | <span data-ttu-id="d9859-151">NВЕРСИЯ пакета управления</span><span class="sxs-lookup"><span data-stu-id="d9859-151">NMP</span></span>               | <span data-ttu-id="d9859-152">Система именованных каналов.</span><span class="sxs-lookup"><span data-stu-id="d9859-152">The named pipe system.</span></span> <span data-ttu-id="d9859-153">Это может быть либо НПФС, либо RDR, но во многих случаях время выполнения RPC не знает, кто выполнил запрошенную операцию, а в таких случаях NВЕРСИЯ пакета управления возвращается.</span><span class="sxs-lookup"><span data-stu-id="d9859-153">This can be either NPFS or RDR, but in many cases the RPC run time does not know who performed the requested the operation, and in such cases NMP is returned.</span></span> |
    | <span data-ttu-id="d9859-154">7</span><span class="sxs-lookup"><span data-stu-id="d9859-154">7</span></span>    | <span data-ttu-id="d9859-155">IO</span><span class="sxs-lookup"><span data-stu-id="d9859-155">IO</span></span>                | <span data-ttu-id="d9859-156">Система ввода-вывода или драйвер, используемый системой ввода-вывода.</span><span class="sxs-lookup"><span data-stu-id="d9859-156">The IO system or a driver used by the IO system.</span></span> <span data-ttu-id="d9859-157">Это может быть либо НПФС, RDR, либо поставщик Winsock.</span><span class="sxs-lookup"><span data-stu-id="d9859-157">This can be either NPFS, RDR, or a Winsock provider.</span></span>                                                                                 |
    | <span data-ttu-id="d9859-158">8</span><span class="sxs-lookup"><span data-stu-id="d9859-158">8</span></span>    | <span data-ttu-id="d9859-159">Winsock</span><span class="sxs-lookup"><span data-stu-id="d9859-159">Winsock</span></span>           | <span data-ttu-id="d9859-160">Поставщик Winsock</span><span class="sxs-lookup"><span data-stu-id="d9859-160">The Winsock provider</span></span>                                                                                                                                                                  |
    | <span data-ttu-id="d9859-161">9</span><span class="sxs-lookup"><span data-stu-id="d9859-161">9</span></span>    | <span data-ttu-id="d9859-162">Код авторизации</span><span class="sxs-lookup"><span data-stu-id="d9859-162">Authz code</span></span>        | <span data-ttu-id="d9859-163">API авторизации.</span><span class="sxs-lookup"><span data-stu-id="d9859-163">The Authorization APIs.</span></span>                                                                                                                                                               |
    | <span data-ttu-id="d9859-164">10</span><span class="sxs-lookup"><span data-stu-id="d9859-164">10</span></span>   | <span data-ttu-id="d9859-165">ВЫЗОВА</span><span class="sxs-lookup"><span data-stu-id="d9859-165">LPC</span></span>               | <span data-ttu-id="d9859-166">Средство вызова локальной процедуры.</span><span class="sxs-lookup"><span data-stu-id="d9859-166">The Local Procedure Call facility.</span></span>                                                                                                                                                    |

    

     

<!-- -->

-   <span data-ttu-id="d9859-167">Состояние — код ошибки, сформированный или возвращенный слоем.</span><span class="sxs-lookup"><span data-stu-id="d9859-167">Status—error code generated or returned by the layer</span></span>
-   <span data-ttu-id="d9859-168">Детектионлокатион — уникальный номер, определяющий расположение кода, в котором была обнаружена ошибка.</span><span class="sxs-lookup"><span data-stu-id="d9859-168">DetectionLocation—unique number identifying the location of the code where the error was detected.</span></span> <span data-ttu-id="d9859-169">Это поле привязано к коду и изменится с версии на версию.</span><span class="sxs-lookup"><span data-stu-id="d9859-169">This field is tied to the code, and will change from version to version.</span></span> <span data-ttu-id="d9859-170">Будет опубликован отдельный список наиболее часто встречающихся расположений обнаружения.</span><span class="sxs-lookup"><span data-stu-id="d9859-170">A separate list of the most commonly encountered detection locations will be published.</span></span>
-   <span data-ttu-id="d9859-171">Flags — флаги, указывающие сведения о записи.</span><span class="sxs-lookup"><span data-stu-id="d9859-171">Flags—flags specifying information about the record.</span></span> <span data-ttu-id="d9859-172">В настоящее время определены флаги Иинфопревиаусрекордсмиссинг и Иинфонекстрекордсмиссинг, соответствующие числовым значениям 1 и 2 соответственно.</span><span class="sxs-lookup"><span data-stu-id="d9859-172">The currently defined flags are EEInfoPreviousRecordsMissing and EEInfoNextRecordsMissing, corresponding to numeric values 1 and 2, respectively.</span></span> <span data-ttu-id="d9859-173">Если задано значение Иинфопревиаусрекордсмиссинг, то одна или несколько записей, прежде чем эта запись будет отсутствовать.</span><span class="sxs-lookup"><span data-stu-id="d9859-173">If EEInfoPreviousRecordsMissing is set, one or more records before that record is missing.</span></span> <span data-ttu-id="d9859-174">Если задано значение Иинфонекстрекордсмиссинг, то одна или несколько записей после этой записи отсутствуют.</span><span class="sxs-lookup"><span data-stu-id="d9859-174">If EEInfoNextRecordsMissing is set, one or more records after that record are missing.</span></span> <span data-ttu-id="d9859-175">Описание причин отсутствия записей см. в разделе [надежность расширенных сведений об ошибках](reliability-of-extended-error-information.md).</span><span class="sxs-lookup"><span data-stu-id="d9859-175">For description of why records may be missing, see [Reliability of Extended Error Information](reliability-of-extended-error-information.md).</span></span>
-   <span data-ttu-id="d9859-176">До четырех параметров ошибки.</span><span class="sxs-lookup"><span data-stu-id="d9859-176">Up to four error parameters.</span></span> <span data-ttu-id="d9859-177">Параметр ошибки — это упрощенная структура Variant, предоставляющая дополнительные сведения об ошибке.</span><span class="sxs-lookup"><span data-stu-id="d9859-177">An error parameter is a lightweight variant structure providing additional information about the error.</span></span> <span data-ttu-id="d9859-178">Дополнительные сведения зависят от ошибки и расположения обнаружения.</span><span class="sxs-lookup"><span data-stu-id="d9859-178">The additional information is dependent upon the error and the detection location.</span></span> <span data-ttu-id="d9859-179">Параметры могут иметь тип строки ANSI (LPSTR), строку Юникода (LPWSTR), длинное значение (Long), короткое значение (Short), указатель (Int64) или None.</span><span class="sxs-lookup"><span data-stu-id="d9859-179">The parameters can be of type ANSI string (LPSTR), Unicode String (LPWSTR), long value (long), short value (short), pointer (int64), or none.</span></span>

 

 




