---
title: Основные сведения о расширенных ошибках
description: Расширенные сведения об ошибках — это массив записей, каждый из которых указывает на передачу кода ошибки через определенный слой в системе или приложении.
ms.assetid: 1b112e49-bdb2-4014-b86d-3c6d8ebe4fcd
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: e003214198b06f04479ec4c1a8d23cb1acedafda49eefcf2880741416901323e
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119011062"
---
# <a name="understanding-extended-error-information"></a>Основные сведения о расширенных ошибках

Расширенные сведения об ошибках — это массив записей, каждый из которых указывает на передачу кода ошибки через определенный слой в системе или приложении. Если ошибка возникает на компьютере C, так как она вызывается из компьютера б, который вызывается из компьютера а, то во время выполнения RPC на компьютере C создается одна или несколько записей, описывающих ошибку, и передает их на компьютер B. на компьютере B можно добавить одну или несколько записей в заголовок существующей цепочки.  и передает полную цепь в. Может добавить одну или несколько записей, а также отобразить или записать информацию. По сути, расширенная цепочка ошибок представляет журнал ошибки.

Расширенные сведения об ошибке не заменяют код ошибки ( \_ \_ \* код состояния RPC S). Независимо от того, сколько или какие расширенные сведения об ошибке создаются, код ошибки остается неизменным.

Каждая Расширенная запись сведений об ошибке содержит следующее. Дополнительные сведения см. в разделе " [**\_ Расширенные сведения \_ об \_ ошибке RPC**](/windows/win32/api/rpcasync/ns-rpcasync-rpc_extended_error_info) ":

-   ComputerName — это неполное DNS-имя компьютера, на котором возникла ошибка. Эти сведения имеют только записи на границах компьютера. Например, в сценарии, описанном ранее с компьютерами A, B и C, ComputerName определяется для следующих полей:

    | Record                            | Поле ComputerName |
    |-----------------------------------|--------------------|
    | Запись \# 1, созданная на компьютере C | \-                 |
    | Запись \# 2, созданная на компьютере C | \-                 |
    | Запись \# 3, созданная на компьютере C | C                  |
    | Запись \# 1, созданная компьютером B | \-                 |
    | Запись \# 2, созданная компьютером б | \-                 |
    | Запись \# 3, созданная компьютером б | B                  |
    | Запись \# 1, созданная компьютером A | \-                 |
    | Запись \# 2, созданная компьютером A | \-                 |
    | Запись \# 3, созданная компьютером A | \-                 |
    | Заголовок цепочки                 |                    |

    

     

<!-- -->

-   ProcessID — идентификатор процесса, вызвавшего ошибку.
-   TimeStamp — время возникновения ошибки, выраженное в формате UTC.
-   Создание компонента — целочисленное определение кода логического компонента, вызвавшего ошибку. В настоящее время определены следующие компоненты:

    | Код | Имя              | Описание                                                                                                                                                                           |
    |------|-------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
    | 1    | Приложение       | Компонент, которому принадлежит подпрограммы диспетчера для конкретного вызова RPC                                                                                                                  |
    | 2    | Параметры выполнения           | Время выполнения RPC                                                                                                                                                                      |
    | 3    | Поставщик безопасности | Поставщик безопасности для этого вызова.                                                                                                                                                  |
    | 4    | нпфс              | Файловая система НПФС                                                                                                                                                                  |
    | 5    | Е               | Перенаправитель                                                                                                                                                                        |
    | 6    | NВЕРСИЯ пакета управления               | Система именованных каналов. Это может быть либо НПФС, либо RDR, но во многих случаях время выполнения RPC не знает, кто выполнил запрошенную операцию, а в таких случаях NВЕРСИЯ пакета управления возвращается. |
    | 7    | IO                | Система ввода-вывода или драйвер, используемый системой ввода-вывода. Это может быть либо НПФС, RDR, либо поставщик Winsock.                                                                                 |
    | 8    | Winsock           | Поставщик Winsock                                                                                                                                                                  |
    | 9    | Код авторизации        | API авторизации.                                                                                                                                                               |
    | 10   | ВЫЗОВА               | Средство вызова локальной процедуры.                                                                                                                                                    |

    

     

<!-- -->

-   Состояние — код ошибки, сформированный или возвращенный слоем.
-   Детектионлокатион — уникальный номер, определяющий расположение кода, в котором была обнаружена ошибка. Это поле привязано к коду и изменится с версии на версию. Будет опубликован отдельный список наиболее часто встречающихся расположений обнаружения.
-   Flags — флаги, указывающие сведения о записи. В настоящее время определены флаги Иинфопревиаусрекордсмиссинг и Иинфонекстрекордсмиссинг, соответствующие числовым значениям 1 и 2 соответственно. Если задано значение Иинфопревиаусрекордсмиссинг, то одна или несколько записей, прежде чем эта запись будет отсутствовать. Если задано значение Иинфонекстрекордсмиссинг, то одна или несколько записей после этой записи отсутствуют. Описание причин отсутствия записей см. в разделе [надежность расширенных сведений об ошибках](reliability-of-extended-error-information.md).
-   До четырех параметров ошибки. Параметр ошибки — это упрощенная структура Variant, предоставляющая дополнительные сведения об ошибке. Дополнительные сведения зависят от ошибки и расположения обнаружения. Параметры могут иметь тип строки ANSI (LPSTR), строку Юникода (LPWSTR), длинное значение (Long), короткое значение (Short), указатель (Int64) или None.

 

 




