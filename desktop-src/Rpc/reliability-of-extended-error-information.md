---
title: Надежность расширенных сведений об ошибках
description: Расширенные сведения об ошибках ненадежны.
ms.assetid: d4735a7b-ede0-4230-b10a-bf9772aca6a6
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: c20edfbaa68f2a9ce80893f4f47bba33ec5ce595
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/16/2019
ms.locfileid: "103772860"
---
# <a name="reliability-of-extended-error-information"></a><span data-ttu-id="cff6b-103">Надежность расширенных сведений об ошибках</span><span class="sxs-lookup"><span data-stu-id="cff6b-103">Reliability of Extended Error Information</span></span>

<span data-ttu-id="cff6b-104">Расширенные сведения об ошибках ненадежны.</span><span class="sxs-lookup"><span data-stu-id="cff6b-104">Extended error information is not reliable.</span></span> <span data-ttu-id="cff6b-105">Расширенные сведения об ошибках нельзя использовать для создания логики кода.</span><span class="sxs-lookup"><span data-stu-id="cff6b-105">Extended error information cannot be used for building code logic.</span></span> <span data-ttu-id="cff6b-106">Рекомендуется проверить наличие расширенных сведений об ошибке и, если нужно, сохранить или записать эти сведения в журнал.</span><span class="sxs-lookup"><span data-stu-id="cff6b-106">It is appropriate to check for the presence of extended error information, and if there, to dump, save, or log that information.</span></span> <span data-ttu-id="cff6b-107">Но не полагайтесь на информацию или ее содержимое.</span><span class="sxs-lookup"><span data-stu-id="cff6b-107">But do not rely on the information or its contents.</span></span>

<span data-ttu-id="cff6b-108">Следующие причины объясняют, почему расширенные сведения об ошибках ненадежны:</span><span class="sxs-lookup"><span data-stu-id="cff6b-108">The following reasons explain why extended error information is not reliable:</span></span>

-   <span data-ttu-id="cff6b-109">Последовательность и содержимое расширенных записей об ошибках зависит от внутренней архитектуры системы, которая может быть изменена.</span><span class="sxs-lookup"><span data-stu-id="cff6b-109">The sequence and contents of the extended error records depends on the internal architecture of the system, which is subject to change.</span></span> <span data-ttu-id="cff6b-110">Определенная операция может проходить через НПФС в текущих системах, но завтра можно пройти по протоколу TCP.</span><span class="sxs-lookup"><span data-stu-id="cff6b-110">A certain operation may go through NPFS on current systems, but tomorrow could go through TCP.</span></span> <span data-ttu-id="cff6b-111">Эти различные компоненты создают самые разные коды ошибок, и поэтому проверки кода по своей природе являются ненадежными и не рекомендуются.</span><span class="sxs-lookup"><span data-stu-id="cff6b-111">These different components generate very different error codes, and code checks therefore are inherently unreliable and not recommended.</span></span>
-   <span data-ttu-id="cff6b-112">Распространение расширенных сведений об ошибках можно отключить, как описано выше.</span><span class="sxs-lookup"><span data-stu-id="cff6b-112">The propagation of extended error information can be disabled, as explained previously.</span></span> <span data-ttu-id="cff6b-113">Если включен код обнаружения, приложение, скорее всего, перестанет работать в определенных средах.</span><span class="sxs-lookup"><span data-stu-id="cff6b-113">If detection code is included, the application will likely stop working in certain environments.</span></span>
-   <span data-ttu-id="cff6b-114">Распространение расширенных сведений об ошибках выполняется наилучшим образом.</span><span class="sxs-lookup"><span data-stu-id="cff6b-114">The propagation of extended error information is performed in a best effort manner.</span></span> <span data-ttu-id="cff6b-115">Распространение или генерация расширенных сведений об ошибках может завершиться неудачей, если на компьютере не хватает памяти для обработки или распространения цепочки.</span><span class="sxs-lookup"><span data-stu-id="cff6b-115">Propagation or generation of extended error information can fail if there isn't enough memory on the computer to process or propagate the chain.</span></span> <span data-ttu-id="cff6b-116">В таких обстоятельствах цепочка будет удалена.</span><span class="sxs-lookup"><span data-stu-id="cff6b-116">Under such circumstances, the chain will be dropped.</span></span> <span data-ttu-id="cff6b-117">Некоторые протоколы имеют ограниченную длину для пакетов ошибок, так как обычно они не содержат много информации.</span><span class="sxs-lookup"><span data-stu-id="cff6b-117">Some protocols have limited lengths for fault packets since they usually don't include much information.</span></span> <span data-ttu-id="cff6b-118">Если длина цепочки превышает допустимую длину пакета, то время выполнения RPC начинает удалять сведения из цепочки в попытке поместить ее в пакет.</span><span class="sxs-lookup"><span data-stu-id="cff6b-118">If the length of the chain exceeds the allowed length of the packet, the RPC run time begins dropping information from the chain in an attempt to fit the chain into the packet.</span></span> <span data-ttu-id="cff6b-119">Во время выполнения сначала удаляются записи, начиная с записи предпоследнего, до тех пор, пока не останутся только первая и последняя записи.</span><span class="sxs-lookup"><span data-stu-id="cff6b-119">The run time first drops records, starting from the penultimate record, going backwards, until only the first and last records remain.</span></span> <span data-ttu-id="cff6b-120">Если цепочка по-прежнему не умещается в пакет, то во время выполнения удаляются строковые параметры и имена компьютеров.</span><span class="sxs-lookup"><span data-stu-id="cff6b-120">If the chain still doesn't fit into a packet, the run time drops string parameters and computer names.</span></span> <span data-ttu-id="cff6b-121">Если строковый параметр удален, то для типа параметра устанавливается значение None.</span><span class="sxs-lookup"><span data-stu-id="cff6b-121">If a string parameter is dropped, the type of the parameter is set to none.</span></span> <span data-ttu-id="cff6b-122">Если запись удаляется, в следующей записи устанавливается флаг Иинфонекстрекордсмиссинг, а в предыдущей записи задается Иинфопревиаусрекордсмиссинг.</span><span class="sxs-lookup"><span data-stu-id="cff6b-122">If a record is dropped, the EEInfoNextRecordsMissing flag is set in the next record, and EEInfoPreviousRecordsMissing is set in the previous record.</span></span>

 

 




