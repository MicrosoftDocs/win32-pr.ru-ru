---
title: Ссылочные указатели
description: Ссылочные указатели — это самые простые указатели, требующие минимального объема обработки клиентской заглушкой.
ms.assetid: 393aec84-8e8f-41b9-956f-d28a80d3a8c4
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 6338b1017f05bdf004fee2b288c4eae1ee9775eaa2ad225d5f4b6afa3e74d8ea
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "118927043"
---
# <a name="reference-pointers"></a>Ссылочные указатели

Ссылочные указатели — это самые простые указатели, требующие минимального объема обработки клиентской заглушкой. Когда клиентская программа передает указатель ссылки на удаленную процедуру, указатель ссылки всегда содержит адрес допустимого блока памяти. При завершении удаленной процедуры она по-прежнему будет указывать на тот же блок памяти. Эти указатели в основном используются для реализации семантики ссылок и для разрешения параметров \[ [**out**](/windows/desktop/Midl/out-idl) \] в C.

В следующем примере значение указателя не изменяется во время вызова, хотя содержимое данных по адресу, указанному указателем, может измениться.

![изменение данных по адресу статического указателя ссылки](images/prog-a07.png)

Ссылочный указатель имеет следующие характеристики.

-   Он всегда указывает на допустимое хранилище и никогда не имеет значения **null**.
-   Он никогда не изменяется во время вызова и всегда указывает на то же хранилище до и после вызова.
-   Данные, возвращаемые удаленной процедурой, записываются в существующее хранилище.
-   Доступ к хранилищу, на который указывает указатель ссылки, невозможен любым другим указателем или любым другим именем в функции.

Используйте атрибут \[ [**ref**](/windows/desktop/Midl/ref) \] для указания ссылочных указателей в определениях интерфейса, как показано в следующем примере.

``` syntax
/* IDL file */
[ 
  uuid(ba209999-0c6c-11d2-97cf-00c04f8eea45),
  version(1.0)
]
interface RefPtrInterface
{
  void RemoteFn([in, out, ref] char *pChar);
}
```

В этом примере параметр *пчар* определяется как указатель на один символ, а не на массив символов. Это \[ **выходной** \] параметр и указатель на ссылку, указывающий на память, которую Серверная подпрограммы ремотефн будет заполнять данными.

 

 