---
title: Сериализация процедур
description: При использовании сериализации процедуры процедура помечается атрибутом \ Encoded \ или \ дешифровки \. Вместо создания обычной удаленной заглушки компилятор создает заглушку сериализации для подпрограммы.
ms.assetid: 98367b00-696b-44c4-a747-92ecac34ba1e
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 77696761a9aa5fe1471e9ebf24a57303b15d0ff3
ms.sourcegitcommit: de72a1294df274b0a71dc0fdc42d757e5f6df0f3
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/05/2021
ms.locfileid: "104424145"
---
# <a name="procedure-serialization"></a>Сериализация процедур

При использовании сериализации процедуры процедура помечается \[ [](/windows/desktop/Midl/encode) \] атрибутом кодирования или \[ [**декодирования**](/windows/desktop/Midl/decode) \] . Вместо создания обычной удаленной заглушки компилятор создает заглушку сериализации для подпрограммы.

Так же, как Удаленная процедура должна использовать для удаленного вызова маркер привязки, процедура сериализации должна использовать для работы со службами сериализации обработчик сериализации. Если не указан маркер сериализации, для направления вызова используется неявный обработчик по умолчанию. С другой стороны, если указан маркер сериализации либо как явный аргумент [**Handle \_**](/windows/desktop/Midl/handle-t) в подпрограммы, либо с помощью \[ [**явного атрибута \_ Handle**](/windows/desktop/Midl/explicit-handle) \] , необходимо передать допустимый обработчик в качестве аргумента вызова. Дополнительные сведения о создании допустимого дескриптора сериализации см. в статьях [дескрипторы сериализации](serialization-handles.md), [примеры фиксированной кодировки буфера](fixed-buffer-serialization.md)и [примеры добавочной кодировки](examples-of-incremental-encoding.md).

> [!Note]
> Microsoft RPC позволяет смешивать процедуры удаленной и сериализации в одном интерфейсе. Однако при этом следует соблюдать осторожность.
> 
> Для удаленных процедур с неявными дескрипторами привязки компилятор MIDL создает переменную глобального дескриптора типа [**Handle \_ t**](/windows/desktop/Midl/handle-t). Процедуры и типы с неявными дескрипторами сериализации используют эту же глобальную переменную дескриптора.
> 
> Для неявных дескрипторов в глобальном неявном дескрипторе должен быть задан допустимый дескриптор привязки перед удаленным вызовом. Перед вызовом сериализации неявный обработчик должен быть установлен в допустимый обработчик сериализации. Поэтому процедура не может быть одновременно удаленной и сериализованной. Он должен быть одним или другим.

 

 

 