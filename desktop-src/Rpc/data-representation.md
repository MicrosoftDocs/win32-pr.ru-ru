---
title: Представление данных
description: Вычислительные среды могут значительно различаться, как и сетевые архитектуры.
ms.assetid: 34ba76ae-644d-4168-886f-0909a65f1abd
keywords:
- Удаленный вызов процедур RPC, описание, представление данных
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 4de187f2b646e55cd4f1a269f0504a2d43e951c3
ms.sourcegitcommit: 773fa6257ead6c74154ad3cf46d21e49adc900aa
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/09/2020
ms.locfileid: "103797053"
---
# <a name="data-representation"></a><span data-ttu-id="e0e3b-104">Представление данных</span><span class="sxs-lookup"><span data-stu-id="e0e3b-104">Data Representation</span></span>

<span data-ttu-id="e0e3b-105">Вычислительные среды могут значительно различаться, как и сетевые архитектуры.</span><span class="sxs-lookup"><span data-stu-id="e0e3b-105">Computing environments can differ significantly, as can network architectures.</span></span> <span data-ttu-id="e0e3b-106">Для соответствия этим различиям MIDL позволяет изменить способ представления данных.</span><span class="sxs-lookup"><span data-stu-id="e0e3b-106">To accommodate these differences, MIDL enables you to modify the way you represent data.</span></span> <span data-ttu-id="e0e3b-107">Иногда можно упростить разработку, преобразовав данные в формат, который может быть более легко обработано в приложении.</span><span class="sxs-lookup"><span data-stu-id="e0e3b-107">You can sometimes simplify development by converting data into a format that your application can more easily handle.</span></span> <span data-ttu-id="e0e3b-108">Вы можете изменить формат данных приложения, чтобы он мог быть более эффективно передан по сети.</span><span class="sxs-lookup"><span data-stu-id="e0e3b-108">You can alter your application's data format so that it can be more efficiently transmitted over the network.</span></span>

<span data-ttu-id="e0e3b-109">Атрибуты « **\[** [**передать \_ как**](/windows/desktop/Midl/transmit-as) **\]** » и « **\[** [**представить \_ как**](/windows/desktop/Midl/represent-as) » **\]** указывают компилятору связать тип трансмиссибле, который заглушка передает между клиентом и сервером, с типом пользователя, используемым клиентскими и серверными приложениями.</span><span class="sxs-lookup"><span data-stu-id="e0e3b-109">The **\[**[**transmit\_as**](/windows/desktop/Midl/transmit-as)**\]** and **\[**[**represent\_as**](/windows/desktop/Midl/represent-as)**\]** attributes instruct the compiler to associate a transmissible type that the stub passes between client and server, with a user type that the client and server applications use.</span></span> <span data-ttu-id="e0e3b-110">Необходимо указать подпрограммы, выполняющие преобразование между типом пользователя и типом трансмиссибле, и подпрограммы для освобождения памяти, которая использовалась для хранения преобразованных данных.</span><span class="sxs-lookup"><span data-stu-id="e0e3b-110">You must supply the routines that carry out the conversion between the user type and the transmissible type, and the routines to release the memory that was used to hold the converted data.</span></span> <span data-ttu-id="e0e3b-111">С помощью атрибута " **\[ передать \_ как \]** IDL" или " **\[ представить \_ как \]** ACF" предписывает заглушке вызывать эти подпрограммы преобразования до и после передачи.</span><span class="sxs-lookup"><span data-stu-id="e0e3b-111">Using the **\[transmit\_as\]** IDL attribute or the **\[represent\_as\]** ACF attribute instructs the stub to call these conversion routines before and after transmission.</span></span> <span data-ttu-id="e0e3b-112">Атрибут **\[** [**передать \_ как**](/windows/desktop/Midl/transmit-as) **\]** позволяет преобразовать один тип данных в другой тип данных для передачи по сети.</span><span class="sxs-lookup"><span data-stu-id="e0e3b-112">The **\[**[**transmit\_as**](/windows/desktop/Midl/transmit-as)**\]** attribute lets you convert one data type to another data type for transmission over the network.</span></span> <span data-ttu-id="e0e3b-113">Атрибут **\[** [**представить \_ как**](/windows/desktop/Midl/represent-as) **\]** позволяет управлять способом представления данных из сети для приложения.</span><span class="sxs-lookup"><span data-stu-id="e0e3b-113">The **\[**[**represent\_as**](/windows/desktop/Midl/represent-as)**\]** attribute lets you control the way data from the network is presented to the application.</span></span>

<span data-ttu-id="e0e3b-114">Атрибуты **\[** [**\_ маршалирования**](/windows/desktop/Midl/wire-marshal) **\]** и **\[** [**\_ МАРШАЛИРОВАНИЯ пользователя**](/windows/desktop/Midl/user-marshal) **\]** являются расширениями Майкрософт для IDL использование-DCE.</span><span class="sxs-lookup"><span data-stu-id="e0e3b-114">The **\[**[**wire\_marshal**](/windows/desktop/Midl/wire-marshal)**\]** and **\[**[**user\_marshal**](/windows/desktop/Midl/user-marshal)**\]** attributes are Microsoft extensions to the OSF-DCE IDL.</span></span> <span data-ttu-id="e0e3b-115">Их синтаксис и функциональные возможности похожи на атрибуты, указанные устройством DCE **\[ \_ как \]** , и **\[ представляют их \_ в \] качестве** атрибутов соответственно.</span><span class="sxs-lookup"><span data-stu-id="e0e3b-115">Their syntax and functionality are similar to that of the DCE-specified **\[transmit\_as\]** and **\[represent\_as\]** attributes, respectively.</span></span> <span data-ttu-id="e0e3b-116">Разница заключается в том, что вместо преобразования данных из одного типа в другой данные упаковываются напрямую.</span><span class="sxs-lookup"><span data-stu-id="e0e3b-116">The difference is that, instead of converting the data from one type to another, you marshal the data directly.</span></span> <span data-ttu-id="e0e3b-117">Для этого необходимо предоставить внешние подпрограммы для изменения размера буфера данных на стороне клиента и сервера, а также для упаковки и распаковки данных на стороне клиента и сервера, а также для освобождения данных на сервере.</span><span class="sxs-lookup"><span data-stu-id="e0e3b-117">To do this, you must supply the external routines for sizing the data buffer on the client and server sides, marshaling and unmarshaling the data on the client and server sides, and freeing the data on the server side.</span></span> <span data-ttu-id="e0e3b-118">Компилятор MIDL создает коды форматов, которые предписывает подсистеме NDR вызывать эти внешние подпрограммы при необходимости.</span><span class="sxs-lookup"><span data-stu-id="e0e3b-118">The MIDL compiler generates format codes that instruct the NDR engine to call these external routines when needed.</span></span>

<span data-ttu-id="e0e3b-119">Атрибуты маршалирования и **\[ \_ маршалирования \] пользователя** позволяют маршалировать типы данных, которые в противном случае не могут быть переданы через границы процесса. **\[ \_ \]**</span><span class="sxs-lookup"><span data-stu-id="e0e3b-119">The **\[wire\_marshal\]** and **\[user\_marshal\]** attributes make it possible to marshal data types that otherwise could not be transmitted across process boundaries.</span></span> <span data-ttu-id="e0e3b-120">Кроме того, так как с преобразованием типов связаны менее служебные издержки **\[ \_ \] ,** **\[ \_ \]** при сравнении между **\[ \_ \] передачей** и **\[ представлением \_ \]** можно повысить производительность во время выполнения.</span><span class="sxs-lookup"><span data-stu-id="e0e3b-120">Also, because there is less overhead associated with the type conversion, **\[wire\_marshal\]** and **\[user\_marshal\]** provide improved performance at run time, when compared to **\[transmit\_as\]** and **\[represent\_as\]**.</span></span> <span data-ttu-id="e0e3b-121">Атрибуты взаимного **\[ \_ \] маршалирования** и **\[ \_ маршалирования \] пользователя** являются взаимоисключающими по отношению **\[ \_ \]** друг к другу и **\[ \_ \]** по отношению к атрибутам передачи и представления для данного типа.</span><span class="sxs-lookup"><span data-stu-id="e0e3b-121">The **\[wire\_marshal\]** and **\[user\_marshal\]** attributes are mutually exclusive with respect to each other and with respect to the **\[transmit\_as\]** and **\[represent\_as\]** attributes for a given type.</span></span>

<span data-ttu-id="e0e3b-122">Важно отметить, что реализация **\[ проводных \_ \]** и **\[ пользовательских \_ \]** атрибутов маршалинга должна соответствовать правилам маршалирования, задаваемым спецификацией использование-DCE.</span><span class="sxs-lookup"><span data-stu-id="e0e3b-122">It is important to note that the implementation of the **\[wire\_marshal\]** and **\[user\_marshal\]** attributes must follow the marshalling rules dictated by OSF-DCE specification.</span></span> <span data-ttu-id="e0e3b-123">По этой причине использование этих атрибутов не рекомендуется, если вы не знакомы с протоколом Wire.</span><span class="sxs-lookup"><span data-stu-id="e0e3b-123">For that reason, the use of these attributes is not recommended if you are not familiar with the wire protocol.</span></span> <span data-ttu-id="e0e3b-124">Дополнительные сведения о переносе с помощью синтаксиса ОНД можно найти по адресу [www.Opengroup.org](https://pubs.opengroup.org/onlinepubs/9629399/chap14.htm).</span><span class="sxs-lookup"><span data-stu-id="e0e3b-124">More information regarding the NDR Syntax Transfer can be found at [www.opengroup.org](https://pubs.opengroup.org/onlinepubs/9629399/chap14.htm).</span></span>

<span data-ttu-id="e0e3b-125">В этом разделе приводится краткий обзор для атрибутов MIDL в следующих разделах:</span><span class="sxs-lookup"><span data-stu-id="e0e3b-125">This section provides a brief overview of these for MIDL attributes, in the following topics:</span></span>

-   [<span data-ttu-id="e0e3b-126">**Атрибуты «передать \_ как» и «представить \_ как»**</span><span class="sxs-lookup"><span data-stu-id="e0e3b-126">**The transmit\_as and represent\_as Attributes**</span></span>](the-transmit-as-and-represent-as-attributes.md)
-   [<span data-ttu-id="e0e3b-127">**Атрибуты "проводное \_ маршалирование" и "пользовательское \_ маршалирование"**</span><span class="sxs-lookup"><span data-stu-id="e0e3b-127">**The wire\_marshal and user\_marshal Attributes**</span></span>](the-wire-marshal-and-user-marshal-attributes.md)

 

 