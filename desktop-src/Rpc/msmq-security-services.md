---
title: Службы безопасности MSMQ
description: Синхронные сообщения RPC могут использовать любую из функций безопасности, доступных во время выполнения RPC. Дополнительные сведения см. в разделе Безопасность.
ms.assetid: 0f4d45c4-7457-4449-8736-e141a95f6930
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: ffd2e12cd9f32a571088de769adb079327caab9b
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/20/2020
ms.locfileid: "104134219"
---
# <a name="msmq-security-services"></a>Службы безопасности MSMQ

Синхронные сообщения RPC могут использовать любую из функций безопасности, доступных во время выполнения RPC. Дополнительные сведения см. в разделе [Безопасность](security.md) .

Асинхронные \[ [](/windows/desktop/Midl/message) \] вызовы сообщений не могут использовать безопасность RPC, так как между клиентом и сервером отсутствует подтверждение. На самом деле сервер может даже не работать во время вызова. Для доступа к службам безопасности, предоставляемым службами очередей сообщений (MSMQ), клиентское приложение должно вызывать [**рпкбиндингсетаусинфо**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcbindingsetauthinfo) для управления уровнем проверки подлинности и конфиденциальности для своих вызовов к серверу.

Серверное приложение может вызвать [**рпкбиндингинкаусклиент**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcbindinginqauthclient) из удаленного вызова процедуры, чтобы определить уровень безопасности для этого вызова. В следующей таблице приведены сопоставления между константами безопасности RPC и безопасностью MSMQ.



| Уровень безопасности RPC                | Описание                                                                                |
|-----------------------------------|--------------------------------------------------------------------------------------------|
| \_уровень RPC \_ AUTHN \_ None           | Вызов не прошел проверку подлинности или не зашифрован.                                                |
| \_ \_ \_ целостность PKT RPC уровня AUTHN \_ | Вызов проходит проверку подлинности с помощью MSMQ Security.                                             |
| \_Конфиденциальность RPC \_ уровня AUTHN \_ PKT \_   | Вызов проходит проверку подлинности и шифруется при передаче между очередью клиента и сервера. |



 

Сервер также может принудительно вызывать проверку подлинности и шифрование, вызывая [**рпксерверусепротсекепекс**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserveruseprotseqepex) и устанавливая \_ Флаги RPC c \_ MQ \_ AUTHN \_ уровня \_ None, RPC \_ c \_ MQ \_ AUTHN \_ \_ \_ Integrity и RPC \_ c \_ MQ \_ AUTHN \_ \_ на уровне маркера \_ безопасности в структуре [**\_ политики RPC**](/windows/desktop/api/Rpcdce/ns-rpcdce-rpc_policy) .

 

 