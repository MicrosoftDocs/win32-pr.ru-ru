---
title: Асинхронный RPC
description: Асинхронный удаленный вызов процедур (RPC) — это расширение Майкрософт, которое устраняет ряд ограничений традиционной модели RPC, как определено в Open Software Foundation \ 8211; распределенной вычислительной среде (использование-DCE).
ms.assetid: 2586c10e-8284-419f-a200-4f6b11953688
keywords:
- Удаленный вызов процедур RPC, описание, асинхронный RPC
- асинхронный RPC
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: e36ac79a30fd01aeba1efb3cbd2b7cc741f26238
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/20/2020
ms.locfileid: "104134362"
---
# <a name="asynchronous-rpc"></a><span data-ttu-id="d602d-105">Асинхронный RPC</span><span class="sxs-lookup"><span data-stu-id="d602d-105">Asynchronous RPC</span></span>

<span data-ttu-id="d602d-106">Асинхронный удаленный вызов процедур (RPC) — это расширение Майкрософт, которое устраняет ряд ограничений традиционной модели RPC, как определено в среде Open Software Foundation — распределенных вычислительных средах (использование-DCE).</span><span class="sxs-lookup"><span data-stu-id="d602d-106">Asynchronous Remote Procedure Call (RPC) is a Microsoft extension that addresses several limitations of the traditional RPC model as defined by the Open Software Foundation–Distributed Computing Environment (OSF-DCE).</span></span> <span data-ttu-id="d602d-107">Асинхронный RPC отделяет удаленный вызов процедур от возвращаемого значения, который разрешает следующие ограничения традиционной синхронной RPC:</span><span class="sxs-lookup"><span data-stu-id="d602d-107">Asynchronous RPC separates a remote procedure call from its return value, which resolves the following limitations of traditional, synchronous RPC:</span></span>

-   <span data-ttu-id="d602d-108">**Несколько невыполненных вызовов из однопотокового клиента.**</span><span class="sxs-lookup"><span data-stu-id="d602d-108">**Multiple outstanding calls from a single-threaded client.**</span></span> <span data-ttu-id="d602d-109">В традиционной модели RPC клиент блокируется в удаленном вызове процедуры до тех пор, пока вызов не вернет.</span><span class="sxs-lookup"><span data-stu-id="d602d-109">In the traditional RPC model, a client is blocked in a remote procedure call until the call returns.</span></span> <span data-ttu-id="d602d-110">Это не позволяет клиенту выполнять несколько невыполненных вызовов, в то время как поток по-прежнему доступен для выполнения других задач.</span><span class="sxs-lookup"><span data-stu-id="d602d-110">This prevents a client from having multiple outstanding calls, while still having its thread available to do other work.</span></span>
-   <span data-ttu-id="d602d-111">**Медленные или отложенные клиенты.**</span><span class="sxs-lookup"><span data-stu-id="d602d-111">**Slow or delayed clients.**</span></span> <span data-ttu-id="d602d-112">Клиент, который создает данные с задержкой, может попытаться выполнить удаленный вызов процедуры с начальными данными, а затем предоставить дополнительные данные по мере их создания.</span><span class="sxs-lookup"><span data-stu-id="d602d-112">A client that is slow to produce data may want to make a remote procedure call with initial data and then supply additional data as it is produced.</span></span> <span data-ttu-id="d602d-113">Это невозможно с помощью обычной (синхронной) RPC.</span><span class="sxs-lookup"><span data-stu-id="d602d-113">This is not possible with conventional (synchronous) RPC.</span></span>
-   <span data-ttu-id="d602d-114">**Медленные или отложенные серверы.**</span><span class="sxs-lookup"><span data-stu-id="d602d-114">**Slow or delayed servers.**</span></span> <span data-ttu-id="d602d-115">Вызов удаленной процедуры, который занимает много времени, привлечет поток диспетчеризации на время выполнения задачи.</span><span class="sxs-lookup"><span data-stu-id="d602d-115">A remote procedure call that takes a long time to complete will tie up the dispatch thread for the duration of the task.</span></span> <span data-ttu-id="d602d-116">При использовании асинхронной RPC сервер может запустить отдельную асинхронную операцию для обработки запроса и отправить ответ, когда он будет доступен.</span><span class="sxs-lookup"><span data-stu-id="d602d-116">With asynchronous RPC, the server can start a separate (asynchronous) operation to process the request and send back the reply when it is available.</span></span> <span data-ttu-id="d602d-117">Сервер также может отправлять ответ постепенно по мере того, как результаты становятся доступными без необходимости привязывать поток диспетчеризации на время удаленного вызова.</span><span class="sxs-lookup"><span data-stu-id="d602d-117">The server can also send the reply incrementally as results become available without having to tie up a dispatch thread for the duration of the remote call.</span></span> <span data-ttu-id="d602d-118">Делая клиентское приложение асинхронным, можно предотвратить невозможность привязки клиентского приложения к серверу.</span><span class="sxs-lookup"><span data-stu-id="d602d-118">By making the client application asynchronous, you can prevent a slow server from unnecessarily tying up a client application.</span></span>
-   <span data-ttu-id="d602d-119">**Перенос больших объемов данных.**</span><span class="sxs-lookup"><span data-stu-id="d602d-119">**Transfer of large amounts of data.**</span></span> <span data-ttu-id="d602d-120">Передача больших объемов данных между клиентом и сервером, особенно по медленным каналам связи, связывает как клиентский поток, так и поток диспетчера сервера на время передачи.</span><span class="sxs-lookup"><span data-stu-id="d602d-120">Transferring large amounts of data between the client and server, especially over slow links, ties up both the client thread and the server manager thread for the duration of the transfer.</span></span> <span data-ttu-id="d602d-121">При асинхронной RPC и каналах обмен данными может выполняться постепенно, не блокируя клиент или сервер для выполнения других задач.</span><span class="sxs-lookup"><span data-stu-id="d602d-121">With asynchronous RPC and pipes, data transfer can take place incrementally, and without blocking the client or server from performing other tasks.</span></span>

<span data-ttu-id="d602d-122">Используйте преимущества асинхронных механизмов RPC, объявляя функции с помощью атрибута \[ [**Async**](/windows/desktop/Midl/async) \] .</span><span class="sxs-lookup"><span data-stu-id="d602d-122">You take advantage of asynchronous RPC mechanisms by declaring functions with the \[[**async**](/windows/desktop/Midl/async)\] attribute.</span></span> <span data-ttu-id="d602d-123">Так как вы сделаете это объявление в файле конфигурации атрибута (ACF), нет необходимости вносить изменения в файл языка определения интерфейса (IDL). асинхронный вызов процедур RPC не влияет на протокол передачи данных (как данные передаются между клиентом и сервером).</span><span class="sxs-lookup"><span data-stu-id="d602d-123">Because you make this declaration in an attribute configuration file (ACF), you do not have to make any changes to the Interface Definition Language (IDL) file; asynchronous RPC has no effect on the wire protocol (how the data is transmitted between client and server).</span></span> <span data-ttu-id="d602d-124">Это означает, что синхронные и асинхронные клиенты могут взаимодействовать с асинхронным серверным приложением.</span><span class="sxs-lookup"><span data-stu-id="d602d-124">This means that both synchronous and asynchronous clients can communicate with an asynchronous server application.</span></span>

<span data-ttu-id="d602d-125">В этом разделе представлен обзор способов разработки распределенных приложений с помощью асинхронного вызова процедур RPC.</span><span class="sxs-lookup"><span data-stu-id="d602d-125">This section presents an overview of how to develop distributed applications using asynchronous RPC.</span></span> <span data-ttu-id="d602d-126">Обзор представлен в следующих разделах:</span><span class="sxs-lookup"><span data-stu-id="d602d-126">The overview is presented in the following sections:</span></span>

-   [<span data-ttu-id="d602d-127">Объявление асинхронных функций</span><span class="sxs-lookup"><span data-stu-id="d602d-127">Declaring Asynchronous Functions</span></span>](declaring-asynchronous-functions.md)
-   [<span data-ttu-id="d602d-128">Асинхронный RPC на стороне клиента</span><span class="sxs-lookup"><span data-stu-id="d602d-128">Client-side Asynchronous RPC</span></span>](client-side-asynchronous-rpc.md)
-   [<span data-ttu-id="d602d-129">Асинхронный RPC на стороне сервера</span><span class="sxs-lookup"><span data-stu-id="d602d-129">Server-side Asynchronous RPC</span></span>](server-side-asynchronous-rpc.md)
-   [<span data-ttu-id="d602d-130">Порядок причин асинхронных вызовов</span><span class="sxs-lookup"><span data-stu-id="d602d-130">Causal Ordering of Asynchronous Calls</span></span>](causal-ordering-of-asynchronous-calls.md)
-   [<span data-ttu-id="d602d-131">Обработка ошибок</span><span class="sxs-lookup"><span data-stu-id="d602d-131">Error Handling</span></span>](error-handling.md)
-   [<span data-ttu-id="d602d-132">Асинхронный RPC по протоколу именованных каналов</span><span class="sxs-lookup"><span data-stu-id="d602d-132">Asynchronous RPC Over the Named Pipe Protocol</span></span>](asynchronous-rpc-over-the-named-pipe-protocol.md)
-   [<span data-ttu-id="d602d-133">Использование асинхронного RPC с каналами DCE</span><span class="sxs-lookup"><span data-stu-id="d602d-133">Using Asynchronous RPC with DCE Pipes</span></span>](using-asynchronous-rpc-with-dce-pipes.md)
-   [<span data-ttu-id="d602d-134">Асинхронный DCOM</span><span class="sxs-lookup"><span data-stu-id="d602d-134">Asynchronous DCOM</span></span>](asynchronous-dcom.md)

 

 