---
title: Неявные дескрипторы привязки
description: Неявные дескрипторы привязок позволяют приложению выбрать конкретный сервер для выполнения удаленных вызовов процедур.
ms.assetid: cf4e179b-8d97-4597-89e6-c8967b9db6c7
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 0f5fda8501224d66518ad2e86f13fb769c4b2fa0
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/20/2020
ms.locfileid: "104070114"
---
# <a name="implicit-binding-handles"></a>Неявные дескрипторы привязки

Неявные дескрипторы привязок позволяют приложению выбрать конкретный сервер для выполнения удаленных вызовов процедур. Дополнительные сведения см. в разделе [Привязка на стороне клиента](client-side-binding.md). Они также позволяют клиентской и серверной программе использовать привязку с проверкой подлинности. То есть клиент может указать сведения о проверке подлинности в неявном обработчике привязки. Библиотека времени выполнения RPC использует данные проверки подлинности для установления сеанса RPC с проверкой подлинности между клиентом и сервером. Дополнительные сведения см. в статье [Безопасность](security.md).

> [!Note]  
> Неявные дескрипторы привязки не являются потокобезопасными. Поэтому многопоточные приложения не должны использовать неявные дескрипторы привязки.

 

Если приложение использует неявные привязки, клиент должен задать сведения о привязке, чтобы они могли создать привязку. После того как клиент создаст неявную привязку, ему не нужно передавать никакие дескрипторы привязки удаленным процедурам. Библиотека RPC обрабатывает оставшуюся часть механики сеанса связи.

Клиент сохраняет сведения о привязке для неявного маркера в глобальной переменной. Когда компилятор MIDL создает клиентскую заглушку и файл заголовка из спецификации интерфейса в файле MIDL, он также создает код для переменной универсального обработчика привязки. Клиентская программа инициализирует этот обработчик, а затем не ссылается на него, пока не уничтожит привязку.

Неявный обработчик создается путем указания \[ [**неявного атрибута \_ Handle**](/windows/desktop/Midl/implicit-handle) \] в ACF для интерфейса следующим образом:

``` syntax
/* ACF file (complete) */
 
[
  implicit_handle(handle_t hHello)
]
interface hello
{
}
```

Тип **дескриптора \_ t** , используемый в предыдущем примере, является типом данных MIDL, используемым для определения дескрипторов привязки.

После создания неявного маркера приложение должно использовать его в качестве параметра для функций библиотеки времени выполнения RPC. Не используйте неявный обработчик в качестве параметра для вызовов удаленных процедур. В следующем образце кода показано использование неявных дескрипторов привязки.

``` syntax
RPC_STATUS status;
status = RpcBindingFromStringBinding(
            pszStringBinding,
            &hHello);
 
status = MyRemoteProcedure();
 
status = RpcBindingFree(hHello);
...
```

В предыдущем примере функции библиотеки времени выполнения RPC [**рпкбиндингфромстрингбиндинг**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcbindingfromstringbinding) и [**рпкбиндингфри**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcbindingfree) требовали передачи неявного маркера привязки в списки параметров. Однако Удаленная процедура Миремотепроцедуре не была, так как она не является функцией библиотеки времени выполнения RPC.

 

 