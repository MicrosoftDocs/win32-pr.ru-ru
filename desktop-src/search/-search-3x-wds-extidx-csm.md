---
description: Диспетчер области сканирования (CSM) — это набор интерфейсов, которые предоставляют методы для информирования подсистемы Windows Search о контейнерах для обхода и элементов в этих контейнерах для включения или исключения в каталог.
ms.assetid: 7d65d00a-7294-4718-b593-89394b2e416f
title: Использование диспетчера области сканирования
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: ef79c9e5a2a4b1dda97bf8a8be7bbaa35d5ecd2c
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "104144194"
---
# <a name="using-the-crawl-scope-manager"></a>Использование диспетчера области сканирования

Диспетчер области сканирования (CSM) — это набор интерфейсов, которые предоставляют методы для информирования подсистемы Windows Search о контейнерах для обхода и элементов в этих контейнерах для включения или исключения в каталог. Разработчики могут использовать CSM для определения области обхода содержимого программным способом для нового хранилища данных или обработчика протокола. Администраторы могут использовать CSM для просмотра индексов всех пользователей, корней поиска и правил области.

Этот раздел организован следующим образом:

-   [Что такое диспетчер области обхода содержимого?](#what-is-the-crawl-scope-manager)
-   [Поиск по корням и правилам области](#search-roots-and-scope-rules)
    -   [Поиск по корням](#search-roots-and-scope-rules)
    -   [Правила области](#scope-rules)
-   [Групповые политики, поддерживаемые диспетчером области сканирования](#group-policies-supported-by-the-crawl-scope-manager)
-   [См. также](#related-topics)

## <a name="what-is-the-crawl-scope-manager"></a>Что такое диспетчер области обхода содержимого?

Чтобы разобраться в диспетчере области сканирования, необходимо понимать следующие термины.

-   *Область сканирования* — это набор URL-адресов, указывающих на хранилища данных или контейнеры (хранилища данных электронной почты, базы данных, сетевые файловые ресурсы и т. д.), которые индексатор выполняет сканирование для элементов индекса. Для иерархического хранилища данных область обхода содержимого может включать родительский URL-адрес, но не допускать дочерний URL-адрес и наоборот. Элементы в области сканирования индексируются; элементы за пределами области сканирования не учитываются.
-   *Корень поиска* — это URL-адрес верхнего уровня, который определяет контейнер или хранилище данных, связанное с определенным обработчиком протокола. Корни поиска могут обозначать расположения, характерные для пользователя, которые находятся на удаленном компьютере или соответствуют шаблону с подстановочными знаками. При добавлении нового хранилища данных или обработчика протокола необходимо также добавить корень поиска в область обхода содержимого.
-   *Правило области* — это правило, которое включает или исключает URL-адреса в корне поиска для обхода и индексирования. Например, предположим, что необходимо индексировать все объекты в папке ProjectFiles, кроме прототипов вложенных папок. Вам потребуется правило включения для file:///C: \\ ворктеама \\ ProjectFiles \\ и правило исключения для file:///C: \\ ворктеама \\ ProjectFiles \\ prototype \\ .

**Диспетчер области обхода содержимого (CSM)** — это набор API-интерфейсов, позволяющих добавлять, удалять и перечислять корни поиска и правила области для индексатора поиска Windows. Если требуется, чтобы индексатор начал сканирование нового контейнера, можно использовать CSM, чтобы задать корневые элементы поиска и правила определения области для путей в корне поиска. Например, при установке нового обработчика протокола можно создать корень поиска и добавить одно или несколько правил включения. Затем индексатор может начать сканирование для первоначального индексирования. CSM предлагает следующие интерфейсы, которые помогут вам сделать это программным способом.

-   [**иенумсеарчрутс**](/windows/desktop/api/Searchapi/nn-searchapi-ienumsearchroots)
-   [иенумсеарчскоперулес](/windows/win32/api/searchapi/nn-searchapi-ienumsearchscoperules)
-   [**исеарчкравлскопеманажер**](/windows/desktop/api/Searchapi/nn-searchapi-isearchcrawlscopemanager)
-   [ISearchCrawlScopeManager2](/windows/win32/api/searchapi/nn-searchapi-isearchcrawlscopemanager2)
-   [**исеарчрут**](/windows/desktop/api/Searchapi/nn-searchapi-isearchroot)
-   [**исеарчскоперуле**](/windows/desktop/api/Searchapi/nn-searchapi-isearchscoperule)
-   [исеарчитем](./-search-isearchitem.md)

Хотя вы можете использовать интерфейсы API CSM для программного определения области обхода содержимого, CSM был разработан для поддержки конечных пользователей. Например, предположим, что вы разработали обработчик протокола для нового хранилища данных и хотите позволить пользователям или администраторам управлять тем, какие пути должны индексироваться. Диспетчер области обхода содержимого можно использовать для задания одного или нескольких корней поиска (например, file:///C: \\ MyContainer \\ ), а пользовательский интерфейс Windows Search для настройки параметров индексирования будет отображать каждый корень поиска с флажком. Пользователи могут включить или исключить этот путь или дочерние элементы этого пути.

## <a name="search-roots-and-scope-rules"></a>Поиск по корням и правилам области

Поиск в корнях и правилах области вместе определяют рабочий набор URL-адресов, который состоит из области сканирования индексатора.

### <a name="search-roots"></a>Поиск по корням

При настройке корня поиска не указываются, какие части этого хранилища должны индексироваться. Он просто сигнализирует, что хранилище содержимого существует и связано с зарегистрированным обработчиком протокола. Синтаксис корневого поиска включает протокол, идентификатор безопасности сайта или пользователя и путь к расположениям для обхода.

Вы должны создать новые корни поиска, когда:

-   Установка обработчика протокола или
-   Хотите индексировать новое хранилище данных

AND

-   Это хранилище данных еще не находится в области обхода индексатора.

Инструкции по добавлению, удалению и перечислению корней поиска см. в разделе [Управление корнями поиска](-search-3x-wds-extidx-csm-searchroots.md) .

### <a name="scope-rules"></a>Правила области

Правила области включают или исключают URL-адреса в корне поиска для обхода и индексирования. Правила области могут устанавливаться конечными пользователями, групповой политикой или сторонними разработчиками. Правила области следует определять программным способом при определении нового корня поиска. Корни поиска и правила области образуют область обхода по умолчанию для хранилища данных и обработчика протокола.

> [!Note]  
> Пользователи с доступом к панели управления могут изменять область обхода по умолчанию. Таким образом, любое приложение, предлагающее Управление областью, должно всегда получать правила непосредственно из CSM, используя методы перечисления вместо того, чтобы полагаться на собственную сохраненную копию правил пользователя.

 

Инструкции по добавлению, удалению, возврату и перечислению правил области см. в разделе [Управление правилами области](-search-3x-wds-extidx-csm-scoperules.md) .

## <a name="group-policies-supported-by-the-crawl-scope-manager"></a>Групповые политики, поддерживаемые диспетчером области сканирования

Системные администраторы могут определять области обхода содержимого в своих организациях с помощью групповых политик. Эти правила групповой политики также могут действовать в качестве правил по умолчанию, которые пользователи могут переопределить. Например, один набор каталогов может быть индексирован для одной группы пользователей и другой — для другой группы пользователей, что позволяет пользователям отменить выбор значений по умолчанию. Правила групповой политики также могут действовать как правила принудительного исключения, которые пользователи не могут переопределять, предотвращая, например, определенные пользователи для индексирования определенных сетевых ресурсов.

## <a name="related-topics"></a>См. также

<dl> <dt>

[Управление корнями поиска](-search-3x-wds-extidx-csm-searchroots.md)
</dt> <dt>

[Управление правилами области](-search-3x-wds-extidx-csm-scoperules.md)
</dt> <dt>

[Процесс индексирования](-search-indexing-process-overview.md)
</dt> </dl>

 

 
