---
title: D1159 недопустимая топология Коммандлист
ms.assetid: 1cd2f085-8dff-4140-bed9-7509961ff4c8
description: Список команд не может ссылаться на эффекты, которые являются частью графов эффектов, использующих список команд.
keywords:
- D1159 недопустимая топология Коммандлист Direct2D
topic_type:
- apiref
api_name:
- D1159 Invalid Commandlist Topology
api_type:
- NA
ms.topic: reference
ms.date: 05/31/2018
ms.custom: seodec18
ms.openlocfilehash: cd3d513b5c4110b89ffff5be5f72cd5ffcbf6160
ms.sourcegitcommit: 57758ecb246c84d65e6e0e4bd5570d9176fa39cd
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/25/2019
ms.locfileid: "105661657"
---
# <a name="d1159-invalid-commandlist-topology"></a><span data-ttu-id="17f7f-104">D1159: недопустимая топология Коммандлист</span><span class="sxs-lookup"><span data-stu-id="17f7f-104">D1159: Invalid Commandlist Topology</span></span>

<span data-ttu-id="17f7f-105">Список команд не может ссылаться на эффекты, которые являются частью графов эффектов, использующих список команд.</span><span class="sxs-lookup"><span data-stu-id="17f7f-105">A command list cannot reference effects which are part of effect graphs that consume the command list.</span></span>



|             |             |
|-------------|-------------|
| <span data-ttu-id="17f7f-106">Уровень ошибки</span><span class="sxs-lookup"><span data-stu-id="17f7f-106">Error Level</span></span> | <span data-ttu-id="17f7f-107">Сведения</span><span class="sxs-lookup"><span data-stu-id="17f7f-107">Information</span></span> |



 

## <a name="possible-causes"></a><span data-ttu-id="17f7f-108">Возможные причины</span><span class="sxs-lookup"><span data-stu-id="17f7f-108">Possible Causes</span></span>

<span data-ttu-id="17f7f-109">При заполнении списка команд приложение может включать вызов ID2D1DeviceContext::D Равимаже.</span><span class="sxs-lookup"><span data-stu-id="17f7f-109">While populating a command list, an application may include a call to ID2D1DeviceContext::DrawImage.</span></span> <span data-ttu-id="17f7f-110">ID2D1DeviceContext::D Равимаже можно использовать для рисования точечных рисунков, эффектов или списков команд.</span><span class="sxs-lookup"><span data-stu-id="17f7f-110">ID2D1DeviceContext::DrawImage may be used to draw bitmaps, effects or command lists.</span></span> <span data-ttu-id="17f7f-111">Как следствие, синтаксис ID2D1DeviceContext::D Равимаже может попытаться нарисовать список команд, если этот же список команд задан как целевой объект.</span><span class="sxs-lookup"><span data-stu-id="17f7f-111">As a consequence, it is syntactically possible for an ID2D1DeviceContext::DrawImage call to attempt to draw a command list while that same command list is set as a target.</span></span> <span data-ttu-id="17f7f-112">Однако списки команд, ссылающиеся на себя, не являются допустимыми.</span><span class="sxs-lookup"><span data-stu-id="17f7f-112">Self-referencing command lists in this manner, however, is not valid.</span></span> <span data-ttu-id="17f7f-113">Direct2D выявляет случаи, в которых это происходит, и сообщает об ошибке, и отладочный слой выводит это сообщение.</span><span class="sxs-lookup"><span data-stu-id="17f7f-113">Direct2D will identify cases in which this occurs and report an error, and the debug layer will output this message.</span></span>

## <a name="possible-fixes"></a><span data-ttu-id="17f7f-114">Возможные исправления</span><span class="sxs-lookup"><span data-stu-id="17f7f-114">Possible Fixes</span></span>

<span data-ttu-id="17f7f-115">При заполнении списка команд убедитесь, что контекст устройства не выполняет никаких операций, которые используют тот же список команд.</span><span class="sxs-lookup"><span data-stu-id="17f7f-115">While populating a command list, ensure that a device context does not issue any operation which consumes that same command list.</span></span> <span data-ttu-id="17f7f-116">Наиболее очевидным способом, в котором это может произойти, является вызов ID2D1DeviceContext::D Равимаже с тем же списком команд, который задан в качестве целевого.</span><span class="sxs-lookup"><span data-stu-id="17f7f-116">The most obvious way in which this can happen is to call ID2D1DeviceContext::DrawImage with the same command list which is set as the target.</span></span> <span data-ttu-id="17f7f-117">Однако есть и менее очевидные способы, в которых это может произойти: ID2D1DeviceContext::D Равимаже может ссылаться на граф эффектов, а один узел на графе эффектов может попытаться использовать список целевых команд.</span><span class="sxs-lookup"><span data-stu-id="17f7f-117">However, there are also less obvious ways in which this may occur: an ID2D1DeviceContext::DrawImage may refer to an effect graph, and one node in the effect graph may attempt to consume the target command list.</span></span> <span data-ttu-id="17f7f-118">Перед использованием убедитесь, что списки команд заполнены правильно, и что вызовы ID2D1DeviceContext:: Сеттаржет относятся к предполагаемому целевому объекту.</span><span class="sxs-lookup"><span data-stu-id="17f7f-118">Ensure that command lists are populated correctly before use, and that calls to ID2D1DeviceContext::SetTarget refer to the intended target.</span></span>

 

 




