---
title: О Direct2D
description: Представляет Direct2D, API, который предоставляет разработчикам Win32 возможность выполнять двумерные задачи отрисовки графики с высокой производительностью и визуальным качеством.
ms.assetid: 05cc230e-6fec-4a15-8e28-c68397392fc5
keywords:
- Direct2D, о программе
- Direct2D, взаимодействие
- Direct2D, производительность
- Direct2D, доступность
- Direct2D, приложения
- взаимодействие, Direct2D
- производительность Direct2D
- доступность для Direct2D
- приложения для Direct2D
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 486c83b7a83ef82983e189977f9f99254b0a1977
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/20/2020
ms.locfileid: "103987713"
---
# <a name="about-direct2d"></a>О Direct2D

В этом разделе описывается Direct2D, API, который предоставляет разработчикам Win32 возможность выполнять двумерные задачи отрисовки графики с высокой производительностью и визуальным качеством.

## <a name="what-is-direct2d"></a>Что такое Direct2D?

Direct2D — это высокопроизводительный высококачественный графический API, обеспечивающий высокую производительность и высокое качество отрисовки для двухмерной геометрии, точечных рисунков и текста. API Direct2D предназначен для взаимодействия с существующим кодом, использующим GDI, GDI+ или Direct3D.

Direct2D предназначен главным образом для использования следующими классами разработчиков:

-   Разработчики крупных корпоративных приложений с корпоративным масштабированием.
-   Разработчики, создающие наборы средств управления и библиотеки для использования подчиненными разработчиками.
-   Разработчики, которым требуется отрисовка двухмерной графики на стороне сервера.
-   Разработчики, использующие графическое изображение Direct3D и требующие простой, высокопроизводительную визуализацию и отрисовку текста для меню, элементов ПОЛЬЗОВАТЕЛЬСКОГО интерфейса и приголовков (Худс).

## <a name="why-direct2d"></a>Зачем Direct2D?

Ниже перечислены основные причины создания нового API-интерфейса двухмерной графики в Microsoft Windows.

-   Чтобы обеспечить более широкие возможности визуального отображения пользователей Windows.
-   Чтобы позволить разработчикам писать код двухмерной отрисовки, который масштабируется непосредственно с помощью графического оборудования компьютера, на котором он работает.
-   Чтобы позволить разработчикам писать код для отрисовки двухмерной графики, которая может выполняться в контексте службы.

В последние годы конечные пользователи приступили к более высокой визуальной точности в цифровых впечатлениях. Эта тенденция отражена в бытовой электроники. Устройства GPS, устройства воспроизведения мультимедиа, мобильные телефоны и Цифровые камеры обеспечивают единообразный опыт работы в течение года. Эта тенденция также может быть видна в разнообразии графического содержимого на пленке, телевидении, видеоиграх и в Интернете. Чтобы сократить эти изменения, разработчикам постоянно предлагается взять существующие приложения Windows на новый уровень визуальности.

Графические процессоры в современных ПК с Windows также постоянно развивались, благодаря усовершенствованиям графической видеоигры и частям возможностей Windows, таким как Windows Media Center и Aero. Некоторые приложения Windows могут использовать современные графические процессоры с помощью Microsoft Direct3D и Windows Presentation Foundation (WPF). Несмотря на то, что Direct3D обслуживает высокопроизводительные трехмерные графические приложения и WPF решает потребности разработчиков .NET, существуют пробелы для разработчиков, имеющих большие версии кода отрисовки на основе GDI и GDI+ или желающих внедрить высококачественную двухмерной графику в свои приложения на основе Direct3D.

Наконец, потребность в API графики, которую можно использовать в службе, стала новым требованием для разработчиков, работающих в сценариях корпоративного и веб-разработки. Существующие API-интерфейсы рендеринга сосредоточены на отрисовке на стороне клиента в одном сеансе пользователя. Таким образом, они могут быть короткими в области надежности и масштабируемости при использовании в контексте службы. Для решения этой этой функции необходим новый API.

## <a name="high-performance-with-maximum-availability"></a>Высокая производительность с максимальной доступностью

Direct2D — это библиотека пользовательского режима, созданная с помощью API Direct3D 10,1. Это означает, что Direct2D приложения получают преимущества от аппаратно-ускоренной отрисовки современных GPU. Аппаратное ускорение также достигается на более раннем оборудовании Direct3D 9 с помощью визуализации Direct3D 10-Level-9. Это сочетание обеспечивает высокую производительность графического оборудования на существующих компьютерах с Windows.

> [!Note]  
> Начиная с Windows 8, Direct2D строится с помощью API Direct3D 11,1.

 

На следующей схеме показана многоуровневая архитектура Direct2D.

![Схема многоуровневой архитектуры Direct2D](images/direct2d-architectual-layering.png)

В сценариях, где использование аппаратного ускорения нецелесообразно, Direct2D включает средство программной прорисовки с высокой производительностью. При подготовке к просмотру в программном обеспечении приложения, использующие Direct2D, значительно улучшают производительность отрисовки, чем при использовании GDI+ и аналогичного визуального качества. Средство программной прорисовки также предназначено для использования в контексте службы.

Содержимое, отображаемое с помощью Direct2D, также может отображаться удаленно с помощью инфраструктуры протокол удаленного рабочего стола (RDP) в операционной системе Windows 7. Разработчики могут выбрать, обрабатывается ли графический процессор графически на дисплее или отрисовывается локально и передается как точечные рисунки. Этот вариант можно выполнить на основе требуемой ставки заполнения и количества отображаемых графических примитивов. Если компьютер-дисплей работает под управлением операционной системы более ранней версии, чем Windows 7, отрисовка внешнего экрана выполняется путем передачи точечных рисунков по сети.

Предоставляя единый интерфейс API, который сочетает производительность Direct3D и высокий уровень доступности, предоставляя средства отката программного обеспечения, удаленного рабочего стола и службы, Direct2D позволяет разработчикам использовать единую реализацию для высокопроизводительной отрисовки во многих разных сценариях.

## <a name="visual-quality"></a>Визуальное качество

Приложения, использующие Direct2D для графики, могут обеспечить более высокое качество визуального элемента, чем можно достичь с помощью GDI. Direct2D использует сглаживание по примитивам для предоставления более гладких кривых и линий в отображаемом содержимом. Кроме того, существует полная поддержка прозрачности и альфа-смешения при отрисовке двумерных примитивов. Следующие изображения сравнивают содержимое с псевдонимом, отображаемое с помощью GDI (слева), с сглаженным содержимым, отображаемым Direct2D (справа).

![Иллюстрация кривых и линий, отображаемых в GDI и в Direct2D](images/rendering-curves-and-lines.png)

Разработчики могут указывать отрисовку векторной графики с псевдонимами. Это используется в сценариях, где требуется привязка к границам с жесткими пикселями, например элементы пользовательского интерфейса, такие как указатели или линейки, если необходимо сопоставить стиль GDI или если сглаживание будет выполняться в процессе отрисовки через многовыборочное сглаживание или какой-либо другой механизм.

## <a name="interoperability"></a>Совместимость

Интеграция отрисовки на основе Direct2D упрощается для разработчиков посредством взаимодействия на уровне поверхности с GDI и Direct3D. Приложения, которые визуализируют содержимое в основном с GDI, GDI+ или Direct3D, могут начать с использования Direct2D для визуализации конкретных областей своего приложения и со временем перейти к модели, где отрисовка выполняется в основном через Direct2D, с использованием GDI в основном для подключаемых модулей или расширения прежних версий.

Direct2D также упрощает использование [DirectWrite](/windows/desktop/DirectWrite/direct-write-portal) для высококачественного текста и расширенных возможностей работы с образами [компонента Microsoft Windows Imaging Component (WIC)](https://msdn.microsoft.com/library/ms737408.aspx).

Дополнительные сведения о взаимодействии Direct2D см [. в разделе взаимодействие пакета SDK Direct2D.](interoperability.md)

## <a name="summary"></a>Сводка

Microsoft Direct2D позволяет разработчикам создавать функции двухмерной графики в своих приложениях, обеспечивая улучшенное качество визуального элемента по сравнению с GDI, а также характеристики производительности, масштабируемые с помощью современных графических процессоров. Модель взаимодействия Direct2D позволяет разработчикам выборочно переносить приложения за один раз вместе с GDI, GDI+ или визуализацией на основе Direct3D.

## <a name="related-topics"></a>См. также

<dl> <dt>

[Краткое руководство по Direct2D для Windows 8](direct2d-quickstart-with-device-context.md)
</dt> <dt>

[Обзор API Direct2D](the-direct2d-api.md)
</dt> </dl>

 

 