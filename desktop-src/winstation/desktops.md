---
title: Настольные системы
description: Рабочий стол имеет логическую поверхность отображения и содержит объекты пользовательского интерфейса, такие как окна, меню и перехватчики; его можно использовать для создания окон и управления ими.
ms.assetid: c56cd63b-c260-40d0-9a62-1dee1eb18679
keywords:
- объекты рабочего стола
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 44ca0b390ec4d34cc943c9d18d958cdea6466634
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/20/2020
ms.locfileid: "105710315"
---
# <a name="desktops"></a><span data-ttu-id="d93d4-104">Настольные системы</span><span class="sxs-lookup"><span data-stu-id="d93d4-104">Desktops</span></span>

<span data-ttu-id="d93d4-105">*Рабочий стол* имеет логическую поверхность отображения и содержит объекты пользовательского интерфейса, такие как окна, меню и перехватчики; его можно использовать для создания окон и управления ими.</span><span class="sxs-lookup"><span data-stu-id="d93d4-105">A *desktop* has a logical display surface and contains user interface objects such as windows, menus, and hooks; it can be used to create and manage windows.</span></span> <span data-ttu-id="d93d4-106">Каждый объект Desktop является защищаемым объектом.</span><span class="sxs-lookup"><span data-stu-id="d93d4-106">Each desktop object is a securable object.</span></span> <span data-ttu-id="d93d4-107">При создании рабочего стола он связывается с текущей [рабочей станцией](window-stations.md) вызывающего процесса и назначается вызывающему потоку.</span><span class="sxs-lookup"><span data-stu-id="d93d4-107">When a desktop is created, it is associated with the current [window station](window-stations.md) of the calling process and assigned to the calling thread.</span></span>

<span data-ttu-id="d93d4-108">Сообщения окна могут отправляться только между процессами, находящиеся на одном рабочем столе.</span><span class="sxs-lookup"><span data-stu-id="d93d4-108">Window messages can be sent only between processes that are on the same desktop.</span></span> <span data-ttu-id="d93d4-109">Кроме того, процедура-обработчик процесса, выполняемого на определенном рабочем столе, может принимать только сообщения, предназначенные для Windows, созданных на том же компьютере.</span><span class="sxs-lookup"><span data-stu-id="d93d4-109">In addition, the hook procedure of a process running on a particular desktop can only receive messages intended for windows created in the same desktop.</span></span>

<span data-ttu-id="d93d4-110">Рабочие столы, связанные с интерактивной рабочей станцией, Winsta0, могут быть сделаны для вывода пользовательского интерфейса и получения входных данных, но активны только один из этих рабочих станций.</span><span class="sxs-lookup"><span data-stu-id="d93d4-110">The desktops associated with the interactive window station, Winsta0, can be made to display a user interface and receive user input, but only one of these desktops at a time is active.</span></span> <span data-ttu-id="d93d4-111">Этот активный рабочий стол (также называемый *входным рабочим столом*) — это тот, который в настоящее время виден пользователю и получает входные данные пользователя.</span><span class="sxs-lookup"><span data-stu-id="d93d4-111">This active desktop, also known as the *input desktop*, is the one that is currently visible to the user and that receives user input.</span></span> <span data-ttu-id="d93d4-112">Приложения могут использовать функцию [**опенинпутдесктоп**](/windows/win32/api/winuser/nf-winuser-openinputdesktop) для получения маркера для входного рабочего стола.</span><span class="sxs-lookup"><span data-stu-id="d93d4-112">Applications can use the [**OpenInputDesktop**](/windows/win32/api/winuser/nf-winuser-openinputdesktop) function to get a handle to the input desktop.</span></span> <span data-ttu-id="d93d4-113">Приложения с необходимым доступом могут использовать функцию [**свитчдесктоп**](/windows/win32/api/winuser/nf-winuser-switchdesktop) для указания другого входного рабочего стола.</span><span class="sxs-lookup"><span data-stu-id="d93d4-113">Applications that have the required access can use the [**SwitchDesktop**](/windows/win32/api/winuser/nf-winuser-switchdesktop) function to specify a different input desktop.</span></span>

<span data-ttu-id="d93d4-114">По умолчанию в интерактивной рабочей станции есть три рабочего стола: по умолчанию, экранная заставка и Winlogon.</span><span class="sxs-lookup"><span data-stu-id="d93d4-114">By default, there are three desktops in the interactive window station: Default, ScreenSaver, and Winlogon.</span></span>

<span data-ttu-id="d93d4-115">Рабочий стол по умолчанию создается, когда Winlogon запускает первоначальный процесс в качестве пользователя, выполнившего вход в систему.</span><span class="sxs-lookup"><span data-stu-id="d93d4-115">The Default desktop is created when Winlogon starts the initial process as the logged-on user.</span></span> <span data-ttu-id="d93d4-116">На этом этапе Рабочий стол по умолчанию становится активным и используется для взаимодействия с пользователем.</span><span class="sxs-lookup"><span data-stu-id="d93d4-116">At that point, the Default desktop becomes active, and it is used to interact with the user.</span></span>

<span data-ttu-id="d93d4-117">При активации безопасной заставки система автоматически переключается на настольную систему заставок, которая защищает процессы на рабочем столе по умолчанию от неавторизованных пользователей.</span><span class="sxs-lookup"><span data-stu-id="d93d4-117">Whenever a secure screen saver activates, the system automatically switches to the ScreenSaver desktop, which protects the processes on the default desktop from unauthorized users.</span></span> <span data-ttu-id="d93d4-118">Незащищенные заставки запускаются на Winsta0 \\ по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="d93d4-118">Unsecured screen savers run on Winsta0\\Default.</span></span>

<span data-ttu-id="d93d4-119">Рабочий стол Winlogon активен, пока пользователь входит в систему.</span><span class="sxs-lookup"><span data-stu-id="d93d4-119">The Winlogon desktop is active while a user logs on.</span></span> <span data-ttu-id="d93d4-120">Система переключается на Рабочий стол по умолчанию, когда оболочка указывает, что она готова отобразить что-либо, или через тридцать секунд, в зависимости от того, что происходит раньше.</span><span class="sxs-lookup"><span data-stu-id="d93d4-120">The system switches to the default desktop when the shell indicates that it is ready to display something, or after thirty seconds, whichever comes first.</span></span> <span data-ttu-id="d93d4-121">Во время сеанса пользователя система переключается на Рабочий стол Winlogon, когда пользователь нажимает сочетание клавиш CTRL + ALT + DEL или когда открыто диалоговое окно Контроль учетных записей (UAC).</span><span class="sxs-lookup"><span data-stu-id="d93d4-121">During the user's session, the system switches to the Winlogon desktop when the user presses the CTRL+ALT+DEL key sequence, or when the User Account Control (UAC) dialog box is open.</span></span>

<span data-ttu-id="d93d4-122">**Windows Server 2003 и Windows XP/2000:** Диалоговое окно UAC не поддерживается.</span><span class="sxs-lookup"><span data-stu-id="d93d4-122">**Windows Server 2003 and Windows XP/2000:** The UAC dialog box is not supported.</span></span>

<span data-ttu-id="d93d4-123">Дескриптор безопасности рабочего стола Winlogon обеспечивает доступ к очень ограниченному набору учетных записей, включая [учетную запись LocalSystem](/windows/desktop/Services/localsystem-account).</span><span class="sxs-lookup"><span data-stu-id="d93d4-123">The Winlogon desktop's security descriptor allows access to a very restricted set of accounts, including the [LocalSystem account](/windows/desktop/Services/localsystem-account).</span></span> <span data-ttu-id="d93d4-124">Как правило, приложения не содержат идентификаторы SID учетных записей в маркерах и поэтому не могут получить доступ к рабочему столу Winlogon или переключиться на другой рабочий стол, пока активен режим Winlogon Desktop.</span><span class="sxs-lookup"><span data-stu-id="d93d4-124">Applications generally do not carry any of these accounts' SIDs in their tokens and therefore cannot access the Winlogon desktop or switch to a different desktop while the Winlogon desktop is active.</span></span>

<span data-ttu-id="d93d4-125">Дополнительные сведения см. в следующих разделах:</span><span class="sxs-lookup"><span data-stu-id="d93d4-125">For more information, see the following topics:</span></span>

-   [<span data-ttu-id="d93d4-126">Создание оконной станции и рабочего стола</span><span class="sxs-lookup"><span data-stu-id="d93d4-126">Window Station and Desktop Creation</span></span>](window-station-and-desktop-creation.md)
-   [<span data-ttu-id="d93d4-127">Подключение потока к рабочему столу</span><span class="sxs-lookup"><span data-stu-id="d93d4-127">Thread Connection to a Desktop</span></span>](thread-connection-to-a-desktop.md)
-   [<span data-ttu-id="d93d4-128">Безопасность настольных систем и права доступа</span><span class="sxs-lookup"><span data-stu-id="d93d4-128">Desktop Security and Access Rights</span></span>](desktop-security-and-access-rights.md)

 

 