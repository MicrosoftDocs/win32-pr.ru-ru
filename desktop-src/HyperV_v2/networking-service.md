---
description: Сетевой профиль описывает объекты, используемые для настройки системы, чтобы разрешить виртуальным машинам взаимодействовать по сети.
ms.assetid: A5C4866B-0F65-47B5-8FC4-B92943842B86
title: Сетевая служба
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: fc85b7a5121a3e7e42f333f829816184b57bd8eb
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "105682641"
---
# <a name="networking-service"></a><span data-ttu-id="60e5d-103">Сетевая служба</span><span class="sxs-lookup"><span data-stu-id="60e5d-103">Networking service</span></span>

<span data-ttu-id="60e5d-104">Сетевой профиль описывает объекты, используемые для настройки системы, чтобы разрешить виртуальным машинам взаимодействовать по сети.</span><span class="sxs-lookup"><span data-stu-id="60e5d-104">The networking profile describes the objects used for configuring the system to allow virtual machines to communicate over the network.</span></span> <span data-ttu-id="60e5d-105">Глобальные сетевые объекты, используемые для настройки сетевого коммутатора в операционной системе управления, включают в себя классы [**мсвм \_ виртуалесернетсвитчманажементсервице**](msvm-virtualethernetswitchmanagementservice.md), [**мсвм \_ виртуалесернетсвитч**](msvm-virtualethernetswitch.md)и [**мсвм \_ есернетсвитчпорт**](msvm-ethernetswitchport.md) .</span><span class="sxs-lookup"><span data-stu-id="60e5d-105">The global networking objects, used to configure the network switch in the management operating system, include the [**Msvm\_VirtualEthernetSwitchManagementService**](msvm-virtualethernetswitchmanagementservice.md), [**Msvm\_VirtualEthernetSwitch**](msvm-virtualethernetswitch.md), and [**Msvm\_EthernetSwitchPort**](msvm-ethernetswitchport.md) classes.</span></span> <span data-ttu-id="60e5d-106">Сетевые объекты виртуальной машины, используемые для настройки сетевого адаптера (NIC) на виртуальной машине, включают в себя классы [**мсвм \_ емулатедесернетпорт**](msvm-emulatedethernetport.md), [**мсвм \_ ресаурцеаллокатионсеттингдата**](msvm-resourceallocationsettingdata.md)и [**мсвм \_ ланендпоинт**](msvm-lanendpoint.md) .</span><span class="sxs-lookup"><span data-stu-id="60e5d-106">The virtual machine networking objects, used to configure the network interface card (NIC) in the virtual machine, include the [**Msvm\_EmulatedEthernetPort**](msvm-emulatedethernetport.md), [**Msvm\_ResourceAllocationSettingData**](msvm-resourceallocationsettingdata.md), and [**Msvm\_LANEndpoint**](msvm-lanendpoint.md) classes.</span></span>

<span data-ttu-id="60e5d-107">Корнем глобального сетевого профиля является класс [**мсвм \_ виртуалесернетсвитч**](msvm-virtualethernetswitch.md) .</span><span class="sxs-lookup"><span data-stu-id="60e5d-107">The root of the global networking profile is the [**Msvm\_VirtualEthernetSwitch**](msvm-virtualethernetswitch.md) class.</span></span> <span data-ttu-id="60e5d-108">Этот класс представляет устройство виртуального коммутатора в операционной системе управления.</span><span class="sxs-lookup"><span data-stu-id="60e5d-108">This class represents a virtual switch device in the management operating system.</span></span> <span data-ttu-id="60e5d-109">**Мсвм \_ Виртуалесернетсвитч** связан с экземплярами класса [**мсвм \_ свитчпорт**](https://www.bing.com/search?q=**Msvm\_SwitchPort**) , который представляет порты виртуального коммутатора.</span><span class="sxs-lookup"><span data-stu-id="60e5d-109">**Msvm\_VirtualEthernetSwitch** is associated with instances of the [**Msvm\_SwitchPort**](https://www.bing.com/search?q=**Msvm\_SwitchPort**) class, which represents the ports on the virtual switch.</span></span> <span data-ttu-id="60e5d-110">Экземпляры классов **мсвм \_ Виртуалесернетсвитч** и [**мсвм \_ есернетсвитчпорт**](msvm-ethernetswitchport.md) создаются, удаляются и подключаются через класс [**мсвм \_ виртуалесернетсвитчманажементсервице**](msvm-virtualethernetswitchmanagementservice.md) (не показано на рисунке выше).</span><span class="sxs-lookup"><span data-stu-id="60e5d-110">Instances of the **Msvm\_VirtualEthernetSwitch** and [**Msvm\_EthernetSwitchPort**](msvm-ethernetswitchport.md) classes are created, deleted, and connected via the [**Msvm\_VirtualEthernetSwitchManagementService**](msvm-virtualethernetswitchmanagementservice.md) class (not shown in the illustration earlier).</span></span>

<span data-ttu-id="60e5d-111">Служба управления виртуальным коммутатором (ВСМС) представляет собой сетевую службу, имеющуюся на одном узле Hyper-V, и содержит методы для [**мсвм \_ виртуалесернетсвитчманажементсервице**](msvm-virtualethernetswitchmanagementservice.md) , используемые для управления определением, изменением и уничтожением глобальных сетевых ресурсов, таких как виртуальные коммутаторы, порты коммутатора и внутренние порты Ethernet.</span><span class="sxs-lookup"><span data-stu-id="60e5d-111">Virtual Switch Management Service (VSMS) represents the networking service present on a single Hyper-V host and contains methods for [**Msvm\_VirtualEthernetSwitchManagementService**](msvm-virtualethernetswitchmanagementservice.md) used to control the definition, modification, and destruction of global networking resources such as virtual switches, switch ports and internal Ethernet ports.</span></span>

<span data-ttu-id="60e5d-112">Представление сетевого адаптера Ethernet в виртуальной машине выглядит очень похоже на любое другое устройство, как описано в [**службе управления виртуальной системой**](virtual-system-management-service.md).</span><span class="sxs-lookup"><span data-stu-id="60e5d-112">The representation of the Ethernet NIC device in the virtual machine looks very similar to that of any other device, as described in the [**Virtual System Management Service**](virtual-system-management-service.md).</span></span> <span data-ttu-id="60e5d-113">Классы [**мсвм \_ Емулатедесернетпорт**](msvm-emulatedethernetport.md) и [**мсвм \_ синсетицесернетпорт**](msvm-syntheticethernetport.md) представляют устройство виртуального сетевого адаптера и настраиваются с помощью связанного экземпляра [**мсвм \_ ресаурцеаллокатионсеттингдата**](msvm-resourceallocationsettingdata.md) (RASD).</span><span class="sxs-lookup"><span data-stu-id="60e5d-113">The [**Msvm\_EmulatedEthernetPort**](msvm-emulatedethernetport.md) and [**Msvm\_SyntheticEthernetPort**](msvm-syntheticethernetport.md) classes represent the virtual NIC device, and are configured via an associated [**Msvm\_ResourceAllocationSettingData**](msvm-resourceallocationsettingdata.md) (RASD) instance.</span></span> <span data-ttu-id="60e5d-114">Единственная необычная характеристика этого представления заключается в том, что при создании экземпляра виртуальной машины, в свою очередь, создает устройства **мсвм \_ Емулатедесернетпорт** и **мсвм \_ синсетицесернетпорт** , она также создает связанный экземпляр [**мсвм \_ ланендпоинт**](msvm-lanendpoint.md) для виртуального сетевого адаптера.</span><span class="sxs-lookup"><span data-stu-id="60e5d-114">The only unusual characteristic of this representation is that, when the virtual machine is instantiated and in turn creates the **Msvm\_EmulatedEthernetPort** and **Msvm\_SyntheticEthernetPort** devices, it also creates an associated [**Msvm\_LANEndpoint**](msvm-lanendpoint.md) instance for the virtual NIC.</span></span> <span data-ttu-id="60e5d-115">Аналогично, когда виртуальная машина сохраняется или отключается, а экземпляры **мсвм \_ Емулатедесернетпорт** и **мсвм \_ синсетицесернетпорт** уничтожаются, связанный экземпляр [**мсвм \_ вмланендпоинт**](https://www.bing.com/search?q=**Msvm\_VmLANEndpoint**) также уничтожается.</span><span class="sxs-lookup"><span data-stu-id="60e5d-115">Similarly, when the virtual machine is saved or turned off and the **Msvm\_EmulatedEthernetPort** and **Msvm\_SyntheticEthernetPort** instances are destroyed, the associated [**Msvm\_VmLANEndpoint**](https://www.bing.com/search?q=**Msvm\_VmLANEndpoint**) instance is also destroyed.</span></span> <span data-ttu-id="60e5d-116">Цель **мсвм \_ ланендпоинт** — служить мостом для подключения двух сетевых портов друг к другу.</span><span class="sxs-lookup"><span data-stu-id="60e5d-116">The purpose of the **Msvm\_LANEndpoint** is to serve as a bridge for connecting two networking ports to each other.</span></span> <span data-ttu-id="60e5d-117">В этом случае он используется для подключения виртуального сетевого адаптера к порту на устройстве виртуального коммутатора.</span><span class="sxs-lookup"><span data-stu-id="60e5d-117">In this case, it is used to connect a virtual NIC to a port on the virtual switch device.</span></span> <span data-ttu-id="60e5d-118">Иными словами, он подключает экземпляры **мсвм \_ Емулатедесернетпорт** и **мсвм \_ синсетицесернетпорт** на виртуальной машине к определенному экземпляру [**мсвм \_ есернетсвитчпорт**](msvm-ethernetswitchport.md) на виртуальном коммутаторе.</span><span class="sxs-lookup"><span data-stu-id="60e5d-118">In other words, it connects the **Msvm\_EmulatedEthernetPort** and **Msvm\_SyntheticEthernetPort** instances on the virtual machine to a particular [**Msvm\_EthernetSwitchPort**](msvm-ethernetswitchport.md) instance on the virtual switch.</span></span> <span data-ttu-id="60e5d-119">Чтобы подключить коммутатор к внешней сети, необходимо привязать физический порт Ethernet к [**мсвм \_ VirtualSwitch**](https://www.bing.com/search?q=**Msvm\_VirtualSwitch**) через [**биндекстерналесернетпорт**](https://www.bing.com/search?q=**BindExternalEthernetPort**).</span><span class="sxs-lookup"><span data-stu-id="60e5d-119">To connect a switch to the outside, you must bind the physical Ethernet port to the [**Msvm\_VirtualSwitch**](https://www.bing.com/search?q=**Msvm\_VirtualSwitch**) through [**BindExternalEthernetPort**](https://www.bing.com/search?q=**BindExternalEthernetPort**).</span></span> <span data-ttu-id="60e5d-120">Неотрицательно, при подключении коммутатора к сетевому стеку узла или внутренней сетевой карте, используйте Коннектинтернал, чтобы виртуальная машина выходила на узле, а не во внешнем мире.</span><span class="sxs-lookup"><span data-stu-id="60e5d-120">Adversely, when connecting a switch to the host networking stack, or internal NIC, use ConnectInternal to have a virtual machine talk to the host and not the outside world.</span></span> <span data-ttu-id="60e5d-121">[**Мсвм \_ ActiveConnection**](msvm-activeconnection.md) подключает порт коммутатора к [**мсвм \_ свитчланендпоинт**](https://www.bing.com/search?q=**Msvm\_SwitchLANEndpoint**) , к которому подключен порт в Hyper-V.</span><span class="sxs-lookup"><span data-stu-id="60e5d-121">[**Msvm\_ActiveConnection**](msvm-activeconnection.md) connects a switch port to the [**Msvm\_SwitchLANEndpoint**](https://www.bing.com/search?q=**Msvm\_SwitchLANEndpoint**) to which the port is connected inside of Hyper-V.</span></span> <span data-ttu-id="60e5d-122">Наличие этого объекта означает, что порт коммутатора и **мсвм \_ свитчланендпоинт** активно подключены, а порт Ethernet, связанный с **мсвм \_ ланендпоинт** , может взаимодействовать с сетью через порт коммутатора.</span><span class="sxs-lookup"><span data-stu-id="60e5d-122">The existence of this object means that the switch port and the **Msvm\_SwitchLANEndpoint** are actively connected and the Ethernet port associated with **Msvm\_LANEndpoint** can communicate with the network through the switch port.</span></span>

 

 



