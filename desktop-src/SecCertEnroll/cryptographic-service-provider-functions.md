---
description: Функции, экспортированные Xenroll.dll, которые можно использовать для управления поставщиком служб шифрования.
ms.assetid: 4f6f353d-6b06-45b4-8808-56998d3727a4
title: Функции поставщика служб шифрования
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 6a981b418271ba834352c0301c005b39742729a5
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "103808668"
---
# <a name="cryptographic-service-provider-functions"></a><span data-ttu-id="aeaf5-103">Функции поставщика служб шифрования</span><span class="sxs-lookup"><span data-stu-id="aeaf5-103">Cryptographic Service Provider Functions</span></span>

<span data-ttu-id="aeaf5-104">В каждом из следующих разделов указывается функция, экспортируемая с помощью Xenroll.dll, которую можно использовать для управления поставщиком служб шифрования.</span><span class="sxs-lookup"><span data-stu-id="aeaf5-104">Each of the following sections identifies a function exported by Xenroll.dll that can be used to manage a cryptographic provider.</span></span> <span data-ttu-id="aeaf5-105">В каждом разделе также обсуждается использование CertEnroll.dll для замены функции или указывает, что сопоставление между двумя библиотеками не существует:</span><span class="sxs-lookup"><span data-stu-id="aeaf5-105">Each topic also discusses how to use CertEnroll.dll to replace the function or indicates that no mapping between the two libraries exists:</span></span>

-   [<span data-ttu-id="aeaf5-106">енумалгс</span><span class="sxs-lookup"><span data-stu-id="aeaf5-106">EnumAlgs</span></span>](#enumalgs)
-   [<span data-ttu-id="aeaf5-107">енумконтаинерсвстр</span><span class="sxs-lookup"><span data-stu-id="aeaf5-107">enumContainersWStr</span></span>](#enumcontainerswstr)
-   [<span data-ttu-id="aeaf5-108">енумпровидерсвстр</span><span class="sxs-lookup"><span data-stu-id="aeaf5-108">enumProvidersWStr</span></span>](#enumproviderswstr)
-   [<span data-ttu-id="aeaf5-109">жеталгнамевстр</span><span class="sxs-lookup"><span data-stu-id="aeaf5-109">GetAlgNameWStr</span></span>](#getalgnamewstr)
-   [<span data-ttu-id="aeaf5-110">жетпровидертипевстр</span><span class="sxs-lookup"><span data-stu-id="aeaf5-110">getProviderTypeWStr</span></span>](#getprovidertypewstr)
-   [<span data-ttu-id="aeaf5-111">хашалгид</span><span class="sxs-lookup"><span data-stu-id="aeaf5-111">HashAlgID</span></span>](#hashalgid)
-   [<span data-ttu-id="aeaf5-112">хашалгорисмвстр</span><span class="sxs-lookup"><span data-stu-id="aeaf5-112">HashAlgorithmWStr</span></span>](#hashalgorithmwstr)
-   [<span data-ttu-id="aeaf5-113">провидерфлагс</span><span class="sxs-lookup"><span data-stu-id="aeaf5-113">ProviderFlags</span></span>](#providerflags)
-   [<span data-ttu-id="aeaf5-114">провидернамевстр</span><span class="sxs-lookup"><span data-stu-id="aeaf5-114">ProviderNameWStr</span></span>](#providernamewstr)
-   [<span data-ttu-id="aeaf5-115">ProviderType</span><span class="sxs-lookup"><span data-stu-id="aeaf5-115">ProviderType</span></span>](#getprovidertypewstr)
-   [<span data-ttu-id="aeaf5-116">См. также</span><span class="sxs-lookup"><span data-stu-id="aeaf5-116">Related topics</span></span>](#related-topics)

## <a name="enumalgs"></a><span data-ttu-id="aeaf5-117">енумалгс</span><span class="sxs-lookup"><span data-stu-id="aeaf5-117">EnumAlgs</span></span>

<span data-ttu-id="aeaf5-118">Функция [**енумалгс**](/windows/desktop/api/xenroll/nf-xenroll-ienroll2-enumalgs) в Xenroll.dll извлекает коллекцию алгоритмов шифрования.</span><span class="sxs-lookup"><span data-stu-id="aeaf5-118">The [**EnumAlgs**](/windows/desktop/api/xenroll/nf-xenroll-ienroll2-enumalgs) function in Xenroll.dll retrieves a cryptographic algorithm collection.</span></span>

<span data-ttu-id="aeaf5-119">При использовании CertEnroll.dll можно выполнить следующие действия, чтобы получить сведения о алгоритмах, поддерживаемых [*поставщиком служб шифрования*](/windows/desktop/SecGloss/c-gly) (CSP).</span><span class="sxs-lookup"><span data-stu-id="aeaf5-119">When using CertEnroll.dll, you can perform the following actions to retrieve information about the algorithms supported by a [*cryptographic service provider*](/windows/desktop/SecGloss/c-gly) (CSP):</span></span>

1.  <span data-ttu-id="aeaf5-120">Вызовите свойство [**request**](/windows/desktop/api/CertEnroll/nf-certenroll-ix509enrollment-get_request) для существующего объекта [**IX509Enrollment**](/windows/desktop/api/CertEnroll/nn-certenroll-ix509enrollment) .</span><span class="sxs-lookup"><span data-stu-id="aeaf5-120">Call the [**Request**](/windows/desktop/api/CertEnroll/nf-certenroll-ix509enrollment-get_request) property on an existing [**IX509Enrollment**](/windows/desktop/api/CertEnroll/nn-certenroll-ix509enrollment) object.</span></span>
2.  <span data-ttu-id="aeaf5-121">Вызовите метод [**жетиннеррекуест**](/windows/desktop/api/CertEnroll/nf-certenroll-ix509certificaterequest-getinnerrequest) для запроса, возвращенного на шаге 1, чтобы получить самый внутренний запрос.</span><span class="sxs-lookup"><span data-stu-id="aeaf5-121">Call the [**GetInnerRequest**](/windows/desktop/api/CertEnroll/nf-certenroll-ix509certificaterequest-getinnerrequest) method on the request returned from step 1 to retrieve the innermost request.</span></span>
3.  <span data-ttu-id="aeaf5-122">Вызовите **QueryInterface** для объекта [**IX509CertificateRequest**](/windows/desktop/api/CertEnroll/nn-certenroll-ix509certificaterequest) , возвращенного из шага 2, для приведения к объекту [**IX509CertificateRequestPkcs10**](/windows/desktop/api/CertEnroll/nn-certenroll-ix509certificaterequestpkcs10) .</span><span class="sxs-lookup"><span data-stu-id="aeaf5-122">Call **QueryInterface** on the [**IX509CertificateRequest**](/windows/desktop/api/CertEnroll/nn-certenroll-ix509certificaterequest) object returned from step 2 to cast to an [**IX509CertificateRequestPkcs10**](/windows/desktop/api/CertEnroll/nn-certenroll-ix509certificaterequestpkcs10) object.</span></span>
4.  <span data-ttu-id="aeaf5-123">Вызовите свойство [**PrivateKey**](/windows/desktop/SecCrypto/privatekey) в запросе PKCS \# 10.</span><span class="sxs-lookup"><span data-stu-id="aeaf5-123">Call the [**PrivateKey**](/windows/desktop/SecCrypto/privatekey) property on the PKCS \#10 request.</span></span>
5.  <span data-ttu-id="aeaf5-124">Вызовите свойство [**кспинформатионс**](/windows/desktop/api/CertEnroll/nf-certenroll-ix509privatekey-get_cspinformations) объекта [**IX509PrivateKey**](/windows/desktop/api/CertEnroll/nn-certenroll-ix509privatekey) , полученного на шаге 4.</span><span class="sxs-lookup"><span data-stu-id="aeaf5-124">Call the [**CspInformations**](/windows/desktop/api/CertEnroll/nf-certenroll-ix509privatekey-get_cspinformations) property on the [**IX509PrivateKey**](/windows/desktop/api/CertEnroll/nn-certenroll-ix509privatekey) object retrieved from step 4.</span></span>
6.  <span data-ttu-id="aeaf5-125">Вызовите свойство [**кспалгорисмс**](/windows/desktop/api/CertEnroll/nf-certenroll-icspinformation-get_cspalgorithms) для определенного объекта [**Икспинформатион**](/windows/desktop/api/CertEnroll/nn-certenroll-icspinformation) в коллекции [**икспинформатионс**](/windows/desktop/api/CertEnroll/nn-certenroll-icspinformations) , полученной на шаге 5.</span><span class="sxs-lookup"><span data-stu-id="aeaf5-125">Call the [**CspAlgorithms**](/windows/desktop/api/CertEnroll/nf-certenroll-icspinformation-get_cspalgorithms) property on a specific [**ICspInformation**](/windows/desktop/api/CertEnroll/nn-certenroll-icspinformation) object in the [**ICspInformations**](/windows/desktop/api/CertEnroll/nn-certenroll-icspinformations) collection retrieved in step 5.</span></span>

## <a name="enumcontainerswstr"></a><span data-ttu-id="aeaf5-126">енумконтаинерсвстр</span><span class="sxs-lookup"><span data-stu-id="aeaf5-126">enumContainersWStr</span></span>

<span data-ttu-id="aeaf5-127">Функция [**енумконтаинерсвстр**](/windows/desktop/api/xenroll/nf-xenroll-ienroll-enumcontainerswstr) в Xenroll.dll извлекает контейнер ключей из коллекции по индексу.</span><span class="sxs-lookup"><span data-stu-id="aeaf5-127">The [**enumContainersWStr**](/windows/desktop/api/xenroll/nf-xenroll-ienroll-enumcontainerswstr) function in Xenroll.dll retrieves a key container from the collection by index.</span></span>

<span data-ttu-id="aeaf5-128">Библиотека CertEnroll.dll не реализует эту функцию напрямую.</span><span class="sxs-lookup"><span data-stu-id="aeaf5-128">The CertEnroll.dll library does not directly implement this functionality.</span></span>

## <a name="enumproviderswstr"></a><span data-ttu-id="aeaf5-129">енумпровидерсвстр</span><span class="sxs-lookup"><span data-stu-id="aeaf5-129">enumProvidersWStr</span></span>

<span data-ttu-id="aeaf5-130">Функция [**енумпровидерсвстр**](/windows/desktop/api/xenroll/nf-xenroll-ienroll-enumproviderswstr) в Xenroll.dll извлекает CSP из коллекции по индексу.</span><span class="sxs-lookup"><span data-stu-id="aeaf5-130">The [**enumProvidersWStr**](/windows/desktop/api/xenroll/nf-xenroll-ienroll-enumproviderswstr) function in Xenroll.dll retrieves a CSP from the collection by index.</span></span>

<span data-ttu-id="aeaf5-131">При использовании CertEnroll.dll можно выполнить следующие действия, чтобы получить коллекцию криптографических контейнеров:</span><span class="sxs-lookup"><span data-stu-id="aeaf5-131">When using CertEnroll.dll, you can perform the following actions to retrieve the collection of cryptographic containers:</span></span>

1.  <span data-ttu-id="aeaf5-132">Вызовите свойство [**request**](/windows/desktop/api/CertEnroll/nf-certenroll-ix509enrollment-get_request) для существующего объекта [**IX509Enrollment**](/windows/desktop/api/CertEnroll/nn-certenroll-ix509enrollment) .</span><span class="sxs-lookup"><span data-stu-id="aeaf5-132">Call the [**Request**](/windows/desktop/api/CertEnroll/nf-certenroll-ix509enrollment-get_request) property on an existing [**IX509Enrollment**](/windows/desktop/api/CertEnroll/nn-certenroll-ix509enrollment) object.</span></span>
2.  <span data-ttu-id="aeaf5-133">Вызовите метод [**жетиннеррекуест**](/windows/desktop/api/CertEnroll/nf-certenroll-ix509certificaterequest-getinnerrequest) для запроса, возвращенного на шаге 1, чтобы получить самый внутренний запрос.</span><span class="sxs-lookup"><span data-stu-id="aeaf5-133">Call the [**GetInnerRequest**](/windows/desktop/api/CertEnroll/nf-certenroll-ix509certificaterequest-getinnerrequest) method on the request returned from step 1 to retrieve the innermost request.</span></span>
3.  <span data-ttu-id="aeaf5-134">Вызовите **QueryInterface** для объекта [**IX509CertificateRequest**](/windows/desktop/api/CertEnroll/nn-certenroll-ix509certificaterequest) , возвращенного из шага 2, для приведения к объекту [**IX509CertificateRequestPkcs10**](/windows/desktop/api/CertEnroll/nn-certenroll-ix509certificaterequestpkcs10) .</span><span class="sxs-lookup"><span data-stu-id="aeaf5-134">Call **QueryInterface** on the [**IX509CertificateRequest**](/windows/desktop/api/CertEnroll/nn-certenroll-ix509certificaterequest) object returned from step 2 to cast to an [**IX509CertificateRequestPkcs10**](/windows/desktop/api/CertEnroll/nn-certenroll-ix509certificaterequestpkcs10) object.</span></span>
4.  <span data-ttu-id="aeaf5-135">Вызовите свойство [**PrivateKey**](/windows/desktop/SecCrypto/privatekey) в запросе PKCS \# 10.</span><span class="sxs-lookup"><span data-stu-id="aeaf5-135">Call the [**PrivateKey**](/windows/desktop/SecCrypto/privatekey) property on the PKCS \#10 request.</span></span>
5.  <span data-ttu-id="aeaf5-136">Вызовите свойство [**кспинформатионс**](/windows/desktop/api/CertEnroll/nf-certenroll-ix509privatekey-get_cspinformations) объекта [**IX509PrivateKey**](/windows/desktop/api/CertEnroll/nn-certenroll-ix509privatekey) , полученного на шаге 4.</span><span class="sxs-lookup"><span data-stu-id="aeaf5-136">Call the [**CspInformations**](/windows/desktop/api/CertEnroll/nf-certenroll-ix509privatekey-get_cspinformations) property on the [**IX509PrivateKey**](/windows/desktop/api/CertEnroll/nn-certenroll-ix509privatekey) object retrieved from step 4.</span></span>

## <a name="getalgnamewstr"></a><span data-ttu-id="aeaf5-137">жеталгнамевстр</span><span class="sxs-lookup"><span data-stu-id="aeaf5-137">GetAlgNameWStr</span></span>

<span data-ttu-id="aeaf5-138">Функция [**жеталгнамевстр**](/windows/desktop/api/xenroll/nf-xenroll-ienroll2-getalgnamewstr) в Xenroll.dll извлекает имя [*алгоритма шифрования*](/windows/desktop/SecGloss/c-gly).</span><span class="sxs-lookup"><span data-stu-id="aeaf5-138">The [**GetAlgNameWStr**](/windows/desktop/api/xenroll/nf-xenroll-ienroll2-getalgnamewstr) function in Xenroll.dll retrieves the name of a [*cryptographic algorithm*](/windows/desktop/SecGloss/c-gly).</span></span>

<span data-ttu-id="aeaf5-139">При использовании CertEnroll.dll можно выполнить следующие действия, чтобы получить имя алгоритма:</span><span class="sxs-lookup"><span data-stu-id="aeaf5-139">When using CertEnroll.dll, you can perform the following actions to retrieve the algorithm name:</span></span>

1.  <span data-ttu-id="aeaf5-140">Вызовите свойство [**request**](/windows/desktop/api/CertEnroll/nf-certenroll-ix509enrollment-get_request) для существующего объекта [**IX509Enrollment**](/windows/desktop/api/CertEnroll/nn-certenroll-ix509enrollment) .</span><span class="sxs-lookup"><span data-stu-id="aeaf5-140">Call the [**Request**](/windows/desktop/api/CertEnroll/nf-certenroll-ix509enrollment-get_request) property on an existing [**IX509Enrollment**](/windows/desktop/api/CertEnroll/nn-certenroll-ix509enrollment) object.</span></span>
2.  <span data-ttu-id="aeaf5-141">Вызовите метод [**жетиннеррекуест**](/windows/desktop/api/CertEnroll/nf-certenroll-ix509certificaterequest-getinnerrequest) для запроса, возвращенного на шаге 1, чтобы получить самый внутренний запрос.</span><span class="sxs-lookup"><span data-stu-id="aeaf5-141">Call the [**GetInnerRequest**](/windows/desktop/api/CertEnroll/nf-certenroll-ix509certificaterequest-getinnerrequest) method on the request returned from step 1 to retrieve the innermost request.</span></span>
3.  <span data-ttu-id="aeaf5-142">Вызовите **QueryInterface** для объекта [**IX509CertificateRequest**](/windows/desktop/api/CertEnroll/nn-certenroll-ix509certificaterequest) , возвращенного из шага 2, для приведения к объекту [**IX509CertificateRequestPkcs10**](/windows/desktop/api/CertEnroll/nn-certenroll-ix509certificaterequestpkcs10) .</span><span class="sxs-lookup"><span data-stu-id="aeaf5-142">Call **QueryInterface** on the [**IX509CertificateRequest**](/windows/desktop/api/CertEnroll/nn-certenroll-ix509certificaterequest) object returned from step 2 to cast to an [**IX509CertificateRequestPkcs10**](/windows/desktop/api/CertEnroll/nn-certenroll-ix509certificaterequestpkcs10) object.</span></span>
4.  <span data-ttu-id="aeaf5-143">Вызовите свойство [**PrivateKey**](/windows/desktop/SecCrypto/privatekey) в запросе PKCS \# 10.</span><span class="sxs-lookup"><span data-stu-id="aeaf5-143">Call the [**PrivateKey**](/windows/desktop/SecCrypto/privatekey) property on the PKCS \#10 request.</span></span>
5.  <span data-ttu-id="aeaf5-144">Вызовите свойство [**Algorithm**](/windows/desktop/api/CertEnroll/nf-certenroll-ix509privatekey-get_algorithm) объекта [**IX509PrivateKey**](/windows/desktop/api/CertEnroll/nn-certenroll-ix509privatekey) , чтобы получить идентификатор объекта алгоритма.</span><span class="sxs-lookup"><span data-stu-id="aeaf5-144">Call the [**Algorithm**](/windows/desktop/api/CertEnroll/nf-certenroll-ix509privatekey-get_algorithm) property on the [**IX509PrivateKey**](/windows/desktop/api/CertEnroll/nn-certenroll-ix509privatekey) object to retrieve the algorithm object identifier.</span></span>
6.  <span data-ttu-id="aeaf5-145">Вызовите свойство [**FriendlyName**](/windows/desktop/api/CertEnroll/nf-certenroll-iobjectid-get_friendlyname) в интерфейсе [**иобжектид**](/windows/desktop/api/CertEnroll/nn-certenroll-iobjectid) , чтобы получить отображаемое имя алгоритма.</span><span class="sxs-lookup"><span data-stu-id="aeaf5-145">Call the [**FriendlyName**](/windows/desktop/api/CertEnroll/nf-certenroll-iobjectid-get_friendlyname) property on the [**IObjectId**](/windows/desktop/api/CertEnroll/nn-certenroll-iobjectid) interface to retrieve the algorithm display name.</span></span>

## <a name="getprovidertypewstr"></a><span data-ttu-id="aeaf5-146">жетпровидертипевстр</span><span class="sxs-lookup"><span data-stu-id="aeaf5-146">getProviderTypeWStr</span></span>

<span data-ttu-id="aeaf5-147">Функция [**жетпровидертипевстр**](/windows/desktop/api/xenroll/nf-xenroll-ienroll4-getprovidertypewstr) в Xenroll.dll Извлекает тип поставщика служб шифрования.</span><span class="sxs-lookup"><span data-stu-id="aeaf5-147">The [**getProviderTypeWStr**](/windows/desktop/api/xenroll/nf-xenroll-ienroll4-getprovidertypewstr) function in Xenroll.dll retrieves the cryptographic provider type.</span></span>

<span data-ttu-id="aeaf5-148">При использовании CertEnroll.dll можно выполнить следующие действия, чтобы получить тип поставщика:</span><span class="sxs-lookup"><span data-stu-id="aeaf5-148">When using CertEnroll.dll, you can perform the following actions to retrieve the provider type:</span></span>

1.  <span data-ttu-id="aeaf5-149">Вызовите свойство [**request**](/windows/desktop/api/CertEnroll/nf-certenroll-ix509enrollment-get_request) для существующего объекта [**IX509Enrollment**](/windows/desktop/api/CertEnroll/nn-certenroll-ix509enrollment) .</span><span class="sxs-lookup"><span data-stu-id="aeaf5-149">Call the [**Request**](/windows/desktop/api/CertEnroll/nf-certenroll-ix509enrollment-get_request) property on an existing [**IX509Enrollment**](/windows/desktop/api/CertEnroll/nn-certenroll-ix509enrollment) object.</span></span>
2.  <span data-ttu-id="aeaf5-150">Вызовите метод [**жетиннеррекуест**](/windows/desktop/api/CertEnroll/nf-certenroll-ix509certificaterequest-getinnerrequest) для запроса, возвращенного на шаге 1, чтобы получить самый внутренний запрос.</span><span class="sxs-lookup"><span data-stu-id="aeaf5-150">Call the [**GetInnerRequest**](/windows/desktop/api/CertEnroll/nf-certenroll-ix509certificaterequest-getinnerrequest) method on the request returned from step 1 to retrieve the innermost request.</span></span>
3.  <span data-ttu-id="aeaf5-151">Вызовите **QueryInterface** для объекта [**IX509CertificateRequest**](/windows/desktop/api/CertEnroll/nn-certenroll-ix509certificaterequest) , возвращенного из шага 2, для приведения к объекту [**IX509CertificateRequestPkcs10**](/windows/desktop/api/CertEnroll/nn-certenroll-ix509certificaterequestpkcs10) .</span><span class="sxs-lookup"><span data-stu-id="aeaf5-151">Call **QueryInterface** on the [**IX509CertificateRequest**](/windows/desktop/api/CertEnroll/nn-certenroll-ix509certificaterequest) object returned from step 2 to cast to an [**IX509CertificateRequestPkcs10**](/windows/desktop/api/CertEnroll/nn-certenroll-ix509certificaterequestpkcs10) object.</span></span>
4.  <span data-ttu-id="aeaf5-152">Вызовите свойство [**PrivateKey**](/windows/desktop/SecCrypto/privatekey) в запросе PKCS \# 10.</span><span class="sxs-lookup"><span data-stu-id="aeaf5-152">Call the [**PrivateKey**](/windows/desktop/SecCrypto/privatekey) property on the PKCS \#10 request.</span></span>
5.  <span data-ttu-id="aeaf5-153">Вызовите свойство [**ProviderType**](/windows/desktop/api/CertEnroll/nf-certenroll-ix509privatekey-get_providertype) объекта [**IX509PrivateKey**](/windows/desktop/api/CertEnroll/nn-certenroll-ix509privatekey) , полученное на шаге 4.</span><span class="sxs-lookup"><span data-stu-id="aeaf5-153">Call the [**ProviderType**](/windows/desktop/api/CertEnroll/nf-certenroll-ix509privatekey-get_providertype) property on the [**IX509PrivateKey**](/windows/desktop/api/CertEnroll/nn-certenroll-ix509privatekey) object retrieved from step 4.</span></span>

## <a name="hashalgid"></a><span data-ttu-id="aeaf5-154">хашалгид</span><span class="sxs-lookup"><span data-stu-id="aeaf5-154">HashAlgID</span></span>

<span data-ttu-id="aeaf5-155">Функция [**хашалгид**](/windows/desktop/api/xenroll/nf-xenroll-ienroll2-get_hashalgid) в Xenroll.dll извлекает целочисленное значение, содержащее идентификатор алгоритма, используемого для подписания запроса.</span><span class="sxs-lookup"><span data-stu-id="aeaf5-155">The [**HashAlgID**](/windows/desktop/api/xenroll/nf-xenroll-ienroll2-get_hashalgid) function in Xenroll.dll retrieves an integer value that contains the ID of the algorithm used to sign a request.</span></span>

<span data-ttu-id="aeaf5-156">При использовании CertEnroll.dll можно выполнить следующие действия для получения алгоритма хэширования:</span><span class="sxs-lookup"><span data-stu-id="aeaf5-156">When using CertEnroll.dll, you can perform the following actions to retrieve the hashing algorithm:</span></span>

-   <span data-ttu-id="aeaf5-157">Получите интерфейс [**IX509SignatureInformation**](/windows/desktop/api/CertEnroll/nn-certenroll-ix509signatureinformation) путем вызова свойства [**СИГНАТУРЕИНФОРМАТИОН**](/windows/desktop/api/CertEnroll/nf-certenroll-ix509certificaterequestpkcs10-get_signatureinformation) в \# запросе PKCS 10 или CMC или свойства [**сигнерцертификате**](/windows/desktop/api/CertEnroll/nf-certenroll-ix509certificaterequestpkcs7-get_signercertificate) в запросе [*PKCS \# 7*](/windows/desktop/SecGloss/p-gly) .</span><span class="sxs-lookup"><span data-stu-id="aeaf5-157">Retrieve an [**IX509SignatureInformation**](/windows/desktop/api/CertEnroll/nn-certenroll-ix509signatureinformation) interface by calling the [**SignatureInformation**](/windows/desktop/api/CertEnroll/nf-certenroll-ix509certificaterequestpkcs10-get_signatureinformation) property on a PKCS \#10 or CMC request or the [**SignerCertificate**](/windows/desktop/api/CertEnroll/nf-certenroll-ix509certificaterequestpkcs7-get_signercertificate) property on a [*PKCS \#7*](/windows/desktop/SecGloss/p-gly) request.</span></span>
-   <span data-ttu-id="aeaf5-158">Вызовите свойство [**HashAlgorithm**](/windows/desktop/api/CertEnroll/nf-certenroll-ix509signatureinformation-get_hashalgorithm) объекта сведений о сигнатуре, чтобы получить идентификатор объекта хэш-алгоритма.</span><span class="sxs-lookup"><span data-stu-id="aeaf5-158">Call the [**HashAlgorithm**](/windows/desktop/api/CertEnroll/nf-certenroll-ix509signatureinformation-get_hashalgorithm) property on the signature information object to retrieve the hash algorithm object identifier.</span></span>

## <a name="hashalgorithmwstr"></a><span data-ttu-id="aeaf5-159">хашалгорисмвстр</span><span class="sxs-lookup"><span data-stu-id="aeaf5-159">HashAlgorithmWStr</span></span>

<span data-ttu-id="aeaf5-160">Функция [**хашалгорисмвстр**](/windows/desktop/api/xenroll/nf-xenroll-ienroll-get_hashalgorithmwstr) в Xenroll.dll указывает или получает строковое значение, идентифицирующее алгоритм хэширования, используемый для подписания запроса.</span><span class="sxs-lookup"><span data-stu-id="aeaf5-160">The [**HashAlgorithmWStr**](/windows/desktop/api/xenroll/nf-xenroll-ienroll-get_hashalgorithmwstr) function in Xenroll.dll specifies or retrieves a string value that identifies the hashing algorithm used to sign a request.</span></span>

<span data-ttu-id="aeaf5-161">При использовании CertEnroll.dll можно выполнить следующие действия для получения алгоритма хэширования:</span><span class="sxs-lookup"><span data-stu-id="aeaf5-161">When using CertEnroll.dll, you can perform the following actions to retrieve the hashing algorithm:</span></span>

-   <span data-ttu-id="aeaf5-162">Получите интерфейс [**IX509SignatureInformation**](/windows/desktop/api/CertEnroll/nn-certenroll-ix509signatureinformation) путем вызова свойства [**СИГНАТУРЕИНФОРМАТИОН**](/windows/desktop/api/CertEnroll/nf-certenroll-ix509certificaterequestpkcs10-get_signatureinformation) в \# запросе PKCS 10 или CMC или свойства [**сигнерцертификате**](/windows/desktop/api/CertEnroll/nf-certenroll-ix509certificaterequestpkcs7-get_signercertificate) в \# запросе PKCS 7.</span><span class="sxs-lookup"><span data-stu-id="aeaf5-162">Retrieve an [**IX509SignatureInformation**](/windows/desktop/api/CertEnroll/nn-certenroll-ix509signatureinformation) interface by calling the [**SignatureInformation**](/windows/desktop/api/CertEnroll/nf-certenroll-ix509certificaterequestpkcs10-get_signatureinformation) property on a PKCS \#10 or CMC request or the [**SignerCertificate**](/windows/desktop/api/CertEnroll/nf-certenroll-ix509certificaterequestpkcs7-get_signercertificate) property on a PKCS \#7 request.</span></span>
-   <span data-ttu-id="aeaf5-163">Вызовите свойство [**HashAlgorithm**](/windows/desktop/api/CertEnroll/nf-certenroll-ix509signatureinformation-get_hashalgorithm) объекта сведений о сигнатуре, чтобы получить идентификатор объекта хэш-алгоритма.</span><span class="sxs-lookup"><span data-stu-id="aeaf5-163">Call the [**HashAlgorithm**](/windows/desktop/api/CertEnroll/nf-certenroll-ix509signatureinformation-get_hashalgorithm) property on the signature information object to retrieve the hash algorithm object identifier.</span></span>
-   <span data-ttu-id="aeaf5-164">Вызовите свойство [**FriendlyName**](/windows/desktop/api/CertEnroll/nf-certenroll-iobjectid-get_friendlyname) в интерфейсе [**иобжектид**](/windows/desktop/api/CertEnroll/nn-certenroll-iobjectid) , возвращенном на шаге 2, чтобы получить отображаемое имя алгоритма.</span><span class="sxs-lookup"><span data-stu-id="aeaf5-164">Call the [**FriendlyName**](/windows/desktop/api/CertEnroll/nf-certenroll-iobjectid-get_friendlyname) property on the [**IObjectId**](/windows/desktop/api/CertEnroll/nn-certenroll-iobjectid) interface returned in step 2 to retrieve the algorithm display name.</span></span>

## <a name="providerflags"></a><span data-ttu-id="aeaf5-165">провидерфлагс</span><span class="sxs-lookup"><span data-stu-id="aeaf5-165">ProviderFlags</span></span>

<span data-ttu-id="aeaf5-166">Функция [**провидерфлагс**](/windows/desktop/api/xenroll/nf-xenroll-ienroll-get_providerflags) в Xenroll.dll указывает или получает флаги, используемые при получении маркера CSP.</span><span class="sxs-lookup"><span data-stu-id="aeaf5-166">The [**ProviderFlags**](/windows/desktop/api/xenroll/nf-xenroll-ienroll-get_providerflags) function in Xenroll.dll specifies or retrieves the flags used when acquiring a handle to a CSP.</span></span>

<span data-ttu-id="aeaf5-167">Библиотека CertEnroll.dll не сопоставляет эту функцию идеально, но вы можете получить подробные сведения о свойствах из объекта регистрации и [*закрытого ключа*](/windows/desktop/SecGloss/p-gly).</span><span class="sxs-lookup"><span data-stu-id="aeaf5-167">The CertEnroll.dll library does not map this function perfectly, but you can obtain rich property information from the enrollment object and the [*private key*](/windows/desktop/SecGloss/p-gly).</span></span> <span data-ttu-id="aeaf5-168">Для получения дополнительных сведений изучите свойства, предоставляемые интерфейсами [**IX509Enrollment**](/windows/desktop/api/CertEnroll/nn-certenroll-ix509enrollment) и [**IX509PrivateKey**](/windows/desktop/api/CertEnroll/nn-certenroll-ix509privatekey) .</span><span class="sxs-lookup"><span data-stu-id="aeaf5-168">For more information, examine the properties exposed by the [**IX509Enrollment**](/windows/desktop/api/CertEnroll/nn-certenroll-ix509enrollment) and [**IX509PrivateKey**](/windows/desktop/api/CertEnroll/nn-certenroll-ix509privatekey) interfaces.</span></span>

## <a name="providernamewstr"></a><span data-ttu-id="aeaf5-169">провидернамевстр</span><span class="sxs-lookup"><span data-stu-id="aeaf5-169">ProviderNameWStr</span></span>

<span data-ttu-id="aeaf5-170">Функция [**провидернамевстр**](/windows/desktop/api/xenroll/nf-xenroll-ienroll-get_providernamewstr) в Xenroll.dll указывает или получает имя CSP.</span><span class="sxs-lookup"><span data-stu-id="aeaf5-170">The [**ProviderNameWStr**](/windows/desktop/api/xenroll/nf-xenroll-ienroll-get_providernamewstr) function in Xenroll.dll specifies or retrieves the name of a CSP.</span></span>

<span data-ttu-id="aeaf5-171">При использовании CertEnroll.dll можно выполнить следующие действия, чтобы получить имя поставщика:</span><span class="sxs-lookup"><span data-stu-id="aeaf5-171">When using CertEnroll.dll, you can perform the following actions to retrieve the provider name:</span></span>

1.  <span data-ttu-id="aeaf5-172">Вызовите свойство [**request**](/windows/desktop/api/CertEnroll/nf-certenroll-ix509enrollment-get_request) для существующего объекта [**IX509Enrollment**](/windows/desktop/api/CertEnroll/nn-certenroll-ix509enrollment) .</span><span class="sxs-lookup"><span data-stu-id="aeaf5-172">Call the [**Request**](/windows/desktop/api/CertEnroll/nf-certenroll-ix509enrollment-get_request) property on an existing [**IX509Enrollment**](/windows/desktop/api/CertEnroll/nn-certenroll-ix509enrollment) object.</span></span>
2.  <span data-ttu-id="aeaf5-173">Вызовите метод [**жетиннеррекуест**](/windows/desktop/api/CertEnroll/nf-certenroll-ix509certificaterequest-getinnerrequest) для запроса, возвращенного на шаге 1, чтобы получить самый внутренний запрос.</span><span class="sxs-lookup"><span data-stu-id="aeaf5-173">Call the [**GetInnerRequest**](/windows/desktop/api/CertEnroll/nf-certenroll-ix509certificaterequest-getinnerrequest) method on the request returned from step 1 to retrieve the innermost request.</span></span>
3.  <span data-ttu-id="aeaf5-174">Вызовите **QueryInterface** для объекта [**IX509CertificateRequest**](/windows/desktop/api/CertEnroll/nn-certenroll-ix509certificaterequest) , возвращенного из шага 2, для приведения к объекту [**IX509CertificateRequestPkcs10**](/windows/desktop/api/CertEnroll/nn-certenroll-ix509certificaterequestpkcs10) .</span><span class="sxs-lookup"><span data-stu-id="aeaf5-174">Call **QueryInterface** on the [**IX509CertificateRequest**](/windows/desktop/api/CertEnroll/nn-certenroll-ix509certificaterequest) object returned from step 2 to cast to an [**IX509CertificateRequestPkcs10**](/windows/desktop/api/CertEnroll/nn-certenroll-ix509certificaterequestpkcs10) object.</span></span>
4.  <span data-ttu-id="aeaf5-175">Вызовите свойство [**PrivateKey**](/windows/desktop/SecCrypto/privatekey) в запросе PKCS \# 10.</span><span class="sxs-lookup"><span data-stu-id="aeaf5-175">Call the [**PrivateKey**](/windows/desktop/SecCrypto/privatekey) property on the PKCS \#10 request.</span></span>
5.  <span data-ttu-id="aeaf5-176">Вызовите свойство [**providerName**](/windows/desktop/api/CertEnroll/nf-certenroll-ix509privatekey-get_providername) для объекта [**IX509PrivateKey**](/windows/desktop/api/CertEnroll/nn-certenroll-ix509privatekey) , полученного на шаге 4.</span><span class="sxs-lookup"><span data-stu-id="aeaf5-176">Call the [**ProviderName**](/windows/desktop/api/CertEnroll/nf-certenroll-ix509privatekey-get_providername) property on the [**IX509PrivateKey**](/windows/desktop/api/CertEnroll/nn-certenroll-ix509privatekey) object retrieved from step 4.</span></span>

## <a name="providertype"></a><span data-ttu-id="aeaf5-177">ProviderType</span><span class="sxs-lookup"><span data-stu-id="aeaf5-177">ProviderType</span></span>

<span data-ttu-id="aeaf5-178">Функция [**ProviderType**](/windows/desktop/api/xenroll/nf-xenroll-ienroll-get_providertype) в Xenroll.dll указывает или получает целочисленное значение, идентифицирующее тип CSP.</span><span class="sxs-lookup"><span data-stu-id="aeaf5-178">The [**ProviderType**](/windows/desktop/api/xenroll/nf-xenroll-ienroll-get_providertype) function in Xenroll.dll specifies or retrieves an integer value that identifies the type of the CSP.</span></span>

<span data-ttu-id="aeaf5-179">При использовании CertEnroll.dll можно выполнить следующие действия, чтобы получить тип поставщика:</span><span class="sxs-lookup"><span data-stu-id="aeaf5-179">When using CertEnroll.dll, you can perform the following actions to retrieve the provider type:</span></span>

1.  <span data-ttu-id="aeaf5-180">Вызовите свойство [**request**](/windows/desktop/api/CertEnroll/nf-certenroll-ix509enrollment-get_request) для существующего объекта [**IX509Enrollment**](/windows/desktop/api/CertEnroll/nn-certenroll-ix509enrollment) .</span><span class="sxs-lookup"><span data-stu-id="aeaf5-180">Call the [**Request**](/windows/desktop/api/CertEnroll/nf-certenroll-ix509enrollment-get_request) property on an existing [**IX509Enrollment**](/windows/desktop/api/CertEnroll/nn-certenroll-ix509enrollment) object.</span></span>
2.  <span data-ttu-id="aeaf5-181">Вызовите метод [**жетиннеррекуест**](/windows/desktop/api/CertEnroll/nf-certenroll-ix509certificaterequest-getinnerrequest) для запроса, возвращенного на шаге 1, чтобы получить самый внутренний запрос.</span><span class="sxs-lookup"><span data-stu-id="aeaf5-181">Call the [**GetInnerRequest**](/windows/desktop/api/CertEnroll/nf-certenroll-ix509certificaterequest-getinnerrequest) method on the request returned from step 1 to retrieve the innermost request.</span></span>
3.  <span data-ttu-id="aeaf5-182">Вызовите **QueryInterface** для объекта [**IX509CertificateRequest**](/windows/desktop/api/CertEnroll/nn-certenroll-ix509certificaterequest) , возвращенного из шага 2, для приведения к объекту [**IX509CertificateRequestPkcs10**](/windows/desktop/api/CertEnroll/nn-certenroll-ix509certificaterequestpkcs10) .</span><span class="sxs-lookup"><span data-stu-id="aeaf5-182">Call **QueryInterface** on the [**IX509CertificateRequest**](/windows/desktop/api/CertEnroll/nn-certenroll-ix509certificaterequest) object returned from step 2 to cast to an [**IX509CertificateRequestPkcs10**](/windows/desktop/api/CertEnroll/nn-certenroll-ix509certificaterequestpkcs10) object.</span></span>
4.  <span data-ttu-id="aeaf5-183">Вызовите свойство [**PrivateKey**](/windows/desktop/SecCrypto/privatekey) в запросе PKCS \# 10.</span><span class="sxs-lookup"><span data-stu-id="aeaf5-183">Call the [**PrivateKey**](/windows/desktop/SecCrypto/privatekey) property on the PKCS \#10 request.</span></span>
5.  <span data-ttu-id="aeaf5-184">Вызовите свойство [**ProviderType**](/windows/desktop/api/CertEnroll/nf-certenroll-ix509privatekey-get_providertype) объекта [**IX509PrivateKey**](/windows/desktop/api/CertEnroll/nn-certenroll-ix509privatekey) , полученное на шаге 4.</span><span class="sxs-lookup"><span data-stu-id="aeaf5-184">Call the [**ProviderType**](/windows/desktop/api/CertEnroll/nf-certenroll-ix509privatekey-get_providertype) property on the [**IX509PrivateKey**](/windows/desktop/api/CertEnroll/nn-certenroll-ix509privatekey) object retrieved from step 4.</span></span>

## <a name="related-topics"></a><span data-ttu-id="aeaf5-185">См. также</span><span class="sxs-lookup"><span data-stu-id="aeaf5-185">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="aeaf5-186">Сопоставление Xenroll.dll CertEnroll.dll</span><span class="sxs-lookup"><span data-stu-id="aeaf5-186">Mapping Xenroll.dll to CertEnroll.dll</span></span>](mapping-xenroll-dll-to-certenroll-dll.md)
</dt> <dt>

[<span data-ttu-id="aeaf5-187">**икспалгорисм**</span><span class="sxs-lookup"><span data-stu-id="aeaf5-187">**ICspAlgorithm**</span></span>](/windows/desktop/api/CertEnroll/nn-certenroll-icspalgorithm)
</dt> <dt>

[<span data-ttu-id="aeaf5-188">**икспалгорисмс**</span><span class="sxs-lookup"><span data-stu-id="aeaf5-188">**ICspAlgorithms**</span></span>](/windows/desktop/api/CertEnroll/nn-certenroll-icspalgorithms)
</dt> <dt>

[<span data-ttu-id="aeaf5-189">**икспинформатион**</span><span class="sxs-lookup"><span data-stu-id="aeaf5-189">**ICspInformation**</span></span>](/windows/desktop/api/CertEnroll/nn-certenroll-icspinformation)
</dt> <dt>

[<span data-ttu-id="aeaf5-190">**икспинформатионс**</span><span class="sxs-lookup"><span data-stu-id="aeaf5-190">**ICspInformations**</span></span>](/windows/desktop/api/CertEnroll/nn-certenroll-icspinformations)
</dt> <dt>

[<span data-ttu-id="aeaf5-191">**IX509Enrollment**</span><span class="sxs-lookup"><span data-stu-id="aeaf5-191">**IX509Enrollment**</span></span>](/windows/desktop/api/CertEnroll/nn-certenroll-ix509enrollment)
</dt> <dt>

[<span data-ttu-id="aeaf5-192">**IX509PrivateKey**</span><span class="sxs-lookup"><span data-stu-id="aeaf5-192">**IX509PrivateKey**</span></span>](/windows/desktop/api/CertEnroll/nn-certenroll-ix509privatekey)
</dt> </dl>

 

 
