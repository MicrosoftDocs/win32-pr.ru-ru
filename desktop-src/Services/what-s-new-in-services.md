---
description: Windows 7 и Windows Server 2008 R2 включают в себя следующие новые и обновленные программные элементы для служб.
ms.assetid: 4be7e244-ad4c-440d-b04e-23afb4c7ddf2
title: Новые возможности служб для Windows 7
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 51bd2e8bfa5426447e24485ed026f27e90fdcaa1
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "105664459"
---
# <a name="whats-new-in-services-for-windows-7"></a><span data-ttu-id="4afea-103">Новые возможности служб для Windows 7</span><span class="sxs-lookup"><span data-stu-id="4afea-103">What's New in Services for Windows 7</span></span>

<span data-ttu-id="4afea-104">Windows 7 и Windows Server 2008 R2 включают в себя следующие новые и обновленные программные элементы для служб.</span><span class="sxs-lookup"><span data-stu-id="4afea-104">Windows 7 and Windows Server 2008 R2 include the following new and updated programming elements for services.</span></span>

## <a name="new-capabilities"></a><span data-ttu-id="4afea-105">Новые возможности</span><span class="sxs-lookup"><span data-stu-id="4afea-105">New Capabilities</span></span>

<span data-ttu-id="4afea-106">Служба может зарегистрироваться для запуска или остановки при возникновении события триггера.</span><span class="sxs-lookup"><span data-stu-id="4afea-106">A service can register to be started or stopped when a trigger event occurs.</span></span> <span data-ttu-id="4afea-107">Это устраняет необходимость запуска служб при запуске системы или для опроса или активного ожидания события в службах. Служба может запускаться при необходимости, а не запускать автоматически независимо от того, есть ли у вас работа.</span><span class="sxs-lookup"><span data-stu-id="4afea-107">This eliminates the need for services to start when the system starts, or for services to poll or actively wait for an event; a service can start when it is needed, instead of starting automatically whether or not there is work to do.</span></span> <span data-ttu-id="4afea-108">Дополнительные сведения см. в разделе [события триггера службы](service-trigger-events.md).</span><span class="sxs-lookup"><span data-stu-id="4afea-108">For more information, see [Service Trigger Events](service-trigger-events.md).</span></span>

## <a name="updated-functions"></a><span data-ttu-id="4afea-109">Обновленные функции</span><span class="sxs-lookup"><span data-stu-id="4afea-109">Updated Functions</span></span>



| <span data-ttu-id="4afea-110">Функция</span><span class="sxs-lookup"><span data-stu-id="4afea-110">Function</span></span>                                                        | <span data-ttu-id="4afea-111">Описание</span><span class="sxs-lookup"><span data-stu-id="4afea-111">Description</span></span>                                                                                                                                                                                                                                                                                |
|-----------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="4afea-112">**чанжесервицеконфиг**</span><span class="sxs-lookup"><span data-stu-id="4afea-112">**ChangeServiceConfig**</span></span>](/windows/desktop/api/Winsvc/nf-winsvc-changeserviceconfiga)<br/>   | <span data-ttu-id="4afea-113">Изменяет параметры конфигурации службы.</span><span class="sxs-lookup"><span data-stu-id="4afea-113">Changes the configuration parameters of a service.</span></span> <span data-ttu-id="4afea-114">Эта функция поддерживает управляемые учетные записи служб и виртуальные учетные записи.</span><span class="sxs-lookup"><span data-stu-id="4afea-114">This function supports managed service accounts and virtual accounts.</span></span> <span data-ttu-id="4afea-115">Дополнительные сведения см. [в разделе Пошаговое руководств по учетным записям служб](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/dd548356(v=ws.10)).</span><span class="sxs-lookup"><span data-stu-id="4afea-115">For more information, see [Service Accounts Step-by-Step Guide](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/dd548356(v=ws.10)).</span></span><br/>                                      |
| [<span data-ttu-id="4afea-116">**ChangeServiceConfig2**</span><span class="sxs-lookup"><span data-stu-id="4afea-116">**ChangeServiceConfig2**</span></span>](/windows/desktop/api/Winsvc/nf-winsvc-changeserviceconfig2a)<br/> | <span data-ttu-id="4afea-117">Изменяет необязательные параметры конфигурации службы.</span><span class="sxs-lookup"><span data-stu-id="4afea-117">Changes the optional configuration parameters of a service.</span></span> <span data-ttu-id="4afea-118">Эта функция поддерживает новые уровни сведений о конфигурации для групп процессоров и событий триггеров служб.</span><span class="sxs-lookup"><span data-stu-id="4afea-118">This function supports new configuration information levels for processor groups and service trigger events.</span></span><br/>                                                                                                        |
| [<span data-ttu-id="4afea-119">**CreateService**</span><span class="sxs-lookup"><span data-stu-id="4afea-119">**CreateService**</span></span>](/windows/desktop/api/Winsvc/nf-winsvc-createservicea)<br/>               | <span data-ttu-id="4afea-120">Создает объект службы и добавляет его в указанную базу данных диспетчера управления службами.</span><span class="sxs-lookup"><span data-stu-id="4afea-120">Creates a service object and adds it to the specified service control manager database.</span></span> <span data-ttu-id="4afea-121">Эта функция поддерживает управляемые учетные записи служб и виртуальные учетные записи.</span><span class="sxs-lookup"><span data-stu-id="4afea-121">This function supports managed service accounts and virtual accounts.</span></span> <span data-ttu-id="4afea-122">Дополнительные сведения см. [в разделе Пошаговое руководств по учетным записям служб](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/dd548356(v=ws.10)).</span><span class="sxs-lookup"><span data-stu-id="4afea-122">For more information, see [Service Accounts Step-by-Step Guide](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/dd548356(v=ws.10)).</span></span><br/> |
| [<span data-ttu-id="4afea-123">**хандлерекс**</span><span class="sxs-lookup"><span data-stu-id="4afea-123">**HandlerEx**</span></span>](/windows/desktop/api/WinSvc/nc-winsvc-lphandler_function_ex)<br/>                       | <span data-ttu-id="4afea-124">Определяемая приложением функция обратного вызова, используемая с функцией [**регистерсервицектрлхандлерекс**](/windows/desktop/api/Winsvc/nf-winsvc-registerservicectrlhandlerexa) .</span><span class="sxs-lookup"><span data-stu-id="4afea-124">An application-defined callback function used with the [**RegisterServiceCtrlHandlerEx**](/windows/desktop/api/Winsvc/nf-winsvc-registerservicectrlhandlerexa) function.</span></span> <span data-ttu-id="4afea-125">Эта функция обратного вызова поддерживает новые коды расширенного управления для изменения системного времени и событий триггера службы.</span><span class="sxs-lookup"><span data-stu-id="4afea-125">This callback function supports new extended control codes for system time changes and service trigger events.</span></span><br/>                            |
| [<span data-ttu-id="4afea-126">**QueryServiceConfig2**</span><span class="sxs-lookup"><span data-stu-id="4afea-126">**QueryServiceConfig2**</span></span>](/windows/desktop/api/Winsvc/nf-winsvc-queryserviceconfig2a)<br/>   | <span data-ttu-id="4afea-127">Извлекает необязательные параметры конфигурации службы.</span><span class="sxs-lookup"><span data-stu-id="4afea-127">Retrieves the optional configuration parameters of a service.</span></span> <span data-ttu-id="4afea-128">Эта функция поддерживает новые уровни сведений о конфигурации для групп процессоров и событий триггеров служб.</span><span class="sxs-lookup"><span data-stu-id="4afea-128">This function supports new configuration information levels for processor groups and service trigger events.</span></span><br/>                                                                                                      |
| [<span data-ttu-id="4afea-129">**Сбой SetServiceStatus**</span><span class="sxs-lookup"><span data-stu-id="4afea-129">**SetServiceStatus**</span></span>](/windows/desktop/api/Winsvc/nf-winsvc-setservicestatus)<br/>         | <span data-ttu-id="4afea-130">Обновляет сведения о состоянии диспетчера управления службами для вызывающей службы.</span><span class="sxs-lookup"><span data-stu-id="4afea-130">Updates the service control manager's status information for the calling service.</span></span> <span data-ttu-id="4afea-131">Эта функция поддерживает новые коды расширенного управления для изменения системного времени и событий триггера службы.</span><span class="sxs-lookup"><span data-stu-id="4afea-131">This function supports new extended control codes for system time changes and service trigger events.</span></span><br/>                                                                                         |



 

## <a name="new-structures"></a><span data-ttu-id="4afea-132">Новые структуры</span><span class="sxs-lookup"><span data-stu-id="4afea-132">New Structures</span></span>



| <span data-ttu-id="4afea-133">Структура</span><span class="sxs-lookup"><span data-stu-id="4afea-133">Structure</span></span>                                                                                       | <span data-ttu-id="4afea-134">Описание</span><span class="sxs-lookup"><span data-stu-id="4afea-134">Description</span></span>                                                            |
|-------------------------------------------------------------------------------------------------|------------------------------------------------------------------------|
| [<span data-ttu-id="4afea-135">**\_сведения о тимечанжее службы \_**</span><span class="sxs-lookup"><span data-stu-id="4afea-135">**SERVICE\_TIMECHANGE\_INFO**</span></span>](/windows/desktop/api/winsvc/ns-winsvc-service_timechange_info)<br/>                         | <span data-ttu-id="4afea-136">Содержит параметры изменения системного времени.</span><span class="sxs-lookup"><span data-stu-id="4afea-136">Contains system time change settings.</span></span> <br/>                      |
| [<span data-ttu-id="4afea-137">**\_триггер службы**</span><span class="sxs-lookup"><span data-stu-id="4afea-137">**SERVICE\_TRIGGER**</span></span>](/windows/desktop/api/winsvc/ns-winsvc-service_trigger)<br/>                                          | <span data-ttu-id="4afea-138">Представляет событие триггера службы.</span><span class="sxs-lookup"><span data-stu-id="4afea-138">Represents a service trigger event.</span></span><br/>                         |
| [<span data-ttu-id="4afea-139">**\_сведения о триггере службы \_**</span><span class="sxs-lookup"><span data-stu-id="4afea-139">**SERVICE\_TRIGGER\_INFO**</span></span>](/windows/desktop/api/winsvc/ns-winsvc-service_trigger_info)<br/>                               | <span data-ttu-id="4afea-140">Содержит сведения о событии триггера для службы.</span><span class="sxs-lookup"><span data-stu-id="4afea-140">Contains trigger event information for a service.</span></span><br/>           |
| [<span data-ttu-id="4afea-141">**\_ \_ элемент данных, относящийся к ТРИГГЕРу службы \_ \_**</span><span class="sxs-lookup"><span data-stu-id="4afea-141">**SERVICE\_TRIGGER\_SPECIFIC\_DATA\_ITEM**</span></span>](/windows/desktop/api/winsvc/ns-winsvc-service_trigger_specific_data_item)<br/> | <span data-ttu-id="4afea-142">Содержит данные, относящиеся к триггеру, для события триггера службы.</span><span class="sxs-lookup"><span data-stu-id="4afea-142">Contains trigger-specific data for a service trigger event.</span></span><br/> |



 

 

