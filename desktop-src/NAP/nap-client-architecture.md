---
title: Архитектура клиента NAP
description: Клиент NAP — это компьютер под управлением Windows XP с пакетом обновления 3 (SP3), Windows Vista или Windows Server 2008, включающий платформу NAP.
ms.assetid: 163c33c9-b18b-49f9-a2a1-fd90a1dc0826
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 15862eaa6ae4f4c1f79c53cf9d540aedec295e8a
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/16/2019
ms.locfileid: "104331899"
---
# <a name="nap-client-architecture"></a><span data-ttu-id="fd521-103">Архитектура клиента NAP</span><span class="sxs-lookup"><span data-stu-id="fd521-103">NAP Client Architecture</span></span>

> [!Note]  
> <span data-ttu-id="fd521-104">Платформа защиты доступа к сети недоступна начиная с Windows 10</span><span class="sxs-lookup"><span data-stu-id="fd521-104">The Network Access Protection platform is not available starting with Windows 10</span></span>

 

<span data-ttu-id="fd521-105">Клиент NAP — это компьютер под управлением Windows XP с пакетом обновления 3 (SP3), Windows Vista или Windows Server 2008, включающий платформу NAP.</span><span class="sxs-lookup"><span data-stu-id="fd521-105">A NAP client is a computer running Windows XP with Service Pack 3 (SP3), Windows Vista, or Windows Server 2008 that includes the NAP platform.</span></span>

<span data-ttu-id="fd521-106">На этом рисунке показана архитектура платформы NAP на клиенте NAP.</span><span class="sxs-lookup"><span data-stu-id="fd521-106">This figure shows the architecture of the NAP platform on a NAP client.</span></span>

![Архитектура платформы NAP на клиенте NAP](images/nap-client-side-arch.png)

<span data-ttu-id="fd521-108">Архитектура клиента NAP состоит из следующих компонентов:</span><span class="sxs-lookup"><span data-stu-id="fd521-108">The NAP client architecture consists of the following:</span></span>

-   <span data-ttu-id="fd521-109">Уровень компонентов клиента принудительного применения (EC)</span><span class="sxs-lookup"><span data-stu-id="fd521-109">A layer of Enforcement Client (EC) components</span></span>

    <span data-ttu-id="fd521-110">Каждый NAP EC определяется для доступа к сети другого типа.</span><span class="sxs-lookup"><span data-stu-id="fd521-110">Each NAP EC is defined for a different type of network access.</span></span> <span data-ttu-id="fd521-111">Например, существует Конфигурация NAP для конфигурации DHCP и NAP EC для удаленного доступа к VPN-подключениям.</span><span class="sxs-lookup"><span data-stu-id="fd521-111">For example, there is a NAP EC for DHCP configuration and a NAP EC for remote access VPN connections.</span></span> <span data-ttu-id="fd521-112">NAP EC можно сопоставить с конкретным типом точки NAP.</span><span class="sxs-lookup"><span data-stu-id="fd521-112">The NAP EC can be matched to a specific type of NAP enforcement point.</span></span> <span data-ttu-id="fd521-113">Например, DHCP-сервер NAP предназначен для работы с точкой NAP на основе DHCP.</span><span class="sxs-lookup"><span data-stu-id="fd521-113">For example, the DHCP NAP EC is designed to work with a DHCP-based NAP enforcement point.</span></span> <span data-ttu-id="fd521-114">Некоторые поставщики услуг защиты доступа к сети (NAP) предоставляются вместе с платформой NAP и сторонними поставщиками программного обеспечения или корпорацией Майкрософт.</span><span class="sxs-lookup"><span data-stu-id="fd521-114">Some NAP ECs are provided with the NAP platform and third-party software vendors or Microsoft can provide others.</span></span>

-   <span data-ttu-id="fd521-115">Уровень компонентов агента работоспособности системы (SHA)</span><span class="sxs-lookup"><span data-stu-id="fd521-115">A layer of System Health Agent (SHA) components</span></span>

    <span data-ttu-id="fd521-116">Компонент SHA обслуживает и сообщает один или несколько элементов работоспособности системы.</span><span class="sxs-lookup"><span data-stu-id="fd521-116">An SHA component maintains and reports one or multiple elements of system health.</span></span> <span data-ttu-id="fd521-117">Например, для подписей антивирусных программ и SHA для обновлений операционной системы может существовать SHA.</span><span class="sxs-lookup"><span data-stu-id="fd521-117">For example, there might be an SHA for antivirus signatures and an SHA for operating system updates.</span></span> <span data-ttu-id="fd521-118">SHA может быть сопоставлен с сервером обновлений, который представляет собой компьютер, содержащий ресурсы обновления работоспособности, к которым клиенты NAP могут получать доступ для исправления несоответствующих состояний.</span><span class="sxs-lookup"><span data-stu-id="fd521-118">An SHA can be matched to a remediation server, which is a computer that contains health update resources that NAP clients can access to remediate their noncompliant state.</span></span> <span data-ttu-id="fd521-119">Например, SHA для проверки подписей антивирусных программ соответствует серверу, содержащему последний файл сигнатур антивирусной программы.</span><span class="sxs-lookup"><span data-stu-id="fd521-119">For example, an SHA for checking antivirus signatures is matched to the server that contains the latest antivirus signature file.</span></span> <span data-ttu-id="fd521-120">SHA не обязательно должен иметь соответствующий сервер обновлений.</span><span class="sxs-lookup"><span data-stu-id="fd521-120">SHAs do not have to have a corresponding remediation server.</span></span> <span data-ttu-id="fd521-121">Например, SHA может просто проверить параметры локальной системы, чтобы обеспечить включение брандмауэра на основе узла.</span><span class="sxs-lookup"><span data-stu-id="fd521-121">For example, an SHA can just check local system settings to ensure that a host-based firewall is enabled.</span></span> <span data-ttu-id="fd521-122">Windows Vista и Windows XP с пакетом обновления 3 включают в себя агент работоспособности системы безопасности Windows (агент работоспособности Windows), отслеживающий параметры центра обеспечения безопасности.</span><span class="sxs-lookup"><span data-stu-id="fd521-122">Windows Vista and Windows XP Service Pack 3 include the Windows Security Health Agent (WSHA) that monitors the settings of the Windows Security Center.</span></span> <span data-ttu-id="fd521-123">Сторонние поставщики программного обеспечения или Майкрософт могут предоставлять дополнительные SHA для платформы NAP.</span><span class="sxs-lookup"><span data-stu-id="fd521-123">Third-party software vendors or Microsoft can provide additional SHAs to the NAP platform.</span></span>

-   <span data-ttu-id="fd521-124">Агент NAP</span><span class="sxs-lookup"><span data-stu-id="fd521-124">NAP Agent</span></span>

    <span data-ttu-id="fd521-125">Поддерживает текущие сведения о состоянии работоспособности клиента NAP и упрощает взаимодействие между уровнями NAP EC и SHA.</span><span class="sxs-lookup"><span data-stu-id="fd521-125">Maintains the current health state information of the NAP client and facilitates communication between the NAP EC and SHA layers.</span></span> <span data-ttu-id="fd521-126">Агент NAP предоставляется с платформой NAP.</span><span class="sxs-lookup"><span data-stu-id="fd521-126">The NAP Agent is provided with the NAP platform.</span></span>

-   <span data-ttu-id="fd521-127">API агента работоспособности системы</span><span class="sxs-lookup"><span data-stu-id="fd521-127">System Health Agent API</span></span>

    <span data-ttu-id="fd521-128">Предоставляет набор функций, которые позволяют SHA регистрироваться в агенте NAP, чтобы указать состояние работоспособности системы, отвечать на запросы о состоянии работоспособности системы от агента NAP, а агенту NAP передать сведения об исправлении работоспособности системы в SHA.</span><span class="sxs-lookup"><span data-stu-id="fd521-128">Provides a set of functions that allow SHAs to register with the NAP Agent, to indicate system health status, respond to queries for system health status from the NAP Agent, and for the NAP Agent to pass system health remediation information to an SHA.</span></span> <span data-ttu-id="fd521-129">API SHA позволяет поставщикам создавать и устанавливать дополнительные SHA.</span><span class="sxs-lookup"><span data-stu-id="fd521-129">The SHA API allows vendors to create and install additional SHAs.</span></span> <span data-ttu-id="fd521-130">API SHA поставляется с платформой NAP.</span><span class="sxs-lookup"><span data-stu-id="fd521-130">The SHA API is provided with the NAP platform.</span></span> <span data-ttu-id="fd521-131">См. следующие интерфейсы NAP: [**INapSystemHealthAgentBinding2**](inapsystemhealthagentbinding2.md), [**инапсистемхеалсаженткаллбакк**](inapsystemhealthagentcallback.md)и [**инапсистемхеалсажентрекуест**](inapsystemhealthagentrequest.md).</span><span class="sxs-lookup"><span data-stu-id="fd521-131">See the following NAP interfaces: [**INapSystemHealthAgentBinding2**](inapsystemhealthagentbinding2.md), [**INapSystemHealthAgentCallback**](inapsystemhealthagentcallback.md), and [**INapSystemHealthAgentRequest**](inapsystemhealthagentrequest.md).</span></span>

<span data-ttu-id="fd521-132">Чтобы указать состояние работоспособности конкретного SHA, SHA создает состояние работоспособности ([**SoH**](/windows/win32/api/naptypes/ns-naptypes-soh)) и передает его агенту NAP.</span><span class="sxs-lookup"><span data-stu-id="fd521-132">To indicate the health state of a specific SHA, an SHA creates a statement of health ([**SoH**](/windows/win32/api/naptypes/ns-naptypes-soh)) and passes it to the NAP Agent.</span></span> <span data-ttu-id="fd521-133">SoH может содержать один или несколько элементов работоспособности системы.</span><span class="sxs-lookup"><span data-stu-id="fd521-133">An SoH can contain one or multiple elements of system health.</span></span> <span data-ttu-id="fd521-134">Например, SHA для антивирусной программы может создать состояние работоспособности, содержащее состояние антивирусного программного обеспечения, запущенного на компьютере, его версию и Последнее полученное обновление сигнатур Антивируса.</span><span class="sxs-lookup"><span data-stu-id="fd521-134">For example, the SHA for an antivirus program can create an SoH containing the state of the antivirus software running on the computer, its version, and the last antivirus signature update received.</span></span> <span data-ttu-id="fd521-135">Каждый раз, когда агент SHA обновляет состояние, он создает новое состояние работоспособности и передает его агенту NAP.</span><span class="sxs-lookup"><span data-stu-id="fd521-135">Whenever an SHA updates its status, it creates a new SoH and passes it to the NAP Agent.</span></span> <span data-ttu-id="fd521-136">Чтобы указать общее состояние работоспособности клиента NAP, агент NAP использует системное уведомление о работоспособности (Ссох), которое включает сведения о версии для клиента NAP и набор SoH для установленного SHA.</span><span class="sxs-lookup"><span data-stu-id="fd521-136">To indicate the overall health state of a NAP client, the NAP Agent uses a system statement of health (SSoH), which includes version information for the NAP client and the set of SoHs for the installed SHAs.</span></span>

<span data-ttu-id="fd521-137">В следующих разделах подробно описаны компоненты клиентской архитектуры NAP.</span><span class="sxs-lookup"><span data-stu-id="fd521-137">The following sections describe the components of the NAP client architecture in further detail.</span></span>

## <a name="nap-enforcement-client"></a><span data-ttu-id="fd521-138">Клиент принудительной защиты доступа к сети</span><span class="sxs-lookup"><span data-stu-id="fd521-138">NAP Enforcement Client</span></span>

<span data-ttu-id="fd521-139">Клиент принудительного применения NAP (EC) запрашивает определенный уровень доступа к сети, передает состояние работоспособности компьютера точке NAP, предоставляющей доступ к сети.</span><span class="sxs-lookup"><span data-stu-id="fd521-139">A NAP Enforcement Client (EC) requests some level of access to a network, passes the computer's health status to a NAP enforcement point that is providing the network access.</span></span> <span data-ttu-id="fd521-140">Точки NAP — это компьютеры или устройства доступа к сети, которые используют NAP или могут использоваться с NAP для требования оценки состояния работоспособности клиента NAP и предоставления ограниченного доступа к сети или связи.</span><span class="sxs-lookup"><span data-stu-id="fd521-140">NAP enforcement points are computers or network access devices that use NAP or can be used with NAP to require the evaluation of a NAP client’s health state and provide restricted network access or communication.</span></span> <span data-ttu-id="fd521-141">Если работоспособность компьютера не соответствует требованиям, NAP EC указывает ограниченное состояние клиента NAP на другие компоненты архитектуры клиента NAP.</span><span class="sxs-lookup"><span data-stu-id="fd521-141">If the computer’s health is not compliant, the NAP EC indicates the restricted status of the NAP client to other components of the NAP client architecture.</span></span>

<span data-ttu-id="fd521-142">Для платформы NAP, предоставляемой в Windows XP с пакетом обновления 3 (SP3), Windows Vista и Windows Server 2008, используется следующая защита доступа к сети.</span><span class="sxs-lookup"><span data-stu-id="fd521-142">The NAP ECs for the NAP platform supplied in Windows XP with SP3, Windows Vista, and Windows Server 2008 are the following:</span></span>

-   <span data-ttu-id="fd521-143">IPsec NAP EC для обмена данными с защитой IPsec.</span><span class="sxs-lookup"><span data-stu-id="fd521-143">An IPsec NAP EC for IPsec-protected communications.</span></span>
-   <span data-ttu-id="fd521-144">Параметр EAPHost NAP для подключений с проверкой подлинности 802.1 X.</span><span class="sxs-lookup"><span data-stu-id="fd521-144">An EAPHost NAP EC for 802.1X-authenticated connections.</span></span>
-   <span data-ttu-id="fd521-145">VPN-подключение NAP для удаленного доступа к VPN-подключениям.</span><span class="sxs-lookup"><span data-stu-id="fd521-145">A VPN NAP EC for remote access VPN connections.</span></span>
-   <span data-ttu-id="fd521-146">DHCP-сервер NAP для конфигурации IPv4-адресов на основе DHCP.</span><span class="sxs-lookup"><span data-stu-id="fd521-146">A DHCP NAP EC for DHCP-based IPv4 address configuration.</span></span>
-   <span data-ttu-id="fd521-147">Шлюз служб терминалов NAP для подключений шлюза служб терминалов.</span><span class="sxs-lookup"><span data-stu-id="fd521-147">A TS Gateway NAP EC for TS Gateway connections.</span></span>

<span data-ttu-id="fd521-148">Для Windows XP с пакетом обновления 3 (SP3) существует отдельная проверка подлинности NAP для беспроводных и беспроводных подключений 802.1 X.</span><span class="sxs-lookup"><span data-stu-id="fd521-148">For Windows XP with SP3, there are separate NAP ECs for 802.1X-authenticated wired and wireless connections.</span></span>

### <a name="ipsec-nap-ec"></a><span data-ttu-id="fd521-149">IPsec NAP EC</span><span class="sxs-lookup"><span data-stu-id="fd521-149">IPsec NAP EC</span></span>

<span data-ttu-id="fd521-150">IPsec NAP EC — это компонент, который получает Ссох от агента NAP и отправляет его в центр регистрации работоспособности (HRA), на компьютер под управлением Windows Server 2008 и службы IIS (IIS), который получает сертификаты работоспособности от центра сертификации (ЦС) для совместимых компьютеров.</span><span class="sxs-lookup"><span data-stu-id="fd521-150">The IPsec NAP EC is a component that obtains the SSoH from the NAP Agent and sends it to a Health Registration Authority (HRA), a computer running Windows Server 2008 and Internet Information Services (IIS) that obtains health certificates from a certification authority (CA) for compliant computers.</span></span> <span data-ttu-id="fd521-151">IPsec NAP EC называется проверяющей стороной IPsec EC в оснастке конфигурации клиента NAP.</span><span class="sxs-lookup"><span data-stu-id="fd521-151">The IPsec NAP EC is known as the IPsec Relying Party EC in the NAP Client Configuration snap-in.</span></span> <span data-ttu-id="fd521-152">IPsec в отношении NAP EC также взаимодействует со следующими данными:</span><span class="sxs-lookup"><span data-stu-id="fd521-152">The IPsec NAP EC also interacts with the following:</span></span>

-   <span data-ttu-id="fd521-153">Хранилище сертификатов для хранения сертификата работоспособности.</span><span class="sxs-lookup"><span data-stu-id="fd521-153">The certificate store to store the health certificate.</span></span>
-   <span data-ttu-id="fd521-154">Компоненты IPsec в Windows, чтобы убедиться, что сертификат работоспособности используется для связи, защищенной IPsec.</span><span class="sxs-lookup"><span data-stu-id="fd521-154">The IPsec components in Windows to ensure that the health certificate is used for IPsec-protected communication.</span></span>
-   <span data-ttu-id="fd521-155">Брандмауэр на основе узла (например, брандмауэр Windows), чтобы трафик, защищенный с помощью IPsec, был разрешен брандмауэром.</span><span class="sxs-lookup"><span data-stu-id="fd521-155">The host-based firewall (such as Windows Firewall) so that IPsec-protected traffic is allowed by the firewall.</span></span>

### <a name="eaphost-nap-ec"></a><span data-ttu-id="fd521-156">EAPHost NAP EC</span><span class="sxs-lookup"><span data-stu-id="fd521-156">EAPHost NAP EC</span></span>

<span data-ttu-id="fd521-157">Параметр EAPHost NAP EC — это компонент, который получает Ссох от агента NAP и отправляет его как сообщение протокола PEAP-length-value (TLV) для подключений с проверкой подлинности 802.1 X.</span><span class="sxs-lookup"><span data-stu-id="fd521-157">The EAPHost NAP EC is a component that obtains the SSoH from the NAP Agent and sends it as a PEAP-Type-Length-Value (TLV) message for 802.1X-authenticated connections.</span></span> <span data-ttu-id="fd521-158">В оснастке "Конфигурация клиента NAP" в качестве карантина для протокола EAPHost используется протокол "EAP: EC".</span><span class="sxs-lookup"><span data-stu-id="fd521-158">The EAPHost NAP EC is known as the EAP Quarantine EC in the NAP Client Configuration snap-in.</span></span>

### <a name="vpn-nap-ec"></a><span data-ttu-id="fd521-159">VPN-NAP EC</span><span class="sxs-lookup"><span data-stu-id="fd521-159">VPN NAP EC</span></span>

<span data-ttu-id="fd521-160">VPN EC в службе диспетчера подключений удаленного доступа, которая получает Ссох от агента NAP и отправляет ее в виде сообщения PEAP-TLV для подключений VPN удаленного доступа.</span><span class="sxs-lookup"><span data-stu-id="fd521-160">The VPN NAP EC is functionality in the Remote Access Connection Manager service that obtains the SSoH from the NAP Agent and sends it as a PEAP-TLV message for remote access VPN connections.</span></span> <span data-ttu-id="fd521-161">В оснастке настройки клиента NAP в качестве карантина для удаленного доступа используется VPN-подключение EC.</span><span class="sxs-lookup"><span data-stu-id="fd521-161">The VPN NAP EC is known as the Remote Access Quarantine EC in the NAP Client Configuration snap-in.</span></span>

### <a name="dhcp-nap-ec"></a><span data-ttu-id="fd521-162">DHCP NAP EC</span><span class="sxs-lookup"><span data-stu-id="fd521-162">DHCP NAP EC</span></span>

<span data-ttu-id="fd521-163">NAP в службе DHCP-клиента использует функции DHCP, которые используют стандартные отраслевые сообщения DHCP для обмена сообщениями о работоспособности системы и ограниченные сведения о доступе к сети.</span><span class="sxs-lookup"><span data-stu-id="fd521-163">The DHCP NAP EC is functionality in the DHCP Client service that uses industry standard DHCP messages to exchange system health messages and limited network access information.</span></span> <span data-ttu-id="fd521-164">Протокол IPsec EC в оснастке конфигурации клиента NAP называется карантином протокола DHCP EC.</span><span class="sxs-lookup"><span data-stu-id="fd521-164">The IPsec DHCP EC is known as the DHCP Quarantine EC in the NAP Client Configuration snap-in.</span></span> <span data-ttu-id="fd521-165">DHCP-служба NAP EC получает Ссох из агента NAP.</span><span class="sxs-lookup"><span data-stu-id="fd521-165">The DHCP NAP EC obtains the SSoH from the NAP Agent.</span></span> <span data-ttu-id="fd521-166">Служба DHCP Client выполняет фрагменты Ссох, если это необходимо, и помещает каждый фрагмент в параметр DHCP, зависящий от поставщика (Майкрософт), который отправляется в сообщениях DHCPDiscover, DHCPRequest или DHCPInform.</span><span class="sxs-lookup"><span data-stu-id="fd521-166">The DHCP Client service fragments the SSoH, if required, and puts each fragment into a Microsoft vendor-specific DHCP option that is sent in DHCPDiscover, DHCPRequest or DHCPInform messages.</span></span> <span data-ttu-id="fd521-167">Сообщения Дхкпдеклине и Дхкпрелеасе не содержат Ссох.</span><span class="sxs-lookup"><span data-stu-id="fd521-167">DHCPDecline and DHCPRelease messages do not contain the SSoH.</span></span>

## <a name="system-health-agent"></a><span data-ttu-id="fd521-168">Агент работоспособности системы</span><span class="sxs-lookup"><span data-stu-id="fd521-168">System Health Agent</span></span>

<span data-ttu-id="fd521-169">Агент работоспособности системы (SHA) выполняет обновления работоспособности системы и публикует свое состояние в виде SoH для агента NAP.</span><span class="sxs-lookup"><span data-stu-id="fd521-169">A System Health Agent (SHA) performs system health updates and publishes its status in the form of an SoH to the NAP Agent.</span></span> <span data-ttu-id="fd521-170">SoH содержит сведения, которые сервер политики работоспособности NAP может использовать для проверки того, что клиентский компьютер находится в требуемом состоянии работоспособности.</span><span class="sxs-lookup"><span data-stu-id="fd521-170">The SoH contains information that the NAP health policy server can use to verify that the client computer is in the required state of health.</span></span> <span data-ttu-id="fd521-171">SHA сопоставляется с средством проверки работоспособности системы (SHV) на серверной стороне архитектуры платформы NAP.</span><span class="sxs-lookup"><span data-stu-id="fd521-171">An SHA is matched to a System Health Validator (SHV) on the server-side of the NAP platform architecture.</span></span> <span data-ttu-id="fd521-172">Соответствующий SHV может возвращать ответ о состоянии работоспособности (SoHR) клиенту NAP, который передается агентом защиты доступа к сети (NAP) и агента NAP, в SHA, уведомляя его о том, что делать, если SHA не находится в требуемом состоянии работоспособности.</span><span class="sxs-lookup"><span data-stu-id="fd521-172">The corresponding SHV can return an SoH Response (SoHR) to the NAP client, which is passed by the NAP EC and the NAP Agent to the SHA, informing it of what to do if the SHA is not in a required state of health.</span></span> <span data-ttu-id="fd521-173">Например, SoHR, отправленный антивирусным средством SHV, может сообщить соответствующему антивирусному Агенту SHA запрос к серверу сигнатур антивирусного по для получения последней версии файла сигнатур антивирусного по.</span><span class="sxs-lookup"><span data-stu-id="fd521-173">For example, the SoHR sent by an antivirus SHV could instruct the corresponding antivirus SHA to query an antivirus signature server to obtain the latest version of the antivirus signature file.</span></span> <span data-ttu-id="fd521-174">SoHR также может включать имя или IP-адрес сервера подписи антивируса для запроса.</span><span class="sxs-lookup"><span data-stu-id="fd521-174">The SoHR can also include the name or IP address of the antivirus signature server to query.</span></span>

<span data-ttu-id="fd521-175">SHA может использовать локально установленный клиент политики для помощи в функциях управления работоспособностью системы в сочетании с сервером политики.</span><span class="sxs-lookup"><span data-stu-id="fd521-175">An SHA can use a locally installed policy client to assist in system health management functions in conjunction with a policy server.</span></span> <span data-ttu-id="fd521-176">Например, агент SHA обновления программного обеспечения может использовать локально установленное программное обеспечение клиента (клиент политики) для проверки версий и установки и обновления с сервером обновлений программного обеспечения (сервером политики).</span><span class="sxs-lookup"><span data-stu-id="fd521-176">For example, a software update SHA can use the locally installed software client software (the policy client) to perform version checking and installation and update functions with the software update server (the policy server).</span></span>

## <a name="nap-agent"></a><span data-ttu-id="fd521-177">Агент NAP</span><span class="sxs-lookup"><span data-stu-id="fd521-177">NAP Agent</span></span>

<span data-ttu-id="fd521-178">Агент NAP предоставляет следующие службы:</span><span class="sxs-lookup"><span data-stu-id="fd521-178">The NAP Agent provides the following services:</span></span>

-   <span data-ttu-id="fd521-179">Собирает SoH из каждого SHA и кэширует их.</span><span class="sxs-lookup"><span data-stu-id="fd521-179">Collects the SoHs from each SHA and caches them.</span></span> <span data-ttu-id="fd521-180">Кэш SoH обновляется всякий раз, когда агент SHA предоставляет новое или обновленное состояние работоспособности.</span><span class="sxs-lookup"><span data-stu-id="fd521-180">The SoH cache is updated whenever an SHA supplies a new or updated SoH.</span></span>
-   <span data-ttu-id="fd521-181">Сохраняет Ссох и передает его в службу защиты доступа к сети по требованию.</span><span class="sxs-lookup"><span data-stu-id="fd521-181">Stores the SSoH and supplies it to the NAP ECs upon request.</span></span>
-   <span data-ttu-id="fd521-182">Передает уведомления SHA при изменении ограниченного состояния.</span><span class="sxs-lookup"><span data-stu-id="fd521-182">Passes notifications to SHAs when the restricted state changes.</span></span>
-   <span data-ttu-id="fd521-183">Поддерживает ограниченное системой состояние системы и собирает сведения о состоянии каждого SHA.</span><span class="sxs-lookup"><span data-stu-id="fd521-183">Maintains the system restricted state and collects status information from each SHA.</span></span>
-   <span data-ttu-id="fd521-184">Передает Сохрс соответствующему SHA.</span><span class="sxs-lookup"><span data-stu-id="fd521-184">Passes SoHRs to the appropriate SHA.</span></span>

 

 




