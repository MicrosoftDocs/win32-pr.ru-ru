---
description: Портативные устройства Windows поддерживают следующие свойства клиента.
ms.assetid: 6ab75b58-7216-47f6-97fa-0c8fff656eb0
title: Свойства клиента (Портабледевице. h)
ms.topic: reference
ms.date: 05/31/2018
topic_type:
- APIRef
- kbSyntax
api_name:
- Client
api_type:
- HeaderDef
api_location:
- PortableDevice.h
ms.openlocfilehash: 840516f9cd5571946d45d00cb1203d47d42dee07
ms.sourcegitcommit: c8ec1ded1ffffc364d3c4f560bb2171da0dc5040
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/22/2021
ms.locfileid: "105718081"
---
# <a name="client-properties"></a><span data-ttu-id="2b5a9-103">Свойства клиента</span><span class="sxs-lookup"><span data-stu-id="2b5a9-103">Client Properties</span></span>

<span data-ttu-id="2b5a9-104">Портативные устройства Windows поддерживают следующие свойства клиента.</span><span class="sxs-lookup"><span data-stu-id="2b5a9-104">Windows Portable Devices supports the following client properties.</span></span>



| <span data-ttu-id="2b5a9-105">Свойство</span><span class="sxs-lookup"><span data-stu-id="2b5a9-105">Property</span></span>                                          | <span data-ttu-id="2b5a9-106">VarType</span><span class="sxs-lookup"><span data-stu-id="2b5a9-106">VarType</span></span>                   | <span data-ttu-id="2b5a9-107">Описание</span><span class="sxs-lookup"><span data-stu-id="2b5a9-107">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
|---------------------------------------------------|---------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="2b5a9-108">**\_ \_ требуемый доступ клиента WPD \_**</span><span class="sxs-lookup"><span data-stu-id="2b5a9-108">**WPD\_CLIENT\_DESIRED\_ACCESS**</span></span>                  | <span data-ttu-id="2b5a9-109">**VT \_ UI4**</span><span class="sxs-lookup"><span data-stu-id="2b5a9-109">**VT\_UI4**</span></span>               | <span data-ttu-id="2b5a9-110">Значение, указывающее, что клиенту требуются уникальные разрешения доступа, такие как универсальный доступ \_ только для чтения.</span><span class="sxs-lookup"><span data-stu-id="2b5a9-110">A value that specifies that the client requires unique access permissions, such as GENERIC\_READ only.</span></span> <span data-ttu-id="2b5a9-111">Если это свойство не задано, то для WPD предполагается универсальный \_ \| общий доступ для чтения \_ , который является рекомендуемым по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="2b5a9-111">If this property is not set, WPD assumes GENERIC\_READ \| GENERIC\_WRITE, which is the recommended default.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| <span data-ttu-id="2b5a9-112">**\_ \_ основной номер версии клиента WPD \_**</span><span class="sxs-lookup"><span data-stu-id="2b5a9-112">**WPD\_CLIENT\_MAJOR\_VERSION**</span></span>                   | <span data-ttu-id="2b5a9-113">**VT \_ UI4**</span><span class="sxs-lookup"><span data-stu-id="2b5a9-113">**VT\_UI4**</span></span>               | <span data-ttu-id="2b5a9-114">Число, указывающее основной номер версии клиента.</span><span class="sxs-lookup"><span data-stu-id="2b5a9-114">A number that specifies the major version of the client.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| <span data-ttu-id="2b5a9-115">**\_ \_ дополнительный номер версии клиента WPD \_**</span><span class="sxs-lookup"><span data-stu-id="2b5a9-115">**WPD\_CLIENT\_MINOR\_VERSION**</span></span>                   | <span data-ttu-id="2b5a9-116">**VT \_ UI4**</span><span class="sxs-lookup"><span data-stu-id="2b5a9-116">**VT\_UI4**</span></span>               | <span data-ttu-id="2b5a9-117">Число, указывающее дополнительный номер версии клиента.</span><span class="sxs-lookup"><span data-stu-id="2b5a9-117">A number that specifies the minor version of the client.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| <span data-ttu-id="2b5a9-118">**\_имя клиента \_ WPD**</span><span class="sxs-lookup"><span data-stu-id="2b5a9-118">**WPD\_CLIENT\_NAME**</span></span>                             | <span data-ttu-id="2b5a9-119">**VT \_ LPWSTR**</span><span class="sxs-lookup"><span data-stu-id="2b5a9-119">**VT\_LPWSTR**</span></span>            | <span data-ttu-id="2b5a9-120">Строка имени для клиентского приложения.</span><span class="sxs-lookup"><span data-stu-id="2b5a9-120">A name string for the client application.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| <span data-ttu-id="2b5a9-121">**\_версия клиента \_ WPD**</span><span class="sxs-lookup"><span data-stu-id="2b5a9-121">**WPD\_CLIENT\_REVISION**</span></span>                         | <span data-ttu-id="2b5a9-122">**VT \_ UI4**</span><span class="sxs-lookup"><span data-stu-id="2b5a9-122">**VT\_UI4**</span></span>               | <span data-ttu-id="2b5a9-123">Число, указывающее номер редакции (или номер сборки) клиента.</span><span class="sxs-lookup"><span data-stu-id="2b5a9-123">A number that specifies the revision (or build number) of the client.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| <span data-ttu-id="2b5a9-124">**\_ \_ \_ качество \_ \_ обслуживания клиента WPD**</span><span class="sxs-lookup"><span data-stu-id="2b5a9-124">**WPD\_CLIENT\_SECURITY\_QUALITY\_OF\_SERVICE**</span></span>   | <span data-ttu-id="2b5a9-125">**VT \_ UI4**</span><span class="sxs-lookup"><span data-stu-id="2b5a9-125">**VT\_UI4**</span></span>               | <span data-ttu-id="2b5a9-126">Значение типа, указывающее качество службы безопасности для подключения к драйверу.</span><span class="sxs-lookup"><span data-stu-id="2b5a9-126">A value that specifies the security quality of service for the connection to the driver.</span></span> <span data-ttu-id="2b5a9-127">Это связано с флагами качества службы безопасности для **CreateFile**.</span><span class="sxs-lookup"><span data-stu-id="2b5a9-127">This relates to the Security Quality of Service flags for **CreateFile**.</span></span><br/> <span data-ttu-id="2b5a9-128">Например, эти флаги позволяют или запрещают драйверу олицетворять клиента.</span><span class="sxs-lookup"><span data-stu-id="2b5a9-128">For example, these flags allow or disallow a driver to impersonate the client.</span></span> <span data-ttu-id="2b5a9-129">\_Если это значение не указано, предполагается идентификатор безопасности.</span><span class="sxs-lookup"><span data-stu-id="2b5a9-129">SECURITY\_IDENTIFICATION is assumed if this value is not provided.</span></span> <span data-ttu-id="2b5a9-130">Как правило, приложения должны присвоить этому параметру \_ олицетворение безопасности, так как для работы некоторых драйверов потребуется олицетворение.</span><span class="sxs-lookup"><span data-stu-id="2b5a9-130">Typically, applications should set this value to SECURITY\_IMPERSONATION, since some drivers will require impersonation in order to function.</span></span> <span data-ttu-id="2b5a9-131">Однако приложения, выполняющиеся в рамках требований Strict Security с известным подмножеством устройств, могут ограничить способность драйвера определять или олицетворять вызывающего.</span><span class="sxs-lookup"><span data-stu-id="2b5a9-131">However, applications running under strict security requirements with a known subset of devices may want to restrict the driver's ability to identify or impersonate the caller.</span></span> <span data-ttu-id="2b5a9-132">Обратите внимание, что уменьшение уровня олицетворения на что-то меньше, чем ОЛИЦЕТВОРЕНие безопасности, может привести к тому, что \_ некоторые драйверы будут иметь ограниченную функциональность.</span><span class="sxs-lookup"><span data-stu-id="2b5a9-132">Note that reducing the impersonation level to anything lower than SECURITY\_IMPERSONATION may result in some drivers having reduced functionality.</span></span><br/>                                         |
| <span data-ttu-id="2b5a9-133">**\_режим клиентской \_ общей папки WPD \_**</span><span class="sxs-lookup"><span data-stu-id="2b5a9-133">**WPD\_CLIENT\_SHARE\_MODE**</span></span>                      | <span data-ttu-id="2b5a9-134">**VT \_ UI4**</span><span class="sxs-lookup"><span data-stu-id="2b5a9-134">**VT\_UI4**</span></span>               | <span data-ttu-id="2b5a9-135">Значение типа, указывающее режим совместного использования, запрашиваемый клиентом из драйвера.</span><span class="sxs-lookup"><span data-stu-id="2b5a9-135">A value that specifies the share mode the client is requesting from the driver.</span></span> <span data-ttu-id="2b5a9-136">Возможны такие же значения, как и для **CreateFile**, например \_ чтение общей папки \_ , запись в общую \_ папку \_ и т. д.</span><span class="sxs-lookup"><span data-stu-id="2b5a9-136">The possible values are the same as for **CreateFile**, for example, FILE\_SHARE\_READ, FILE\_SHARE\_WRITE, and so on.</span></span><br/> <span data-ttu-id="2b5a9-137">\_ \_ \| \_ \_ Если клиент не указал этот параметр, предполагается запись общего файлового ресурса для чтения.</span><span class="sxs-lookup"><span data-stu-id="2b5a9-137">FILE\_SHARE\_READ \| FILE\_SHARE\_WRITE is assumed if the client does not specify this parameter.</span></span> <span data-ttu-id="2b5a9-138">Это рекомендуемое значение по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="2b5a9-138">This is the recommended default.</span></span> <span data-ttu-id="2b5a9-139">Тем не менее, если требуется другой режим общего доступа, например, ФАЙЛовый \_ ресурс \_ читается для запроса только для чтения, этот параметр является обязательным.</span><span class="sxs-lookup"><span data-stu-id="2b5a9-139">However, where a different share mode is required, for example, FILE\_SHARE\_READ to request read sharing only, this parameter is required.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                          |
| <span data-ttu-id="2b5a9-140">**\_ \_ \_ \_ закрытый ключ клиентского приложения WPD с цифровыми правами \_**</span><span class="sxs-lookup"><span data-stu-id="2b5a9-140">**WPD\_CLIENT\_WMDRM\_APPLICATION\_PRIVATE\_KEY**</span></span> | <span data-ttu-id="2b5a9-141">**VT \_ вектор \_ \| VT \_ UI1**</span><span class="sxs-lookup"><span data-stu-id="2b5a9-141">**VT\_VECTOR\_\|VT\_UI1**</span></span> | <span data-ttu-id="2b5a9-142">Значение, указывающее закрытый ключ приложения Windows Media DRM для клиента.</span><span class="sxs-lookup"><span data-stu-id="2b5a9-142">A value that specifies the Windows Media DRM application private key of the client.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| <span data-ttu-id="2b5a9-143">**\_сертификат приложения WPD клиента для \_ WMDRM \_ \_**</span><span class="sxs-lookup"><span data-stu-id="2b5a9-143">**WPD\_CLIENT\_WMDRM\_APPLICATION\_CERTIFICATE**</span></span>  | <span data-ttu-id="2b5a9-144">**VT \_ вектор \_ \| VT \_ UI1**</span><span class="sxs-lookup"><span data-stu-id="2b5a9-144">**VT\_VECTOR\_\|VT\_UI1**</span></span> | <span data-ttu-id="2b5a9-145">Значение, указывающее сертификат Windows Media DRM клиента.</span><span class="sxs-lookup"><span data-stu-id="2b5a9-145">A value that specifies the Windows Media DRM certificate of the client.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| <span data-ttu-id="2b5a9-146">**\_куки- \_ файл событий клиента \_ WPD**</span><span class="sxs-lookup"><span data-stu-id="2b5a9-146">**WPD\_CLIENT\_EVENT\_COOKIE**</span></span>                    | <span data-ttu-id="2b5a9-147">**VT \_ LPWSTR**</span><span class="sxs-lookup"><span data-stu-id="2b5a9-147">**VT\_LPWSTR**</span></span>            | <span data-ttu-id="2b5a9-148">Предоставленный клиентом файл cookie, возвращенный драйвером в событиях, опубликованных как прямой результат операций, выданных этим клиентом.</span><span class="sxs-lookup"><span data-stu-id="2b5a9-148">A Client supplied cookie returned by the driver in events posted as a direct result of operations issued by this client.</span></span> <span data-ttu-id="2b5a9-149">Это необязательное свойство, которое драйвер может указать в качестве параметра события.</span><span class="sxs-lookup"><span data-stu-id="2b5a9-149">This is an optional property which the driver may supply as an event parameter.</span></span> <span data-ttu-id="2b5a9-150">Клиенты обычно используют это значение для оптимизации обработки событий.</span><span class="sxs-lookup"><span data-stu-id="2b5a9-150">Clients typically use this value to optimize their event handling.</span></span> <span data-ttu-id="2b5a9-151">Например, если клиент удаляет объект, его обработчик событий может игнорировать результирующее событие, зная, что оно уже заняло соответствующее действие (например, обновило представление в потоке, который выдал удаление).</span><span class="sxs-lookup"><span data-stu-id="2b5a9-151">For example if the client deletes an object, its event handler may choose to ignore the resulting event knowing that it already took the appropriate action (e.g. updated the view in the thread that issued the delete).</span></span>                                                                                                                                                                                                                                                                                                                                                                |
| <span data-ttu-id="2b5a9-152">**\_ \_ Минимальный \_ \_ Размер буфера для результатов клиента WPD \_**</span><span class="sxs-lookup"><span data-stu-id="2b5a9-152">**WPD\_CLIENT\_MINIMUM\_RESULTS\_BUFFER\_SIZE**</span></span>   | <span data-ttu-id="2b5a9-153">**VT \_ UI4**</span><span class="sxs-lookup"><span data-stu-id="2b5a9-153">**VT\_UI4**</span></span>               | <span data-ttu-id="2b5a9-154">Указывает минимальный размер буфера (в байтах) для отправки команд драйверу.</span><span class="sxs-lookup"><span data-stu-id="2b5a9-154">Specifies the minimum buffer size (in bytes) for sending commands to the driver.</span></span> <span data-ttu-id="2b5a9-155">Клиенты могут использовать этот параметр, чтобы рекомендовать минимальный размер внутреннего буфера, используемого для отправки команд драйверу.</span><span class="sxs-lookup"><span data-stu-id="2b5a9-155">Clients can use this option to recommend the minimum size of the internal buffer that is used for sending commands to the driver.</span></span> <span data-ttu-id="2b5a9-156">Это может привести к уменьшению объема памяти для клиентов, отправляющих только команды с мелкими размерами данных, например получение или задание свойств.</span><span class="sxs-lookup"><span data-stu-id="2b5a9-156">This can result in a smaller memory footprint for clients that only send commands with small data sizes, such as getting or setting properties.</span></span> <span data-ttu-id="2b5a9-157">Драйвер может переопределить этот размер буфера, установив **портабледевицересултсбуффермин** в разделе параметров устройства.</span><span class="sxs-lookup"><span data-stu-id="2b5a9-157">The driver can override this buffer size by setting **PortableDeviceResultsBufferMin** in its Device Parameters section.</span></span> <span data-ttu-id="2b5a9-158">Размер буфера должен быть 1024 или выше.</span><span class="sxs-lookup"><span data-stu-id="2b5a9-158">This buffer size must be 1024 or above.</span></span> <span data-ttu-id="2b5a9-159">Если ни клиент, ни драйвер не устанавливают размер буфера, по умолчанию используется значение 1 МБ.</span><span class="sxs-lookup"><span data-stu-id="2b5a9-159">If neither the client nor the driver sets the buffer size, it defaults to 1 MB.</span></span>                                                                                                                                                                                                                                                  |
| <span data-ttu-id="2b5a9-160">**\_клиент WPD \_ вручную \_ закрывается \_ при \_ отключении**</span><span class="sxs-lookup"><span data-stu-id="2b5a9-160">**WPD\_CLIENT\_MANUAL\_CLOSE\_ON\_DISCONNECT**</span></span>    | <span data-ttu-id="2b5a9-161">**Логическое значение VT \_**</span><span class="sxs-lookup"><span data-stu-id="2b5a9-161">**VT\_BOOL**</span></span>              | <span data-ttu-id="2b5a9-162">Дополнительный параметр для клиентов, которые вручную вызывают **ипортабледевице:: Close** или **Ипортабледевицесервице:: Close** для каждого отключенного объекта, вместо того чтобы полагаться на API для этого.</span><span class="sxs-lookup"><span data-stu-id="2b5a9-162">An advanced option for clients that manually call **IPortableDevice::Close** or **IPortableDeviceService::Close** for each disconnected object, instead of relying on the API to do this.</span></span> <span data-ttu-id="2b5a9-163">Значение FALSE принимается, если клиент не указал этот параметр.</span><span class="sxs-lookup"><span data-stu-id="2b5a9-163">FALSE is assumed if the client does not specify this parameter.</span></span> <span data-ttu-id="2b5a9-164">Это рекомендуемое значение по умолчанию, если клиент не прослушивает сообщения **WM \_ девицечанже** .</span><span class="sxs-lookup"><span data-stu-id="2b5a9-164">This is the recommended default if the client is not listening for **WM\_DEVICECHANGE** messages.</span></span> <span data-ttu-id="2b5a9-165">Клиенты, указывающие этот параметр, обычно прослушивают сообщения **WM \_ девицечанже** для устройства, а затем вручную закрывают экземпляры **ипортабледевице** и **ипортабледевицесервице** при отключении устройства.</span><span class="sxs-lookup"><span data-stu-id="2b5a9-165">Clients that specify this option typically listen for **WM\_DEVICECHANGE** messages for the device and then manually close the **IPortableDevice** and **IPortableDeviceService** instances on device disconnect.</span></span> <span data-ttu-id="2b5a9-166">Клиенты, которые выбирают этот параметр, должны тщательно управлять временем существования каждого экземпляра **ипортабледевице** и **ипортабледевицесервице** , освобождая эти объекты при отключении устройства.</span><span class="sxs-lookup"><span data-stu-id="2b5a9-166">Clients that choose this option must carefully manage the lifetime of each **IPortableDevice** and **IPortableDeviceService** instance by releasing these objects when the device is disconnected.</span></span> <span data-ttu-id="2b5a9-167">Несоблюдение этого действия приведет к утечке в процессах WUDFHost.exe для драйвера.</span><span class="sxs-lookup"><span data-stu-id="2b5a9-167">Failure to do so will result in leaks in the WUDFHost.exe processes for the driver.</span></span> |



 

## <a name="requirements"></a><span data-ttu-id="2b5a9-168">Требования</span><span class="sxs-lookup"><span data-stu-id="2b5a9-168">Requirements</span></span>



| <span data-ttu-id="2b5a9-169">Требование</span><span class="sxs-lookup"><span data-stu-id="2b5a9-169">Requirement</span></span> | <span data-ttu-id="2b5a9-170">Значение</span><span class="sxs-lookup"><span data-stu-id="2b5a9-170">Value</span></span> |
|-------------------|---------------------------------------------------------------------------------------------|
| <span data-ttu-id="2b5a9-171">Header</span><span class="sxs-lookup"><span data-stu-id="2b5a9-171">Header</span></span><br/> | <dl> <span data-ttu-id="2b5a9-172"><dt>Портабледевице. h</dt></span><span class="sxs-lookup"><span data-stu-id="2b5a9-172"><dt>PortableDevice.h</dt></span></span> </dl> |



## <a name="see-also"></a><span data-ttu-id="2b5a9-173">См. также раздел</span><span class="sxs-lookup"><span data-stu-id="2b5a9-173">See also</span></span>

<dl> <dt>

[<span data-ttu-id="2b5a9-174">**Свойства и атрибуты WPD**</span><span class="sxs-lookup"><span data-stu-id="2b5a9-174">**WPD Properties and Attributes**</span></span>](properties-and-attributes.md)
</dt> </dl>

 

 




