---
description: Команда WPD \_ \_ MTP \_ EXECUTE команда \_ \_ \_ с \_ данными \_ для \_ чтения отправляет блок команд MTP, за которым следует фаза данных. (Данные отправляются с устройства на узел.)
ms.assetid: 7a76a601-c051-4c0c-bfeb-24e9dddcb9e0
title: Команда WPD_COMMAND_MTP_EXT_EXECUTE_COMMAND_WITH_DATA_TO_READ (Впдмтпекстенсионс. h)
ms.topic: reference
ms.date: 05/31/2018
ms.openlocfilehash: a9be0668f0adc312a63702c570c8818e61ba8f5b
ms.sourcegitcommit: c8ec1ded1ffffc364d3c4f560bb2171da0dc5040
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/22/2021
ms.locfileid: "105708387"
---
# <a name="wpd_command_mtp_ext_execute_command_with_data_to_read-command"></a>Команда \_ WPD \_ MTP \_ \_ EXECUTE команда \_ \_ с \_ данными \_ для \_ чтения команда

Команда **WPD \_ \_ MTP \_ EXECUTE команда \_ \_ \_ с \_ данными \_ для \_ чтения** отправляет блок команд MTP, за которым следует фаза данных. (Данные отправляются с устройства на узел.)

## <a name="command-category"></a>Категория команды

**\_операции категории WPD для \_ \_ поставщика MTP ext \_ \_**

## <a name="parameters"></a>Параметры

Драйверу требуются следующие параметры.



| Параметр                                      | VarType | Описание                                                                                                                   |
|------------------------------------------------|---------|-------------------------------------------------------------------------------------------------------------------------------|
| **\_свойство WPD \_ \_ \_ код операции MTP \_**   | VT \_ UI4 | Обязательный. Идентифицирует код операции, расширенный поставщиком.                                                                    |
| **\_Свойства WPD \_ для \_ \_ параметров операции ext MTP \_** | VT \_ UI4 | Обязательный. Объект **ипортабледевицепропвариантколлектион**, который определяет обязательные параметры для кода операции поставщика. |



 

## <a name="return-value"></a>Возвращаемое значение

Драйвер возвращает следующие результаты.



| Результат                                                       | VarType    | Описание                                                                                                                                                                                                                         |
|--------------------------------------------------------------|------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **Свойство WPD " \_ \_ MTP \_ ext \_ передает \_ Общий \_ \_ Размер данных"**     | VT \_ UI8    | Обязательный. Возвращает общий объем данных в байтах, за исключением любых издержек, поступающих от устройства. Если устройство сообщает о неизвестном размере данных (0xFFFFFFFF), драйвер должен повторно вызывать **ReadData** до получения короткого фрагмента данных. |
| **\_свойство WPD \_ . \_ \_ оптимальный \_ \_ Размер буфера \_ перемещения MTP** | VT \_ UI4    | Необязательный элемент. Возвращает оптимальный размер буфера перемещения.                                                                                                                                                                          |
| **\_свойство WPD \_ для \_ \_ контекста перемещения \_ MTP**               | VT \_ LPWSTR | Обязательный. Указывает идентификатор контекста для последующих передач данных.                                                                                                                                                           |



 

## <a name="calling-methods"></a>Вызов методов

Метод можно вызвать напрямую с помощью [**ипортабледевице:: сендкомманд**](/windows/desktop/api/PortableDeviceApi/nf-portabledeviceapi-iportabledevice-sendcommand).

## <a name="requirements"></a>Требования



| Требование | Значение |
|-------------------|-----------------------------------------------------------------------------------------------|
| Header<br/> | <dl> <dt>Впдмтпекстенсионс. h</dt> </dl> |



## <a name="see-also"></a>См. также раздел

<dl> <dt>

[Поддержка расширений MTP](supporting-mtp-extensions.md)
</dt> </dl>

 

 




