---
description: Описывает различные вопросы программирования транзакционной NTFS.
ms.assetid: a1ef1ce1-42f6-4627-ab64-e7f41fa23e94
title: Рекомендации по программированию для транзакционной NTFS
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: e79dc7eba4de1258c294d3e41f8042f3cb01dc87
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "105684031"
---
# <a name="programming-considerations-for-transactional-ntfs"></a><span data-ttu-id="f0c1b-103">Рекомендации по программированию для транзакционной NTFS</span><span class="sxs-lookup"><span data-stu-id="f0c1b-103">Programming Considerations for Transactional NTFS</span></span>

<span data-ttu-id="f0c1b-104">Описание различных аспектов программирования транзакционной NTFS см. в следующих разделах:</span><span class="sxs-lookup"><span data-stu-id="f0c1b-104">For a description of various programming considerations for Transactional NTFS, see the following sections:</span></span>

-   [<span data-ttu-id="f0c1b-105">Какие изменения в файлах являются транзакционными</span><span class="sxs-lookup"><span data-stu-id="f0c1b-105">Which File Changes Are Transacted</span></span>](#which-file-changes-are-transacted)
-   [<span data-ttu-id="f0c1b-106">Сжатие</span><span class="sxs-lookup"><span data-stu-id="f0c1b-106">Compression</span></span>](#compression)
-   [<span data-ttu-id="f0c1b-107">Создание файла или каталога</span><span class="sxs-lookup"><span data-stu-id="f0c1b-107">Creating a File or Directory</span></span>](#creating-a-file-or-directory)
-   [<span data-ttu-id="f0c1b-108">Удаление файла</span><span class="sxs-lookup"><span data-stu-id="f0c1b-108">Deleting a File</span></span>](#deleting-a-file)
-   [<span data-ttu-id="f0c1b-109">Удаление каталога</span><span class="sxs-lookup"><span data-stu-id="f0c1b-109">Deleting a Directory</span></span>](#deleting-a-directory)
-   [<span data-ttu-id="f0c1b-110">Проблемы с блокировкой каталога</span><span class="sxs-lookup"><span data-stu-id="f0c1b-110">Directory Locking Issues</span></span>](#directory-locking-issues)
-   [<span data-ttu-id="f0c1b-111">Перечисление каталогов</span><span class="sxs-lookup"><span data-stu-id="f0c1b-111">Directory Enumeration</span></span>](#directory-enumeration)
-   [<span data-ttu-id="f0c1b-112">Отображенные в памяти файлы</span><span class="sxs-lookup"><span data-stu-id="f0c1b-112">Memory-Mapped Files</span></span>](#memory-mapped-files)
-   [<span data-ttu-id="f0c1b-113">Именованные потоки</span><span class="sxs-lookup"><span data-stu-id="f0c1b-113">Named Streams</span></span>](#named-streams)
-   [<span data-ttu-id="f0c1b-114">Переименование файла или каталога</span><span class="sxs-lookup"><span data-stu-id="f0c1b-114">Renaming a File or Directory</span></span>](#renaming-a-file-or-directory)
-   [<span data-ttu-id="f0c1b-115">Точки повторного синтаксического анализа</span><span class="sxs-lookup"><span data-stu-id="f0c1b-115">Reparse Points</span></span>](#reparse-points)
-   [<span data-ttu-id="f0c1b-116">Код ошибки</span><span class="sxs-lookup"><span data-stu-id="f0c1b-116">Error Codes</span></span>](#error-codes)
-   [<span data-ttu-id="f0c1b-117">Зашифрованная файловая система</span><span class="sxs-lookup"><span data-stu-id="f0c1b-117">Encrypted File System</span></span>](#encrypted-file-system)
-   [<span data-ttu-id="f0c1b-118">Функции файлового ввода-вывода и транзакционная NTFS</span><span class="sxs-lookup"><span data-stu-id="f0c1b-118">File I/O Functions and Transactional NTFS</span></span>](#file-io-functions-and-transactional-ntfs)
    -   [<span data-ttu-id="f0c1b-119">Транзакционные функции</span><span class="sxs-lookup"><span data-stu-id="f0c1b-119">Transacted Functions</span></span>](#transacted-functions)
    -   [<span data-ttu-id="f0c1b-120">Функции файлового ввода-вывода, измененные системой TxF</span><span class="sxs-lookup"><span data-stu-id="f0c1b-120">File I/O Functions Changed By TxF</span></span>](#file-io-functions-changed-by-txf)

## <a name="which-file-changes-are-transacted"></a><span data-ttu-id="f0c1b-121">Какие изменения в файлах являются транзакционными</span><span class="sxs-lookup"><span data-stu-id="f0c1b-121">Which File Changes Are Transacted</span></span>

<span data-ttu-id="f0c1b-122">Большинство изменений файлов, таких как изменения в содержимом файлов, потоках, точках повторного анализа, атрибутах и пространстве имен файловой системы, являются транзакционными.</span><span class="sxs-lookup"><span data-stu-id="f0c1b-122">Most file changes, such as changes to file contents, streams, reparse points, attributes, and the file system namespace, are transacted.</span></span> <span data-ttu-id="f0c1b-123">При выполнении одного из этих изменений в транзакционном файле обрабатывается изменение, изолированное от других транзакций, и изменение отменяется, если откат транзакции выполнен.</span><span class="sxs-lookup"><span data-stu-id="f0c1b-123">When one of these changes is made on a transacted file handle, the change is isolated from other transactions, and the change is undone if the transaction is rolled back.</span></span>

<span data-ttu-id="f0c1b-124">Изменения, которые не влияют на содержимое файла, метаданные или пространство имен файловой системы, такие как изменения в сжатии или дефрагментации, не являются транзакционными.</span><span class="sxs-lookup"><span data-stu-id="f0c1b-124">Changes that do not affect file contents, metadata, or the file system namespace, such as changes to compression or defragmentation, are not transacted.</span></span> <span data-ttu-id="f0c1b-125">Эти изменения не изолированы от других транзакций и не отменяются, если откат транзакции выполнен.</span><span class="sxs-lookup"><span data-stu-id="f0c1b-125">These changes are not isolated from other transactions, and they are not undone if the transaction is rolled back.</span></span>

## <a name="compression"></a><span data-ttu-id="f0c1b-126">Сжатие</span><span class="sxs-lookup"><span data-stu-id="f0c1b-126">Compression</span></span>

<span data-ttu-id="f0c1b-127">Не удается изменить состояние сжатия файла, открытого в транзакции.</span><span class="sxs-lookup"><span data-stu-id="f0c1b-127">The compression state of a file opened in a transaction cannot be changed.</span></span>

## <a name="creating-a-file-or-directory"></a><span data-ttu-id="f0c1b-128">Создание файла или каталога</span><span class="sxs-lookup"><span data-stu-id="f0c1b-128">Creating a File or Directory</span></span>

<span data-ttu-id="f0c1b-129">Файл или каталог, созданный в транзакции, невидим для всех элементов за пределами текущей транзакции.</span><span class="sxs-lookup"><span data-stu-id="f0c1b-129">A file or directory that is created in a transaction is not visible to anything outside the current transaction.</span></span> <span data-ttu-id="f0c1b-130">За пределами этой транзакции любая попытка создать файл с тем же именем завершается ошибкой **с \_ \_ конфликтом транзакций**, что позволяет эффективно передать имя файла при фиксации или откате транзакции.</span><span class="sxs-lookup"><span data-stu-id="f0c1b-130">Outside this transaction, any attempt to create a file with the same name fails with the error **ERROR\_TRANSACTIONAL\_CONFLICT**, effectively reserving the file name for when the transaction commits or is rolled back.</span></span>

## <a name="deleting-a-file"></a><span data-ttu-id="f0c1b-131">Удаление файла</span><span class="sxs-lookup"><span data-stu-id="f0c1b-131">Deleting a File</span></span>

<span data-ttu-id="f0c1b-132">Файл или каталог, который удаляется путем вызова функции [**делетефилетрансактед**](/windows/desktop/api/WinBase/nf-winbase-deletefiletransacteda) , остается видимым для всех внешних читателей.</span><span class="sxs-lookup"><span data-stu-id="f0c1b-132">A file or directory that is deleted by calling the [**DeleteFileTransacted**](/windows/desktop/api/WinBase/nf-winbase-deletefiletransacteda) function remains visible to all outside readers.</span></span>

> [!Note]  
> <span data-ttu-id="f0c1b-133">Все дескрипторы транзакций файла должны быть закрыты до завершения транзакции.</span><span class="sxs-lookup"><span data-stu-id="f0c1b-133">All transacted handles to the file must be closed before the end of the transaction.</span></span> <span data-ttu-id="f0c1b-134">Если дескрипторы не закрыты должным образом, удаление не выполняется.</span><span class="sxs-lookup"><span data-stu-id="f0c1b-134">If the handles are not properly closed, the delete does not occur.</span></span> <span data-ttu-id="f0c1b-135">Все открытые дескрипторы файла должны быть закрыты перед выполнением фиксации, чтобы считаться частью транзакции.</span><span class="sxs-lookup"><span data-stu-id="f0c1b-135">All open handles to the file must be closed before performing the commit for the delete operation to be considered part of the transaction.</span></span> <span data-ttu-id="f0c1b-136">Это обусловлено тем, что система фактически не удаляет файл до тех пор, пока не будет закрыт последний его обработчик, даже если операция не является транзакционной, как часть подсистемы ввода-вывода Windows.</span><span class="sxs-lookup"><span data-stu-id="f0c1b-136">This is because the system does not actually delete a file until the last handle to it is closed, even when the operation is not transacted, as part of the Windows file I/O subsystem.</span></span>

 

## <a name="deleting-a-directory"></a><span data-ttu-id="f0c1b-137">Удаление каталога</span><span class="sxs-lookup"><span data-stu-id="f0c1b-137">Deleting a Directory</span></span>

<span data-ttu-id="f0c1b-138">Каталог, который удаляется путем вызова функции [**ремоведиректоритрансактед**](/windows/desktop/api/WinBase/nf-winbase-removedirectorytransacteda) , остается видимым для всех внешних читателей.</span><span class="sxs-lookup"><span data-stu-id="f0c1b-138">A directory that is deleted by calling the [**RemoveDirectoryTransacted**](/windows/desktop/api/WinBase/nf-winbase-removedirectorytransacteda) function remains visible to all outside readers.</span></span>

> [!Note]  
> <span data-ttu-id="f0c1b-139">Те же ограничения существуют для открытых дескрипторов операций с каталогами транзакций, как и в файлах.</span><span class="sxs-lookup"><span data-stu-id="f0c1b-139">The same constraints exist for open handles on transacted directory operations as on files.</span></span> <span data-ttu-id="f0c1b-140">Дополнительные сведения см. [в разделе Удаление файла](#deleting-a-file).</span><span class="sxs-lookup"><span data-stu-id="f0c1b-140">For more information, see [Deleting a File](#deleting-a-file).</span></span>

 

## <a name="directory-locking-issues"></a><span data-ttu-id="f0c1b-141">Проблемы с блокировкой каталога</span><span class="sxs-lookup"><span data-stu-id="f0c1b-141">Directory Locking Issues</span></span>

<span data-ttu-id="f0c1b-142">Если файл изменяется в транзакции, все компоненты каталога пути к файлу называются *закрепленными по переименованию* до завершения транзакции.</span><span class="sxs-lookup"><span data-stu-id="f0c1b-142">If a file is modified in a transaction, all directory components of the path to the file are referred to as *pinned against rename* until the transaction ends.</span></span> <span data-ttu-id="f0c1b-143">Это значит, что система не позволяет переименование, пока транзакция не будет зафиксирована или отменена.</span><span class="sxs-lookup"><span data-stu-id="f0c1b-143">That is, the system prevents you from renaming them until the transaction is committed or rolled back.</span></span> <span data-ttu-id="f0c1b-144">Попытка переименования каталога, который является предком файла, который был изменен в текущей транзакции, завершится ошибкой, и ошибка не сможет **\_ \_ прервать \_ транзакционную \_ зависимость**.</span><span class="sxs-lookup"><span data-stu-id="f0c1b-144">An attempt to rename a directory that is an ancestor to a file that has been modified in an ongoing transaction will fail with the error **ERROR\_CANT\_BREAK\_TRANSACTIONAL\_DEPENDENCY**.</span></span>

## <a name="directory-enumeration"></a><span data-ttu-id="f0c1b-145">Перечисление каталогов</span><span class="sxs-lookup"><span data-stu-id="f0c1b-145">Directory Enumeration</span></span>

<span data-ttu-id="f0c1b-146">Содержимое каталога может быть изменено, когда перечисление выполняется в результате использования интерфейсов API для перечисления, например функций [**финдфирстфилетрансактед**](/windows/desktop/api/WinBase/nf-winbase-findfirstfiletransacteda) и [**FindNextFile**](/windows/desktop/api/FileAPI/nf-fileapi-findnextfilea) .</span><span class="sxs-lookup"><span data-stu-id="f0c1b-146">The contents of a directory can be changed while an enumeration is in progress as a result of using APIs that enumerate, for example the [**FindFirstFileTransacted**](/windows/desktop/api/WinBase/nf-winbase-findfirstfiletransacteda) and [**FindNextFile**](/windows/desktop/api/FileAPI/nf-fileapi-findnextfilea) functions.</span></span>

<span data-ttu-id="f0c1b-147">Изменения в каталоге за пределами транзакции не изолируются от транзакции и сразу же отображаются в пределах транзакции.</span><span class="sxs-lookup"><span data-stu-id="f0c1b-147">Changes to a directory outside a transaction are not isolated from the transaction and are immediately visible within the transaction.</span></span> <span data-ttu-id="f0c1b-148">Например, если модуль записи, не поддерживающей транзакции, добавляет файл в каталог, новый файл сразу же становится видимым внутри транзакции таким образом, что вызов функции [**финдфирстфилетрансактед**](/windows/desktop/api/WinBase/nf-winbase-findfirstfiletransacteda) или [**FindNextFile**](/windows/desktop/api/FileAPI/nf-fileapi-findnextfilea) вернет новый файл.</span><span class="sxs-lookup"><span data-stu-id="f0c1b-148">For example, if a non-transacted writer adds a file to a directory, the new file is immediately visible inside the transaction such that calling the [**FindFirstFileTransacted**](/windows/desktop/api/WinBase/nf-winbase-findfirstfiletransacteda) or [**FindNextFile**](/windows/desktop/api/FileAPI/nf-fileapi-findnextfilea) function will return the new file.</span></span>

<span data-ttu-id="f0c1b-149">Изменения, вносимые в каталог внутри транзакции, изолируются до тех пор, пока не будет выполнена фиксация транзакции.</span><span class="sxs-lookup"><span data-stu-id="f0c1b-149">Changes made to a directory inside a transaction are isolated until the transaction commits.</span></span> <span data-ttu-id="f0c1b-150">Например, файл, созданный в каталоге как часть транзакции.</span><span class="sxs-lookup"><span data-stu-id="f0c1b-150">For example, a file created in the directory as part of the transaction.</span></span> <span data-ttu-id="f0c1b-151">Нетранзакционный модуль чтения, вызывающий функцию [**FindFirstFile**](/windows/desktop/api/FileAPI/nf-fileapi-findfirstfilea) или [**FindNextFile**](/windows/desktop/api/FileAPI/nf-fileapi-findnextfilea) , не увидит созданный файл до тех пор, пока не будет выполнена фиксация транзакции.</span><span class="sxs-lookup"><span data-stu-id="f0c1b-151">A non-transacted reader calling the [**FindFirstFile**](/windows/desktop/api/FileAPI/nf-fileapi-findfirstfilea) or [**FindNextFile**](/windows/desktop/api/FileAPI/nf-fileapi-findnextfilea) function will not see the newly created file until the transaction commits.</span></span>

## <a name="memory-mapped-files"></a><span data-ttu-id="f0c1b-152">Сопоставленные в памяти файлы</span><span class="sxs-lookup"><span data-stu-id="f0c1b-152">Memory-Mapped Files</span></span>

<span data-ttu-id="f0c1b-153">Клиент должен вызвать функцию [**флушвиевоффиле**](/windows/desktop/api/memoryapi/nf-memoryapi-flushviewoffile) , закрыть объект сопоставления файлов и закрыть этот файл перед фиксацией связанной транзакции в размещенном в памяти файле.</span><span class="sxs-lookup"><span data-stu-id="f0c1b-153">The client must call the [**FlushViewOfFile**](/windows/desktop/api/memoryapi/nf-memoryapi-flushviewoffile) function, close the file-mapping object, and close the file handle before committing the associated transaction on a memory-mapped file.</span></span>

## <a name="named-streams"></a><span data-ttu-id="f0c1b-154">Именованные потоки</span><span class="sxs-lookup"><span data-stu-id="f0c1b-154">Named Streams</span></span>

<span data-ttu-id="f0c1b-155">Именованные потоки являются полностью транзакционными, но блокировка выполняется на уровне файлов, а не на уровне потока.</span><span class="sxs-lookup"><span data-stu-id="f0c1b-155">Named streams are fully transactional, but locking is done at the file level, not the stream level.</span></span> <span data-ttu-id="f0c1b-156">Модули записи извне транзакции, которые пытаются изменить любой поток в заблокированном файле, получают сообщение об ошибке **\_ общего доступа \_**.</span><span class="sxs-lookup"><span data-stu-id="f0c1b-156">Writers from outside a transaction that attempt to modify any stream within a locked file receive the error **ERROR\_SHARING\_VIOLATION**.</span></span>

<span data-ttu-id="f0c1b-157">Вторичный поток нельзя переименовать в транзакции.</span><span class="sxs-lookup"><span data-stu-id="f0c1b-157">You cannot rename a secondary stream in a transaction.</span></span>

## <a name="renaming-a-file-or-directory"></a><span data-ttu-id="f0c1b-158">Переименование файла или каталога</span><span class="sxs-lookup"><span data-stu-id="f0c1b-158">Renaming a File or Directory</span></span>

<span data-ttu-id="f0c1b-159">Чтобы переименовать файл как транзакционную операцию, вызовите [**мовефилетрансактед**](/windows/desktop/api/WinBase/nf-winbase-movefiletransacteda) , чтобы переместить файл.</span><span class="sxs-lookup"><span data-stu-id="f0c1b-159">To rename a file as a transacted operation, call [**MoveFileTransacted**](/windows/desktop/api/WinBase/nf-winbase-movefiletransacteda) to move the file.</span></span>

## <a name="reparse-points"></a><span data-ttu-id="f0c1b-160">Точки повторного синтаксического анализа</span><span class="sxs-lookup"><span data-stu-id="f0c1b-160">Reparse Points</span></span>

<span data-ttu-id="f0c1b-161">Изменения точек повторного анализа являются транзакционными. Это означает, что если новая точка повторного анализа назначена файлу в транзакции, она не будет видна другим транзакциям.</span><span class="sxs-lookup"><span data-stu-id="f0c1b-161">Changes to reparse points are transacted, which means that if a new reparse point gets assigned to a file in a transaction, it is not visible to the other transactions.</span></span> <span data-ttu-id="f0c1b-162">Аналогично, изменения или удаление существующей точки повторного анализа не видны до фиксации.</span><span class="sxs-lookup"><span data-stu-id="f0c1b-162">Similarly, changes or removal of an existing reparse point are not visible until commit.</span></span>

## <a name="error-codes"></a><span data-ttu-id="f0c1b-163">Коды ошибок</span><span class="sxs-lookup"><span data-stu-id="f0c1b-163">Error Codes</span></span>

<span data-ttu-id="f0c1b-164">Диспетчер транзакций ядра (KTM) использует коды системных ошибок в диапазоне от 6700 до 6799.</span><span class="sxs-lookup"><span data-stu-id="f0c1b-164">The Kernel Transaction Manager (KTM) uses the system error codes in the range from 6700 through 6799.</span></span> <span data-ttu-id="f0c1b-165">Транзакционная NTFS (TxF) использует коды ошибок Windows в диапазоне от 6800 до 6899.</span><span class="sxs-lookup"><span data-stu-id="f0c1b-165">Transactional NTFS (TxF) uses Windows error codes in the range from 6800 through 6899.</span></span> <span data-ttu-id="f0c1b-166">Дополнительные сведения см. в разделе WinError. h и коды системных ошибок (6000-8199).</span><span class="sxs-lookup"><span data-stu-id="f0c1b-166">For more information, see WinError.h and System Error Codes (6000-8199).</span></span>

## <a name="encrypted-file-system"></a><span data-ttu-id="f0c1b-167">Зашифрованная файловая система</span><span class="sxs-lookup"><span data-stu-id="f0c1b-167">Encrypted File System</span></span>

<span data-ttu-id="f0c1b-168">TxF не поддерживает операции с файлами EFS.</span><span class="sxs-lookup"><span data-stu-id="f0c1b-168">TxF does not support operations on EFS files.</span></span> <span data-ttu-id="f0c1b-169">Для транзакций нельзя открыть зашифрованный с помощью EFS файл.</span><span class="sxs-lookup"><span data-stu-id="f0c1b-169">You cannot open an EFS-encrypted file for transactions.</span></span> <span data-ttu-id="f0c1b-170">Вызов функции [**креатефилетрансактед**](/windows/desktop/api/WinBase/nf-winbase-createfiletransacteda) для файла EFS завершится ошибкой, если **\_ \_ \_ \_ в \_ транзакции не разрешена ошибка EFS**.</span><span class="sxs-lookup"><span data-stu-id="f0c1b-170">Calling the [**CreateFileTransacted**](/windows/desktop/api/WinBase/nf-winbase-createfiletransacteda) function on an EFS file will fail with the error **ERROR\_EFS\_NOT\_ALLOWED\_IN\_TRANSACTION**.</span></span> <span data-ttu-id="f0c1b-171">Аналогично, вызов функции [**енкриптфиле**](/windows/desktop/api/WinBase/nf-winbase-encryptfilea) для файла в транзакции завершится ошибкой, если **\_ \_ \_ \_ в \_ транзакции не разрешена ошибка EFS**.</span><span class="sxs-lookup"><span data-stu-id="f0c1b-171">Similarly, calling the [**EncryptFile**](/windows/desktop/api/WinBase/nf-winbase-encryptfilea) function on a file in a transaction will fail with the error **ERROR\_EFS\_NOT\_ALLOWED\_IN\_TRANSACTION**.</span></span>

## <a name="file-io-functions-and-transactional-ntfs"></a><span data-ttu-id="f0c1b-172">Функции файлового ввода-вывода и транзакционная NTFS</span><span class="sxs-lookup"><span data-stu-id="f0c1b-172">File I/O Functions and Transactional NTFS</span></span>

<span data-ttu-id="f0c1b-173">TxF предоставляет новые транзакционные функции, которые принимают имя файла и изменяет поведение существующих функций API файлового ввода-вывода, которые принимают маркер файла.</span><span class="sxs-lookup"><span data-stu-id="f0c1b-173">TxF provides new transacted functions that take a file name, and changes the behavior of existing file I/O API functions that take a file handle.</span></span>

### <a name="transacted-functions"></a><span data-ttu-id="f0c1b-174">Транзакционные функции</span><span class="sxs-lookup"><span data-stu-id="f0c1b-174">Transacted Functions</span></span>

<span data-ttu-id="f0c1b-175">Если не выполняется вызов одной из следующих транзакционных функций вместо ее версии, не поддерживающей транзакции, операция не будет транзакционной:</span><span class="sxs-lookup"><span data-stu-id="f0c1b-175">If you do not call one of the following transacted functions in place of its non-transacted version, the operation will not be transacted:</span></span>

-   [<span data-ttu-id="f0c1b-176">**копифилетрансактед**</span><span class="sxs-lookup"><span data-stu-id="f0c1b-176">**CopyFileTransacted**</span></span>](/windows/desktop/api/WinBase/nf-winbase-copyfiletransacteda)
-   [<span data-ttu-id="f0c1b-177">**креатедиректоритрансактед**</span><span class="sxs-lookup"><span data-stu-id="f0c1b-177">**CreateDirectoryTransacted**</span></span>](/windows/desktop/api/WinBase/nf-winbase-createdirectorytransacteda)
-   [<span data-ttu-id="f0c1b-178">**креатефилетрансактед**</span><span class="sxs-lookup"><span data-stu-id="f0c1b-178">**CreateFileTransacted**</span></span>](/windows/desktop/api/WinBase/nf-winbase-createfiletransacteda)
-   [<span data-ttu-id="f0c1b-179">**креатехардлинктрансактед**</span><span class="sxs-lookup"><span data-stu-id="f0c1b-179">**CreateHardLinkTransacted**</span></span>](/windows/desktop/api/WinBase/nf-winbase-createhardlinktransacteda)
-   [<span data-ttu-id="f0c1b-180">**креатесимболиклинктрансактед**</span><span class="sxs-lookup"><span data-stu-id="f0c1b-180">**CreateSymbolicLinkTransacted**</span></span>](/windows/desktop/api/WinBase/nf-winbase-createsymboliclinktransacteda)
-   [<span data-ttu-id="f0c1b-181">**делетефилетрансактед**</span><span class="sxs-lookup"><span data-stu-id="f0c1b-181">**DeleteFileTransacted**</span></span>](/windows/desktop/api/WinBase/nf-winbase-deletefiletransacteda)
-   [<span data-ttu-id="f0c1b-182">**финдфирстфиленаметрансактедв**</span><span class="sxs-lookup"><span data-stu-id="f0c1b-182">**FindFirstFileNameTransactedW**</span></span>](/windows/desktop/api/WinBase/nf-winbase-findfirstfilenametransactedw)
-   [<span data-ttu-id="f0c1b-183">**финдфирстфилетрансактед**</span><span class="sxs-lookup"><span data-stu-id="f0c1b-183">**FindFirstFileTransacted**</span></span>](/windows/desktop/api/WinBase/nf-winbase-findfirstfiletransacteda)
-   [<span data-ttu-id="f0c1b-184">**финдфирстстреамтрансактедв**</span><span class="sxs-lookup"><span data-stu-id="f0c1b-184">**FindFirstStreamTransactedW**</span></span>](/windows/desktop/api/WinBase/nf-winbase-findfirststreamtransactedw)
-   [<span data-ttu-id="f0c1b-185">**жеткомпресседфилесизетрансактед**</span><span class="sxs-lookup"><span data-stu-id="f0c1b-185">**GetCompressedFileSizeTransacted**</span></span>](/windows/desktop/api/WinBase/nf-winbase-getcompressedfilesizetransacteda)
-   [<span data-ttu-id="f0c1b-186">**жетфилеаттрибутестрансактед**</span><span class="sxs-lookup"><span data-stu-id="f0c1b-186">**GetFileAttributesTransacted**</span></span>](/windows/desktop/api/WinBase/nf-winbase-getfileattributestransacteda)
-   [<span data-ttu-id="f0c1b-187">**жетфуллпаснаметрансактед**</span><span class="sxs-lookup"><span data-stu-id="f0c1b-187">**GetFullPathNameTransacted**</span></span>](/windows/desktop/api/WinBase/nf-winbase-getfullpathnametransacteda)
-   [<span data-ttu-id="f0c1b-188">**жетлонгпаснаметрансактед**</span><span class="sxs-lookup"><span data-stu-id="f0c1b-188">**GetLongPathNameTransacted**</span></span>](/windows/desktop/api/WinBase/nf-winbase-getlongpathnametransacteda)
-   [<span data-ttu-id="f0c1b-189">**мовефилетрансактед**</span><span class="sxs-lookup"><span data-stu-id="f0c1b-189">**MoveFileTransacted**</span></span>](/windows/desktop/api/WinBase/nf-winbase-movefiletransacteda)
-   [<span data-ttu-id="f0c1b-190">**ремоведиректоритрансактед**</span><span class="sxs-lookup"><span data-stu-id="f0c1b-190">**RemoveDirectoryTransacted**</span></span>](/windows/desktop/api/WinBase/nf-winbase-removedirectorytransacteda)
-   [<span data-ttu-id="f0c1b-191">**сетфилеаттрибутестрансактед**</span><span class="sxs-lookup"><span data-stu-id="f0c1b-191">**SetFileAttributesTransacted**</span></span>](/windows/desktop/api/WinBase/nf-winbase-setfileattributestransacteda)

<span data-ttu-id="f0c1b-192">Например, функция [**CreateFile**](/windows/desktop/api/FileAPI/nf-fileapi-createfilea) теперь имеет транзакционную версию: [**креатефилетрансактед**](/windows/desktop/api/WinBase/nf-winbase-createfiletransacteda).</span><span class="sxs-lookup"><span data-stu-id="f0c1b-192">For example, the [**CreateFile**](/windows/desktop/api/FileAPI/nf-fileapi-createfilea) function now has a transacted version: [**CreateFileTransacted**](/windows/desktop/api/WinBase/nf-winbase-createfiletransacteda).</span></span>

### <a name="file-io-functions-changed-by-txf"></a><span data-ttu-id="f0c1b-193">Функции файлового ввода-вывода, измененные системой TxF</span><span class="sxs-lookup"><span data-stu-id="f0c1b-193">File I/O Functions Changed By TxF</span></span>

<span data-ttu-id="f0c1b-194">В следующей таблице перечислены функции, поведение которых зависит от транзакционной NTFS.</span><span class="sxs-lookup"><span data-stu-id="f0c1b-194">The following table lists the functions whose behavior is affected by Transactional NTFS.</span></span> <span data-ttu-id="f0c1b-195">Например, поведение функции [**ReadFile**](/windows/desktop/api/FileAPI/nf-fileapi-readfile) будет зависеть от того, был ли параметр *HFile* создан функцией [**CreateFile**](/windows/desktop/api/FileAPI/nf-fileapi-createfilea) или функцией [**креатефилетрансактед**](/windows/desktop/api/WinBase/nf-winbase-createfiletransacteda) .</span><span class="sxs-lookup"><span data-stu-id="f0c1b-195">For example, the behavior of the [**ReadFile**](/windows/desktop/api/FileAPI/nf-fileapi-readfile) function will vary depending on whether the *hFile* parameter was created by the [**CreateFile**](/windows/desktop/api/FileAPI/nf-fileapi-createfilea) function or the [**CreateFileTransacted**](/windows/desktop/api/WinBase/nf-winbase-createfiletransacteda) function.</span></span>



| <span data-ttu-id="f0c1b-196">Функция</span><span class="sxs-lookup"><span data-stu-id="f0c1b-196">Function</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                             | <span data-ttu-id="f0c1b-197">Описание</span><span class="sxs-lookup"><span data-stu-id="f0c1b-197">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                |
|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="f0c1b-198"><span id="CloseHandle"></span><span id="closehandle"></span><span id="CLOSEHANDLE"></span>[**CloseHandle**](/windows/desktop/api/handleapi/nf-handleapi-closehandle)</span><span class="sxs-lookup"><span data-stu-id="f0c1b-198"><span id="CloseHandle"></span><span id="closehandle"></span><span id="CLOSEHANDLE"></span>[**CloseHandle**](/windows/desktop/api/handleapi/nf-handleapi-closehandle)</span></span><br/>                                                                                                                                                                                                                                                                                                             | <span data-ttu-id="f0c1b-199">Приложения должны закрывать все дескрипторы, привязанные к транзакции, до фиксации транзакции.</span><span class="sxs-lookup"><span data-stu-id="f0c1b-199">Applications should close all handles bound to a transaction before the transaction is committed.</span></span> <span data-ttu-id="f0c1b-200">Приложение должно закрыть обработчик транзакций, Открытый с помощью **\_ флага file \_ DELETE, \_ в \_ Close** перед фиксацией транзакции, чтобы операция удаления была выполнена.</span><span class="sxs-lookup"><span data-stu-id="f0c1b-200">An application must close a transacted handle opened with **FILE\_FLAG\_DELETE\_ON\_CLOSE** before committing the transaction in order for the delete operation to occur.</span></span><br/>                                                                                                                                     |
| <span data-ttu-id="f0c1b-201"><span id="CreateFileMapping"></span><span id="createfilemapping"></span><span id="CREATEFILEMAPPING"></span>[**CreateFileMapping**](/windows/desktop/api/winbase/nf-winbase-createfilemappinga)</span><span class="sxs-lookup"><span data-stu-id="f0c1b-201"><span id="CreateFileMapping"></span><span id="createfilemapping"></span><span id="CREATEFILEMAPPING"></span>[**CreateFileMapping**](/windows/desktop/api/winbase/nf-winbase-createfilemappinga)</span></span><br/>                                                                                                                                                                                                                                                                                 | <span data-ttu-id="f0c1b-202">Если существует транзакция, связанная с *hFile*, то объект сопоставления файлов, создаваемый этой функцией, будет связан с той же транзакцией.</span><span class="sxs-lookup"><span data-stu-id="f0c1b-202">If there is a transaction associated with *hFile*, then the file-mapping object that this function creates will be associated with the same transaction.</span></span> <span data-ttu-id="f0c1b-203">Изменения, вносимые в представления этого объекта сопоставления файлов, являются транзакционными.</span><span class="sxs-lookup"><span data-stu-id="f0c1b-203">Modifications made through views of this file-mapping object are transacted.</span></span> <span data-ttu-id="f0c1b-204">Приложения должны вызвать [**флушвиевоффиле**](/windows/desktop/api/memoryapi/nf-memoryapi-flushviewoffile), отменить сопоставление всех представлений и закрыть все дескрипторы объекта сопоставления файлов перед фиксацией изменений в транзакциях.</span><span class="sxs-lookup"><span data-stu-id="f0c1b-204">Applications must call [**FlushViewOfFile**](/windows/desktop/api/memoryapi/nf-memoryapi-flushviewoffile), unmap all views, and close all handles to the file-mapping object before committing transacted changes.</span></span><br/> |
| <span data-ttu-id="f0c1b-205"><span id="FindNextFile"></span><span id="findnextfile"></span><span id="FINDNEXTFILE"></span>[**FindNextFile**](/windows/desktop/api/FileAPI/nf-fileapi-findnextfilea)</span><span class="sxs-lookup"><span data-stu-id="f0c1b-205"><span id="FindNextFile"></span><span id="findnextfile"></span><span id="FINDNEXTFILE"></span>[**FindNextFile**](/windows/desktop/api/FileAPI/nf-fileapi-findnextfilea)</span></span><br/>                                                                                                                                                                                                                                                                                                         | <span data-ttu-id="f0c1b-206">Если имеется транзакция, привязанная к обработчику перечисления файлов, то возвращаемые файлы подвергаются правилам изоляции транзакций.</span><span class="sxs-lookup"><span data-stu-id="f0c1b-206">If there is a transaction bound to the file enumeration handle, then the files that are returned are subject to transaction isolation rules.</span></span><br/>                                                                                                                                                                                                                                                                    |
| <span data-ttu-id="f0c1b-207"><span id="FSCTL_SET_COMPRESSION"></span><span id="fsctl_set_compression"></span>[**ФСКТЛ \_ Установка \_ сжатия**](/windows/win32/api/winioctl/ni-winioctl-fsctl_set_compression)</span><span class="sxs-lookup"><span data-stu-id="f0c1b-207"><span id="FSCTL_SET_COMPRESSION"></span><span id="fsctl_set_compression"></span>[**FSCTL\_SET\_COMPRESSION**](/windows/win32/api/winioctl/ni-winioctl-fsctl_set_compression)</span></span><br/>                                                                                                                                                                                                                                                                                                  | <span data-ttu-id="f0c1b-208">Нельзя изменить состояние сжатия файла, открытого с помощью [**креатефилетрансактед**](/windows/desktop/api/WinBase/nf-winbase-createfiletransacteda).</span><span class="sxs-lookup"><span data-stu-id="f0c1b-208">You cannot change the compression state of a file opened by [**CreateFileTransacted**](/windows/desktop/api/WinBase/nf-winbase-createfiletransacteda).</span></span><br/>                                                                                                                                                                                                                                                                                               |
| <span data-ttu-id="f0c1b-209"><span id="GetFileInformationByHandle__________and__________GetFileInformationByHandleEx"></span><span id="getfileinformationbyhandle__________and__________getfileinformationbyhandleex"></span><span id="GETFILEINFORMATIONBYHANDLE__________AND__________GETFILEINFORMATIONBYHANDLEEX"></span>[**Жетфилеинформатионбихандле**](/windows/desktop/api/FileAPI/nf-fileapi-getfileinformationbyhandle) и [ **жетфилеинформатионбихандликс**](/windows/desktop/api/WinBase/nf-winbase-getfileinformationbyhandleex)</span><span class="sxs-lookup"><span data-stu-id="f0c1b-209"><span id="GetFileInformationByHandle__________and__________GetFileInformationByHandleEx"></span><span id="getfileinformationbyhandle__________and__________getfileinformationbyhandleex"></span><span id="GETFILEINFORMATIONBYHANDLE__________AND__________GETFILEINFORMATIONBYHANDLEEX"></span>[**GetFileInformationByHandle**](/windows/desktop/api/FileAPI/nf-fileapi-getfileinformationbyhandle) and [**GetFileInformationByHandleEx**](/windows/desktop/api/WinBase/nf-winbase-getfileinformationbyhandleex)</span></span><br/> | <span data-ttu-id="f0c1b-210">При наличии транзакции, привязанной к этому файлу, функция возвращает сведения для изолированного представления файлов.</span><span class="sxs-lookup"><span data-stu-id="f0c1b-210">If there is a transaction bound to the file handle, then the function returns information for the isolated file view.</span></span><br/>                                                                                                                                                                                                                                                                                           |
| <span data-ttu-id="f0c1b-211"><span id="GetFileSize_and__________GetFileSizeEx"></span><span id="getfilesize_and__________getfilesizeex"></span><span id="GETFILESIZE_AND__________GETFILESIZEEX"></span>[**GetFileSize**](/windows/desktop/api/FileAPI/nf-fileapi-getfilesize) и [ **жетфилесизикс**](/windows/desktop/api/FileAPI/nf-fileapi-getfilesizeex)</span><span class="sxs-lookup"><span data-stu-id="f0c1b-211"><span id="GetFileSize_and__________GetFileSizeEx"></span><span id="getfilesize_and__________getfilesizeex"></span><span id="GETFILESIZE_AND__________GETFILESIZEEX"></span>[**GetFileSize**](/windows/desktop/api/FileAPI/nf-fileapi-getfilesize) and [**GetFileSizeEx**](/windows/desktop/api/FileAPI/nf-fileapi-getfilesizeex)</span></span><br/>                                                                                                                                                                                  | <span data-ttu-id="f0c1b-212">При наличии транзакции, привязанной к этому файлу, функция возвращает сведения для изолированного представления файлов.</span><span class="sxs-lookup"><span data-stu-id="f0c1b-212">If there is a transaction bound to the file handle, then the function returns information for the isolated file view.</span></span><br/>                                                                                                                                                                                                                                                                                           |
| <span data-ttu-id="f0c1b-213"><span id="GetVolumeInformation"></span><span id="getvolumeinformation"></span><span id="GETVOLUMEINFORMATION"></span>[**жетволумеинформатион**](/windows/desktop/api/FileAPI/nf-fileapi-getvolumeinformationa)</span><span class="sxs-lookup"><span data-stu-id="f0c1b-213"><span id="GetVolumeInformation"></span><span id="getvolumeinformation"></span><span id="GETVOLUMEINFORMATION"></span>[**GetVolumeInformation**](/windows/desktop/api/FileAPI/nf-fileapi-getvolumeinformationa)</span></span><br/>                                                                                                                                                                                                                                                                 | <span data-ttu-id="f0c1b-214">Если том поддерживает транзакции файловой системы, функция возвращает файл, **\_ поддерживающий \_ транзакции** в *лпфилесистемфлагс*.</span><span class="sxs-lookup"><span data-stu-id="f0c1b-214">If the volume supports file system transactions, the function returns **FILE\_SUPPORTS\_TRANSACTIONS** in *lpFileSystemFlags*.</span></span><br/>                                                                                                                                                                                                                                                                                  |
| <span data-ttu-id="f0c1b-215"><span id="MapViewOfFile_and__________MapViewOfFileEx"></span><span id="mapviewoffile_and__________mapviewoffileex"></span><span id="MAPVIEWOFFILE_AND__________MAPVIEWOFFILEEX"></span>[**MapViewOfFile**](/windows/desktop/api/memoryapi/nf-memoryapi-mapviewoffile) и [ **MapViewOfFileEx**](/windows/desktop/api/memoryapi/nf-memoryapi-mapviewoffileex)</span><span class="sxs-lookup"><span data-stu-id="f0c1b-215"><span id="MapViewOfFile_and__________MapViewOfFileEx"></span><span id="mapviewoffile_and__________mapviewoffileex"></span><span id="MAPVIEWOFFILE_AND__________MAPVIEWOFFILEEX"></span>[**MapViewOfFile**](/windows/desktop/api/memoryapi/nf-memoryapi-mapviewoffile) and [**MapViewOfFileEx**](/windows/desktop/api/memoryapi/nf-memoryapi-mapviewoffileex)</span></span><br/>                                                                                                                                                                | <span data-ttu-id="f0c1b-216">Если существует транзакция, связанная с этим маркером файла, который используется для создания сопоставляемого объекта сопоставления файлов, то связанное представление будет транзакционным.</span><span class="sxs-lookup"><span data-stu-id="f0c1b-216">If there is a transaction associated with the file handle used to create the file-mapping object that is being mapped, then the associated view is transacted.</span></span> <span data-ttu-id="f0c1b-217">Если представление используется для внесения транзакционных изменений в файл, пользователь должен вызвать [**флушвиевоффиле**](/windows/desktop/api/memoryapi/nf-memoryapi-flushviewoffile), закрыть объект сопоставления файлов и закрыть этот файл перед фиксацией связанной транзакции.</span><span class="sxs-lookup"><span data-stu-id="f0c1b-217">If the view is used to make transacted changes to a file, then the user must call [**FlushViewOfFile**](/windows/desktop/api/memoryapi/nf-memoryapi-flushviewoffile), close the file-mapping object, and close the file handle before committing the associated transaction.</span></span><br/>              |
| <span data-ttu-id="f0c1b-218"><span id="ReadDirectoryChangesW"></span><span id="readdirectorychangesw"></span><span id="READDIRECTORYCHANGESW"></span>[**реаддиректоричанжесв**](/windows/desktop/api/WinBase/nf-winbase-readdirectorychangesw)</span><span class="sxs-lookup"><span data-stu-id="f0c1b-218"><span id="ReadDirectoryChangesW"></span><span id="readdirectorychangesw"></span><span id="READDIRECTORYCHANGESW"></span>[**ReadDirectoryChangesW**](/windows/desktop/api/WinBase/nf-winbase-readdirectorychangesw)</span></span><br/>                                                                                                                                                                                                                                                            | <span data-ttu-id="f0c1b-219">При наличии транзакции, привязанной к обработчику каталога, уведомления отправляют изолированное представление каталога.</span><span class="sxs-lookup"><span data-stu-id="f0c1b-219">If there is a transaction bound to the directory handle, then the notifications reflect the isolated view of the directory.</span></span> <span data-ttu-id="f0c1b-220">Изменения, вносимые в файлы за пределами транзакционного представления каталога, не включаются в уведомления.</span><span class="sxs-lookup"><span data-stu-id="f0c1b-220">Changes to files outside the transacted view of the directory are not included in the notifications.</span></span><br/>                                                                                                                                                                                |
| <span data-ttu-id="f0c1b-221"><span id="ReadFile___________ReadFileEx__and__________ReadFileScatter"></span><span id="readfile___________readfileex__and__________readfilescatter"></span><span id="READFILE___________READFILEEX__AND__________READFILESCATTER"></span>[**ReadFile**](/windows/desktop/api/FileAPI/nf-fileapi-readfile), [**реадфиликс**](/windows/desktop/api/FileAPI/nf-fileapi-readfileex)и [**реадфилескаттер**](/windows/desktop/api/FileAPI/nf-fileapi-readfilescatter)</span><span class="sxs-lookup"><span data-stu-id="f0c1b-221"><span id="ReadFile___________ReadFileEx__and__________ReadFileScatter"></span><span id="readfile___________readfileex__and__________readfilescatter"></span><span id="READFILE___________READFILEEX__AND__________READFILESCATTER"></span>[**ReadFile**](/windows/desktop/api/FileAPI/nf-fileapi-readfile), [**ReadFileEx**](/windows/desktop/api/FileAPI/nf-fileapi-readfileex), and [**ReadFileScatter**](/windows/desktop/api/FileAPI/nf-fileapi-readfilescatter)</span></span><br/>                                                                                  | <span data-ttu-id="f0c1b-222">При наличии транзакции, привязанной к этому файлу, функция возвращает данные из транзакционного представления файла.</span><span class="sxs-lookup"><span data-stu-id="f0c1b-222">If there is a transaction bound to the file handle, then the function returns data from the transacted view of the file.</span></span> <span data-ttu-id="f0c1b-223">Транзакционный маркер чтения гарантирует отображение того же представления файла в течение срока действия маркера.</span><span class="sxs-lookup"><span data-stu-id="f0c1b-223">A transacted read handle is guaranteed to show the same view of a file for the duration of the handle.</span></span><br/>                                                                                                                                                                                 |
| <span data-ttu-id="f0c1b-224"><span id="SetEndOfFile"></span><span id="setendoffile"></span><span id="SETENDOFFILE"></span>[**SetEndOfFile**](/windows/desktop/api/FileAPI/nf-fileapi-setendoffile)</span><span class="sxs-lookup"><span data-stu-id="f0c1b-224"><span id="SetEndOfFile"></span><span id="setendoffile"></span><span id="SETENDOFFILE"></span>[**SetEndOfFile**](/windows/desktop/api/FileAPI/nf-fileapi-setendoffile)</span></span><br/>                                                                                                                                                                                                                                                                                                         | <span data-ttu-id="f0c1b-225">Если к этому маркеру привязана транзакция, то изменение в положении конца файла будет транзакционным.</span><span class="sxs-lookup"><span data-stu-id="f0c1b-225">If there is a transaction bound to the handle, then the change in the end-of-file position is transacted.</span></span><br/>                                                                                                                                                                                                                                                                                                       |
| <span data-ttu-id="f0c1b-226"><span id="SetFileInformationByHandle"></span><span id="setfileinformationbyhandle"></span><span id="SETFILEINFORMATIONBYHANDLE"></span>[**сетфилеинформатионбихандле**](/windows/desktop/api/FileAPI/nf-fileapi-setfileinformationbyhandle)</span><span class="sxs-lookup"><span data-stu-id="f0c1b-226"><span id="SetFileInformationByHandle"></span><span id="setfileinformationbyhandle"></span><span id="SETFILEINFORMATIONBYHANDLE"></span>[**SetFileInformationByHandle**](/windows/desktop/api/FileAPI/nf-fileapi-setfileinformationbyhandle)</span></span><br/>                                                                                                                                                                                                                                   | <span data-ttu-id="f0c1b-227">При наличии транзакции, привязанной к этому маркеру, внесенные изменения будут транзакционными для классов сведений **филебасиЦинфо**, **филеренамеинфо**, **филеаллокатионинфо**, **филиндоффилеинфо** и **филедиспоситионинфо**.</span><span class="sxs-lookup"><span data-stu-id="f0c1b-227">If there is a transaction bound to the handle, then the changes made will be transacted for the information classes **FileBasicInfo**, **FileRenameInfo**, **FileAllocationInfo**, **FileEndOfFileInfo**, and **FileDispositionInfo**.</span></span><br/>                                                                                                                                                                          |
| <span data-ttu-id="f0c1b-228"><span id="SetFileShortName"></span><span id="setfileshortname"></span><span id="SETFILESHORTNAME"></span>[**сетфилешортнаме**](/windows/desktop/api/WinBase/nf-winbase-setfileshortnamea)</span><span class="sxs-lookup"><span data-stu-id="f0c1b-228"><span id="SetFileShortName"></span><span id="setfileshortname"></span><span id="SETFILESHORTNAME"></span>[**SetFileShortName**](/windows/desktop/api/WinBase/nf-winbase-setfileshortnamea)</span></span><br/>                                                                                                                                                                                                                                                                                     | <span data-ttu-id="f0c1b-229">При наличии транзакции, привязанной к этому маркеру, изменение краткого имени файла будет транзакционным.</span><span class="sxs-lookup"><span data-stu-id="f0c1b-229">If there is a transaction bound to the handle, then the change in the file's short name is transacted.</span></span><br/>                                                                                                                                                                                                                                                                                                          |
| <span data-ttu-id="f0c1b-230"><span id="SetFileTime"></span><span id="setfiletime"></span><span id="SETFILETIME"></span>[**сетфилетиме**](/windows/desktop/api/fileapi/nf-fileapi-setfiletime)</span><span class="sxs-lookup"><span data-stu-id="f0c1b-230"><span id="SetFileTime"></span><span id="setfiletime"></span><span id="SETFILETIME"></span>[**SetFileTime**](/windows/desktop/api/fileapi/nf-fileapi-setfiletime)</span></span><br/>                                                                                                                                                                                                                                                                                                             | <span data-ttu-id="f0c1b-231">При наличии транзакции, привязанной к этому маркеру, изменение времени файла будет транзакционным.</span><span class="sxs-lookup"><span data-stu-id="f0c1b-231">If there is a transaction bound to the handle, then the change in file time is transacted.</span></span><br/>                                                                                                                                                                                                                                                                                                                      |
| <span data-ttu-id="f0c1b-232"><span id="WriteFile__________WriteFileEx__and_________WriteFileGather"></span><span id="writefile__________writefileex__and_________writefilegather"></span><span id="WRITEFILE__________WRITEFILEEX__AND_________WRITEFILEGATHER"></span>[**WriteFile**](/windows/desktop/api/FileAPI/nf-fileapi-writefile), [**вритефиликс**](/windows/desktop/api/FileAPI/nf-fileapi-writefileex)и [**вритефилегасер**](/windows/desktop/api/FileAPI/nf-fileapi-writefilegather)</span><span class="sxs-lookup"><span data-stu-id="f0c1b-232"><span id="WriteFile__________WriteFileEx__and_________WriteFileGather"></span><span id="writefile__________writefileex__and_________writefilegather"></span><span id="WRITEFILE__________WRITEFILEEX__AND_________WRITEFILEGATHER"></span>[**WriteFile**](/windows/desktop/api/FileAPI/nf-fileapi-writefile), [**WriteFileEx**](/windows/desktop/api/FileAPI/nf-fileapi-writefileex), and [**WriteFileGather**](/windows/desktop/api/FileAPI/nf-fileapi-writefilegather)</span></span><br/>                                                                              | <span data-ttu-id="f0c1b-233">Если существует транзакция, привязанная к этому файлу, запись файла будет транзакционной.</span><span class="sxs-lookup"><span data-stu-id="f0c1b-233">If there is a transaction bound to the file handle, then the file write is transacted.</span></span><br/>                                                                                                                                                                                                                                                                                                                          |



 

 

