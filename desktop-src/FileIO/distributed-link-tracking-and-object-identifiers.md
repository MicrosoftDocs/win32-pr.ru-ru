---
description: Служба отслеживания распределенных каналов позволяет клиентским приложениям отслеживать перемещенные источники связей.
ms.assetid: 6f438c72-f23d-4ca4-83bd-fe3bc433ceeb
title: Отслеживание распределенных ссылок и идентификаторы объектов
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 62d28e151c21fd5320a41950be7647c1e8e0a88b
ms.sourcegitcommit: 6515eef99ca0d1bbe3e27d4575e9986f5255f277
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/10/2021
ms.locfileid: "105664951"
---
# <a name="distributed-link-tracking-and-object-identifiers"></a><span data-ttu-id="5b6c5-103">Отслеживание распределенных ссылок и идентификаторы объектов</span><span class="sxs-lookup"><span data-stu-id="5b6c5-103">Distributed Link Tracking and Object Identifiers</span></span>

<span data-ttu-id="5b6c5-104">Хранение ссылки на файл или каталог с использованием пути и имени файла является ненадежным.</span><span class="sxs-lookup"><span data-stu-id="5b6c5-104">Storing a reference to a file or directory by using its path and file name is not reliable.</span></span> <span data-ttu-id="5b6c5-105">Если пользователь переименовывает файл, он разделяет ссылки на этот файл.</span><span class="sxs-lookup"><span data-stu-id="5b6c5-105">If a user renames a file, it breaks the links to the file.</span></span> <span data-ttu-id="5b6c5-106">Если пользователь переименовывает каталог, он разрывает ссылки на файл и все файлы и подкаталоги в дереве каталогов.</span><span class="sxs-lookup"><span data-stu-id="5b6c5-106">If a user renames the directory, it breaks the links to the file, and all files and subdirectories in the directory tree.</span></span>

<span data-ttu-id="5b6c5-107">**Служба отслеживания распределенных каналов** позволяет клиентским приложениям отслеживать перемещенные источники связей.</span><span class="sxs-lookup"><span data-stu-id="5b6c5-107">The **distributed link tracking service** enables client applications to track link sources that have moved.</span></span> <span data-ttu-id="5b6c5-108">Клиенты, которые подписываются на службу отслеживания ссылок, могут поддерживать целостность своих ссылок, а объекты могут отслеживаться способом, прозрачным для пользователя.</span><span class="sxs-lookup"><span data-stu-id="5b6c5-108">Clients that subscribe to the link tracking service can maintain the integrity of their references, and the objects can be tracked in a way that is transparent to the user.</span></span>

## <a name="object-identifiers"></a><span data-ttu-id="5b6c5-109">Идентификаторы объектов</span><span class="sxs-lookup"><span data-stu-id="5b6c5-109">Object Identifiers</span></span>

<span data-ttu-id="5b6c5-110">Служба отслеживания ссылок сохраняет свою связь с объектом, используя **идентификатор объекта (ID)**.</span><span class="sxs-lookup"><span data-stu-id="5b6c5-110">The link tracking service maintains its link to an object by using an **object identifier (ID)**.</span></span> <span data-ttu-id="5b6c5-111">Идентификатор объекта является необязательным атрибутом, который однозначно определяет файл или каталог на томе.</span><span class="sxs-lookup"><span data-stu-id="5b6c5-111">An object ID is an optional attribute that uniquely identifies a file or directory on a volume.</span></span>

<span data-ttu-id="5b6c5-112">Индекс всех идентификаторов объектов хранится на томе.</span><span class="sxs-lookup"><span data-stu-id="5b6c5-112">An index of all object IDs is stored on the volume.</span></span> <span data-ttu-id="5b6c5-113">Операции rename, Backup и RESTORE сохраняют идентификаторы объектов.</span><span class="sxs-lookup"><span data-stu-id="5b6c5-113">Rename, backup, and restore operations preserve object IDs.</span></span> <span data-ttu-id="5b6c5-114">Однако операции копирования не сохраняют идентификаторы объектов, так как это нарушает их уникальность.</span><span class="sxs-lookup"><span data-stu-id="5b6c5-114">However, copy operations do not preserve object IDs, because that would violate their uniqueness.</span></span>

<span data-ttu-id="5b6c5-115">С идентификаторами объектов можно выполнять следующие операции.</span><span class="sxs-lookup"><span data-stu-id="5b6c5-115">You can perform the following operations on object IDs:</span></span>

-   <span data-ttu-id="5b6c5-116">Создание</span><span class="sxs-lookup"><span data-stu-id="5b6c5-116">Creation</span></span>
-   <span data-ttu-id="5b6c5-117">Удаление</span><span class="sxs-lookup"><span data-stu-id="5b6c5-117">Deletion</span></span>
-   <span data-ttu-id="5b6c5-118">Запрос</span><span class="sxs-lookup"><span data-stu-id="5b6c5-118">Query</span></span>

<span data-ttu-id="5b6c5-119">При создании идентификатора объекта вы устанавливаете удостоверение файла для службы отслеживания ссылок.</span><span class="sxs-lookup"><span data-stu-id="5b6c5-119">When you create an object ID, you establish the identity of the file to the link tracking service.</span></span> <span data-ttu-id="5b6c5-120">И наоборот, при удалении идентификатора объекта Служба отслеживания ссылок прекращает поддерживать ссылки на этот файл.</span><span class="sxs-lookup"><span data-stu-id="5b6c5-120">Conversely, when you delete an object ID, the link tracking service stops maintaining links to the file.</span></span> <span data-ttu-id="5b6c5-121">Список кодов управления файловой системой, выполняющих операции с идентификаторами объектов, см. в разделе управляющие [коды управления файлами](file-management-control-codes.md).</span><span class="sxs-lookup"><span data-stu-id="5b6c5-121">For a list of the file system control codes that perform operations on object IDs, see [File Management Control Codes](file-management-control-codes.md).</span></span>

<span data-ttu-id="5b6c5-122">Служба отслеживания распределенных каналов отслеживает источники ссылок для ярлыков оболочки и связей OLE в томах файловой системы NTFS.</span><span class="sxs-lookup"><span data-stu-id="5b6c5-122">The distributed link tracking service tracks link sources for shell shortcuts and OLE links within NTFS file system volumes.</span></span> <span data-ttu-id="5b6c5-123">Клиент Link может исправить неработающую связь с обновленной информацией о новом расположении источника связи.</span><span class="sxs-lookup"><span data-stu-id="5b6c5-123">The link client can fix a broken link with updated information on the new location of the link source.</span></span>

## <a name="link-tracking-features"></a><span data-ttu-id="5b6c5-124">Функции отслеживания ссылок</span><span class="sxs-lookup"><span data-stu-id="5b6c5-124">Link Tracking Features</span></span>

<span data-ttu-id="5b6c5-125">Ярлыки оболочки включают эвристику отслеживания ссылок, которая использует алгоритм поиска в виде дерева для поиска соответствия для перемещенного источника связи.</span><span class="sxs-lookup"><span data-stu-id="5b6c5-125">Shell shortcuts include heuristic link tracking that uses a tree search algorithm to find a match for a moved link source.</span></span> <span data-ttu-id="5b6c5-126">Алгоритм поиска основан на последнем известном пути файла и файла, включая дату создания, размер файла, имя файла и расширение.</span><span class="sxs-lookup"><span data-stu-id="5b6c5-126">The search algorithm is based on the last known path of the file and file information that includes the creation date, file size, and file name and extension.</span></span>

<span data-ttu-id="5b6c5-127">Связывание OLE включает в себя то же самое эвристическое отслеживание ссылок.</span><span class="sxs-lookup"><span data-stu-id="5b6c5-127">OLE linking includes the same heuristic link tracking.</span></span> <span data-ttu-id="5b6c5-128">Windows также включает в себя то же самое эвристическое отслеживание ссылок с дополнительными улучшениями для поиска пространств имен, чтобы дать результаты в некоторых распространенных сценариях.</span><span class="sxs-lookup"><span data-stu-id="5b6c5-128">Windows also includes the same heuristic link tracking with some added improvements for searching name spaces to yield results in some common scenarios.</span></span> <span data-ttu-id="5b6c5-129">В число улучшений входит следующая процедура, зависящая от ограничений времени, наложенных клиентским приложением.</span><span class="sxs-lookup"><span data-stu-id="5b6c5-129">The improvements include the following procedure that depends on time limits imposed by an client application.</span></span>

<span data-ttu-id="5b6c5-130">**Поиск пространств имен**</span><span class="sxs-lookup"><span data-stu-id="5b6c5-130">**To search for name spaces**</span></span>

1.  <span data-ttu-id="5b6c5-131">Поиск по четырем уровням каталога, начиная с последнего каталога.</span><span class="sxs-lookup"><span data-stu-id="5b6c5-131">Search four directory levels down from the last directory.</span></span>
2.  <span data-ttu-id="5b6c5-132">Переместитесь вверх на один каталог и повторите шаги 1 и 2 еще три раза, что может привести к получению результатов, если объект переместился поблизости.</span><span class="sxs-lookup"><span data-stu-id="5b6c5-132">Move up one directory and repeat steps 1 and 2 another three times, which can yield results if the object has moved nearby.</span></span>
3.  <span data-ttu-id="5b6c5-133">Поиск на четырех уровнях вниз от корня рабочего стола, что может привести к получению результатов, если объект перемещен в расположение на том же рабочем столе.</span><span class="sxs-lookup"><span data-stu-id="5b6c5-133">Search four levels down from the desktop root, which can yield results if the object has moved to a location on the same desktop.</span></span>
4.  <span data-ttu-id="5b6c5-134">Поиск по четырем уровням в корне на каждом локальном жестком диске.</span><span class="sxs-lookup"><span data-stu-id="5b6c5-134">Search four levels down from the root on each local fixed drive.</span></span>
5.  <span data-ttu-id="5b6c5-135">Повторите шаги 1-3 без ограничения на четыре каталога.</span><span class="sxs-lookup"><span data-stu-id="5b6c5-135">Repeat steps 1-3 without the four directory limit.</span></span>

> [!Note]  
> <span data-ttu-id="5b6c5-136">Эти схемы отслеживания ссылок прозрачны для конечного пользователя.</span><span class="sxs-lookup"><span data-stu-id="5b6c5-136">These link tracking schemes are transparent to the end-user.</span></span> <span data-ttu-id="5b6c5-137">Однако они не всегда дают положительный результат и могут занять много времени.</span><span class="sxs-lookup"><span data-stu-id="5b6c5-137">However, they do not always yield positive results, and can be time consuming.</span></span>

 

<span data-ttu-id="5b6c5-138">Дополнительные сведения о ярлыках оболочки см. в разделе [**ишелллинк**](/windows/desktop/api/shobjidl_core/nn-shobjidl_core-ishelllinka).</span><span class="sxs-lookup"><span data-stu-id="5b6c5-138">For more information about shell shortcuts, see [**IShellLink**](/windows/desktop/api/shobjidl_core/nn-shobjidl_core-ishelllinka).</span></span>

<span data-ttu-id="5b6c5-139">Дополнительные сведения о связях OLE см. в разделе [**иолелинк**](/windows/win32/api/oleidl/nn-oleidl-iolelink).</span><span class="sxs-lookup"><span data-stu-id="5b6c5-139">For more information about OLE links, see [**IOleLink**](/windows/win32/api/oleidl/nn-oleidl-iolelink).</span></span>

<span data-ttu-id="5b6c5-140">Если выполняется ссылка на файл в системе NTFS 3,0 или более поздней версии, а файл перемещается на любой другой том с файловой системой NTFS 3,0 или более поздней версии в пределах того же домена, этот файл может быть найден службой отслеживания, в соответствии с соображениями времени.</span><span class="sxs-lookup"><span data-stu-id="5b6c5-140">If a link is made to a file on NTFS 3.0 or later, and the file is moved to any other volume with NTFS 3.0 or later within the same domain, the file can be found by the tracking service, subject to time considerations.</span></span> <span data-ttu-id="5b6c5-141">Кроме того, если файл перемещен за пределы домена или рабочей группы, он будет найден.</span><span class="sxs-lookup"><span data-stu-id="5b6c5-141">Additionally, if the file is moved outside the domain or within a workgroup, it is found.</span></span>

<span data-ttu-id="5b6c5-142">Чтобы получить версию тома NTFS, откройте командную строку с правами доступа администратора и выполните следующую команду:</span><span class="sxs-lookup"><span data-stu-id="5b6c5-142">To obtain the NTFS version of a volume, open a command prompt with Administrator access rights and execute the following command:</span></span>

<span data-ttu-id="5b6c5-143">**fsutil fsinfo NTFSInfo** *X \* \* *:**</span><span class="sxs-lookup"><span data-stu-id="5b6c5-143">**fsutil fsinfo ntfsinfo** *X\*\*\*:*\*</span></span>

<span data-ttu-id="5b6c5-144">где *X* — буква диска тома.</span><span class="sxs-lookup"><span data-stu-id="5b6c5-144">where *X* is the drive letter of the volume.</span></span>

<span data-ttu-id="5b6c5-145">При создании ссылки на файл целевой файл считается **источником ссылки**, а создателем ссылки — **клиентом ссылки**.</span><span class="sxs-lookup"><span data-stu-id="5b6c5-145">When a link is created to a file, the target file is considered the **link source**, and the creator of the link is the **link client**.</span></span> <span data-ttu-id="5b6c5-146">Например, если создается ярлык оболочки для связи с текстовым документом, то текстовый документ является источником ссылки, а ярлык оболочки — клиентом связи.</span><span class="sxs-lookup"><span data-stu-id="5b6c5-146">For example, if a shell shortcut is created to link to a text document, the text document is the link source, and the shell shortcut is the link client.</span></span>

<span data-ttu-id="5b6c5-147">Служба DLT хранит ссылки на файлы в следующих ситуациях, происходящих в пределах домена:</span><span class="sxs-lookup"><span data-stu-id="5b6c5-147">The distributed link tracking service maintains file links for the following situations that occur within a domain:</span></span>

-   <span data-ttu-id="5b6c5-148">Исходный файл ссылки перемещается с одного тома файловой системы NTFS на другой в том же домене.</span><span class="sxs-lookup"><span data-stu-id="5b6c5-148">The link source file is moved from one NTFS file system volume to another within the same domain.</span></span>
-   <span data-ttu-id="5b6c5-149">Имя компьютера, на котором находится источник связи, переименовывается.</span><span class="sxs-lookup"><span data-stu-id="5b6c5-149">The name of the computer that holds the link source is renamed.</span></span>
-   <span data-ttu-id="5b6c5-150">Сетевые общие папки на исходном компьютере связи изменяются.</span><span class="sxs-lookup"><span data-stu-id="5b6c5-150">The network shares on the link source computer are changed.</span></span>
-   <span data-ttu-id="5b6c5-151">Том, содержащий исходный файл ссылки, перемещается на другой компьютер в том же домене.</span><span class="sxs-lookup"><span data-stu-id="5b6c5-151">The volume that holds the link source file is moved to another computer within the same domain.</span></span>

<span data-ttu-id="5b6c5-152">Служба DLT также пытается поддерживать ссылки в предыдущих ситуациях, даже если они не происходят в домене, то есть они находятся в разных доменах или в Рабочей группе.</span><span class="sxs-lookup"><span data-stu-id="5b6c5-152">The distributed link tracking service also attempts to maintain links in the preceding situations even when they do not occur within a domain, that is, they are cross domain or within a workgroup.</span></span> <span data-ttu-id="5b6c5-153">Ссылки всегда могут храниться в таких ситуациях при изменении общей сетевой папки на компьютере-источнике связи.</span><span class="sxs-lookup"><span data-stu-id="5b6c5-153">Links can always be maintained in these situations when the network share on the link source computer is changed.</span></span> <span data-ttu-id="5b6c5-154">Их также можно поддерживать при перемещении источника ссылок внутри компьютера.</span><span class="sxs-lookup"><span data-stu-id="5b6c5-154">They can also be maintained when a link source is moved within a computer.</span></span> <span data-ttu-id="5b6c5-155">Обычно ссылки могут поддерживаться при перемещении источника ссылок на другой компьютер, но такая форма отслеживания менее надежна со временем.</span><span class="sxs-lookup"><span data-stu-id="5b6c5-155">Links can usually be maintained when the link source is moved to another computer, but this form of tracking is less reliable over time.</span></span>

## <a name="link-tracking-functionality"></a><span data-ttu-id="5b6c5-156">Функции отслеживания ссылок</span><span class="sxs-lookup"><span data-stu-id="5b6c5-156">Link Tracking Functionality</span></span>

<span data-ttu-id="5b6c5-157">Функции отслеживания ссылок в основном реализуются в виде следующих двух системных служб:</span><span class="sxs-lookup"><span data-stu-id="5b6c5-157">Link tracking functionality is primarily implemented in the form of the following two system services:</span></span>

-   <span data-ttu-id="5b6c5-158">Клиент отслеживания изменившихся связей</span><span class="sxs-lookup"><span data-stu-id="5b6c5-158">Distributed Link Tracking Client</span></span>
-   <span data-ttu-id="5b6c5-159">Сервер отслеживания распределенных каналов</span><span class="sxs-lookup"><span data-stu-id="5b6c5-159">Distributed Link Tracking Server</span></span>

<dl> <dt>

<span data-ttu-id="5b6c5-160"><span id="Distributed_Link_Tracking_Client"></span><span id="distributed_link_tracking_client"></span><span id="DISTRIBUTED_LINK_TRACKING_CLIENT"></span>Клиент отслеживания распределенных каналов</span><span class="sxs-lookup"><span data-stu-id="5b6c5-160"><span id="Distributed_Link_Tracking_Client"></span><span id="distributed_link_tracking_client"></span><span id="DISTRIBUTED_LINK_TRACKING_CLIENT"></span>Distributed Link Tracking Client</span></span>
</dt> <dd>

<span data-ttu-id="5b6c5-161">Клиент отслеживания распределенных ссылок запускается на всех компьютерах и управляет действиями по отслеживанию ссылок для этого компьютера.</span><span class="sxs-lookup"><span data-stu-id="5b6c5-161">The distributed link tracking client runs on all computers, and manages the link tracking activities for that computer.</span></span> <span data-ttu-id="5b6c5-162">Эти действия включают поиск источников ссылок и обработку перемещений источников ссылок.</span><span class="sxs-lookup"><span data-stu-id="5b6c5-162">These activities include searching for link sources and processing link source moves.</span></span> <span data-ttu-id="5b6c5-163">При перемещении источника ссылки служба передает сведения на сервер отслеживания распределенных каналов, работающий на контроллерах домена.</span><span class="sxs-lookup"><span data-stu-id="5b6c5-163">When a link source is moved, the service passes information to the distributed link tracking server that runs on domain controllers.</span></span>

</dd> <dt>

<span data-ttu-id="5b6c5-164"><span id="Distributed_Link_Tracking_Server"></span><span id="distributed_link_tracking_server"></span><span id="DISTRIBUTED_LINK_TRACKING_SERVER"></span>Сервер отслеживания распределенных каналов</span><span class="sxs-lookup"><span data-stu-id="5b6c5-164"><span id="Distributed_Link_Tracking_Server"></span><span id="distributed_link_tracking_server"></span><span id="DISTRIBUTED_LINK_TRACKING_SERVER"></span>Distributed Link Tracking Server</span></span>
</dt> <dd>

<span data-ttu-id="5b6c5-165">Сервер отслеживания распределенных каналов выполняется на каждом контроллере домена в домене.</span><span class="sxs-lookup"><span data-stu-id="5b6c5-165">The distributed link tracking server runs on each domain controller in a domain.</span></span> <span data-ttu-id="5b6c5-166">Служба принимает уведомления о перемещении файлов и томов из службы отслеживания на компьютере и позволяет клиенту отслеживания распределенных каналов запрашивать текущее расположение источника связи.</span><span class="sxs-lookup"><span data-stu-id="5b6c5-166">The service accepts notifications of file and volume moves from the tracking service on a computer, and allows the distributed link tracking client to query the current location of a link source.</span></span>

<span data-ttu-id="5b6c5-167">Эта служба сервера хранит сведения на контроллерах домена о перемещенных томах и файлах.</span><span class="sxs-lookup"><span data-stu-id="5b6c5-167">This server service maintains information in the domain controllers about volumes and files that have been moved.</span></span> <span data-ttu-id="5b6c5-168">Сведения о перемещениях не могут увеличиваться сверх определенного размера и автоматически удаляются, если они становятся ненужными.</span><span class="sxs-lookup"><span data-stu-id="5b6c5-168">The information about moves cannot increase beyond a specific size, and it is automatically removed if it becomes unnecessary.</span></span>

</dd> </dl>

<span data-ttu-id="5b6c5-169">Службы отслеживания ссылок предоставляются интерфейсами [**ишелллинк**](/windows/desktop/api/shobjidl_core/nn-shobjidl_core-ishelllinka) и [**иолелинк**](/windows/win32/api/oleidl/nn-oleidl-iolelink) .</span><span class="sxs-lookup"><span data-stu-id="5b6c5-169">The link tracking services are exposed by the [**IShellLink**](/windows/desktop/api/shobjidl_core/nn-shobjidl_core-ishelllinka) and [**IOleLink**](/windows/win32/api/oleidl/nn-oleidl-iolelink) interfaces.</span></span> <span data-ttu-id="5b6c5-170">Поэтому они используются ярлыками оболочки.</span><span class="sxs-lookup"><span data-stu-id="5b6c5-170">Therefore, they are used by shell shortcuts.</span></span> <span data-ttu-id="5b6c5-171">Если при вызове метода [**ишелллинк:: Resolve**](/windows/desktop/api/shobjidl_core/nf-shobjidl_core-ishelllinka-resolve) не удается найти файл референт, например, когда пользователь активирует ярлык оболочки, служба отслеживания вызывается автоматически для поиска файла.</span><span class="sxs-lookup"><span data-stu-id="5b6c5-171">When the [**IShellLink::Resolve**](/windows/desktop/api/shobjidl_core/nf-shobjidl_core-ishelllinka-resolve) method is called and the referent file cannot be found, for example, when the user activates a shell shortcut, the tracking service is called automatically to find the file.</span></span> <span data-ttu-id="5b6c5-172">Аналогично, когда реализация [**иолелинк**](/windows/win32/api/oleidl/nn-oleidl-iolelink) не может найти файл, например в его методе [**биндтосаурце**](/windows/desktop/api/oleidl/nf-oleidl-iolelink-bindtosource) , он автоматически вызывает службу отслеживания.</span><span class="sxs-lookup"><span data-stu-id="5b6c5-172">Similarly, when the [**IOleLink**](/windows/win32/api/oleidl/nn-oleidl-iolelink) implementation cannot find a file, for example, in its [**BindToSource**](/windows/desktop/api/oleidl/nf-oleidl-iolelink-bindtosource) method, it automatically calls on the tracking service.</span></span>

## <a name="link-tracking-limitations"></a><span data-ttu-id="5b6c5-173">Ограничения отслеживания ссылок</span><span class="sxs-lookup"><span data-stu-id="5b6c5-173">Link Tracking Limitations</span></span>

<span data-ttu-id="5b6c5-174">Службы отслеживания распределенных каналов доступны только в файловой системе NTFS и доступны только для источников ссылок на NTFS 3,0 или более поздней версии.</span><span class="sxs-lookup"><span data-stu-id="5b6c5-174">The distributed link tracking services are available only on the NTFS file system, and are only available for link sources on NTFS 3.0 or later.</span></span> <span data-ttu-id="5b6c5-175">Таким образом, если источник ссылки перемещен на том файловой системы FAT, данные отслеживания теряются.</span><span class="sxs-lookup"><span data-stu-id="5b6c5-175">Therefore, if a link source is moved to a FAT file system volume the tracking information is lost.</span></span> <span data-ttu-id="5b6c5-176">Кроме того, если источник связи перемещается между NTFS 3,0 или более поздней версией, но компьютер, выполняющий перемещение, работает под управлением более ранней версии Windows, данные отслеживания ссылок теряются.</span><span class="sxs-lookup"><span data-stu-id="5b6c5-176">Additionally, if a link source is moved between the NTFS 3.0 or later, but the computer that is performing the move is running an earlier version of Windows, the link tracking information is lost.</span></span> <span data-ttu-id="5b6c5-177">Если данные отслеживания ссылок теряются, в сам исходный файл ссылки не наносится вред, он просто не отслеживается службами отслеживания распределенных каналов.</span><span class="sxs-lookup"><span data-stu-id="5b6c5-177">When the link tracking information is lost, no harm is done to the link source file itself, it is simply not trackable by the distributed link tracking services.</span></span>

<span data-ttu-id="5b6c5-178">Чтобы получить версию тома NTFS, откройте командную строку с правами доступа администратора и выполните следующую команду:</span><span class="sxs-lookup"><span data-stu-id="5b6c5-178">To obtain the NTFS version of a volume, open a command prompt with Administrator access rights and execute the following command:</span></span>

<span data-ttu-id="5b6c5-179">**fsutil fsinfo NTFSInfo** *X \* \* *:**</span><span class="sxs-lookup"><span data-stu-id="5b6c5-179">**fsutil fsinfo ntfsinfo** *X\*\*\*:*\*</span></span>

<span data-ttu-id="5b6c5-180">где *X* — буква диска тома.</span><span class="sxs-lookup"><span data-stu-id="5b6c5-180">where *X* is the drive letter of the volume.</span></span>

<span data-ttu-id="5b6c5-181">Ссылки на файлы на съемных носителях не поддерживаются.</span><span class="sxs-lookup"><span data-stu-id="5b6c5-181">Links to files on removable media are not maintained.</span></span> <span data-ttu-id="5b6c5-182">Кроме того, служба отслеживания не распознает новый том файловой системы NTFS до тех пор, пока система не будет перезагружена.</span><span class="sxs-lookup"><span data-stu-id="5b6c5-182">Also, the tracking service does not recognize a new NTFS file system volume until the system is re-booted.</span></span> <span data-ttu-id="5b6c5-183">Новый том может стать доступным из-за повторного разбиения на разделы, переформатирования тома файловой системы FAT в файловую систему NTFS или подключения нового внешнего диска.</span><span class="sxs-lookup"><span data-stu-id="5b6c5-183">A new volume might become available because of re-partitioning, reformatting a FAT file system volume to the NTFS file system, or connecting a new external drive.</span></span>

 

 
