---
description: Функции, используемые для перечисления подключенных папок на томе.
ms.assetid: 052a363f-adfd-4f66-a8b0-5d9d37eedcb0
title: Перечисление подключенных папок
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: f29585100a4b8a94e1b7b78d36b6f0fda228094d
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "105683699"
---
# <a name="enumerating-mounted-folders"></a><span data-ttu-id="8a7e9-103">Перечисление подключенных папок</span><span class="sxs-lookup"><span data-stu-id="8a7e9-103">Enumerating Mounted Folders</span></span>

<span data-ttu-id="8a7e9-104">Для перечисления подключенных папок на указанном томе NTFS используются следующие функции.</span><span class="sxs-lookup"><span data-stu-id="8a7e9-104">The following functions are used to enumerate the mounted folders on a specified NTFS volume:</span></span>

-   [<span data-ttu-id="8a7e9-105">**финдфирстволумемаунтпоинт**</span><span class="sxs-lookup"><span data-stu-id="8a7e9-105">**FindFirstVolumeMountPoint**</span></span>](/windows/desktop/api/WinBase/nf-winbase-findfirstvolumemountpointa)
-   [<span data-ttu-id="8a7e9-106">**финднекстволумемаунтпоинт**</span><span class="sxs-lookup"><span data-stu-id="8a7e9-106">**FindNextVolumeMountPoint**</span></span>](/windows/desktop/api/WinBase/nf-winbase-findnextvolumemountpointa)
-   [<span data-ttu-id="8a7e9-107">**финдволумемаунтпоинтклосе**</span><span class="sxs-lookup"><span data-stu-id="8a7e9-107">**FindVolumeMountPointClose**</span></span>](/windows/desktop/api/WinBase/nf-winbase-findvolumemountpointclose)

<span data-ttu-id="8a7e9-108">Эти функции работают так же, как функции [**FindFirstFile**](/windows/desktop/api/FileAPI/nf-fileapi-findfirstfilea), [**FindNextFile**](/windows/desktop/api/FileAPI/nf-fileapi-findnextfilea)и [**финдклосе**](/windows/desktop/api/FileAPI/nf-fileapi-findclose) .</span><span class="sxs-lookup"><span data-stu-id="8a7e9-108">These functions operate in a manner very similar to the [**FindFirstFile**](/windows/desktop/api/FileAPI/nf-fileapi-findfirstfilea), [**FindNextFile**](/windows/desktop/api/FileAPI/nf-fileapi-findnextfilea), and [**FindClose**](/windows/desktop/api/FileAPI/nf-fileapi-findclose) functions.</span></span>

<span data-ttu-id="8a7e9-109">Чтобы перечислить подключенные папки на томе, сначала выясните, поддерживает ли том подключенные папки.</span><span class="sxs-lookup"><span data-stu-id="8a7e9-109">To enumerate mounted folders on a volume, first find out if the volume supports mounted folders.</span></span> <span data-ttu-id="8a7e9-110">Для этого используйте имя тома, возвращенное функциями [**финдфирстволуме**](/windows/desktop/api/FileAPI/nf-fileapi-findfirstvolumew) и [**финднекстволуме**](/windows/desktop/api/FileAPI/nf-fileapi-findnextvolumew) , чтобы вызвать функцию [**жетволумеинформатион**](/windows/desktop/api/FileAPI/nf-fileapi-getvolumeinformationa) .</span><span class="sxs-lookup"><span data-stu-id="8a7e9-110">To do so, use the volume name returned by the [**FindFirstVolume**](/windows/desktop/api/FileAPI/nf-fileapi-findfirstvolumew) and [**FindNextVolume**](/windows/desktop/api/FileAPI/nf-fileapi-findnextvolumew) functions to call the [**GetVolumeInformation**](/windows/desktop/api/FileAPI/nf-fileapi-getvolumeinformationa) function.</span></span> <span data-ttu-id="8a7e9-111">Возвращаемые имена содержат обратную косую черту ( \) для совместимости с функцией [**жетдриветипе**](/windows/desktop/api/FileAPI/nf-fileapi-getdrivetypea) и связанными функциями).</span><span class="sxs-lookup"><span data-stu-id="8a7e9-111">The names returned include a trailing backslash (\) to be compatible with the [**GetDriveType**](/windows/desktop/api/FileAPI/nf-fileapi-getdrivetypea) function and related functions.</span></span> <span data-ttu-id="8a7e9-112">Дополнительные сведения о функциях, используемых для проверки томов на компьютере, см. в разделе [перечисление томов](enumerating-volumes.md).</span><span class="sxs-lookup"><span data-stu-id="8a7e9-112">For more information on the functions used to scan the volumes on a computer, see [Enumerating Volumes](enumerating-volumes.md).</span></span> <span data-ttu-id="8a7e9-113">При вызове функции **жетволумеинформатион** , если в параметре *ЛПФИЛЕСИСТЕМНАМЕБУФФЕР* возвращается "NTFS", том является томом NTFS.</span><span class="sxs-lookup"><span data-stu-id="8a7e9-113">When you call the **GetVolumeInformation** function, if "NTFS" is returned in the *lpFileSystemNameBuffer* parameter, the volume is an NTFS volume.</span></span> <span data-ttu-id="8a7e9-114">Файловая система NTFS поддерживает подключенные папки.</span><span class="sxs-lookup"><span data-stu-id="8a7e9-114">The NTFS file system supports mounted folders.</span></span>

<span data-ttu-id="8a7e9-115">Если том является томом NTFS, начните поиск подключенных папок, вызвав [**финдфирстволумемаунтпоинт**](/windows/desktop/api/WinBase/nf-winbase-findfirstvolumemountpointa).</span><span class="sxs-lookup"><span data-stu-id="8a7e9-115">If the volume is an NTFS volume, begin a search for the mounted folders by calling [**FindFirstVolumeMountPoint**](/windows/desktop/api/WinBase/nf-winbase-findfirstvolumemountpointa).</span></span> <span data-ttu-id="8a7e9-116">Если поиск выполнен успешно, обработайте результаты в соответствии с требованиями приложения.</span><span class="sxs-lookup"><span data-stu-id="8a7e9-116">If the search is successful, process the results according to your application's requirements.</span></span> <span data-ttu-id="8a7e9-117">Затем с помощью [**финднекстволумемаунтпоинт**](/windows/desktop/api/WinBase/nf-winbase-findnextvolumemountpointa) в цикле найдите и обработайте подключенные папки по одному за раз.</span><span class="sxs-lookup"><span data-stu-id="8a7e9-117">Then use [**FindNextVolumeMountPoint**](/windows/desktop/api/WinBase/nf-winbase-findnextvolumemountpointa) in a loop to locate and process the mounted folders one at a time.</span></span> <span data-ttu-id="8a7e9-118">Если для перечисления больше нет подключенных папок, закройте маркер поиска, вызвав [**финдволумемаунтпоинтклосе**](/windows/desktop/api/WinBase/nf-winbase-findvolumemountpointclose).</span><span class="sxs-lookup"><span data-stu-id="8a7e9-118">When there are no more mounted folders to be enumerated, close the search handle by calling [**FindVolumeMountPointClose**](/windows/desktop/api/WinBase/nf-winbase-findvolumemountpointclose).</span></span> <span data-ttu-id="8a7e9-119">Обратите внимание, что при поиске будут найдены только подключенные папки на указанном томе.</span><span class="sxs-lookup"><span data-stu-id="8a7e9-119">Note that the search will find only the mounted folders that are on the specified volume.</span></span>

<span data-ttu-id="8a7e9-120">Не следует рассчитывать на корреляцию между порядком подключенных папок, возвращаемых этими функциями, и порядком подключенных папок, возвращаемых другими функциями или средствами.</span><span class="sxs-lookup"><span data-stu-id="8a7e9-120">You should not assume any correlation between the order of the mounted folders that are returned by these functions and the order of the mounted folders that are returned by other functions or tools.</span></span>

 

 



