---
description: Файл — это единица данных в файловой системе, к которой пользователь имеет доступ и которыми можно управлять.
ms.assetid: 271bad79-c23b-45ee-938c-d17dae89db1a
title: Файлы и кластеры
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 75384900d5d487ab02bd19c13cc2c25e9a310b3e
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "104263857"
---
# <a name="files-and-clusters"></a><span data-ttu-id="5abbf-103">Файлы и кластеры</span><span class="sxs-lookup"><span data-stu-id="5abbf-103">Files and Clusters</span></span>

<span data-ttu-id="5abbf-104">*Файл* — это единица данных в файловой системе, к которой пользователь имеет доступ и которыми можно управлять.</span><span class="sxs-lookup"><span data-stu-id="5abbf-104">A *file* is a unit of data in the file system that a user can access and manage.</span></span> <span data-ttu-id="5abbf-105">Файл должен иметь уникальное имя в каталоге.</span><span class="sxs-lookup"><span data-stu-id="5abbf-105">A file must have a unique name in its directory.</span></span> <span data-ttu-id="5abbf-106">Он состоит из одного или нескольких потоков байтов, содержащих набор связанных данных, и набора атрибутов (также называемых свойствами), описывающих файл или данные в файле.</span><span class="sxs-lookup"><span data-stu-id="5abbf-106">It consists of one or more streams of bytes that hold a set of related data, plus a set of attributes (also called properties) that describe the file or the data within the file.</span></span> <span data-ttu-id="5abbf-107">Время создания файла является примером атрибута файла.</span><span class="sxs-lookup"><span data-stu-id="5abbf-107">The creation time of a file is an example of a file attribute.</span></span>

<span data-ttu-id="5abbf-108">При создании файла создается один неименованный поток по умолчанию для хранения всех данных, записанных в файл, когда он открыт.</span><span class="sxs-lookup"><span data-stu-id="5abbf-108">When a file is created, one unnamed default stream is created to store all data written to the file while it is open.</span></span> <span data-ttu-id="5abbf-109">Кроме того, в файле можно создавать дополнительные потоки.</span><span class="sxs-lookup"><span data-stu-id="5abbf-109">You can also create additional streams within the file.</span></span> <span data-ttu-id="5abbf-110">Эти дополнительные потоки называются альтернативными потоками.</span><span class="sxs-lookup"><span data-stu-id="5abbf-110">These additional streams are referred to as alternate streams.</span></span> <span data-ttu-id="5abbf-111">На следующем рисунке показан файл с потоком по умолчанию и двумя альтернативными потоками.</span><span class="sxs-lookup"><span data-stu-id="5abbf-111">The following figure depicts a file with the default stream and two alternate streams.</span></span>

![файл с потоком по умолчанию и двумя альтернативными потоками](images/fig1.png)

<span data-ttu-id="5abbf-113">Атрибуты файлов не хранятся в потоках данных с данными файлов, но хранятся в других местах и управляются операционной системой.</span><span class="sxs-lookup"><span data-stu-id="5abbf-113">File attributes are not stored in the data streams with the file data, but are stored elsewhere and managed by the operating system.</span></span>

<span data-ttu-id="5abbf-114">Все данные файловой системы, включая код начальной загрузки системы и каталоги, хранятся в файловой системе NTFS в файлах.</span><span class="sxs-lookup"><span data-stu-id="5abbf-114">All file system data, including the system bootstrap code and directories, are stored by the NTFS file system in files.</span></span> <span data-ttu-id="5abbf-115">Другие файловые системы хранят эти сведения в областях диска, которые являются внешними по отношению к файловой системе.</span><span class="sxs-lookup"><span data-stu-id="5abbf-115">Other file systems store this information in disk regions external to the file system.</span></span> <span data-ttu-id="5abbf-116">Преимущество хранения этих данных в файлах заключается в том, что Windows может легко находить, получать доступ к информации и обслуживать ее.</span><span class="sxs-lookup"><span data-stu-id="5abbf-116">An advantage of storing this information in files is that Windows can locate, access, and maintain the information easily.</span></span> <span data-ttu-id="5abbf-117">Другими преимуществами является то, что каждый из этих файлов может быть защищен дескриптором безопасности, и в случае частичного повреждения диска их можно быстро переместить в более безопасную часть диска.</span><span class="sxs-lookup"><span data-stu-id="5abbf-117">Other advantages are that each of these files may be protected by a security descriptor and, in the case of partial disk corruption, they may be quickly relocated to a safer part of the disk.</span></span>

<span data-ttu-id="5abbf-118">Основной единицей хранения для всех поддерживаемых файловых систем является *кластер*, который представляет собой группу секторов.</span><span class="sxs-lookup"><span data-stu-id="5abbf-118">The fundamental storage unit of all supported file systems is a *cluster*, which is a group of sectors.</span></span> <span data-ttu-id="5abbf-119">Это позволяет файловой системе оптимизировать администрирование данных диска независимо от размера сектора диска, заданного аппаратным контроллером.</span><span class="sxs-lookup"><span data-stu-id="5abbf-119">This allows the file system to optimize the administration of disk data independently of the disk sector size set by the hardware disk controller.</span></span> <span data-ttu-id="5abbf-120">Если диск, который требуется администрировать, является большим, а большие объемы данных перемещаются и упорядочиваются в одной операции, администратор может настроить размер кластера в соответствии с этим.</span><span class="sxs-lookup"><span data-stu-id="5abbf-120">If the disk to be administered is large and large amounts of data are moved and organized in a single operation, the administrator can adjust the cluster size to accommodate this.</span></span>

<span data-ttu-id="5abbf-121">Windows управляет файлами с помощью [файловых объектов](file-objects.md), [дескрипторов файлов](file-handles.md)и [указателей файлов](file-pointers.md).</span><span class="sxs-lookup"><span data-stu-id="5abbf-121">Windows manages files through [file objects](file-objects.md), [file handles](file-handles.md), and [file pointers](file-pointers.md).</span></span>

<span data-ttu-id="5abbf-122">Дополнительные сведения о файловых потоках см. в разделе [файловые потоки](file-streams.md).</span><span class="sxs-lookup"><span data-stu-id="5abbf-122">For more information on file streams, see [File Streams](file-streams.md).</span></span> <span data-ttu-id="5abbf-123">Дополнительные сведения о кластерах см. в разделе [кластеры и экстенты](clusters-and-extents.md).</span><span class="sxs-lookup"><span data-stu-id="5abbf-123">For more information on clusters, see [Clusters and Extents](clusters-and-extents.md).</span></span> <span data-ttu-id="5abbf-124">Дополнительные сведения о доступе к файлам и управлении ими см. в разделе [Управление](file-management.md) файлами и [Справочник по управлению файлами](file-management-reference.md).</span><span class="sxs-lookup"><span data-stu-id="5abbf-124">For more information on how to access and manage files, see [File Management](file-management.md) and [File Management Reference](file-management-reference.md).</span></span>

## <a name="in-this-section"></a><span data-ttu-id="5abbf-125">В этом разделе</span><span class="sxs-lookup"><span data-stu-id="5abbf-125">In this section</span></span>



| <span data-ttu-id="5abbf-126">Раздел</span><span class="sxs-lookup"><span data-stu-id="5abbf-126">Topic</span></span>                                                       | <span data-ttu-id="5abbf-127">Описание</span><span class="sxs-lookup"><span data-stu-id="5abbf-127">Description</span></span>                                                                                                                                                                                                                                                  |
|-------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="5abbf-128">Файловые потоки</span><span class="sxs-lookup"><span data-stu-id="5abbf-128">File Streams</span></span>](file-streams.md)<br/>                 | <span data-ttu-id="5abbf-129">В файловой системе NTFS потоки содержат данные, которые записываются в файл и предоставляют дополнительные сведения о файле, чем атрибуты и свойства.</span><span class="sxs-lookup"><span data-stu-id="5abbf-129">In the NTFS file system, streams contain the data that is written to a file, and that gives more information about a file than attributes and properties.</span></span><br/>                                                                                         |
| [<span data-ttu-id="5abbf-130">Объекты файлов</span><span class="sxs-lookup"><span data-stu-id="5abbf-130">File Objects</span></span>](file-objects.md)<br/>                 | <span data-ttu-id="5abbf-131">*Файловые объекты* функционируют как логический интерфейс между процессами ядра и режима пользователя, а также данными файлов, находящиеся на физическом диске.</span><span class="sxs-lookup"><span data-stu-id="5abbf-131">*File objects* function as the logical interface between kernel and user-mode processes and the file data that resides on the physical disk.</span></span><br/>                                                                                                      |
| [<span data-ttu-id="5abbf-132">Дескрипторы файлов</span><span class="sxs-lookup"><span data-stu-id="5abbf-132">File Handles</span></span>](file-handles.md)<br/>                 | <span data-ttu-id="5abbf-133">Когда файл открывается процессом с помощью функции [**CreateFile**](/windows/desktop/api/FileAPI/nf-fileapi-createfilea) , с ним связывается *маркер файла* до завершения процесса или закрытия обработчика с помощью функции [**CloseHandle**](/windows/desktop/api/handleapi/nf-handleapi-closehandle) .</span><span class="sxs-lookup"><span data-stu-id="5abbf-133">When a file is opened by a process using the [**CreateFile**](/windows/desktop/api/FileAPI/nf-fileapi-createfilea) function, a *file handle* is associated with it until either the process terminates or the handle is closed using the [**CloseHandle**](/windows/desktop/api/handleapi/nf-handleapi-closehandle) function.</span></span><br/> |
| [<span data-ttu-id="5abbf-134">Указатели файлов</span><span class="sxs-lookup"><span data-stu-id="5abbf-134">File Pointers</span></span>](file-pointers.md)<br/>               | <span data-ttu-id="5abbf-135">Указатель файла — это 64-разрядное значение смещения, определяющее следующий считанный байт или расположение для получения следующего записанного байта.</span><span class="sxs-lookup"><span data-stu-id="5abbf-135">A file pointer is a 64-bit offset value that specifies the next byte to be read or the location to receive the next byte written.</span></span><br/>                                                                                                                 |
| [<span data-ttu-id="5abbf-136">Кластеры и экстенты</span><span class="sxs-lookup"><span data-stu-id="5abbf-136">Clusters and Extents</span></span>](clusters-and-extents.md)<br/> | <span data-ttu-id="5abbf-137">На кластеры можно ссылаться с двух различных точек зрения: в файле и на томе.</span><span class="sxs-lookup"><span data-stu-id="5abbf-137">Clusters may be referred to from two different perspectives: within the file and on the volume.</span></span><br/>                                                                                                                                                   |



 

 

