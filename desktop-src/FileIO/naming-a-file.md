---
description: Все файловые системы, поддерживаемые Windows, используют концепцию файлов и каталогов для доступа к данным, хранящимся на диске или устройстве.
ms.assetid: 121cd5b2-e6fd-4eb4-99b4-b652d27b53e8
title: Именование файлов, путей и пространств имен
ms.custom: contperf-fy21q1
ms.topic: article
ms.date: 09/15/2020
ms.openlocfilehash: 59f626c931a61255cef8be9ede594cb97924cfb0
ms.sourcegitcommit: f374b50b37160b683da16b59ac9340282a8f50a5
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/04/2021
ms.locfileid: "105682168"
---
# <a name="naming-files-paths-and-namespaces"></a><span data-ttu-id="7ec17-103">Именование файлов, путей и пространств имен</span><span class="sxs-lookup"><span data-stu-id="7ec17-103">Naming Files, Paths, and Namespaces</span></span>

<span data-ttu-id="7ec17-104">Все файловые системы, поддерживаемые Windows, используют концепцию файлов и каталогов для доступа к данным, хранящимся на диске или устройстве.</span><span class="sxs-lookup"><span data-stu-id="7ec17-104">All file systems supported by Windows use the concept of files and directories to access data stored on a disk or device.</span></span> <span data-ttu-id="7ec17-105">Разработчики Windows, работающие с API Windows для ввода-вывода файлов и устройств, должны понимать различные правила, соглашения и ограничения имен файлов и каталогов.</span><span class="sxs-lookup"><span data-stu-id="7ec17-105">Windows developers working with the Windows APIs for file and device I/O should understand the various rules, conventions, and limitations of names for files and directories.</span></span>

<span data-ttu-id="7ec17-106">Доступ к данным можно получить с дисков, устройств и сетевых ресурсов с помощью API файлового ввода-вывода.</span><span class="sxs-lookup"><span data-stu-id="7ec17-106">Data can be accessed from disks, devices, and network shares using file I/O APIs.</span></span> <span data-ttu-id="7ec17-107">Файлы и каталоги вместе с пространствами имен являются частью концепции пути, которая представляет собой строковое представление места получения данных независимо от диска, устройства или сетевого подключения для конкретной операции.</span><span class="sxs-lookup"><span data-stu-id="7ec17-107">Files and directories, along with namespaces, are part of the concept of a path, which is a string representation of where to get the data regardless if it's from a disk or a device or a network connection for a specific operation.</span></span>

<span data-ttu-id="7ec17-108">Некоторые файловые системы, такие как NTFS, поддерживают связанные файлы и каталоги, которые также следуют соглашениям об именовании файлов и правилам, как обычный файл или каталог.</span><span class="sxs-lookup"><span data-stu-id="7ec17-108">Some file systems, such as NTFS, support linked files and directories, which also follow file naming conventions and rules just as a regular file or directory would.</span></span> <span data-ttu-id="7ec17-109">Дополнительные сведения см. в разделах [жесткие связи, соединения](hard-links-and-junctions.md) и [точки повторного анализа и операции с файлами](reparse-points-and-file-operations.md).</span><span class="sxs-lookup"><span data-stu-id="7ec17-109">For additional information, see [Hard Links and Junctions](hard-links-and-junctions.md) and [Reparse Points and File Operations](reparse-points-and-file-operations.md).</span></span>

<span data-ttu-id="7ec17-110">Дополнительные сведения см. в следующих подразделах:</span><span class="sxs-lookup"><span data-stu-id="7ec17-110">For additional information, see the following subsections:</span></span>

-   [<span data-ttu-id="7ec17-111">Имена файлов и каталогов</span><span class="sxs-lookup"><span data-stu-id="7ec17-111">File and Directory Names</span></span>](#file-and-directory-names)
    -   [<span data-ttu-id="7ec17-112">Соглашения об именовании</span><span class="sxs-lookup"><span data-stu-id="7ec17-112">Naming Conventions</span></span>](#naming-conventions)
    -   [<span data-ttu-id="7ec17-113">Короткие и длинные имена</span><span class="sxs-lookup"><span data-stu-id="7ec17-113">Short vs. Long Names</span></span>](#short-vs-long-names)
-   [<span data-ttu-id="7ec17-114">Пути</span><span class="sxs-lookup"><span data-stu-id="7ec17-114">Paths</span></span>](#fully-qualified-vs-relative-paths)
    -   [<span data-ttu-id="7ec17-115">Полные и относительные пути</span><span class="sxs-lookup"><span data-stu-id="7ec17-115">Fully Qualified vs. Relative Paths</span></span>](#fully-qualified-vs-relative-paths)
    -   [<span data-ttu-id="7ec17-116">Ограничение максимальной длины пути</span><span class="sxs-lookup"><span data-stu-id="7ec17-116">Maximum Path Length Limitation</span></span>](#maximum-path-length-limitation)
-   [<span data-ttu-id="7ec17-117">Пространства имен</span><span class="sxs-lookup"><span data-stu-id="7ec17-117">Namespaces</span></span>](#win32-file-namespaces)
    -   [<span data-ttu-id="7ec17-118">Пространства имен файлов Win32</span><span class="sxs-lookup"><span data-stu-id="7ec17-118">Win32 File Namespaces</span></span>](#win32-file-namespaces)
    -   [<span data-ttu-id="7ec17-119">Пространства имен устройств Win32</span><span class="sxs-lookup"><span data-stu-id="7ec17-119">Win32 Device Namespaces</span></span>](#win32-device-namespaces)
    -   [<span data-ttu-id="7ec17-120">Пространства имен NT</span><span class="sxs-lookup"><span data-stu-id="7ec17-120">NT Namespaces</span></span>](#nt-namespaces)
-   [<span data-ttu-id="7ec17-121">См. также</span><span class="sxs-lookup"><span data-stu-id="7ec17-121">Related topics</span></span>](#related-topics)


<span data-ttu-id="7ec17-122">Дополнительные сведения о настройке Windows 10 для поддержки длинных путей к файлам см. в разделе [ограничение максимальной длины пути](./maximum-file-path-limitation.md).</span><span class="sxs-lookup"><span data-stu-id="7ec17-122">To learn about configuring Windows 10 to support long file paths, see [Maximum Path Length Limitation](./maximum-file-path-limitation.md).</span></span>


## <a name="file-and-directory-names"></a><span data-ttu-id="7ec17-123">Имена файлов и каталогов</span><span class="sxs-lookup"><span data-stu-id="7ec17-123">File and Directory Names</span></span>

<span data-ttu-id="7ec17-124">Все файловые системы используют те же общие соглашения об именовании для отдельного файла: имя базового файла и дополнительное расширение, разделенные точкой.</span><span class="sxs-lookup"><span data-stu-id="7ec17-124">All file systems follow the same general naming conventions for an individual file: a base file name and an optional extension, separated by a period.</span></span> <span data-ttu-id="7ec17-125">Однако каждая файловая система, такая как NTFS, CDFS, exFAT, UDF, FAT и FAT32, может иметь определенные и разные правила формирования отдельных компонентов пути к каталогу или файлу.</span><span class="sxs-lookup"><span data-stu-id="7ec17-125">However, each file system, such as NTFS, CDFS, exFAT, UDFS, FAT, and FAT32, can have specific and differing rules about the formation of the individual components in the path to a directory or file.</span></span> <span data-ttu-id="7ec17-126">Обратите внимание, что *Каталог* — это просто файл с особым атрибутом, обозначающий его как каталог, но в противном случае он должен следовать тем же правилам именования, что и обычный файл.</span><span class="sxs-lookup"><span data-stu-id="7ec17-126">Note that a *directory* is simply a file with a special attribute designating it as a directory, but otherwise must follow all the same naming rules as a regular file.</span></span> <span data-ttu-id="7ec17-127">Поскольку *Каталог* терминов просто относится к особому типу файлов, с точки зрения файловой системы, некоторые справочные материалы будут использовать *файл* общего термина для того, чтобы охватить обе концепции каталогов и файлов данных.</span><span class="sxs-lookup"><span data-stu-id="7ec17-127">Because the term *directory* simply refers to a special type of file as far as the file system is concerned, some reference material will use the general term *file* to encompass both concepts of directories and data files as such.</span></span> <span data-ttu-id="7ec17-128">Из-за этого, если не указано иное, любые правила именования и использования, а также примеры для файла должны применяться и к каталогу.</span><span class="sxs-lookup"><span data-stu-id="7ec17-128">Because of this, unless otherwise specified, any naming or usage rules or examples for a file should also apply to a directory.</span></span> <span data-ttu-id="7ec17-129">Термин *путь* ссылается на один или несколько каталогов, обратные косые черты и, возможно, имя тома.</span><span class="sxs-lookup"><span data-stu-id="7ec17-129">The term *path* refers to one or more directories, backslashes, and possibly a volume name.</span></span> <span data-ttu-id="7ec17-130">Дополнительные сведения см. в разделе [пути](#fully-qualified-vs-relative-paths) .</span><span class="sxs-lookup"><span data-stu-id="7ec17-130">For more information, see the [Paths](#fully-qualified-vs-relative-paths) section.</span></span>

<span data-ttu-id="7ec17-131">Ограничения количества символов также могут быть разными и могут различаться в зависимости от используемого формата префикса файловой системы и имени пути.</span><span class="sxs-lookup"><span data-stu-id="7ec17-131">Character count limitations can also be different and can vary depending on the file system and path name prefix format used.</span></span> <span data-ttu-id="7ec17-132">Это усложняется за счет поддержки механизмов обратной совместимости.</span><span class="sxs-lookup"><span data-stu-id="7ec17-132">This is further complicated by support for backward compatibility mechanisms.</span></span> <span data-ttu-id="7ec17-133">Например, более старая файловая система MS-DOS FAT поддерживает не более 8 символов для базового имени файла и 3 символа для расширения, а всего 12 символов, включая разделитель точек.</span><span class="sxs-lookup"><span data-stu-id="7ec17-133">For example, the older MS-DOS FAT file system supports a maximum of 8 characters for the base file name and 3 characters for the extension, for a total of 12 characters including the dot separator.</span></span> <span data-ttu-id="7ec17-134">Обычно это называется *именем файла 8,3*.</span><span class="sxs-lookup"><span data-stu-id="7ec17-134">This is commonly known as an *8.3 file name*.</span></span> <span data-ttu-id="7ec17-135">Файловые системы Windows FAT и NTFS не ограничиваются 8,3 именами файлов, так как они имеют *длинную поддержку имен* файлов, но по-прежнему поддерживают версию 8,3 длинных имен файлов.</span><span class="sxs-lookup"><span data-stu-id="7ec17-135">The Windows FAT and NTFS file systems are not limited to 8.3 file names, because they have *long file name support*, but they still support the 8.3 version of long file names.</span></span>

### <a name="naming-conventions"></a><span data-ttu-id="7ec17-136">Соглашения об именах</span><span class="sxs-lookup"><span data-stu-id="7ec17-136">Naming Conventions</span></span>

<span data-ttu-id="7ec17-137">Следующие фундаментальные правила позволяют приложениям создавать и обрабатывать допустимые имена файлов и каталогов независимо от файловой системы.</span><span class="sxs-lookup"><span data-stu-id="7ec17-137">The following fundamental rules enable applications to create and process valid names for files and directories, regardless of the file system:</span></span>

-   <span data-ttu-id="7ec17-138">Используйте точку, чтобы отделить базовое имя файла от расширения в имени каталога или файла.</span><span class="sxs-lookup"><span data-stu-id="7ec17-138">Use a period to separate the base file name from the extension in the name of a directory or file.</span></span>
-   <span data-ttu-id="7ec17-139">Используйте обратную косую черту ( \\ ) для разделения *компонентов* *пути*.</span><span class="sxs-lookup"><span data-stu-id="7ec17-139">Use a backslash (\\) to separate the *components* of a *path*.</span></span> <span data-ttu-id="7ec17-140">Обратная косая черта разделяет имя файла от пути к нему и одно имя каталога из другого имени каталога в пути.</span><span class="sxs-lookup"><span data-stu-id="7ec17-140">The backslash divides the file name from the path to it, and one directory name from another directory name in a path.</span></span> <span data-ttu-id="7ec17-141">Нельзя использовать обратную косую черту в имени для фактического файла или каталога, так как это зарезервированный символ, разделяющий имена в компоненты.</span><span class="sxs-lookup"><span data-stu-id="7ec17-141">You cannot use a backslash in the name for the actual file or directory because it is a reserved character that separates the names into components.</span></span>
-   <span data-ttu-id="7ec17-142">Используйте обратную косую черту в качестве части [имен томов](naming-a-volume.md), например "c: \\ " в "c: \\ path \\ File" или " \\ \\ Серверный \\ общий ресурс" в разделе " \\ \\ \\ файл пути к общей папке сервера \\ \\ " для имен в формате UNC.</span><span class="sxs-lookup"><span data-stu-id="7ec17-142">Use a backslash as required as part of [volume names](naming-a-volume.md), for example, the "C:\\" in "C:\\path\\file" or the "\\\\server\\share" in "\\\\server\\share\\path\\file" for Universal Naming Convention (UNC) names.</span></span> <span data-ttu-id="7ec17-143">Дополнительные сведения об именах UNC см. в разделе [ограничение максимальной длины пути](#maximum-path-length-limitation) .</span><span class="sxs-lookup"><span data-stu-id="7ec17-143">For more information about UNC names, see the [Maximum Path Length Limitation](#maximum-path-length-limitation) section.</span></span>
-   <span data-ttu-id="7ec17-144">Не думайте о чувствительности к регистру.</span><span class="sxs-lookup"><span data-stu-id="7ec17-144">Do not assume case sensitivity.</span></span> <span data-ttu-id="7ec17-145">Например, имена OSCAR, OSCAR и OSCAR должны быть одинаковыми, даже если некоторые файловые системы (такие как POSIX-совместимая файловая система) могут считать их разными.</span><span class="sxs-lookup"><span data-stu-id="7ec17-145">For example, consider the names OSCAR, Oscar, and oscar to be the same, even though some file systems (such as a POSIX-compliant file system) may consider them as different.</span></span> <span data-ttu-id="7ec17-146">Обратите внимание, что NTFS поддерживает семантику POSIX для чувствительности к регистру, но это не поведение по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="7ec17-146">Note that NTFS supports POSIX semantics for case sensitivity but this is not the default behavior.</span></span> <span data-ttu-id="7ec17-147">Дополнительные сведения см. в разделе [**CreateFile**](/windows/desktop/api/FileAPI/nf-fileapi-createfilea).</span><span class="sxs-lookup"><span data-stu-id="7ec17-147">For more information, see [**CreateFile**](/windows/desktop/api/FileAPI/nf-fileapi-createfilea).</span></span>
-   <span data-ttu-id="7ec17-148">Обозначения томов (буквы диска) не учитывают регистр.</span><span class="sxs-lookup"><span data-stu-id="7ec17-148">Volume designators (drive letters) are similarly case-insensitive.</span></span> <span data-ttu-id="7ec17-149">Например, "D: \\ " и "d: \\ " ссылаются на один и тот же том.</span><span class="sxs-lookup"><span data-stu-id="7ec17-149">For example, "D:\\" and "d:\\" refer to the same volume.</span></span>
-   <span data-ttu-id="7ec17-150">Используйте любой символ в текущей кодовой странице для имени, включая символы Юникода и символы в расширенном наборе символов (128 – 255), за исключением следующих:</span><span class="sxs-lookup"><span data-stu-id="7ec17-150">Use any character in the current code page for a name, including Unicode characters and characters in the extended character set (128–255), except for the following:</span></span>

    -   <span data-ttu-id="7ec17-151">Следующие зарезервированные символы:</span><span class="sxs-lookup"><span data-stu-id="7ec17-151">The following reserved characters:</span></span>

        -   <span data-ttu-id="7ec17-152">< (меньше чем)</span><span class="sxs-lookup"><span data-stu-id="7ec17-152">< (less than)</span></span>
        -   <span data-ttu-id="7ec17-153">\> (больше)</span><span class="sxs-lookup"><span data-stu-id="7ec17-153">\> (greater than)</span></span>
        -   <span data-ttu-id="7ec17-154">: (двоеточие)</span><span class="sxs-lookup"><span data-stu-id="7ec17-154">: (colon)</span></span>
        -   <span data-ttu-id="7ec17-155">" (двойная кавычка)</span><span class="sxs-lookup"><span data-stu-id="7ec17-155">" (double quote)</span></span>
        -   <span data-ttu-id="7ec17-156">/ (косая черта)</span><span class="sxs-lookup"><span data-stu-id="7ec17-156">/ (forward slash)</span></span>
        -   <span data-ttu-id="7ec17-157">\\ знака</span><span class="sxs-lookup"><span data-stu-id="7ec17-157">\\ (backslash)</span></span>
        -   <span data-ttu-id="7ec17-158">\| (вертикальная черта или вертикальная линия)</span><span class="sxs-lookup"><span data-stu-id="7ec17-158">\| (vertical bar or pipe)</span></span>
        -   <span data-ttu-id="7ec17-159">?</span><span class="sxs-lookup"><span data-stu-id="7ec17-159">?</span></span> <span data-ttu-id="7ec17-160">(вопросительный знак)</span><span class="sxs-lookup"><span data-stu-id="7ec17-160">(question mark)</span></span>
        -   <span data-ttu-id="7ec17-161">\* \*</span><span class="sxs-lookup"><span data-stu-id="7ec17-161">\* (asterisk)</span></span>

    -   <span data-ttu-id="7ec17-162">Целочисленное значение ноль, которое иногда называют символом ASCII *NUL* .</span><span class="sxs-lookup"><span data-stu-id="7ec17-162">Integer value zero, sometimes referred to as the ASCII *NUL* character.</span></span>
    -   <span data-ttu-id="7ec17-163">Символы, целочисленное представление которых находится в диапазоне от 1 до 31, за исключением альтернативных потоков данных, в которых разрешены эти символы.</span><span class="sxs-lookup"><span data-stu-id="7ec17-163">Characters whose integer representations are in the range from 1 through 31, except for alternate data streams where these characters are allowed.</span></span> <span data-ttu-id="7ec17-164">Дополнительные сведения о файловых потоках см. в разделе [файловые потоки](file-streams.md).</span><span class="sxs-lookup"><span data-stu-id="7ec17-164">For more information about file streams, see [File Streams](file-streams.md).</span></span>
    -   <span data-ttu-id="7ec17-165">Любой другой символ, который не разрешен целевой файловой системой.</span><span class="sxs-lookup"><span data-stu-id="7ec17-165">Any other character that the target file system does not allow.</span></span>

-   <span data-ttu-id="7ec17-166">Используйте точку в качестве *компонента* каталога в пути для представления текущего каталога, например. \\temp.txt ".</span><span class="sxs-lookup"><span data-stu-id="7ec17-166">Use a period as a directory *component* in a path to represent the current directory, for example ".\\temp.txt".</span></span> <span data-ttu-id="7ec17-167">Дополнительные сведения см. в разделе [paths](#fully-qualified-vs-relative-paths).</span><span class="sxs-lookup"><span data-stu-id="7ec17-167">For more information, see [Paths](#fully-qualified-vs-relative-paths).</span></span>
-   <span data-ttu-id="7ec17-168">Используйте две последовательные точки (..) как *компонент* каталога в пути, чтобы представить родителя текущего каталога, например. \\temp.txt ".</span><span class="sxs-lookup"><span data-stu-id="7ec17-168">Use two consecutive periods (..) as a directory *component* in a path to represent the parent of the current directory, for example "..\\temp.txt".</span></span> <span data-ttu-id="7ec17-169">Дополнительные сведения см. в разделе [paths](#fully-qualified-vs-relative-paths).</span><span class="sxs-lookup"><span data-stu-id="7ec17-169">For more information, see [Paths](#fully-qualified-vs-relative-paths).</span></span>
-   <span data-ttu-id="7ec17-170">Не используйте следующие зарезервированные имена для имени файла:</span><span class="sxs-lookup"><span data-stu-id="7ec17-170">Do not use the following reserved names for the name of a file:</span></span>

    <span data-ttu-id="7ec17-171">CON, PRN, AUX, NUL, COM1, COM2, COM3, COM4, COM5, COM6, COM7, COM8, COM9, LPT1, LPT2, LPT3, LPT4, LPT5, LPT6, LPT7, LPT8 и LPT9.</span><span class="sxs-lookup"><span data-stu-id="7ec17-171">CON, PRN, AUX, NUL, COM1, COM2, COM3, COM4, COM5, COM6, COM7, COM8, COM9, LPT1, LPT2, LPT3, LPT4, LPT5, LPT6, LPT7, LPT8, and LPT9.</span></span> <span data-ttu-id="7ec17-172">Также Избегайте этих имен сразу после расширения; Например, не рекомендуется использовать NUL.txt.</span><span class="sxs-lookup"><span data-stu-id="7ec17-172">Also avoid these names followed immediately by an extension; for example, NUL.txt is not recommended.</span></span> <span data-ttu-id="7ec17-173">Дополнительные сведения см. в разделе [Пространства имен](#win32-file-namespaces).</span><span class="sxs-lookup"><span data-stu-id="7ec17-173">For more information, see [Namespaces](#win32-file-namespaces).</span></span>

-   <span data-ttu-id="7ec17-174">Не завершайте имя файла или каталога с пробелом или точкой.</span><span class="sxs-lookup"><span data-stu-id="7ec17-174">Do not end a file or directory name with a space or a period.</span></span> <span data-ttu-id="7ec17-175">Хотя базовая файловая система может поддерживать такие имена, оболочка Windows и пользовательский интерфейс не имеют.</span><span class="sxs-lookup"><span data-stu-id="7ec17-175">Although the underlying file system may support such names, the Windows shell and user interface does not.</span></span> <span data-ttu-id="7ec17-176">Однако можно указать точку в качестве первого символа имени.</span><span class="sxs-lookup"><span data-stu-id="7ec17-176">However, it is acceptable to specify a period as the first character of a name.</span></span> <span data-ttu-id="7ec17-177">Например, ". temp".</span><span class="sxs-lookup"><span data-stu-id="7ec17-177">For example, ".temp".</span></span>

### <a name="short-vs-long-names"></a><span data-ttu-id="7ec17-178">Короткие и длинные имена</span><span class="sxs-lookup"><span data-stu-id="7ec17-178">Short vs. Long Names</span></span>

<span data-ttu-id="7ec17-179">Длинное имя файла считается любым именем файла, которое превышает короткое соглашение об именовании в стиле MS-DOS (также называемое *8,3*).</span><span class="sxs-lookup"><span data-stu-id="7ec17-179">A long file name is considered to be any file name that exceeds the short MS-DOS (also called *8.3*) style naming convention.</span></span> <span data-ttu-id="7ec17-180">При создании длинного имени файла Windows может также создать короткую 8,3-форму имени, именуемую *псевдонимом 8,3* или коротким именем, а также сохранить ее на диске.</span><span class="sxs-lookup"><span data-stu-id="7ec17-180">When you create a long file name, Windows may also create a short 8.3 form of the name, called the *8.3 alias* or short name, and store it on disk also.</span></span> <span data-ttu-id="7ec17-181">Это 8,3 может быть отключено для повышения производительности в зависимости от конкретной файловой системы.</span><span class="sxs-lookup"><span data-stu-id="7ec17-181">This 8.3 aliasing can be disabled for performance reasons either systemwide or for a specified volume, depending on the particular file system.</span></span>

<span data-ttu-id="7ec17-182">**Windows server 2008, Windows Vista, Windows server 2003 и Windows XP:** 8,3 псевдонимы не могут быть отключены для указанных томов до Windows 7 и windows Server 2008 R2.</span><span class="sxs-lookup"><span data-stu-id="7ec17-182">**Windows Server 2008, Windows Vista, Windows Server 2003 and Windows XP:** 8.3 aliasing cannot be disabled for specified volumes until Windows 7 and Windows Server 2008 R2.</span></span>

<span data-ttu-id="7ec17-183">Во многих файловых системах имя файла будет содержать символ тильды (~) в каждом компоненте имени, которое слишком длинное для соответствия правилам именования 8,3.</span><span class="sxs-lookup"><span data-stu-id="7ec17-183">On many file systems, a file name will contain a tilde (~) within each component of the name that is too long to comply with 8.3 naming rules.</span></span>

> [!Note]  
> <span data-ttu-id="7ec17-184">Не все файловые системы следуют соглашению о подстановке тильды, и системы могут быть настроены на отключение создания псевдонима 8,3, даже если они обычно поддерживаются.</span><span class="sxs-lookup"><span data-stu-id="7ec17-184">Not all file systems follow the tilde substitution convention, and systems can be configured to disable 8.3 alias generation even if they normally support it.</span></span> <span data-ttu-id="7ec17-185">Поэтому не следует предполагать, что псевдоним 8,3 уже существует на диске.</span><span class="sxs-lookup"><span data-stu-id="7ec17-185">Therefore, do not make the assumption that the 8.3 alias already exists on-disk.</span></span>

 

<span data-ttu-id="7ec17-186">Чтобы запросить 8,3 имен файлов, длинных имен файлов или полного пути к файлу из системы, рассмотрите следующие варианты.</span><span class="sxs-lookup"><span data-stu-id="7ec17-186">To request 8.3 file names, long file names, or the full path of a file from the system, consider the following options:</span></span>

-   <span data-ttu-id="7ec17-187">Чтобы получить форму 8,3 с длинным именем файла, используйте функцию [**GetShortPathName**](/windows/desktop/api/FileAPI/nf-fileapi-getshortpathnamew) .</span><span class="sxs-lookup"><span data-stu-id="7ec17-187">To get the 8.3 form of a long file name, use the [**GetShortPathName**](/windows/desktop/api/FileAPI/nf-fileapi-getshortpathnamew) function.</span></span>
-   <span data-ttu-id="7ec17-188">Чтобы получить длинную версию короткого имени файла, используйте функцию [**жетлонгпаснаме**](/windows/desktop/api/FileAPI/nf-fileapi-getlongpathnamea) .</span><span class="sxs-lookup"><span data-stu-id="7ec17-188">To get the long file name version of a short name, use the [**GetLongPathName**](/windows/desktop/api/FileAPI/nf-fileapi-getlongpathnamea) function.</span></span>
-   <span data-ttu-id="7ec17-189">Чтобы получить полный путь к файлу, используйте функцию [**жетфуллпаснаме**](/windows/desktop/api/FileAPI/nf-fileapi-getfullpathnamea) .</span><span class="sxs-lookup"><span data-stu-id="7ec17-189">To get the full path to a file, use the [**GetFullPathName**](/windows/desktop/api/FileAPI/nf-fileapi-getfullpathnamea) function.</span></span>

<span data-ttu-id="7ec17-190">В новых файловых системах, таких как NTFS, exFAT, UDF и FAT32, Windows хранит длинные имена файлов на диске в Юникоде, что означает, что исходное имя длинного файла всегда сохраняется.</span><span class="sxs-lookup"><span data-stu-id="7ec17-190">On newer file systems, such as NTFS, exFAT, UDFS, and FAT32, Windows stores the long file names on disk in Unicode, which means that the original long file name is always preserved.</span></span> <span data-ttu-id="7ec17-191">Это справедливо даже в том случае, если длинное имя файла содержит символы национальных алфавитов, независимо от того, какая кодовая страница активна во время операции чтения или записи с диска.</span><span class="sxs-lookup"><span data-stu-id="7ec17-191">This is true even if a long file name contains extended characters, regardless of the code page that is active during a disk read or write operation.</span></span>

<span data-ttu-id="7ec17-192">Файлы, использующие длинные имена файлов, можно скопировать между разделами файловой системы NTFS и разделами файловой системы Windows FAT без потери сведений об имени файла.</span><span class="sxs-lookup"><span data-stu-id="7ec17-192">Files using long file names can be copied between NTFS file system partitions and Windows FAT file system partitions without losing any file name information.</span></span> <span data-ttu-id="7ec17-193">Это может быть неверно для старых файлов MS-DOS FAT и некоторых типов файловых систем CDFS (CD-ROM) в зависимости от фактического имени файла.</span><span class="sxs-lookup"><span data-stu-id="7ec17-193">This may not be true for the older MS-DOS FAT and some types of CDFS (CD-ROM) file systems, depending on the actual file name.</span></span> <span data-ttu-id="7ec17-194">В этом случае короткое имя файла подставляется по возможности.</span><span class="sxs-lookup"><span data-stu-id="7ec17-194">In this case, the short file name is substituted if possible.</span></span>

## <a name="paths"></a><span data-ttu-id="7ec17-195">Пути</span><span class="sxs-lookup"><span data-stu-id="7ec17-195">Paths</span></span>

<span data-ttu-id="7ec17-196">*Путь* к указанному файлу состоит из одного или нескольких *компонентов*, разделенных специальным символом (обратная косая черта), каждый компонент обычно является именем каталога или именем файла, но с некоторыми важными исключениями, описанными ниже.</span><span class="sxs-lookup"><span data-stu-id="7ec17-196">The *path* to a specified file consists of one or more *components*, separated by a special character (a backslash), with each component usually being a directory name or file name, but with some notable exceptions discussed below.</span></span> <span data-ttu-id="7ec17-197">Часто очень важно интерпретировать систему пути, который выглядит как начало или *префикс* пути.</span><span class="sxs-lookup"><span data-stu-id="7ec17-197">It is often critical to the system's interpretation of a path what the beginning, or *prefix*, of the path looks like.</span></span> <span data-ttu-id="7ec17-198">Этот префикс определяет *пространство имен* , используемое в пути, а также специальные символы, используемые в качестве позиции внутри пути, включая последний символ.</span><span class="sxs-lookup"><span data-stu-id="7ec17-198">This prefix determines the *namespace* the path is using, and additionally what special characters are used in which position within the path, including the last character.</span></span>

<span data-ttu-id="7ec17-199">Если компонент пути является именем файла, то он должен быть последним компонентом.</span><span class="sxs-lookup"><span data-stu-id="7ec17-199">If a component of a path is a file name, it must be the last component.</span></span>

<span data-ttu-id="7ec17-200">Каждый компонент пути также будет ограничен максимальной длиной, указанной для конкретной файловой системы.</span><span class="sxs-lookup"><span data-stu-id="7ec17-200">Each component of a path will also be constrained by the maximum length specified for a particular file system.</span></span> <span data-ttu-id="7ec17-201">Как правило, эти правила делятся на две категории: *Short* и *Long*.</span><span class="sxs-lookup"><span data-stu-id="7ec17-201">In general, these rules fall into two categories: *short* and *long*.</span></span> <span data-ttu-id="7ec17-202">Обратите внимание, что имена каталогов хранятся в файловой системе как файлы особого типа, но правила именования для файлов также применяются к именам каталогов.</span><span class="sxs-lookup"><span data-stu-id="7ec17-202">Note that directory names are stored by the file system as a special type of file, but naming rules for files also apply to directory names.</span></span> <span data-ttu-id="7ec17-203">Для суммирования путь — это просто строковое представление иерархии между всеми каталогами, которые существуют для определенного имени файла или каталога.</span><span class="sxs-lookup"><span data-stu-id="7ec17-203">To summarize, a path is simply the string representation of the hierarchy between all of the directories that exist for a particular file or directory name.</span></span>

### <a name="fully-qualified-vs-relative-paths"></a><span data-ttu-id="7ec17-204">Полные и относительные пути</span><span class="sxs-lookup"><span data-stu-id="7ec17-204">Fully Qualified vs. Relative Paths</span></span>

<span data-ttu-id="7ec17-205">Для функций Windows API, которые управляют файлами, имена файлов часто могут относиться к текущему каталогу, в то время как некоторым API требуется полный путь.</span><span class="sxs-lookup"><span data-stu-id="7ec17-205">For Windows API functions that manipulate files, file names can often be relative to the current directory, while some APIs require a fully qualified path.</span></span> <span data-ttu-id="7ec17-206">Имя файла задается относительно текущего каталога, если он не начинается с одного из следующих:</span><span class="sxs-lookup"><span data-stu-id="7ec17-206">A file name is relative to the current directory if it does not begin with one of the following:</span></span>

-   <span data-ttu-id="7ec17-207">UNC-имя любого формата, который всегда начинается с двух символов обратной косой черты (" \\ \\ ").</span><span class="sxs-lookup"><span data-stu-id="7ec17-207">A UNC name of any format, which always start with two backslash characters ("\\\\").</span></span> <span data-ttu-id="7ec17-208">Дополнительные сведения см. в следующем разделе.</span><span class="sxs-lookup"><span data-stu-id="7ec17-208">For more information, see the next section.</span></span>
-   <span data-ttu-id="7ec17-209">Обозначение диска с обратной косой чертой, например "C: \\ " или "d: \\ ".</span><span class="sxs-lookup"><span data-stu-id="7ec17-209">A disk designator with a backslash, for example "C:\\" or "d:\\".</span></span>
-   <span data-ttu-id="7ec17-210">Одна обратная косая черта, например " \\ Directory" или " \\file.txt".</span><span class="sxs-lookup"><span data-stu-id="7ec17-210">A single backslash, for example, "\\directory" or "\\file.txt".</span></span> <span data-ttu-id="7ec17-211">Это также называется *абсолютным путем*.</span><span class="sxs-lookup"><span data-stu-id="7ec17-211">This is also referred to as an *absolute path*.</span></span>

<span data-ttu-id="7ec17-212">Если имя файла начинается только с обозначения диска, но не с обратной косой черты после двоеточия, то оно интерпретируется как относительный путь к текущему каталогу на диске с указанной буквой.</span><span class="sxs-lookup"><span data-stu-id="7ec17-212">If a file name begins with only a disk designator but not the backslash after the colon, it is interpreted as a relative path to the current directory on the drive with the specified letter.</span></span> <span data-ttu-id="7ec17-213">Обратите внимание, что текущий каталог может быть или не являться корневым каталогом, в зависимости от того, на что он был установлен во время последней операции "изменение каталога" на этом диске.</span><span class="sxs-lookup"><span data-stu-id="7ec17-213">Note that the current directory may or may not be the root directory depending on what it was set to during the most recent "change directory" operation on that disk.</span></span> <span data-ttu-id="7ec17-214">Ниже приведены примеры этого формата.</span><span class="sxs-lookup"><span data-stu-id="7ec17-214">Examples of this format are as follows:</span></span>

-   <span data-ttu-id="7ec17-215">"C:tmp.txt" ссылается на файл с именем "tmp.txt" в текущем каталоге на диске C.</span><span class="sxs-lookup"><span data-stu-id="7ec17-215">"C:tmp.txt" refers to a file named "tmp.txt" in the current directory on drive C.</span></span>
-   <span data-ttu-id="7ec17-216">"К:темпдир \\tmp.txt" ссылается на файл в подкаталоге для текущего каталога на диске C.</span><span class="sxs-lookup"><span data-stu-id="7ec17-216">"C:tempdir\\tmp.txt" refers to a file in a subdirectory to the current directory on drive C.</span></span>

<span data-ttu-id="7ec17-217">Путь также считается относительным, если он содержит "двойные точки"; то есть две точки вместе находятся в одном компоненте пути.</span><span class="sxs-lookup"><span data-stu-id="7ec17-217">A path is also said to be relative if it contains "double-dots"; that is, two periods together in one component of the path.</span></span> <span data-ttu-id="7ec17-218">Этот Специальный описатель используется для обозначения каталога над текущим каталогом, в противном случае известный как "родительский каталог".</span><span class="sxs-lookup"><span data-stu-id="7ec17-218">This special specifier is used to denote the directory above the current directory, otherwise known as the "parent directory".</span></span> <span data-ttu-id="7ec17-219">Ниже приведены примеры этого формата.</span><span class="sxs-lookup"><span data-stu-id="7ec17-219">Examples of this format are as follows:</span></span>

-   <span data-ttu-id="7ec17-220">"..\\tmp.txt "указывает файл с именем tmp.txt, расположенный в родительском каталоге текущего каталога.</span><span class="sxs-lookup"><span data-stu-id="7ec17-220">"..\\tmp.txt" specifies a file named tmp.txt located in the parent of the current directory.</span></span>
-   <span data-ttu-id="7ec17-221">"..\\..\\tmp.txt "указывает файл, который является двумя каталогами над текущим каталогом.</span><span class="sxs-lookup"><span data-stu-id="7ec17-221">"..\\..\\tmp.txt" specifies a file that is two directories above the current directory.</span></span>
-   <span data-ttu-id="7ec17-222">"..\\ TEMPDIR \\tmp.txt "указывает файл с именем tmp.txt, расположенный в каталоге с именем TEMPDIR, который является однорангым каталогом для текущего каталога.</span><span class="sxs-lookup"><span data-stu-id="7ec17-222">"..\\tempdir\\tmp.txt" specifies a file named tmp.txt located in a directory named tempdir that is a peer directory to the current directory.</span></span>

<span data-ttu-id="7ec17-223">Относительные пути могут сочетать оба типа примеров, например "К:.. \\tmp.txt ".</span><span class="sxs-lookup"><span data-stu-id="7ec17-223">Relative paths can combine both example types, for example "C:..\\tmp.txt".</span></span> <span data-ttu-id="7ec17-224">Это полезно, поскольку, несмотря на то, что система отслеживает текущий диск вместе с текущим каталогом этого диска, она также следит за текущими каталогами на разных буквах диска (если в системе несколько), независимо от того, какой из обозначений установлен в качестве текущего диска.</span><span class="sxs-lookup"><span data-stu-id="7ec17-224">This is useful because, although the system keeps track of the current drive along with the current directory of that drive, it also keeps track of the current directories in each of the different drive letters (if your system has more than one), regardless of which drive designator is set as the current drive.</span></span>

### <a name="maximum-path-length-limitation"></a><span data-ttu-id="7ec17-225">Ограничение максимальной длины пути</span><span class="sxs-lookup"><span data-stu-id="7ec17-225">Maximum Path Length Limitation</span></span>


<span data-ttu-id="7ec17-226">В выпусках Windows до Windows 10 версии 1607 максимальная длина пути — это **максимальный \_ путь**, который определен как 260 символов.</span><span class="sxs-lookup"><span data-stu-id="7ec17-226">In editions of Windows before Windows 10 version 1607, the maximum length for a path is **MAX\_PATH**, which is defined as 260 characters.</span></span> <span data-ttu-id="7ec17-227">В более поздних версиях Windows для снятия этого ограничения требуется изменить раздел реестра или использовать средство групповая политика.</span><span class="sxs-lookup"><span data-stu-id="7ec17-227">In later versions of Windows, changing a registry key or using the Group Policy tool is required to remove the limit.</span></span> <span data-ttu-id="7ec17-228">Дополнительные сведения см. в разделе [ограничение максимальной длины пути](./maximum-file-path-limitation.md) .</span><span class="sxs-lookup"><span data-stu-id="7ec17-228">See [Maximum Path Length Limitation](./maximum-file-path-limitation.md) for full details.</span></span>


## <a name="namespaces"></a><span data-ttu-id="7ec17-229">Пространства имен</span><span class="sxs-lookup"><span data-stu-id="7ec17-229">Namespaces</span></span>

<span data-ttu-id="7ec17-230">Существуют две основные категории соглашений о пространствах имен, используемые в API Windows, которые обычно называются *пространствами имен NT* и *пространствами имен Win32*.</span><span class="sxs-lookup"><span data-stu-id="7ec17-230">There are two main categories of namespace conventions used in the Windows APIs, commonly referred to as *NT namespaces* and the *Win32 namespaces*.</span></span> <span data-ttu-id="7ec17-231">Пространство имен NT было разработано как пространство имен самого низкого уровня, в котором могут существовать другие подсистемы и пространства имен, включая подсистему Win32 и, по расширениям, пространства имен Win32.</span><span class="sxs-lookup"><span data-stu-id="7ec17-231">The NT namespace was designed to be the lowest level namespace on which other subsystems and namespaces could exist, including the Win32 subsystem and, by extension, the Win32 namespaces.</span></span> <span data-ttu-id="7ec17-232">POSIX — это еще один пример подсистемы в Windows, построенной на основе пространства имен NT.</span><span class="sxs-lookup"><span data-stu-id="7ec17-232">POSIX is another example of a subsystem in Windows that is built on top of the NT namespace.</span></span> <span data-ttu-id="7ec17-233">В ранних версиях Windows также определено несколько предопределенных или зарезервированных имен для определенных специальных устройств, таких как порты связи (последовательные и параллельные) и консоли экрана по умолчанию, как часть того, что теперь называется пространством имен устройств NT, и по-прежнему поддерживается в текущих версиях Windows для обеспечения обратной совместимости.</span><span class="sxs-lookup"><span data-stu-id="7ec17-233">Early versions of Windows also defined several predefined, or reserved, names for certain special devices such as communications (serial and parallel) ports and the default display console as part of what is now called the NT device namespace, and are still supported in current versions of Windows for backward compatibility.</span></span>

### <a name="win32-file-namespaces"></a><span data-ttu-id="7ec17-234">Пространства имен файлов Win32</span><span class="sxs-lookup"><span data-stu-id="7ec17-234">Win32 File Namespaces</span></span>

<span data-ttu-id="7ec17-235">Префиксы и соглашения пространств имен Win32 приведены в этом разделе и в следующем разделе с описанием того, как они используются.</span><span class="sxs-lookup"><span data-stu-id="7ec17-235">The Win32 namespace prefixing and conventions are summarized in this section and the following section, with descriptions of how they are used.</span></span> <span data-ttu-id="7ec17-236">Обратите внимание, что эти примеры предназначены для использования с функциями Windows API и не всегда работают с приложениями оболочки Windows, например с проводником Windows.</span><span class="sxs-lookup"><span data-stu-id="7ec17-236">Note that these examples are intended for use with the Windows API functions and do not all necessarily work with Windows shell applications such as Windows Explorer.</span></span> <span data-ttu-id="7ec17-237">По этой причине существует более широкий спектр возможных путей, чем обычно доступно в приложениях оболочки Windows, а приложения Windows, использующие ее, могут быть разработаны с использованием этих соглашений об пространствах имен.</span><span class="sxs-lookup"><span data-stu-id="7ec17-237">For this reason there is a wider range of possible paths than is usually available from Windows shell applications, and Windows applications that take advantage of this can be developed using these namespace conventions.</span></span>

<span data-ttu-id="7ec17-238">Для файлового ввода-вывода префикс " \\ \\ ? \\ " строки пути сообщает API Windows, что необходимо отключить синтаксический анализ строк и отправить строку, следующую за ней, непосредственно в файловую систему.</span><span class="sxs-lookup"><span data-stu-id="7ec17-238">For file I/O, the "\\\\?\\" prefix to a path string tells the Windows APIs to disable all string parsing and to send the string that follows it straight to the file system.</span></span> <span data-ttu-id="7ec17-239">Например, если файловая система поддерживает большие пути и имена файлов, можно превысить ограничения по **максимальному \_ пути** , которые в противном случае применяются API-интерфейсами Windows.</span><span class="sxs-lookup"><span data-stu-id="7ec17-239">For example, if the file system supports large paths and file names, you can exceed the **MAX\_PATH** limits that are otherwise enforced by the Windows APIs.</span></span> <span data-ttu-id="7ec17-240">Дополнительные сведения о стандартном максимальном ограничении пути см. в предыдущем разделе [ограничение длины пути](#maximum-path-length-limitation).</span><span class="sxs-lookup"><span data-stu-id="7ec17-240">For more information about the normal maximum path limitation, see the previous section [Maximum Path Length Limitation](#maximum-path-length-limitation).</span></span>

<span data-ttu-id="7ec17-241">Так как он отключает автоматическое расширение строки пути, \\ \\ префикс "? \\ " также позволяет использовать ".." и "." в именах путей, которые могут быть полезны при попытке выполнить операции с файлом, в противном случае зарезервированные описатели относительных путей в составе полного пути.</span><span class="sxs-lookup"><span data-stu-id="7ec17-241">Because it turns off automatic expansion of the path string, the "\\\\?\\" prefix also allows the use of ".." and "." in the path names, which can be useful if you are attempting to perform operations on a file with these otherwise reserved relative path specifiers as part of the fully qualified path.</span></span>

<span data-ttu-id="7ec17-242">Многие, но не все API-интерфейсы файлового ввода/вывода поддерживают " \\ \\ ? \\ "; для проверки каждого API следует обратиться к справочному разделу.</span><span class="sxs-lookup"><span data-stu-id="7ec17-242">Many but not all file I/O APIs support "\\\\?\\"; you should look at the reference topic for each API to be sure.</span></span> 

<span data-ttu-id="7ec17-243">Обратите внимание, что для префикса "?" можно использовать только API-интерфейсы Юникод, что \\ \\ \\ позволяет превысить **максимальный \_ путь**</span><span class="sxs-lookup"><span data-stu-id="7ec17-243">Note that Unicode APIs should be used to make sure the "\\\\?\\" prefix allows you to exceed the **MAX\_PATH**</span></span> 

### <a name="win32-device-namespaces"></a><span data-ttu-id="7ec17-244">Пространства имен устройств Win32</span><span class="sxs-lookup"><span data-stu-id="7ec17-244">Win32 Device Namespaces</span></span>

<span data-ttu-id="7ec17-245">Префикс " \\ \\ . \\ " будет обращаться к пространству имен Win32, а не пространству имен файлов Win32.</span><span class="sxs-lookup"><span data-stu-id="7ec17-245">The "\\\\.\\" prefix will access the Win32 device namespace instead of the Win32 file namespace.</span></span> <span data-ttu-id="7ec17-246">Таким способом доступ к физическим дискам и томам осуществляется напрямую, без использования файловой системы, если API поддерживает этот тип доступа.</span><span class="sxs-lookup"><span data-stu-id="7ec17-246">This is how access to physical disks and volumes is accomplished directly, without going through the file system, if the API supports this type of access.</span></span> <span data-ttu-id="7ec17-247">Вы можете получить доступ ко многим устройствам, отличным от дисков таким образом (например, с помощью функций [**CreateFile**](/windows/desktop/api/FileAPI/nf-fileapi-createfilea) и [**дефинедосдевице**](/windows/desktop/api/FileAPI/nf-fileapi-definedosdevicew) ).</span><span class="sxs-lookup"><span data-stu-id="7ec17-247">You can access many devices other than disks this way (using the [**CreateFile**](/windows/desktop/api/FileAPI/nf-fileapi-createfilea) and [**DefineDosDevice**](/windows/desktop/api/FileAPI/nf-fileapi-definedosdevicew) functions, for example).</span></span>

<span data-ttu-id="7ec17-248">Например, если требуется открыть порт последовательного подключения системы 1, можно использовать "COM1" в вызове функции [**CreateFile**](/windows/desktop/api/FileAPI/nf-fileapi-createfilea) .</span><span class="sxs-lookup"><span data-stu-id="7ec17-248">For example, if you want to open the system's serial communications port 1, you can use "COM1" in the call to the [**CreateFile**](/windows/desktop/api/FileAPI/nf-fileapi-createfilea) function.</span></span> <span data-ttu-id="7ec17-249">Это работает потому, что COM1 – COM9 являются частью зарезервированных имен в пространстве имен NT, хотя использование \\ \\ \\ префикса "." также будет работать с этими именами устройств.</span><span class="sxs-lookup"><span data-stu-id="7ec17-249">This works because COM1–COM9 are part of the reserved names in the NT namespace, although using the "\\\\.\\" prefix will also work with these device names.</span></span> <span data-ttu-id="7ec17-250">По сравнению, если установлена плата расширения последовательного порта 100 и вы хотите открыть COM56, вы не сможете открыть ее с помощью "COM56", так как отсутствует предопределенное пространство имен NT для COM56.</span><span class="sxs-lookup"><span data-stu-id="7ec17-250">By comparison, if you have a 100 port serial expansion board installed and want to open COM56, you cannot open it using "COM56" because there is no predefined NT namespace for COM56.</span></span> <span data-ttu-id="7ec17-251">Его необходимо открыть с помощью " \\ \\ . \\ COM56 ", так как" \\ \\ . \\ "переходит непосредственно в пространство имен устройства, не пытаясь определить предопределенный псевдоним.</span><span class="sxs-lookup"><span data-stu-id="7ec17-251">You will need to open it using "\\\\.\\COM56" because "\\\\.\\" goes directly to the device namespace without attempting to locate a predefined alias.</span></span>

<span data-ttu-id="7ec17-252">Еще один пример использования пространства имен Win32-устройства — использование функции [**CreateFile**](/windows/desktop/api/FileAPI/nf-fileapi-createfilea) с " \\ \\ . \\ Физический диск *x*"(где *X* — Допустимое целочисленное значение) или" \\ \\ . \\ CdRom *X*".</span><span class="sxs-lookup"><span data-stu-id="7ec17-252">Another example of using the Win32 device namespace is using the [**CreateFile**](/windows/desktop/api/FileAPI/nf-fileapi-createfilea) function with "\\\\.\\PhysicalDisk *X*" (where *X* is a valid integer value) or "\\\\.\\CdRom *X*".</span></span> <span data-ttu-id="7ec17-253">Это позволяет получать доступ к этим устройствам напрямую, минуя файловую систему.</span><span class="sxs-lookup"><span data-stu-id="7ec17-253">This allows you to access those devices directly, bypassing the file system.</span></span> <span data-ttu-id="7ec17-254">Это работает потому, что эти имена устройств создаются системой при их перечислении, а некоторые драйверы также создают другие псевдонимы в системе.</span><span class="sxs-lookup"><span data-stu-id="7ec17-254">This works because these device names are created by the system as these devices are enumerated, and some drivers will also create other aliases in the system.</span></span> <span data-ttu-id="7ec17-255">Например, драйвер устройства, реализующий имя C:, \\ имеет собственное пространство имен, которое также может быть файловой системой.</span><span class="sxs-lookup"><span data-stu-id="7ec17-255">For example, the device driver that implements the name "C:\\" has its own namespace that also happens to be the file system.</span></span>

<span data-ttu-id="7ec17-256">API-интерфейсы, которые проходят через функцию [**CreateFile**](/windows/desktop/api/FileAPI/nf-fileapi-createfilea) , обычно работают с \\ \\ \\ префиксом ".", так как **CreateFile** — это функция, используемая для открытия как файлов, так и устройств в зависимости от используемых параметров.</span><span class="sxs-lookup"><span data-stu-id="7ec17-256">APIs that go through the [**CreateFile**](/windows/desktop/api/FileAPI/nf-fileapi-createfilea) function generally work with the "\\\\.\\" prefix because **CreateFile** is the function used to open both files and devices, depending on the parameters you use.</span></span>

<span data-ttu-id="7ec17-257">При работе с функциями API Windows следует использовать \\ \\ префикс ". \\ " для доступа только к устройствам, а не файлам.</span><span class="sxs-lookup"><span data-stu-id="7ec17-257">If you're working with Windows API functions, you should use the "\\\\.\\" prefix to access devices only and not files.</span></span>

<span data-ttu-id="7ec17-258">Большинство интерфейсов API не поддерживают " \\ \\ . \\ "; только те, которые предназначены для работы с пространством имен устройства, распознают его.</span><span class="sxs-lookup"><span data-stu-id="7ec17-258">Most APIs won't support "\\\\.\\"; only those that are designed to work with the device namespace will recognize it.</span></span> <span data-ttu-id="7ec17-259">Всегда проверяйте справочный раздел для каждого API, чтобы быть уверенным в этом.</span><span class="sxs-lookup"><span data-stu-id="7ec17-259">Always check the reference topic for each API to be sure.</span></span>

### <a name="nt-namespaces"></a><span data-ttu-id="7ec17-260">Пространства имен NT</span><span class="sxs-lookup"><span data-stu-id="7ec17-260">NT Namespaces</span></span>

<span data-ttu-id="7ec17-261">Существуют также API-интерфейсы, позволяющие использовать соглашение о пространстве имен NT, но в большинстве случаев диспетчер объектов Windows делает это ненужным.</span><span class="sxs-lookup"><span data-stu-id="7ec17-261">There are also APIs that allow the use of the NT namespace convention, but the Windows Object Manager makes that unnecessary in most cases.</span></span> <span data-ttu-id="7ec17-262">Чтобы проиллюстрировать это, полезно просмотреть пространства имен Windows в обозревателе системных объектов с помощью средства Windows Sysinternals [винобж](/sysinternals/downloads/winobj) Tool.</span><span class="sxs-lookup"><span data-stu-id="7ec17-262">To illustrate, it is useful to browse the Windows namespaces in the system object browser using the Windows Sysinternals [WinObj](/sysinternals/downloads/winobj) tool.</span></span> <span data-ttu-id="7ec17-263">При запуске этого средства отображается пространство имен NT, начинающееся с корневого каталога, или " \\ ".</span><span class="sxs-lookup"><span data-stu-id="7ec17-263">When you run this tool, what you see is the NT namespace beginning at the root, or "\\".</span></span> <span data-ttu-id="7ec17-264">Вложенная папка с именем "Global??"</span><span class="sxs-lookup"><span data-stu-id="7ec17-264">The subfolder called "Global??"</span></span> <span data-ttu-id="7ec17-265">Здесь находится пространство имен Win32.</span><span class="sxs-lookup"><span data-stu-id="7ec17-265">is where the Win32 namespace resides.</span></span> <span data-ttu-id="7ec17-266">Именованные объекты устройств находятся в пространстве имен NT в подкаталоге "Device".</span><span class="sxs-lookup"><span data-stu-id="7ec17-266">Named device objects reside in the NT namespace within the "Device" subdirectory.</span></span> <span data-ttu-id="7ec17-267">Здесь также можно найти Serial0 и Serial1, объекты устройств, представляющие первые два COM-порта, если они есть в вашей системе.</span><span class="sxs-lookup"><span data-stu-id="7ec17-267">Here you may also find Serial0 and Serial1, the device objects representing the first two COM ports if present on your system.</span></span> <span data-ttu-id="7ec17-268">Объект устройства, представляющий том, будет выглядеть как "HarddiskVolume1", хотя числовой суффикс может отличаться.</span><span class="sxs-lookup"><span data-stu-id="7ec17-268">A device object representing a volume would be something like "HarddiskVolume1", although the numeric suffix may vary.</span></span> <span data-ttu-id="7ec17-269">Имя "DR0" в подкаталоге "Harddisk0" является примером объекта устройства, представляющего диск, и т. д.</span><span class="sxs-lookup"><span data-stu-id="7ec17-269">The name "DR0" under subdirectory "Harddisk0" is an example of the device object representing a disk, and so on.</span></span>

<span data-ttu-id="7ec17-270">Чтобы сделать эти объекты устройств доступными для приложений Windows, драйверы устройств создают символьную ссылку (символьную ссылку) в пространстве имен Win32 "Global??" для соответствующих объектов устройств.</span><span class="sxs-lookup"><span data-stu-id="7ec17-270">To make these device objects accessible by Windows applications, the device drivers create a symbolic link (symlink) in the Win32 namespace, "Global??", to their respective device objects.</span></span> <span data-ttu-id="7ec17-271">Например, COM0 и COM1 в разделе "Global??"</span><span class="sxs-lookup"><span data-stu-id="7ec17-271">For example, COM0 and COM1 under the "Global??"</span></span> <span data-ttu-id="7ec17-272">подкаталог — это просто символических ссылок Serial0 и Serial1, "C:" — это символьную ссылку до HarddiskVolume1, "отображается physicaldrive0" — символьную ссылку до DR0 и т. д.</span><span class="sxs-lookup"><span data-stu-id="7ec17-272">subdirectory are simply symlinks to Serial0 and Serial1, "C:" is a symlink to HarddiskVolume1, "Physicaldrive0" is a symlink to DR0, and so on.</span></span> <span data-ttu-id="7ec17-273">Без символьную ссылку указанное устройство "XXX" будет недоступно для любого приложения Windows, использующего соглашения о пространстве имен Win32, как описано выше.</span><span class="sxs-lookup"><span data-stu-id="7ec17-273">Without a symlink, a specified device "Xxx" will not be available to any Windows application using Win32 namespace conventions as described previously.</span></span> <span data-ttu-id="7ec17-274">Однако для этого устройства можно открыть маркер, используя любые интерфейсы API, поддерживающие абсолютный путь к пространству имен NT формата " \\ устройство \\ xxx".</span><span class="sxs-lookup"><span data-stu-id="7ec17-274">However, a handle could be opened to that device using any APIs that support the NT namespace absolute path of the format "\\Device\\Xxx".</span></span>

<span data-ttu-id="7ec17-275">Благодаря добавлению поддержки нескольких пользователей через службы терминалов и виртуальные машины, она еще больше необходима для виртуализации корневого устройства на уровне системы в пространстве имен Win32.</span><span class="sxs-lookup"><span data-stu-id="7ec17-275">With the addition of multi-user support via Terminal Services and virtual machines, it has further become necessary to virtualize the system-wide root device within the Win32 namespace.</span></span> <span data-ttu-id="7ec17-276">Это было выполнено путем добавления символьную ссылку с именем «ГЛОБАЛРУТ» в пространство имен Win32, которое можно увидеть в «Global??»</span><span class="sxs-lookup"><span data-stu-id="7ec17-276">This was accomplished by adding the symlink named "GLOBALROOT" to the Win32 namespace, which you can see in the "Global??"</span></span> <span data-ttu-id="7ec17-277">вложенный каталог средства браузера Винобж, который ранее обсуждался, и может получить доступ по пути " \\ \\ ? \\ ГЛОБАЛРУТ ".</span><span class="sxs-lookup"><span data-stu-id="7ec17-277">subdirectory of the WinObj browser tool previously discussed, and can access via the path "\\\\?\\GLOBALROOT".</span></span> <span data-ttu-id="7ec17-278">Этот префикс гарантирует, что путь, следующий за ним, будет искать в истинном корневом пути диспетчера системных объектов, а не на пути, зависящего от сеанса.</span><span class="sxs-lookup"><span data-stu-id="7ec17-278">This prefix ensures that the path following it looks in the true root path of the system object manager and not a session-dependent path.</span></span>

## <a name="related-topics"></a><span data-ttu-id="7ec17-279">См. также</span><span class="sxs-lookup"><span data-stu-id="7ec17-279">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="7ec17-280">Сравнение функциональных возможностей файловой системы</span><span class="sxs-lookup"><span data-stu-id="7ec17-280">File System Functionality Comparison</span></span>](filesystem-functionality-comparison.md)
</dt> </dl>

 

 