---
description: Windows хранит данные в операциях чтения и записи файлов в системных буферах данных для оптимизации производительности диска.
ms.assetid: e8c12a1d-f6a4-4850-814d-6f0a712f8f9a
title: Сброс System-Buffered данных ввода-вывода на диск
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 0639c5ea909d96a248bb563f1c6a08cd7a526d98
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "104546690"
---
# <a name="flushing-system-buffered-io-data-to-disk"></a>Сброс System-Buffered данных ввода-вывода на диск

Windows хранит данные в операциях чтения и записи файлов в системных буферах данных для оптимизации производительности диска. Когда приложение записывает в файл, система обычно помещает данные в буфер и регулярно записывает их на диск. Приложение может заставить операционную систему записывать содержимое этих буферов данных на диск с помощью функции [**FlushFileBuffers**](/windows/desktop/api/FileAPI/nf-fileapi-flushfilebuffers) . Кроме того, приложение может указать, что операции записи обходят буфер данных и записываются непосредственно на диск, устанавливая **флаг файла без флага \_ \_ \_ буферизации** при создании или открытии файла с помощью функции [**CreateFile**](/windows/desktop/api/FileAPI/nf-fileapi-createfilea) .

Если при закрытии файла в внутреннем буфере имеются данные, операционная система не будет автоматически записывать содержимое буфера на диск перед закрытием файла. Если приложение не заставляет операционную систему записывать буфер на диск перед закрытием файла, алгоритм кэширования определяет время записи буфера.

> [!Note]  
> Доступ к буферу данных во время использования операции чтения или записи может привести к повреждению буфера. Приложения не должны считывать, записывать, перераспределять или освобождать буфер данных, который используется операцией чтения или записи до завершения операции.

 

 

 



