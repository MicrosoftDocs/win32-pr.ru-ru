---
description: Описывает два типа дискового пространства и обсуждает стили разделов.
ms.assetid: 5d511654-92e0-4236-80e7-bb2417403186
title: Базовые и динамические диски
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: cd3b52767983c7707f619b83c93e987b51879fdd
ms.sourcegitcommit: 3d9dce1bd6c84e2b51759e940aa95aa9b459cd20
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/04/2021
ms.locfileid: "103999992"
---
# <a name="basic-and-dynamic-disks"></a><span data-ttu-id="743dd-103">Базовые и динамические диски</span><span class="sxs-lookup"><span data-stu-id="743dd-103">Basic and Dynamic Disks</span></span>

<span data-ttu-id="743dd-104">Перед секционированием диска или получением сведений о разметке раздела диска необходимо сначала разобраться в функциях и ограничениях типов базовых и динамических дисковых хранилищ.</span><span class="sxs-lookup"><span data-stu-id="743dd-104">Before partitioning a drive or getting information about the partition layout of a drive, you must first understand the features and limitations of basic and dynamic disk storage types.</span></span>

<span data-ttu-id="743dd-105">В этом разделе термин " *том* " используется для обозначения понятия раздела диска, отформатированного с помощью допустимой файловой системы, наиболее часто используемой файловой системой NTFS, которая используется операционной системой Windows для хранения файлов.</span><span class="sxs-lookup"><span data-stu-id="743dd-105">For the purposes of this topic, the term *volume* is used to refer to the concept of a disk partition formatted with a valid file system, most commonly NTFS, that is used by the Windows operating system to store files.</span></span> <span data-ttu-id="743dd-106">Том имеет имя пути Win32, может быть перечислено функциями [**финдфирстволуме**](/windows/desktop/api/FileAPI/nf-fileapi-findfirstvolumew) и [**финднекстволуме**](/windows/desktop/api/FileAPI/nf-fileapi-findnextvolumew) , и обычно ему назначена буква диска, например C:.</span><span class="sxs-lookup"><span data-stu-id="743dd-106">A volume has a Win32 path name, can be enumerated by the [**FindFirstVolume**](/windows/desktop/api/FileAPI/nf-fileapi-findfirstvolumew) and [**FindNextVolume**](/windows/desktop/api/FileAPI/nf-fileapi-findnextvolumew) functions, and usually has a drive letter assigned to it, such as C:.</span></span> <span data-ttu-id="743dd-107">Дополнительные сведения о томах и файловых системах см. в разделе [файловые системы](file-systems.md).</span><span class="sxs-lookup"><span data-stu-id="743dd-107">For more information about volumes and file systems, see [File Systems](file-systems.md).</span></span>

<span data-ttu-id="743dd-108">В этом разделе:</span><span class="sxs-lookup"><span data-stu-id="743dd-108">In this topic:</span></span>

-   [<span data-ttu-id="743dd-109">Базовые диски</span><span class="sxs-lookup"><span data-stu-id="743dd-109">Basic Disks</span></span>](#basic-disks)
-   [<span data-ttu-id="743dd-110">Динамические диски</span><span class="sxs-lookup"><span data-stu-id="743dd-110">Dynamic Disks</span></span>](#dynamic-disks)
-   [<span data-ttu-id="743dd-111">Стили разделов</span><span class="sxs-lookup"><span data-stu-id="743dd-111">Partition Styles</span></span>](#partition-styles)
    -   [<span data-ttu-id="743dd-112">основная загрузочная запись (MBR).</span><span class="sxs-lookup"><span data-stu-id="743dd-112">Master Boot Record</span></span>](#master-boot-record)
    -   [<span data-ttu-id="743dd-113">таблица разделов GUID.</span><span class="sxs-lookup"><span data-stu-id="743dd-113">GUID Partition Table</span></span>](#guid-partition-table)
-   [<span data-ttu-id="743dd-114">Определение типа диска</span><span class="sxs-lookup"><span data-stu-id="743dd-114">Detecting the Type of Disk</span></span>](#detecting-the-type-of-disk)
-   [<span data-ttu-id="743dd-115">См. также</span><span class="sxs-lookup"><span data-stu-id="743dd-115">Related topics</span></span>](#related-topics)

<span data-ttu-id="743dd-116">Существует два типа дисков, ссылающихся на типы хранилищ в этом контексте: *базовые диски* и *динамические диски*.</span><span class="sxs-lookup"><span data-stu-id="743dd-116">There are two types of disks when referring to storage types in this context: *basic disks* and *dynamic disks*.</span></span> <span data-ttu-id="743dd-117">Обратите внимание, что описываемые здесь типы хранилищ не совпадают с физическими дисками или стилями разделов, которые связаны, но являются отдельными концепциями.</span><span class="sxs-lookup"><span data-stu-id="743dd-117">Note that the storage types discussed here are not the same as physical disks or partition styles, which are related but separate concepts.</span></span> <span data-ttu-id="743dd-118">Например, ссылка на базовый диск не подразумевает определенный стиль раздела — необходимо также указать стиль раздела, используемый для диска в обсуждении.</span><span class="sxs-lookup"><span data-stu-id="743dd-118">For example, referring to a basic disk does not imply a particular partition style—the partition style used for the disk under discussion would also need to be specified.</span></span> <span data-ttu-id="743dd-119">Упрощенное описание того, как базовый тип дискового накопителя связан с физическим жестким диском, см. в разделе [дисковые устройства и разделы](disk-devices-and-partitions.md).</span><span class="sxs-lookup"><span data-stu-id="743dd-119">For a simplified description of how a basic disk storage type relates to a physical hard disk, see [Disk Devices and Partitions](disk-devices-and-partitions.md).</span></span>

## <a name="basic-disks"></a><span data-ttu-id="743dd-120">Базовые диски</span><span class="sxs-lookup"><span data-stu-id="743dd-120">Basic Disks</span></span>

<span data-ttu-id="743dd-121">*Основные диски* — это типы хранилищ, наиболее часто используемые в Windows.</span><span class="sxs-lookup"><span data-stu-id="743dd-121">*Basic disks* are the storage types most often used with Windows.</span></span> <span data-ttu-id="743dd-122">Термин *базовый диск* относится к диску, содержащему разделы, такие как основные разделы и логические диски, которые, в свою очередь, обычно форматируются с помощью файловой системы и становятся томом для хранилища файлов.</span><span class="sxs-lookup"><span data-stu-id="743dd-122">The term *basic disk* refers to a disk that contains partitions, such as primary partitions and logical drives, and these in turn are usually formatted with a file system to become a volume for file storage.</span></span> <span data-ttu-id="743dd-123">Базовые диски предоставляют простое решение для хранения данных, которое может соответствовать удобному массиву сценариев изменения требований к хранилищу.</span><span class="sxs-lookup"><span data-stu-id="743dd-123">Basic disks provide a simple storage solution that can accommodate a useful array of changing storage requirement scenarios.</span></span> <span data-ttu-id="743dd-124">Базовые диски также поддерживают кластеризованные диски, институты гибких и аппаратных инженеров (IEEE) 1394 и съемные носители с универсальной последовательной шиной (USB).</span><span class="sxs-lookup"><span data-stu-id="743dd-124">Basic disks also support clustered disks, Institute of Electrical and Electronics Engineers (IEEE) 1394 disks, and universal serial bus (USB) removable drives.</span></span> <span data-ttu-id="743dd-125">Для обеспечения обратной совместимости базовые диски обычно используют тот же стиль разделов основной загрузочной записи (MBR), что и диски, используемые операционной системой Microsoft MS-DOS, и все версии Windows, но также **могут поддерживать разделы таблицы разделов GPT в** системах, поддерживающих эту возможность.</span><span class="sxs-lookup"><span data-stu-id="743dd-125">For backward compatibility, basic disks usually use the same Master Boot Record (MBR) partition style as the disks used by the Microsoft MS-DOS operating system and all versions of Windows but can also support **GUID** Partition Table (GPT) partitions on systems that support it.</span></span> <span data-ttu-id="743dd-126">Дополнительные сведения о стилях разделов MBR и GPT см. в разделе [стили разделов](#partition-styles) .</span><span class="sxs-lookup"><span data-stu-id="743dd-126">For more information about MBR and GPT partition styles, see the [Partition Styles](#partition-styles) section.</span></span>

<span data-ttu-id="743dd-127">Пространство в существующих основных разделах и на логических дисках можно увеличить за счет соседнего непрерывного нераспределенного пространства на том же диске.</span><span class="sxs-lookup"><span data-stu-id="743dd-127">You can add more space to existing primary partitions and logical drives by extending them into adjacent, contiguous unallocated space on the same disk.</span></span> <span data-ttu-id="743dd-128">Для расширения базовый том должен быть отформатирован с использованием файловой системы NTFS.</span><span class="sxs-lookup"><span data-stu-id="743dd-128">To extend a basic volume, it must be formatted with the NTFS file system.</span></span> <span data-ttu-id="743dd-129">Расширить логический диск можно с помощью непрерывного свободного пространства в содержащем его расширенном разделе.</span><span class="sxs-lookup"><span data-stu-id="743dd-129">You can extend a logical drive within contiguous free space in the extended partition that contains it.</span></span> <span data-ttu-id="743dd-130">Если расширить логический диск с использованием большего пространства, чем доступно в расширенном разделе, последний увеличивается, чтобы вместить логический диск, если за расширенным разделом следует непрерывное нераспределенное пространство.</span><span class="sxs-lookup"><span data-stu-id="743dd-130">If you extend a logical drive beyond the free space available in the extended partition, the extended partition grows to contain the logical drive as long as the extended partition is followed by contiguous unallocated space.</span></span> <span data-ttu-id="743dd-131">Дополнительные сведения см. в статье [как работают основные диски и тома](/previous-versions/windows/it-pro/windows-server-2003/cc739412(v=ws.10)).</span><span class="sxs-lookup"><span data-stu-id="743dd-131">For more information, see [How Basic Disks and Volumes Work](/previous-versions/windows/it-pro/windows-server-2003/cc739412(v=ws.10)).</span></span>

<span data-ttu-id="743dd-132">Следующие операции могут выполняться только на базовых дисках:</span><span class="sxs-lookup"><span data-stu-id="743dd-132">The following operations can be performed only on basic disks:</span></span>

-   <span data-ttu-id="743dd-133">Создание и удаление основных и дополнительных разделов.</span><span class="sxs-lookup"><span data-stu-id="743dd-133">Create and delete primary and extended partitions.</span></span>
-   <span data-ttu-id="743dd-134">Создание и удаление логических дисков в расширенном разделе.</span><span class="sxs-lookup"><span data-stu-id="743dd-134">Create and delete logical drives within an extended partition.</span></span>
-   <span data-ttu-id="743dd-135">Отформатируйте раздел и пометьте его как активный.</span><span class="sxs-lookup"><span data-stu-id="743dd-135">Format a partition and mark it as active.</span></span>

## <a name="dynamic-disks"></a><span data-ttu-id="743dd-136">Динамические диски</span><span class="sxs-lookup"><span data-stu-id="743dd-136">Dynamic Disks</span></span>

> [!NOTE]
> <span data-ttu-id="743dd-137">Для всех случаев использования, за исключением зеркальных томов загрузки (с использованием зеркального тома для размещения операционной системы), динамические диски являются устаревшими.</span><span class="sxs-lookup"><span data-stu-id="743dd-137">For all usages except mirror boot volumes (using a mirror volume to host the operating system), dynamic disks are deprecated.</span></span> <span data-ttu-id="743dd-138">Для данных, требующих устойчивости к сбою диска, используйте дисковые пространства — отказоустойчивое решение для виртуализации хранилища.</span><span class="sxs-lookup"><span data-stu-id="743dd-138">For data that requires resiliency against drive failure, use Storage Spaces, a resilient storage virtualization solution.</span></span> <span data-ttu-id="743dd-139">Дополнительные сведения см. в разделе [Общие сведения о дисковых пространствах](/windows-server/storage/storage-spaces/overview).</span><span class="sxs-lookup"><span data-stu-id="743dd-139">For more info, see [Storage Spaces Overview](/windows-server/storage/storage-spaces/overview).</span></span>

<span data-ttu-id="743dd-140">*Динамические диски* предоставляют функции, которые не являются базовыми дисками, например возможность создания томов, охватывающих несколько дисков (составные и чередующиеся тома), а также возможность создания отказоустойчивых томов (томов с зеркальным отображением и тома RAID 5).</span><span class="sxs-lookup"><span data-stu-id="743dd-140">*Dynamic disks* provide features that basic disks do not, such as the ability to create volumes that span multiple disks (spanned and striped volumes) and the ability to create fault-tolerant volumes (mirrored and RAID-5 volumes).</span></span> <span data-ttu-id="743dd-141">Как и базовые диски, динамические диски могут использовать стили разделов MBR или GPT в системах, поддерживающих оба.</span><span class="sxs-lookup"><span data-stu-id="743dd-141">Like basic disks, dynamic disks can use the MBR or GPT partition styles on systems that support both.</span></span> <span data-ttu-id="743dd-142">Все тома на динамических дисках называются динамическими томами.</span><span class="sxs-lookup"><span data-stu-id="743dd-142">All volumes on dynamic disks are known as dynamic volumes.</span></span> <span data-ttu-id="743dd-143">Динамические диски обеспечивают большую гибкость в управлении томами, так как они используют базу данных для мониторинга сведений о динамических томах на диске и о других динамических дисках компьютера.</span><span class="sxs-lookup"><span data-stu-id="743dd-143">Dynamic disks offer greater flexibility for volume management because they use a database to track information about dynamic volumes on the disk and about other dynamic disks in the computer.</span></span> <span data-ttu-id="743dd-144">Так как каждый динамический диск в компьютере хранит реплику базы данных динамического диска, например, поврежденная база данных динамического диска может восстановить один динамический диск с помощью базы данных на другом динамическом диске.</span><span class="sxs-lookup"><span data-stu-id="743dd-144">Because each dynamic disk in a computer stores a replica of the dynamic disk database, for example, a corrupted dynamic disk database can repair one dynamic disk by using the database on another dynamic disk.</span></span> <span data-ttu-id="743dd-145">Расположение базы данных определяется стилем раздела диска.</span><span class="sxs-lookup"><span data-stu-id="743dd-145">The location of the database is determined by the partition style of the disk.</span></span> <span data-ttu-id="743dd-146">В MBR-разделах база данных хранится за последние 1 мегабайт (МБ) диска.</span><span class="sxs-lookup"><span data-stu-id="743dd-146">On MBR partitions, the database is contained in the last 1 megabyte (MB) of the disk.</span></span> <span data-ttu-id="743dd-147">В разделах GPT база данных содержится в зарезервированной (скрытой) секции размером 1 МБ.</span><span class="sxs-lookup"><span data-stu-id="743dd-147">On GPT partitions, the database is contained in a 1-MB reserved (hidden) partition.</span></span>

<span data-ttu-id="743dd-148">Динамические диски — это отдельные формы управления томами, которые позволяют томам иметь несмежные экстенты на одном или нескольких физических дисках.</span><span class="sxs-lookup"><span data-stu-id="743dd-148">Dynamic disks are a separate form of volume management that allows volumes to have noncontiguous extents on one or more physical disks.</span></span> <span data-ttu-id="743dd-149">Динамические диски и тома зависят от диспетчера логических дисков (LDM) и службы виртуальных дисков (VDS) и связанных с ними функций.</span><span class="sxs-lookup"><span data-stu-id="743dd-149">Dynamic disks and volumes rely on the Logical Disk Manager (LDM) and Virtual Disk Service (VDS) and their associated features.</span></span> <span data-ttu-id="743dd-150">Эти функции позволяют выполнять такие задачи, как преобразование базовых дисков в динамические диски и создание отказоустойчивых томов.</span><span class="sxs-lookup"><span data-stu-id="743dd-150">These features enable you to perform tasks such as converting basic disks into dynamic disks, and creating fault-tolerant volumes.</span></span> <span data-ttu-id="743dd-151">Чтобы обеспечить использование динамических дисков, поддержка томов с несколькими разделами была удалена с базовых дисков и теперь поддерживается исключительно на динамических дисках.</span><span class="sxs-lookup"><span data-stu-id="743dd-151">To encourage the use of dynamic disks, multi-partition volume support was removed from basic disks, and is now exclusively supported on dynamic disks.</span></span>

<span data-ttu-id="743dd-152">Следующие операции могут выполняться только на динамических дисках:</span><span class="sxs-lookup"><span data-stu-id="743dd-152">The following operations can be performed only on dynamic disks:</span></span>

-   <span data-ttu-id="743dd-153">Создание и удаление простых, составных, чередующихся, зеркальных и RAID-5 томов.</span><span class="sxs-lookup"><span data-stu-id="743dd-153">Create and delete simple, spanned, striped, mirrored, and RAID-5 volumes.</span></span>
-   <span data-ttu-id="743dd-154">Расширение простого или составного тома.</span><span class="sxs-lookup"><span data-stu-id="743dd-154">Extend a simple or spanned volume.</span></span>
-   <span data-ttu-id="743dd-155">Удалите зеркало из зеркального тома или разбейте зеркальный том на два тома.</span><span class="sxs-lookup"><span data-stu-id="743dd-155">Remove a mirror from a mirrored volume or break the mirrored volume into two volumes.</span></span>
-   <span data-ttu-id="743dd-156">Исправьте тома с зеркальным отображением или RAID-5.</span><span class="sxs-lookup"><span data-stu-id="743dd-156">Repair mirrored or RAID-5 volumes.</span></span>
-   <span data-ttu-id="743dd-157">Повторно активируйте отсутствующий или отключенный диск.</span><span class="sxs-lookup"><span data-stu-id="743dd-157">Reactivate a missing or offline disk.</span></span>

<span data-ttu-id="743dd-158">Еще одно различие между базовыми и динамическими дисками заключается в том, что динамические тома диска могут состоять из набора несмежных экстентов на одном или нескольких физических дисках.</span><span class="sxs-lookup"><span data-stu-id="743dd-158">Another difference between basic and dynamic disks is that dynamic disk volumes can be composed of a set of noncontiguous extents on one or multiple physical disks.</span></span> <span data-ttu-id="743dd-159">В отличие от этого, том на базовом диске состоит из одного набора непрерывных экстентов на одном диске.</span><span class="sxs-lookup"><span data-stu-id="743dd-159">By contrast, a volume on a basic disk consists of one set of contiguous extents on a single disk.</span></span> <span data-ttu-id="743dd-160">Из-за расположения и размера дискового пространства, необходимого для базы данных LDM, Windows не может преобразовать базовый диск в динамический, если на диске не должно быть не менее 1 МБ неиспользуемого пространства.</span><span class="sxs-lookup"><span data-stu-id="743dd-160">Because of the location and size of the disk space needed by the LDM database, Windows cannot convert a basic disk to a dynamic disk unless there is at least 1 MB of unused space on the disk.</span></span>

<span data-ttu-id="743dd-161">Независимо от того, использует ли динамические диски в системе стиль разделов MBR или GPT, можно создать до 2 000 динамических томов в системе, хотя рекомендуемое число динамических томов — 32 или меньше.</span><span class="sxs-lookup"><span data-stu-id="743dd-161">Regardless of whether the dynamic disks on a system use the MBR or GPT partition style, you can create up to 2,000 dynamic volumes on a system, although the recommended number of dynamic volumes is 32 or less.</span></span> <span data-ttu-id="743dd-162">Дополнительные сведения и другие рекомендации по использованию динамических дисков и томов см. в разделе [динамические диски и тома](/previous-versions/windows/it-pro/windows-server-2003/cc757696(v=ws.10)).</span><span class="sxs-lookup"><span data-stu-id="743dd-162">For details and other considerations about using dynamic disks and volumes, see [Dynamic disks and volumes](/previous-versions/windows/it-pro/windows-server-2003/cc757696(v=ws.10)).</span></span>

<span data-ttu-id="743dd-163">Дополнительные возможности и сценарии использования динамических дисков см. в разделе [что такое динамические диски и тома?](/previous-versions/windows/it-pro/windows-server-2003/cc737048(v=ws.10)).</span><span class="sxs-lookup"><span data-stu-id="743dd-163">For more features of and usage scenarios for dynamic disks, see [What Are Dynamic Disks and Volumes?](/previous-versions/windows/it-pro/windows-server-2003/cc737048(v=ws.10)).</span></span>

<span data-ttu-id="743dd-164">Ниже перечислены операции, общие для базовых и динамических дисков.</span><span class="sxs-lookup"><span data-stu-id="743dd-164">The operations common to basic and dynamic disks are the following:</span></span>

-   <span data-ttu-id="743dd-165">Поддержка стилей разделов MBR и GPT.</span><span class="sxs-lookup"><span data-stu-id="743dd-165">Support both MBR and GPT partition styles.</span></span>
-   <span data-ttu-id="743dd-166">Проверьте свойства диска, такие как емкость, доступное свободное пространство и текущее состояние.</span><span class="sxs-lookup"><span data-stu-id="743dd-166">Check disk properties, such as capacity, available free space, and current status.</span></span>
-   <span data-ttu-id="743dd-167">Просмотр свойств секции, таких как смещение, длина, тип, и, если секция может использоваться в качестве системного тома при загрузке.</span><span class="sxs-lookup"><span data-stu-id="743dd-167">View partition properties, such as offset, length, type, and if the partition can be used as the system volume at boot.</span></span>
-   <span data-ttu-id="743dd-168">Просмотр свойств тома, таких как размер, назначение буквы диска, метка, тип, имя пути Win32, тип секции и файловая система.</span><span class="sxs-lookup"><span data-stu-id="743dd-168">View volume properties, such as size, drive-letter assignment, label, type, Win32 path name, partition type, and file system.</span></span>
-   <span data-ttu-id="743dd-169">Установите назначения букв дисков для томов или разделов диска, а также для устройств чтения компакт-дисков.</span><span class="sxs-lookup"><span data-stu-id="743dd-169">Establish drive-letter assignments for disk volumes or partitions, and for CD-ROM devices.</span></span>
-   <span data-ttu-id="743dd-170">Преобразование базового диска в динамический диск или динамического диска на базовый диск.</span><span class="sxs-lookup"><span data-stu-id="743dd-170">Convert a basic disk to a dynamic disk, or a dynamic disk to a basic disk.</span></span>

<span data-ttu-id="743dd-171">Если не указано иное, Windows изначально разделяет диск как базовый диск по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="743dd-171">Unless specified otherwise, Windows initially partitions a drive as a basic disk by default.</span></span> <span data-ttu-id="743dd-172">Необходимо явным образом преобразовать базовый диск в динамический.</span><span class="sxs-lookup"><span data-stu-id="743dd-172">You must explicitly convert a basic disk to a dynamic disk.</span></span> <span data-ttu-id="743dd-173">Тем не менее существуют рекомендации относительно места на диске, которые необходимо учитывать перед тем, как вы попытаетесь сделать это.</span><span class="sxs-lookup"><span data-stu-id="743dd-173">However, there are disk space considerations that must be accounted for before you attempt to do this.</span></span> <span data-ttu-id="743dd-174">Дополнительные сведения см. в статье [Преобразование в базовые и динамические диски в Windows XP Professional](https://support.microsoft.com/kb/309044).</span><span class="sxs-lookup"><span data-stu-id="743dd-174">For more information, see [How To Convert to Basic and Dynamic Disks in Windows XP Professional](https://support.microsoft.com/kb/309044).</span></span>

## <a name="partition-styles"></a><span data-ttu-id="743dd-175">Стили разделов</span><span class="sxs-lookup"><span data-stu-id="743dd-175">Partition Styles</span></span>

<span data-ttu-id="743dd-176">*Стили секций*, иногда называемые *схемами секционирования*, являются термином, указывающим на конкретную базовую структуру структуры диска и то, как на самом деле упорядочивается секционирование, каковы возможности, а также ограничения.</span><span class="sxs-lookup"><span data-stu-id="743dd-176">*Partition styles*, also sometimes called *partition schemes*, is a term that refers to the particular underlying structure of the disk layout and how the partitioning is actually arranged, what the capabilities are, and also what the limitations are.</span></span> <span data-ttu-id="743dd-177">Для загрузки Windows в реализации BIOS на компьютерах с архитектурой x86 и x64 требуется базовый диск, который должен содержать по крайней мере один раздел основной загрузочной записи (MBR), помеченный как активный, где содержатся сведения о операционной системе Windows (но не обязательно об установке всей операционной системы), а также о том, где хранятся сведения о секциях на диске.</span><span class="sxs-lookup"><span data-stu-id="743dd-177">To boot Windows, the BIOS implementations in x86-based and x64-based computers require a basic disk that must contain at least one master boot record (MBR) partition marked as active where information about the Windows operating system (but not necessarily the entire operating system installation) and where information about the partitions on the disk are stored.</span></span> <span data-ttu-id="743dd-178">Эти сведения помещаются в отдельные места, и эти два расположения могут размещаться в отдельных разделах или в одном разделе.</span><span class="sxs-lookup"><span data-stu-id="743dd-178">This information is placed in separate places, and these two places may be located in separate partitions or in a single partition.</span></span> <span data-ttu-id="743dd-179">Все остальные физические диски могут быть настроены в качестве различных сочетаний двух доступных стилей разделов, описанных в следующих разделах.</span><span class="sxs-lookup"><span data-stu-id="743dd-179">All other physical disk storage can be set up as various combinations of the two available partition styles, described in the following sections.</span></span> <span data-ttu-id="743dd-180">Дополнительные сведения о других типах систем см. в разделе о [стилях разделов](/previous-versions/windows/it-pro/windows-server-2003/cc738081(v=ws.10))TechNet.</span><span class="sxs-lookup"><span data-stu-id="743dd-180">For more information about other system types, see the TechNet topic on [partition styles](/previous-versions/windows/it-pro/windows-server-2003/cc738081(v=ws.10)).</span></span>

<span data-ttu-id="743dd-181">Динамические диски следуют слегка отличающимся сценариям использования, как описано выше, и способ применения этих двух стилей разделов.</span><span class="sxs-lookup"><span data-stu-id="743dd-181">Dynamic disks follow slightly different usage scenarios, as previously outlined, and the way they utilize the two partition styles is affected by that usage.</span></span> <span data-ttu-id="743dd-182">Так как динамические диски обычно не используются для хранения системных загрузочных томов, в этом обсуждении упрощено исключение сценариев особых случаев.</span><span class="sxs-lookup"><span data-stu-id="743dd-182">Because dynamic disks are not generally used to contain system boot volumes, this discussion is simplified to exclude special-case scenarios.</span></span> <span data-ttu-id="743dd-183">Дополнительные сведения о структурах блоков данных разделов, а также о базовых и динамических сценариях использования диска, связанных со стилями разделов, см. в статье [как работают базовые диски и тома](/previous-versions/windows/it-pro/windows-server-2003/cc739412(v=ws.10)) и [как работают динамические диски и тома](/previous-versions/windows/it-pro/windows-server-2003/cc758035(v=ws.10)).</span><span class="sxs-lookup"><span data-stu-id="743dd-183">For more detailed information about partition data block layouts, and basic or dynamic disk usage scenarios related to partition styles, see [How Basic Disks and Volumes Work](/previous-versions/windows/it-pro/windows-server-2003/cc739412(v=ws.10)) and [How Dynamic Disks and Volumes Work](/previous-versions/windows/it-pro/windows-server-2003/cc758035(v=ws.10)).</span></span>

### <a name="master-boot-record"></a><span data-ttu-id="743dd-184">основная загрузочная запись (MBR).</span><span class="sxs-lookup"><span data-stu-id="743dd-184">Master Boot Record</span></span>

<span data-ttu-id="743dd-185">Все компьютеры на базе x86 и x64, работающие под управлением Windows, могут использовать стиль разделов, известный как *Основная загрузочная запись* (MBR).</span><span class="sxs-lookup"><span data-stu-id="743dd-185">All x86-based and x64-based computers running Windows can use the partition style known as *master boot record* (MBR).</span></span> <span data-ttu-id="743dd-186">Стиль раздела MBR содержит таблицу разделов, в которой содержатся сведения о том, где находятся секции на диске.</span><span class="sxs-lookup"><span data-stu-id="743dd-186">The MBR partition style contains a partition table that describes where the partitions are located on the disk.</span></span> <span data-ttu-id="743dd-187">Поскольку MBR является единственным стилем разделов, доступным на компьютерах на базе процессоров x86 до выхода Windows Server 2003 с пакетом обновления 1 (SP1), нет необходимости выбирать этот стиль.</span><span class="sxs-lookup"><span data-stu-id="743dd-187">Because MBR is the only partition style available on x86-based computers prior to Windows Server 2003 with Service Pack 1 (SP1), you do not need to choose this style.</span></span> <span data-ttu-id="743dd-188">Он используется автоматически.</span><span class="sxs-lookup"><span data-stu-id="743dd-188">It is used automatically.</span></span>

<span data-ttu-id="743dd-189">На базовом диске можно создать до четырех разделов, используя схему разделов MBR: четыре основных раздела, три первичных и один расширенные.</span><span class="sxs-lookup"><span data-stu-id="743dd-189">You can create up to four partitions on a basic disk using the MBR partition scheme: either four primary partitions, or three primary and one extended.</span></span> <span data-ttu-id="743dd-190">Расширенный раздел может содержать один или несколько логических дисков.</span><span class="sxs-lookup"><span data-stu-id="743dd-190">The extended partition can contain one or more logical drives.</span></span> <span data-ttu-id="743dd-191">На следующем рисунке показан пример макета для трех основных разделов и один дополнительный раздел на базовом диске с использованием MBR.</span><span class="sxs-lookup"><span data-stu-id="743dd-191">The following figure illustrates an example layout of three primary partitions and one extended partition on a basic disk using MBR.</span></span> <span data-ttu-id="743dd-192">В расширенном разделе содержится четыре дополнительных логических диска.</span><span class="sxs-lookup"><span data-stu-id="743dd-192">The extended partition contains four extended logical drives within it.</span></span> <span data-ttu-id="743dd-193">Расширенный раздел может находиться в конце диска или не располагаться в нем, но для логических дисков с 1 по n всегда используется одно непрерывное пространство.</span><span class="sxs-lookup"><span data-stu-id="743dd-193">The extended partition may or may not be located at the end of the disk, but it is always a single contiguous space for logical drives 1-n.</span></span>

![три основных раздела и один дополнительный раздел на базовом диске с использованием MBR](images/basic-mbr.png)

<span data-ttu-id="743dd-195">Каждая секция (первичная или расширенная) может быть отформатирована как том Windows с корреляцией "один к одному".</span><span class="sxs-lookup"><span data-stu-id="743dd-195">Each partition, whether primary or extended, can be formatted to be a Windows volume, with a one-to-one correlation of volume-to-partition.</span></span> <span data-ttu-id="743dd-196">Иными словами, одна секция не может содержать более одного тома.</span><span class="sxs-lookup"><span data-stu-id="743dd-196">In other words, a single partition cannot contain more than a single volume.</span></span> <span data-ttu-id="743dd-197">В этом примере для хранения файлов в Windows доступно семь томов.</span><span class="sxs-lookup"><span data-stu-id="743dd-197">In this example, there would be a total of seven volumes available to Windows for file storage.</span></span> <span data-ttu-id="743dd-198">Неформатированный раздел недоступен для хранилища файлов в Windows.</span><span class="sxs-lookup"><span data-stu-id="743dd-198">An unformatted partition is not available for file storage in Windows.</span></span>

<span data-ttu-id="743dd-199">Структура MBR динамического диска очень похожа на структуру основного диска MBR, за исключением того, что допускается только один основной раздел (называемый разделом LDM), расширенное секционирование не разрешается, и в конце диска для базы данных LDM имеется скрытая секция.</span><span class="sxs-lookup"><span data-stu-id="743dd-199">The dynamic disk MBR layout looks very similar to the basic disk MBR layout, except that only one primary partition is allowed (referred to as the LDM partition), no extended partitioning is allowed, and there is a hidden partition at the end of the disk for the LDM database.</span></span> <span data-ttu-id="743dd-200">Дополнительные сведения о LDM см. в разделе [динамические диски](#basic-and-dynamic-disks) .</span><span class="sxs-lookup"><span data-stu-id="743dd-200">For more information on the LDM, see the [Dynamic Disks](#basic-and-dynamic-disks) section.</span></span>

### <a name="guid-partition-table"></a><span data-ttu-id="743dd-201">таблица разделов GUID.</span><span class="sxs-lookup"><span data-stu-id="743dd-201">GUID Partition Table</span></span>

<span data-ttu-id="743dd-202">В системах под Windows Server 2003 с пакетом обновления 1 (SP1) и более поздних версий в дополнение к стилю раздела MBR можно использовать стиль разделов, известный как таблица разделов (**GUID**) для глобального уникального идентификатора (GPT).</span><span class="sxs-lookup"><span data-stu-id="743dd-202">Systems running Windows Server 2003 with SP1 and later can use a partition style known as the globally unique identifier (**GUID**) partition table (GPT) in addition to the MBR partition style.</span></span> <span data-ttu-id="743dd-203">Базовый диск, использующий стиль разделов GPT, может иметь до 128 основных разделов, в то время как динамические диски будут иметь один раздел LDM с разделением MBR.</span><span class="sxs-lookup"><span data-stu-id="743dd-203">A basic disk using the GPT partition style can have up to 128 primary partitions, while dynamic disks will have a single LDM partition as with MBR partitioning.</span></span> <span data-ttu-id="743dd-204">Поскольку базовые диски, использующие секционирование GPT, не ограничивают вас четырьмя секциями, создавать расширенные разделы или логические диски не требуется.</span><span class="sxs-lookup"><span data-stu-id="743dd-204">Because basic disks using GPT partitioning do not limit you to four partitions, you do not need to create extended partitions or logical drives.</span></span>

<span data-ttu-id="743dd-205">Стиль раздела GPT также имеет следующие свойства.</span><span class="sxs-lookup"><span data-stu-id="743dd-205">The GPT partition style also has the following properties:</span></span>

-   <span data-ttu-id="743dd-206">Допускает разделы размером более 2 терабайт.</span><span class="sxs-lookup"><span data-stu-id="743dd-206">Allows partitions larger than 2 terabytes.</span></span>
-   <span data-ttu-id="743dd-207">Добавлена надежность репликации и циклической проверки избыточности (CRC) таблицы Partition.</span><span class="sxs-lookup"><span data-stu-id="743dd-207">Added reliability from replication and cyclic redundancy check (CRC) protection of the partition table.</span></span>
-   <span data-ttu-id="743dd-208">Поддержка дополнительных **идентификаторов GUID** типа раздела, определенных производителями оборудования (OEM), независимыми поставщиками программного обеспечения и другими операционными системами.</span><span class="sxs-lookup"><span data-stu-id="743dd-208">Support for additional partition type **GUID** s defined by original equipment manufacturers (OEMs), independent software vendors (ISVs), and other operating systems.</span></span>

<span data-ttu-id="743dd-209">Схема секционирования GPT для базового диска показана на следующем рисунке.</span><span class="sxs-lookup"><span data-stu-id="743dd-209">The GPT partitioning layout for a basic disk is illustrated in the following figure.</span></span>

![макет GPT](images/basic-gpt.png)

<span data-ttu-id="743dd-211">Защитная область MBR существует в разметке разделов GPT для обеспечения обратной совместимости с служебными программами управления дисками, работающими с MBR.</span><span class="sxs-lookup"><span data-stu-id="743dd-211">The protective MBR area exists on a GPT partition layout for backward compatibility with disk management utilities that operate on MBR.</span></span> <span data-ttu-id="743dd-212">Заголовок GPT определяет диапазон адресов логических блоков, которые можно использовать в записях секций.</span><span class="sxs-lookup"><span data-stu-id="743dd-212">The GPT header defines the range of logical block addresses that are usable by partition entries.</span></span> <span data-ttu-id="743dd-213">Заголовок GPT также определяет расположение на диске, его **GUID** и контрольную сумму 32-битной циклической проверки избыточности (CRC32), которая используется для проверки целостности заголовка GPT.</span><span class="sxs-lookup"><span data-stu-id="743dd-213">The GPT header also defines its location on the disk, its **GUID**, and a 32-bit cyclic redundancy check (CRC32) checksum that is used to verify the integrity of the GPT header.</span></span> <span data-ttu-id="743dd-214">Каждая запись раздела **GUID** начинается с GUID типа секции.</span><span class="sxs-lookup"><span data-stu-id="743dd-214">Each **GUID** partition entry begins with a partition type GUID.</span></span> <span data-ttu-id="743dd-215">**Идентификатор GUID** типа секции 16 байт, АНАЛОГИЧный идентификатору системы в таблице разделов диска MBR, определяет тип данных, содержащихся в секции, и определяет способ использования раздела, например, если это базовый диск или динамический диск.</span><span class="sxs-lookup"><span data-stu-id="743dd-215">The 16-byte partition type **GUID**, which is similar to a System ID in the partition table of an MBR disk, identifies the type of data that the partition contains and identifies how the partition is used, for example if it is a basic disk or a dynamic disk.</span></span> <span data-ttu-id="743dd-216">Обратите внимание, что каждая запись раздела **GUID** имеет резервную копию.</span><span class="sxs-lookup"><span data-stu-id="743dd-216">Note that each **GUID** partition entry has a backup copy.</span></span>

<span data-ttu-id="743dd-217">Структура динамических дисковых разделов **GPT** похожа на этот базовый пример диска, но, как уже упоминалось ранее, у него есть только одна запись раздела LDM, а не 1-n основных разделов, как разрешено на базовых дисках.</span><span class="sxs-lookup"><span data-stu-id="743dd-217">Dynamic disk **GPT** partition layouts looks similar to this basic disk example, but as stated previously have only one LDM partition entry rather than 1-n primary partitions as allowed on basic disks.</span></span> <span data-ttu-id="743dd-218">Кроме того, существует скрытая Секция базы данных LDM с соответствующей записью раздела **GUID** .</span><span class="sxs-lookup"><span data-stu-id="743dd-218">There is also a hidden LDM database partition with a corresponding **GUID** partition entry for it.</span></span> <span data-ttu-id="743dd-219">Дополнительные сведения о LDM см. в разделе [динамические диски](#basic-and-dynamic-disks) .</span><span class="sxs-lookup"><span data-stu-id="743dd-219">For more information on the LDM, see the [Dynamic Disks](#basic-and-dynamic-disks) section.</span></span>

## <a name="detecting-the-type-of-disk"></a><span data-ttu-id="743dd-220">Определение типа диска</span><span class="sxs-lookup"><span data-stu-id="743dd-220">Detecting the Type of Disk</span></span>

<span data-ttu-id="743dd-221">Нет специальных функций для программного обнаружения типа диска, на котором находится определенный файл или каталог.</span><span class="sxs-lookup"><span data-stu-id="743dd-221">There is no specific function to programmatically detect the type of disk a particular file or directory is located on.</span></span> <span data-ttu-id="743dd-222">Существует косвенный метод.</span><span class="sxs-lookup"><span data-stu-id="743dd-222">There is an indirect method.</span></span>

* <span data-ttu-id="743dd-223">Передайте путь к файлу или каталогу [**жетволумепаснаме**](/windows/desktop/api/FileAPI/nf-fileapi-getvolumepathnamew) для получения точки подключения.</span><span class="sxs-lookup"><span data-stu-id="743dd-223">Pass the file or directory path to [**GetVolumePathName**](/windows/desktop/api/FileAPI/nf-fileapi-getvolumepathnamew) to obtain the mount point.</span></span>
* <span data-ttu-id="743dd-224">Передайте точку подключения в [**жетволуменамефорволумемаунтпоинт**](/windows/desktop/api/FileAPI/nf-fileapi-getvolumenameforvolumemountpointw) , чтобы получить имя тома.</span><span class="sxs-lookup"><span data-stu-id="743dd-224">Pass the mount point to [**GetVolumeNameForVolumeMountPoint**](/windows/desktop/api/FileAPI/nf-fileapi-getvolumenameforvolumemountpointw) to obtain the volume name.</span></span>
* <span data-ttu-id="743dd-225">Удалите обратную косую черту в конце имени тома.</span><span class="sxs-lookup"><span data-stu-id="743dd-225">Remove the trailing backslash from the volume name.</span></span>
* <span data-ttu-id="743dd-226">Передайте имя тома без обратной косой черты в [**CreateFile**](/windows/desktop/api/FileAPI/nf-fileapi-createfilea) для открытия тома.</span><span class="sxs-lookup"><span data-stu-id="743dd-226">Pass the volume name without the trailing backslash to [**CreateFile**](/windows/desktop/api/FileAPI/nf-fileapi-createfilea) to open the volume.</span></span>
* <span data-ttu-id="743dd-227">Чтобы получить номера дисков, используйте параметр [**ioctl \_ Volume \_ Получение \_ \_ дисковых \_ областей тома**](/windows/desktop/api/WinIoCtl/ni-winioctl-ioctl_volume_get_volume_disk_extents) с помощью маркера тома.</span><span class="sxs-lookup"><span data-stu-id="743dd-227">Use [**IOCTL\_VOLUME\_GET\_VOLUME\_DISK\_EXTENTS**](/windows/desktop/api/WinIoCtl/ni-winioctl-ioctl_volume_get_volume_disk_extents) with the volume handle to obtain the disk numbers.</span></span>
* <span data-ttu-id="743dd-228">Используйте номера дисков для создания путей к дискам, например " \\ \\ ? \\ Фисикалдриве *X*".</span><span class="sxs-lookup"><span data-stu-id="743dd-228">Use the disk numbers to construct the disk paths, such as "\\\\?\\PhysicalDrive *X*".</span></span>
* <span data-ttu-id="743dd-229">Передайте каждый дисковый путь в [**CreateFile**](/windows/desktop/api/FileAPI/nf-fileapi-createfilea) , чтобы открыть диск.</span><span class="sxs-lookup"><span data-stu-id="743dd-229">Pass each disk path to [**CreateFile**](/windows/desktop/api/FileAPI/nf-fileapi-createfilea) to open the disk.</span></span>
* <span data-ttu-id="743dd-230">Чтобы получить список секций, используйте [**ioctl \_ Disk \_ получить \_ \_ структуру диска \_ ex**](/windows/desktop/api/WinIoCtl/ni-winioctl-ioctl_disk_get_drive_layout_ex) .</span><span class="sxs-lookup"><span data-stu-id="743dd-230">Use [**IOCTL\_DISK\_GET\_DRIVE\_LAYOUT\_EX**](/windows/desktop/api/WinIoCtl/ni-winioctl-ioctl_disk_get_drive_layout_ex) to obtain the partition list.</span></span>
* <span data-ttu-id="743dd-231">Проверьте **PartitionType** для каждой записи в списке секций.</span><span class="sxs-lookup"><span data-stu-id="743dd-231">Check the **PartitionType** for each entry in the partition list.</span></span>

## <a name="related-topics"></a><span data-ttu-id="743dd-232">См. также</span><span class="sxs-lookup"><span data-stu-id="743dd-232">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="743dd-233">Об управлении томами</span><span class="sxs-lookup"><span data-stu-id="743dd-233">About Volume Management</span></span>](about-volume-management.md)
</dt> <dt>

<span data-ttu-id="743dd-234">[Технический справочник по основным дискам и томам](/previous-versions/windows/it-pro/windows-server-2003/cc784732(v=ws.10))</span><span class="sxs-lookup"><span data-stu-id="743dd-234">[Basic Disks and Volumes Technical Reference](/previous-versions/windows/it-pro/windows-server-2003/cc784732(v=ws.10))</span></span>
</dt> <dt>

<span data-ttu-id="743dd-235">[Технический справочник по динамическим дискам и томам](/previous-versions/windows/it-pro/windows-server-2003/cc785638(v=ws.10))</span><span class="sxs-lookup"><span data-stu-id="743dd-235">[Dynamic Disks and Volumes Technical Reference](/previous-versions/windows/it-pro/windows-server-2003/cc785638(v=ws.10))</span></span>
</dt> <dt>

[<span data-ttu-id="743dd-236">Базовое хранилище и динамическое хранилище в Windows XP</span><span class="sxs-lookup"><span data-stu-id="743dd-236">Basic Storage Versus Dynamic Storage in Windows XP</span></span>]( https://support.microsoft.com/kb/314343/)
</dt> </dl>

 

 
