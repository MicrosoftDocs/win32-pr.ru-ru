---
description: Если данные согласованы, данные на сервере и все клиенты синхронизируются. Один из типов программной системы, обеспечивающей согласованность данных, — это система контроля версий (RCS).
ms.assetid: cd33d20e-bf25-4a50-9b20-344495554434
title: Согласование данных
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: f300296ff0fdc807beb95e2c03662814957bedb7
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "103912316"
---
# <a name="data-coherency"></a><span data-ttu-id="5dd1f-104">Согласование данных</span><span class="sxs-lookup"><span data-stu-id="5dd1f-104">Data Coherency</span></span>

<span data-ttu-id="5dd1f-105">*Согласованные* данные — это данные, которые являются одинаковыми по сети.</span><span class="sxs-lookup"><span data-stu-id="5dd1f-105">Data that is *coherent* is data that is the same across the network.</span></span> <span data-ttu-id="5dd1f-106">Иными словами, если данные согласованы, данные на сервере и все клиенты синхронизируются.</span><span class="sxs-lookup"><span data-stu-id="5dd1f-106">In other words, if data is coherent, data on the server and all the clients is synchronized.</span></span> <span data-ttu-id="5dd1f-107">Один из типов программной системы, обеспечивающей согласованность данных, — это система контроля версий (RCS).</span><span class="sxs-lookup"><span data-stu-id="5dd1f-107">One type of software system that provides data coherency is a revision control system (RCS).</span></span> <span data-ttu-id="5dd1f-108">Такая система обычно довольно проста, и только один пользователь может изменять указанный файл за раз.</span><span class="sxs-lookup"><span data-stu-id="5dd1f-108">Such a system is usually fairly simple, with only one user allowed to modify a specified file at a time.</span></span> <span data-ttu-id="5dd1f-109">Другие пользователи могут читать файл, но не могут его изменять.</span><span class="sxs-lookup"><span data-stu-id="5dd1f-109">Others can read the file but cannot change it.</span></span>

<span data-ttu-id="5dd1f-110">Пользователь, который может изменить файл, называется извлеченным. Затем пользователь возвращает измененный файл, чтобы другие пользователи могли видеть изменения.</span><span class="sxs-lookup"><span data-stu-id="5dd1f-110">The user who can change a file is said to have checked it out. The user then checks in the modified file so that others may see the changes.</span></span> <span data-ttu-id="5dd1f-111">Только после того, как пользователь проверил файл обратно, пользователь сможет проверить его.</span><span class="sxs-lookup"><span data-stu-id="5dd1f-111">Only after the user has checked a file back in can another user check it out.</span></span>

<span data-ttu-id="5dd1f-112">Для работы удаленного консольного коммутатора требуется активное вмешательство пользователей в пользу.</span><span class="sxs-lookup"><span data-stu-id="5dd1f-112">An RCS requires the active intervention of users to operate in a useful manner.</span></span> <span data-ttu-id="5dd1f-113">Файловая система, работающая в сети, должна автоматически решить проблему.</span><span class="sxs-lookup"><span data-stu-id="5dd1f-113">A file system that operates across a network should handle the problem automatically.</span></span>

<span data-ttu-id="5dd1f-114">Локальное кэширование связанных данных довольно просто, если один поток на одном клиенте получает доступ к файлу по сети за раз.</span><span class="sxs-lookup"><span data-stu-id="5dd1f-114">Providing local caching of coherent data is fairly simple when you have one thread on one client accessing a file across the network at a time.</span></span> <span data-ttu-id="5dd1f-115">Однако в большинстве случаев многие потоки на одном или нескольких компьютерах могут читать один и тот же файл.</span><span class="sxs-lookup"><span data-stu-id="5dd1f-115">However, in most situations many different threads on one or more computers may be reading the same file.</span></span> <span data-ttu-id="5dd1f-116">Эта ситуация по-прежнему довольно проста.</span><span class="sxs-lookup"><span data-stu-id="5dd1f-116">This situation is still fairly straightforward.</span></span> <span data-ttu-id="5dd1f-117">Поскольку данные в файле являются статическими, каждый клиентский компьютер может иметь собственную локальную копию без каких-либо последствий для согласования данных.</span><span class="sxs-lookup"><span data-stu-id="5dd1f-117">Because the data in the file is static, each client computer can have its own local copy with no implications for data coherency.</span></span>

<span data-ttu-id="5dd1f-118">Более распространенная ситуация — один поток, который изменяет файл, и многие другие потоки, считывающие его.</span><span class="sxs-lookup"><span data-stu-id="5dd1f-118">A more common situation is one thread modifying the file, and a lot of other threads reading it.</span></span> <span data-ttu-id="5dd1f-119">Когда происходит операция записи, все локальные кэши этого файла являются устаревшими.</span><span class="sxs-lookup"><span data-stu-id="5dd1f-119">The moment a write operation occurs, all of the local caches of that file are obsolete.</span></span> <span data-ttu-id="5dd1f-120">Сервер должен уведомлять каждого клиента о необходимости отказаться от своего кэша.</span><span class="sxs-lookup"><span data-stu-id="5dd1f-120">The server must notify each client to abandon its cache.</span></span> <span data-ttu-id="5dd1f-121">Все последующие операции чтения для файла должны выполняться по сети.</span><span class="sxs-lookup"><span data-stu-id="5dd1f-121">Any subsequent read operations for the file must be performed across the network.</span></span>

<span data-ttu-id="5dd1f-122">В другой распространенной ситуации несколько потоков на одном или нескольких сетевых клиентах могут пытаться выполнить запись в один и тот же файл.</span><span class="sxs-lookup"><span data-stu-id="5dd1f-122">In another common situation, multiple threads on one or more network clients might try to write to the same file.</span></span> <span data-ttu-id="5dd1f-123">Эта ситуация аналогична той, в которой несколько пользователей удаленного консольного коммутатора должны вносить изменения в один и тот же файл.</span><span class="sxs-lookup"><span data-stu-id="5dd1f-123">This situation is similar to a one in which several RCS users all want to make changes to the same file.</span></span> <span data-ttu-id="5dd1f-124">Каждый пользователь в последовательности должен извлечь файл, внести изменения, а затем вернуть файл обратно.</span><span class="sxs-lookup"><span data-stu-id="5dd1f-124">Each user in sequence must check out the file, make changes, and then check the file back in.</span></span> <span data-ttu-id="5dd1f-125">Аналогичным образом в схеме локального кэширования сервер должен передать право на запись в файл в один клиентский поток за раз.</span><span class="sxs-lookup"><span data-stu-id="5dd1f-125">Similarly, in a local caching scheme the server must hand off the privilege of writing to a file to one client thread at a time.</span></span>

 

 



