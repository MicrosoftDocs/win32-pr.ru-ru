---
description: Microsoft Windows позволяет управлять доступом к объектам потока. Дополнительные сведения о безопасности см. в разделе Модель Access-Control.
ms.assetid: 72709446-5c59-4fac-8dc8-7912906ecc85
title: Безопасность потоков и права доступа
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: e16b0ac5b4142f819d59775014a82a79a188bdd3
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "105673727"
---
# <a name="thread-security-and-access-rights"></a><span data-ttu-id="9ff5c-104">Безопасность потоков и права доступа</span><span class="sxs-lookup"><span data-stu-id="9ff5c-104">Thread Security and Access Rights</span></span>

<span data-ttu-id="9ff5c-105">Microsoft Windows позволяет управлять доступом к объектам потока.</span><span class="sxs-lookup"><span data-stu-id="9ff5c-105">Microsoft Windows enables you to control access to thread objects.</span></span> <span data-ttu-id="9ff5c-106">Дополнительные сведения о безопасности см. в разделе [модель управления доступом](../secauthz/access-control-model.md).</span><span class="sxs-lookup"><span data-stu-id="9ff5c-106">For more information about security, see [Access-Control Model](../secauthz/access-control-model.md).</span></span>

<span data-ttu-id="9ff5c-107">При вызове функции [**CreateProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createprocessa), [**параметр CreateProcessAsUser**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createprocessasusera), [**креатепроцессвислогонв**](/windows/desktop/api/WinBase/nf-winbase-createprocesswithlogonw), [**CreateThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createthread)или [**креатеремотесреад**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createremotethread) можно указать [дескриптор безопасности](../secauthz/security-descriptors.md) для потока.</span><span class="sxs-lookup"><span data-stu-id="9ff5c-107">You can specify a [security descriptor](../secauthz/security-descriptors.md) for a thread when you call the [**CreateProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createprocessa), [**CreateProcessAsUser**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createprocessasusera), [**CreateProcessWithLogonW**](/windows/desktop/api/WinBase/nf-winbase-createprocesswithlogonw), [**CreateThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createthread), or [**CreateRemoteThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createremotethread) function.</span></span> <span data-ttu-id="9ff5c-108">Если указано **значение NULL**, то поток получает дескриптор безопасности по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="9ff5c-108">If you specify **NULL**, the thread gets a default security descriptor.</span></span> <span data-ttu-id="9ff5c-109">Списки ACL в дескрипторе безопасности по умолчанию для потока поступают от основного маркера или токена олицетворения создателя.</span><span class="sxs-lookup"><span data-stu-id="9ff5c-109">The ACLs in the default security descriptor for a thread come from the primary or impersonation token of the creator.</span></span>

<span data-ttu-id="9ff5c-110">Чтобы получить дескриптор безопасности потока, вызовите функцию [**жетсекуритинфо**](/windows/win32/api/aclapi/nf-aclapi-getsecurityinfo) .</span><span class="sxs-lookup"><span data-stu-id="9ff5c-110">To retrieve a thread's security descriptor, call the [**GetSecurityInfo**](/windows/win32/api/aclapi/nf-aclapi-getsecurityinfo) function.</span></span> <span data-ttu-id="9ff5c-111">Чтобы изменить дескриптор безопасности потока, вызовите функцию [**сетсекуритинфо**](/windows/win32/api/aclapi/nf-aclapi-setsecurityinfo) .</span><span class="sxs-lookup"><span data-stu-id="9ff5c-111">To change a thread's security descriptor, call the [**SetSecurityInfo**](/windows/win32/api/aclapi/nf-aclapi-setsecurityinfo) function.</span></span>

<span data-ttu-id="9ff5c-112">Маркер, возвращаемый функцией [**CreateThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createthread) , имеет **потоковый \_ \_ доступ к** объекту потока.</span><span class="sxs-lookup"><span data-stu-id="9ff5c-112">The handle returned by the [**CreateThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createthread) function has **THREAD\_ALL\_ACCESS** access to the thread object.</span></span> <span data-ttu-id="9ff5c-113">При вызове функции [**жеткуррентсреад**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getcurrentthread) система возвращает псеудохандле с максимальным доступом, который дескриптор безопасности потока разрешает вызывающему объекту.</span><span class="sxs-lookup"><span data-stu-id="9ff5c-113">When you call the [**GetCurrentThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getcurrentthread) function, the system returns a pseudohandle with the maximum access that the thread's security descriptor allows the caller.</span></span>

<span data-ttu-id="9ff5c-114">Допустимые права доступа для объектов потока включают [стандартные права доступа](../secauthz/standard-access-rights.md) и некоторые зависящие от потока права доступа.</span><span class="sxs-lookup"><span data-stu-id="9ff5c-114">The valid access rights for thread objects include the [standard access rights](../secauthz/standard-access-rights.md) and some thread-specific access rights.</span></span> <span data-ttu-id="9ff5c-115">В следующей таблице перечислены стандартные права доступа, используемые всеми объектами.</span><span class="sxs-lookup"><span data-stu-id="9ff5c-115">The following table lists the standard access rights used by all objects.</span></span>

| <span data-ttu-id="9ff5c-116">Значение</span><span class="sxs-lookup"><span data-stu-id="9ff5c-116">Value</span></span>                           | <span data-ttu-id="9ff5c-117">Значение</span><span class="sxs-lookup"><span data-stu-id="9ff5c-117">Meaning</span></span>                                                                                                                                                                                                                                                                                  |
|---------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="9ff5c-118">**Delete** (0x00010000L)</span><span class="sxs-lookup"><span data-stu-id="9ff5c-118">**DELETE** (0x00010000L)</span></span>        | <span data-ttu-id="9ff5c-119">Требуется для удаления объекта.</span><span class="sxs-lookup"><span data-stu-id="9ff5c-119">Required to delete the object.</span></span>                                                                                                                                                                                                                                                           |
| <span data-ttu-id="9ff5c-120">**Чтение \_ Элемент управления** (0x00020000L)</span><span class="sxs-lookup"><span data-stu-id="9ff5c-120">**READ\_CONTROL** (0x00020000L)</span></span> | <span data-ttu-id="9ff5c-121">Требуется для чтения сведений в дескрипторе безопасности объекта, не включая сведения из списка SACL.</span><span class="sxs-lookup"><span data-stu-id="9ff5c-121">Required to read information in the security descriptor for the object, not including the information in the SACL.</span></span> <span data-ttu-id="9ff5c-122">Для чтения или записи списка SACL необходимо запросить право доступа к **\_ системе \_ безопасности системы доступа** .</span><span class="sxs-lookup"><span data-stu-id="9ff5c-122">To read or write the SACL, you must request the **ACCESS\_SYSTEM\_SECURITY** access right.</span></span> <span data-ttu-id="9ff5c-123">Дополнительные сведения см. в статье [право доступа к SACL](../secauthz/sacl-access-right.md).</span><span class="sxs-lookup"><span data-stu-id="9ff5c-123">For more information, see [SACL Access Right](../secauthz/sacl-access-right.md).</span></span> |
| <span data-ttu-id="9ff5c-124">**Синхронизация** (0x00100000L)</span><span class="sxs-lookup"><span data-stu-id="9ff5c-124">**SYNCHRONIZE** (0x00100000L)</span></span>   | <span data-ttu-id="9ff5c-125">Право на использование данного объекта для синхронизации.</span><span class="sxs-lookup"><span data-stu-id="9ff5c-125">The right to use the object for synchronization.</span></span> <span data-ttu-id="9ff5c-126">Это позволяет потоку ожидать, пока объект находится в сигнальном состоянии.</span><span class="sxs-lookup"><span data-stu-id="9ff5c-126">This enables a thread to wait until the object is in the signaled state.</span></span>                                                                                                                                                                |
| <span data-ttu-id="9ff5c-127">**Запись \_ DAC** (0x00040000L)</span><span class="sxs-lookup"><span data-stu-id="9ff5c-127">**WRITE\_DAC** (0x00040000L)</span></span>    | <span data-ttu-id="9ff5c-128">Требуется для изменения списка DACL в дескрипторе безопасности объекта.</span><span class="sxs-lookup"><span data-stu-id="9ff5c-128">Required to modify the DACL in the security descriptor for the object.</span></span>                                                                                                                                                                                                                   |
| <span data-ttu-id="9ff5c-129">**Запись \_ Владелец** (0x00080000L)</span><span class="sxs-lookup"><span data-stu-id="9ff5c-129">**WRITE\_OWNER** (0x00080000L)</span></span>  | <span data-ttu-id="9ff5c-130">Требуется для изменения владельца в дескрипторе безопасности объекта.</span><span class="sxs-lookup"><span data-stu-id="9ff5c-130">Required to change the owner in the security descriptor for the object.</span></span>                                                                                                                                                                                                                  |



 

<span data-ttu-id="9ff5c-131">В следующей таблице перечислены права доступа, зависящие от конкретного потока.</span><span class="sxs-lookup"><span data-stu-id="9ff5c-131">The following table lists the thread-specific access rights.</span></span>



| <span data-ttu-id="9ff5c-132">Значение</span><span class="sxs-lookup"><span data-stu-id="9ff5c-132">Value</span></span>                                            | <span data-ttu-id="9ff5c-133">Значение</span><span class="sxs-lookup"><span data-stu-id="9ff5c-133">Meaning</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
|--------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="9ff5c-134">**Синхронизация** (0x00100000L)</span><span class="sxs-lookup"><span data-stu-id="9ff5c-134">**SYNCHRONIZE** (0x00100000L)</span></span>                    | <span data-ttu-id="9ff5c-135">Разрешает использование обработчика потока в любой из [функций ожидания](../sync/wait-functions.md).</span><span class="sxs-lookup"><span data-stu-id="9ff5c-135">Enables the use of the thread handle in any of the [wait functions](../sync/wait-functions.md).</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| <span data-ttu-id="9ff5c-136">**ПОТОК — \_ все \_ доступ**</span><span class="sxs-lookup"><span data-stu-id="9ff5c-136">**THREAD\_ALL\_ACCESS**</span></span>                          | <span data-ttu-id="9ff5c-137">Все возможные права доступа для объекта потока. **Windows Server 2003 и Windows XP:** В Windows Server 2008 и Windows Vista увеличилось значение флага " **поток \_ всех \_ прав доступа** ".</span><span class="sxs-lookup"><span data-stu-id="9ff5c-137">All possible access rights for a thread object.**Windows Server 2003 and Windows XP:** The value of the **THREAD\_ALL\_ACCESS** flag increased on Windows Server 2008 and Windows Vista.</span></span> <span data-ttu-id="9ff5c-138">Если приложение, скомпилированное для Windows Server 2008 и Windows Vista, работает под управлением Windows Server 2003 или Windows XP, флаг " **поток \_ все \_ доступ** " содержит неподдерживаемые биты доступа, и функция, указывающая этот флаг, завершается с **ошибкой \_ \_ отказа в доступе**.</span><span class="sxs-lookup"><span data-stu-id="9ff5c-138">If an application compiled for Windows Server 2008 and Windows Vista is run on Windows Server 2003 or Windows XP, the **THREAD\_ALL\_ACCESS** flag contains access bits that are not supported and the function specifying this flag fails with **ERROR\_ACCESS\_DENIED**.</span></span> <span data-ttu-id="9ff5c-139">Чтобы избежать этой проблемы, укажите минимальный набор прав доступа, необходимых для операции.</span><span class="sxs-lookup"><span data-stu-id="9ff5c-139">To avoid this problem, specify the minimum set of access rights required for the operation.</span></span> <span data-ttu-id="9ff5c-140">Если **необходимо \_ использовать \_ поток** , задайте для **\_ Win32 \_ WinNT** минимальную операционную систему, для которой предназначено приложение (например, `#define _WIN32_WINNT _WIN32_WINNT_WINXP` ).</span><span class="sxs-lookup"><span data-stu-id="9ff5c-140">If **THREAD\_ALL\_ACCESS** must be used, set **\_WIN32\_WINNT** to the minimum operating system targeted by your application (for example, `#define _WIN32_WINNT _WIN32_WINNT_WINXP`).</span></span> <span data-ttu-id="9ff5c-141">Дополнительные сведения см. [в разделе Использование заголовков Windows](../winprog/using-the-windows-headers.md).</span><span class="sxs-lookup"><span data-stu-id="9ff5c-141">For more information, see [Using the Windows Headers](../winprog/using-the-windows-headers.md).</span></span> <br/> |
| <span data-ttu-id="9ff5c-142">**Поток команд \_ ПРЯМОЕ \_ олицетворение** (0x0200)</span><span class="sxs-lookup"><span data-stu-id="9ff5c-142">**THREAD\_DIRECT\_IMPERSONATION** (0x0200)</span></span>       | <span data-ttu-id="9ff5c-143">Требуется для потока сервера, который олицетворяет клиента.</span><span class="sxs-lookup"><span data-stu-id="9ff5c-143">Required for a server thread that impersonates a client.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| <span data-ttu-id="9ff5c-144">**Поток команд \_ ПОЛУЧИТЬ \_ контекст** (0x0008)</span><span class="sxs-lookup"><span data-stu-id="9ff5c-144">**THREAD\_GET\_CONTEXT** (0x0008)</span></span>                | <span data-ttu-id="9ff5c-145">Требуется для чтения контекста потока с помощью [**GetThreadContext**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getthreadcontext).</span><span class="sxs-lookup"><span data-stu-id="9ff5c-145">Required to read the context of a thread using [**GetThreadContext**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getthreadcontext).</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| <span data-ttu-id="9ff5c-146">**Поток команд \_ ОЛИЦЕТВОРЯть** (0x0100)</span><span class="sxs-lookup"><span data-stu-id="9ff5c-146">**THREAD\_IMPERSONATE** (0x0100)</span></span>                 | <span data-ttu-id="9ff5c-147">Требуется для непосредственного использования сведений о безопасности потока без их вызова с помощью механизма связи, предоставляющего службы олицетворения.</span><span class="sxs-lookup"><span data-stu-id="9ff5c-147">Required to use a thread's security information directly without calling it by using a communication mechanism that provides impersonation services.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| <span data-ttu-id="9ff5c-148">**Поток команд \_ \_Сведения о запросе** (0x0040)</span><span class="sxs-lookup"><span data-stu-id="9ff5c-148">**THREAD\_QUERY\_INFORMATION** (0x0040)</span></span>          | <span data-ttu-id="9ff5c-149">Требуется для чтения определенных данных из объекта потока, например кода выхода (см. [**жетекситкодесреад**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getexitcodethread)).</span><span class="sxs-lookup"><span data-stu-id="9ff5c-149">Required to read certain information from the thread object, such as the exit code (see [**GetExitCodeThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getexitcodethread)).</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| <span data-ttu-id="9ff5c-150">**Поток команд \_ ЗАПРОС \_ ограниченных \_ данных** (0x0800)</span><span class="sxs-lookup"><span data-stu-id="9ff5c-150">**THREAD\_QUERY\_LIMITED\_INFORMATION** (0x0800)</span></span> | <span data-ttu-id="9ff5c-151">Требуется для чтения определенных данных из объектов потока (см. [**жетпроцессидофсреад**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getprocessidofthread)).</span><span class="sxs-lookup"><span data-stu-id="9ff5c-151">Required to read certain information from the thread objects (see [**GetProcessIdOfThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getprocessidofthread)).</span></span> <span data-ttu-id="9ff5c-152">Маркеру, у которого есть право доступа к **\_ \_ информации о запросе потока** , автоматически предоставляется **\_ запрос потока \_ с ограниченными \_ сведениями**.**Windows Server 2003 и Windows XP:** это право доступа не поддерживается.</span><span class="sxs-lookup"><span data-stu-id="9ff5c-152">A handle that has the **THREAD\_QUERY\_INFORMATION** access right is automatically granted **THREAD\_QUERY\_LIMITED\_INFORMATION**.**Windows Server 2003 and Windows XP:** This access right is not supported.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| <span data-ttu-id="9ff5c-153">**Поток команд \_ SET \_ context** (0x0010)</span><span class="sxs-lookup"><span data-stu-id="9ff5c-153">**THREAD\_SET\_CONTEXT** (0x0010)</span></span>                | <span data-ttu-id="9ff5c-154">Требуется для записи контекста потока с помощью [**SetThreadContext**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-setthreadcontext).</span><span class="sxs-lookup"><span data-stu-id="9ff5c-154">Required to write the context of a thread using [**SetThreadContext**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-setthreadcontext).</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| <span data-ttu-id="9ff5c-155">**Поток команд \_ ЗАДАТЬ \_ сведения** (0x0020)</span><span class="sxs-lookup"><span data-stu-id="9ff5c-155">**THREAD\_SET\_INFORMATION** (0x0020)</span></span>            | <span data-ttu-id="9ff5c-156">Требуется для задания определенных данных в объекте потока.</span><span class="sxs-lookup"><span data-stu-id="9ff5c-156">Required to set certain information in the thread object.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| <span data-ttu-id="9ff5c-157">**Поток команд \_ Задание \_ ограниченных \_ сведений** (0x0400)</span><span class="sxs-lookup"><span data-stu-id="9ff5c-157">**THREAD\_SET\_LIMITED\_INFORMATION** (0x0400)</span></span>   | <span data-ttu-id="9ff5c-158">Требуется для задания определенных данных в объекте потока.</span><span class="sxs-lookup"><span data-stu-id="9ff5c-158">Required to set certain information in the thread object.</span></span> <span data-ttu-id="9ff5c-159">Для маркера, имеющего право доступа к **\_ \_ сведениям о наборе потоков** , автоматически предоставляются **\_ \_ ограниченные \_ сведения о наборе потоков**.**Windows Server 2003 и Windows XP:** это право доступа не поддерживается.</span><span class="sxs-lookup"><span data-stu-id="9ff5c-159">A handle that has the **THREAD\_SET\_INFORMATION** access right is automatically granted **THREAD\_SET\_LIMITED\_INFORMATION**.**Windows Server 2003 and Windows XP:** This access right is not supported.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| <span data-ttu-id="9ff5c-160">**Поток команд \_ ЗАДАТЬ \_ \_ токен потока** (0x0080)</span><span class="sxs-lookup"><span data-stu-id="9ff5c-160">**THREAD\_SET\_THREAD\_TOKEN** (0x0080)</span></span>          | <span data-ttu-id="9ff5c-161">Требуется для установки токена олицетворения для потока с помощью [**сетсреадтокен**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-setthreadtoken).</span><span class="sxs-lookup"><span data-stu-id="9ff5c-161">Required to set the impersonation token for a thread using [**SetThreadToken**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-setthreadtoken).</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| <span data-ttu-id="9ff5c-162">**Поток команд \_ Приостановить \_ возобновление** (0x0002)</span><span class="sxs-lookup"><span data-stu-id="9ff5c-162">**THREAD\_SUSPEND\_RESUME** (0x0002)</span></span>             | <span data-ttu-id="9ff5c-163">Требуется для приостановки или возобновления потока (см. раздел [**суспендсреад**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-suspendthread) and [**ресумесреад**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-resumethread)).</span><span class="sxs-lookup"><span data-stu-id="9ff5c-163">Required to suspend or resume a thread (see [**SuspendThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-suspendthread) and [**ResumeThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-resumethread)).</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| <span data-ttu-id="9ff5c-164">**Поток команд \_ ЗАВЕРШЕНИЕ** (0x0001)</span><span class="sxs-lookup"><span data-stu-id="9ff5c-164">**THREAD\_TERMINATE** (0x0001)</span></span>                   | <span data-ttu-id="9ff5c-165">Требуется для завершения потока с помощью [**TerminateThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-terminatethread).</span><span class="sxs-lookup"><span data-stu-id="9ff5c-165">Required to terminate a thread using [**TerminateThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-terminatethread).</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |



 

<span data-ttu-id="9ff5c-166">Вы можете запросить право доступа к **\_ системе \_ безопасности системы доступа** к объекту потока, если вы хотите прочитать или записать список SACL объекта.</span><span class="sxs-lookup"><span data-stu-id="9ff5c-166">You can request the **ACCESS\_SYSTEM\_SECURITY** access right to a thread object if you want to read or write the object's SACL.</span></span> <span data-ttu-id="9ff5c-167">Дополнительные сведения см. в разделе [списки управления доступом (ACL)](../secauthz/access-control-lists.md) и [права доступа к спискам SACL](../secauthz/sacl-access-right.md).</span><span class="sxs-lookup"><span data-stu-id="9ff5c-167">For more information, see [Access-Control Lists (ACLs)](../secauthz/access-control-lists.md) and [SACL Access Right](../secauthz/sacl-access-right.md).</span></span>

## <a name="protected-processes"></a><span data-ttu-id="9ff5c-168">Защищенные процессы</span><span class="sxs-lookup"><span data-stu-id="9ff5c-168">Protected Processes</span></span>

<span data-ttu-id="9ff5c-169">*Защищенные процессы* улучшают поддержку цифровых Rights Management.</span><span class="sxs-lookup"><span data-stu-id="9ff5c-169">*Protected processes* enhance support for Digital Rights Management.</span></span> <span data-ttu-id="9ff5c-170">Система ограничена доступом к защищенным процессам и потокам защищенных процессов.</span><span class="sxs-lookup"><span data-stu-id="9ff5c-170">The system restricts access to protected processes and the threads of protected processes.</span></span>

<span data-ttu-id="9ff5c-171">**Windows Server 2003 и Windows XP:** Были добавлены защищенные процессы, начиная с Windows Vista.</span><span class="sxs-lookup"><span data-stu-id="9ff5c-171">**Windows Server 2003 and Windows XP:** Protected processes were added starting with Windows Vista.</span></span>

<span data-ttu-id="9ff5c-172">Следующие права доступа не допускаются из процесса в потоки защищенного процесса:</span><span class="sxs-lookup"><span data-stu-id="9ff5c-172">The following specific access rights are not allowed from a process to the threads of a protected process:</span></span>

<span data-ttu-id="9ff5c-173">**ПОТОК — \_ все \_ доступ**</span><span class="sxs-lookup"><span data-stu-id="9ff5c-173">**THREAD\_ALL\_ACCESS**</span></span>  
<span data-ttu-id="9ff5c-174">**\_прямое \_ ОЛИЦЕТВОРЕНие потока**</span><span class="sxs-lookup"><span data-stu-id="9ff5c-174">**THREAD\_DIRECT\_IMPERSONATION**</span></span>  
<span data-ttu-id="9ff5c-175">**\_контекст получения \_ контекста**</span><span class="sxs-lookup"><span data-stu-id="9ff5c-175">**THREAD\_GET\_CONTEXT**</span></span>  
<span data-ttu-id="9ff5c-176">**\_олицетворение потока**</span><span class="sxs-lookup"><span data-stu-id="9ff5c-176">**THREAD\_IMPERSONATE**</span></span>  
<span data-ttu-id="9ff5c-177">**\_ \_ сведения о запросе потока**</span><span class="sxs-lookup"><span data-stu-id="9ff5c-177">**THREAD\_QUERY\_INFORMATION**</span></span>  
<span data-ttu-id="9ff5c-178">**\_контекст набора \_ потоков**</span><span class="sxs-lookup"><span data-stu-id="9ff5c-178">**THREAD\_SET\_CONTEXT**</span></span>  
<span data-ttu-id="9ff5c-179">**\_сведения о наборе потоков \_**</span><span class="sxs-lookup"><span data-stu-id="9ff5c-179">**THREAD\_SET\_INFORMATION**</span></span>  
<span data-ttu-id="9ff5c-180">**\_токен набора \_ потоков**</span><span class="sxs-lookup"><span data-stu-id="9ff5c-180">**THREAD\_SET\_TOKEN**</span></span>  
<span data-ttu-id="9ff5c-181">**\_завершение потока**</span><span class="sxs-lookup"><span data-stu-id="9ff5c-181">**THREAD\_TERMINATE**</span></span>  


<span data-ttu-id="9ff5c-182">Для предоставления доступа к подмножеству сведений, доступных через **\_ \_ сведения о запросе потока**, был введен **\_ ограниченный запрос на получение \_ \_ сведений о потоке** .</span><span class="sxs-lookup"><span data-stu-id="9ff5c-182">The **THREAD\_QUERY\_LIMITED\_INFORMATION** right was introduced to provide access to a subset of the information available through **THREAD\_QUERY\_INFORMATION**.</span></span>

 

 
