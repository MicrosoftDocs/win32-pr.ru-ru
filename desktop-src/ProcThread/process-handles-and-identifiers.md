---
description: Когда функция CreateProcess создает новый процесс, возвращаются дескрипторы нового процесса и его основной поток.
ms.assetid: cf6b80de-de02-4222-a414-e940ffaed8fe
title: Дескрипторы процессов и идентификаторы
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 39a1ec0acb6535f8f64b9f4bd0815392d61fccbc
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "104345445"
---
# <a name="process-handles-and-identifiers"></a>Дескрипторы процессов и идентификаторы

Когда функция [**CreateProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createprocessa) создает новый процесс, возвращаются дескрипторы нового процесса и его основной поток. Эти дескрипторы создаются с правами полного доступа, и их можно использовать в любой функции, принимающей дескрипторы потоков или процессов. Эти дескрипторы могут наследоваться дочерними процессами в зависимости от флага наследования, заданного при их создании. Дескрипторы допустимы до закрытия, даже после завершения процесса или потока, которые они представляют.

Функция [**CreateProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createprocessa) также возвращает идентификатор, который уникальным образом идентифицирует процесс во всей системе. Процесс может использовать функцию [**жеткуррентпроцессид**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getcurrentprocessid) для получения собственного идентификатора процесса (также известного как идентификатор процесса или PID). Идентификатор действителен с момента создания процесса до завершения процесса. Процесс может использовать функцию [**Process32First**](/windows/win32/api/tlhelp32/nf-tlhelp32-process32first) для получения идентификатора процесса родительского процесса.

Если у вас есть идентификатор процесса, его можно получить, вызвав функцию [**OpenProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-openprocess) . **OpenProcess** позволяет указать права доступа маркера и возможность наследования.

Процесс может использовать функцию [**жеткуррентпроцесс**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getcurrentprocess) для извлечения псевдо-обработчика в собственный объект процесса. Этот псевдо-обработчик допустим только для вызывающего процесса; Он не может наследоваться или дублироваться для использования другими процессами. Чтобы получить реальный маркер для процесса, вызовите функцию [**дупликатехандле**](/windows/win32/api/handleapi/nf-handleapi-duplicatehandle) .

 

 
