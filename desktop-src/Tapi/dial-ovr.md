---
description: Операции набора позволяют приложению отправить дополнительные цифры в ранее созданном сеансе. В качестве примера можно использовать частичный набор номера, чтобы набрать расширение. Частичный набор иногда называют добавочным набором или отложенным набором номеров.
ms.assetid: 1dfaefd7-f8dd-451e-af18-249c89bdb517
title: Dial
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: c1c603d8e846694b4728d1b5ad4c887be34fbac7
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "103809233"
---
# <a name="dial"></a><span data-ttu-id="412a7-105">Dial</span><span class="sxs-lookup"><span data-stu-id="412a7-105">Dial</span></span>

<span data-ttu-id="412a7-106">Операции набора позволяют приложению отправить дополнительные цифры в ранее созданном сеансе.</span><span class="sxs-lookup"><span data-stu-id="412a7-106">Dial operations allow an application to send additional digits on a previously created session.</span></span> <span data-ttu-id="412a7-107">В качестве примера можно использовать частичный набор номера, чтобы набрать расширение.</span><span class="sxs-lookup"><span data-stu-id="412a7-107">An example use of partial dialing is to dial an extension.</span></span> <span data-ttu-id="412a7-108">Частичный набор иногда называют добавочным набором или отложенным набором номеров.</span><span class="sxs-lookup"><span data-stu-id="412a7-108">Partial dialing is sometimes referred to as incremental dialing or delayed dialing.</span></span>

<span data-ttu-id="412a7-109">Если предоставленный адрес неполон, набор некоторых цифр может быть отложен путем помещения точки с запятой (;) в конце числа.</span><span class="sxs-lookup"><span data-stu-id="412a7-109">When the address provided is incomplete, dialing some of the digits may be delayed by placing a semicolon (;) at the end of the number.</span></span> <span data-ttu-id="412a7-110">Затем операция вызова используется для отправки дополнительных данных адреса в существующем сеансе, например для набора адреса стороны, на который будет передан вызов.</span><span class="sxs-lookup"><span data-stu-id="412a7-110">A dial operation is then used to send additional address data on the existing session, such as dialing the address of a party to which the call will be transferred.</span></span>

<span data-ttu-id="412a7-111">Каждый поставщик услуг должен отклонять строку набора номера, которая содержит **?**</span><span class="sxs-lookup"><span data-stu-id="412a7-111">Every service provider should reject a dial string that contains the **?**</span></span> <span data-ttu-id="412a7-112">и позвольте приложению работать с ним соответствующим образом.</span><span class="sxs-lookup"><span data-stu-id="412a7-112">character and let the application deal with it as appropriate.</span></span> <span data-ttu-id="412a7-113">Например, приложение может использовать частичный набор номера для набора строк, вплоть до, но не включая **?**</span><span class="sxs-lookup"><span data-stu-id="412a7-113">For example, the application could use partial dialing to dial the string, up to, but not including the **?**</span></span> <span data-ttu-id="412a7-114">, а затем отобразится диалоговое окно, позволяющее пользователю получать сигнал о том, что при вызове остальной строки вызова.</span><span class="sxs-lookup"><span data-stu-id="412a7-114">character, and then display a dialog to let the user signal when the rest of the dial string should be dialed.</span></span>

<span data-ttu-id="412a7-115">Дополнительная причина, по которой приложение может использовать частичный набор номеров, — если поставщик услуг не поддерживает один или несколько управляющих символов для обнаружения хода вызова.</span><span class="sxs-lookup"><span data-stu-id="412a7-115">An additional reason for an application to use partial dialing is if the service provider does not support one or more of the call progress detection control characters.</span></span> <span data-ttu-id="412a7-116">Эти символы, которые могут возникать в адресе с возможностью подключения, — W (Ожидание гудка звонка); @ (ожидание ответа на тихий); и $ (Ожидание гудка запроса телефонной карты).</span><span class="sxs-lookup"><span data-stu-id="412a7-116">These characters, which can occur in a dialable address, are W (wait for dial tone); @ (wait for quiet answer); and $ (wait for calling-card prompt tone).</span></span> <span data-ttu-id="412a7-117">Эти и все остальные символы, используемые в строках адресов, более подробно рассматриваются в разделе адреса, доступные для [набора](address-ovr.md).</span><span class="sxs-lookup"><span data-stu-id="412a7-117">These and all other characters used in address strings are discussed in greater detail in [Dialable Addresses](address-ovr.md).</span></span>

<span data-ttu-id="412a7-118">Поставщик указывает, какие модификаторы строки "Wait" в нем поддерживаются.</span><span class="sxs-lookup"><span data-stu-id="412a7-118">The provider indicates which "wait for" dial string modifiers it supports.</span></span> <span data-ttu-id="412a7-119">Приложение TAPI 2 находит эти данные в члене **двдевкапфлагс** структуры [**линедевкапс**](/windows/win32/api/tapi/ns-tapi-linedevcaps) , возвращенной [**линежетдевкапс**](/windows/win32/api/tapi/nf-tapi-linegetdevcaps).</span><span class="sxs-lookup"><span data-stu-id="412a7-119">A TAPI 2 application finds this data in the **dwDevCapFlags** member of the [**LINEDEVCAPS**](/windows/win32/api/tapi/ns-tapi-linedevcaps) structure returned by [**lineGetDevCaps**](/windows/win32/api/tapi/nf-tapi-linegetdevcaps).</span></span> <span data-ttu-id="412a7-120">Приложение TAPI 3 вызывает [**итаддресскапабилитиес:: Get \_ Аддресскапабилити**](/windows/desktop/api/tapi3if/nf-tapi3if-itaddresscapabilities-get_addresscapability) с *аддресскап* , установленным в параметре [**адреса \_**](/windows/desktop/api/Tapi3if/ne-tapi3if-address_capability) **AC \_ девкапфлагс** .</span><span class="sxs-lookup"><span data-stu-id="412a7-120">A TAPI 3 application calls [**ITAddressCapabilities::get\_AddressCapability**](/windows/desktop/api/tapi3if/nf-tapi3if-itaddresscapabilities-get_addresscapability) with *AddressCap* set to the **AC\_DEVCAPFLAGS** member of [**ADDRESS\_CAPABILITY**](/windows/desktop/api/Tapi3if/ne-tapi3if-address_capability).</span></span>

<span data-ttu-id="412a7-121">Приложение может выбрать, следует ли выполнять предбираемые строки для неподдерживаемых символов или передать "необработанную" строку в процессе инициации сеанса.</span><span class="sxs-lookup"><span data-stu-id="412a7-121">The application can choose to prescan dialable strings for unsupported characters or it can pass the "raw" string as part of initiating a session.</span></span> <span data-ttu-id="412a7-122">Если строка содержит неподдерживаемый модификатор или "?", поставщик возвращает ошибку, указывающую, что в строке сначала произошли ошибочные модификаторы:</span><span class="sxs-lookup"><span data-stu-id="412a7-122">If the string contains an unsupported modifier or a "?", the provider will return an error indicating which offending modifier occurred first within the string:</span></span>

-   <span data-ttu-id="412a7-123">ЛИНИРР \_ диалбиллинг</span><span class="sxs-lookup"><span data-stu-id="412a7-123">LINEERR\_DIALBILLING</span></span>
-   <span data-ttu-id="412a7-124">ЛИНИРР \_ диалкуиет</span><span class="sxs-lookup"><span data-stu-id="412a7-124">LINEERR\_DIALQUIET</span></span>
-   <span data-ttu-id="412a7-125">ЛИНИРР \_ диалдиалтоне</span><span class="sxs-lookup"><span data-stu-id="412a7-125">LINEERR\_DIALDIALTONE</span></span>
-   <span data-ttu-id="412a7-126">ЛИНИРР \_ диалпромпт</span><span class="sxs-lookup"><span data-stu-id="412a7-126">LINEERR\_DIALPROMPT</span></span>

<span data-ttu-id="412a7-127">Приложение может затем разместить в строке модификатор, вызывающий ошибку, взять цифры слева от модификатора, добавить точку с запятой и инициировать сеанс, используя частичный адрес.</span><span class="sxs-lookup"><span data-stu-id="412a7-127">The application can then locate the offending modifier in the string, take the digits to the left of the modifier, append a semicolon, and initiate a session using the partial address.</span></span> <span data-ttu-id="412a7-128">Оставшаяся часть строки может быть отправлена с помощью операции вызова.</span><span class="sxs-lookup"><span data-stu-id="412a7-128">The remainder of the string can be sent using the dial operation.</span></span>

<span data-ttu-id="412a7-129">Не все поставщики служб поддерживают использование этой операции.</span><span class="sxs-lookup"><span data-stu-id="412a7-129">Not all service providers support use of this operation.</span></span>

<span data-ttu-id="412a7-130">**Интерфейс TAPI 2. x:** См. [**линедиал**](/windows/win32/api/tapi/nf-tapi-linedial).</span><span class="sxs-lookup"><span data-stu-id="412a7-130">**TAPI 2.x:** See [**lineDial**](/windows/win32/api/tapi/nf-tapi-linedial).</span></span>

<span data-ttu-id="412a7-131">**Интерфейс TAPI 3. x:** См. раздел [**итбасиккаллконтрол::D транственное**](/windows/desktop/api/tapi3if/nf-tapi3if-itbasiccallcontrol-dial).</span><span class="sxs-lookup"><span data-stu-id="412a7-131">**TAPI 3.x:** See [**ITBasicCallControl::Dial**](/windows/desktop/api/tapi3if/nf-tapi3if-itbasiccallcontrol-dial).</span></span>

 

 
