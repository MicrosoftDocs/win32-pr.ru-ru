---
description: На уровне TAPI приложение может передавать множество различных параметров, многие из которых могут быть недопустимыми.
ms.assetid: cc52e2a2-08e0-4a66-a75f-975e50dbf654
title: Проверка ошибок (API телефонии)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 072ee8e456ed255da6945adef7a0bba872870a8d
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "105673715"
---
# <a name="error-checking"></a><span data-ttu-id="ac954-103">Проверка ошибок</span><span class="sxs-lookup"><span data-stu-id="ac954-103">Error Checking</span></span>

<span data-ttu-id="ac954-104">На уровне TAPI приложение может передавать множество различных параметров, многие из которых могут быть недопустимыми.</span><span class="sxs-lookup"><span data-stu-id="ac954-104">At the TAPI level, an application can pass a variety of different parameters, many of which may be invalid.</span></span> <span data-ttu-id="ac954-105">TAPI проверяет параметры и возвращает приложению ошибки, не обращаясь к поставщику услуг.</span><span class="sxs-lookup"><span data-stu-id="ac954-105">TAPI verifies parameters and returns errors to the application without calling the service provider.</span></span> <span data-ttu-id="ac954-106">Каждое описание функции на уровне ТСПИ описывает уже протестированные ошибки параметров.</span><span class="sxs-lookup"><span data-stu-id="ac954-106">Each function description at the TSPI level describes the parameter errors already tested.</span></span> <span data-ttu-id="ac954-107">Поставщику услуг не нужно повторять эти тесты, хотя он должен выполнять любые дополнительные тесты проверки допустимости, соответствующие функции.</span><span class="sxs-lookup"><span data-stu-id="ac954-107">The service provider does not have to repeat these tests, though it must perform any additional validity tests appropriate to the function.</span></span> <span data-ttu-id="ac954-108">В следующей таблице перечислены заголовки и описания общих проверок допустимости параметров, которые отображаются во многих функциях.</span><span class="sxs-lookup"><span data-stu-id="ac954-108">Titles and descriptions of common parameter validity tests that appear in many functions are listed in the following table.</span></span>



| <span data-ttu-id="ac954-109">Проверка достоверности</span><span class="sxs-lookup"><span data-stu-id="ac954-109">Validity test</span></span>       | <span data-ttu-id="ac954-110">Описание</span><span class="sxs-lookup"><span data-stu-id="ac954-110">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
|---------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="ac954-111">Допустимость указателя</span><span class="sxs-lookup"><span data-stu-id="ac954-111">Pointer validity</span></span>    | <span data-ttu-id="ac954-112">TAPI уже тестировал указатели на хранилище данных, чтобы убедиться в том, что они указывают на возможность чтения или записи в память, соответствующую размеру операции.</span><span class="sxs-lookup"><span data-stu-id="ac954-112">TAPI has already tested pointers to data storage to make sure that they point to readable or writable memory of the size appropriate to the operation.</span></span> <span data-ttu-id="ac954-113">Кроме того, для структур данных с размерами вариабли, начинающихся с элемента **двтоталсизе** , структура данных была проверена, чтобы обеспечить доступность указанного общего размера.</span><span class="sxs-lookup"><span data-stu-id="ac954-113">In addition, for variably sized data structures starting with a **dwTotalSize** member, the data structure has been verified to ensure that the indicated total size is available.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| <span data-ttu-id="ac954-114">Допустимость фиксированного размера</span><span class="sxs-lookup"><span data-stu-id="ac954-114">Fixed size validity</span></span> | <span data-ttu-id="ac954-115">Для структур данных с переменным размером структура данных была проверена так, что пространство для части фиксированного размера структуры данных и **двтоталсизе** достаточно для фиксированной части.</span><span class="sxs-lookup"><span data-stu-id="ac954-115">For variable-sized data structures, the data structure has been verified so space for the fixed-sized part of the data structure and that **dwTotalSize** is sufficient for the fixed part.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| <span data-ttu-id="ac954-116">Смещение или размер обнулены</span><span class="sxs-lookup"><span data-stu-id="ac954-116">Offset/size zeroed</span></span>  | <span data-ttu-id="ac954-117">Для структур данных с переменным размером "... **Offset**"и"... **Размер**"поля, соответствующие частям, которые устанавливаются поставщиком услуг, имеют нулевые значения до вызова поставщика услуг.</span><span class="sxs-lookup"><span data-stu-id="ac954-117">For variable-sized data structures, the "...**Offset**" and "...**Size**" fields that correspond to parts that the service provider sets have been preset with zero values before the service provider was called.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| <span data-ttu-id="ac954-118">Срок действия маркера</span><span class="sxs-lookup"><span data-stu-id="ac954-118">Handle validity</span></span>     | <span data-ttu-id="ac954-119">TAPI обеспечивает допустимость линий, телефонов и дескрипторов вызовов (определенных типов [хдрвлине](hdrvline.md), [хдрвфоне](hdrvphone.md)и хдрвкалл).</span><span class="sxs-lookup"><span data-stu-id="ac954-119">TAPI ensures that line, phone, and call handles (of defined types [HDRVLINE](hdrvline.md), [HDRVPHONE](hdrvphone.md), and HDRVCALL) are valid.</span></span> <span data-ttu-id="ac954-120">То есть, это значения, которые были возвращены без ошибок в качестве дескрипторов в [**тспи \_ линеопен**](/windows/win32/api/tspi/nf-tspi-tspi_lineopen), [**тспи \_ фонеопен**](/windows/win32/api/tspi/nf-tspi-tspi_phoneopen)или один из следующих, который начинает время существования дескриптора вызова: [**тспи \_ линемакекалл**](/windows/win32/api/tspi/nf-tspi-tspi_linemakecall)</span><span class="sxs-lookup"><span data-stu-id="ac954-120">That is, they are values that have been returned without error as handles in [**TSPI\_lineOpen**](/windows/win32/api/tspi/nf-tspi-tspi_lineopen), [**TSPI\_phoneOpen**](/windows/win32/api/tspi/nf-tspi-tspi_phoneopen), or one of the following that starts the lifetime of a call handle: [**TSPI\_lineMakeCall**](/windows/win32/api/tspi/nf-tspi-tspi_linemakecall)</span></span><br/> [<span data-ttu-id="ac954-121">**ТСПИ \_ линекомплететрансфер**</span><span class="sxs-lookup"><span data-stu-id="ac954-121">**TSPI\_lineCompleteTransfer**</span></span>](/windows/win32/api/tspi/nf-tspi-tspi_linecompletetransfer)<br/> [<span data-ttu-id="ac954-122">**ТСПИ \_ линефорвард**</span><span class="sxs-lookup"><span data-stu-id="ac954-122">**TSPI\_lineForward**</span></span>](/windows/win32/api/tspi/nf-tspi-tspi_lineforward)<br/> [<span data-ttu-id="ac954-123">**ТСПИ \_ линепиккуп**</span><span class="sxs-lookup"><span data-stu-id="ac954-123">**TSPI\_linePickup**</span></span>](/windows/win32/api/tspi/nf-tspi-tspi_linepickup)<br/> [<span data-ttu-id="ac954-124">**ТСПИ \_ линепрепареаддтоконференце**</span><span class="sxs-lookup"><span data-stu-id="ac954-124">**TSPI\_linePrepareAddToConference**</span></span>](/windows/win32/api/tspi/nf-tspi-tspi_lineprepareaddtoconference)<br/> [<span data-ttu-id="ac954-125">**ТСПИ \_ линесетупконференце**</span><span class="sxs-lookup"><span data-stu-id="ac954-125">**TSPI\_lineSetupConference**</span></span>](/windows/win32/api/tspi/nf-tspi-tspi_linesetupconference)<br/> [<span data-ttu-id="ac954-126">**ТСПИ \_ линесетуптрансфер**</span><span class="sxs-lookup"><span data-stu-id="ac954-126">**TSPI\_lineSetupTransfer**</span></span>](/windows/win32/api/tspi/nf-tspi-tspi_linesetuptransfer)<br/> [<span data-ttu-id="ac954-127">**ТСПИ \_ линеунпарк**</span><span class="sxs-lookup"><span data-stu-id="ac954-127">**TSPI\_lineUnpark**</span></span>](/windows/win32/api/tspi/nf-tspi-tspi_lineunpark)<br/> <span data-ttu-id="ac954-128">[**Строка \_ Сообщения НЕВКАЛЛ**](line-newcall.md)</span><span class="sxs-lookup"><span data-stu-id="ac954-128">[**LINE\_NEWCALL**](line-newcall.md) messages</span></span><br/> |



 

 

