---
description: Улучшенные конференции с использованием сетей на основе IP-адресов описаны в конференции 3S для встреч-телефонии TAPI. Следующий материал относится к основным конференциям.
ms.assetid: f685097b-1b54-412b-999f-d9bdb3120ab9
title: Организации
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 1ace4cb45bf74335298a3d4d262d064eb85c547f
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "105673393"
---
# <a name="conference"></a><span data-ttu-id="1702c-104">Организации</span><span class="sxs-lookup"><span data-stu-id="1702c-104">Conference</span></span>

<span data-ttu-id="1702c-105">Улучшенные конференции с использованием сетей на основе IP-адресов описаны в статье Использование [встреч в конференц-телефонном](rendezvous-ip-telephony-conferencing.md)интерфейсе TAPI 3.</span><span class="sxs-lookup"><span data-stu-id="1702c-105">Advanced conferencing using IP-based networks is described in TAPI 3's [Rendezvous IP Telephony Conferencing](rendezvous-ip-telephony-conferencing.md).</span></span> <span data-ttu-id="1702c-106">Следующий материал относится к основным конференциям.</span><span class="sxs-lookup"><span data-stu-id="1702c-106">The following material relates to basic conferencing.</span></span>

<span data-ttu-id="1702c-107">Сеансы конференции — это сеансы, включающие более двух сторон одновременно.</span><span class="sxs-lookup"><span data-stu-id="1702c-107">Conference sessions are sessions that include more than two parties simultaneously.</span></span> <span data-ttu-id="1702c-108">Их можно настроить с помощью моста на основе внешнего сервера или моста на основе коммутатора.</span><span class="sxs-lookup"><span data-stu-id="1702c-108">They can be set up using either an external server-based bridge or a switch-based conference bridge.</span></span>

<span data-ttu-id="1702c-109">В сеансах серверной Конференции все участвующие стороны подключаются к серверу, который объединяет потоки мультимедиа и отправляет каждому участнику сочетание.</span><span class="sxs-lookup"><span data-stu-id="1702c-109">In server-based conference sessions, all participating parties dial into the server, which mixes the media streams together and sends each participant the mix.</span></span> <span data-ttu-id="1702c-110">В вызове Конференции может отсутствовать понятие отдельных сторон, а только один вызов между приложением и сервером моста.</span><span class="sxs-lookup"><span data-stu-id="1702c-110">There may be no notion of individual parties in the conference call, only that of a single call between the application and the bridge server.</span></span> <span data-ttu-id="1702c-111">Для TAPI этот тип вызова конференции является обычным подключением "один к одному".</span><span class="sxs-lookup"><span data-stu-id="1702c-111">To TAPI, this type of conference call appears to be a normal one-to-one connection.</span></span>

<span data-ttu-id="1702c-112">Конференции на основе коммутатора происходят поэтапно, некоторые из которых могут быть объединены, если поставщик услуг его поддерживает.</span><span class="sxs-lookup"><span data-stu-id="1702c-112">Switch-based conferencing proceeds in stages, some of which may be combined if the service provider supports it:</span></span>

1.  <span data-ttu-id="1702c-113">Инициация обычного сеанса связи.</span><span class="sxs-lookup"><span data-stu-id="1702c-113">Initiate an ordinary communications session.</span></span>
2.  <span data-ttu-id="1702c-114">Создайте сеанс конференции с первым участником, который инициировал Конференции.</span><span class="sxs-lookup"><span data-stu-id="1702c-114">Create a conference session with its first member the party that initiated conferencing.</span></span>
3.  <span data-ttu-id="1702c-115">Создайте сеанс консультации по конференциям с стороной на другом конце текущего подключения.</span><span class="sxs-lookup"><span data-stu-id="1702c-115">Create a conference consultation session with the party at the other end of the current connection.</span></span>
4.  <span data-ttu-id="1702c-116">Добавьте сеанс консультации на конференцию.</span><span class="sxs-lookup"><span data-stu-id="1702c-116">Add the consultation session to the conference.</span></span>

<span data-ttu-id="1702c-117">После того как сеанс станет участником конференции, состояние участника вернется к Конференции.</span><span class="sxs-lookup"><span data-stu-id="1702c-117">After a session becomes a member of a conference, the member's state reverts to conferenced.</span></span> <span data-ttu-id="1702c-118">Состояние сеанса Конференции обычно будет *подключено*.</span><span class="sxs-lookup"><span data-stu-id="1702c-118">The state of the conference session typically becomes *connected*.</span></span> <span data-ttu-id="1702c-119">Идентификаторы сеансов для Конференции и все добавленные стороны остаются действительными.</span><span class="sxs-lookup"><span data-stu-id="1702c-119">The session identifiers to the conference and all the added parties remain valid.</span></span> <span data-ttu-id="1702c-120">События состояния могут быть получены обо всех вызовах.</span><span class="sxs-lookup"><span data-stu-id="1702c-120">State events can be received about all calls.</span></span> <span data-ttu-id="1702c-121">Например, если один из членов отключается через зависание, соответствующее сообщение о состоянии может сообщить приложению об этом факте.</span><span class="sxs-lookup"><span data-stu-id="1702c-121">For example, if one of the members disconnects by hanging up, an appropriate state message can inform the application of this fact.</span></span>

<span data-ttu-id="1702c-122">**Интерфейс TAPI 2. x:** Приложения могут использовать функцию "без конференции с удержанием" УАТС с помощью параметра ЛИНЕКАЛЛПАРАМФЛАГС \_ нохолдконференце. Эта функция позволяет автоматически подключать к строке другое устройство, например Супервизор или записывающее устройство.</span><span class="sxs-lookup"><span data-stu-id="1702c-122">**TAPI 2.x:** Applications can use the "no hold conference" feature of PBXs by using the LINECALLPARAMFLAGS\_NOHOLDCONFERENCE option; this feature allows another device, such as a supervisor or recording device, to be silently attached to the line.</span></span>

<span data-ttu-id="1702c-123">При отмене сеанса консультации третьим лицам для Конференции или при удалении третьей стороны в ранее установленной конференции поставщик услуг может освободить конференцию и вернуться к обычной двусторонней связи.</span><span class="sxs-lookup"><span data-stu-id="1702c-123">When canceling the consultation session to the third party for a conference or when removing the third party in a previously established conference, the service provider may release the conference and revert the session back to a normal two-party connection.</span></span> <span data-ttu-id="1702c-124">В этом случае сеанс Конференции переходит в состояние *простоя* , и только оставшийся сеанс участия будет переходить с конференции на *подключенное* состояние.</span><span class="sxs-lookup"><span data-stu-id="1702c-124">If this is the case, the conference session will transition to the *idle* state, and the only remaining participating session will transition from the conferenced to the *connected* state.</span></span>

<span data-ttu-id="1702c-125">Не все поставщики услуг поддерживают Конференции.</span><span class="sxs-lookup"><span data-stu-id="1702c-125">Not all service providers support conferencing.</span></span>

<span data-ttu-id="1702c-126">**Интерфейс TAPI 2. x:** Функция [**линесетупконференце**](/windows/win32/api/tapi/nf-tapi-linesetupconference) принимает исходный вызов от сторонних поставщиков в качестве входных данных, выделяет вызов конференции, подключает исходный вызов к Конференции и выделяет вызов консультации, маркер которого возвращается приложению.</span><span class="sxs-lookup"><span data-stu-id="1702c-126">**TAPI 2.x:** The [**lineSetupConference**](/windows/win32/api/tapi/nf-tapi-linesetupconference) function takes the original two-party call as input, allocates a conference call, connects the original call to the conference, and allocates a consultation call whose handle is returned to the application.</span></span>

<span data-ttu-id="1702c-127">Если приложение планирует добавить еще одного участника на конференцию, в вызове консультации можно выполнить операцию вызова.</span><span class="sxs-lookup"><span data-stu-id="1702c-127">If the application is going to add another member to the conference, a dial operation can be performed on the consultation call.</span></span> <span data-ttu-id="1702c-128">Затем в функции [**линеаддтоконференце**](/windows/win32/api/tapi/nf-tapi-lineaddtoconference) используются обработчики вызовов конференций и подключение к вызову консультации.</span><span class="sxs-lookup"><span data-stu-id="1702c-128">The conference call handle and the consultation call connection are then used in the [**lineAddToConference**](/windows/win32/api/tapi/nf-tapi-lineaddtoconference) function.</span></span> <span data-ttu-id="1702c-129">Участники Конференции также могут быть добавлены с помощью функции [**линепрепареаддтоконференце**](/windows/win32/api/tapi/nf-tapi-lineprepareaddtoconference) , если это поддерживается поставщиком услуг.</span><span class="sxs-lookup"><span data-stu-id="1702c-129">Conference members may also be added using [**linePrepareAddToConference**](/windows/win32/api/tapi/nf-tapi-lineprepareaddtoconference) function, if supported by the service provider.</span></span>

<span data-ttu-id="1702c-130">Участники конференции удаляются с помощью функции [**линеремовефромконференце**](/windows/win32/api/tapi/nf-tapi-lineremovefromconference) , если поставщик услуг его поддерживает.</span><span class="sxs-lookup"><span data-stu-id="1702c-130">Conference members are removed using the [**lineRemoveFromConference**](/windows/win32/api/tapi/nf-tapi-lineremovefromconference) function, if the service provider supports it.</span></span>

<span data-ttu-id="1702c-131">Кроме того, можно создать конференцию с помощью функции [**линесетуптрансфер**](/windows/win32/api/tapi/nf-tapi-linesetuptransfer) , которая возвращает маркер вызова консультации, и функцию [**линекомплететрансфер**](/windows/win32/api/tapi/nf-tapi-linecompletetransfer) с параметром конференции (вместо параметра [переносить](transfer-ovr.md) ).</span><span class="sxs-lookup"><span data-stu-id="1702c-131">Alternatively, a conference may be created using the [**lineSetupTransfer**](/windows/win32/api/tapi/nf-tapi-linesetuptransfer) function, which returns a consultation call handle, and the [**lineCompleteTransfer**](/windows/win32/api/tapi/nf-tapi-linecompletetransfer) function with the conference option (instead of the [transfer](transfer-ovr.md) option).</span></span>

<span data-ttu-id="1702c-132">**Интерфейс TAPI 3. x:** Метод [**итбасиккаллконтрол:: Conference**](/windows/desktop/api/tapi3if/nf-tapi3if-itbasiccallcontrol-conference) принимает существующий сеанс в качестве входных данных и создает [объект каллхуб](callhub-object.md) , если он еще не существует.</span><span class="sxs-lookup"><span data-stu-id="1702c-132">**TAPI 3.x:** The [**ITBasicCallControl::Conference**](/windows/desktop/api/tapi3if/nf-tapi3if-itbasiccallcontrol-conference) method takes the existing session as input and creates a [CallHub object](callhub-object.md) if one does not already exist.</span></span> <span data-ttu-id="1702c-133">Метод [**итбасиккаллконтрол:: Finish**](/windows/desktop/api/tapi3if/nf-tapi3if-itbasiccallcontrol-finish) добавляет вызов консультации в каллхуб.</span><span class="sxs-lookup"><span data-stu-id="1702c-133">The [**ITBasicCallControl::Finish**](/windows/desktop/api/tapi3if/nf-tapi3if-itbasiccallcontrol-finish) method adds the consultation call to the CallHub.</span></span> <span data-ttu-id="1702c-134">Дополнительные сеансы консультации можно создать с помощью [**итаддресс:: креатекалл**](/windows/desktop/api/tapi3if/nf-tapi3if-itaddress-createcall)и добавить с помощью методов **Conference** и **Finish** .</span><span class="sxs-lookup"><span data-stu-id="1702c-134">Additional consultation sessions may be created using [**ITAddress::CreateCall**](/windows/desktop/api/tapi3if/nf-tapi3if-itaddress-createcall), and added using the **Conference** and **Finish** methods.</span></span>

> [!Note]  
> <span data-ttu-id="1702c-135">Возможности устройства, предназначенного для работы с обделом, могут ограничивать количество сторон, участвующих в одном вызове, и независимо от того, начинается ли Конференция с обычного вызова от двух сторон.</span><span class="sxs-lookup"><span data-stu-id="1702c-135">The capabilities of the addressed line device can limit the number of parties conferenced in a single call and whether or not a conference starts out with a normal two-party call.</span></span>

 

 

 
