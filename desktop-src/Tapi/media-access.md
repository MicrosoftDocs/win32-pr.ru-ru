---
description: Функции мультимедиа отличаются от TAPI 2,2 (TAPI/C), в отличие от TAPI 3 (COM), в основном потому, что API COM имеет доступ к поставщикам служб мультимедиа (MSP).
ms.assetid: 73042eb1-b2d6-4dcb-b40e-f8f3933dcdb0
title: Доступ к носителям
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 5bb3fe361aab9d5b5c9897deb5ea36d6e85adcfd
ms.sourcegitcommit: c16214e53680dc71d1c07111b51f72b82a4512d8
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/03/2021
ms.locfileid: "104273272"
---
# <a name="media-access"></a><span data-ttu-id="b30a3-103">Доступ к носителям</span><span class="sxs-lookup"><span data-stu-id="b30a3-103">Media Access</span></span>

<span data-ttu-id="b30a3-104">Функции мультимедиа отличаются от TAPI 2,2 (TAPI/C), в отличие от TAPI 3 (COM), в основном потому, что API COM имеет доступ к поставщикам служб мультимедиа (MSP).</span><span class="sxs-lookup"><span data-stu-id="b30a3-104">Media features are different with TAPI 2.2 (TAPI/C) as opposed to TAPI 3 (COM), largely because the COM API has access to media service providers (MSPs).</span></span> <span data-ttu-id="b30a3-105">Дополнительные сведения о MSP см. [в разделе о поставщике службы мультимедиа (MSP)](./about-the-media-service-provider-msp-.md).</span><span class="sxs-lookup"><span data-stu-id="b30a3-105">For more information about MSPs, see [About The Media Service Provider (MSP)](./about-the-media-service-provider-msp-.md).</span></span> <span data-ttu-id="b30a3-106">Дополнительные сведения об операциях потока мультимедиа см. в разделе [элемент управления мультимедиа](./device-control.md).</span><span class="sxs-lookup"><span data-stu-id="b30a3-106">For more information about media stream operations, see [Media Control](./device-control.md).</span></span>

<span data-ttu-id="b30a3-107">Двумя важными понятиями для приложения являются тип мультимедиа (или режим) и поток.</span><span class="sxs-lookup"><span data-stu-id="b30a3-107">The two most important concepts for an application are the media type (or mode) and the stream.</span></span> <span data-ttu-id="b30a3-108">Тип — это форма, в которой передаются данные.</span><span class="sxs-lookup"><span data-stu-id="b30a3-108">The type is the form in which data is transmitted.</span></span> <span data-ttu-id="b30a3-109">Дополнительные сведения и список типов, определяемых интерфейсом TAPI, см. в разделе [ \_ константы линемедиамоде](linemediamode--constants.md).</span><span class="sxs-lookup"><span data-stu-id="b30a3-109">For more information and a list of TAPI-defined types, see [LINEMEDIAMODE\_ Constants](linemediamode--constants.md).</span></span> <span data-ttu-id="b30a3-110">Поток мультимедиа — это фактический поток данных.</span><span class="sxs-lookup"><span data-stu-id="b30a3-110">The media stream is the actual stream of data.</span></span> <span data-ttu-id="b30a3-111">MSP может предоставлять прямой доступ к потоку.</span><span class="sxs-lookup"><span data-stu-id="b30a3-111">An MSP can provide direct access to the stream.</span></span> <span data-ttu-id="b30a3-112">Приложения TAPI 2,2 имеют некоторый доступ, но в основном ссылаются на другие интерфейсы API для реализации таких элементов управления.</span><span class="sxs-lookup"><span data-stu-id="b30a3-112">TAPI 2.2 applications have some access, but primarily reference other APIs to implement such controls.</span></span>

<span data-ttu-id="b30a3-113">Эти API включают API аудио, API взаимодействия и интерфейс управления мультимедиа (MCI).</span><span class="sxs-lookup"><span data-stu-id="b30a3-113">These APIs include the Waveform API, the Comm API, and the Media Control Interface (MCI).</span></span> <span data-ttu-id="b30a3-114">API аудио-данных используется для программирования мультимедиа, API взаимодействия — это набор функций связи, предоставляемых пакетом SDK для платформы, а интерфейс MCI предоставляет обобщенный универсальный API для управления устройствами мультимедиа.</span><span class="sxs-lookup"><span data-stu-id="b30a3-114">The Waveform API is used for multimedia programming, the Comm API is the set of communications functions provided by the Platform Software Development Kit (SDK), and the MCI provides a high-level generalized interface for controlling media devices.</span></span>

<span data-ttu-id="b30a3-115">Например, для устройств типа Line приложение может использовать TAPI 2,2 для установления подключения к другой станции.</span><span class="sxs-lookup"><span data-stu-id="b30a3-115">For example, for line devices, an application can use TAPI 2.2 to establish a connection to another station.</span></span> <span data-ttu-id="b30a3-116">После установления подключения приложение может использовать API аудио (или интерфейс API MCI Вавеаудио) на связанном устройстве для воспроизведения звуковых данных (отправки) и записи (получения) аудиоданных через соединение.</span><span class="sxs-lookup"><span data-stu-id="b30a3-116">Once the connection is established, the application can then use the Waveform API (or the MCI Waveaudio API) on the associated device to play back (send) and record (receive) audio data over the connection.</span></span> <span data-ttu-id="b30a3-117">Аналогично, если поток мультимедиа подключения происходит от модема, приложение использует расширения конфигурации модема API связи для управления потоком мультимедиа.</span><span class="sxs-lookup"><span data-stu-id="b30a3-117">Similarly, if the connection media stream is from a modem, an application would use the modem configuration extensions of the Communications API to control the media stream.</span></span>

<span data-ttu-id="b30a3-118">Чтобы предоставить TAPI 2,2 с доступом Media-Stream к телефону или вызову на устройстве линии, поставщик услуг должен реализовать как SPI, так и соответствующий поток мультимедиа SPI или интерфейс драйвера устройства (DDI).</span><span class="sxs-lookup"><span data-stu-id="b30a3-118">To provide TAPI 2.2 with media-stream access to either a phone or a call on a line device, the service provider must implement both the Telephony SPI and the appropriate media stream SPI or device-driver interface (DDI).</span></span> <span data-ttu-id="b30a3-119">Поставщик услуг может поддерживать линии и телефоны одновременно.</span><span class="sxs-lookup"><span data-stu-id="b30a3-119">The service provider can support lines and phones simultaneously.</span></span>

<span data-ttu-id="b30a3-120">Поскольку эти классы устройств и операции с потоками мультимедиа работают независимо друг от друга, координация их использования должна выполняться на уровне приложения.</span><span class="sxs-lookup"><span data-stu-id="b30a3-120">Because these device classes and media stream operations function independently of one another, coordination of their usage must occur at the application level.</span></span> <span data-ttu-id="b30a3-121">Для нескольких приложений, совместно использующих вызовы и потоки мультимедиа, скорее всего, потребуется координация действий на уровне приложения, чтобы избежать конфликта использования TAPI и API потока мультимедиа.</span><span class="sxs-lookup"><span data-stu-id="b30a3-121">Multiple applications that share calls and media streams will likely require coordination of their activities at the application level to prevent conflicting usage of TAPI and the media stream API.</span></span>

<span data-ttu-id="b30a3-122">TAPI сообщает об изменениях в типе потока мультимедиа (голоса, факса, модема данных и т. д.) для участвующих приложений.</span><span class="sxs-lookup"><span data-stu-id="b30a3-122">TAPI reports changes in the type of media stream (voice, fax, data modem, and so on) to participating applications.</span></span> <span data-ttu-id="b30a3-123">Этот процесс иногда называют [*классификацией вызовов*](c-tapgloss.md).</span><span class="sxs-lookup"><span data-stu-id="b30a3-123">This process is sometimes referred to as [*call classification*](c-tapgloss.md).</span></span> <span data-ttu-id="b30a3-124">Механизм, используемый для определения типа потока мультимедиа, зависит от поставщика услуг.</span><span class="sxs-lookup"><span data-stu-id="b30a3-124">The mechanism used to determine the type of media stream is specific to the service provider.</span></span> <span data-ttu-id="b30a3-125">Например, поставщик услуг может отфильтровать поток мультимедиа для энергии или тонов, характеризующих тип мультимедиа, или использовать различенный звонок, Обмен данными в сообщениях по сети или сведения о вызывающем или вызываемом ИДЕНТИФИКАТОРе, чтобы выполнить это определение.</span><span class="sxs-lookup"><span data-stu-id="b30a3-125">For example, a service provider may filter the media stream for energy or tones that characterize the media type, or it may use distinctive ringing, data exchanged in messages over the network, or knowledge about the caller or called ID to make this determination.</span></span>

-   [<span data-ttu-id="b30a3-126">Отслеживание вызовов</span><span class="sxs-lookup"><span data-stu-id="b30a3-126">Call Monitoring</span></span>](call-monitoring.md)
-   <span data-ttu-id="b30a3-127">[Элемент управления мультимедиа](/previous-versions/windows/desktop/legacy/ms736578(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="b30a3-127">[Media Control](/previous-versions/windows/desktop/legacy/ms736578(v=vs.85))</span></span>
-   [<span data-ttu-id="b30a3-128">Сбор цифр</span><span class="sxs-lookup"><span data-stu-id="b30a3-128">Digit Gathering</span></span>](digit-gathering.md)
-   [<span data-ttu-id="b30a3-129">Создание нестандартных цифр и тонов</span><span class="sxs-lookup"><span data-stu-id="b30a3-129">Generating Inband Digits and Tones</span></span>](generating-inband-digits-and-tones.md)

 

 
