---
description: Компьютер пользователя может иметь доступ к нескольким устройствам, выбираемым пользователем и используемым для проведения интерактивных голосов.
ms.assetid: cc7ad70a-157e-4db4-b5e4-00d25686a9dd
title: Настройка терминала для телефонных разговоров
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 75b12e772d8f941cb7c68e25136a843ec5f9a1f2
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "105684528"
---
# <a name="setting-a-terminal-for-phone-conversations"></a><span data-ttu-id="6b844-103">Настройка терминала для телефонных разговоров</span><span class="sxs-lookup"><span data-stu-id="6b844-103">Setting a Terminal for Phone Conversations</span></span>

<span data-ttu-id="6b844-104">Компьютер пользователя может иметь доступ к нескольким устройствам, выбираемым пользователем и используемым для проведения интерактивных голосов.</span><span class="sxs-lookup"><span data-stu-id="6b844-104">The user's computer may have access to multiple devices that are selectable by the user and used to conduct interactive voice conversations.</span></span> <span data-ttu-id="6b844-105">Во-первых, есть телефонное устройство, с лампами, кнопками, дисплеем, кольцом и голосовым устройством ввода-вывода (трубка, громкоговоритель, гарнитура).</span><span class="sxs-lookup"><span data-stu-id="6b844-105">First, there is the phone device itself, complete with lamps, buttons, display, ringer, and voice I/O device (handset, speakerphone, headset).</span></span> <span data-ttu-id="6b844-106">Компьютер пользователя также может иметь отдельное голосовое устройство ввода-вывода (например, гарнитуру или сочетание микрофона или динамика, подключенное к звуковой карте) для использования с телефонными беседами.</span><span class="sxs-lookup"><span data-stu-id="6b844-106">The user's computer may also have a separate voice I/O device (such as a headset or a microphone/speaker combination attached to a sound card) for use with phone conversations.</span></span>

<span data-ttu-id="6b844-107">ТСПИ позволяет пользователю выбрать, куда перенаправлять данные, передаваемые коммутатором, по строке, адресу или вызову.</span><span class="sxs-lookup"><span data-stu-id="6b844-107">TSPI enables the user to select where to route the information that the switch sends over the line, address, or call.</span></span> <span data-ttu-id="6b844-108">Как правило, параметр ожидает, что это один из своих телефонных наборов, и отправляет кольцевые запросы, события лампы (для телефонов стимулов), отображаемые данные и голосовые данные соответствующим образом.</span><span class="sxs-lookup"><span data-stu-id="6b844-108">The switch normally expects this to be one of its phone sets, and sends ring requests, lamp events (for stimulus phones), display data, and voice data as appropriate.</span></span> <span data-ttu-id="6b844-109">Телефон, в свою очередь, отправляет события хуксвитч, события нажатия кнопки (для телефонов стимулов) и передает данные обратно коммутатору.</span><span class="sxs-lookup"><span data-stu-id="6b844-109">The phone in turn sends hookswitch events, button press events (for stimulus phones), and voice data back to the switch.</span></span>

<span data-ttu-id="6b844-110">*Строка* тспи делает события лампы, события отображения и события кольца доступными в качестве функциональных кодов возврата для различных операций со строками в тспи или как незапрошенные сообщения о состоянии вызова, которые отправляются в обратный вызов приложения.</span><span class="sxs-lookup"><span data-stu-id="6b844-110">The *line* portion of TSPI makes lamp events, display events, and ring events available, either as functional return codes to the various line operations in TSPI, or as unsolicited functional call status messages that are sent to the application callback.</span></span> <span data-ttu-id="6b844-111">Реализация поставщика услуг отвечает за сопоставление между функциональным ТСПИ уровнем и базовым стимулом или функциональными сообщениями, используемыми телефонной сетью.</span><span class="sxs-lookup"><span data-stu-id="6b844-111">The service provider implementation is responsible for mapping between the functional TSPI level and the underlying stimulus or functional messages used by the telephony network.</span></span> <span data-ttu-id="6b844-112">В функциональных средах телефонии функции ТСПИ сопоставлены с функциональным протоколом.</span><span class="sxs-lookup"><span data-stu-id="6b844-112">In functional telephony environments, TSPI functions are mapped to the functional protocol.</span></span>

<span data-ttu-id="6b844-113">С помощью функции [**тспи \_ линесеттерминал**](/windows/win32/api/tspi/nf-tspi-tspi_linesetterminal) TAPI может управлять маршрутизацией различных низкоуровневых событий между коммутатором и станцией. Кроме того, он может решить не маршрутизировать некоторые из этих низкоуровневых событий на устройстве.</span><span class="sxs-lookup"><span data-stu-id="6b844-113">Using the [**TSPI\_lineSetTerminal**](/windows/win32/api/tspi/nf-tspi-tspi_linesetterminal) function, TAPI can control the routing of different low-level events exchanged between the switch and the station; it can also decide not to route some of these low-level events to a device.</span></span> <span data-ttu-id="6b844-114">Маршрутизацию различных классов событий можно контролировать по отдельности.</span><span class="sxs-lookup"><span data-stu-id="6b844-114">The routing of the different classes of events can be individually controlled.</span></span> <span data-ttu-id="6b844-115">Например, поток мультимедиа вызова (например, Voice) может быть отправлен на любое устройство преобразователя, если поставщик услуг и оборудование способны это сделать.</span><span class="sxs-lookup"><span data-stu-id="6b844-115">For example, the media stream of a call (such as voice) can be sent to any transducer device if the service provider and hardware are capable of doing so.</span></span> <span data-ttu-id="6b844-116">События звонка с коммутатора на телефон можно сопоставить с визуальным оповещением на экране компьютера или направить на телефонное устройство.</span><span class="sxs-lookup"><span data-stu-id="6b844-116">Ring events from the switch to the phone can be mapped into a visual alert on the computer's screen or they can be routed to a phone device.</span></span> <span data-ttu-id="6b844-117">События лампы и события отображения могут быть пропущены или направлены на телефонное устройство (которое кажется обычным телефонным набором).</span><span class="sxs-lookup"><span data-stu-id="6b844-117">Lamp events and display events can be ignored or routed to a phone device (which appears to behave as a normal phone set).</span></span> <span data-ttu-id="6b844-118">Наконец, нажатие кнопки на телефонном устройстве может быть не передано в строку.</span><span class="sxs-lookup"><span data-stu-id="6b844-118">Finally, button presses at a phone device may or may not be passed on to the line.</span></span> <span data-ttu-id="6b844-119">В любом случае эта маршрутизация низкоуровневых сигналов из линии не влияет на работу строки ТСПИ, которая всегда сопоставляет низкоуровневые события с их функциональным аналогом.</span><span class="sxs-lookup"><span data-stu-id="6b844-119">In any case, this routing of low-level signals from the line does not affect the operation of TSPI's line portion, which always maps the low-level events to their functional equivalent.</span></span> <span data-ttu-id="6b844-120">Приложения могут обращаться к возможностям устройства линии, чтобы определить доступные терминалы.</span><span class="sxs-lookup"><span data-stu-id="6b844-120">Applications can consult a line's device capabilities to determine the terminals it has available.</span></span>

<span data-ttu-id="6b844-121">Иными словами, функция [**тспи \_ линесеттерминал**](/windows/win32/api/tspi/nf-tspi-tspi_linesetterminal) указывает устройство терминала, к которому направляются указанная строка, события адреса или вызов потока мультимедиа.</span><span class="sxs-lookup"><span data-stu-id="6b844-121">In other words, the [**TSPI\_lineSetTerminal**](/windows/win32/api/tspi/nf-tspi-tspi_linesetterminal) function specifies the terminal device to which the specified line, address events or call media stream events are routed.</span></span> <span data-ttu-id="6b844-122">Для каждого класса событий можно указать отдельные терминалы.</span><span class="sxs-lookup"><span data-stu-id="6b844-122">Separate terminals can be specified for each event class.</span></span> <span data-ttu-id="6b844-123">Классы событий включают ламп, кнопки, экран, круг, хуксвитч и поток мультимедиа.</span><span class="sxs-lookup"><span data-stu-id="6b844-123">Event classes include lamps, buttons, display, ringer, hookswitch, and media stream.</span></span>

 

 
