---
description: Для управления устройствами на уровне приложений конечного пользователя или сервера требуется относительно небольшой набор основных сведений.
ms.assetid: 9c787656-93ef-4e0b-9516-8822ae49a83a
title: Управление устройствами (API телефонии)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 83b17336941a55a529c6b436270f7b225a1cada3
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "105682694"
---
# <a name="device-control-telephony-api"></a><span data-ttu-id="8a3d0-103">Управление устройствами (API телефонии)</span><span class="sxs-lookup"><span data-stu-id="8a3d0-103">Device Control (Telephony API)</span></span>

<span data-ttu-id="8a3d0-104">Для управления устройствами на уровне приложений конечного пользователя или сервера требуется относительно небольшой набор основных сведений.</span><span class="sxs-lookup"><span data-stu-id="8a3d0-104">Device control at the end-user or server application level requires a relatively small set of basic information.</span></span> <span data-ttu-id="8a3d0-105">Слой абстракции поставщика услуг выполняет подробную операцию управления устройством.</span><span class="sxs-lookup"><span data-stu-id="8a3d0-105">The service provider abstraction layer performs detailed device control.</span></span> <span data-ttu-id="8a3d0-106">Поставщики услуг сообщают о необходимости сведения об устройстве в приложение через TAPI.</span><span class="sxs-lookup"><span data-stu-id="8a3d0-106">The service providers report required device information to an application through TAPI.</span></span>

<span data-ttu-id="8a3d0-107">К основным категориям устройств относятся:</span><span class="sxs-lookup"><span data-stu-id="8a3d0-107">Key device categories include:</span></span>

-   <span data-ttu-id="8a3d0-108">[Сеть](network-ovr.md): транспортный уровень для обмена данными.</span><span class="sxs-lookup"><span data-stu-id="8a3d0-108">[Network](network-ovr.md): The transport layer for communications.</span></span> <span data-ttu-id="8a3d0-109">С точки зрения приложения сведения о сети обычно внедряются в тип адреса, например ЛИНЕАДДРЕССТИПЕ \_ PHONENUMBER.</span><span class="sxs-lookup"><span data-stu-id="8a3d0-109">From an application's point of view, information about the network is typically embedded in the address type, such as LINEADDRESSTYPE\_PHONENUMBER.</span></span>
-   <span data-ttu-id="8a3d0-110">[Line](line-ovr.md): подключение к сети.</span><span class="sxs-lookup"><span data-stu-id="8a3d0-110">[Line](line-ovr.md): A connection to a network.</span></span> <span data-ttu-id="8a3d0-111">Эта концепция интенсивно используется в TAPI 2,2 (TAPI/C).</span><span class="sxs-lookup"><span data-stu-id="8a3d0-111">This concept is heavily used within TAPI 2.2 (TAPI/C).</span></span>
-   <span data-ttu-id="8a3d0-112">[Канал](channel-ovr.md): подразделение линии.</span><span class="sxs-lookup"><span data-stu-id="8a3d0-112">[Channel](channel-ovr.md): A subdivision of a line.</span></span> <span data-ttu-id="8a3d0-113">Как правило, знание каналов не требуется для приложения, так как поставщик услуг настраивает, как они будут отображаться как адреса.</span><span class="sxs-lookup"><span data-stu-id="8a3d0-113">Knowledge of channels is normally not required of an application because the service provider configures how they will appear as addresses.</span></span>
-   <span data-ttu-id="8a3d0-114">[Адрес](address-ovr.md): сетевое расположение в сети.</span><span class="sxs-lookup"><span data-stu-id="8a3d0-114">[Address](address-ovr.md): A network location on a network.</span></span> <span data-ttu-id="8a3d0-115">Каждая строка или канал имеет один или несколько связанных адресов.</span><span class="sxs-lookup"><span data-stu-id="8a3d0-115">Each line or channel has one or more associated addresses.</span></span> <span data-ttu-id="8a3d0-116">Адрес является ключевой концепцией в интерфейсах TAPI 3,1 (TAPI/COM) и TAPI 2,2 (TAPI/C).</span><span class="sxs-lookup"><span data-stu-id="8a3d0-116">The address is a key concept in both TAPI 3.1 (TAPI/COM) and TAPI 2.2 (TAPI/C).</span></span>
-   <span data-ttu-id="8a3d0-117">[Терминал](terminal-ovr.md): источник или модуль подготовки отчетов для определенного адреса и типа носителя.</span><span class="sxs-lookup"><span data-stu-id="8a3d0-117">[Terminal](terminal-ovr.md): A source or renderer for a particular address and media type.</span></span>

<span data-ttu-id="8a3d0-118">Поставщики услуг сообщают о характеристиках устройств TAPI в ответ на запросы приложений.</span><span class="sxs-lookup"><span data-stu-id="8a3d0-118">The service providers report device characteristics to TAPI in response to application queries.</span></span> <span data-ttu-id="8a3d0-119">Поставщики услуг также инициируют отчеты об изменениях в состоянии устройства.</span><span class="sxs-lookup"><span data-stu-id="8a3d0-119">Service providers also initiate reports on changes in device state.</span></span> <span data-ttu-id="8a3d0-120">Затем эти изменения передаются в приложение на основе уведомлений, запрошенных во время инициализации.</span><span class="sxs-lookup"><span data-stu-id="8a3d0-120">These changes are then reported to an application based on the notifications requested during initialization.</span></span>

<span data-ttu-id="8a3d0-121">Основные характеристики устройства:</span><span class="sxs-lookup"><span data-stu-id="8a3d0-121">Basic device characteristics are:</span></span>

-   [<span data-ttu-id="8a3d0-122">Класс устройства</span><span class="sxs-lookup"><span data-stu-id="8a3d0-122">Device Class</span></span>](device-class-ovr.md)
-   [<span data-ttu-id="8a3d0-123">Идентификатор устройства</span><span class="sxs-lookup"><span data-stu-id="8a3d0-123">Device Identifier</span></span>](device-identifier-ovr.md)
-   [<span data-ttu-id="8a3d0-124">Тип адреса</span><span class="sxs-lookup"><span data-stu-id="8a3d0-124">Address Type</span></span>](address-type-ovr.md)
-   [<span data-ttu-id="8a3d0-125">Идентификатор адреса</span><span class="sxs-lookup"><span data-stu-id="8a3d0-125">Address Identifier</span></span>](address-identifier-ovr.md)
-   [<span data-ttu-id="8a3d0-126">События устройства</span><span class="sxs-lookup"><span data-stu-id="8a3d0-126">Device Events</span></span>](device-events-ovr.md)
-   [<span data-ttu-id="8a3d0-127">Тип носителя</span><span class="sxs-lookup"><span data-stu-id="8a3d0-127">Media Type</span></span>](media-type-ovr.md)
-   [<span data-ttu-id="8a3d0-128">Тип терминала</span><span class="sxs-lookup"><span data-stu-id="8a3d0-128">Terminal Type</span></span>](terminal-type-ovr.md)

<span data-ttu-id="8a3d0-129">Кроме того, поставщики услуг предоставляют сведения о емкости заданного адреса для выполнения различных операций сеанса.</span><span class="sxs-lookup"><span data-stu-id="8a3d0-129">In addition, the service providers supply information concerning the capacity of a given address to perform various session operations.</span></span>

<span data-ttu-id="8a3d0-130">Дополнительные характеристики могут быть связаны с определенными устройствами, если поставщики услуг их поддерживают.</span><span class="sxs-lookup"><span data-stu-id="8a3d0-130">Supplemental characteristics may be associated with certain devices, if the service providers support them.</span></span> <span data-ttu-id="8a3d0-131">Приложение TAPI 2. x обнаруживает возможности с помощью функций [**линежетдевкапс**](/windows/win32/api/tapi/nf-tapi-linegetdevcaps) и [**линежетаддресскапс**](/windows/win32/api/tapi/nf-tapi-linegetaddresscaps) .</span><span class="sxs-lookup"><span data-stu-id="8a3d0-131">A TAPI 2.x application discovers capabilities by using the [**lineGetDevCaps**](/windows/win32/api/tapi/nf-tapi-linegetdevcaps) and [**lineGetAddressCaps**](/windows/win32/api/tapi/nf-tapi-linegetaddresscaps) functions.</span></span> <span data-ttu-id="8a3d0-132">Приложения TAPI 3. x используют для этой цели интерфейс [**итаддресскапабилитиес**](/windows/desktop/api/tapi3if/nn-tapi3if-itaddresscapabilities) .</span><span class="sxs-lookup"><span data-stu-id="8a3d0-132">TAPI 3.x applications use the [**ITAddressCapabilities**](/windows/desktop/api/tapi3if/nn-tapi3if-itaddresscapabilities) interface for this purpose.</span></span>

<span data-ttu-id="8a3d0-133">TAPI 2. x предоставляет специальный набор дополнительных операций, которые поставщик услуг может реализовать для использования с телефонными устройствами.</span><span class="sxs-lookup"><span data-stu-id="8a3d0-133">TAPI 2.x provides a special set of supplemental operations that the service provider may implement for use with phone devices.</span></span> <span data-ttu-id="8a3d0-134">См. раздел [устройства Phone](./opening-and-closing-phone-devices.md).</span><span class="sxs-lookup"><span data-stu-id="8a3d0-134">See [Phone Devices](./opening-and-closing-phone-devices.md).</span></span>

<span data-ttu-id="8a3d0-135">Расширенные возможности зависят от поставщика и не распространяются непосредственно в API телефонии Майкрософт.</span><span class="sxs-lookup"><span data-stu-id="8a3d0-135">Extended capabilities are provider-specific and not directly covered by the Microsoft Telephony API.</span></span> <span data-ttu-id="8a3d0-136">См. раздел [Расширенные функции Line](./extended-line-functions.md), [функции телефонной](./extended-telephony-phone-functions.md)телефонии или [интерфейсы, зависящие от поставщика](provider-specific-interfaces.md).</span><span class="sxs-lookup"><span data-stu-id="8a3d0-136">See [Extended Line Functions](./extended-line-functions.md), [Extended Telephony Phone Functions](./extended-telephony-phone-functions.md), or [Provider-Specific Interfaces](provider-specific-interfaces.md).</span></span>

<span data-ttu-id="8a3d0-137">Ниже приведена сводка операций TAPI, которые запрашивают поставщики услуг на характеристики устройства и предоставляют данные в текущем состоянии.</span><span class="sxs-lookup"><span data-stu-id="8a3d0-137">Below is a summary of TAPI operations that query service providers on device characteristics and provide data on current state.</span></span>



| <span data-ttu-id="8a3d0-138">Функции TAPI 2. x</span><span class="sxs-lookup"><span data-stu-id="8a3d0-138">TAPI 2.x functions</span></span>                                                  | <span data-ttu-id="8a3d0-139">Описание</span><span class="sxs-lookup"><span data-stu-id="8a3d0-139">Description</span></span>                                                                                                    |
|---------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="8a3d0-140">**линежетдевкапс**</span><span class="sxs-lookup"><span data-stu-id="8a3d0-140">**lineGetDevCaps**</span></span>](/windows/win32/api/tapi/nf-tapi-linegetdevcaps)                   | <span data-ttu-id="8a3d0-141">Запрашивает указанное устройство линии для определения возможностей телефонии связанных адресов.</span><span class="sxs-lookup"><span data-stu-id="8a3d0-141">Queries a specified line device to determine the telephony capabilities of associated addresses.</span></span>               |
| [<span data-ttu-id="8a3d0-142">**линежетаддресскапс**</span><span class="sxs-lookup"><span data-stu-id="8a3d0-142">**lineGetAddressCaps**</span></span>](/windows/win32/api/tapi/nf-tapi-linegetaddresscaps)           | <span data-ttu-id="8a3d0-143">Запрашивает указанное устройство линии для определения возможностей телефонии определенного адреса.</span><span class="sxs-lookup"><span data-stu-id="8a3d0-143">Queries a specified line device to determine the telephony capabilities of specific address.</span></span>                   |
| [<span data-ttu-id="8a3d0-144">**линежетдевконфиг**</span><span class="sxs-lookup"><span data-stu-id="8a3d0-144">**lineGetDevConfig**</span></span>](/windows/win32/api/tapi/nf-tapi-linegetdevconfig)               | <span data-ttu-id="8a3d0-145">Возвращает непрозрачную структуру данных, в которой хранится текущая конфигурация устройства.</span><span class="sxs-lookup"><span data-stu-id="8a3d0-145">Returns an "opaque" data structure that stores the current configuration of a device.</span></span>                          |
| [<span data-ttu-id="8a3d0-146">**линесетдевконфиг**</span><span class="sxs-lookup"><span data-stu-id="8a3d0-146">**lineSetDevConfig**</span></span>](/windows/win32/api/tapi/nf-tapi-linesetdevconfig)               | <span data-ttu-id="8a3d0-147">Восстанавливает конфигурацию устройства.</span><span class="sxs-lookup"><span data-stu-id="8a3d0-147">Restores device configuration.</span></span>                                                                                 |
| [<span data-ttu-id="8a3d0-148">**линеконфигдиалог**</span><span class="sxs-lookup"><span data-stu-id="8a3d0-148">**lineConfigDialog**</span></span>](/windows/win32/api/tapi/nf-tapi-lineconfigdialog)               | <span data-ttu-id="8a3d0-149">Отображение диалогового окна, позволяющего пользователю настраивать параметры, связанные с устройством.</span><span class="sxs-lookup"><span data-stu-id="8a3d0-149">Display a dialog box that allows the user to configure parameters related to the device.</span></span>                       |
| [<span data-ttu-id="8a3d0-150">**линежетид**</span><span class="sxs-lookup"><span data-stu-id="8a3d0-150">**lineGetID**</span></span>](/windows/win32/api/tapi/nf-tapi-linegetid)                             | <span data-ttu-id="8a3d0-151">Извлекает стабильный идентификатор устройства, который можно использовать в дальнейших вызовах функций TAPI или с другим API.</span><span class="sxs-lookup"><span data-stu-id="8a3d0-151">Retrieves a stable device identifier that can be used in further TAPI function calls, or with a different API.</span></span> |
| [<span data-ttu-id="8a3d0-152">**линежетлинедевстатус**</span><span class="sxs-lookup"><span data-stu-id="8a3d0-152">**lineGetLineDevStatus**</span></span>](/windows/win32/api/tapi/nf-tapi-linegetlinedevstatus)       | <span data-ttu-id="8a3d0-153">Запрашивает текущее состояние устройства, например число активных вызовов.</span><span class="sxs-lookup"><span data-stu-id="8a3d0-153">Queries device for current status, such as number of active calls.</span></span>                                             |
| [<span data-ttu-id="8a3d0-154">**линесетлинедевстатус**</span><span class="sxs-lookup"><span data-stu-id="8a3d0-154">**lineSetLineDevStatus**</span></span>](/windows/win32/api/tapi/nf-tapi-linesetlinedevstatus)       | <span data-ttu-id="8a3d0-155">Задает состояние устройства, например задание устройства как не в службе.</span><span class="sxs-lookup"><span data-stu-id="8a3d0-155">Sets device status, such as setting a device as not in service.</span></span>                                                |
| [<span data-ttu-id="8a3d0-156">**линежетикон**</span><span class="sxs-lookup"><span data-stu-id="8a3d0-156">**lineGetIcon**</span></span>](/windows/win32/api/tapi/nf-tapi-linegeticon)                         | <span data-ttu-id="8a3d0-157">Возвращает специфический для поставщика значок, отображаемый пользователю.</span><span class="sxs-lookup"><span data-stu-id="8a3d0-157">Retrieves provider-specific icon for display to the user.</span></span>                                                      |
| [<span data-ttu-id="8a3d0-158">**линенеготиатикстверсион**</span><span class="sxs-lookup"><span data-stu-id="8a3d0-158">**lineNegotiateExtVersion**</span></span>](/windows/win32/api/tapi/nf-tapi-linenegotiateextversion) | <span data-ttu-id="8a3d0-159">Позволяет приложению согласовывать версию расширения для использования с указанным устройством.</span><span class="sxs-lookup"><span data-stu-id="8a3d0-159">Allows an application to negotiate an extension version to use with the specified line device.</span></span>                 |
| [<span data-ttu-id="8a3d0-160">**линедевспеЦифик**</span><span class="sxs-lookup"><span data-stu-id="8a3d0-160">**lineDevSpecific**</span></span>](/windows/win32/api/tapi/nf-tapi-linedevspecific)                 | <span data-ttu-id="8a3d0-161">Предоставляет доступ к функциям для конкретных устройств.</span><span class="sxs-lookup"><span data-stu-id="8a3d0-161">Gives access to device-specific features.</span></span>                                                                      |
| [<span data-ttu-id="8a3d0-162">**линедевспеЦификфеатуре**</span><span class="sxs-lookup"><span data-stu-id="8a3d0-162">**lineDevSpecificFeature**</span></span>](/windows/win32/api/tapi/nf-tapi-linedevspecificfeature)   | <span data-ttu-id="8a3d0-163">Отправляет поставщику услуг функции для конкретных устройств.</span><span class="sxs-lookup"><span data-stu-id="8a3d0-163">Sends device-specific features to the service provider.</span></span>                                                        |



 



| <span data-ttu-id="8a3d0-164">Интерфейсы или методы интерфейса TAPI 3. x</span><span class="sxs-lookup"><span data-stu-id="8a3d0-164">TAPI 3.x interfaces or methods</span></span>                                   | <span data-ttu-id="8a3d0-165">Описание</span><span class="sxs-lookup"><span data-stu-id="8a3d0-165">Description</span></span>                                                                                             |
|------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="8a3d0-166">**итаддресскапабилитиес**</span><span class="sxs-lookup"><span data-stu-id="8a3d0-166">**ITAddressCapabilities**</span></span>](/windows/desktop/api/tapi3if/nn-tapi3if-itaddresscapabilities)           | <span data-ttu-id="8a3d0-167">Возвращает сведения о возможностях адреса.</span><span class="sxs-lookup"><span data-stu-id="8a3d0-167">Gets information concerning an address's capabilities.</span></span>                                                  |
| [<span data-ttu-id="8a3d0-168">**итаммедиаформат**</span><span class="sxs-lookup"><span data-stu-id="8a3d0-168">**ITAMMediaFormat**</span></span>](/windows/win32/api/tapi3/nn-tapi3-itammediaformat)                       | <span data-ttu-id="8a3d0-169">Задает и получает™ формат мультимедиа DirectShow.</span><span class="sxs-lookup"><span data-stu-id="8a3d0-169">Sets and gets DirectShow™ media format.</span></span>                                                                 |
| [<span data-ttu-id="8a3d0-170">**итбасикаудиотерминал**</span><span class="sxs-lookup"><span data-stu-id="8a3d0-170">**ITBasicAudioTerminal**</span></span>](/windows/desktop/api/tapi3if/nn-tapi3if-itbasicaudioterminal)             | <span data-ttu-id="8a3d0-171">Задает и получает стандартные характеристики звукового терминала, такие как Volume.</span><span class="sxs-lookup"><span data-stu-id="8a3d0-171">Sets and gets standard audio terminal characteristics, such as volume.</span></span>                                  |
| [<span data-ttu-id="8a3d0-172">**итмедиасуппорт**</span><span class="sxs-lookup"><span data-stu-id="8a3d0-172">**ITMediaSupport**</span></span>](/windows/desktop/api/tapi3if/nn-tapi3if-itmediasupport)                         | <span data-ttu-id="8a3d0-173">Возвращает сведения о возможностях поддержки мультимедиа адреса.</span><span class="sxs-lookup"><span data-stu-id="8a3d0-173">Gets information concerning an address's media support capabilities.</span></span>                                    |
| [<span data-ttu-id="8a3d0-174">**иттерминал**</span><span class="sxs-lookup"><span data-stu-id="8a3d0-174">**ITTerminal**</span></span>](/windows/win32/api/tapi3if/nn-tapi3if-itterminal)                                 | <span data-ttu-id="8a3d0-175">Базовый интерфейс для объекта терминала.</span><span class="sxs-lookup"><span data-stu-id="8a3d0-175">Base interface for the Terminal object.</span></span> <span data-ttu-id="8a3d0-176">Получает такие сведения, как класс терминала и Поддерживаемые носители.</span><span class="sxs-lookup"><span data-stu-id="8a3d0-176">Obtains information such as terminal class and media supported.</span></span> |
| [<span data-ttu-id="8a3d0-177">**иттерминалсуппорт**</span><span class="sxs-lookup"><span data-stu-id="8a3d0-177">**ITTerminalSupport**</span></span>](/windows/win32/api/tapi3if/nn-tapi3if-itterminalsupport)                   | <span data-ttu-id="8a3d0-178">Получает сведения о доступных терминалах и создает дополнительные терминалы.</span><span class="sxs-lookup"><span data-stu-id="8a3d0-178">Gets information on available terminals and creates additional terminals.</span></span>                               |
| [<span data-ttu-id="8a3d0-179">Интерфейсы, зависящие от поставщика</span><span class="sxs-lookup"><span data-stu-id="8a3d0-179">Provider-Specific Interfaces</span></span>](provider-specific-interfaces.md) | <span data-ttu-id="8a3d0-180">Зависимый от поставщика служб.</span><span class="sxs-lookup"><span data-stu-id="8a3d0-180">Service provider dependent.</span></span>                                                                             |



 

 

 
