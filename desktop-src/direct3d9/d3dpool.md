---
description: Определяет класс памяти, который содержит буферы для ресурса.
ms.assetid: 29720b5f-16d7-4bd9-a7bd-e4dbfb00070b
title: Перечисление D3DPOOL (D3D9Types. h)
ms.topic: reference
ms.date: 05/31/2018
topic_type:
- APIRef
- kbSyntax
api_name:
- D3DPOOL
api_type:
- HeaderDef
api_location:
- D3D9Types.h
ms.openlocfilehash: dc1d69d094b2f810855f9ce2116c472ba8ab605e
ms.sourcegitcommit: 14010c34b35fa268046c7683f021f86de08ddd0a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/15/2021
ms.locfileid: "105647851"
---
# <a name="d3dpool-enumeration"></a>Перечисление D3DPOOL

Определяет класс памяти, который содержит буферы для ресурса.

## <a name="syntax"></a>Синтаксис


```C++
typedef enum D3DPOOL { 
  D3DPOOL_DEFAULT      = 0,
  D3DPOOL_MANAGED      = 1,
  D3DPOOL_SYSTEMMEM    = 2,
  D3DPOOL_SCRATCH      = 3,
  D3DPOOL_FORCE_DWORD  = 0x7fffffff
} D3DPOOL, *LPD3DPOOL;
```



## <a name="constants"></a>Константы

<dl> <dt>

<span id="D3DPOOL_DEFAULT"></span><span id="d3dpool_default"></span>**D3DPOOL \_ по умолчанию**
</dt> <dd>

Ресурсы помещаются в пул памяти, наиболее подходящий для набора использований, запрошенных для данного ресурса. Обычно это видеопамять, включая как локальную видеопамять, так и память AGP. Пул D3DPOOL \_ по умолчанию отличается от D3DPOOL \_ Managed и D3DPOOL \_ системмем и указывает, что ресурс помещается в предпочтительную память для доступа к устройству. Обратите внимание, что D3DPOOL \_ по умолчанию никогда не указывает, что \_ \_ в качестве типа пула памяти для этого ресурса следует выбрать D3DPOOL Managed или D3DPOOL системмем. Текстуры, помещенные в \_ пул D3DPOOL по умолчанию, не могут быть заблокированы, если они не являются динамическими текстурами или являются частными, FourCC, форматами драйверов. Для доступа к незаблокированным текстурам необходимо использовать такие функции, как [**IDirect3DDevice9:: упдатесурфаце**](/windows/desktop/api), [**IDirect3DDevice9:: упдатетекстуре**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-updatetexture), [**IDirect3DDevice9:: Жетфронтбуффердата**](/windows/desktop/api)и [**IDirect3DDevice9:: жетрендертаржетдата**](/windows/desktop/api). \_Управляемый D3DPOOL, скорее всего, является лучшим выбором по сравнению с D3DPOOL \_ по умолчанию для большинства приложений. Обратите внимание, что некоторые текстуры, созданные в собственных форматах пикселей, неизвестные для среды выполнения Direct3D, могут быть заблокированы. Также обратите внимание, что, в отличие от задних буферов цепочки, буферы рендеринга, буфера вершин и буферы индексов могут быть заблокированы. При потере устройства ресурсы, созданные с помощью D3DPOOL \_ по умолчанию, должны быть освобождены перед вызовом [**IDirect3DDevice9:: Reset**](/windows/desktop/api). Дополнительные сведения см. в разделе [потерянные устройства (Direct3D 9)](lost-devices.md).

При создании ресурсов с D3DPOOL \_ по умолчанию, если память видеоадаптера уже зафиксирована, управляемые ресурсы будут исключены, чтобы освободить память для удовлетворения запроса.

</dd> <dt>

<span id="D3DPOOL_MANAGED"></span><span id="d3dpool_managed"></span>**\_Управляемый D3DPOOL**
</dt> <dd>

При необходимости ресурсы автоматически копируются в память, доступную для устройств. Управляемые ресурсы поддерживаются системной памятью, и при потере устройства их не нужно создавать повторно. Дополнительные сведения см. в разделе [Управление ресурсами (Direct3D 9)](managing-resources.md) . Управляемые ресурсы могут быть заблокированы. Напрямую изменяется только копия системной памяти. При необходимости Direct3D копирует изменения в память, доступную для драйвера.



|                                                                                                                                                                                                                                     |
|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Различия между Direct3D 9 и Direct3D 9Ex:<br/> \_Управляемый D3DPOOL является допустимым с [**IDirect3DDevice9**](/windows/desktop/api), однако он недопустим для [**IDirect3DDevice9Ex**](/windows/desktop/api/d3d9/nn-d3d9-idirect3ddevice9ex).<br/> |



 

</dd> <dt>

<span id="D3DPOOL_SYSTEMMEM"></span><span id="d3dpool_systemmem"></span>**D3DPOOL \_ системмем**
</dt> <dd>

Ресурсы помещаются в память, которая обычно не доступна для устройства Direct3D. Это выделение памяти потребляет системную память, но не уменьшает объем оперативной памяти. Эти ресурсы не нужно создавать повторно при потере устройства. Ресурсы в этом пуле могут быть заблокированы и могут использоваться в качестве источника операции [**IDirect3DDevice9:: упдатесурфаце**](/windows/desktop/api) или [**IDirect3DDevice9:: упдатетекстуре**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-updatetexture) к ресурсу памяти, созданному с помощью D3DPOOL \_ по умолчанию.

</dd> <dt>

<span id="D3DPOOL_SCRATCH"></span><span id="d3dpool_scratch"></span>**D3DPOOL \_**
</dt> <dd>

Ресурсы размещаются в ОЗУ системы и не требуют повторного создания при потере устройства. Эти ресурсы не связаны с ограничениями размера устройства или формата. По этой причине доступ к этим ресурсам не может осуществляться с помощью устройства Direct3D, они не задаются как текстуры или целевые объекты прорисовки. Однако эти ресурсы всегда можно создавать, блокировать и копировать.

</dd> <dt>

<span id="D3DPOOL_FORCE_DWORD"></span><span id="d3dpool_force_dword"></span>**D3DPOOL \_ Force \_ DWORD**
</dt> <dd>

Заставляет это перечисление компилироваться до 32 бит в размере. Без этого значения некоторые компиляторы позволяли бы компилировать это перечисление до размера, отличного от 32 бит. Это значение не используется.

</dd> </dl>

## <a name="remarks"></a>Комментарии

Все типы пулов являются допустимыми для всех ресурсов, включая буферы вершин, буферы индексов, текстуры и поверхности.

В следующих таблицах указываются ограничения для типов пула для целевых объектов рендеринга, наборов элементов глубины и динамических и mipmap использования. Значение x означает совместимую комбинацию; отсутствие x означает несовместимость.



| пул               | D3DUSAGE \_ рендертаржет | D3DUSAGE \_ депсстенЦил |
|--------------------|------------------------|------------------------|
| D3DPOOL \_ по умолчанию   | x                      | x                      |
| \_Управляемый D3DPOOL   |                        |                        |
| D3DPOOL \_   |                        |                        |
| D3DPOOL \_ системмем |                        |                        |



 



| пул               | D3DUSAGE \_ dynamic | D3DUSAGE \_ аутоженмипмап |
|--------------------|-------------------|-------------------------|
| D3DPOOL \_ по умолчанию   | x                 | x                       |
| \_Управляемый D3DPOOL   |                   | x                       |
| D3DPOOL \_   |                   |                         |
| D3DPOOL \_ системмем | x                 |                         |



 

Дополнительные сведения о типах использования см. в разделе [**D3DUSAGE**](d3dusage.md).

Пулы нельзя смешивать для различных объектов, содержащихся в одном ресурсе (MIP уровни в mipmap), и при выборе пула его нельзя изменить.

Приложения должны использовать D3DPOOL \_ , управляемые для большинства статических ресурсов, так как это позволяет приложению работать с потерянными устройствами. (Управляемые ресурсы восстанавливаются средой выполнения.) Это особенно полезно для систем с архитектурой унифицированной памяти. Другие динамические ресурсы не являются хорошим соответствием для \_ управляемого D3DPOOL. На самом деле буферы индексов и буферы вершин нельзя создавать с помощью D3DPOOL \_ , управляемых вместе с D3DUSAGE \_ dynamic.

Для динамических текстур иногда желательно использовать пару видеопамяти и текстур системной памяти, выделить видеопамять с помощью D3DPOOL \_ по умолчанию и системной памяти с помощью D3DPOOL \_ системмем. Можно блокировать и изменять биты текстуры системной памяти с помощью метода блокировки. Затем можно обновить текстуру видеопамяти с помощью [**IDirect3DDevice9:: упдатетекстуре**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-updatetexture).

## <a name="requirements"></a>Требования



| Требование | Значение |
|-------------------|----------------------------------------------------------------------------------------|
| Header<br/> | <dl> <dt>D3D9Types. h</dt> </dl> |



## <a name="see-also"></a>См. также раздел

<dl> <dt>

[Перечисления Direct3D](dx9-graphics-reference-d3d-enums.md)
</dt> <dt>

[**D3DUSAGE**](d3dusage.md)
</dt> <dt>

[**IDirect3DDevice9:: Креатекубетекстуре**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-createcubetexture)
</dt> <dt>

[**IDirect3DDevice9:: Креатеиндексбуффер**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-createindexbuffer)
</dt> <dt>

[**IDirect3DDevice9:: Креатетекстуре**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-createtexture)
</dt> <dt>

[**IDirect3DDevice9:: Креатеволуметекстуре**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-createvolumetexture)
</dt> <dt>

[**IDirect3DDevice9:: Креатевертексбуффер**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-createvertexbuffer)
</dt> <dt>

[**D3DINDEXBUFFER \_ DESC**](d3dindexbuffer-desc.md)
</dt> <dt>

[**D3DSURFACE \_ DESC**](d3dsurface-desc.md)
</dt> <dt>

[**D3DVERTEXBUFFER \_ DESC**](d3dvertexbuffer-desc.md)
</dt> <dt>

[**D3DVOLUME \_ DESC**](d3dvolume-desc.md)
</dt> </dl>

 

 
