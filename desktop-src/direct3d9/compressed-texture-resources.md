---
description: Карты текстуры — это цифровые изображения, нарисованные на трехмерных фигурах для визуальной детализации.
ms.assetid: 0ea5cb07-a21a-4e2c-93e2-54966153bb8a
title: Сжатые ресурсы текстуры (Direct3D 9)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: b9b7ef048c0e1780f92246a407863a4fa48a94a0
ms.sourcegitcommit: c7add10d695482e1ceb72d62b8a4ebd84ea050f7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "104262735"
---
# <a name="compressed-texture-resources-direct3d-9"></a><span data-ttu-id="8deba-103">Сжатые ресурсы текстуры (Direct3D 9)</span><span class="sxs-lookup"><span data-stu-id="8deba-103">Compressed Texture Resources (Direct3D 9)</span></span>

<span data-ttu-id="8deba-104">Карты текстуры — это цифровые изображения, нарисованные на трехмерных фигурах для визуальной детализации.</span><span class="sxs-lookup"><span data-stu-id="8deba-104">Texture maps are digitized images drawn on three-dimensional shapes to add visual detail.</span></span> <span data-ttu-id="8deba-105">Они сопоставляются с этими фигурами на этапе растеризации, и этот процесс может потреблять большие объемы системной шины и памяти.</span><span class="sxs-lookup"><span data-stu-id="8deba-105">They are mapped into these shapes during rasterization, and the process can consume large amounts of both the system bus and memory.</span></span> <span data-ttu-id="8deba-106">Чтобы уменьшить объем памяти, потребляемый текстурами, Direct3D поддерживает сжатие поверхностей текстуры.</span><span class="sxs-lookup"><span data-stu-id="8deba-106">To reduce the amount of memory consumed by textures, Direct3D supports the compression of texture surfaces.</span></span> <span data-ttu-id="8deba-107">Некоторые устройства Direct3D поддерживают сжатые поверхности текстур по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="8deba-107">Some Direct3D devices support compressed texture surfaces natively.</span></span> <span data-ttu-id="8deba-108">На таких устройствах после того как вы создали сжатую поверхность и загрузили в нее данные, поверхность можно использовать в Direct3D как любую другую поверхность текстуры.</span><span class="sxs-lookup"><span data-stu-id="8deba-108">On such devices, when you have created a compressed surface and loaded the data into it, the surface can be used in Direct3D like any other texture surface.</span></span> <span data-ttu-id="8deba-109">Direct3D обрабатывает распаковку, если текстура сопоставлена трехмерному объекту.</span><span class="sxs-lookup"><span data-stu-id="8deba-109">Direct3D handles decompression when the texture is mapped to a 3D object.</span></span>

## <a name="storage-efficiency-and-texture-compression"></a><span data-ttu-id="8deba-110">Эффективность хранения и сжатие текстур</span><span class="sxs-lookup"><span data-stu-id="8deba-110">Storage Efficiency and Texture Compression</span></span>

<span data-ttu-id="8deba-111">Все форматы сжатия текстур являются степенью двух.</span><span class="sxs-lookup"><span data-stu-id="8deba-111">All texture compression formats are powers of two.</span></span> <span data-ttu-id="8deba-112">Это не означает, что текстура обязательно должна быть квадратной, но означает, что значения x и y должны быть степенями двух.</span><span class="sxs-lookup"><span data-stu-id="8deba-112">While this does not mean that a texture is necessarily square, it does mean that both x and y are powers of two.</span></span> <span data-ttu-id="8deba-113">Например, если текстура изначально имеет размер 512 на 128 байтов, следующая текстура будет иметь размеры 256 на 64 и так далее, при этом каждый уровень будет уменьшаться на степень двух.</span><span class="sxs-lookup"><span data-stu-id="8deba-113">For example, if a texture is originally 512 by 128 bytes, the next mipmapping would be 256 by 64 and so on, with each level decreasing by a power of two.</span></span> <span data-ttu-id="8deba-114">На более низких уровнях, где текстура фильтруется до 16 на 2 и 8 на 1, будут присутствовать неиспользованные биты, поскольку блок сжатия — это всегда блок текселей 4 на 4.</span><span class="sxs-lookup"><span data-stu-id="8deba-114">At lower levels, where the texture is filtered to 16 by 2 and 8 by 1, there will be wasted bits because the compression block is always a 4 by 4 block of texels.</span></span> <span data-ttu-id="8deba-115">Неиспользованные части блока отбиваются.</span><span class="sxs-lookup"><span data-stu-id="8deba-115">Unused portions of the block are padded.</span></span> <span data-ttu-id="8deba-116">Несмотря на существование неиспользованных битов на более низких уровнях, совокупное преимущество значительно.</span><span class="sxs-lookup"><span data-stu-id="8deba-116">Although there are wasted bits at the lowest levels, the overall gain is still significant.</span></span> <span data-ttu-id="8deba-117">В худшем случае в теории можно создать структуру 2000 на 1 (нулевая степень 2).</span><span class="sxs-lookup"><span data-stu-id="8deba-117">The worst case is, in theory, a 2K by 1 texture (2⁰ power).</span></span> <span data-ttu-id="8deba-118">В этом случае шифруется только одна строка пикселей на блок, остальная часть блока не используется.</span><span class="sxs-lookup"><span data-stu-id="8deba-118">Here, only a single row of pixels is encoded per block, while the rest of the block is unused.</span></span>

## <a name="mixing-formats-within-a-single-texture"></a><span data-ttu-id="8deba-119">Смешивание форматов в пределах одной текстуры</span><span class="sxs-lookup"><span data-stu-id="8deba-119">Mixing Formats Within a Single Texture</span></span>

<span data-ttu-id="8deba-120">Обратите внимание, что любая текстура должна указывать, что ее данные хранятся по 64 или 128 битов на группу из 16 текселей.</span><span class="sxs-lookup"><span data-stu-id="8deba-120">It is important to note that any single texture must specify that its data is stored as 64 or 128 bits per group of 16 texels.</span></span> <span data-ttu-id="8deba-121">Если 64-разрядные блоки, то есть формат DXT1-используется для текстуры, можно смешивать непрозрачные и одноразрядные альфа-форматы для каждого блока в пределах той же текстуры.</span><span class="sxs-lookup"><span data-stu-id="8deba-121">If 64-bit blocks - that is, format DXT1 - are used for the texture, it is possible to mix the opaque and 1-bit alpha formats on a per-block basis within the same texture.</span></span> <span data-ttu-id="8deba-122">Иными словами, сравнение целочисленной величины без знака \_ для цвета 0 и цвета \_ 1 выполняется уникальным образом для каждого блока 16 пикселей текстуры.</span><span class="sxs-lookup"><span data-stu-id="8deba-122">In other words, the comparison of the unsigned integer magnitude of color\_0 and color\_1 is performed uniquely for each block of 16 texels.</span></span>

<span data-ttu-id="8deba-123">После того как используются блоки 128-bit, необходимо указать в явном виде (Format DXT2 и DXT3) или режиме интерполяции (Format DXT4 и DXT5) для всей текстуры.</span><span class="sxs-lookup"><span data-stu-id="8deba-123">Once the 128-bit blocks are used, the alpha channel must be specified in either explicit (format DXT2 and DXT3) or interpolated mode (format DXT4 and DXT5) for the entire texture.</span></span> <span data-ttu-id="8deba-124">Как и в случае с цветом, если выбран режим интерполяции (Format DXT4 и DXT5), то для каждого блочного блока можно использовать восемь с интерполяцией альфа-канала или шесть режимов с интерполяцией.</span><span class="sxs-lookup"><span data-stu-id="8deba-124">As with color, when interpolated mode (format DXT4 and DXT5) is selected, then either eight interpolated alphas or six interpolated alphas mode can be used on a block-by-block basis.</span></span> <span data-ttu-id="8deba-125">Опять же, сравнение значений альфа \_ 0 и альфа \_ 1 выполняется отдельно для каждого блока.</span><span class="sxs-lookup"><span data-stu-id="8deba-125">Again the magnitude comparison of alpha\_0 and alpha\_1 is done uniquely on a block-by-block basis.</span></span>

<span data-ttu-id="8deba-126">Direct3D предоставляет службы для сжатия поверхностей, которые служат для текстурирования трехмерных моделей.</span><span class="sxs-lookup"><span data-stu-id="8deba-126">Direct3D provides services to compress surfaces that are used for texturing 3D models.</span></span> <span data-ttu-id="8deba-127">Этот раздел содержит сведения о создании данных на сжатой поверхности текстуры и работе с этими данными.</span><span class="sxs-lookup"><span data-stu-id="8deba-127">This section provides information about creating and manipulating the data in a compressed texture surface.</span></span>

<span data-ttu-id="8deba-128">Сведения содержатся в следующих разделах.</span><span class="sxs-lookup"><span data-stu-id="8deba-128">Information is contained in the following topics.</span></span>

-   [<span data-ttu-id="8deba-129">Непрозрачные и 1-разрядные текстуры Alpha (Direct3D 9)</span><span class="sxs-lookup"><span data-stu-id="8deba-129">Opaque and 1-Bit Alpha Textures (Direct3D 9)</span></span>](opaque-and-1-bit-alpha-textures.md)
-   [<span data-ttu-id="8deba-130">Текстуры с альфа-каналами (Direct3D 9)</span><span class="sxs-lookup"><span data-stu-id="8deba-130">Textures with Alpha Channels (Direct3D 9)</span></span>](textures-with-alpha-channels.md)
-   [<span data-ttu-id="8deba-131">Форматы сжатых текстур (Direct3D 9)</span><span class="sxs-lookup"><span data-stu-id="8deba-131">Compressed Texture Formats (Direct3D 9)</span></span>](compressed-texture-formats.md)
-   [<span data-ttu-id="8deba-132">Использование сжатых текстур (Direct3D 9)</span><span class="sxs-lookup"><span data-stu-id="8deba-132">Using Compressed Textures (Direct3D 9)</span></span>](using-compressed-textures.md)

## <a name="related-topics"></a><span data-ttu-id="8deba-133">См. также</span><span class="sxs-lookup"><span data-stu-id="8deba-133">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="8deba-134">Текстуры Direct3D</span><span class="sxs-lookup"><span data-stu-id="8deba-134">Direct3D Textures</span></span>](direct3d-textures.md)
</dt> </dl>

 

 



