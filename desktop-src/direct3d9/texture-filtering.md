---
description: Когда Direct3D отображает примитив, трехмерный примитив сопоставляется двумерному экрану.
ms.assetid: vs|directx_sdk|~\texture_filtering.htm
title: Фильтрация текстур (Direct3D 9)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: faeeb83e1a3bc7fc03534771b15b6076aeb48f8c
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/06/2021
ms.locfileid: "104495282"
---
# <a name="texture-filtering-direct3d-9"></a><span data-ttu-id="e339f-103">Фильтрация текстур (Direct3D 9)</span><span class="sxs-lookup"><span data-stu-id="e339f-103">Texture Filtering (Direct3D 9)</span></span>

<span data-ttu-id="e339f-104">Когда Direct3D отображает примитив, трехмерный примитив сопоставляется двумерному экрану.</span><span class="sxs-lookup"><span data-stu-id="e339f-104">When Direct3D renders a primitive, it maps the 3D primitive onto a 2D screen.</span></span> <span data-ttu-id="e339f-105">Если примитив имеет текстуру, Direct3D должен использовать эту текстуру для создания цвета для каждого пикселя обработанного двумерного изображения примитива.</span><span class="sxs-lookup"><span data-stu-id="e339f-105">If the primitive has a texture, Direct3D must use that texture to produce a color for each pixel in the primitive's 2D rendered image.</span></span> <span data-ttu-id="e339f-106">Для каждого пикселя изображения примитива на экране необходимо получить значение цвета из текстуры.</span><span class="sxs-lookup"><span data-stu-id="e339f-106">For every pixel in the primitive's on-screen image, it must obtain a color value from the texture.</span></span> <span data-ttu-id="e339f-107">Этот процесс называется фильтрация текстур.</span><span class="sxs-lookup"><span data-stu-id="e339f-107">This process is called texture filtering.</span></span>

<span data-ttu-id="e339f-108">При проведении операции фильтрации текстуры используемая текстура также обычно увеличивается или уменьшается.</span><span class="sxs-lookup"><span data-stu-id="e339f-108">When a texture filter operation is performed, the texture being used is typically also being magnified or minified.</span></span> <span data-ttu-id="e339f-109">Другими словами она сопоставляется изображению примитива, которое больше или меньше, чем она сама.</span><span class="sxs-lookup"><span data-stu-id="e339f-109">In other words, it is being mapped into a primitive image that is larger or smaller than itself.</span></span> <span data-ttu-id="e339f-110">Увеличение текстуры может привести к сопоставлению множества пикселей одному текселю.</span><span class="sxs-lookup"><span data-stu-id="e339f-110">Magnification of a texture can result in many pixels being mapped to one texel.</span></span> <span data-ttu-id="e339f-111">Результатом может быть грубый внешний вид.</span><span class="sxs-lookup"><span data-stu-id="e339f-111">The result can be a chunky appearance.</span></span> <span data-ttu-id="e339f-112">Уменьшение текстуры часто означает, что один пиксель сопоставляется множеству текселей.</span><span class="sxs-lookup"><span data-stu-id="e339f-112">Minification of a texture often means that a single pixel is mapped to many texels.</span></span> <span data-ttu-id="e339f-113">Полученное изображение может быть нечетким или «зубчатым».</span><span class="sxs-lookup"><span data-stu-id="e339f-113">The resulting image can be blurry or aliased.</span></span> <span data-ttu-id="e339f-114">Чтобы устранить эти проблемы, необходимо выполнить наложение цветов текселей для получения цвета пикселя.</span><span class="sxs-lookup"><span data-stu-id="e339f-114">To resolve these problems, some blending of the texel colors must be performed to arrive at a color for the pixel.</span></span>

<span data-ttu-id="e339f-115">Direct3D упрощает сложный процесс фильтрации текстур.</span><span class="sxs-lookup"><span data-stu-id="e339f-115">Direct3D simplifies the complex process of texture filtering.</span></span> <span data-ttu-id="e339f-116">Предоставляется три типа фильтрации текстур — линейная фильтрация, анизотропная фильтрации и фильтрация с использование MIP-карт.</span><span class="sxs-lookup"><span data-stu-id="e339f-116">It provides you with three types of texture filtering - linear filtering, anisotropic filtering, and mipmap filtering.</span></span> <span data-ttu-id="e339f-117">При отказе от фильтрации текстур Direct3D использует метод под названием выборка с ближайшей точки.</span><span class="sxs-lookup"><span data-stu-id="e339f-117">If you select no texture filtering, Direct3D uses a technique called nearest-point sampling.</span></span>

<span data-ttu-id="e339f-118">Каждый тип фильтрации текстур имеет как преимущества, так и недостатки.</span><span class="sxs-lookup"><span data-stu-id="e339f-118">Each type of texture filtering has advantages and disadvantages.</span></span> <span data-ttu-id="e339f-119">Например использование линейной фильтрации текстур может привести к неровным краями или грубому внешнему виду конечного изображения.</span><span class="sxs-lookup"><span data-stu-id="e339f-119">For instance, linear texture filtering can produce jagged edges or a chunky appearance in the final image.</span></span> <span data-ttu-id="e339f-120">Однако этот метод фильтрации текстур требует меньшего количества вычислений.</span><span class="sxs-lookup"><span data-stu-id="e339f-120">However, it is a computationally low-overhead method of texture filtering.</span></span> <span data-ttu-id="e339f-121">Фильтрация с помощью MIP-карт обычно обеспечивает оптимальные результаты, особенно в сочетании с анизотропной фильтрацией.</span><span class="sxs-lookup"><span data-stu-id="e339f-121">Filtering with mipmaps usually produces the best results, especially when combined with anisotropic filtering.</span></span> <span data-ttu-id="e339f-122">Однако она требует больше всего памяти среди всех методов, поддерживаемых Direct3D.</span><span class="sxs-lookup"><span data-stu-id="e339f-122">However, it requires the most memory of the techniques that Direct3D supports.</span></span>

<span data-ttu-id="e339f-123">Приложения, использующие указатели интерфейса текстуры, должны устанавливать текущий метод фильтрации текстур путем вызова метода [**IDirect3DDevice9:: сетсамплерстате**](/windows/desktop/api) .</span><span class="sxs-lookup"><span data-stu-id="e339f-123">Applications that use texture interface pointers should set the current texture filtering method by calling the [**IDirect3DDevice9::SetSamplerState**](/windows/desktop/api) method.</span></span> <span data-ttu-id="e339f-124">Задайте для первого параметра значение целочисленного индекса (0-7) текстуры, для которой выбирается метод фильтрации текстур.</span><span class="sxs-lookup"><span data-stu-id="e339f-124">Set the value of the first parameter to the integer index number (0-7) of the texture for which you are selecting a texture filtering method.</span></span> <span data-ttu-id="e339f-125">Передайте D3DSAMP \_ магфилтер, D3DSAMP \_ МИНФИЛТЕР или D3DSAMP \_ мипфилтер во второй параметр, чтобы задать фильтр увеличения, минификации или функции текстурирования.</span><span class="sxs-lookup"><span data-stu-id="e339f-125">Pass D3DSAMP\_MAGFILTER, D3DSAMP\_MINFILTER, or D3DSAMP\_MIPFILTER for the second parameter to set the magnification, minification, or mipmapping filter.</span></span> <span data-ttu-id="e339f-126">Передайте Член перечисляемого типа [**D3DTEXTUREFILTERTYPE**](./d3dtexturefiltertype.md) в качестве значения в третьем параметре.</span><span class="sxs-lookup"><span data-stu-id="e339f-126">Pass a member of the [**D3DTEXTUREFILTERTYPE**](./d3dtexturefiltertype.md) enumerated type as the value in the third parameter.</span></span>

<span data-ttu-id="e339f-127">В этом разделе представлены методы фильтрации текстур, поддерживаемые Direct3D.</span><span class="sxs-lookup"><span data-stu-id="e339f-127">This section presents the texture filtering methods that Direct3D supports.</span></span> <span data-ttu-id="e339f-128">Он состоит из следующих разделов.</span><span class="sxs-lookup"><span data-stu-id="e339f-128">It is organized into the following topics.</span></span>

-   [<span data-ttu-id="e339f-129">Выборка с ближайшими точками (Direct3D 9)</span><span class="sxs-lookup"><span data-stu-id="e339f-129">Nearest-Point Sampling (Direct3D 9)</span></span>](nearest-point-sampling.md)
-   [<span data-ttu-id="e339f-130">Линейная фильтрация текстур (Direct3D 9)</span><span class="sxs-lookup"><span data-stu-id="e339f-130">Linear Texture Filtering (Direct3D 9)</span></span>](linear-texture-filtering.md)
-   [<span data-ttu-id="e339f-131">Билинейнойная фильтрация текстур (Direct3D 9)</span><span class="sxs-lookup"><span data-stu-id="e339f-131">Bilinear Texture Filtering (Direct3D 9)</span></span>](bilinear-texture-filtering.md)
-   [<span data-ttu-id="e339f-132">Анизотропная фильтрация текстур (Direct3D 9)</span><span class="sxs-lookup"><span data-stu-id="e339f-132">Anisotropic Texture Filtering (Direct3D 9)</span></span>](anisotropic-texture-filtering.md)
-   [<span data-ttu-id="e339f-133">Фильтрация текстур с помощью MIP-карты (Direct3D 9)</span><span class="sxs-lookup"><span data-stu-id="e339f-133">Texture Filtering with Mipmaps (Direct3D 9)</span></span>](texture-filtering-with-mipmaps.md)

> [!Note]  
> <span data-ttu-id="e339f-134">Несмотря на то, что состояния подготовки к просмотру текстур, представленные в перечисленном типе [**D3DRENDERSTATETYPE**](./d3drenderstatetype.md) , заменяются состояниями стадии текстуры, [**IDirect3DDevice9:: сетрендерстате**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-setrenderstate), в отличие от версии IDirect3DDevice2, не завершается ошибкой, если вы попытаетесь использовать их.</span><span class="sxs-lookup"><span data-stu-id="e339f-134">Although the texture-filtering render states present in the [**D3DRENDERSTATETYPE**](./d3drenderstatetype.md) enumerated type are superseded by texture stage states, the [**IDirect3DDevice9::SetRenderState**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-setrenderstate), as opposed to the IDirect3DDevice2 version, does not fail if you attempt to use them.</span></span> <span data-ttu-id="e339f-135">Вместо этого система сопоставляет результаты этих состояний отрисовки с первым этапом многотекстурного каскада, этап 0.</span><span class="sxs-lookup"><span data-stu-id="e339f-135">Rather, the system maps the effects of these render states to the first stage in the multitexture cascade, stage 0.</span></span> <span data-ttu-id="e339f-136">Приложения не должны смешивать устаревшие состояния отрисовки с соответствующими состояниями этапа текстуры, так как могут возникать непредсказуемые результаты.</span><span class="sxs-lookup"><span data-stu-id="e339f-136">Applications should not mix the legacy render states with their corresponding texture stage states, as unpredictable results can occur.</span></span>

 

## <a name="related-topics"></a><span data-ttu-id="e339f-137">См. также</span><span class="sxs-lookup"><span data-stu-id="e339f-137">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="e339f-138">Текстуры Direct3D</span><span class="sxs-lookup"><span data-stu-id="e339f-138">Direct3D Textures</span></span>](direct3d-textures.md)
</dt> </dl>

 

 
