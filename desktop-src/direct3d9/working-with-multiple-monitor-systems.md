---
description: 'Понятие монопольного полноэкранного режима сохраняется в Direct3D 9, но оно полностью хранится в вызовах метода IDirect3D9:: Креатедевице и IDirect3DDevice9:: Reset.'
ms.assetid: c3503d62-d9f9-4eec-8af3-ebcbfe7064d4
title: Работа с несколькими системами мониторинга (Direct3D 9)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 184a11f06d2296100a0b546e29770f44977b4de3
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/06/2021
ms.locfileid: "105682232"
---
# <a name="working-with-multiple-monitor-systems-direct3d-9"></a><span data-ttu-id="19585-103">Работа с несколькими системами мониторинга (Direct3D 9)</span><span class="sxs-lookup"><span data-stu-id="19585-103">Working with Multiple Monitor Systems (Direct3D 9)</span></span>

<span data-ttu-id="19585-104">Понятие монопольного полноэкранного режима сохраняется в Direct3D 9, но оно полностью хранится в вызовах метода [**IDirect3D9:: креатедевице**](/windows/desktop/api) и [**IDirect3DDevice9:: Reset**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-reset) .</span><span class="sxs-lookup"><span data-stu-id="19585-104">The concept of exclusive full-screen mode is retained in Direct3D 9, but it is kept entirely implicit in the [**IDirect3D9::CreateDevice**](/windows/desktop/api) and [**IDirect3DDevice9::Reset**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-reset) method calls.</span></span> <span data-ttu-id="19585-105">При каждом успешном сбросе или создании устройства в полноэкранном режиме объект Direct3D, создавший устройство, помечается как владелец всех адаптеров в этой системе.</span><span class="sxs-lookup"><span data-stu-id="19585-105">Whenever a device is successfully reset or created in full-screen operation, the Direct3D object that created the device is marked as owning all adapters on that system.</span></span> <span data-ttu-id="19585-106">Это состояние называется монопольным режимом, и на этом этапе объект Direct3D владеет монопольным режимом.</span><span class="sxs-lookup"><span data-stu-id="19585-106">This state is known as exclusive mode, and at this point the Direct3D object owns exclusive mode.</span></span> <span data-ttu-id="19585-107">Режим монопольного доступа означает, что устройства, созданные любым другим объектом Direct3D9, не могут ни выполнять полноэкранное выполнение, ни выделять видеопамяти.</span><span class="sxs-lookup"><span data-stu-id="19585-107">Exclusive mode means that devices created by any other Direct3D9 object can neither assume full-screen operation nor allocate video memory.</span></span> <span data-ttu-id="19585-108">Кроме того, когда объект Direct3D9 предполагает монопольный режим, все устройства, кроме устройства, находящийся в полноэкранном режиме, перемещаются в состояние «утеряно».</span><span class="sxs-lookup"><span data-stu-id="19585-108">In addition, when a Direct3D9 object assumes exclusive mode, all devices other than the device that went full-screen are placed into the lost state.</span></span> <span data-ttu-id="19585-109">Сведения об обработке потерянных устройств см. в разделе [потерянные устройства (Direct3D 9)](lost-devices.md).</span><span class="sxs-lookup"><span data-stu-id="19585-109">For information about how to handle lost devices, see [Lost Devices (Direct3D 9)](lost-devices.md).</span></span>

<span data-ttu-id="19585-110">Наряду с монопольным режимом объект Direct3D9 сообщает окну фокуса, что оно должно использоваться устройством.</span><span class="sxs-lookup"><span data-stu-id="19585-110">Along with exclusive mode, the Direct3D9 object is informed of the focus window to be used by the device.</span></span> <span data-ttu-id="19585-111">Монопольный режим освобождается, когда Последнее полноэкранное устройство, владельцем которого является объект Direct3D9, либо сбрасывается в оконный режим, либо уничтожается.</span><span class="sxs-lookup"><span data-stu-id="19585-111">Exclusive mode is released when the last full-screen device owned by that Direct3D9 object is either reset to windowed mode or destroyed.</span></span>

<span data-ttu-id="19585-112">Устройства можно разделить на две категории, когда объект Direct3D9 владеет монопольным режимом.</span><span class="sxs-lookup"><span data-stu-id="19585-112">Devices can be divided into two categories when a Direct3D9 object owns exclusive mode.</span></span> <span data-ttu-id="19585-113">Первая категория устройств — это те, которые были созданы тем же объектом Direct3D9, который создал устройство, которое уже находится на экране, имеют то же окно фокуса, что и устройство, которое уже находится в полноэкранном режиме, и представляет собой другой адаптер из любого полноэкранного устройства.</span><span class="sxs-lookup"><span data-stu-id="19585-113">The first category of devices are those that were created by the same Direct3D9 object that created the device that is already full-screen, have the same focus window as the device that is already full-screen, and represent a different adapter from any full-screen device.</span></span> <span data-ttu-id="19585-114">Устройства в этой категории не имеют ограничений, касающихся их возможности сброса или создания и не переведены в состояние "потеряно".</span><span class="sxs-lookup"><span data-stu-id="19585-114">Devices in this category have no restrictions concerning their ability to be reset or created and are not placed into the lost state.</span></span> <span data-ttu-id="19585-115">Устройства в этой категории могут даже быть переведены в полноэкранный режим.</span><span class="sxs-lookup"><span data-stu-id="19585-115">Devices in this category can even be placed into full-screen mode.</span></span>

<span data-ttu-id="19585-116">Устройства, не находящиеся в этой категории, которые были созданы другим объектом Direct3D9 или с другим окном фокуса, или для некоторых адаптеров с устройством, который уже находится в полноэкранном режиме, не могут быть сброшены и остаются в состоянии потерянных, пока не будет утрачен монопольный режим.</span><span class="sxs-lookup"><span data-stu-id="19585-116">Devices not in this category, which would be those created by a different Direct3D9 object, or with a different focus window, or for some adapter with a device already full-screen cannot be reset and remain in the lost state until exclusive mode is lost.</span></span>

<span data-ttu-id="19585-117">Практический результат заключается в том, что несколько устройств могут размещаться в полноэкранном режиме, но только в том случае, если все эти устройства предназначены для разных адаптеров, созданы одним и тем же объектом Direct3D9, и все они совместно используют одно и то же окно фокуса.</span><span class="sxs-lookup"><span data-stu-id="19585-117">The practical implication is that a multiple monitor application can place several devices in full-screen mode, but only if all these devices are for different adapters, were created by the same Direct3D9 object, and all share the same focus window.</span></span>

<span data-ttu-id="19585-118">При создании нового устройства с помощью того же объекта [**IDirect3D9**](/windows/desktop/api) и окна фокуса исходное устройство теряет свои поверхности.</span><span class="sxs-lookup"><span data-stu-id="19585-118">When you create a new device using the same [**IDirect3D9**](/windows/desktop/api) object and focus window, your original device will lose its surfaces.</span></span> <span data-ttu-id="19585-119">Вам потребуется вызвать [**IDirect3DDevice9:: Reset**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-reset) на первом устройстве, чтобы приложение использовало его.</span><span class="sxs-lookup"><span data-stu-id="19585-119">You will need to call [**IDirect3DDevice9::Reset**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-reset) on the first device in order for your application to use it.</span></span> <span data-ttu-id="19585-120">Например, чтобы создать два устройства, выполните следующие действия.</span><span class="sxs-lookup"><span data-stu-id="19585-120">For example, to create two devices, do the following:</span></span>

1.  <span data-ttu-id="19585-121">Создание устройства 1</span><span class="sxs-lookup"><span data-stu-id="19585-121">Create Device 1</span></span>
2.  <span data-ttu-id="19585-122">Создание устройства 2</span><span class="sxs-lookup"><span data-stu-id="19585-122">Create Device 2</span></span>
3.  <span data-ttu-id="19585-123">Сброс устройства 1</span><span class="sxs-lookup"><span data-stu-id="19585-123">Reset Device 1</span></span>

## <a name="related-topics"></a><span data-ttu-id="19585-124">См. также</span><span class="sxs-lookup"><span data-stu-id="19585-124">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="19585-125">Советы по программированию</span><span class="sxs-lookup"><span data-stu-id="19585-125">Programming Tips</span></span>](programming-tips.md)
</dt> </dl>

 

 
