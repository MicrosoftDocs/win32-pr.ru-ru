---
description: Все чаще в приложениях применяются специальные эффекты, широко распространенные в фильмах и видеороликах, такие как, рассеивание, скольжение и исчезания.
ms.assetid: 6203922f-9594-4e5c-9baa-8b27ac30978f
title: Разрешается, исчезание и прокрутка (Direct3D 9)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: a2ad837ea846ca43d61102ce426d415270d2f27f
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/06/2021
ms.locfileid: "103806293"
---
# <a name="dissolves-fades-and-swipes-direct3d-9"></a><span data-ttu-id="c1b36-103">Разрешается, исчезание и прокрутка (Direct3D 9)</span><span class="sxs-lookup"><span data-stu-id="c1b36-103">Dissolves, Fades, and Swipes (Direct3D 9)</span></span>

<span data-ttu-id="c1b36-104">Все чаще в приложениях применяются специальные эффекты, широко распространенные в фильмах и видеороликах, такие как, рассеивание, скольжение и исчезания.</span><span class="sxs-lookup"><span data-stu-id="c1b36-104">Increasingly, applications employ special effects that are commonly used in movies and video, such as dissolves, swipes, and fades.</span></span>

<span data-ttu-id="c1b36-105">При эффекте растворения одно изображение постепенно заменяется на другое в ходе плавной смены кадров.</span><span class="sxs-lookup"><span data-stu-id="c1b36-105">In a dissolve, one image is gradually replaced by another in a smooth sequence of frames.</span></span> <span data-ttu-id="c1b36-106">Несмотря на то, что в Direct3D есть методы для формирования такого же эффекта с помощью наложения нескольких текстур, приложения, применяющие буфер трафарета для рассеивания, могут задействовать возможности по наложению текстур в других эффектах одновременно с рассеиванием.</span><span class="sxs-lookup"><span data-stu-id="c1b36-106">Although Direct3D provides methods of using multiple texture blending to achieve the same effect, applications that use the stencil buffer for dissolves can use texture-blending capabilities for other effects while they do a dissolve.</span></span>

<span data-ttu-id="c1b36-107">Когда приложение выполняет рассеивание, необходимо проводить отрисовку двух разных изображений.</span><span class="sxs-lookup"><span data-stu-id="c1b36-107">When your application performs a dissolve, it must render two different images.</span></span> <span data-ttu-id="c1b36-108">В этом случае буфер трафарета применяется для контроля отрисовки пикселей из каждого изображения на целевую поверхность.</span><span class="sxs-lookup"><span data-stu-id="c1b36-108">It uses the stencil buffer to control which pixels from each image are drawn to the rendering target surface.</span></span> <span data-ttu-id="c1b36-109">Вы можете определить серию масок трафарета и копировать их в буфер трафарета по мере поступления кадров.</span><span class="sxs-lookup"><span data-stu-id="c1b36-109">You can define a series of stencil masks and copy them into the stencil buffer on successive frames.</span></span> <span data-ttu-id="c1b36-110">Либо же, вы можете определить базовую маску трафарета для первого кадра и постепенно ее менять.</span><span class="sxs-lookup"><span data-stu-id="c1b36-110">Alternately, you can define a base stencil mask for the first frame and alter it incrementally.</span></span>

<span data-ttu-id="c1b36-111">В начале эффекта рассеивания приложение задает функцию и маску трафарета так, чтобы большая часть пикселей начального изображения проходил тест трафаретом.</span><span class="sxs-lookup"><span data-stu-id="c1b36-111">At the beginning of the dissolve, your application sets the stencil function and stencil mask so that most of the pixels from the starting image pass the stencil test.</span></span> <span data-ttu-id="c1b36-112">Большинство пикселей из конечного изображения не должно проходить тест трафаретом.</span><span class="sxs-lookup"><span data-stu-id="c1b36-112">Most of the pixels from the ending image should fail the stencil test.</span></span> <span data-ttu-id="c1b36-113">В последующих кадрах маска трафарета обновляется так, чтобы все меньше и меньше пикселей начального изображения проходило тест.</span><span class="sxs-lookup"><span data-stu-id="c1b36-113">On successive frames, the stencil mask is updated so that fewer and fewer of the pixels in the starting image pass the test.</span></span> <span data-ttu-id="c1b36-114">В дальнейших кадрах все меньше и меньше пикселей конечного изображения не проходят тест.</span><span class="sxs-lookup"><span data-stu-id="c1b36-114">As the frames progress, fewer and fewer of the pixels in the ending image fail the test.</span></span> <span data-ttu-id="c1b36-115">Таким образом приложение может выполнить рассеивание с любым произвольным узором.</span><span class="sxs-lookup"><span data-stu-id="c1b36-115">In this manner, your application can perform a dissolve using any arbitrary dissolve pattern.</span></span>

<span data-ttu-id="c1b36-116">Эффект постепенного появления или исчезновения — это особый случай рассеивания.</span><span class="sxs-lookup"><span data-stu-id="c1b36-116">Fading in or fading out is a special case of dissolving.</span></span> <span data-ttu-id="c1b36-117">При постепенном появлении, буфер трафарета используется для рассеивания из черного или белого изображения в отрисовку 3D-сцены.</span><span class="sxs-lookup"><span data-stu-id="c1b36-117">When fading in, the stencil buffer is used to dissolve from a black or white image to a rendering of a 3D scene.</span></span> <span data-ttu-id="c1b36-118">Постепенное исчезновение выполняется наоборот, приложение начинает с отрисовки трехмерной сцены и рассеивает ее в черное или белое изображение.</span><span class="sxs-lookup"><span data-stu-id="c1b36-118">Fading out is the opposite, your application starts with a rendering of a 3D scene and dissolves to black or white.</span></span> <span data-ttu-id="c1b36-119">Такой переход можно выполнить с любым желаемым узором.</span><span class="sxs-lookup"><span data-stu-id="c1b36-119">The fade can be done using any arbitrary pattern you want to employ.</span></span>

<span data-ttu-id="c1b36-120">В приложениях Direct3D используется похожий метод для эффекта скольжения.</span><span class="sxs-lookup"><span data-stu-id="c1b36-120">Direct3D applications use a similar technique for swipes.</span></span> <span data-ttu-id="c1b36-121">Например? когда приложение выполняет скольжение слева направо, конечное изображение постепенно накатывается поверх начального изображения в направлении слева направо.</span><span class="sxs-lookup"><span data-stu-id="c1b36-121">For example, when an application performs a left-to-right swipe, the ending image appears to slide gradually on top of the starting image from left to right.</span></span> <span data-ttu-id="c1b36-122">Как и в случае рассеивания следует определить серию масок трафарета, которые загружаются в буфер трафарета для последующих кадров, или последовательно менять начальную маску трафарета.</span><span class="sxs-lookup"><span data-stu-id="c1b36-122">As in a dissolve, you must define a series of stencil masks that are loaded into the stencil buffer on successive frames, or successively modify the starting stencil mask.</span></span> <span data-ttu-id="c1b36-123">Маски трафарета используются для отключения записи пикселей из начального изображения и для включения записи пикселей конечного изображения.</span><span class="sxs-lookup"><span data-stu-id="c1b36-123">The stencil masks are used to disable the writing of pixels from the starting image and to enable the writing of pixels from the ending image.</span></span>

<span data-ttu-id="c1b36-124">Скольжение как эффект несколько более сложен чем рассеивание, так как приложению нужно считывать пиксели конечного изображения в порядке обратном направлению скольжения.</span><span class="sxs-lookup"><span data-stu-id="c1b36-124">A swipe is somewhat more complex than a dissolve in that your application must read pixels from the ending image in the reverse order of the swipe.</span></span> <span data-ttu-id="c1b36-125">То есть, если скольжение идет слева направо, приложение должно считывать пиксели конечного изображения справа налево.</span><span class="sxs-lookup"><span data-stu-id="c1b36-125">That is, if the swipe is moving from left to right, your application must read pixels from the ending image from right to left.</span></span>

## <a name="related-topics"></a><span data-ttu-id="c1b36-126">См. также</span><span class="sxs-lookup"><span data-stu-id="c1b36-126">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="c1b36-127">Методы буфера шаблона</span><span class="sxs-lookup"><span data-stu-id="c1b36-127">Stencil Buffer Techniques</span></span>](stencil-buffer-techniques.md)
</dt> </dl>

 

 



