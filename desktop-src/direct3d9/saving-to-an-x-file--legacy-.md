---
description: Используйте следующую процедуру в приложениях прежних версий, чтобы сохранить файловые шаблоны и данные. x в файл. x.
ms.assetid: 5401b381-3599-465a-b41b-e63b7372fc0e
title: Сохранение в файл X (прежний) (Direct3D 9)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 467f824c8e3ab9cd360a93d3f69fd1a2352548ae
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/06/2021
ms.locfileid: "104341695"
---
# <a name="saving-to-an-x-file-legacy-direct3d-9"></a><span data-ttu-id="181ed-103">Сохранение в файл X (прежний) (Direct3D 9)</span><span class="sxs-lookup"><span data-stu-id="181ed-103">Saving to an X File (Legacy) (Direct3D 9)</span></span>

<span data-ttu-id="181ed-104">Используйте следующую процедуру в приложениях прежних версий, чтобы сохранить файловые шаблоны и данные. x в файл. x.</span><span class="sxs-lookup"><span data-stu-id="181ed-104">Use the following procedure in legacy applications to save .x file templates and data to a .x file.</span></span>

1.  <span data-ttu-id="181ed-105">Используйте функцию [**директксфилекреате**](directxfilecreate.md) для создания объекта [**идиректксфиле**](idirectxfile.md) .</span><span class="sxs-lookup"><span data-stu-id="181ed-105">Use the [**DirectXFileCreate**](directxfilecreate.md) function to create an [**IDirectXFile**](idirectxfile.md) object.</span></span>
2.  <span data-ttu-id="181ed-106">Используйте метод [**идиректксфиле:: регистертемплатес**](idirectxfile--registertemplates.md) , чтобы сообщить файловой системе DirectX о любых шаблонах, которые будут использоваться.</span><span class="sxs-lookup"><span data-stu-id="181ed-106">Use the [**IDirectXFile::RegisterTemplates**](idirectxfile--registertemplates.md) method to inform the DirectX file system about any templates that you will use.</span></span>
3.  <span data-ttu-id="181ed-107">Используйте метод [**идиректксфиле:: креатесавеобжект**](idirectxfile--createsaveobject.md) для создания объекта [**идиректксфилесавеобжект**](idirectxfilesaveobject.md) .</span><span class="sxs-lookup"><span data-stu-id="181ed-107">Use the [**IDirectXFile::CreateSaveObject**](idirectxfile--createsaveobject.md) method to create an [**IDirectXFileSaveObject**](idirectxfilesaveobject.md) object.</span></span>
4.  <span data-ttu-id="181ed-108">При необходимости используйте метод [**идиректксфилесавеобжект:: саветемплатес**](idirectxfilesaveobject--savetemplates.md) для сохранения шаблонов.</span><span class="sxs-lookup"><span data-stu-id="181ed-108">Use the [**IDirectXFileSaveObject::SaveTemplates**](idirectxfilesaveobject--savetemplates.md) method to save templates, if desired.</span></span>
5.  <span data-ttu-id="181ed-109">Перебрать объекты для сохранения.</span><span class="sxs-lookup"><span data-stu-id="181ed-109">Loop through the objects to save.</span></span> <span data-ttu-id="181ed-110">Для каждого объекта верхнего уровня выполните следующие действия.</span><span class="sxs-lookup"><span data-stu-id="181ed-110">For each top-level object, perform the following steps.</span></span>
    -   <span data-ttu-id="181ed-111">Используйте метод [**идиректксфилесавеобжект:: креатедатаобжект**](idirectxfilesaveobject--createdataobject.md) , чтобы создать объект [**идиректксфиледата**](idirectxfiledata.md) в качестве объекта верхнего уровня в файле.</span><span class="sxs-lookup"><span data-stu-id="181ed-111">Use the [**IDirectXFileSaveObject::CreateDataObject**](idirectxfilesaveobject--createdataobject.md) method to create an [**IDirectXFileData**](idirectxfiledata.md) object as a top-level object in the file.</span></span> <span data-ttu-id="181ed-112">Если объект данных верхнего уровня содержит необязательные дочерние объекты, добавьте их в объект, используя соответствующий метод из следующего шага.</span><span class="sxs-lookup"><span data-stu-id="181ed-112">If the top-level data object has optional child objects, add them to the object by using the appropriate method from the next step.</span></span>
    -   <span data-ttu-id="181ed-113">Каждый объект [**идиректксфиледата**](idirectxfiledata.md) может иметь необязательные дочерние объекты, если он допускает его шаблон.</span><span class="sxs-lookup"><span data-stu-id="181ed-113">Each [**IDirectXFileData**](idirectxfiledata.md) object can have optional child objects if its template allows it.</span></span> <span data-ttu-id="181ed-114">Дочерние объекты могут быть любым из трех типов объектов: **идиректксфиледата**, [**идиректксфиледатареференце**](idirectxfiledatareference.md)или [**идиректксфилебинари**](idirectxfilebinary.md).</span><span class="sxs-lookup"><span data-stu-id="181ed-114">The child objects can be any of the three types of objects: **IDirectXFileData**, [**IDirectXFileDataReference**](idirectxfiledatareference.md), or [**IDirectXFileBinary**](idirectxfilebinary.md).</span></span> <span data-ttu-id="181ed-115">Пройдите по объектам, которые необходимо сохранить, добавив необязательный дочерний элемент в список объектов в соответствии с его типом, как показано в следующих шагах.</span><span class="sxs-lookup"><span data-stu-id="181ed-115">Loop through the objects you need to save, adding each optional child member to the object list in the manner appropriate to its type, as illustrated in the following steps.</span></span> <span data-ttu-id="181ed-116">Затем, если тип объекта — data, вызовите метод [**идиректксфилесавеобжект:: креатедатаобжект**](idirectxfilesaveobject--createdataobject.md) , чтобы создать объект **идиректксфиледата** , а затем вызовите метод [**идиректксфиледата:: адддатаобжект**](idirectxfiledata--adddataobject.md) , чтобы добавить его в качестве дочернего элемента объекта.</span><span class="sxs-lookup"><span data-stu-id="181ed-116">Then, if the object type is Data, call the [**IDirectXFileSaveObject::CreateDataObject**](idirectxfilesaveobject--createdataobject.md) method to create an **IDirectXFileData** object, and then call the [**IDirectXFileData::AddDataObject**](idirectxfiledata--adddataobject.md) method to add it as a child of the object.</span></span> <span data-ttu-id="181ed-117">Если тип объекта является ссылкой на данные, вызовите метод [**идиректксфиледата:: адддатареференце**](idirectxfiledata--adddatareference.md) , чтобы создать и добавить объект ссылки на данные в качестве дочернего элемента объекта.</span><span class="sxs-lookup"><span data-stu-id="181ed-117">If the object type is Data Reference, call the [**IDirectXFileData::AddDataReference**](idirectxfiledata--adddatareference.md) method to create and add the data reference object as a child of the object.</span></span> <span data-ttu-id="181ed-118">Или, если тип объекта является двоичным, вызовите метод [**идиректксфиледата:: аддбинарйобжект**](idirectxfiledata--addbinaryobject.md) , чтобы создать и добавить двоичный объект в качестве дочернего для объекта.</span><span class="sxs-lookup"><span data-stu-id="181ed-118">Or, if the object type is Binary, call the [**IDirectXFileData::AddBinaryObject**](idirectxfiledata--addbinaryobject.md) method to create and add the binary object as a child of the object.</span></span>
    -   <span data-ttu-id="181ed-119">Вызовите метод [**идиректксфилесавеобжект:: SaveData**](idirectxfilesaveobject--savedata.md) , чтобы сохранить объект данных и его дочерние элементы.</span><span class="sxs-lookup"><span data-stu-id="181ed-119">Call the [**IDirectXFileSaveObject::SaveData**](idirectxfilesaveobject--savedata.md) method to save the data object and its children.</span></span>
    -   <span data-ttu-id="181ed-120">Освободите объект [**идиректксфиледата**](idirectxfiledata.md) .</span><span class="sxs-lookup"><span data-stu-id="181ed-120">Release the [**IDirectXFileData**](idirectxfiledata.md) object.</span></span>
6.  <span data-ttu-id="181ed-121">Освободите объект [**идиректксфилесавеобжект**](idirectxfilesaveobject.md) .</span><span class="sxs-lookup"><span data-stu-id="181ed-121">Release the [**IDirectXFileSaveObject**](idirectxfilesaveobject.md) object.</span></span>
7.  <span data-ttu-id="181ed-122">Освободите объект [**идиректксфиле**](idirectxfile.md) .</span><span class="sxs-lookup"><span data-stu-id="181ed-122">Release the [**IDirectXFile**](idirectxfile.md) object.</span></span>

## <a name="related-topics"></a><span data-ttu-id="181ed-123">См. также</span><span class="sxs-lookup"><span data-stu-id="181ed-123">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="181ed-124">X-файлы (прежние версии)</span><span class="sxs-lookup"><span data-stu-id="181ed-124">X Files (Legacy)</span></span>](x-files--legacy-.md)
</dt> </dl>

 

 



