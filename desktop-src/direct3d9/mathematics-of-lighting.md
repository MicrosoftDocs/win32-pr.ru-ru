---
description: Модель освещения в Direct3D включает в себя фоновое, рассеянное, отраженное и излучаемое освещение.
ms.assetid: cf870c89-4be0-4b95-92aa-ec7bcdc6d9dd
title: Математика освещения (Direct3D 9)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 683e320788d720883702ebfa56941b1a3a5cf090
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/06/2021
ms.locfileid: "104494574"
---
# <a name="mathematics-of-lighting-direct3d-9"></a><span data-ttu-id="3118a-103">Математика освещения (Direct3D 9)</span><span class="sxs-lookup"><span data-stu-id="3118a-103">Mathematics of Lighting (Direct3D 9)</span></span>

<span data-ttu-id="3118a-104">Модель освещения в Direct3D включает в себя фоновое, рассеянное, отраженное и излучаемое освещение.</span><span class="sxs-lookup"><span data-stu-id="3118a-104">The Direct3D Light Model covers ambient, diffuse, specular, and emissive lighting.</span></span> <span data-ttu-id="3118a-105">Это обеспечивает достаточную гибкость для решения широкого спектра вопросов освещения.</span><span class="sxs-lookup"><span data-stu-id="3118a-105">This is enough flexibility to solve a wide range of lighting situations.</span></span> <span data-ttu-id="3118a-106">Вы указываете общий объем освещения в сцене как глобальный освещения и вычислите его, используя следующее уравнение.</span><span class="sxs-lookup"><span data-stu-id="3118a-106">You refer to the total amount of light in a scene as the global illumination and compute it using the following equation.</span></span>


```
Global Illumination = Ambient Light + Diffuse Light + Specular Light + Emissive Light 
```



<span data-ttu-id="3118a-107">[Окружающее освещение (Direct3D 9)](ambient-lighting.md) является постоянным освещением.</span><span class="sxs-lookup"><span data-stu-id="3118a-107">[Ambient Lighting (Direct3D 9)](ambient-lighting.md) is constant lighting.</span></span> <span data-ttu-id="3118a-108">Она постоянна во всех направлениях и все пикселы объекта одинаковы.</span><span class="sxs-lookup"><span data-stu-id="3118a-108">It is constant in all directions and it colors all pixels of an object the same.</span></span> <span data-ttu-id="3118a-109">Вычислить такое освещение очень быстро, однако объекты выглядят плоскими и нереалистичными.</span><span class="sxs-lookup"><span data-stu-id="3118a-109">It is fast to calculate but leaves objects looking flat and unrealistic.</span></span> <span data-ttu-id="3118a-110">Сведения о вычислении окружающего освещения с помощью Direct3D см. в разделе окружающее освещение (Direct3D 9).</span><span class="sxs-lookup"><span data-stu-id="3118a-110">To see how ambient lighting is calculated by Direct3D, see Ambient Lighting (Direct3D 9).</span></span>

<span data-ttu-id="3118a-111">[Рассеянное освещение (Direct3D 9)](diffuse-lighting.md) зависит как от направления света, так и от нормали к поверхности объекта.</span><span class="sxs-lookup"><span data-stu-id="3118a-111">[Diffuse Lighting (Direct3D 9)](diffuse-lighting.md) depends on both the light direction and the object surface normal.</span></span> <span data-ttu-id="3118a-112">Он зависит от поверхности объекта в результате изменения направления освещения и вектора чисел изменяемой поверхности.</span><span class="sxs-lookup"><span data-stu-id="3118a-112">It varies across the surface of an object as a result of the changing light direction and the changing surface numeral vector.</span></span> <span data-ttu-id="3118a-113">Для расчета рассеянного света требуется больше времени, поскольку он различается для каждой вершины объекта, однако преимущество его использования заключается в том, что он придает объектам оттенки и трехмерную глубину.</span><span class="sxs-lookup"><span data-stu-id="3118a-113">It takes longer to calculate diffuse lighting because it changes for each object vertex, however the benefit of using it is that it shades objects and gives them three-dimensional (3D) depth.</span></span> <span data-ttu-id="3118a-114">Сведения о вычислении рассеянного освещения в Direct3D см. в разделе рассеянное освещение (Direct3D 9).</span><span class="sxs-lookup"><span data-stu-id="3118a-114">To see how diffuse lighting is calculated in Direct3D, see Diffuse Lighting (Direct3D 9).</span></span>

<span data-ttu-id="3118a-115">[Отраженное освещение (Direct3D 9)](specular-lighting.md) определяет яркие отраженные света, возникающие при попадании света в поверхность объекта и поражая ее в сторону камеры.</span><span class="sxs-lookup"><span data-stu-id="3118a-115">[Specular Lighting (Direct3D 9)](specular-lighting.md) identifies the bright specular highlights that occur when light hits an object surface and reflects back toward the camera.</span></span> <span data-ttu-id="3118a-116">Он более интенсивен, чем рассеянный свет, и более быстро выходит за пределы поверхности объекта.</span><span class="sxs-lookup"><span data-stu-id="3118a-116">It is more intense than diffuse light and falls off more rapidly across the object surface.</span></span> <span data-ttu-id="3118a-117">На расчет отраженного освещения уходит больше времени чем на рассеянное освещение, однако его применение добавляет поверхности больше заметных деталей.</span><span class="sxs-lookup"><span data-stu-id="3118a-117">It takes longer to calculate specular lighting than diffuse lighting, however the benefit of using it is that it adds significant detail to a surface.</span></span> <span data-ttu-id="3118a-118">Сведения о вычислении отраженного освещения в Direct3D см. в разделе Зеркальное освещение (Direct3D 9).</span><span class="sxs-lookup"><span data-stu-id="3118a-118">To see how specular lighting is calculated in Direct3D, see Specular Lighting (Direct3D 9).</span></span>

<span data-ttu-id="3118a-119">[Эмиссионный освещения (Direct3D 9)](emissive-lighting.md) является источником света, который создается объектом. Например, свечение.</span><span class="sxs-lookup"><span data-stu-id="3118a-119">[Emissive Lighting (Direct3D 9)](emissive-lighting.md) is light that is emitted by an object; for example, a glow.</span></span> <span data-ttu-id="3118a-120">Сведения о том, как эмиссионный освещение вычисляется в Direct3D, см. в разделе эмиссионный Lighting (Direct3D 9).</span><span class="sxs-lookup"><span data-stu-id="3118a-120">To see how emissive lighting is calculated in Direct3D, see Emissive Lighting (Direct3D 9).</span></span>

<span data-ttu-id="3118a-121">Реалистичного освещения можно достичь путем применения каждого из этих типов освещения в трехмерных сценах.</span><span class="sxs-lookup"><span data-stu-id="3118a-121">Realistic lighting can be accomplished by applying each of these types of lighting to a 3D scene.</span></span> <span data-ttu-id="3118a-122">Значения, рассчитанные для фонового, излучаемого и рассеянного компонентов, выводятся как рассеянный цвет вершины, а значение для отраженного компонента освещения выводится как отраженный цвет вершины.</span><span class="sxs-lookup"><span data-stu-id="3118a-122">The values calculated for ambient, emissive, and diffuse components are output as the diffuse vertex color; the value for the specular lighting component is output as the specular vertex color.</span></span> <span data-ttu-id="3118a-123">Значения фонового, рассеянного и отраженного освещения могут меняться в зависимости от коэффициента затухания и узкой направленности источника.</span><span class="sxs-lookup"><span data-stu-id="3118a-123">Ambient, diffuse, and specular light values can be affected by a given light's attenuation and spotlight factor.</span></span> <span data-ttu-id="3118a-124">Дополнительные сведения о том, как работает ослабление, см. в разделе [ослабление и прожектор (Direct3D 9)](attenuation-and-spotlight-factor.md).</span><span class="sxs-lookup"><span data-stu-id="3118a-124">For more information about how attenuation works, see [Attenuation and Spotlight Factor (Direct3D 9)](attenuation-and-spotlight-factor.md).</span></span>

<span data-ttu-id="3118a-125">Для достижения более реалистичного эффекта освещения добавляют дополнительные источники света, однако это влечет увеличение времени отрисовки сцены.</span><span class="sxs-lookup"><span data-stu-id="3118a-125">To achieve a more realistic lighting effect, you add more lights; however, the scene takes longer to render.</span></span> <span data-ttu-id="3118a-126">Для достижения всех требуемых разработчику эффектов в некоторых играх используется больше вычислительной мощности процессора, чем обычно предоставляется.</span><span class="sxs-lookup"><span data-stu-id="3118a-126">To achieve all the effects a designer wants, some games use more CPU power than is commonly available.</span></span> <span data-ttu-id="3118a-127">В этом случае обычно уменьшают число операций расчета освещения до минимума с помощью карт освещения и среды, чтобы добавить освещение сцены при одновременном использовании текстур.</span><span class="sxs-lookup"><span data-stu-id="3118a-127">In this case, it is typical to reduce the number of lighting calculations to a minimum by using lighting maps and environment maps to add lighting to a scene while using texture maps.</span></span>

<span data-ttu-id="3118a-128">Освещение вычисляется в пространстве камеры.</span><span class="sxs-lookup"><span data-stu-id="3118a-128">Lighting is computed in the camera space.</span></span> <span data-ttu-id="3118a-129">Сведения о вычислении преобразований освещения см. в разделе [преобразования пространства на камере (Direct3D 9)](camera-space-transformations.md).</span><span class="sxs-lookup"><span data-stu-id="3118a-129">To see how lighting transformations are calculated, see [Camera Space Transformations (Direct3D 9)](camera-space-transformations.md).</span></span> <span data-ttu-id="3118a-130">Оптимизированное освещение может вычисляться в пространстве модели, когда существуют особые условия: обычные векторы уже нормализованы (D3DRS \_ нормализенормалс имеет значение true), смешение вершин не требуется, матрицы преобразования являются ортогональными и т. д.</span><span class="sxs-lookup"><span data-stu-id="3118a-130">Optimized lighting can be computed in model space, when special conditions exist: normal vectors are already normalized (D3DRS\_NORMALIZENORMALS is True), vertex blending is not needed, transformation matrices are orthogonal, and so forth.</span></span>

## <a name="related-topics"></a><span data-ttu-id="3118a-131">См. также</span><span class="sxs-lookup"><span data-stu-id="3118a-131">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="3118a-132">Индикаторы и материалы</span><span class="sxs-lookup"><span data-stu-id="3118a-132">Lights and Materials</span></span>](lights-and-materials.md)
</dt> </dl>

 

 



