---
description: Текстуры всегда обрабатываются с помощью (0,0, 0,0) в левом верхнем углу до (1,0, 1,0) в правом нижнем углу, как показано на следующем рисунке.
ms.assetid: 16fb04b9-4476-4dbe-a24f-51c0813a7917
title: Билинейнойная фильтрация текстур (Direct3D 9)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: f51213e5187c775963de2fa740847d55084c5be2
ms.sourcegitcommit: c7add10d695482e1ceb72d62b8a4ebd84ea050f7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "104423454"
---
# <a name="bilinear-texture-filtering-direct3d-9"></a>Билинейнойная фильтрация текстур (Direct3D 9)

Текстуры всегда обрабатываются с помощью (0,0, 0,0) в левом верхнем углу до (1,0, 1,0) в правом нижнем углу, как показано на следующем рисунке.

![Иллюстрация текстуры 4x4 со сплошными блоками цвета](images/bilinear-fig7a.png)

Обычно текстуры представляются как состоящие из сплошных блоков цвета, однако правильнее воспринимать текстуры так же, как растровые дисплеи: каждый тексель определяется точно по центру ячейки сетки, как показано на следующем рисунке.

![Иллюстрация текстуры 4x4 с текселями, определенными в центре ячеек сетки](images/bilinear-fig7b.png)

Если запросить у инструмента "пипетка" UV-координаты этого цвета текстуры (0,375, 0,375), вы получите однотонный красный (255, 0, 0). Это имеет смысл, поскольку точный центр красной шаг текселя ячейки находится на UV (0,375, 0,375). А что если с помощью пипетки определить цвет текстуры на UV (0,25, 0,25)? Это не так просто, так как точка UV (0,25, 0,25) находится в точном углу 4 пикселей текстуры.

Простейшая схема — это просто сделать так, чтобы образец возвращал цвет ближайшего шаг текселяа; Это называется фильтрацией точек (см. раздел [выборка с ближайшими точками (Direct3D 9)](nearest-point-sampling.md)) и обычно нежелательна из-за детализации или блокировки результатов. Точечная выборка нашей текстуры в точке UV (0,25, 0,25) показывает еще одну скрытую проблему с фильтрацией по ближайшим точкам: в этой точке четыре равноудаленных от точки выборки текселя, поэтому выбрать один ближайший тексель невозможно. Один из этих четырех текселей будет выбран в качестве возвращенного цвета, однако выбор зависит от округления координаты, а это, в свою очередь, может привести к разрывам артефактов (см. статью "Выборка с ближайших точек" в SDK).

Немного более точной и более распространенной схемой фильтрации является вычисление взвешенного среднего из 4 пикселей текстуры, ближайшего к точке выборки; Это называется билинейной фильтрацией, а дополнительные вычислительные затраты обычно незначительны, поскольку эта подпрограмма реализована в современных графических устройствах. Вот какие цвета мы получим в разных точках выборки, используя билинейную фильтрацию:


```
UV: (0.5, 0.5)
```



Эта точка находится точно на границе между красным, зеленым, синим и белым текселями. Инструмент "пипетка" возвращает серый цвет:


```
  0.25 * (255, 0, 0)
  0.25 * (0, 255, 0) 
  0.25 * (0, 0, 255) 
## + 0.25 * (255, 255, 255) 
------------------------
= (128, 128, 128)
```




```
UV: (0.5, 0.375)
```



Эта точка находится в середине границы между красным и зеленым текселями. Пипетка возвращает желто-серый цвет (обратите внимание, что влияние синего и белого текселей равно 0):


```
  0.5 * (255, 0, 0)
  0.5 * (0, 255, 0) 
  0.0 * (0, 0, 255) 
## + 0.0 * (255, 255, 255) 
------------------------
= (128, 128, 0)
```




```
UV: (0.375, 0.375)
```



это адрес красного текселя, возвращенного цвета (все остальные тексели в вычислении фильтрации имеют нулевой вес):


```
  1.0 * (255, 0, 0)
  0.0 * (0, 255, 0) 
  0.0 * (0, 0, 255) 
## + 0.0 * (255, 255, 255) 
------------------------
= (255, 0, 0)
```



Сравните эти вычисления на следующем рисунке, который показывает, что произойдет, если вычисление билинейной фильтрации выполняется в каждом адресе текстуры 4x4.

![иллюстрация текстуры 4x4 с выполненной в каждом адресе текстуры билинейной фильтрацией](images/bilinear-fig7c.jpg)

## <a name="related-topics"></a>См. также

<dl> <dt>

[Фильтрация текстур](texture-filtering.md)
</dt> </dl>

 

 



