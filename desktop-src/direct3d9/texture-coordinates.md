---
description: Большинство текстур, например точечные рисунки, представляют собой двумерный массив значений цвета.
ms.assetid: vs|directx_sdk|~\texture_coordinates.htm
title: Координаты текстуры (Direct3D 9)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 5dcf4c886c187aaa2218508a180e23644a544739
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/06/2021
ms.locfileid: "104495771"
---
# <a name="texture-coordinates-direct3d-9"></a>Координаты текстуры (Direct3D 9)

Большинство текстур, например точечные рисунки, представляют собой двумерный массив значений цвета. Текстура карт кубической среды является исключением. Дополнительные сведения см. в разделе [кубические сопоставления среды (Direct3D 9)](cubic-environment-mapping.md). Отдельные значения цвета называются элементом текстуры или шаг текселя. Каждый шаг текселя имеет уникальный адрес в текстуре. Адрес можно рассматривать как номер столбца и строки, который помечается с учетом и v соответственно на следующем рисунке.

![Иллюстрация адреса шаг текселя в виде номеров столбцов и строк](images/uvcoordinates.jpg)

Координаты текстуры находятся в пространстве текстуры. То есть они относительны относительно расположения (0,0) в текстуре. При применении текстуры к примитиву в трехмерном пространстве его шаг текселя адреса должны быть сопоставлены с координатами объекта. Затем их необходимо преобразовать в экранные координаты или расположение пикселей.

## <a name="mapping-texels-to-screen-space"></a>Сопоставление пикселей текстуры с пространством экрана

Direct3D сопоставляет пикселей текстуры в пространстве текстур непосредственно с пикселями экрана, пропуская промежуточный шаг для повышения эффективности. Этот процесс сопоставления на самом деле является обратным сопоставлением. То есть, для каждого пикселя в пространстве экрана вычисляется соответствующая шаг текселяная точка в пространстве текстуры. Цвет текстуры в этой точке или вокруг нее является выборкой. Процесс выборки называется фильтрацией текстур. Дополнительные сведения см. в разделе [Фильтрация текстур (Direct3D 9)](texture-filtering.md).

Каждый шаг текселя в текстуре может быть задан своей координатой шаг текселя. Однако для того, чтобы сопоставлять пикселей текстуры с примитивами, Direct3D требуется единообразный диапазон адресов для всех пикселей текстуры во всех текстурах. Поэтому он использует универсальную схему адресации, в которой все шаг текселя адреса находятся в диапазоне от 0,0 до 1,0 включительно. Приложения Direct3D указывают координаты текстуры с точки зрения, значения v, которые точно подобно координатам двухмерной Декарт, задаются в виде координат x, y. Технически, система может фактически обрабатывать координаты текстуры за пределами диапазона 0,0 и 1,0. это можно сделать с помощью параметров, заданных для адресации текстуры. Дополнительные сведения см. в разделе [режимы адресации текстур (Direct3D 9)](texture-addressing-modes.md).

В результате идентичные адреса текстур могут сопоставляться с различными координатами шаг текселя в разных текстурах. На следующем рисунке адрес текстуры — (0,5, 1,0). Однако, поскольку текстуры имеют разные размеры, адрес текстуры сопоставляется с различными пикселей текстуры. Текстура 1 слева находится в виде 5x5. Адрес текстуры (0,5, 1.0) сопоставляется с шаг текселя (2, 4). Текстура 2, справа, — 7x7. Адрес текстуры (0,5, 1.0) сопоставляется с шаг текселя (3, 6).

![Иллюстрация того же адреса текстуры, сопоставленного с различными пикселей текстуры на разных текстурах](images/texadr1.png)

На следующем рисунке показана упрощенная версия процесса сопоставления шаг текселя. Следует признать, что этот пример чрезвычайно прост. Более подробные сведения см. [в разделе прямое сопоставление пикселей текстуры с пикселями (Direct3D 9)](directly-mapping-texels-to-pixels.md).

![Иллюстрация пикселя (квадрат цвета), сопоставленного с пространством объектов](images/texadr2.png)

В этом примере пиксель, показанный слева от иллюстрации, идеально подходит к квадрату цвета. Адреса четырех углов пикселей сопоставлены с трехмерным примитивом в пространстве объектов. Форма пикселя часто искажается из-за формы примитива в трехмерном пространстве и от угла обзора. Углы контактной зоны на примитиве, соответствующие углам пикселя, затем сопоставляются с пространством текстуры. Процесс сопоставления снова искажает фигуру пикселя, что является общим. Конечное значение цвета в пикселе высчитывается из пикселей текстуры в регионе, в котором сопоставляется пиксель. При задании метода фильтрации текстур определяется метод, который Direct3D использует для получения цвета пикселя. Дополнительные сведения см. в разделе [Фильтрация текстур (Direct3D 9)](texture-filtering.md).

Приложение может назначать координаты текстуры непосредственно в вершины. Эта возможность позволяет контролировать, какая часть текстуры сопоставлена с примитивом. Например, предположим, что вы создаете прямоугольный примитив, размер которого совпадает с размером текстуры, показанной на следующем рисунке. В этом примере необходимо, чтобы приложение сопоставляло всю текстуру на всю стену. Координаты текстуры, которые ваше приложение назначает вершинам примитива: (0,0, 0,0), (1,0, 0.0), (1.0, 1.0) и (0,0, 1.0).

![Иллюстрация сопоставленной с текстурой стены](images/texadr3.png)

Если вы решили уменьшить высоту стены на одну половину, можно искажать текстуру так, чтобы она поместилась в меньшую стенку, или можно назначить координаты текстуры, которые приводят к тому, что Direct3D будет использовать нижнюю половину текстуры.

Если вы решили искажать или масштабировать текстуру по размеру меньшей стены, используемый метод фильтрации текстур влияет на качество изображения. Дополнительные сведения см. в разделе [Фильтрация текстур (Direct3D 9)](texture-filtering.md).

Если вместо этого вы решили назначить координаты текстуры для того, чтобы Direct3D использовал нижнюю половину текстуры для меньшей стены, координаты текстуры, которые приложение назначает в качестве вершин примитива в этом примере: (0,0, 0,5), (1,0, 0,5), (1.0, 1.0) и (0,0, 1.0). Direct3D применяет нижнюю половину текстуры к стене.

Координаты текстуры вершины могут быть больше 1,0. При назначении координат текстуры для вершины, которая не находится в диапазоне от 0,0 до 1,0 включительно, следует также задать режим адресации текстуры. Дополнительные сведения см. в разделе [режимы адресации текстур (Direct3D 9)](texture-addressing-modes.md).

## <a name="texture-coordinates-and-texture-stages"></a>Координаты текстуры и этапы текстуры

Координаты текстуры связаны с текстурами с помощью стадий текстуры. Текстуры назначаются стадиям текстуры с помощью Сеттекстуре (Стажеиндекс, Птекстуре). См. раздел [**IDirect3DDevice9:: сеттекстуре**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-settexture).

В коде гибкого формата вершин (ФВФ) можно определить до восьми наборов координат текстуры. Данные координаты текстуры предоставляются пользователем в данных вершин. Данные называются индексом, начинающимся с нуля: 0-7. Существует до восьми стадий смешения текстур. Текстура связана с конкретным этапом с помощью Сеттекстуре (Стажеиндекс, Птекстуре).

После этого любой этап может использовать любой набор координат текстуры. Каждый набор координат связан с стадией с помощью Сеттекстурестажестате (Стажеиндекс, D3DTSS \_ текскурдиндекс, текстурекурдинатеиндекс). См. раздел [**IDirect3DDevice9:: сеттекстурестажестате**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-settexturestagestate). Таким образом, этапы смешивания можно настроить для использования любой текстуры и любых координат текстуры. Более одного этапа могут использовать одни и те же текстуры или координаты текстуры.

Дополнительные сведения содержатся в следующих разделах.

-   [Форматы координат текстуры (Direct3D 9)](texture-coordinate-formats.md)
-   [Обработка координат текстуры (Direct3D 9)](texture-coordinate-processing.md)

## <a name="related-topics"></a>См. также

<dl> <dt>

[Текстуры Direct3D](direct3d-textures.md)
</dt> </dl>

 

 
