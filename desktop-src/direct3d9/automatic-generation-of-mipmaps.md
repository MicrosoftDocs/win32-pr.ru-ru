---
description: Теперь можно автоматически создать mipmap, который представляет собой ряд текстур, каждый из которых фильтруется по другому разрешению.
ms.assetid: ae5955f9-e52a-41d7-a199-800e37a3e936
title: Автоматическое создание MIP-карты (Direct3D 9)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 4fda5b765d42ffa10f8cc5998daa66ae36c2bc75
ms.sourcegitcommit: c7add10d695482e1ceb72d62b8a4ebd84ea050f7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "105701235"
---
# <a name="automatic-generation-of-mipmaps-direct3d-9"></a><span data-ttu-id="d1226-103">Автоматическое создание MIP-карты (Direct3D 9)</span><span class="sxs-lookup"><span data-stu-id="d1226-103">Automatic Generation of Mipmaps (Direct3D 9)</span></span>

<span data-ttu-id="d1226-104">Теперь можно автоматически создать mipmap, который представляет собой ряд текстур, каждый из которых фильтруется по другому разрешению.</span><span class="sxs-lookup"><span data-stu-id="d1226-104">You can now automatically create a mipmap which is a series of textures, each filtered to a different resolution.</span></span> <span data-ttu-id="d1226-105">MIP-карты обычно используются для предоставления различных уровней детализации при подготовке к просмотру.</span><span class="sxs-lookup"><span data-stu-id="d1226-105">Mipmaps are commonly used to provide different levels of detail when rendering.</span></span> <span data-ttu-id="d1226-106">При автоматическом создании MIP-карт в момент создания текстуры используется аппаратная фильтрация, поскольку MIP-карта хранится в видеопамяти.</span><span class="sxs-lookup"><span data-stu-id="d1226-106">Automatically generating mipmaps at texture creation time takes advantage of hardware filtering because the mipmap resides in video memory.</span></span>

<span data-ttu-id="d1226-107">Чтобы автоматически создать mipmap, перед вызовом [**креатетекстуре**](/windows/desktop/api)задайте новое [D3DUSAGE использования \_ аутоженмипмап](d3dusage.md) .</span><span class="sxs-lookup"><span data-stu-id="d1226-107">To generate a mipmap automatically, set a new usage [D3DUSAGE\_AUTOGENMIPMAP](d3dusage.md) before calling [**CreateTexture**](/windows/desktop/api).</span></span> <span data-ttu-id="d1226-108">Создание подуровне с этого момента полностью прозрачно для приложения.</span><span class="sxs-lookup"><span data-stu-id="d1226-108">Sublevel generation from this point on is completely transparent to the application.</span></span> <span data-ttu-id="d1226-109">Приложению доступен только верхний уровень текстуры. подуровни текстуры недоступны, так как они будут созданы только при необходимости в драйвере.</span><span class="sxs-lookup"><span data-stu-id="d1226-109">Only the top texture level is accessible to the application; the texture sublevels are not accessible since they will be created only when needed by the driver.</span></span> <span data-ttu-id="d1226-110">В случаях, когда создание вспомогательного уровня может занять много времени, используйте [**женератемипсублевелс**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3dbasetexture9-generatemipsublevels) , чтобы указать драйверу, что он должен создавать подуровни за раз, подходящими для приложения.</span><span class="sxs-lookup"><span data-stu-id="d1226-110">In cases where sublevel generation may take a lot of time, use [**GenerateMipSubLevels**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3dbasetexture9-generatemipsublevels) to hint to the driver that it should generate sublevels at a time appropriate for the application.</span></span>

## <a name="mipmap-filtering"></a><span data-ttu-id="d1226-111">Фильтрация mipmap</span><span class="sxs-lookup"><span data-stu-id="d1226-111">Mipmap Filtering</span></span>

<span data-ttu-id="d1226-112">[**Сетаутоженфилтертипе**](/windows/desktop/api) управляет качеством фильтрации во время автоматического создания.</span><span class="sxs-lookup"><span data-stu-id="d1226-112">[**SetAutoGenFilterType**](/windows/desktop/api) controls the filtering quality during automatic generation.</span></span> <span data-ttu-id="d1226-113">Изменение типа фильтра диртиес подуровне mipmap и приводит к их повторному формированию.</span><span class="sxs-lookup"><span data-stu-id="d1226-113">Changing the filter type dirties the mipmap sublevels and causes them to be regenerated.</span></span> <span data-ttu-id="d1226-114">Используйте [**жетаутоженфилтертипе**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3dbasetexture9-getautogenfiltertype) для получения текущего типа фильтра.</span><span class="sxs-lookup"><span data-stu-id="d1226-114">Use [**GetAutoGenFilterType**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3dbasetexture9-getautogenfiltertype) to get the current filter type.</span></span> <span data-ttu-id="d1226-115">Тип фильтра по умолчанию — D3DTEXF \_ линейный.</span><span class="sxs-lookup"><span data-stu-id="d1226-115">The default filter type is D3DTEXF\_LINEAR.</span></span> <span data-ttu-id="d1226-116">Если драйвер не поддерживает линейный фильтр, для типа фильтра будет задано значение D3DTEXF \_ Point.</span><span class="sxs-lookup"><span data-stu-id="d1226-116">If the driver doesn't support a linear filter, the filter type will be set to D3DTEXF\_POINT.</span></span>

<span data-ttu-id="d1226-117">Эти методы не действуют, если текстура не создается с помощью [D3DUSAGE \_ аутоженмипмап](d3dusage.md) и не возвращается.</span><span class="sxs-lookup"><span data-stu-id="d1226-117">These methods have no effect if the texture is not created with [D3DUSAGE\_AUTOGENMIPMAP](d3dusage.md) And no failure is returned.</span></span> <span data-ttu-id="d1226-118">Все типы фильтров, поддерживаемые драйвером для обычной фильтрации текстур, поддерживаются автоматически, за исключением D3DTEXF \_ None.</span><span class="sxs-lookup"><span data-stu-id="d1226-118">All filter types supported by the driver for regular texture filtering are supported for autogenerated except D3DTEXF\_NONE.</span></span> <span data-ttu-id="d1226-119">Для каждого типа ресурсов драйверы должны поддерживать все типы фильтров, указанные в соответствующих параметрах текстура, Кубетекстуре и волуметекстуре.</span><span class="sxs-lookup"><span data-stu-id="d1226-119">For each resource type, drivers should support all the filter types reported in the corresponding texture, CubeTexture, and volumetexture filter caps.</span></span>

<span data-ttu-id="d1226-120">Чтобы проверить, какие типы фильтров поддерживаются, проверьте, какие ограничения поддерживаются членами Текстурефилтеркапс и Кубетекстурефилтеркапс [**D3DCAPS9**](/windows/desktop/api/D3D9Caps/ns-d3d9caps-d3dcaps9).</span><span class="sxs-lookup"><span data-stu-id="d1226-120">To check which filter types are supported, check to see which caps are supported by the TextureFilterCaps and/or CubeTextureFilterCaps members of [**D3DCAPS9**](/windows/desktop/api/D3D9Caps/ns-d3d9caps-d3dcaps9).</span></span>

## <a name="mipmap-support"></a><span data-ttu-id="d1226-121">Поддержка mipmap</span><span class="sxs-lookup"><span data-stu-id="d1226-121">Mipmap Support</span></span>

<span data-ttu-id="d1226-122">[D3DUSAGE \_ АУТОЖЕНМИПМАП](d3dusage.md) — это только подсказка, которая указывается во время создания текстуры или вызов [**чеккдевицеформат**](/windows/win32/api/d3d9/nf-d3d9-idirect3d9-checkdeviceformat) не приведет к ошибке в каком-либо из типов интерфейса драйвера устройства (DDI).</span><span class="sxs-lookup"><span data-stu-id="d1226-122">[D3DUSAGE\_AUTOGENMIPMAP](d3dusage.md) is only a hint, and specifying this during texture creation or when calling [**CheckDeviceFormat**](/windows/win32/api/d3d9/nf-d3d9-idirect3d9-checkdeviceformat) would not cause an error on any of the device driver interface (DDI) types.</span></span>

<span data-ttu-id="d1226-123">Вызов [**упдатетекстуре**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-updatetexture) недопустим, если источником является автоматически формируемый mipmap, но назначение — нет.</span><span class="sxs-lookup"><span data-stu-id="d1226-123">Calling [**UpdateTexture**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-updatetexture) is illegal when the source is an automatically generated mipmap, but the destination is not.</span></span> <span data-ttu-id="d1226-124">Источником может быть не автоматически сформированный mipmap, а в качестве назначения можно создать автоматически mipmap.</span><span class="sxs-lookup"><span data-stu-id="d1226-124">The source can be a non-automatically generated mipmap and the destination can be an automatically generated mipmap.</span></span> <span data-ttu-id="d1226-125">В этом случае обновляется только самый верхний соответствующий уровень.</span><span class="sxs-lookup"><span data-stu-id="d1226-125">In this case, only the topmost matching level is updated.</span></span> <span data-ttu-id="d1226-126">Все остальные подуровни исходного кода игнорируются.</span><span class="sxs-lookup"><span data-stu-id="d1226-126">All other source sublevels are ignored.</span></span> <span data-ttu-id="d1226-127">Аналогично, когда источник и назначение создаются автоматически, обновляется только самый верхний соответствующий уровень.</span><span class="sxs-lookup"><span data-stu-id="d1226-127">Similarly, when both the source and destination are automatically generated, only the topmost matching level is updated.</span></span> <span data-ttu-id="d1226-128">Подуровни из источника игнорируются, а целевые подуровни создаются повторно.</span><span class="sxs-lookup"><span data-stu-id="d1226-128">The sublevels from the source are ignored and the destination sublevels are regenerated.</span></span>

<span data-ttu-id="d1226-129">Чтобы проверить поддержку автоматического создания MIP-карты, убедитесь, что [D3DCAPS2 \_ канаутоженмипмап](d3dcaps2.md) установлен.</span><span class="sxs-lookup"><span data-stu-id="d1226-129">To check for support for automatic generation of mipmaps, check to see that [D3DCAPS2\_CANAUTOGENMIPMAP](d3dcaps2.md) is set.</span></span> <span data-ttu-id="d1226-130">Если это так, вызовите [**чеккдевицеформат**](/windows/win32/api/d3d9/nf-d3d9-idirect3d9-checkdeviceformat) с помощью [D3DUSAGE \_ аутоженмипмап](d3dusage.md).</span><span class="sxs-lookup"><span data-stu-id="d1226-130">If it is, call [**CheckDeviceFormat**](/windows/win32/api/d3d9/nf-d3d9-idirect3d9-checkdeviceformat) with [D3DUSAGE\_AUTOGENMIPMAP](d3dusage.md).</span></span> <span data-ttu-id="d1226-131">Если возвращаемое значение — D3D \_ ОК, MIP-карты гарантируется автоматически.</span><span class="sxs-lookup"><span data-stu-id="d1226-131">If the return value is D3D\_OK, the mipmaps are guaranteed to be autogenerated.</span></span> <span data-ttu-id="d1226-132">Если возвращаемое значение — D3DOK \_ ноаутожен, это означает, что вызов Create будет выполнен, но MIP-карты не будет создан.</span><span class="sxs-lookup"><span data-stu-id="d1226-132">If the return value is D3DOK\_NOAUTOGEN, this means that the create call will succeed, but there won't be any mipmaps generated.</span></span>

## <a name="related-topics"></a><span data-ttu-id="d1226-133">См. также</span><span class="sxs-lookup"><span data-stu-id="d1226-133">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="d1226-134">Текстуры Direct3D</span><span class="sxs-lookup"><span data-stu-id="d1226-134">Direct3D Textures</span></span>](direct3d-textures.md)
</dt> </dl>

 

 
