---
description: Теперь можно автоматически создать mipmap, который представляет собой ряд текстур, каждый из которых фильтруется по другому разрешению.
ms.assetid: ae5955f9-e52a-41d7-a199-800e37a3e936
title: Автоматическое создание MIP-карты (Direct3D 9)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 4fda5b765d42ffa10f8cc5998daa66ae36c2bc75
ms.sourcegitcommit: c7add10d695482e1ceb72d62b8a4ebd84ea050f7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "105701235"
---
# <a name="automatic-generation-of-mipmaps-direct3d-9"></a>Автоматическое создание MIP-карты (Direct3D 9)

Теперь можно автоматически создать mipmap, который представляет собой ряд текстур, каждый из которых фильтруется по другому разрешению. MIP-карты обычно используются для предоставления различных уровней детализации при подготовке к просмотру. При автоматическом создании MIP-карт в момент создания текстуры используется аппаратная фильтрация, поскольку MIP-карта хранится в видеопамяти.

Чтобы автоматически создать mipmap, перед вызовом [**креатетекстуре**](/windows/desktop/api)задайте новое [D3DUSAGE использования \_ аутоженмипмап](d3dusage.md) . Создание подуровне с этого момента полностью прозрачно для приложения. Приложению доступен только верхний уровень текстуры. подуровни текстуры недоступны, так как они будут созданы только при необходимости в драйвере. В случаях, когда создание вспомогательного уровня может занять много времени, используйте [**женератемипсублевелс**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3dbasetexture9-generatemipsublevels) , чтобы указать драйверу, что он должен создавать подуровни за раз, подходящими для приложения.

## <a name="mipmap-filtering"></a>Фильтрация mipmap

[**Сетаутоженфилтертипе**](/windows/desktop/api) управляет качеством фильтрации во время автоматического создания. Изменение типа фильтра диртиес подуровне mipmap и приводит к их повторному формированию. Используйте [**жетаутоженфилтертипе**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3dbasetexture9-getautogenfiltertype) для получения текущего типа фильтра. Тип фильтра по умолчанию — D3DTEXF \_ линейный. Если драйвер не поддерживает линейный фильтр, для типа фильтра будет задано значение D3DTEXF \_ Point.

Эти методы не действуют, если текстура не создается с помощью [D3DUSAGE \_ аутоженмипмап](d3dusage.md) и не возвращается. Все типы фильтров, поддерживаемые драйвером для обычной фильтрации текстур, поддерживаются автоматически, за исключением D3DTEXF \_ None. Для каждого типа ресурсов драйверы должны поддерживать все типы фильтров, указанные в соответствующих параметрах текстура, Кубетекстуре и волуметекстуре.

Чтобы проверить, какие типы фильтров поддерживаются, проверьте, какие ограничения поддерживаются членами Текстурефилтеркапс и Кубетекстурефилтеркапс [**D3DCAPS9**](/windows/desktop/api/D3D9Caps/ns-d3d9caps-d3dcaps9).

## <a name="mipmap-support"></a>Поддержка mipmap

[D3DUSAGE \_ АУТОЖЕНМИПМАП](d3dusage.md) — это только подсказка, которая указывается во время создания текстуры или вызов [**чеккдевицеформат**](/windows/win32/api/d3d9/nf-d3d9-idirect3d9-checkdeviceformat) не приведет к ошибке в каком-либо из типов интерфейса драйвера устройства (DDI).

Вызов [**упдатетекстуре**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-updatetexture) недопустим, если источником является автоматически формируемый mipmap, но назначение — нет. Источником может быть не автоматически сформированный mipmap, а в качестве назначения можно создать автоматически mipmap. В этом случае обновляется только самый верхний соответствующий уровень. Все остальные подуровни исходного кода игнорируются. Аналогично, когда источник и назначение создаются автоматически, обновляется только самый верхний соответствующий уровень. Подуровни из источника игнорируются, а целевые подуровни создаются повторно.

Чтобы проверить поддержку автоматического создания MIP-карты, убедитесь, что [D3DCAPS2 \_ канаутоженмипмап](d3dcaps2.md) установлен. Если это так, вызовите [**чеккдевицеформат**](/windows/win32/api/d3d9/nf-d3d9-idirect3d9-checkdeviceformat) с помощью [D3DUSAGE \_ аутоженмипмап](d3dusage.md). Если возвращаемое значение — D3D \_ ОК, MIP-карты гарантируется автоматически. Если возвращаемое значение — D3DOK \_ ноаутожен, это означает, что вызов Create будет выполнен, но MIP-карты не будет создан.

## <a name="related-topics"></a>См. также

<dl> <dt>

[Текстуры Direct3D](direct3d-textures.md)
</dt> </dl>

 

 
