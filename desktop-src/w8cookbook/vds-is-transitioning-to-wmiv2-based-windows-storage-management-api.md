---
title: Служба виртуальных дисков переходит на API управления хранилищами Windows
description: Служба виртуальных дисков переходит на API управления хранилищами Windows
ms.assetid: AB2A7D08-03B2-4595-A8EC-805D111A0E89
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: ceea3ffe82358737ca8f39e9ef6db0bdb1f116ef
ms.sourcegitcommit: ea4baf9953a78d2d6bd530b680601e39f3884541
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/01/2020
ms.locfileid: "104413908"
---
# <a name="virtual-disk-service-is-transitioning-to-windows-storage-management-api"></a><span data-ttu-id="216ce-103">Служба виртуальных дисков переходит на API управления хранилищами Windows</span><span class="sxs-lookup"><span data-stu-id="216ce-103">Virtual Disk Service is transitioning to Windows Storage Management API</span></span>

## <a name="platforms"></a><span data-ttu-id="216ce-104">Платформы</span><span class="sxs-lookup"><span data-stu-id="216ce-104">Platforms</span></span>

<span data-ttu-id="216ce-105">**Клиенты** — Windows 8</span><span class="sxs-lookup"><span data-stu-id="216ce-105">**Clients** – Windows 8</span></span>  
<span data-ttu-id="216ce-106">**Серверы** — Windows Server 2012</span><span class="sxs-lookup"><span data-stu-id="216ce-106">**Servers** – Windows Server 2012</span></span>  


## <a name="description"></a><span data-ttu-id="216ce-107">Описание</span><span class="sxs-lookup"><span data-stu-id="216ce-107">Description</span></span>

<span data-ttu-id="216ce-108">Начиная с Windows 8 и Windows Server 2012, интерфейс COM службы виртуальных дисков заменяется API управления хранением, интерфейсом программирования на основе WMI.</span><span class="sxs-lookup"><span data-stu-id="216ce-108">Beginning with Windows 8 and Windows Server 2012, the Virtual Disk Service COM interface is superseded by the Storage Management API, a WMI-based programming interface.</span></span> <span data-ttu-id="216ce-109">Для управления подсистемами хранения, дисками, разделами и томами настоятельно рекомендуется использовать API управления хранилищами.</span><span class="sxs-lookup"><span data-stu-id="216ce-109">For managing storage subsystems, (Windows) disks, partitions, and volumes, we strongly recommend using the Storage Management API.</span></span> <span data-ttu-id="216ce-110">Дополнительные сведения см. в разделе [API управления хранилищем Windows](/previous-versions/windows/desktop/stormgmt/windows-storage-management-api-portal).</span><span class="sxs-lookup"><span data-stu-id="216ce-110">For more info, see [Windows Storage Management API](/previous-versions/windows/desktop/stormgmt/windows-storage-management-api-portal).</span></span>

<span data-ttu-id="216ce-111">Для всех случаев использования, за исключением зеркальных томов загрузки (с использованием зеркального тома для размещения операционной системы), динамические диски являются устаревшими.</span><span class="sxs-lookup"><span data-stu-id="216ce-111">For all usages except mirror boot volumes (using a mirror volume to host the operating system), dynamic disks are deprecated.</span></span> <span data-ttu-id="216ce-112">Для данных, требующих устойчивости к сбою диска, используйте дисковые пространства — отказоустойчивое решение для виртуализации хранилища.</span><span class="sxs-lookup"><span data-stu-id="216ce-112">For data that requires resiliency against drive failure, use Storage Spaces, a resilient storage virtualization solution.</span></span> <span data-ttu-id="216ce-113">Дополнительные сведения см. в статье [Предварительная версия дисковых пространств](/previous-versions/windows/it-pro/windows-server-2012-R2-and-2012/hh831739(v=ws.11)).</span><span class="sxs-lookup"><span data-stu-id="216ce-113">For more info, see [Storage Spaces Technical Preview](/previous-versions/windows/it-pro/windows-server-2012-R2-and-2012/hh831739(v=ws.11)).</span></span>

<span data-ttu-id="216ce-114">Вы можете продолжать использовать DiskPart, DiskRAID и Управление дисками в течение срока действия, но эти средства не будут работать с дисковыми пространствами или с другими новыми API-интерфейсами управления хранилищами Windows инструментарий управления Windows (WMI) (WMI) или встроенными служебными программами управления хранением данных или клиентами.</span><span class="sxs-lookup"><span data-stu-id="216ce-114">You can continue to use DiskPart, DiskRAID, and Disk Management during the deprecation period, but these tools will not work with Storage Spaces or with any other new Windows Management Instrumentation (WMI)-based Windows Storage Management APIs or in-box storage management utilities or clients.</span></span>


| <span data-ttu-id="216ce-115">Программные интерфейсы</span><span class="sxs-lookup"><span data-stu-id="216ce-115">APIs</span></span> | <span data-ttu-id="216ce-116">Подсистемы хранения</span><span class="sxs-lookup"><span data-stu-id="216ce-116">Storage Subsystems</span></span> | <span data-ttu-id="216ce-117">Базовые диски</span><span class="sxs-lookup"><span data-stu-id="216ce-117">Basic Disks</span></span> | <span data-ttu-id="216ce-118">Динамические диски</span><span class="sxs-lookup"><span data-stu-id="216ce-118">Dynamic Disks</span></span> | <span data-ttu-id="216ce-119">Дисковые пространства</span><span class="sxs-lookup"><span data-stu-id="216ce-119">Storage Spaces</span></span> |
| --- | --- | --- | --- | --- |
| <span data-ttu-id="216ce-120">ПОДДЕРЖКИ</span><span class="sxs-lookup"><span data-stu-id="216ce-120">VDS</span></span> | <span data-ttu-id="216ce-121">Да</span><span class="sxs-lookup"><span data-stu-id="216ce-121">Yes</span></span> | <span data-ttu-id="216ce-122">Да</span><span class="sxs-lookup"><span data-stu-id="216ce-122">Yes</span></span> | <span data-ttu-id="216ce-123">Да</span><span class="sxs-lookup"><span data-stu-id="216ce-123">Yes</span></span> | <span data-ttu-id="216ce-124">Нет</span><span class="sxs-lookup"><span data-stu-id="216ce-124">No</span></span> |
| <span data-ttu-id="216ce-125">WMI</span><span class="sxs-lookup"><span data-stu-id="216ce-125">WMI</span></span> | <span data-ttu-id="216ce-126">Да</span><span class="sxs-lookup"><span data-stu-id="216ce-126">Yes</span></span> | <span data-ttu-id="216ce-127">Да</span><span class="sxs-lookup"><span data-stu-id="216ce-127">Yes</span></span> | <span data-ttu-id="216ce-128">Нет</span><span class="sxs-lookup"><span data-stu-id="216ce-128">No</span></span> | <span data-ttu-id="216ce-129">Да</span><span class="sxs-lookup"><span data-stu-id="216ce-129">Yes</span></span> |
| <span data-ttu-id="216ce-130">DiskPart</span><span class="sxs-lookup"><span data-stu-id="216ce-130">DiskPart</span></span> | <span data-ttu-id="216ce-131">Недоступно</span><span class="sxs-lookup"><span data-stu-id="216ce-131">n/a</span></span> | <span data-ttu-id="216ce-132">Да</span><span class="sxs-lookup"><span data-stu-id="216ce-132">Yes</span></span> | <span data-ttu-id="216ce-133">Да</span><span class="sxs-lookup"><span data-stu-id="216ce-133">Yes</span></span> | <span data-ttu-id="216ce-134">Нет</span><span class="sxs-lookup"><span data-stu-id="216ce-134">No</span></span> |
| <span data-ttu-id="216ce-135">DiskRAID</span><span class="sxs-lookup"><span data-stu-id="216ce-135">DiskRAID</span></span> |  <span data-ttu-id="216ce-136">Да</span><span class="sxs-lookup"><span data-stu-id="216ce-136">Yes</span></span> | <span data-ttu-id="216ce-137">Недоступно</span><span class="sxs-lookup"><span data-stu-id="216ce-137">n/a</span></span> | <span data-ttu-id="216ce-138">Недоступно</span><span class="sxs-lookup"><span data-stu-id="216ce-138">n/a</span></span> | <span data-ttu-id="216ce-139">Недоступно</span><span class="sxs-lookup"><span data-stu-id="216ce-139">n/a</span></span> |
| <span data-ttu-id="216ce-140">Графический интерфейс для руководства по дискам</span><span class="sxs-lookup"><span data-stu-id="216ce-140">Disk Mgmt GUI</span></span> | <span data-ttu-id="216ce-141">Недоступно</span><span class="sxs-lookup"><span data-stu-id="216ce-141">n/a</span></span> | <span data-ttu-id="216ce-142">Да</span><span class="sxs-lookup"><span data-stu-id="216ce-142">Yes</span></span> | <span data-ttu-id="216ce-143">Да</span><span class="sxs-lookup"><span data-stu-id="216ce-143">Yes</span></span> | <span data-ttu-id="216ce-144">Нет</span><span class="sxs-lookup"><span data-stu-id="216ce-144">No</span></span> |
| <span data-ttu-id="216ce-145">PowerShell</span><span class="sxs-lookup"><span data-stu-id="216ce-145">PowerShell</span></span> | <span data-ttu-id="216ce-146">Да</span><span class="sxs-lookup"><span data-stu-id="216ce-146">Yes</span></span> | <span data-ttu-id="216ce-147">Да</span><span class="sxs-lookup"><span data-stu-id="216ce-147">Yes</span></span> | <span data-ttu-id="216ce-148">Нет</span><span class="sxs-lookup"><span data-stu-id="216ce-148">No</span></span> | <span data-ttu-id="216ce-149">Да</span><span class="sxs-lookup"><span data-stu-id="216ce-149">Yes</span></span> |
| <span data-ttu-id="216ce-150">Панель управления дисковых пространств</span><span class="sxs-lookup"><span data-stu-id="216ce-150">Storage Spaces Control Panel</span></span> | <span data-ttu-id="216ce-151">Недоступно</span><span class="sxs-lookup"><span data-stu-id="216ce-151">n/a</span></span> | <span data-ttu-id="216ce-152">Нет</span><span class="sxs-lookup"><span data-stu-id="216ce-152">No</span></span> | <span data-ttu-id="216ce-153">Нет</span><span class="sxs-lookup"><span data-stu-id="216ce-153">No</span></span> | <span data-ttu-id="216ce-154">Да</span><span class="sxs-lookup"><span data-stu-id="216ce-154">Yes</span></span> |


<span data-ttu-id="216ce-155">Результатом этого перехода будет повышение устойчивости, доступности и масштабируемости хранилища. унифицированный язык написания сценариев и программирования, сокращение затрат на управление хранением и упрощенное управление удаленными хранилищами.</span><span class="sxs-lookup"><span data-stu-id="216ce-155">The result of this transition will be increased storage resiliency, availability, and scalability; a unified scripting and programming language, reduced storage management costs, and easier remote storage management.</span></span>

## <a name="manifestation"></a><span data-ttu-id="216ce-156">Проявление</span><span class="sxs-lookup"><span data-stu-id="216ce-156">Manifestation</span></span>

<span data-ttu-id="216ce-157">Служебные программы DiskPart и DiskRAID, используемые в среде VDS, не поддерживают новые дисковые пространства.</span><span class="sxs-lookup"><span data-stu-id="216ce-157">The DiskPart and DiskRAID utilities used in the VDS environment do not support the new Storage Spaces.</span></span> <span data-ttu-id="216ce-158">Аналогичным образом, Новая служебная программа PowerShell для хранения данных не поддерживает устаревшие динамические диски.</span><span class="sxs-lookup"><span data-stu-id="216ce-158">Similarly, the new Storage PowerShell utility does not support the deprecated Dynamic Disks</span></span>

## <a name="mitigation"></a><span data-ttu-id="216ce-159">Меры по снижению риска</span><span class="sxs-lookup"><span data-stu-id="216ce-159">Mitigation</span></span>

<span data-ttu-id="216ce-160">Корпорация Майкрософт настоятельно рекомендует создавать новые приложения управления хранением в API управления хранилищем Windows и планирует перенести существующие приложения, основанные на инфраструктуре VDS, в API управления хранилищами Windows во время стандартных циклов обновления.</span><span class="sxs-lookup"><span data-stu-id="216ce-160">Microsoft strongly recommends that you base any new storage management apps on the Windows Storage Management API, and that you plan to transition existing apps that are based on the VDS infrastructure to the Windows Storage Management API during your standard updating cycles.</span></span>

## <a name="resources"></a><span data-ttu-id="216ce-161">Ресурсы</span><span class="sxs-lookup"><span data-stu-id="216ce-161">Resources</span></span>

-   [<span data-ttu-id="216ce-162">Интерфейс API управления хранилищами Windows</span><span class="sxs-lookup"><span data-stu-id="216ce-162">Windows Storage Management API</span></span>](/previous-versions/windows/desktop/stormgmt/windows-storage-management-api-portal)
-   [<span data-ttu-id="216ce-163">Командлеты хранилищ в Windows PowerShell</span><span class="sxs-lookup"><span data-stu-id="216ce-163">Storage Cmdlets in Windows PowerShell</span></span>](/powershell/module/storage/?view=win10-ps)
-   [<span data-ttu-id="216ce-164">Инструментарий управления Windows (WMI)</span><span class="sxs-lookup"><span data-stu-id="216ce-164">Windows Management Instrumentation</span></span>](../wmisdk/wmi-start-page.md)
-   <span data-ttu-id="216ce-165">[Windows PowerShell](https://msdn.microsoft.com/library/dd835506(v=VS.85).aspx)</span><span class="sxs-lookup"><span data-stu-id="216ce-165">[Windows PowerShell](https://msdn.microsoft.com/library/dd835506(v=VS.85).aspx)</span></span>

 

 