---
title: Сценарии помощника по совместимости программ для Windows 8
description: Сценарии помощника по совместимости программ для Windows 8
ms.assetid: C61BF746-63EE-4F4E-81D3-52947FD4954D
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 1ebada2ca5115d24f260808a1c9ae899963184a8
ms.sourcegitcommit: ee06501cc29132927ade9813e0888aaa4decc487
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/28/2021
ms.locfileid: "104553902"
---
# <a name="program-compatibility-assistant-scenarios-for-windows-8"></a><span data-ttu-id="c8f44-103">Сценарии помощника по совместимости программ для Windows 8</span><span class="sxs-lookup"><span data-stu-id="c8f44-103">Program Compatibility Assistant scenarios for Windows 8</span></span>

## <a name="platforms"></a><span data-ttu-id="c8f44-104">Платформы</span><span class="sxs-lookup"><span data-stu-id="c8f44-104">Platforms</span></span>

<span data-ttu-id="c8f44-105">**Клиенты** — Windows XP Windows Vista, Windows \| \| 7 \|</span><span class="sxs-lookup"><span data-stu-id="c8f44-105">**Clients** - Windows XP \| Windows Vista \| Windows 7 \| Windows 8</span></span>  

## <a name="description"></a><span data-ttu-id="c8f44-106">Описание</span><span class="sxs-lookup"><span data-stu-id="c8f44-106">Description</span></span>

<span data-ttu-id="c8f44-107">Помощник по совместимости программ (PCA) — это функция Windows 8, которая позволяет конечным пользователям запускать классические приложения, предназначенные для более ранних версий Windows.</span><span class="sxs-lookup"><span data-stu-id="c8f44-107">Program Compatibility Assistant (PCA) is a feature in Windows 8 that helps end users to run desktop apps designed for earlier Windows versions.</span></span> <span data-ttu-id="c8f44-108">Windows 8 обладает отличной встроенной совместимостью приложений, благодаря которой приложения, разработанные для Windows 7 или более ранних версий Windows, могут работать отлично в Windows 8 автоматически.</span><span class="sxs-lookup"><span data-stu-id="c8f44-108">Windows 8 has great built in app compatibility that enables apps designed for Windows 7 or earlier Windows versions to work great on Windows 8 automatically.</span></span> <span data-ttu-id="c8f44-109">Однако существует небольшое количество приложений, которые могут иметь неприятное выполнение без вмешательства пользователя.</span><span class="sxs-lookup"><span data-stu-id="c8f44-109">However, there are a small number of apps that can have trouble running without intervention.</span></span>

<span data-ttu-id="c8f44-110">Когда пользователь запускает приложение, PCA отслеживает это приложение и определяет симптомы некоторых известных проблем совместимости в Windows 8.</span><span class="sxs-lookup"><span data-stu-id="c8f44-110">When a user runs an app, PCA tracks the app and identifies any symptoms of certain known compatibility issues in Windows 8.</span></span> <span data-ttu-id="c8f44-111">При обнаружении каких-либо проблем она предоставляет пользователю возможность применить рекомендуемое исправление, которое поможет лучше запустить приложение в Windows 8.</span><span class="sxs-lookup"><span data-stu-id="c8f44-111">When it detects any issue symptoms, it provides the user an opportunity to apply a recommended fix that will help run the app better on Windows 8.</span></span>

## <a name="scenarios"></a><span data-ttu-id="c8f44-112">Сценарии</span><span class="sxs-lookup"><span data-stu-id="c8f44-112">Scenarios</span></span>

<span data-ttu-id="c8f44-113">PCA отслеживает приложения для набора известных проблем совместимости в Windows 8.</span><span class="sxs-lookup"><span data-stu-id="c8f44-113">PCA tracks apps for a set of known compatibility issues in Windows 8.</span></span> <span data-ttu-id="c8f44-114">PCA отслеживает проблемы, определяет исправления и предоставляет пользователю диалоговое окно с инструкциями по применению рекомендуемого исправления.</span><span class="sxs-lookup"><span data-stu-id="c8f44-114">PCA tracks the issues, identifies the fixes, and provides a dialog to the user with instructions to apply a recommended fix.</span></span> <span data-ttu-id="c8f44-115">Пользователь может принять решение о применении рекомендуемых исправлений или не предпринимать никаких действий и отменить рекомендации.</span><span class="sxs-lookup"><span data-stu-id="c8f44-115">The user can decide to apply the recommended fixes, or choose to do nothing and cancel out of the recommendation.</span></span> <span data-ttu-id="c8f44-116">Если пользователь отменяет действие, PCA больше не будет отслеживанию этого приложения.</span><span class="sxs-lookup"><span data-stu-id="c8f44-116">If the user cancels out, PCA will no longer track that app.</span></span>

<span data-ttu-id="c8f44-117">PCA обычно использует один из трех режимов совместимости Windows: Windows XP SP3, Windows Vista SP2 или Windows 7 в зависимости от того, когда была создана программа (или ее программа установки).</span><span class="sxs-lookup"><span data-stu-id="c8f44-117">PCA generally applies one of three Windows compatibility modes – Windows XP SP3, Windows Vista SP2, or Windows 7, depending on when the program (or its setup) was authored.</span></span> <span data-ttu-id="c8f44-118">PCA использует атрибуты " \_ Дата ссылки" и "версия подсистемы" программы, а также разделы TRUSTINFO и COMPATIBILITY манифеста исполняемого файла, чтобы определить, какой режим является релевантным и применяет Windows XP SP3 (включая права администратора), Windows Vista с пакетом обновления 2 (SP2) или Windows 7 соответственно.</span><span class="sxs-lookup"><span data-stu-id="c8f44-118">PCA uses the LINK\_DATE and SUBSYSTEM VERSION attributes of the program and the executable file manifest’s TRUSTINFO and COMPATIBILITY sections to determine which of the modes is relevant and applies Windows XP SP3 (includes administrative privilege), Windows Vista SP2, or Windows 7 respectively.</span></span> <span data-ttu-id="c8f44-119">Глоссарий в конце документа содержит список всех режимов совместимости, которые применяют PCA, и его описание.</span><span class="sxs-lookup"><span data-stu-id="c8f44-119">A glossary at the end of the document lists each of the compatibility modes that PCA applies and its description.</span></span>

<span data-ttu-id="c8f44-120">Для всех сценариев, перечисленных ниже, PCA отслеживает приложения еще раз после применения исправления.</span><span class="sxs-lookup"><span data-stu-id="c8f44-120">For all scenarios listed below, PCA tracks apps for a second time after a fix is applied.</span></span> <span data-ttu-id="c8f44-121">Если приложение по-разному завершается с ошибкой даже после применения исправления совместимости, PCA восстанавливает исправление.</span><span class="sxs-lookup"><span data-stu-id="c8f44-121">If the app continues to fail in the same way even after a compatibility fix is applied, PCA revert the fix.</span></span> <span data-ttu-id="c8f44-122">PCA будет постоянно прекращать отслеживание конкретного приложения, которое завершилось сбоем.</span><span class="sxs-lookup"><span data-stu-id="c8f44-122">PCA will then permanently stop tracking the specific app that failed.</span></span>

<span data-ttu-id="c8f44-123">Хотя PCA отслеживает множество потенциальных проблем, не все проблемы могут вызвать сбои приложений.</span><span class="sxs-lookup"><span data-stu-id="c8f44-123">While PCA tracks many potential issues, not all of the issues will actually cause app failures.</span></span> <span data-ttu-id="c8f44-124">PCA рекомендует исправлять исправления только в тех случаях, когда существует высокая вероятность сбоя приложения из-за совместимости с Windows.</span><span class="sxs-lookup"><span data-stu-id="c8f44-124">PCA recommends fixes only in situations where there is a high probability that the app failure is due to Windows compatibility reasons.</span></span> <span data-ttu-id="c8f44-125">В следующих разделах разворачиваются все сценарии PCA, разработанные в Windows 8.</span><span class="sxs-lookup"><span data-stu-id="c8f44-125">The sections below expand on each of the PCA scenarios developed in Windows 8.</span></span> <span data-ttu-id="c8f44-126">В каждом разделе описан сценарий проблемы и рекомендации, предоставляемые PCA, позволяющие приложению правильно работать в Windows 8.</span><span class="sxs-lookup"><span data-stu-id="c8f44-126">Each section describes the problem scenario and the recommendations that PCA provides to allow the app to continue working properly on Windows 8.</span></span>

<span data-ttu-id="c8f44-127">Дополнительные сведения об изменениях совместимости в Windows 8 см. в других разделах, посвященных *Cookbook совместимости с Windows 8*.</span><span class="sxs-lookup"><span data-stu-id="c8f44-127">To learn more about compatibility changes in Windows 8, refer to the other topics in the *Windows 8 Compatibility Cookbook*.</span></span>

<span data-ttu-id="c8f44-128">В сценариях, которые PCA отслеживает и рекомендует устранять исправления:</span><span class="sxs-lookup"><span data-stu-id="c8f44-128">The scenarios that PCA tracks and recommends fixes to are:</span></span>

-   <span data-ttu-id="c8f44-129">Не удается установить или удалить приложение</span><span class="sxs-lookup"><span data-stu-id="c8f44-129">App fails to Install or Uninstall</span></span>
-   <span data-ttu-id="c8f44-130">Не удается запустить приложение с сообщением проверки версии Windows</span><span class="sxs-lookup"><span data-stu-id="c8f44-130">App fails to run with a Windows version check message</span></span>
-   <span data-ttu-id="c8f44-131">Не удается запустить приложение из-за прав администратора</span><span class="sxs-lookup"><span data-stu-id="c8f44-131">App fails to launch due to administrative privilege</span></span>
-   <span data-ttu-id="c8f44-132">Сбои приложений из-за конкретных проблем с памятью</span><span class="sxs-lookup"><span data-stu-id="c8f44-132">App crashes due to specific memory problems</span></span>
-   <span data-ttu-id="c8f44-133">Сбой приложения из-за несоответствия системных файлов</span><span class="sxs-lookup"><span data-stu-id="c8f44-133">App fails due to mismatched system files</span></span>
-   <span data-ttu-id="c8f44-134">Сбой приложения из-за необработанных ошибок в 64-разрядной версии Windows</span><span class="sxs-lookup"><span data-stu-id="c8f44-134">App fails due to Unhandled Errors on 64-bit Windows</span></span>
-   <span data-ttu-id="c8f44-135">Сбой приложения при попытке удаления защищенных файлов, отличных от Windows</span><span class="sxs-lookup"><span data-stu-id="c8f44-135">App fails while attempting to delete protected non-Windows files</span></span>
-   <span data-ttu-id="c8f44-136">Сбой приложения при попытке изменить файлы Windows</span><span class="sxs-lookup"><span data-stu-id="c8f44-136">App fails while attempting to modify Windows files</span></span>
-   <span data-ttu-id="c8f44-137">Сбой приложения из-за использования 8-или 16-разрядных цветовых режимов</span><span class="sxs-lookup"><span data-stu-id="c8f44-137">App fails due to using 8- or 16-bit color modes</span></span>
-   <span data-ttu-id="c8f44-138">Сбой приложения из-за графики и отображение проблем</span><span class="sxs-lookup"><span data-stu-id="c8f44-138">App fails due to graphics and display issues</span></span>
-   <span data-ttu-id="c8f44-139">Приложению не удалось объявить сведения о DPI</span><span class="sxs-lookup"><span data-stu-id="c8f44-139">App fails to declare DPI awareness</span></span>
-   <span data-ttu-id="c8f44-140">Сбой приложения из-за отсутствия компонентов Windows</span><span class="sxs-lookup"><span data-stu-id="c8f44-140">App fails due to missing Windows features</span></span>
-   <span data-ttu-id="c8f44-141">Сбой приложения из-за неподписанных драйверов в 64-разрядной версии Windows 8</span><span class="sxs-lookup"><span data-stu-id="c8f44-141">App fails due to unsigned drivers on 64-bit Windows 8</span></span>
-   <span data-ttu-id="c8f44-142">Приложения отслеживания, установленные с помощью параметров совместимости</span><span class="sxs-lookup"><span data-stu-id="c8f44-142">Tracking apps installed through compatibility settings</span></span>
-   <span data-ttu-id="c8f44-143">Приложению не удается запустить установщики или средства обновления</span><span class="sxs-lookup"><span data-stu-id="c8f44-143">App fails to launch installers or updaters</span></span>
-   <span data-ttu-id="c8f44-144">Установщики приложений, которые должны запускаться с правами администратора</span><span class="sxs-lookup"><span data-stu-id="c8f44-144">App installers that need to run with administrative privilege</span></span>
-   <span data-ttu-id="c8f44-145">Устаревшие приложения панели управления, которые должны запускаться с правами администратора</span><span class="sxs-lookup"><span data-stu-id="c8f44-145">Legacy Control Panel applets that need to run with administrative privilege</span></span>

<span data-ttu-id="c8f44-146">Каждый из этих сценариев раскрывается следующим образом:</span><span class="sxs-lookup"><span data-stu-id="c8f44-146">Each of these scenarios is expanded below:</span></span>

<span data-ttu-id="c8f44-147">**Не удается установить или удалить приложение**</span><span class="sxs-lookup"><span data-stu-id="c8f44-147">**App fails to Install or Uninstall**</span></span>

<span data-ttu-id="c8f44-148">Один из наиболее распространенных типов сбоев приложения происходит во время установки приложения.</span><span class="sxs-lookup"><span data-stu-id="c8f44-148">One of the most common types of app failures occurs during the installation of the app.</span></span> <span data-ttu-id="c8f44-149">Более старые программы установки обычно завершаются сбоем двумя способами:</span><span class="sxs-lookup"><span data-stu-id="c8f44-149">Older Setup programs most commonly fail in two ways:</span></span>

-   <span data-ttu-id="c8f44-150">Программа установки не имеет информации о функциях контроля учетных записей (UAC) в Windows 8, поэтому она может не работать с полными привилегиями, необходимыми для внесения изменений в защищенные области Windows 8.</span><span class="sxs-lookup"><span data-stu-id="c8f44-150">The setup program is not aware of the User Account Control (UAC) features in Windows 8, so, it may not run with the full privileges needed to make system changes to the protected areas of Windows 8</span></span>
-   <span data-ttu-id="c8f44-151">Программа установки проверяет версию Windows и блокирует ее выполнение, если версия выше, чем она ожидает.</span><span class="sxs-lookup"><span data-stu-id="c8f44-151">The setup program checks for the Windows version and blocks itself from running if the version is higher than what it expects</span></span>

<span data-ttu-id="c8f44-152">Эти условия сбоя являются двумя наиболее распространенными типами сбоев совместимости в программе установки.</span><span class="sxs-lookup"><span data-stu-id="c8f44-152">These failure conditions are two of the most common types of compatibility failures in setup.</span></span> <span data-ttu-id="c8f44-153">PCA с помощью различных компонентов Windows, таких как UAC, обнаруживает программы установки при запуске и отслеживает их до конца установки.</span><span class="sxs-lookup"><span data-stu-id="c8f44-153">PCA, with the help of various other Windows components such as UAC, detects Setup programs at launch and tracks them to the end of the install.</span></span> <span data-ttu-id="c8f44-154">Если программе установки не удается добавить файлы или добавить допустимую запись в компоненте "Установка и удаление программ" панели управления Windows, PCA считает, что установка завершилась неудачно.</span><span class="sxs-lookup"><span data-stu-id="c8f44-154">If the Setup program either fails to add files or to add a valid entry in the ‘Add Remove Programs’ part of the Windows control panel, then PCA considers the setup to have failed.</span></span>

<span data-ttu-id="c8f44-155">В этом случае PCA рекомендует режим совместимости, подходящий для приложения.</span><span class="sxs-lookup"><span data-stu-id="c8f44-155">In this case, PCA recommends a compatibility mode appropriate for the app.</span></span> <span data-ttu-id="c8f44-156">Режим совместимости позволяет программе установки запускаться в режиме Windows, предназначенном для, а также обеспечивает запуск приложения с правами администратора.</span><span class="sxs-lookup"><span data-stu-id="c8f44-156">The compatibility mode allows the setup program to run in the Windows mode it was designed for and also ensures that the app runs with administrative privileges.</span></span> <span data-ttu-id="c8f44-157">PCA применяет режим совместимости RUNASADMIN вместе с соответствующим режимом совместимости Windows XP, Windows Vista или Windows 7.</span><span class="sxs-lookup"><span data-stu-id="c8f44-157">PCA applies the RUNASADMIN compatibility mode along with the appropriate Windows XP, Windows Vista, or Windows 7 compatibility mode.</span></span> <span data-ttu-id="c8f44-158">Пользователь, в конце неудачной установки, увидит диалоговое окно с рекомендацией PCA:</span><span class="sxs-lookup"><span data-stu-id="c8f44-158">The user, at the end of the failed install, will see a dialog with the PCA recommendation:</span></span>

![приложению не удается установить или удалить диалоговое окно](images/pcafigure1.png)

<span data-ttu-id="c8f44-160">Затем пользователь может выбрать:</span><span class="sxs-lookup"><span data-stu-id="c8f44-160">The user can then choose to:</span></span>

-   <span data-ttu-id="c8f44-161">Запустите программу, используя параметры совместимости (рекомендуемый параметр), после чего PCA применит рекомендуемый параметр (режим совместимости), перезапустите программу установки и отследите, пока установка завершится успешно.</span><span class="sxs-lookup"><span data-stu-id="c8f44-161">Run the program using the compatibility settings (recommended option), after which PCA will apply the recommended setting (compatibility mode), restart the setup program, and track it till the setup completes successfully</span></span>
-   <span data-ttu-id="c8f44-162">Укажите, что программа установлена правильно, в этом случае PCA не будет добавлять никаких параметров и будет перестанет отслеживать установку.</span><span class="sxs-lookup"><span data-stu-id="c8f44-162">Indicate that the program installed correctly, in which case PCA will not add any settings and will stop tracking the setup</span></span>
-   <span data-ttu-id="c8f44-163">Нажмите кнопку Закрыть. в этом случае PCA не будет добавлять никаких параметров и будет перестанет отслеживать эту настройку.</span><span class="sxs-lookup"><span data-stu-id="c8f44-163">Click Close, in which case PCA will not add any settings and will stop tracking this setup</span></span>

<span data-ttu-id="c8f44-164">Тот же механизм используется для удаления приложения, когда пользователь пытается удалить приложение из раздела "Установка и удаление программ" в Windows или из ярлыка программы удаления приложения.</span><span class="sxs-lookup"><span data-stu-id="c8f44-164">The same mechanism is used to help the app’s uninstallation when a user tries to uninstall the app either from the ‘Add Remove Programs’ section in Windows, or from the app’s uninstaller shortcut.</span></span>

<span data-ttu-id="c8f44-165">**Не удается запустить приложение с сообщением проверки версии Windows**</span><span class="sxs-lookup"><span data-stu-id="c8f44-165">**App fails to run with a Windows version check message**</span></span>

<span data-ttu-id="c8f44-166">Одна из наиболее распространенных ошибок совместимости в среде выполнения приложения связана с продолжением проверки версии Windows.</span><span class="sxs-lookup"><span data-stu-id="c8f44-166">One of the more common compatibility failures in app runtime is due to the Windows version check.</span></span> <span data-ttu-id="c8f44-167">Многие приложения при запуске Проверьте версию Windows. Если они не распознают версию, они блокируют себя даже в том случае, если приложение могло работать без проблем.</span><span class="sxs-lookup"><span data-stu-id="c8f44-167">Many apps, upon launch check the Windows version; if they do not recognize the version, they block themselves even if the app could have run without issues.</span></span>

<span data-ttu-id="c8f44-168">Как правило, такие проверки связаны с двумя условиями, которые отслеживаются PCA:</span><span class="sxs-lookup"><span data-stu-id="c8f44-168">Generally, such checks are associated with two conditions that the PCA tracks:</span></span>

<span data-ttu-id="c8f44-169">Приложение отображает окно сообщения, которое предупреждает пользователя.</span><span class="sxs-lookup"><span data-stu-id="c8f44-169">The app displays a message box that warns the user.</span></span> <span data-ttu-id="c8f44-170">Ниже приведен пример.</span><span class="sxs-lookup"><span data-stu-id="c8f44-170">An example is below:</span></span>

![не удается запустить приложение с диалоговым окном сообщения проверки версии Windows](images/pcafigure2.png)

-   <span data-ttu-id="c8f44-172">Приложение завершается немедленно или аварийно завершается</span><span class="sxs-lookup"><span data-stu-id="c8f44-172">The app terminates immediately or crashes</span></span>

<span data-ttu-id="c8f44-173">Если PCA определяет оба этих условия для приложения, он предоставит рекомендации пользователю.</span><span class="sxs-lookup"><span data-stu-id="c8f44-173">If PCA identifies both of these conditions for an app, it will provide a recommendation to the user.</span></span> <span data-ttu-id="c8f44-174">PCA позволит пользователю повторно запустить приложение с параметрами совместимости.</span><span class="sxs-lookup"><span data-stu-id="c8f44-174">PCA will allow the user to re-run the app with compatibility settings.</span></span> <span data-ttu-id="c8f44-175">PCA будет применять соответствующий режим совместимости Windows XP, Windows Vista или Windows 7 на основе приложения.</span><span class="sxs-lookup"><span data-stu-id="c8f44-175">PCA will apply the appropriate Windows XP, Windows Vista, or Windows 7 compatibility mode based on the app.</span></span> <span data-ttu-id="c8f44-176">Как и в любом из сценариев, пользователь может сообщить PCA о том, что приложение работало правильно, или отказаться от рекомендуемых параметров, нажав кнопку Закрыть.</span><span class="sxs-lookup"><span data-stu-id="c8f44-176">As in any of the scenarios, the user can tell PCA that the app ran correctly, or opt out of the recommended settings by clicking the close button.</span></span> <span data-ttu-id="c8f44-177">Ниже приведен пример диалогового окна.</span><span class="sxs-lookup"><span data-stu-id="c8f44-177">An example dialog is provided as below:</span></span>

![не удается запустить приложение в диалоговом окне параметров сообщения о проверке версии Windows](images/pcafigure3.png)

<span data-ttu-id="c8f44-179">**Не удается запустить или запустить приложение из-за прав администратора**</span><span class="sxs-lookup"><span data-stu-id="c8f44-179">**App fails to launch or run due to administrative privilege**</span></span>

<span data-ttu-id="c8f44-180">Некоторым приложениям требуются права администратора для запуска и выполнения их функциональности.</span><span class="sxs-lookup"><span data-stu-id="c8f44-180">Some apps need administrative privilege to run and execute their functionality.</span></span> <span data-ttu-id="c8f44-181">Однако в Windows 8, как и в Windows 7 и Windows Vista, приложения работают на более низких уровнях привилегий по умолчанию из-за контроля учетных записей.</span><span class="sxs-lookup"><span data-stu-id="c8f44-181">However, in Windows 8, similar to Windows 7 and Windows Vista, apps run in lower privilege levels by default due to UAC.</span></span> <span data-ttu-id="c8f44-182">Более новые приложения, разработанные для Windows Vista и более поздних версий, обычно объявляют уровень привилегий, необходимый для запуска с помощью раздела TRUSTINFO манифеста EXE.</span><span class="sxs-lookup"><span data-stu-id="c8f44-182">Newer apps designed for Windows Vista and above will generally declare the privilege level they need to run at using the EXE manifest’s TRUSTINFO section.</span></span> <span data-ttu-id="c8f44-183">Однако старые приложения обычно завершаются сбоем двумя способами:</span><span class="sxs-lookup"><span data-stu-id="c8f44-183">However, older apps generally fail in two ways:</span></span>

-   <span data-ttu-id="c8f44-184">Приложение отображает пользователю сообщение о том, что ему требуются права администратора, как показано ниже.</span><span class="sxs-lookup"><span data-stu-id="c8f44-184">App displays a message to the user that it requires administrative privilege, as below example:</span></span>

![не удается запустить или запустить приложение из-за диалогового окна привилегий администратора](images/pcafigure4a.png)

-   <span data-ttu-id="c8f44-186">Приложение либо завершается немедленно, либо завершается сбоем</span><span class="sxs-lookup"><span data-stu-id="c8f44-186">App either terminates immediately or crashes</span></span>

<span data-ttu-id="c8f44-187">Если PCA определяет оба этих условия для приложения, он предоставит рекомендации пользователю.</span><span class="sxs-lookup"><span data-stu-id="c8f44-187">If PCA identifies both of these conditions for an app, it will provide a recommendation to the user.</span></span> <span data-ttu-id="c8f44-188">PCA позволит пользователю повторно запустить приложение с правами администратора (PCA применяет режим совместимости РУНАШИГХЕСТ).</span><span class="sxs-lookup"><span data-stu-id="c8f44-188">PCA will allow the user to re-run the app with administrative privileges (PCA applies the RUNASHIGHEST compatibility mode).</span></span> <span data-ttu-id="c8f44-189">При повторном запуске приложения пользователь получит запрос контроля учетных записей.</span><span class="sxs-lookup"><span data-stu-id="c8f44-189">The user will get a UAC prompt when the app re-runs.</span></span> <span data-ttu-id="c8f44-190">Как и в любом из сценариев, пользователь может повторно запуститься с рекомендуемым параметром или отказаться от рекомендуемых параметров, нажав кнопку Закрыть.</span><span class="sxs-lookup"><span data-stu-id="c8f44-190">As in any of the scenarios, the user can choose to re-run with the recommended setting, or opt out of the recommended settings by clicking Close.</span></span> <span data-ttu-id="c8f44-191">Ниже приведен пример диалогового окна.</span><span class="sxs-lookup"><span data-stu-id="c8f44-191">An example dialog is provided as below:</span></span>

![не удается запустить или запустить приложение из-за диалогового окна параметров административных привилегий](images/pcafigure5.png)

<span data-ttu-id="c8f44-193">**Сбои приложений из-за конкретных проблем с памятью**</span><span class="sxs-lookup"><span data-stu-id="c8f44-193">**App crashes due to specific memory problems**</span></span>

<span data-ttu-id="c8f44-194">Некоторые приложения завершаются сбоем из-за хорошо известной проблемы с памятью.</span><span class="sxs-lookup"><span data-stu-id="c8f44-194">Some apps crash due to a well-known memory problem.</span></span> <span data-ttu-id="c8f44-195">Приложение обращается к библиотеке DLL из памяти, а затем вызывает функцию для выполнения кода в той же библиотеке DLL.</span><span class="sxs-lookup"><span data-stu-id="c8f44-195">The app de-references a DLL from memory, and then calls a function to execute code in the same DLL.</span></span> <span data-ttu-id="c8f44-196">Это приводит к немедленному сбою приложения.</span><span class="sxs-lookup"><span data-stu-id="c8f44-196">This causes an immediate crash of the app.</span></span> <span data-ttu-id="c8f44-197">Хотя эта проблема не связана с изменением совместимости с Windows 8, это относительно распространенная проблема, возникающая в самых разных приложениях.</span><span class="sxs-lookup"><span data-stu-id="c8f44-197">While this problem is not due to Windows 8 compatibility changes, it is a relatively common problem seen in a wide variety of apps.</span></span> <span data-ttu-id="c8f44-198">PCA отслеживает эту ошибку, чтобы дать пользователям возможность более надежно запускать свои приложения.</span><span class="sxs-lookup"><span data-stu-id="c8f44-198">PCA tracks this issue to give users a chance to run their app more reliably.</span></span>

<span data-ttu-id="c8f44-199">Для этих приложений PCA автоматически применяет режим совместимости ПИНДЛЛ в автоматическом режиме.</span><span class="sxs-lookup"><span data-stu-id="c8f44-199">For these apps, PCA automatically applies the PINDLL compatibility mode silently.</span></span> <span data-ttu-id="c8f44-200">Режим совместимости, вызываемый PCA, не позволяет приложению освободить библиотеку DLL из памяти.</span><span class="sxs-lookup"><span data-stu-id="c8f44-200">The compatibility mode invoked by PCA prevents the app from freeing the DLL from memory.</span></span> <span data-ttu-id="c8f44-201">Таким образом, вызов функции в библиотеке DLL приложения будет работать, предотвращая сбой приложения и позволяя ему продолжать нормально работать.</span><span class="sxs-lookup"><span data-stu-id="c8f44-201">So, the function call into the DLL by the app will work, preventing the app from crashing and allowing it to continue to function properly.</span></span>

<span data-ttu-id="c8f44-202">**Сбой приложения из-за несоответствия системных файлов**</span><span class="sxs-lookup"><span data-stu-id="c8f44-202">**App fails due to mismatched system files**</span></span>

<span data-ttu-id="c8f44-203">Некоторые приложения, разработанные для Windows XP и более ранних версий, содержат копии системных библиотек Windows и их установщики.</span><span class="sxs-lookup"><span data-stu-id="c8f44-203">Some apps designed for Windows XP and prior include copies of Windows system DLLs along with their installers.</span></span> <span data-ttu-id="c8f44-204">При установке таких приложений у приложения есть и старая копия библиотеки DLL, в ее собственной папке, а также последняя версия библиотеки DLL, которая находится в системных папках Windows.</span><span class="sxs-lookup"><span data-stu-id="c8f44-204">When such apps are installed, the app has both an older copy of the DLL in its own folder as well as the latest version of the DLL that is in the Windows system folders.</span></span>

<span data-ttu-id="c8f44-205">В Windows Vista и более поздних версиях это условие может привести к сбою приложения при попытке загрузить локальную библиотеку DLL, так как эта библиотека DLL не будет работать с остальными текущими системными библиотеками Windows.</span><span class="sxs-lookup"><span data-stu-id="c8f44-205">On Windows Vista and later, this condition can cause the app to fail when it tries to load the local DLL, since this DLL will not work well with the rest of the current Windows system DLLs.</span></span> <span data-ttu-id="c8f44-206">Так как приложение обычно не знает о новых версиях этой библиотеки DLL, оно не работает должным образом.</span><span class="sxs-lookup"><span data-stu-id="c8f44-206">Since the app is generally not aware of the newer versions of this DLL, it fails to work properly.</span></span>

<span data-ttu-id="c8f44-207">Когда PCA обнаруживает, что библиотека DLL не удалось загрузить правильно, она применяет параметр совместимости, позволяющий Windows загрузить последнюю версию библиотеки DLL из системной папки Windows, чтобы приложение работало правильно.</span><span class="sxs-lookup"><span data-stu-id="c8f44-207">When PCA detects that the DLL failed to load properly, it will applies a compatibility setting that allows Windows to load the latest version of the DLL from the Windows system folder so the app can run properly.</span></span>

<span data-ttu-id="c8f44-208">В конце первого неудачного запуска приложения пользователи увидят диалоговое окно PCA, которое уведомляет о примененном параметре, как показано ниже.</span><span class="sxs-lookup"><span data-stu-id="c8f44-208">At the end of the first failed run of the app, users will see the PCA dialog that notifies them of the applied setting as below:</span></span>

![сбой приложения из-за несоответствия системных файлов](images/pcafigure6.png)

<span data-ttu-id="c8f44-210">**Сбой приложения из-за необработанных ошибок в 64-разрядной версии Windows**</span><span class="sxs-lookup"><span data-stu-id="c8f44-210">**App fails due to Unhandled Errors on 64-bit Windows**</span></span>

<span data-ttu-id="c8f44-211">В 64-разрядной версии Windows 8 было включено новое исключение для механизма обратного вызова цикла сообщений.</span><span class="sxs-lookup"><span data-stu-id="c8f44-211">On 64-bit version of Windows 8, a new exception was enabled to the message loop callback mechanism.</span></span> <span data-ttu-id="c8f44-212">Хотя это исключение впервые появилось в Windows 7, оно не было обязательным для решения этой ошибки.</span><span class="sxs-lookup"><span data-stu-id="c8f44-212">While this exception was first introduced in Windows 7, it was not mandatory to handle this error.</span></span> <span data-ttu-id="c8f44-213">В Windows 8 приложения, использующие циклы сообщений, должны справиться с этим новым исключением.</span><span class="sxs-lookup"><span data-stu-id="c8f44-213">In Windows 8, apps that use message loops must handle this new exception.</span></span> <span data-ttu-id="c8f44-214">В противном случае произойдет сбой.</span><span class="sxs-lookup"><span data-stu-id="c8f44-214">If they do not, they will crash.</span></span> <span data-ttu-id="c8f44-215">Приложения, предназначенные для более старых версий Windows, могут не знать об этом исключении, и поэтому могут неправильно обрабатывать эту ошибку (Exception).</span><span class="sxs-lookup"><span data-stu-id="c8f44-215">Apps designed for older Windows versions may not be aware of this exception, and hence may not handle this error (exception) properly.</span></span>

<span data-ttu-id="c8f44-216">PCA обнаруживает приложения, которые не удалось выполнить из-за этой необработанной ошибки, и автоматически применяет режим совместимости ДИСАБЛЕУСЕРКАЛЛБАККЕКСЦЕПТИОН для приложения.</span><span class="sxs-lookup"><span data-stu-id="c8f44-216">PCA detects apps that fail due to this unhandled error, and automatically applies the DISABLEUSERCALLBACKEXCEPTION compatibility mode for the app.</span></span> <span data-ttu-id="c8f44-217">После применения параметра в конце выполнения пользователь получает уведомления, как показано ниже.</span><span class="sxs-lookup"><span data-stu-id="c8f44-217">After the setting is applied at the end of the run, the user is notified as below.</span></span> <span data-ttu-id="c8f44-218">Приложение получит режим при следующем запуске и сможет избежать этой ошибки.</span><span class="sxs-lookup"><span data-stu-id="c8f44-218">The app will get the mode on the next run, and will be able to avoid this error.</span></span>

![сбой приложения из-за необработанных ошибок в 64-разрядном диалоговом окне Windows](images/pcafigure7.png)

<span data-ttu-id="c8f44-220">**Сбой приложения при попытке удаления защищенных файлов, отличных от Windows**</span><span class="sxs-lookup"><span data-stu-id="c8f44-220">**App fails while attempting to delete protected non-Windows files**</span></span>

<span data-ttu-id="c8f44-221">Некоторые приложения, разработанные для Windows XP и более ранних версий предполагают, что они обычно работают с полными правами администратора.</span><span class="sxs-lookup"><span data-stu-id="c8f44-221">Some apps designed for Windows XP and prior assume that they usually run with full administrative privileges.</span></span> <span data-ttu-id="c8f44-222">В качестве обычного поведения приложения они могут попытаться удалить защищенные файлы, не относящиеся к Windows (в программах или папках Windows).</span><span class="sxs-lookup"><span data-stu-id="c8f44-222">As a course of normal app behavior, they may try to delete protected non-Windows files (either in program files or Windows folders).</span></span> <span data-ttu-id="c8f44-223">При сбое операции удаления многие такие приложения могут завершиться со сбоем.</span><span class="sxs-lookup"><span data-stu-id="c8f44-223">When the delete operation fails many such apps can crash.</span></span>

<span data-ttu-id="c8f44-224">PCA обнаруживает такие приложения, которые не могут удалить защищенные файлы и дает пользователю рекомендации.</span><span class="sxs-lookup"><span data-stu-id="c8f44-224">PCA detects these apps that fail to delete protected files and crash, and provides a recommendation to the user.</span></span> <span data-ttu-id="c8f44-225">PCA позволит пользователю повторно запустить приложение с параметрами совместимости.</span><span class="sxs-lookup"><span data-stu-id="c8f44-225">PCA will allow the user to re-run the app with compatibility settings.</span></span> <span data-ttu-id="c8f44-226">Как и в любом из сценариев, пользователь может сообщить PCA о том, что приложение работало правильно, или отказаться от рекомендуемых параметров, нажав кнопку Закрыть.</span><span class="sxs-lookup"><span data-stu-id="c8f44-226">As in any of the scenarios, the user can tell PCA that the app ran correctly, or opt out of the recommended settings by clicking the close button.</span></span> <span data-ttu-id="c8f44-227">В этом случае PCA применяет режим совместимости ВИРТУАЛИЗЕДЕЛЕТЕ.</span><span class="sxs-lookup"><span data-stu-id="c8f44-227">In this case PCA applies the VIRTUALIZEDELETE compatibility mode.</span></span> <span data-ttu-id="c8f44-228">Ниже приведен пример диалогового окна.</span><span class="sxs-lookup"><span data-stu-id="c8f44-228">An example dialog is provided as below:</span></span>

![сбой приложения при попытке удалить диалоговое окно защищенных файлов, не связанных с Windows](images/pcafigure8.png)

<span data-ttu-id="c8f44-230">**Сбой приложения при попытке изменить файлы или ключи реестра Windows**</span><span class="sxs-lookup"><span data-stu-id="c8f44-230">**App fails while attempting to modify Windows files or registry keys**</span></span>

<span data-ttu-id="c8f44-231">Некоторые приложения, разработанные для Windows XP и более ранних версий предполагают, что они обычно работают с полными правами администратора.</span><span class="sxs-lookup"><span data-stu-id="c8f44-231">Some apps designed for Windows XP and prior assume that they usually run with full administrative privileges.</span></span> <span data-ttu-id="c8f44-232">В качестве обычного поведения приложения они могут попытаться изменить, удалить или записать защищенные файлы Windows (в программных файлах или папках Windows) или в разделы реестра, принадлежащие Windows.</span><span class="sxs-lookup"><span data-stu-id="c8f44-232">As a course of normal app behavior, they may try to modify, delete or write Windows protected files (either in program files or Windows folders) or Registry keys owned by Windows.</span></span> <span data-ttu-id="c8f44-233">При сбое любой операции записи, удаления или изменения файла или раздела реестра многие такие приложения могут аварийно завершить работу или привести к сбою.</span><span class="sxs-lookup"><span data-stu-id="c8f44-233">When any of the write, delete or modify operation for a file or a registry key fails many such apps can crash or fail badly.</span></span>

<span data-ttu-id="c8f44-234">PCA обнаруживает такие приложения, которые не могут записывать данные в защищенные файлы Windows или разделы реестра, и предоставляет рекомендации пользователю при завершении работы приложения.</span><span class="sxs-lookup"><span data-stu-id="c8f44-234">PCA detects these apps that fail to write to protected Windows files or registry keys, and provides a recommendation to the user when the app quits.</span></span> <span data-ttu-id="c8f44-235">PCA позволит пользователю повторно запустить приложение с параметрами совместимости.</span><span class="sxs-lookup"><span data-stu-id="c8f44-235">PCA will allow the user to re-run the app with compatibility settings.</span></span> <span data-ttu-id="c8f44-236">Как и в любом из сценариев, пользователь может сообщить PCA о том, что приложение работало правильно, или отказаться от рекомендуемых параметров, нажав кнопку Закрыть.</span><span class="sxs-lookup"><span data-stu-id="c8f44-236">As in any of the scenarios, the user can tell PCA that the app ran correctly, or opt out of the recommended settings by clicking the Close button.</span></span> <span data-ttu-id="c8f44-237">В этом случае PCA применяет режим совместимости ВРПМИТИГАТИОН.</span><span class="sxs-lookup"><span data-stu-id="c8f44-237">In this case PCA applies the WRPMITIGATION compatibility mode.</span></span> <span data-ttu-id="c8f44-238">Ниже приведен пример диалогового окна.</span><span class="sxs-lookup"><span data-stu-id="c8f44-238">An example dialog is provided as below:</span></span>

![сбой приложения при попытке изменить диалоговое окно "файлы Windows" или "разделы реестра"](images/pcafigure9.png)

<span data-ttu-id="c8f44-240">**Сбой приложения из-за использования 8-или 16-разрядных цветовых режимов**</span><span class="sxs-lookup"><span data-stu-id="c8f44-240">**App fails due to using 8- or 16-bit color modes**</span></span>

<span data-ttu-id="c8f44-241">В рамках перекрывающегося Windows 8 для приложений Магазина Windows одним из ключевых изменений является то, что диспетчер окон рабочего стола (DWM) теперь поддерживает только 32-разрядные цвета в Windows 8.</span><span class="sxs-lookup"><span data-stu-id="c8f44-241">As part of reimagining Windows 8 for Windows Store apps, one of the key changes is that the Desktop Window Manager (DWM) will now support only 32-bit colors in Windows 8.</span></span> <span data-ttu-id="c8f44-242">Теперь моделируются низкоуровневые цветовые режимы.</span><span class="sxs-lookup"><span data-stu-id="c8f44-242">Lower color modes are now simulated.</span></span>

<span data-ttu-id="c8f44-243">Многие старые приложения и игры, разработанные для Windows XP, или перед использованием 8-разрядных или 16-разрядных цветовых режимов.</span><span class="sxs-lookup"><span data-stu-id="c8f44-243">Many older apps and games designed for Windows XP or before use 8-bit or 16-bit color modes.</span></span> <span data-ttu-id="c8f44-244">Без снижения риска эти приложения могут не работать в Windows 8.</span><span class="sxs-lookup"><span data-stu-id="c8f44-244">With no mitigation, these apps could fail to execute on Windows 8.</span></span> <span data-ttu-id="c8f44-245">Однако, когда эти приложения перечисляют или пытаются использовать любой из 8-разрядных или 16-разрядных цветовых режимов для экрана, PCA немедленно определяет эту ошибку и справку по DWM, гарантируя, что приложение будет правильно работать с имитацией цветового режима.</span><span class="sxs-lookup"><span data-stu-id="c8f44-245">However, when these apps enumerate or try to use any of the 8-bit or 16-bit color modes for display, PCA immediately identifies the issue and with the help of DWM, ensures that the app will work properly with the simulated color mode.</span></span>

<span data-ttu-id="c8f44-246">Обратите внимание, что это происходит, как только приложение запрашивает режимы низкого цвета и прозрачно для пользователя.</span><span class="sxs-lookup"><span data-stu-id="c8f44-246">Note that this happens as soon as the app requests the low color modes and is transparent to the user.</span></span> <span data-ttu-id="c8f44-247">Пользователю не нужно перезапускать приложение, чтобы избежать этого, так как это исправление всегда требуется для правильной работы приложения.</span><span class="sxs-lookup"><span data-stu-id="c8f44-247">The user does not have to restart the app to get this mitigation because this fix is always needed to ensure that the app works properly.</span></span>

<span data-ttu-id="c8f44-248">**Сбой приложения из-за графики и отображение проблем**</span><span class="sxs-lookup"><span data-stu-id="c8f44-248">**Application fails due to graphics and display issues**</span></span>

<span data-ttu-id="c8f44-249">Так как диспетчер окон рабочего стола (DWM) всегда включена в Windows 8, некоторые старые приложения-версии Windows XP могут завершиться ошибкой, если приложение использует графические API в смешанном режиме, как и интерфейсы GDI и DirectX для рисования на экране (в основном в более старых играх), и пытается использовать полноэкранный режим:</span><span class="sxs-lookup"><span data-stu-id="c8f44-249">Since Desktop Window Manager (DWM) is always on in Windows 8, some older Windows XP era apps can fail if the app uses mixed mode graphics APIs, as in using both GDI and DirectX APIs to draw to the screen (mostly older games), and tries to use full screen mode:</span></span>

-   <span data-ttu-id="c8f44-250">DWM не позволит рисовать непосредственно на настольном компьютере, игра или приложение либо выйдут из строя, либо Нарисуйте черный экран на рабочем столе, и ни одна из графических объектов не будет видима</span><span class="sxs-lookup"><span data-stu-id="c8f44-250">DWM will prevent painting directly to the desktop and the game or app will either fail, or draw a black screen on to the desktop and none of the graphics will be visible</span></span>
-   <span data-ttu-id="c8f44-251">В таких случаях, когда приложение завершает работу, Windows обнаруживает, что приложение или игра имеет проблему в полноэкранном режиме, и применяет режим совместимости ДКСМАКСИМИЗЕДВИНДОВЕДМОДЕ, позволяющий приложению или игре работать в режиме развернутого окна, а не в полноэкранном режиме.</span><span class="sxs-lookup"><span data-stu-id="c8f44-251">In such cases, when the app quits, Windows detects that the app or game has a problem with full screen mode, and applies the DXMAXIMIZEDWINDOWEDMODE compatibility mode that allows the app or game to run in a maximized windowed mode instead of a full screen mode</span></span>
-   <span data-ttu-id="c8f44-252">После применения параметра в конце выполнения пользователь получает уведомления PCA, как показано ниже. приложение получит режим совместимости при следующем запуске и сможет работать правильно.</span><span class="sxs-lookup"><span data-stu-id="c8f44-252">After the setting is applied at the end of the run, the user is notified by PCA as shown below; the app will get the compatibility mode on the next run, and will be able run properly</span></span>

![приложение завершается сбоем из-за диалогового окна "графика и отображение проблем"](images/pcafigure10.png)

<span data-ttu-id="c8f44-254">**Приложению не удалось объявить сведения о DPI**</span><span class="sxs-lookup"><span data-stu-id="c8f44-254">**App fails to declare DPI awareness**</span></span>

<span data-ttu-id="c8f44-255">Еще одна типичная проблема с отображением многих старых приложений возникает, когда Windows и приложение выполняются в режиме высокого DPI, но приложение не объявляет о высоком уровне DPI через манифест EXE.</span><span class="sxs-lookup"><span data-stu-id="c8f44-255">Another typical display problem with many older apps happens when Windows and the app run in high DPI mode, but the app does not declare its awareness of High DPI through its EXE manifest.</span></span> <span data-ttu-id="c8f44-256">Между распространенными проблемами, которые могут возникать из-за такого несоответствия параметров, являются обрезанные элементы пользовательского интерфейса или текст и неверный размер шрифта.</span><span class="sxs-lookup"><span data-stu-id="c8f44-256">Among the common problems that can occur due to this mismatch in settings are clipped UI elements or text and incorrect font size.</span></span> <span data-ttu-id="c8f44-257">Дополнительные сведения о проблемах см. [здесь](/previous-versions//dd464660(v=vs.85)).</span><span class="sxs-lookup"><span data-stu-id="c8f44-257">For more details on the issues, see this link [here](/previous-versions//dd464660(v=vs.85)).</span></span>

<span data-ttu-id="c8f44-258">В таких случаях Windows обнаруживает, что приложение поддерживает высокое разрешение DPI, и применяет режим совместимости ХИГХДПИАВАРЕ к приложению в конце первого запуска.</span><span class="sxs-lookup"><span data-stu-id="c8f44-258">In such cases, Windows detects that the app is high DPI aware, and applies the HIGHDPIAWARE compatibility mode to the app at the end of the first run.</span></span> <span data-ttu-id="c8f44-259">PCA будет уведомлять пользователя об этом, как показано ниже:</span><span class="sxs-lookup"><span data-stu-id="c8f44-259">PCA will then inform the user about this as shown below:</span></span>

![приложению не удалось объявить диалоговое окно определения осведомленности о dpi](images/pcafigure11.png)

<span data-ttu-id="c8f44-261">**Сбой приложения из-за отсутствия компонентов Windows**</span><span class="sxs-lookup"><span data-stu-id="c8f44-261">**Application fails due to missing Windows features**</span></span>

<span data-ttu-id="c8f44-262">Некоторые приложения зависят от компонентов Windows, которые были удалены с момента выпуска Windows Vista.</span><span class="sxs-lookup"><span data-stu-id="c8f44-262">Some apps depend on Windows features that have been removed since Windows Vista.</span></span> <span data-ttu-id="c8f44-263">Когда эти приложения пытаются загрузить недостающие библиотеки DLL или COM-компоненты, они не смогут работать.</span><span class="sxs-lookup"><span data-stu-id="c8f44-263">When these apps try to load the missing DLLs or COM components, they fail to work.</span></span>

<span data-ttu-id="c8f44-264">PCA обнаруживает приложения при попытке загрузить недостающие компоненты Windows, а также предоставляет рекомендации по загрузке этих компонентов и их установке после завершения работы приложения.</span><span class="sxs-lookup"><span data-stu-id="c8f44-264">PCA detects apps when they try to load the missing Windows features, and provides a recommendation to download these components and install them after the app terminates.</span></span> <span data-ttu-id="c8f44-265">Пользователь может щелкнуть "получить справку в Интернете", чтобы найти альтернативу или скачать компонент и установить его.</span><span class="sxs-lookup"><span data-stu-id="c8f44-265">The user can click on ‘get Help Online’ to find either an alternative or to download the feature and install it.</span></span> <span data-ttu-id="c8f44-266">При необходимости пользователь может ничего не делать, нажав кнопку Закрыть.</span><span class="sxs-lookup"><span data-stu-id="c8f44-266">If needed, the user can choose to do nothing by clicking Close.</span></span>

![сбой приложения из-за отсутствия диалогового окна компонентов Windows](images/pcafigure12.png)

<span data-ttu-id="c8f44-268">**Сбой приложения из-за неподписанных драйверов в 64-разрядной версии Windows 8**</span><span class="sxs-lookup"><span data-stu-id="c8f44-268">**App fails due to unsigned drivers on 64-bit Windows 8**</span></span>

<span data-ttu-id="c8f44-269">64-разрядная версия Windows требует наличия драйверов с цифровыми подписями (SYS-файлы), начиная с Windows Vista.</span><span class="sxs-lookup"><span data-stu-id="c8f44-269">64-bit Windows has required digitally signed drivers (SYS files) since Windows Vista.</span></span> <span data-ttu-id="c8f44-270">Однако старые приложения, разработанные до выпуска драйверов Windows Vista, не подписанные цифровой подписью.</span><span class="sxs-lookup"><span data-stu-id="c8f44-270">However, older apps designed prior to the release of Windows Vista shipped drivers that were not digitally signed.</span></span> <span data-ttu-id="c8f44-271">Если такой неподписанный драйвер установлен, Windows не будет загружать их.</span><span class="sxs-lookup"><span data-stu-id="c8f44-271">If such an unsigned driver is installed, Windows will not load them.</span></span> <span data-ttu-id="c8f44-272">В редких случаях Windows может не запускаться, если такие драйверы помечены как драйверы времени загрузки.</span><span class="sxs-lookup"><span data-stu-id="c8f44-272">In rare cases, it is possible that Windows will not start if such drivers are marked as boot-time drivers.</span></span>

<span data-ttu-id="c8f44-273">Некоторые старые приложения устанавливают драйверы, которые не вошли в 64-разрядную версию Windows.</span><span class="sxs-lookup"><span data-stu-id="c8f44-273">Some older apps install drivers that are not signed on 64-bit Windows.</span></span> <span data-ttu-id="c8f44-274">Любое устройство или приложение, пытающееся использовать этот драйвер, может завершиться ошибкой или привести к сбою системы.</span><span class="sxs-lookup"><span data-stu-id="c8f44-274">Any device or app that tries to use this driver may fail or result in a system crash.</span></span> <span data-ttu-id="c8f44-275">Чтобы предотвратить такой сценарий, PCA обнаруживает приложения при установке неподписанных драйверов и отключает драйвер, помеченный как драйвер времени загрузки.</span><span class="sxs-lookup"><span data-stu-id="c8f44-275">To prevent such a scenario, PCA detects apps when they install unsigned drivers, and disables the driver it is marked as a boot-time driver.</span></span>

<span data-ttu-id="c8f44-276">Он также указывает пользователю получить драйвер цифровой подписи, чтобы приложение работало правильно.</span><span class="sxs-lookup"><span data-stu-id="c8f44-276">It also instructs the user to acquire a digitally signed driver for the app to work properly.</span></span> <span data-ttu-id="c8f44-277">Сообщение отображается в результате установки драйвера, а также в результате установки приложения в.</span><span class="sxs-lookup"><span data-stu-id="c8f44-277">The message is shown as a result of the installation of the driver, and as a result of the installation of the app.</span></span> <span data-ttu-id="c8f44-278">Если другое приложение устанавливает тот же драйвер, это приложение также будет получать то же сообщение.</span><span class="sxs-lookup"><span data-stu-id="c8f44-278">If another app installs the same driver, that app will get the same message as well.</span></span>

![сбой приложения из-за неподписанных драйверов в 64-разрядном диалоговом окне Windows 8](images/pcafigure13.png)

<span data-ttu-id="c8f44-280">**Приложения отслеживания, установленные с помощью параметров совместимости**</span><span class="sxs-lookup"><span data-stu-id="c8f44-280">**Tracking apps installed through compatibility settings**</span></span>

<span data-ttu-id="c8f44-281">При сбое установщика PCA помогает установщику с различными режимами совместимости в зависимости от типа сбоя.</span><span class="sxs-lookup"><span data-stu-id="c8f44-281">When an installer fails, PCA helps the installer with various compatibility modes depending on the type of failure.</span></span> <span data-ttu-id="c8f44-282">После завершения работы установщика с параметрами совместимости PCA будет отслеживанию ярлыков, добавленных установщиком.</span><span class="sxs-lookup"><span data-stu-id="c8f44-282">Once the installer succeeds with compatibility settings, PCA will track the shortcuts that the installer added.</span></span> <span data-ttu-id="c8f44-283">Это делается для того, чтобы определить, могут ли приложения, которые были установлены, иметь параметры совместимости, примененные к установщику.</span><span class="sxs-lookup"><span data-stu-id="c8f44-283">This is done to track if the apps that were installed may also need the compatibility settings applied to their installer.</span></span>

<span data-ttu-id="c8f44-284">Когда пользователь запускает такое приложение, PCA запрашивает у пользователя вопрос о том, что приложение работало правильно.</span><span class="sxs-lookup"><span data-stu-id="c8f44-284">When a user launches such an app, PCA prompts the user to ask if the app worked properly.</span></span> <span data-ttu-id="c8f44-285">Если пользователь ответил, "Да", PCA прекращает отслеживать приложение.</span><span class="sxs-lookup"><span data-stu-id="c8f44-285">If the user answers, ‘Yes,’ the PCA stops tracking the app.</span></span> <span data-ttu-id="c8f44-286">Если пользователь отвечает "нет", он применяет тот же режим совместимости, который был применен к установщику приложения, и повторно запускает приложение с примененным режимом совместимости.</span><span class="sxs-lookup"><span data-stu-id="c8f44-286">If the user answers ‘No,’ then it applies the same compatibility mode that was applied to the app’s installer, and re-runs the app with the compatibility mode applied.</span></span>

<span data-ttu-id="c8f44-287">**Приложению не удается запустить установщики или средства обновления**</span><span class="sxs-lookup"><span data-stu-id="c8f44-287">**App fails to launch installers or updaters**</span></span>

<span data-ttu-id="c8f44-288">Приложения иногда запускают дочерние программы, которые должны запускаться от имени администраторов.</span><span class="sxs-lookup"><span data-stu-id="c8f44-288">Apps sometimes launch child programs that need to run as administrators.</span></span> <span data-ttu-id="c8f44-289">Обычно это происходит, когда приложение пытается запустить программное обеспечение обновления для проверки и установки новых обновлений приложения.</span><span class="sxs-lookup"><span data-stu-id="c8f44-289">This is typically the case when an app tries to launch its updater software to check and install new updates to the app.</span></span> <span data-ttu-id="c8f44-290">Если приложения непосредственно запускают такие дочерние программы, дочерняя программа может не запуститься, так как само приложение не имеет прав администратора или потому, что дочерняя программа не была правильно отмечена для повышения прав с помощью манифеста UAC.</span><span class="sxs-lookup"><span data-stu-id="c8f44-290">When apps directly run such child programs, the child program can fail to launch because the app itself did not have administrative privileges, or because the child program was not properly marked for elevation with the UAC manifest.</span></span>

<span data-ttu-id="c8f44-291">PCA отслеживает эти ошибки и при закрытии основного приложения автоматически применяет режим совместимости ELEVATECREATEPROCESS, который поможет обеспечить правильную работу дочерних программ.</span><span class="sxs-lookup"><span data-stu-id="c8f44-291">PCA tracks these errors and when the primary app closes, it automatically applies the ELEVATECREATEPROCESS compatibility mode that will help the child programs run correctly.</span></span> <span data-ttu-id="c8f44-292">Когда приложение запускает дочернее приложение при последующих запусках, пользователь увидит диалоговое окно контроля учетных записей для дочерней программы.</span><span class="sxs-lookup"><span data-stu-id="c8f44-292">When the app launches the child app on subsequent runs, the user will see a UAC dialog for the child program.</span></span>

<span data-ttu-id="c8f44-293">Ниже приведен пример диалогового окна PCA.</span><span class="sxs-lookup"><span data-stu-id="c8f44-293">An Example of the PCA dialog is shown below:</span></span>

![приложению не удается запустить диалоговое окно установщиков или средств обновления](images/pcafigure14.png)

<span data-ttu-id="c8f44-295">**Установщики приложений, которые должны запускаться с правами администратора**</span><span class="sxs-lookup"><span data-stu-id="c8f44-295">**App installers that need to run with administrative privilege**</span></span>

<span data-ttu-id="c8f44-296">Для установки классических приложений Windows требуются права администратора, так как они записывают файлы, папки и записи реестра в защищенные системные области.</span><span class="sxs-lookup"><span data-stu-id="c8f44-296">Installers of Windows desktop apps require administrative privileges since they write files, folders, and registry entries to protected system areas.</span></span> <span data-ttu-id="c8f44-297">Windows (UAC) имеет логику обнаружения для определения времени запуска установщика и немедленно предлагает пользователю предоставить административные привилегии в диалоговом окне UAC.</span><span class="sxs-lookup"><span data-stu-id="c8f44-297">Windows (UAC) has detection logic to identify when an installer is run, and immediately prompts the user to provide administrative privileges through the UAC dialog.</span></span> <span data-ttu-id="c8f44-298">Однако в некоторых случаях эта логика не сможет определить, что приложение действительно является установщиком, и не может получить права администратора.</span><span class="sxs-lookup"><span data-stu-id="c8f44-298">However, in some cases, this logic will not be able to determine that an app was indeed an installer, and may not get administrative privileges.</span></span> <span data-ttu-id="c8f44-299">Обычно это пользовательские установщики, которые не используют хорошо известные технологии установки, такие как установщик Windows или установка щита.</span><span class="sxs-lookup"><span data-stu-id="c8f44-299">These are generally custom made installers that do not use well known install technologies such as Windows Installer or Install Shield.</span></span>

<span data-ttu-id="c8f44-300">В таких случаях PCA обнаруживает, что установщику не удалось записать файлы.</span><span class="sxs-lookup"><span data-stu-id="c8f44-300">In such cases, PCA detects that the installer failed to write its files.</span></span> <span data-ttu-id="c8f44-301">В конце в случае сбоя установки PCA предоставит рекомендации по применению параметров совместимости.</span><span class="sxs-lookup"><span data-stu-id="c8f44-301">At the end if the failed install, PCA will provide a recommendation to apply compatibility settings.</span></span> <span data-ttu-id="c8f44-302">Если пользователь выбирает команду "запустить программу", PCA будет применять режим совместимости RUNASADMIN и повторно запустить установщик.</span><span class="sxs-lookup"><span data-stu-id="c8f44-302">If the user chooses to click ‘Run Program,’ PCA will apply the RUNASADMIN compatibility mode, and re-run the installer.</span></span> <span data-ttu-id="c8f44-303">Если пользователь решит закрыть, параметр не будет применен.</span><span class="sxs-lookup"><span data-stu-id="c8f44-303">If the user chooses to close, then no setting will be applied.</span></span> <span data-ttu-id="c8f44-304">Ниже приведен пример диалогового окна PCA.</span><span class="sxs-lookup"><span data-stu-id="c8f44-304">An example PCA dialog is shown below:</span></span>

![Снимок экрана, на котором показан пример диалогового окна для установщика приложений, которое должно выполняться с правами администратора.](images/pcafigure15.png)

<span data-ttu-id="c8f44-306">Приложения панели управления прежних версий, необходимые для работы с приложениями панели управления правами администратора, обычно изменяют системные параметры и нуждаются в возможности запуска администратора AD.</span><span class="sxs-lookup"><span data-stu-id="c8f44-306">Legacy Control Panel applets that need to run with administrative privilege Control panel applets generally change system settings and need the ability to run ad administrator.</span></span> <span data-ttu-id="c8f44-307">Однако они, написанные до Windows Vista, не имеют манифеста EXE или не имеют раздела TRUSTINFO, в котором объявляется требуемый уровень привилегий.</span><span class="sxs-lookup"><span data-stu-id="c8f44-307">However, those written before Windows Vista either do not have an EXE manifest or do not have the TRUSTINFO section that declares the privilege level they require.</span></span> <span data-ttu-id="c8f44-308">При запуске таких приложений PCA обнаруживает их и в конце первого запуска предоставляет рекомендацию для запуска с административными параметрами.</span><span class="sxs-lookup"><span data-stu-id="c8f44-308">When such applets are run, PCA detects them, and at the end of the first run, provides a recommendation to run with administrative settings.</span></span> <span data-ttu-id="c8f44-309">Если пользователь выбирает команду "запустить программу", PCA применяет режим совместимости RUNASADMIN и повторно запускает установщик.</span><span class="sxs-lookup"><span data-stu-id="c8f44-309">If the user chooses to click ‘Run Program,’ PCA applies the RUNASADMIN compatibility mode, and re-runs the installer.</span></span> <span data-ttu-id="c8f44-310">Если пользователь решит закрыть, параметры не будут применены.</span><span class="sxs-lookup"><span data-stu-id="c8f44-310">If the user chooses to close, then no settings will be applied.</span></span> <span data-ttu-id="c8f44-311">Ниже приведен пример диалогового окна PCA.</span><span class="sxs-lookup"><span data-stu-id="c8f44-311">An example PCA dialog is shown below:</span></span>

![установщики приложений, которые должны запускаться с помощью диалогового окна с правами администратора](images/pcafigure16.png)

<span data-ttu-id="c8f44-313">**Проверка рекомендуемых параметров с помощью отзывов пользователей**</span><span class="sxs-lookup"><span data-stu-id="c8f44-313">**Verifying the recommended settings through user feedback**</span></span>

<span data-ttu-id="c8f44-314">В конце каждого сценария (после запуска приложения с рекомендуемыми параметрами совместимости) PCA предложит пользователю простой вопрос:</span><span class="sxs-lookup"><span data-stu-id="c8f44-314">At the end of each of the scenarios (after the app is run with recommended compatibility settings), PCA will ask the user a simple question:</span></span>

![Проверка рекомендуемых параметров с помощью диалогового окна отзывов пользователей](images/pcafigure17.png)

<span data-ttu-id="c8f44-316">Пользователь может оставить отзыв, если приложение работало или завершилось сбоем с параметром совместимости.</span><span class="sxs-lookup"><span data-stu-id="c8f44-316">The user can provide feedback if the app worked or failed with the compatibility setting.</span></span> <span data-ttu-id="c8f44-317">Эти данные будут отправлены анонимно в корпорацию Майкрософт.</span><span class="sxs-lookup"><span data-stu-id="c8f44-317">This data will be sent anonymously to Microsoft.</span></span> <span data-ttu-id="c8f44-318">Это гарантирует, что эти исправления могут быть встроены в Windows 8 с помощью процесса обновления Windows, чтобы будущие пользователи Windows 8 больше не сталкиваются со сбоем приложения, и PCA больше не будет относиться к сбоям в работе приложения.</span><span class="sxs-lookup"><span data-stu-id="c8f44-318">This helps to ensure that such fixes can be built into Windows 8 through Windows update process, so that future users of Windows 8 will no longer encounter the app failure, and PCA will no longer need to track the app for the failure.</span></span>

<span data-ttu-id="c8f44-319">**Отслеживание проблем, не имеющих рекомендаций**</span><span class="sxs-lookup"><span data-stu-id="c8f44-319">**Tracking issues that have no recommendations**</span></span>

<span data-ttu-id="c8f44-320">Приложения могут завершаться сбоем различными способами по соображениям совместимости.</span><span class="sxs-lookup"><span data-stu-id="c8f44-320">Apps may fail in many different ways for compatibility reasons.</span></span> <span data-ttu-id="c8f44-321">PCA отслеживает множество других проблем совместимости, чем указано в приведенных выше сценариях.</span><span class="sxs-lookup"><span data-stu-id="c8f44-321">PCA tracks many more compatibility issues than what is listed in the above scenarios.</span></span> <span data-ttu-id="c8f44-322">В таких случаях, как правило, манифест проблемы зависит от приложения.</span><span class="sxs-lookup"><span data-stu-id="c8f44-322">In these cases, many times, the issue manifestation depends on the app.</span></span> <span data-ttu-id="c8f44-323">Это означает, что некоторые приложения правильно обрабатывали такие проблемы, а другие — нет.</span><span class="sxs-lookup"><span data-stu-id="c8f44-323">This means that some apps handle such issues gracefully and recover from it, while others may not.</span></span> <span data-ttu-id="c8f44-324">Таким образом, в то время как PCA по-прежнему отслеживает приложение, оно не предоставляет прямых рекомендаций по устранению проблемы.</span><span class="sxs-lookup"><span data-stu-id="c8f44-324">So, for such issues, while PCA still tracks the app, it does not provide a direct recommendation for a fix.</span></span>

<span data-ttu-id="c8f44-325">Проблемы, которые отслеживаются PCA без рекомендуемых параметров или диалогового окна, включают приложения, которые:</span><span class="sxs-lookup"><span data-stu-id="c8f44-325">The issues that PCA tracks that do not have a recommended setting or a dialog include apps that:</span></span>

-   <span data-ttu-id="c8f44-326">Очень короткий период выполнения — приложения выполняются не более трех секунд</span><span class="sxs-lookup"><span data-stu-id="c8f44-326">Have a very short runtime – Apps run for no more than three seconds</span></span>
-   <span data-ttu-id="c8f44-327">Создание глобальных объектов памяти без прав администратора</span><span class="sxs-lookup"><span data-stu-id="c8f44-327">Create global memory objects without administrative privileges</span></span>
-   <span data-ttu-id="c8f44-328">Ошибка (исключение Win32) при запуске</span><span class="sxs-lookup"><span data-stu-id="c8f44-328">Have an error (Win32 exception) on launch</span></span>
-   <span data-ttu-id="c8f44-329">Проверьте наличие прав администратора (но может произойти сбой)</span><span class="sxs-lookup"><span data-stu-id="c8f44-329">Check for administrative privilege (but may not fail)</span></span>
-   <span data-ttu-id="c8f44-330">Использование кодеков Indeo (не рекомендуется в Windows Vista)</span><span class="sxs-lookup"><span data-stu-id="c8f44-330">Use Indeo codecs (deprecated from Windows Vista)</span></span>
-   <span data-ttu-id="c8f44-331">Попробуйте записать или удалить ключи из защищенных расположений реестра, таких как HKLM</span><span class="sxs-lookup"><span data-stu-id="c8f44-331">Try to write or delete keys from protected registry locations such as HKLM</span></span>
-   <span data-ttu-id="c8f44-332">Аварийное завершение при запуске</span><span class="sxs-lookup"><span data-stu-id="c8f44-332">Crash on launch</span></span>

<span data-ttu-id="c8f44-333">**Применение исправлений с помощью вкладки "совместимость" и средства устранения неполадок совместимости**</span><span class="sxs-lookup"><span data-stu-id="c8f44-333">**Applying fixes through the compatibility tab and compatibility troubleshooter**</span></span>

<span data-ttu-id="c8f44-334">Как упоминалось выше, приложения могут завершаться сбоем по различным причинам совместимости.</span><span class="sxs-lookup"><span data-stu-id="c8f44-334">As mentioned above, apps can fail for a variety of compatibility reasons.</span></span> <span data-ttu-id="c8f44-335">Не все из них имеют четкие рекомендации по PCA, так как параметры зависят от приложения.</span><span class="sxs-lookup"><span data-stu-id="c8f44-335">Not all of these have clear PCA recommendation since the settings are app dependent.</span></span> <span data-ttu-id="c8f44-336">Тем не менее пользователи могут перейти на вкладку Диагностика совместимости или совместимость, чтобы применить некоторые общие исправления для правильной работы приложения, которое не работает в Windows 8.</span><span class="sxs-lookup"><span data-stu-id="c8f44-336">However, users can go to the Compatibility Troubleshooter or the Compatibility Tab to apply certain common fixes to try to get their failing app to work properly on Windows 8.</span></span> <span data-ttu-id="c8f44-337">В таких случаях PCA по-прежнему будет отслеживанию проблем совместимости приложения до и после применения исправления.</span><span class="sxs-lookup"><span data-stu-id="c8f44-337">In such cases, PCA will still track the app for compatibility issues, before and after the fix is applied.</span></span> <span data-ttu-id="c8f44-338">После того как приложение будет запущено с применением исправления, PCA запросит пользователя, если исправление работало.</span><span class="sxs-lookup"><span data-stu-id="c8f44-338">After the app is run with the fix applied, PCA will ask the user if the fix worked.</span></span> <span data-ttu-id="c8f44-339">Когда пользователь ответит на вопрос, данные отправляются анонимно через телеметрию в корпорацию Майкрософт.</span><span class="sxs-lookup"><span data-stu-id="c8f44-339">Once the user answers the question, the data is sent anonymously through telemetry to Microsoft.</span></span> <span data-ttu-id="c8f44-340">Эти данные собираются из множества пользователей и анализируются, а соответствующие исправления затем широко распространяются всем пользователям Windows 8 через Windows Update.</span><span class="sxs-lookup"><span data-stu-id="c8f44-340">This data is collected from many users and analyzed, and the qualifying fixes are then broadly distributed to all Windows 8 users through Windows update.</span></span>

<span data-ttu-id="c8f44-341">**Использование средства устранения проблем совместимости**</span><span class="sxs-lookup"><span data-stu-id="c8f44-341">**Using the Compatibility Troubleshooter**</span></span>

<span data-ttu-id="c8f44-342">Средство устранения неполадок совместимости — это механизм Windows, который позволяет диагностировать проблемы с приложениями и применять рекомендованные исправления для правильной работы.</span><span class="sxs-lookup"><span data-stu-id="c8f44-342">The Compatibility Troubleshooter is a mechanism in Windows that allows you diagnose problems with apps and apply recommended fixes to get them working properly.</span></span> <span data-ttu-id="c8f44-343">Это необходимо только в том случае, если PCA не предоставляет никаких рекомендаций для приложения.</span><span class="sxs-lookup"><span data-stu-id="c8f44-343">This is needed only when PCA does not to provide any recommendation for the app.</span></span>

<span data-ttu-id="c8f44-344">Средство устранения неполадок позволяет пользователям пройти по набору вопросов и ответить на них, и на основе ответов будет применен набор исправлений, позволяющий пользователям тестировать свои приложения и проверять исправления.</span><span class="sxs-lookup"><span data-stu-id="c8f44-344">The troubleshooter allows users to walk through and answer a set of questions, and based on the replies, it will apply a set of fixes and allow the users to test their apps and verify the fixes.</span></span> <span data-ttu-id="c8f44-345">После проверки исправления будут постоянно применены к приложениям, чтобы они были лучше работают в Windows 8.</span><span class="sxs-lookup"><span data-stu-id="c8f44-345">Once verified, the fixes will be applied permanently to the apps to make them work better on Windows 8.</span></span>

<span data-ttu-id="c8f44-346">Ниже приведена ссылка на пользовательский интерфейс средства устранения неполадок.</span><span class="sxs-lookup"><span data-stu-id="c8f44-346">The Troubleshooter UI is shown below for reference:</span></span>

![Использование диалогового окна "Устранение неполадок совместимости"](images/pcafigure18.png)

<span data-ttu-id="c8f44-348">Средство устранения неполадок совместимости можно запустить двумя способами.</span><span class="sxs-lookup"><span data-stu-id="c8f44-348">You can start the Compatibility Troubleshooter in two ways:</span></span>

<span data-ttu-id="c8f44-349">**На начальном экране:**</span><span class="sxs-lookup"><span data-stu-id="c8f44-349">**From the start screen:**</span></span>

1.  <span data-ttu-id="c8f44-350">Тип: средство устранения неполадок совместимости</span><span class="sxs-lookup"><span data-stu-id="c8f44-350">Type: compatibility troubleshooter</span></span>
2.  <span data-ttu-id="c8f44-351">В разделе Параметры щелкните плитку запуск программ, выполненных для предыдущей версии Windows.</span><span class="sxs-lookup"><span data-stu-id="c8f44-351">Under the settings section, click the ‘Run programs made for previous version of Windows’ tile</span></span>

  
<span data-ttu-id="c8f44-352">**На плитке приложения:**</span><span class="sxs-lookup"><span data-stu-id="c8f44-352">**From the app tile:**</span></span>

1.  <span data-ttu-id="c8f44-353">На начальном экране щелкните правой кнопкой мыши плитку приложения.</span><span class="sxs-lookup"><span data-stu-id="c8f44-353">From the Start screen, right click the app tile</span></span>
2.  <span data-ttu-id="c8f44-354">Щелкните "открыть расположение файла" (только для классических приложений)</span><span class="sxs-lookup"><span data-stu-id="c8f44-354">Click ‘Open File Location’ (Desktop apps only)</span></span>
3.  <span data-ttu-id="c8f44-355">На ленте проводника перейдите на вкладку "приложение".</span><span class="sxs-lookup"><span data-stu-id="c8f44-355">From the Explorer ribbon, click the ‘App tab’</span></span>
4.  <span data-ttu-id="c8f44-356">Выберите "Устранение неполадок совместимости"</span><span class="sxs-lookup"><span data-stu-id="c8f44-356">Choose ‘Troubleshoot Compatibility’</span></span>

  


<span data-ttu-id="c8f44-357">**Использование вкладки "совместимость"**</span><span class="sxs-lookup"><span data-stu-id="c8f44-357">**Using the Compatibility Tab**</span></span>

<span data-ttu-id="c8f44-358">Обратите внимание, что это рекомендуется только для пользователей, которые экспертов используют разные параметры совместимости.</span><span class="sxs-lookup"><span data-stu-id="c8f44-358">Note that this is recommended only for users who are experts in trying different compatibility settings.</span></span> <span data-ttu-id="c8f44-359">Этот метод не предоставляет никаких рекомендаций по типу исправления, применяемого к приложениям.</span><span class="sxs-lookup"><span data-stu-id="c8f44-359">This method does not provide any recommendation of the type of fix to apply to apps.</span></span> <span data-ttu-id="c8f44-360">Здесь предполагается, что пользователь должен узнать, какие исправления можно применить, чтобы заставить приложение работать.</span><span class="sxs-lookup"><span data-stu-id="c8f44-360">Here the user is expected to know what fixes can be applied to make the app work.</span></span> <span data-ttu-id="c8f44-361">Если вы не знаете об исправлениях, воспользуйтесь средством устранения проблем с совместимостью, чтобы найти исправление для приложения.</span><span class="sxs-lookup"><span data-stu-id="c8f44-361">If you are unsure of the fixes, please use the Compatibility Troubleshooter to find a fix for the app.</span></span>

<span data-ttu-id="c8f44-362">Чтобы открыть вкладку "совместимость", выполните следующие действия.</span><span class="sxs-lookup"><span data-stu-id="c8f44-362">To access the Compatibility Tab:</span></span>

 <span data-ttu-id="c8f44-363">**На начальном экране:**</span><span class="sxs-lookup"><span data-stu-id="c8f44-363">**From the start screen:**</span></span>

1.  <span data-ttu-id="c8f44-364">Щелкните плитку приложения правой кнопкой мыши</span><span class="sxs-lookup"><span data-stu-id="c8f44-364">Right click the app tile</span></span>
2.  <span data-ttu-id="c8f44-365">Открыть расположение файла (только для классических приложений)</span><span class="sxs-lookup"><span data-stu-id="c8f44-365">Open file location (desktop apps only)</span></span>

  
<span data-ttu-id="c8f44-366">**На ленте обозревателя:**</span><span class="sxs-lookup"><span data-stu-id="c8f44-366">**From the Explorer ribbon:**</span></span>

1.  <span data-ttu-id="c8f44-367">Выберите Свойства.</span><span class="sxs-lookup"><span data-stu-id="c8f44-367">Click Properties</span></span>
2.  <span data-ttu-id="c8f44-368">Перейдите на вкладку "совместимость"</span><span class="sxs-lookup"><span data-stu-id="c8f44-368">Navigate to the Compatibility Tab</span></span>
3.  <span data-ttu-id="c8f44-369">Выберите исправления совместимости</span><span class="sxs-lookup"><span data-stu-id="c8f44-369">Select the compatibility fixes</span></span>
4.  <span data-ttu-id="c8f44-370">Повторно запустите приложение.</span><span class="sxs-lookup"><span data-stu-id="c8f44-370">Re-run the app</span></span>
    > [!Note]  
    > <span data-ttu-id="c8f44-371">Вы можете вернуться к тому же месту, чтобы изменить или удалить исправления.</span><span class="sxs-lookup"><span data-stu-id="c8f44-371">You can come back to the same place again to change or remove the fixes as well.</span></span> <span data-ttu-id="c8f44-372">Вы также можете применить исправления ко всем пользователям на компьютере с помощью кнопки, представленной на вкладке.</span><span class="sxs-lookup"><span data-stu-id="c8f44-372">You can also apply the fixes to all users on the machine using the button provided in the tab.</span></span>

     

  


![Использование вкладки "совместимость"](images/pcafigure19.png)

<span data-ttu-id="c8f44-374">**Приложения с известными проблемами совместимости**</span><span class="sxs-lookup"><span data-stu-id="c8f44-374">**Apps with known compatibility issues**</span></span>

<span data-ttu-id="c8f44-375">Помимо описанных выше сценариев обнаружения проблем среды выполнения, PCA также информирует пользователей при запуске приложения, если приложение имеет известные проблемы совместимости.</span><span class="sxs-lookup"><span data-stu-id="c8f44-375">Apart from the runtime issues detection scenarios listed above, PCA also informs users at app startup if the app has known compatibility issues.</span></span> <span data-ttu-id="c8f44-376">Список хранится в базе данных совместимости системных приложений.</span><span class="sxs-lookup"><span data-stu-id="c8f44-376">The list is stored in the System app compatibility database.</span></span> <span data-ttu-id="c8f44-377">Существует два типа этих сообщений:</span><span class="sxs-lookup"><span data-stu-id="c8f44-377">There are two types of these messages:</span></span>

-   <span data-ttu-id="c8f44-378">**Сообщения с жестким блоком**— если известно, что приложение несовместимо, и если разрешить запуск приложения, это приведет к серьезному влиянию системы (например, аварийному завершению работы Windows или невозможности загрузки после установки), появится сообщение о блокировке, как показано ниже.</span><span class="sxs-lookup"><span data-stu-id="c8f44-378">**Hard Block Messages**—if the app is known to be incompatible and if allowing the app to run will result in severe impact to the system (for example, a Windows crash or being unable to boot after the installation), a blocking message as shown below will be displayed</span></span>

![приложения с известными проблемами совместимости — диалоговое окно с жестко заблокированными сообщениями](images/pcafigure20.png)

-   <span data-ttu-id="c8f44-380">**Сообщения об мягком блокировании**— если приложение имеет известную проблемы совместимости и может работать неправильно, отображается следующее сообщение:</span><span class="sxs-lookup"><span data-stu-id="c8f44-380">**Soft Block Messages**— If the app has a known compatibility issue and may not work properly, then this message is shown:</span></span>

![приложения с известными проблемами совместимости — диалоговое окно "Мягкая блокировка сообщений"](images/pcafigure21.png)

<span data-ttu-id="c8f44-382">В обоих случаях параметр "получить справку в Интернете" отправляет отчет об ошибках Windows, чтобы получить от Майкрософт ответ в сети и отобразить его пользователю.</span><span class="sxs-lookup"><span data-stu-id="c8f44-382">In both cases, the ‘Get help Online’ option sends a Windows Error Report to get an online response from Microsoft and display it to the user.</span></span> <span data-ttu-id="c8f44-383">Обычно ответы указывают пользователю на один из трех типов ресурсов:</span><span class="sxs-lookup"><span data-stu-id="c8f44-383">Typically the responses will point the user to one of three types of resources:</span></span>

-   <span data-ttu-id="c8f44-384">Обновление от поставщика приложения</span><span class="sxs-lookup"><span data-stu-id="c8f44-384">An update from the app vendor</span></span>
-   <span data-ttu-id="c8f44-385">Веб-сайт поставщика приложения для получения дополнительных сведений</span><span class="sxs-lookup"><span data-stu-id="c8f44-385">An app vendor’s website for more info</span></span>
-   <span data-ttu-id="c8f44-386">Дополнительные сведения см. в статье базы знаний Майкрософт</span><span class="sxs-lookup"><span data-stu-id="c8f44-386">A Microsoft Knowledge base article for more info</span></span>

<span data-ttu-id="c8f44-387">**Телеметрию для PCA**</span><span class="sxs-lookup"><span data-stu-id="c8f44-387">**Telemetry for PCA**</span></span>

<span data-ttu-id="c8f44-388">После того как PCA решает все проблемы с приложениями на компьютере с Windows 8 и получает все отзывы пользователей, он собирает анонимные данные о приложении, установщике, обнаруженных проблемах и параметрах совместимости, примененных к приложению, и отправляет его обратно в корпорацию Майкрософт.</span><span class="sxs-lookup"><span data-stu-id="c8f44-388">After PCA addresses any app issues on a Windows 8 machine and gets all the user feedback, it collects anonymous data about the app, the installer, the issues detected, and the compatibility settings applied to the app, and send it back to Microsoft.</span></span> <span data-ttu-id="c8f44-389">Эти данные собираются от любого пользователя, который хочет предоставить такие анонимные данные (с помощью программа улучшения качества программного обеспечения CEIP).</span><span class="sxs-lookup"><span data-stu-id="c8f44-389">This data is collected from any user who is willing to provide such anonymous data (through the Customer Experience Improvement Program - CEIP).</span></span> <span data-ttu-id="c8f44-390">После сбора данных будут проанализированы сбои и исправления приложений, а исправления будут распространяться во всю экосистему Windows через механизм Центр обновления Windows, чтобы любой пользователь приложения в будущем автоматически выигрывает из исправления.</span><span class="sxs-lookup"><span data-stu-id="c8f44-390">Once this data is collected, the app failures and fixes are analyzed, and the fixes are then distributed to the entire Windows ecosystem through the Windows Update mechanism so that any user of the app in the future benefits from the fix automatically.</span></span>

<span data-ttu-id="c8f44-391">**Административные элементы управления и управление параметрами PCA**</span><span class="sxs-lookup"><span data-stu-id="c8f44-391">**Administrative controls and managing PCA settings**</span></span>

<span data-ttu-id="c8f44-392">ИТ администраторы могут управлять поведением PCA двумя способами:</span><span class="sxs-lookup"><span data-stu-id="c8f44-392">IT administrators can control PCA behavior in two ways:</span></span>

-   <span data-ttu-id="c8f44-393">**Отключить PCA** — этот параметр позволяет ИТ-администраторам отключить диалоговые окна, которые PCA отображает пользователям. PCA по-прежнему будет отслеживать и обнаруживать проблемы и передавать данные телеметрии обратно</span><span class="sxs-lookup"><span data-stu-id="c8f44-393">**Turn off PCA** – this setting allows IT administrators to turn off the dialogs that PCA shows to the users; PCA will still track and detect issues and send back telemetry</span></span>
-   <span data-ttu-id="c8f44-394">**Отключить телеметрии приложений** — этот параметр отключает сбор и отправку данных телеметрии с помощью PCA</span><span class="sxs-lookup"><span data-stu-id="c8f44-394">**Turn off App telemetry** – this setting will turn off any collection and sending of telemetry data by PCA</span></span>
    > [!Note]  
    > <span data-ttu-id="c8f44-395">Если Программа CEIP отключена, этот параметр не оказывает влияния.</span><span class="sxs-lookup"><span data-stu-id="c8f44-395">If CEIP is turned off, this setting has no impact.</span></span>

     

<span data-ttu-id="c8f44-396">**Разработка приложений для работы с PCA**</span><span class="sxs-lookup"><span data-stu-id="c8f44-396">**Designing apps to work with PCA**</span></span>

<span data-ttu-id="c8f44-397">Разработчикам необходимо убедиться, что их приложения будут хорошо работать во всех сценариях совместимости, описанных выше.</span><span class="sxs-lookup"><span data-stu-id="c8f44-397">Developers need to ensure that their apps will work well across all of the compatibility scenarios described above.</span></span> <span data-ttu-id="c8f44-398">Разработчики должны протестировать и проверить свои приложения для каждого из описанных выше сценариев и убедиться в отсутствии проблем совместимости.</span><span class="sxs-lookup"><span data-stu-id="c8f44-398">Developers must test and validate their apps for each of the above scenarios and ensure that there are no compatibility issues.</span></span> <span data-ttu-id="c8f44-399">Если выявлены проблемы совместимости, разработчики должны внести исправления в свои приложения, необходимые для устранения проблемы совместимости.</span><span class="sxs-lookup"><span data-stu-id="c8f44-399">If compatibility issues are identified, developers should make the fixes to their apps necessary to ensure that the compatibility issue is resolved.</span></span> <span data-ttu-id="c8f44-400">Ниже перечислены некоторые из стандартных исправлений, которые должны быть внесены разработчиками.</span><span class="sxs-lookup"><span data-stu-id="c8f44-400">Some of the common fixes that developers should make include:</span></span>

-   <span data-ttu-id="c8f44-401">Устранение проверок версий операционной системы Windows во время установки и выполнения</span><span class="sxs-lookup"><span data-stu-id="c8f44-401">Eliminate Windows operating system version checks at install and runtime</span></span>
-   <span data-ttu-id="c8f44-402">Устранение непроверенных прав (проверка доступа администратора); Используйте манифест EXE для объявления нужного уровня привилегий.</span><span class="sxs-lookup"><span data-stu-id="c8f44-402">Eliminate privilege check (checking for administrator access); use the EXE manifest to declare the right level of privilege needed</span></span>
-   <span data-ttu-id="c8f44-403">Убедитесь, что двоичные файлы Windows не поставляются в установщик приложения</span><span class="sxs-lookup"><span data-stu-id="c8f44-403">Ensure that Windows binaries are not shipped within the app installer</span></span>
-   <span data-ttu-id="c8f44-404">Удаление записи в защищенные области (реестр, папки) или запись в защищенные файлы</span><span class="sxs-lookup"><span data-stu-id="c8f44-404">Eliminate writing to protected areas (registry, folders) or writing over protected files</span></span>
-   <span data-ttu-id="c8f44-405">Цифровая подпись всех двоичных файлов (EXE, DLL, SYS-файлы)</span><span class="sxs-lookup"><span data-stu-id="c8f44-405">Digitally sign all binaries (EXE, DLL, SYS files)</span></span>
-   <span data-ttu-id="c8f44-406">Для установщиков убедитесь, что добавлена соответствующая запись "Установка и удаление программ". как минимум, эта запись метаданных приложения должна включать имя приложения, издателя, строку версии и поддерживаемый язык.</span><span class="sxs-lookup"><span data-stu-id="c8f44-406">For installers, ensure that proper ‘Add/Remove programs’ entry is added; at a minimum, this app metadata entry should include the app name, publisher, Version string, and supported language.</span></span> <span data-ttu-id="c8f44-407">Это указывает PCA на то, что установщик успешно завершил работу, а также предоставит пользователям удобный способ удаления приложения.</span><span class="sxs-lookup"><span data-stu-id="c8f44-407">This will indicate to PCA that the installer completed successfully and will also provide a convenient way for users to uninstall the app</span></span>

<span data-ttu-id="c8f44-408">Проверка того, что раздел TRUSTINFO и COMPATIBILITY манифеста приложения (исполняемого файла) обновлен, как указано в Windows 8 Compatibility Cookbook, позволит PCA знал о том, что приложение разрабатывалось для Windows 8, а также гарантирует, что приложение всегда будет выполняться изначально без применения режимов совместимости.</span><span class="sxs-lookup"><span data-stu-id="c8f44-408">Ensuring that the TRUSTINFO and COMPATIBILITY section of the app (executable) manifest is updated as listed in the Windows 8 Compatibility Cookbook will let PCA know that the app was designed for Windows 8, and will also ensure that the app always runs natively without any compatibility modes applied to it.</span></span>

<span data-ttu-id="c8f44-409">Чтобы убедиться, что PCA считает приложение предназначенным для Windows 8, выполните следующие действия.</span><span class="sxs-lookup"><span data-stu-id="c8f44-409">To ensure that PCA considers the app to be designed for Windows 8:</span></span>

-   <span data-ttu-id="c8f44-410">Все исполняемые файлы (установщик или среда выполнения) должны быть манифестом для разделов TRUSTINFO и COMPATIBILITY для Windows 8.</span><span class="sxs-lookup"><span data-stu-id="c8f44-410">The all EXEs (installer or runtime) must be manifested for TRUSTINFO and COMPATIBILITY sections for Windows 8</span></span>
-   <span data-ttu-id="c8f44-411">Установщик должен добавить запись "Установка и удаление программ"</span><span class="sxs-lookup"><span data-stu-id="c8f44-411">The installer should add an ‘Add/Remove programs’ entry</span></span>

<span data-ttu-id="c8f44-412">**Словарь терминов**</span><span class="sxs-lookup"><span data-stu-id="c8f44-412">**Glossary**</span></span>

<span data-ttu-id="c8f44-413">Ниже перечислены режимы совместимости, используемые PCA, с кратким описанием того, что включает режим.</span><span class="sxs-lookup"><span data-stu-id="c8f44-413">The compatibility modes used by PCA are listed below with a brief description of what the mode enables.</span></span>



| <span data-ttu-id="c8f44-414">Режим</span><span class="sxs-lookup"><span data-stu-id="c8f44-414">Mode</span></span>                         | <span data-ttu-id="c8f44-415">Описание</span><span class="sxs-lookup"><span data-stu-id="c8f44-415">Description</span></span>                                                                                                                                                      |
|------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="c8f44-416">Windows7RTM</span><span class="sxs-lookup"><span data-stu-id="c8f44-416">Windows7RTM</span></span>                  | <span data-ttu-id="c8f44-417">Этот режим эмулирует общее поведение Windows 7, включая номер версии операционной системы 6,1</span><span class="sxs-lookup"><span data-stu-id="c8f44-417">This mode emulates common Windows 7 behavior including the operating system version number 6.1</span></span>                                                                   |
| <span data-ttu-id="c8f44-418">WindowsVistaSP2</span><span class="sxs-lookup"><span data-stu-id="c8f44-418">WindowsVistaSP2</span></span>              | <span data-ttu-id="c8f44-419">Этот режим эмулирует общее поведение Windows 7, включая номер версии операционной системы 6,1</span><span class="sxs-lookup"><span data-stu-id="c8f44-419">This mode emulates common Windows 7 behavior including the operating system version number 6.1</span></span>                                                                   |
| <span data-ttu-id="c8f44-420">WindowsXPSp3</span><span class="sxs-lookup"><span data-stu-id="c8f44-420">WindowsXPSp3</span></span>                 | <span data-ttu-id="c8f44-421">Этот режим эмулирует общее поведение Windows XP SP3, включая номер версии операционной системы 5,1.</span><span class="sxs-lookup"><span data-stu-id="c8f44-421">This mode emulates common Windows XP SP3 behavior including the operating system version number 5.1.</span></span> <span data-ttu-id="c8f44-422">Это также включает режим РУНАШИГХЕСТ</span><span class="sxs-lookup"><span data-stu-id="c8f44-422">This also includes the RUNASHIGHEST mode</span></span>                    |
| <span data-ttu-id="c8f44-423">рунашигхест</span><span class="sxs-lookup"><span data-stu-id="c8f44-423">RUNASHIGHEST</span></span>                 | <span data-ttu-id="c8f44-424">В этом режиме пользователю предлагается запустить приложение с наивысшей доступной привилегией.</span><span class="sxs-lookup"><span data-stu-id="c8f44-424">This mode prompts the user to run the app with the highest available privilege.</span></span> <span data-ttu-id="c8f44-425">Пользователи с правами администратора увидят запрос на повышение прав UAC для приложения.</span><span class="sxs-lookup"><span data-stu-id="c8f44-425">Users with administrative privileges will see a UAC elevation prompt for the app</span></span> |
| <span data-ttu-id="c8f44-426">RUNASADMIN</span><span class="sxs-lookup"><span data-stu-id="c8f44-426">RUNASADMIN</span></span>                   | <span data-ttu-id="c8f44-427">Этот режим всегда предлагает пользователю запустить приложение с правами администратора. приложения с этим режимом всегда будут получать запрос на повышение прав UAC</span><span class="sxs-lookup"><span data-stu-id="c8f44-427">This mode always prompts the user to run the app with administrative privileges; apps with this mode will always get the UAC elevation prompt</span></span>                    |
| <span data-ttu-id="c8f44-428">ELEVATECREATEPROCESS</span><span class="sxs-lookup"><span data-stu-id="c8f44-428">ELEVATECREATEPROCESS</span></span>         | <span data-ttu-id="c8f44-429">В этом режиме дочерние процессы главного приложения запускаются с правами администратора. дочерние процессы получат диалоговое окно повышения прав UAC</span><span class="sxs-lookup"><span data-stu-id="c8f44-429">This mode makes child processes of the main app run with administrative privileges; the child processes will get a UAC elevation dialog</span></span>                          |
| <span data-ttu-id="c8f44-430">пиндлл</span><span class="sxs-lookup"><span data-stu-id="c8f44-430">PINDLL</span></span>                       | <span data-ttu-id="c8f44-431">Этот режим заставляет библиотеку DLL находиться в памяти для приложения, даже если приложение выгружает библиотеку DLL.</span><span class="sxs-lookup"><span data-stu-id="c8f44-431">This mode forces a DLL to be in memory for an app even if the app unloads the DLL</span></span>                                                                                |
| <span data-ttu-id="c8f44-432">дисаблеусеркаллбаккексцептион</span><span class="sxs-lookup"><span data-stu-id="c8f44-432">DISABLEUSERCALLBACKEXCEPTION</span></span> | <span data-ttu-id="c8f44-433">Этот режим перехватывает исключения обратного вызова пользователя и позволяет приложению продолжить работу без необходимости обработайте исключение.</span><span class="sxs-lookup"><span data-stu-id="c8f44-433">This mode intercepts user call back exceptions and allows the app to continue on without having to handle the exception</span></span>                                          |
| <span data-ttu-id="c8f44-434">виртуализеделете</span><span class="sxs-lookup"><span data-stu-id="c8f44-434">VIRTUALIZEDELETE</span></span>             | <span data-ttu-id="c8f44-435">Этот режим перехватывает операции удаления защищенных файлов и предотвращает сбой приложений из-за необработанных исключений из операции удаления.</span><span class="sxs-lookup"><span data-stu-id="c8f44-435">This mode intercepts delete operations on protected files and prevents apps from failing due to unhandled exceptions from the delete operation</span></span>                   |
| <span data-ttu-id="c8f44-436">врпмитигатион</span><span class="sxs-lookup"><span data-stu-id="c8f44-436">WRPMITIGATION</span></span>                | <span data-ttu-id="c8f44-437">Этот режим возвращает значение Success, если приложение пытается записать, изменить или удалить защищенные файлы Windows или записи реестра (без фактического завершения операции).</span><span class="sxs-lookup"><span data-stu-id="c8f44-437">This mode returns success when an app tries to write, modify, or delete Windows protected files or registry entries (without actually completing the operation)</span></span>  |
| <span data-ttu-id="c8f44-438">дксмаксимизедвиндоведмоде</span><span class="sxs-lookup"><span data-stu-id="c8f44-438">DXMAXIMIZEDWINDOWEDMODE</span></span>      | <span data-ttu-id="c8f44-439">Этот режим определяет приложения, которые переходят в полноэкранный режим и перенаправляют их в режим развернутого окна</span><span class="sxs-lookup"><span data-stu-id="c8f44-439">This mode identifies apps that go into full screen mode and redirects them into a maximized Window mode</span></span>                                                          |
| <span data-ttu-id="c8f44-440">хигхдпиаваре</span><span class="sxs-lookup"><span data-stu-id="c8f44-440">HIGHDPIAWARE</span></span>                 | <span data-ttu-id="c8f44-441">Этот режим позволяет остальным системам Windows знать, что приложение поддерживает высокое разрешение DPI, и обеспечивает правильную отрисовку элементов пользовательского интерфейса, текста, шрифта и т. д.</span><span class="sxs-lookup"><span data-stu-id="c8f44-441">This mode lets the rest of Windows know that the app is High DPI aware, and helps proper rendering of UI elements, text, font, etc.</span></span>                              |



 

 

 