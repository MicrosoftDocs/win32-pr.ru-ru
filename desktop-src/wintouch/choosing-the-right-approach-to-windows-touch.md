---
title: Выбор правильного подхода к Windows Touch
description: В этом разделе описываются различные подходы к использованию Windows Touch, которые можно использовать.
ms.assetid: 983023e4-355b-45ba-8572-d93c460d2ff8
keywords:
- Windows Touch, различные подходы
- Касание Windows, выбор подходов
- Windows Touch, улучшенные приложения
- Windows Touch, поддержка масштабирования
- Windows Touch, поддержка прежних версий
- Windows Touch, подключаемый модуль RealTimeStylus
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 86cdd35b73989541fadd5449efbb3f95d76bfa5d
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/20/2020
ms.locfileid: "104070380"
---
# <a name="choosing-the-right-approach-to-windows-touch"></a><span data-ttu-id="6e830-109">Выбор правильного подхода к Windows Touch</span><span class="sxs-lookup"><span data-stu-id="6e830-109">Choosing the Right Approach to Windows Touch</span></span>

<span data-ttu-id="6e830-110">В этом разделе описываются различные подходы к использованию Windows Touch, которые можно использовать.</span><span class="sxs-lookup"><span data-stu-id="6e830-110">This section explains the different approaches to Windows Touch that you can use.</span></span>

<span data-ttu-id="6e830-111">Вы можете улучшить приложения с помощью функций касания Windows множеством способов.</span><span class="sxs-lookup"><span data-stu-id="6e830-111">You can enhance applications using Windows Touch features in many ways.</span></span> <span data-ttu-id="6e830-112">Прежде чем приступить к работе с методом, следует подумать о том, что нужно сделать с вашим приложением.</span><span class="sxs-lookup"><span data-stu-id="6e830-112">Before you adopt a method, you should consider what you want to do with your application.</span></span> <span data-ttu-id="6e830-113">Следующие сценарии являются типичными для Windows Touch:</span><span class="sxs-lookup"><span data-stu-id="6e830-113">The following scenarios are typical for Windows Touch:</span></span>

-   <span data-ttu-id="6e830-114">Приложение должно вести себя так же, как и в устаревших версиях Windows, но должно выполняться единообразное поведение сообщений Windows Touch.</span><span class="sxs-lookup"><span data-stu-id="6e830-114">You want your application to behave the same as in legacy versions of Windows but want Windows Touch messages to behave consistently.</span></span>
-   <span data-ttu-id="6e830-115">Вы хотите, чтобы в приложении была возможность вращения, перевода, панорамирования или масштабирования пользовательского объекта.</span><span class="sxs-lookup"><span data-stu-id="6e830-115">You want custom object rotation, translation, panning, or zoom support in your application.</span></span>
-   <span data-ttu-id="6e830-116">Вы хотите, чтобы приложение имело точную интерпретацию жестов касания Windows или интерпретировать несколько касаний в приложении, специально оптимизированном для сенсорного ввода Windows.</span><span class="sxs-lookup"><span data-stu-id="6e830-116">You want your application to have fine-grained interpretation of Windows Touch gestures or to interpret multiple touches on an application that is specifically optimized for Windows Touch input.</span></span>
-   <span data-ttu-id="6e830-117">У вас есть приложение, которое использует объект [**RealTimeStylus**](/windows/desktop/api/rtscom/nn-rtscom-irealtimestylus) и желает расширить его с помощью возможностей сенсорного ввода Windows.</span><span class="sxs-lookup"><span data-stu-id="6e830-117">You have an application that uses the [**RealTimeStylus**](/windows/desktop/api/rtscom/nn-rtscom-irealtimestylus) object and want to enhance it with Windows Touch capabilities.</span></span>

## <a name="you-want-your-application-to-behave-as-it-did-in-legacy-versions-of-windows"></a><span data-ttu-id="6e830-118">Приложение должно вести себя так же, как и в устаревших версиях Windows</span><span class="sxs-lookup"><span data-stu-id="6e830-118">You want your application to behave as it did in legacy versions of Windows</span></span>

<span data-ttu-id="6e830-119">В Windows 7 приложения по умолчанию создают сообщения, которые включают функции сенсорного ввода Windows.</span><span class="sxs-lookup"><span data-stu-id="6e830-119">In Windows 7, applications by default generate messages that enable Windows Touch functionality.</span></span> <span data-ttu-id="6e830-120">Например, жесты сдвига активируют \_ \* сообщения прокрутки WM.</span><span class="sxs-lookup"><span data-stu-id="6e830-120">For example, pan gestures trigger WM\_\*SCROLL messages.</span></span> <span data-ttu-id="6e830-121">Помимо поддержки Pan, обработчик жестов WM по умолчанию \_ в Windows 7 поддерживает обратную связь, масштаб и нажатие.</span><span class="sxs-lookup"><span data-stu-id="6e830-121">In addition to pan support, the default WM\_GESTURE handler in Windows 7 supports boundary feedback, zoom, and press and tap.</span></span> <span data-ttu-id="6e830-122">Обратная связь с границами включена и для устаревшей поддержки.</span><span class="sxs-lookup"><span data-stu-id="6e830-122">Boundary feedback is enabled through legacy support as well.</span></span> <span data-ttu-id="6e830-123">Дополнительные сведения о сопоставлении жестов с сообщениями см. в разделе [Обзор жестов сенсорного ввода Windows](windows-touch-gestures-overview.md) .</span><span class="sxs-lookup"><span data-stu-id="6e830-123">See the [Windows Touch Gestures Overview](windows-touch-gestures-overview.md) for more information on how gestures map to messages.</span></span> <span data-ttu-id="6e830-124">Разработчикам, желающим только эту базовую функциональность, не нужно напрямую работать с API касания Windows.</span><span class="sxs-lookup"><span data-stu-id="6e830-124">Developers who want only this basic functionality do not need to directly work with the Windows Touch API.</span></span>

> [!Note]  
> <span data-ttu-id="6e830-125">Пользовательские обработчики полос прокрутки должны поддерживать запрос **SM \_ сумбпоситион** для сообщений **\_ VSCROLL WM** и должен поддерживать запрос **SB \_ Линелефт** Request и **SB \_ линеригхт** request для сообщений **WM \_ HSCROLL** .</span><span class="sxs-lookup"><span data-stu-id="6e830-125">Custom scroll bar handlers must support the **SM\_THUMBPOSITION** request for **WM\_VSCROLL** messages and must support the **SB\_LINELEFT** request and **SB\_LINERIGHT** request for **WM\_HSCROLL** messages.</span></span>

 

-   <span data-ttu-id="6e830-126">[Устаревшая поддержка панорамирования с помощью полос прокрутки](legacy-support-for-panning-with-scrollbars.md) объясняет, как обеспечить работу приложения по мере ожидания пользователей в Windows 7.</span><span class="sxs-lookup"><span data-stu-id="6e830-126">The [Legacy Support for Panning with Scroll Bars](legacy-support-for-panning-with-scrollbars.md) section explains how to ensure that your application behaves as users expect in Windows 7.</span></span>

## <a name="you-want-custom-object-rotation-translation-panning-or-zoom-support"></a><span data-ttu-id="6e830-127">Требуется поддержка смены, перевода, панорамирования и масштаба пользовательского объекта</span><span class="sxs-lookup"><span data-stu-id="6e830-127">You want custom object rotation, translation, panning, or zoom support</span></span>

<span data-ttu-id="6e830-128">Если требуется ограниченная поддержка сенсорного ввода, но поведение по умолчанию, предлагаемое Windows 7, не подходит для вашего приложения, можно использовать жесты для улучшения приложения.</span><span class="sxs-lookup"><span data-stu-id="6e830-128">If you want limited support for touch but the default behavior that Windows 7 offers is not adequate for your application, you can use gestures to enhance your application.</span></span> <span data-ttu-id="6e830-129">С помощью жестов можно интерпретировать команды жестов, обрабатывая сообщение [**\_ жеста WM**](wm-gesture.md) .</span><span class="sxs-lookup"><span data-stu-id="6e830-129">By using gestures, you can interpret the gesture commands by handling the [**WM\_GESTURE**](wm-gesture.md) message.</span></span> <span data-ttu-id="6e830-130">Дополнительные сведения о жестах можно найти в разделе [жесты касания Windows](guide-multi-touch-gestures.md).</span><span class="sxs-lookup"><span data-stu-id="6e830-130">More information on gestures can be found in the section [Windows Touch Gestures](guide-multi-touch-gestures.md).</span></span> <span data-ttu-id="6e830-131">Если ваше приложение должно поддерживать только повороты с высокой степенью детализации, улучшенную поддержку масштабирования или панорамирование с одним пальцем, жесты — лучший подход к разработке Windows Touch.</span><span class="sxs-lookup"><span data-stu-id="6e830-131">If your application needs support only for high-granularity rotations, improved zooming support, or single-finger panning, gestures is the best approach to take for Windows Touch development.</span></span> <span data-ttu-id="6e830-132">Помимо интерпретации сообщения жеста, можно включить поддержку отзывов границ.</span><span class="sxs-lookup"><span data-stu-id="6e830-132">In addition to interpreting the gesture message, you can opt to have support for boundary feedback.</span></span> <span data-ttu-id="6e830-133">Дополнительные сведения об откликах на границу см. в разделе [обратная связь](boundary-feedback.md) в [справочнике по программированию на сенсорном связи Windows](windows-touch-programming-reference.md).</span><span class="sxs-lookup"><span data-stu-id="6e830-133">For more information on boundary feedback, see the [Boundary Feedback](boundary-feedback.md) section of the [Windows Touch Programming Reference](windows-touch-programming-reference.md).</span></span> <span data-ttu-id="6e830-134">В Windows 7 Командная строка и Internet Explorer используют преимущества отзывов и жестов границ.</span><span class="sxs-lookup"><span data-stu-id="6e830-134">In Windows 7, the command prompt and Internet Explorer take advantage of boundary feedback and gestures.</span></span>

-   <span data-ttu-id="6e830-135">В разделе [улучшение процесса панорамирования одного пальца](improving-the-single-finger-panning-experience.md) объясняется, как настроить процесс панорамирования, обрабатывая сообщение [**\_ жеста WM**](wm-gesture.md) .</span><span class="sxs-lookup"><span data-stu-id="6e830-135">The [Improving the Single Finger Panning Experience](improving-the-single-finger-panning-experience.md) section explains how to customize the panning experience by handling the [**WM\_GESTURE**](wm-gesture.md) message.</span></span>

## <a name="you-want-fine-grained-gesture-interpretation-or-custom-handling-of-multiple-touch-points"></a><span data-ttu-id="6e830-136">Требуется точная интерпретация жестов или пользовательская обработка нескольких точек касания</span><span class="sxs-lookup"><span data-stu-id="6e830-136">You want fine-grained gesture interpretation or custom handling of multiple touch points</span></span>

<span data-ttu-id="6e830-137">Если требуется еще более конкретное управление жестами, чем оно предлагается сообщением [**\_ жеста WM**](wm-gesture.md) , или необходимо интерпретировать несколько жестов на нескольких объектах, следует использовать обработчик манипуляции.</span><span class="sxs-lookup"><span data-stu-id="6e830-137">If you want to have even more specific control of gestures than is offered by the [**WM\_GESTURE**](wm-gesture.md) message, or you want to interpret multiple gestures on multiple objects, you should use the manipulation processor.</span></span> <span data-ttu-id="6e830-138">Обработчик манипуляции по сути является надмножеством жестов.</span><span class="sxs-lookup"><span data-stu-id="6e830-138">The manipulation processor essentially is a superset of gestures.</span></span> <span data-ttu-id="6e830-139">Использование обработчика манипуляции требует реализации приемника событий для манипуляций, которые передаются в необработанные сенсорные данные.</span><span class="sxs-lookup"><span data-stu-id="6e830-139">Using the manipulation processor requires that you implement an event sink for manipulations that you feed raw touch data to.</span></span>

<span data-ttu-id="6e830-140">Если вы хотите добавить простой объект физику в дополнение к интерпретации жестов, следует использовать процессор инерции вместе с обработчиком манипуляции.</span><span class="sxs-lookup"><span data-stu-id="6e830-140">If you want simple object physics in addition to interpreting the gestures, you should use an inertia processor in conjunction with the manipulation processor.</span></span> <span data-ttu-id="6e830-141">Обработчик инерции работает с процессором манипуляции, получая значения скорости от процессора манипуляции после завершения манипуляций.</span><span class="sxs-lookup"><span data-stu-id="6e830-141">The inertia processor works with the manipulation processor by taking velocity values from the manipulation processor upon manipulation completion.</span></span>

<span data-ttu-id="6e830-142">Если вы хотите интерпретировать несколько точек касания в приложении, следует создать обработчик сообщений для сообщения [**WM \_ Touch**](wm-touchdown.md) .</span><span class="sxs-lookup"><span data-stu-id="6e830-142">If you want to interpret multiple touch points in your application, you should create a message handler for the [**WM\_TOUCH**](wm-touchdown.md) message.</span></span>

-   <span data-ttu-id="6e830-143">В разделе [входные данные касания Windows](guide-multi-touch-input.md) объясняется, как можно интерпретировать сообщение [**WM \_ Touch**](wm-touchdown.md) .</span><span class="sxs-lookup"><span data-stu-id="6e830-143">The [Windows Touch Input](guide-multi-touch-input.md) section explains how you can interpret the [**WM\_TOUCH**](wm-touchdown.md) message.</span></span>
-   <span data-ttu-id="6e830-144">В разделе [Обнаружение и отслеживание нескольких сенсорных точек](detecting-and-tracking-multiple-touch-points.md) показано, как создать простое приложение, которое интерпретирует несколько входов.</span><span class="sxs-lookup"><span data-stu-id="6e830-144">The [Detecting and Tracking Multiple Touch Points](detecting-and-tracking-multiple-touch-points.md) section demonstrates how to create a simple application that interprets multiple inputs.</span></span>
-   <span data-ttu-id="6e830-145">В разделе [манипуляции и инерции](manipulation-and-inertia.md) объясняется, как обеспечить наиболее гибкий подход к использованию Windows Touch.</span><span class="sxs-lookup"><span data-stu-id="6e830-145">The [Manipulations and Inertia](manipulation-and-inertia.md) section explains how to enable the most flexible approach to Windows Touch.</span></span>

## <a name="you-want-to-enable-windows-touch-input-to-an-application-that-uses-the-realtimestylus"></a><span data-ttu-id="6e830-146">Вы хотите включить ввод Windows Touch в приложение, использующее объект RealTimeStylus</span><span class="sxs-lookup"><span data-stu-id="6e830-146">You want to enable Windows Touch input to an application that uses the RealTimeStylus</span></span>

<span data-ttu-id="6e830-147">Если вы хотите включить входные данные для нескольких контактов на платформе Tablet PC, необходимо реализовать пользовательский подключаемый модуль RealTimeStylus, который интерпретирует данные касания Windows.</span><span class="sxs-lookup"><span data-stu-id="6e830-147">If you want to enable input for multiple contacts on the Tablet PC platform, you must implement a custom RealTimeStylus plug-in that interprets the Windows Touch data.</span></span> <span data-ttu-id="6e830-148">Корпорация Майкрософт предоставила интерфейсы [**ITablet3**](/windows/desktop/tablet/itablet3) и [**IRealTimeStylus3**](/windows/desktop/api/rtscom/nn-rtscom-irealtimestylus3) , позволяющие вводить данные из нескольких контактов в подключаемом модуле RealTimeStylus.</span><span class="sxs-lookup"><span data-stu-id="6e830-148">Microsoft introduced the [**ITablet3**](/windows/desktop/tablet/itablet3) and [**IRealTimeStylus3**](/windows/desktop/api/rtscom/nn-rtscom-irealtimestylus3) interfaces to enable input from multiple contacts in the RealTimeStylus plug-in.</span></span> <span data-ttu-id="6e830-149">Эти интерфейсы упрощают расширение подключаемых модулей RealTimeStylus для поддержки нескольких точек контакта.</span><span class="sxs-lookup"><span data-stu-id="6e830-149">These interfaces simplify extending RealTimeStylus plug-ins to support multiple contact points.</span></span>

<span data-ttu-id="6e830-150">Чтобы проверить, включена ли поддержка нескольких контактов, вызовите [**исмултитауч**](/windows/desktop/tablet/itablet3-ismultitouch).</span><span class="sxs-lookup"><span data-stu-id="6e830-150">To check whether support for multiple contacts is enabled, call [**IsMultiTouch**](/windows/desktop/tablet/itablet3-ismultitouch).</span></span> <span data-ttu-id="6e830-151">Чтобы проверить число поддерживаемых контактов, вызовите [**жетмаксимумкурсорс**](/windows/desktop/tablet/itablet3-getmaximumcursors).</span><span class="sxs-lookup"><span data-stu-id="6e830-151">To check the number of supported contacts, call [**GetMaximumCursors**](/windows/desktop/tablet/itablet3-getmaximumcursors).</span></span> <span data-ttu-id="6e830-152">Чтобы включить или отключить поддержку нескольких контактов, вызовите [**мултитаученаблед**](/windows/desktop/api/rtscom/nf-rtscom-irealtimestylus3-get_multitouchenabled).</span><span class="sxs-lookup"><span data-stu-id="6e830-152">To enable or disable multiple contact support, call [**MultiTouchEnabled**](/windows/desktop/api/rtscom/nf-rtscom-irealtimestylus3-get_multitouchenabled).</span></span>

> [!Note]  
> <span data-ttu-id="6e830-153">Если не включить несколько точек контакта в объект RealTimeStylus, вы получите сообщения жестов, такие как Pan и Zoom.</span><span class="sxs-lookup"><span data-stu-id="6e830-153">If you don't enable multiple contact points in the RealTimeStylus, you will receive gesture messages such as pan and zoom.</span></span>

 

## <a name="related-topics"></a><span data-ttu-id="6e830-154">См. также</span><span class="sxs-lookup"><span data-stu-id="6e830-154">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="6e830-155">Руководство по программированию</span><span class="sxs-lookup"><span data-stu-id="6e830-155">Programming Guide</span></span>](programming-guide.md)
</dt> </dl>

 

 