---
description: X3DAudio — это API-интерфейс, используемый с XAudio2 для позиционирования звука в трехмерном пространстве для создания иллюзии звука, поступающего от точки в пространстве относительно положения камеры.
ms.assetid: 1638e848-4186-5dea-18e8-5369eee544ae
title: Обзор X3DAudio
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: ff509b16556ee1932d2a2543ad5008ddcbaa5b92
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "105664609"
---
# <a name="x3daudio-overview"></a><span data-ttu-id="590d5-103">Обзор X3DAudio</span><span class="sxs-lookup"><span data-stu-id="590d5-103">X3DAudio Overview</span></span>

<span data-ttu-id="590d5-104">X3DAudio — это API-интерфейс, используемый с [XAudio2](programming-guide.md) для позиционирования звука в трехмерном пространстве для создания иллюзии звука, поступающего от точки в пространстве относительно положения камеры. В частности, заголовки, в которых используются трехмерные сцены, будут использовать X3DAudio.</span><span class="sxs-lookup"><span data-stu-id="590d5-104">X3DAudio is an API used with [XAudio2](programming-guide.md) to position sound in 3D space to create the illusion of sound coming from a point in space relative to the position of the camera.In particular, titles that feature 3D scenes will want to use X3DAudio.</span></span> <span data-ttu-id="590d5-105">Звуки, не требующие трехмерного позиционирования, например звуковые дорожки или непозиционированные окружающие звуки, могут полностью обходить X3DAudio.</span><span class="sxs-lookup"><span data-stu-id="590d5-105">Sounds not requiring 3D positioning, such as soundtracks or non-positioned ambient sounds, may bypass X3DAudio completely.</span></span>

## <a name="listeners-and-emitters"></a><span data-ttu-id="590d5-106">Прослушиватели и передатчики</span><span class="sxs-lookup"><span data-stu-id="590d5-106">Listeners and Emitters</span></span>

<span data-ttu-id="590d5-107">Для управления звуками в трехмерном пространстве X3DAudio использует концепции *прослушивателей* и *передатчиков*.</span><span class="sxs-lookup"><span data-stu-id="590d5-107">To manage sounds in 3D space, X3DAudio employs the concepts of *listeners* and *emitters*.</span></span> <span data-ttu-id="590d5-108">Прослушиватели и передатчики представляют собой позицию любого из звуковых сигналов слуха, а также точку, из которой они поступают.</span><span class="sxs-lookup"><span data-stu-id="590d5-108">Listeners and emitters represent the position of whatever is hearing 3D sounds, and the point from which those sounds originate.</span></span>

-   <span data-ttu-id="590d5-109">Прослушиватель определяется как точка в пространстве и ориентация.</span><span class="sxs-lookup"><span data-stu-id="590d5-109">A listener is defined as a point in space and an orientation.</span></span> <span data-ttu-id="590d5-110">Это расположение, в котором *слышен* звук.</span><span class="sxs-lookup"><span data-stu-id="590d5-110">It is the position at which the sound is *heard*.</span></span> <span data-ttu-id="590d5-111">Положение и ориентация прослушивателя обычно совпадают с положением и ориентацией камеры.</span><span class="sxs-lookup"><span data-stu-id="590d5-111">The position and orientation of the listener generally is the same as the position and orientation of the camera.</span></span> <span data-ttu-id="590d5-112">Это верно, когда в заголовке используется представление "Перспектива" первого или третьего лица.</span><span class="sxs-lookup"><span data-stu-id="590d5-112">This is true whether a title uses a first-person or third-person perspective view.</span></span> <span data-ttu-id="590d5-113">Расположение прослушивателя выражается в координатах мира.</span><span class="sxs-lookup"><span data-stu-id="590d5-113">The listener's position is expressed in world coordinates.</span></span> <span data-ttu-id="590d5-114">Важно отметить, что это расположение прослушивателя *относительно* передатчика, который определяет способ вычисления конечных томов динамика.</span><span class="sxs-lookup"><span data-stu-id="590d5-114">It is important to note that it is the listener's position *relative* to an emitter that determines how to calculate the final speaker volumes.</span></span>
-   <span data-ttu-id="590d5-115">Передатчик определяется как одна (или несколько) точки в пространстве, из которой *исходит* звук.</span><span class="sxs-lookup"><span data-stu-id="590d5-115">An emitter is defined as one (or more) points in space from which a sound *originates*.</span></span> <span data-ttu-id="590d5-116">Расположение передатчика может находиться в любом месте трехмерного пространства.</span><span class="sxs-lookup"><span data-stu-id="590d5-116">The position of the emitter can be anywhere in 3D space.</span></span> <span data-ttu-id="590d5-117">Как и прослушиватель, расположение передатчика выражается в координатах мира.</span><span class="sxs-lookup"><span data-stu-id="590d5-117">Like a listener, an emitter's position is expressed in world coordinates.</span></span> <span data-ttu-id="590d5-118">Это расположение передатчика *относительно* прослушивателя, определяющего способ вычисления конечных томов динамика.</span><span class="sxs-lookup"><span data-stu-id="590d5-118">It is the emitter's position *relative* to the listener that determines how the final speaker volumes are calculated.</span></span>
-   <span data-ttu-id="590d5-119">X3DAudio использует координаты, расположенные в левой части.</span><span class="sxs-lookup"><span data-stu-id="590d5-119">X3DAudio uses left-handed coordinates.</span></span> <span data-ttu-id="590d5-120">Чтобы использовать с правой стороны координат, разработчикам необходимо инвертировать элемент. z элементов Ориенттоп, Ориентфронт, положения и скорости в \_ прослушивателе X3DAUDIO и \_ передатчике X3DAUDIO.</span><span class="sxs-lookup"><span data-stu-id="590d5-120">To use with right-handed coordinates, developers need to negate the .z element of the OrientTop, OrientFront, Position, and Velocity members of X3DAUDIO\_LISTENER and X3DAUDIO\_EMITTER.</span></span>

<span data-ttu-id="590d5-121">В дополнение к положению, прослушиватели и передатчики могут включать скорость.</span><span class="sxs-lookup"><span data-stu-id="590d5-121">In addition to position, listeners and emitters can include velocity.</span></span> <span data-ttu-id="590d5-122">В отличие от механизма рендеринга трехмерной графики, X3DAudio использует только скорость для вычисления эффектов Doppler (она не используется для вычисления позиций).</span><span class="sxs-lookup"><span data-stu-id="590d5-122">Unlike a 3D rendering engine, X3DAudio only uses velocity to calculate Doppler effects (it is not used to calculate position).</span></span>

<span data-ttu-id="590d5-123">Дополнительные сведения о прослушивателях и передатчиках см. в разделах Справочник по [**X3DAUDIO \_ прослушивателю**](/windows/desktop/api/x3daudio/ns-x3daudio-x3daudio_listener) и [**\_ передатчику X3DAUDIO**](/windows/desktop/api/x3daudio/ns-x3daudio-x3daudio_emitter) .</span><span class="sxs-lookup"><span data-stu-id="590d5-123">For more details about listeners and emitters, see the [**X3DAUDIO\_LISTENER**](/windows/desktop/api/x3daudio/ns-x3daudio-x3daudio_listener) and [**X3DAUDIO\_EMITTER**](/windows/desktop/api/x3daudio/ns-x3daudio-x3daudio_emitter) structure reference topics.</span></span>

## <a name="using-x3daudio-with-xaudio2"></a><span data-ttu-id="590d5-124">Использование X3DAudio с XAudio2</span><span class="sxs-lookup"><span data-stu-id="590d5-124">Using X3DAudio with XAudio2</span></span>

<span data-ttu-id="590d5-125">Для всех взаимодействий между X3DAudio и XAudio2 используйте следующие функции X3DAudio.</span><span class="sxs-lookup"><span data-stu-id="590d5-125">For all interaction between X3DAudio and XAudio2, use the following X3DAudio functions.</span></span>

-   [<span data-ttu-id="590d5-126">**X3DAudioInitialize**</span><span class="sxs-lookup"><span data-stu-id="590d5-126">**X3DAudioInitialize**</span></span>](/windows/desktop/api/x3daudio/nf-x3daudio-x3daudioinitialize)

    <span data-ttu-id="590d5-127">Вызовите функцию [**X3DAudioInitialize**](/windows/desktop/api/x3daudio/nf-x3daudio-x3daudioinitialize) , чтобы инициализировать X3DAudio.</span><span class="sxs-lookup"><span data-stu-id="590d5-127">Call the [**X3DAudioInitialize**](/windows/desktop/api/x3daudio/nf-x3daudio-x3daudioinitialize) function to initialize X3DAudio.</span></span> <span data-ttu-id="590d5-128">Как правило, необходимо вызвать **X3DAudioInitialize** только один раз в течение времени существования игры, если только не изменится конфигурация динамика.</span><span class="sxs-lookup"><span data-stu-id="590d5-128">Typically, you only need to call **X3DAudioInitialize** once in the lifetime of a game, unless the speaker configuration is changed.</span></span>

-   [<span data-ttu-id="590d5-129">**X3DAudioCalculate**</span><span class="sxs-lookup"><span data-stu-id="590d5-129">**X3DAudioCalculate**</span></span>](/windows/desktop/api/x3daudio/nf-x3daudio-x3daudiocalculate)

    <span data-ttu-id="590d5-130">После инициализации X3DAudio можно определить громкость и другие значения для определенного звука, передав передатчик звука и прослушиватель в функцию [**X3DAudioCalculate**](/windows/desktop/api/x3daudio/nf-x3daudio-x3daudiocalculate) .</span><span class="sxs-lookup"><span data-stu-id="590d5-130">After you initialize X3DAudio, you can determine volume and other values for a given sound by passing the sound's emitter and the listener to the [**X3DAudioCalculate**](/windows/desktop/api/x3daudio/nf-x3daudio-x3daudiocalculate) function.</span></span> <span data-ttu-id="590d5-131">Значения, вычисленные с помощью **X3DAudioCalculate** , можно затем применить к XAudio2ным голосовым или эффектам в соответствии с флагами, передаваемыми в функцию.</span><span class="sxs-lookup"><span data-stu-id="590d5-131">The values calculated by **X3DAudioCalculate** can then be applied to XAudio2 voices or effects as appropriate for the flags passed to the function.</span></span> <span data-ttu-id="590d5-132">Значения громкости и высоты, вычисляемые X3DAudio, можно применить к голосовому методу с помощью методов [**IXAudio2Voice:: сетаутпутматрикс**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2voice-setoutputmatrix) и [**IXAudio2SourceVoice:: сетфрекуенциратио**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2sourcevoice-setfrequencyratio) .</span><span class="sxs-lookup"><span data-stu-id="590d5-132">You can apply volume and pitch values calculated by X3DAudio to a voice with the [**IXAudio2Voice::SetOutputMatrix**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2voice-setoutputmatrix) and [**IXAudio2SourceVoice::SetFrequencyRatio**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2sourcevoice-setfrequencyratio) methods.</span></span> <span data-ttu-id="590d5-133">Другие значения, вычисленные с помощью X3DAudio, необходимо применить к [**переглаголному действию**](/windows/desktop/api/xaudio2fx/nf-xaudio2fx-xaudio2createreverb) с помощью метода [**IXAudio2Voice:: сетеффектпараметерс**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2voice-seteffectparameters) .</span><span class="sxs-lookup"><span data-stu-id="590d5-133">Other values calculated by X3DAudio will need to be applied to a [**reverb effect**](/windows/desktop/api/xaudio2fx/nf-xaudio2fx-xaudio2createreverb) using the [**IXAudio2Voice::SetEffectParameters**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2voice-seteffectparameters) method.</span></span>

<span data-ttu-id="590d5-134">Пошаговый пример использования X3DAudio с XAudio2 см [. в разделе как интегрировать X3DAudio с ксаудио](how-to--integrate-x3daudio-with-xaudio2.md)</span><span class="sxs-lookup"><span data-stu-id="590d5-134">For a step-by-step example of using X3DAudio with XAudio2, see [How to: Integrate X3DAudio with XAudio](how-to--integrate-x3daudio-with-xaudio2.md)</span></span>

## <a name="related-topics"></a><span data-ttu-id="590d5-135">См. также</span><span class="sxs-lookup"><span data-stu-id="590d5-135">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="590d5-136">X3DAudio</span><span class="sxs-lookup"><span data-stu-id="590d5-136">X3DAudio</span></span>](x3daudio.md)
</dt> </dl>

 

 
