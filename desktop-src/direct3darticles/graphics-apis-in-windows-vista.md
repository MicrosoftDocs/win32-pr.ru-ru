---
title: Графические API в Windows
description: В этой статье обсуждаются графические функции и API-интерфейсы Windows.
ms.assetid: 54cd5027-cdcf-fc4a-40a9-beacfaa08681
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 7543ee7c5e3cdbfb022cc9299dd5ddd3cdd36981
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/20/2020
ms.locfileid: "104413512"
---
# <a name="graphics-apis-in-windows"></a><span data-ttu-id="83705-103">Графические API в Windows</span><span class="sxs-lookup"><span data-stu-id="83705-103">Graphics APIs in Windows</span></span>

<span data-ttu-id="83705-104">В Windows Vista реализована поддержка совершенно новой модели видеодрайверов, которая представляет собой основную редакцию в архитектуре видеодрайверов с момента появления WDM (WDM) для Windows 98.</span><span class="sxs-lookup"><span data-stu-id="83705-104">Windows Vista includes support for an entirely new display driver model that represents a major revision in the design of video drivers since the introduction of the Windows Driver Model (WDM) for Windows 98.</span></span> <span data-ttu-id="83705-105">Эта переработанная модель отражает развитие видеооборудования из мира 2D-растровых операций и приложений GDI для трехмерных игр с графическим оборудованием с фиксированными функциями и, наконец, с помощью современных программируемых графических процессоров (GPU), поддерживающих широкий спектр высокопроизводительных графических приложений.</span><span class="sxs-lookup"><span data-stu-id="83705-105">This redesigned model reflects the evolution of video hardware from the world of 2D raster operations and GDI applications to that of 3D games with fixed-function graphics hardware, and finally to that of the modern programmable graphics processing unit (GPU) that supports a wide-range of high-performance graphics applications.</span></span> <span data-ttu-id="83705-106">Windows 7 и Windows 8 построены на графической инфраструктуре Windows Vista, предоставляя дополнительные графические функции и интерфейсы API.</span><span class="sxs-lookup"><span data-stu-id="83705-106">Windows 7 and Windows 8 build on the Windows Vista graphics infrastructure by providing additional graphics features and APIs.</span></span> <span data-ttu-id="83705-107">В этой статье обсуждаются графические функции и API-интерфейсы Windows.</span><span class="sxs-lookup"><span data-stu-id="83705-107">This articles discusses Windows graphics features and APIs.</span></span>

-   [<span data-ttu-id="83705-108">Фон</span><span class="sxs-lookup"><span data-stu-id="83705-108">Background</span></span>](#background)
-   [<span data-ttu-id="83705-109">Direct3D 9</span><span class="sxs-lookup"><span data-stu-id="83705-109">Direct3D 9</span></span>](#direct3d-9)
-   [<span data-ttu-id="83705-110">9Ex Direct3D</span><span class="sxs-lookup"><span data-stu-id="83705-110">Direct3D 9Ex</span></span>](#direct3d-9ex)
-   [<span data-ttu-id="83705-111">Direct3D 10</span><span class="sxs-lookup"><span data-stu-id="83705-111">Direct3D 10</span></span>](#direct3d-10)
-   [<span data-ttu-id="83705-112">Direct3D 10,1</span><span class="sxs-lookup"><span data-stu-id="83705-112">Direct3D 10.1</span></span>](#direct3d-101)
-   [<span data-ttu-id="83705-113">Direct3D 11</span><span class="sxs-lookup"><span data-stu-id="83705-113">Direct3D 11</span></span>](#direct3d-11)
-   [<span data-ttu-id="83705-114">Direct3D 11,1</span><span class="sxs-lookup"><span data-stu-id="83705-114">Direct3D 11.1</span></span>](#direct3d-111)
-   [<span data-ttu-id="83705-115">OpenGL</span><span class="sxs-lookup"><span data-stu-id="83705-115">OpenGL</span></span>](#opengl)
-   [<span data-ttu-id="83705-116">Совместимость приложений, GDI и более ранние версии Direct3D</span><span class="sxs-lookup"><span data-stu-id="83705-116">Application Compatibility, GDI, and older versions of Direct3D</span></span>](#application-compatibility-gdi-and-older-versions-of-direct3d)
-   [<span data-ttu-id="83705-117">Рекомендации</span><span class="sxs-lookup"><span data-stu-id="83705-117">Recommendations</span></span>](#recommendations)

## <a name="background"></a><span data-ttu-id="83705-118">Историческая справка</span><span class="sxs-lookup"><span data-stu-id="83705-118">Background</span></span>

<span data-ttu-id="83705-119">Основной API для программирования графики, начиная с ранних дней Windows, был интерфейсом графического устройства (GDI).</span><span class="sxs-lookup"><span data-stu-id="83705-119">The primary API for programming graphics since the early days of Windows has been the Graphical Device Interface (GDI).</span></span> <span data-ttu-id="83705-120">Этот API был разработан для работы с множеством двумерных устройств вывода, и он образован в основе интерфейса пользователя Windows.</span><span class="sxs-lookup"><span data-stu-id="83705-120">This API was designed to handle numerous 2D output devices, and it formed the basis for the Windows user interface experience.</span></span> <span data-ttu-id="83705-121">DirectDraw и Direct3D были представлены в качестве альтернативных API-интерфейсов для поддержки полноэкранных игр и трехмерной отрисовки как расширений существующего оборудования.</span><span class="sxs-lookup"><span data-stu-id="83705-121">DirectDraw and Direct3D were introduced as alternative APIs to support full-screen games and 3D rendering as extensions to the existing hardware of the time.</span></span> <span data-ttu-id="83705-122">Взаимодействие с GDI было сложным.</span><span class="sxs-lookup"><span data-stu-id="83705-122">Interactions with GDI were complicated.</span></span> <span data-ttu-id="83705-123">Эффективное сочетание традиционных элементов GDI с элементами Direct3D было ограничено этой структурой.</span><span class="sxs-lookup"><span data-stu-id="83705-123">The effective intermixing of traditional GDI elements with Direct3D elements has been limited by this design.</span></span> <span data-ttu-id="83705-124">Версия Windows XP WDM, известная как XPDM, отражает параллельную природу GDI и Direct3D (см. рис. 1).</span><span class="sxs-lookup"><span data-stu-id="83705-124">The Windows XP version of WDM, known as XPDM, reflects the side-by-side nature of GDI and Direct3D (see Figure 1).</span></span>

<span data-ttu-id="83705-125">**Рис. 1. Графические API в Windows XP**</span><span class="sxs-lookup"><span data-stu-id="83705-125">**Figure 1. Graphics APIs in Windows XP**</span></span>

![драйверы](images/graphics-apis-in-windows-xp.gif)

<span data-ttu-id="83705-127">В течение многих лет возможности трехмерных видеоадаптеров значительно увеличились до того места, где эта функция выделяется подавляющим большинством аппаратных средств.</span><span class="sxs-lookup"><span data-stu-id="83705-127">Over the years, the power of 3D video cards has grown dramatically to the point where the vast majority of hardware is dedicated to this function.</span></span> <span data-ttu-id="83705-128">Новая модель драйверов (WDDM), переводит GPU и Direct3D в Forefront, позволяя создавать совершенно новые возможности, трехмерные настольные системы, которые легко смешиваются с возможностями современных программируемых графических процессоров.</span><span class="sxs-lookup"><span data-stu-id="83705-128">A new driver model, Windows Display Driver Model (WDDM), brings the GPU and Direct3D to the forefront, allowing the creation of an entirely new experience, the 3D desktop, that seamlessly blends the 2D world of GDI with the power of modern programmable GPUs.</span></span> <span data-ttu-id="83705-129">При использовании WDDM видеооборудование полностью зависит от Direct3D, а все остальные графические интерфейсы взаимодействуют с видеооборудованием с помощью новой модели драйверов, ориентированной на Direct3D (см. рис. 2).</span><span class="sxs-lookup"><span data-stu-id="83705-129">With WDDM, the video hardware is driven entirely by Direct3D, and all other graphics interfaces communicate with the video hardware via the new Direct3D–centric driver model (see Figure 2).</span></span>

<span data-ttu-id="83705-130">**Рис. 2. Графические API в Windows Vista**</span><span class="sxs-lookup"><span data-stu-id="83705-130">**Figure 2. Graphics APIs in Windows Vista**</span></span>

![драйвер](images/graphics-apis-in-windows-vista.gif)

<span data-ttu-id="83705-132">Дополнительные сведения о WDDM см. в разделе [руководство по проектированию модели драйвера Windows Vista (WDDM)](/windows-hardware/drivers/display/windows-vista-display-driver-model-design-guide) на сайте MSDN.</span><span class="sxs-lookup"><span data-stu-id="83705-132">For more information about the WDDM, see [Windows Vista Display Driver Model (WDDM) Design Guide](/windows-hardware/drivers/display/windows-vista-display-driver-model-design-guide) on MSDN.</span></span>

## <a name="direct3d-9"></a><span data-ttu-id="83705-133">Direct3D 9</span><span class="sxs-lookup"><span data-stu-id="83705-133">Direct3D 9</span></span>

<span data-ttu-id="83705-134">Версия 9 DirectX впервые была выпущена для Windows в 2002 с последующими обновлениями в 2003 и 2004.</span><span class="sxs-lookup"><span data-stu-id="83705-134">Version 9 of DirectX was first released for Windows in 2002, with subsequent updates in 2003 and 2004.</span></span> <span data-ttu-id="83705-135">Этот API представляет собой десятилетие эволюции технологий DirectX, знакомство с более мощными моделями программирования шейдеров для Direct3D и сроком погашения, основанный на тысячах поставок.</span><span class="sxs-lookup"><span data-stu-id="83705-135">This API represents a decade of evolution of the DirectX technologies, the introduction of more powerful shader programming models for Direct3D, and a maturity backed by thousands of shipping titles.</span></span> <span data-ttu-id="83705-136">Direct3D 9 является основным графическим интерфейсом в Windows Vista.</span><span class="sxs-lookup"><span data-stu-id="83705-136">Direct3D 9 is the primary graphics interface on Windows Vista.</span></span> <span data-ttu-id="83705-137">Он остается идеальным интерфейсом API, который используется для написания трехмерных игр и приложений, которые должны выполняться в широком спектре существующих выпусков оборудования и Windows.</span><span class="sxs-lookup"><span data-stu-id="83705-137">It remains the ideal API to use for writing 3D games and applications that need to run on the broad range of existing hardware and Windows releases.</span></span> <span data-ttu-id="83705-138">Сведения о новой модели драйверов скрыты от приложений, использующих интерфейсы Direct3D 9, но в фоновом режиме операционная система использует все преимущества новых возможностей для обеспечения истинной многозадачности GPU, более эффективного управления ресурсами и надежности производительности.</span><span class="sxs-lookup"><span data-stu-id="83705-138">The details of the new driver model are hidden from applications using the Direct3D 9 interfaces, but behind the scenes the operating system is taking full advantage of the new capabilities to provide true multitasking of the GPU, more efficient resource management, and robust performance.</span></span>

<span data-ttu-id="83705-139">Для обеспечения полной совместимости с предыдущими версиями Windows некоторые особенности старой модели драйверов должны быть эмулироваться даже с новой моделью видеодрайверов Windows Vista.</span><span class="sxs-lookup"><span data-stu-id="83705-139">To ensure full compatibility with older versions of Windows, some quirks of the old driver model must be emulated even with the new Windows Vista display driver model.</span></span> <span data-ttu-id="83705-140">Например, когда полноэкранное приложение теряет фокус, оно должно считать, что оно потеряло все ресурсы в видеопамяти (видеопамять) и перезагружало их, созданные как неуправляемые ресурсы, несмотря на то, что новая модель драйверов обрабатывает ресурсы прозрачно, не удаляя их из контекста устройства.</span><span class="sxs-lookup"><span data-stu-id="83705-140">For example, when a full-screen application loses focus, it must assume it has lost all the resources in video memory (VRAM) and reload those it created as unmanaged resources even though the new driver model handles the resources transparently without evicting them from the device context.</span></span> <span data-ttu-id="83705-141">Даже понятие типа ресурса управляемого и по умолчанию относится к старой модели драйвера.</span><span class="sxs-lookup"><span data-stu-id="83705-141">Even the concept of a managed vs. default resource type is specific to the old driver model.</span></span> <span data-ttu-id="83705-142">Еще один пример — ожидание сбоя при выделении ресурсов неуправляемого (пула по умолчанию) сверх объема доступной видеопамяти, даже несмотря на то, что новая модель драйверов может предоставлять почти неограниченное количество виртуальных видеопамятьй.</span><span class="sxs-lookup"><span data-stu-id="83705-142">Another example is the expectation of failure when allocating unmanaged (default pool) resources in excess of the amount of VRAM available, even though the new driver model can provide a nearly unlimited amount of virtual video memory.</span></span> <span data-ttu-id="83705-143">Из-за этих требований приложения Direct3D, работающие в Windows Vista, все равно будут принимать эти ошибки.</span><span class="sxs-lookup"><span data-stu-id="83705-143">Because of these requirements, Direct3D applications running on Windows Vista will still receive these error conditions.</span></span> <span data-ttu-id="83705-144">Поэтому они ограничены возможностью использования базовых интерфейсов Direct3D 9 для полного использования некоторых функций новой модели драйверов.</span><span class="sxs-lookup"><span data-stu-id="83705-144">Thus, they are limited in their ability to use the basic Direct3D 9 interfaces to fully use some features of the new driver model.</span></span>

<span data-ttu-id="83705-145">В то время как новые системы, поставляемые с Windows Vista, включают видеоадаптеры с драйверами WDDM, а новые драйверы для ряда популярных видеоадаптеров включены в комплект поставки Windows Vista для обновления и выпуска более старых версий драйверов XPDM.</span><span class="sxs-lookup"><span data-stu-id="83705-145">While new systems shipping with Windows Vista will include video cards with WDDM drivers, and new drivers for a number of popular video cards are included in the box, Windows Vista continues to support the ability to use older XPDM drivers for upgrades and corporate editions.</span></span> <span data-ttu-id="83705-146">В системах, использующих старую модель драйвера, необходимо использовать Direct3D 9 и более старые интерфейсы, и работа графической системы очень похожа на Windows XP (рис. 1).</span><span class="sxs-lookup"><span data-stu-id="83705-146">On systems using the old driver model, Direct3D 9 and older interfaces must be used, and the operation of the graphics system is very similar to that of Windows XP (Figure 1).</span></span> <span data-ttu-id="83705-147">WDDM требуется, чтобы приложения использовали Direct3D 9Ex, Direct3D 10 и более поздние версии.</span><span class="sxs-lookup"><span data-stu-id="83705-147">WDDM is required for applications to use Direct3D 9Ex, Direct3D 10, and later versions.</span></span>

## <a name="direct3d-9ex"></a><span data-ttu-id="83705-148">9Ex Direct3D</span><span class="sxs-lookup"><span data-stu-id="83705-148">Direct3D 9Ex</span></span>

<span data-ttu-id="83705-149">Интерфейс Direct3D 9Ex предоставляет доступ к небольшому расширению стандартного API Direct3D 9, предоставляющему виртуальное выделение ресурсов, новую семантику потерянных устройств и другие новые функции, доступные при работе в Windows Vista.</span><span class="sxs-lookup"><span data-stu-id="83705-149">The Direct3D 9Ex interface provides access to a slight extension of the standard Direct3D 9 API that exposes the virtualized resource allocation, new lost device semantics, and some other new features available while running on Windows Vista.</span></span> <span data-ttu-id="83705-150">Создавая этот расширенный объект, API Direct3D 9 использует новую семантику и, следовательно, требует, чтобы приложение использовало другую логику (и, следовательно, разные пути кода) для создания ресурсов, управления и обработки ошибок для новых типов условий.</span><span class="sxs-lookup"><span data-stu-id="83705-150">By creating this extended object, the Direct3D 9 API uses the new semantics, and therefore requires the application to use different logic (and therefore different code paths) for resource creation, management, and error handling for new kinds of conditions.</span></span> <span data-ttu-id="83705-151">Этот API доступен только в Windows Vista и требует наличия драйверов WDDM.</span><span class="sxs-lookup"><span data-stu-id="83705-151">This API is only available on Windows Vista, and it requires WDDM drivers.</span></span> <span data-ttu-id="83705-152">Так как Direct3D 9Ex использует отдельный путь к API и коду драйвера, чем Direct3D 9, для поддержки этого API требуются дополнительные тестовые случаи для приложения.</span><span class="sxs-lookup"><span data-stu-id="83705-152">Because Direct3D 9Ex uses a separate API and driver code path than Direct3D 9, supporting this API requires additional test cases for your application.</span></span>

<span data-ttu-id="83705-153">Основная причина создания нового API Direct3D 9Ex — обеспечить полный доступ к новым возможностям WDDM, сохраняя совместимость с существующими приложениями Direct3D.</span><span class="sxs-lookup"><span data-stu-id="83705-153">The primary reason for creating the new Direct3D 9Ex API was to allow full access to the new capabilities of WDDM while maintaining compatibility for existing Direct3D applications.</span></span> <span data-ttu-id="83705-154">В новых приложениях для работы с 3D Desktop и многими приложениями для Windows Vista используется эта версия Direct3D 9, но они не работают при работе на старых драйверах XPDM.</span><span class="sxs-lookup"><span data-stu-id="83705-154">The new 3D desktop and many Windows Vista-specific applications make use of this version of Direct3D 9, but they are not functional when running on older XPDM drivers.</span></span> <span data-ttu-id="83705-155">Поскольку API Direct3D 9Ex никогда не будет отображаться в более старых версиях Windows из-за отсутствия поддержки WDDM, стандартные интерфейсы Direct3D 9 охватывают более широкий набор систем.</span><span class="sxs-lookup"><span data-stu-id="83705-155">Because the Direct3D 9Ex API will never appear on older versions of Windows due to a lack of support for the WDDM, the standard Direct3D 9 interfaces cover a much broader set of systems.</span></span> <span data-ttu-id="83705-156">Для высокопроизводительных приложений, которые могут использовать преимущества следующего поколения видеооборудования, совершенно новая версия 10 Direct3D предоставляет множество новых возможностей, не предоставляемых Direct3D 9Ex.</span><span class="sxs-lookup"><span data-stu-id="83705-156">For high-performance applications that can take advantage of the next generation of video hardware, the entirely new version 10 of Direct3D provides many new capabilities not exposed by Direct3D 9Ex.</span></span> <span data-ttu-id="83705-157">В результате для игр и большинства других приложений рекомендуется использовать API Direct3D 9 или Direct3D 10.</span><span class="sxs-lookup"><span data-stu-id="83705-157">As a result, for games and most other applications, Direct3D 9 or Direct3D 10 is the recommended API.</span></span>

> [!Note]  
> <span data-ttu-id="83705-158">Пакет SDK для DirectX не предоставляет образцы, заголовки или библиотеки для интерфейса Direct3D 9Ex.</span><span class="sxs-lookup"><span data-stu-id="83705-158">The DirectX SDK does not provide samples, headers, or libraries for the Direct3D 9Ex interface.</span></span> <span data-ttu-id="83705-159">Библиотека MSDN и Windows SDK (прежнее название — Platform SDK) содержат доступную документацию, заголовки и библиотеки.</span><span class="sxs-lookup"><span data-stu-id="83705-159">The MSDN Library and Windows SDK (formerly known as the Platform SDK) contain the available documentation, headers, and libraries.</span></span>

 

<span data-ttu-id="83705-160">Дополнительные сведения о Direct3D 9Ex см. в статье [DirectX для Windows Vista](/previous-versions//ms681824(v=vs.85)) на MDSN.</span><span class="sxs-lookup"><span data-stu-id="83705-160">For more information about Direct3D 9Ex, see [DirectX for Windows Vista](/previous-versions//ms681824(v=vs.85)) on MDSN.</span></span>

## <a name="direct3d-10"></a><span data-ttu-id="83705-161">Direct3D 10</span><span class="sxs-lookup"><span data-stu-id="83705-161">Direct3D 10</span></span>

<span data-ttu-id="83705-162">Чтобы полностью реализовать потенциал новой модели драйверов Windows Vista и оборудования следующего поколения, был создан совершенно новая версия API Direct3D.</span><span class="sxs-lookup"><span data-stu-id="83705-162">To fully realize the potential of the new Windows Vista driver model and next-generation hardware, an entirely new version of the Direct3D API has been created.</span></span> <span data-ttu-id="83705-163">Хотя WDDM устраняет некоторые ограничения на производительность в существующей графической системе, Direct3D 10 становится еще больше за счет удаления узких мест проектирования в существующем API Direct3D и значительно упрощает задачу программирования GPU.</span><span class="sxs-lookup"><span data-stu-id="83705-163">While WDDM eliminates some of the limitations on performance in the existing graphics system, Direct3D 10 goes further by removing design bottlenecks in the existing Direct3D API, and greatly simplifies the task of programming the GPU.</span></span>

<span data-ttu-id="83705-164">Новый API полностью исключает все аспекты, кроме фиксированных функций, заменяя их программируемыми конструкциями и значительно оптимизируя внутреннюю реализацию.</span><span class="sxs-lookup"><span data-stu-id="83705-164">The new API completely eliminates all but a few fixed-function aspects, replacing them with programmable constructs and greatly streamlining the internal implementation.</span></span> <span data-ttu-id="83705-165">Сотни битов возможностей в предыдущих версиях Direct3D были полностью устранены и заменены четко определенным набором функций, которые имеют лишь несколько необязательных сценариев использования для определенных форматов ресурсов.</span><span class="sxs-lookup"><span data-stu-id="83705-165">The hundreds of capability bits in previous versions of Direct3D have been completely eliminated and replaced with a well-defined, inclusive set of functionality that has only a few optional usage scenarios for specific resource formats.</span></span> <span data-ttu-id="83705-166">Создание и проверка ресурсов с интенсивным использованием ЦП теперь имеют явную семантику в новом API.</span><span class="sxs-lookup"><span data-stu-id="83705-166">CPU-intensive resource creation and validation now have explicit semantics in the new API.</span></span> <span data-ttu-id="83705-167">Это обеспечивает гораздо более предсказуемое поведение производительности и значительно сокращает затраты на рисование.</span><span class="sxs-lookup"><span data-stu-id="83705-167">This allows for much more predictable performance behavior, and greatly reduced per-draw overhead.</span></span> <span data-ttu-id="83705-168">Ресурсы можно перенастроить в несколько форм, чтобы обеспечить эффективное использование на различных этапах, а набор функций накладывает гораздо меньше ограничений на сценарии использования для форматов.</span><span class="sxs-lookup"><span data-stu-id="83705-168">Resources can be reconfigured into multiple forms to allow efficient use at various stages, and the feature set imposes far fewer restrictions on usage scenarios for formats.</span></span> <span data-ttu-id="83705-169">Существуют также новые форматы текстур с нормальным форматом блочных карт.</span><span class="sxs-lookup"><span data-stu-id="83705-169">There are also new block-compressed normal-map texture formats.</span></span>

<span data-ttu-id="83705-170">В новом API константы шейдера и состояние устройства являются явными ресурсами, что позволяет значительно повысить эффективность кэширования на оборудовании и значительно упростить проверку драйверов.</span><span class="sxs-lookup"><span data-stu-id="83705-170">In the new API, shader constants and device state are explicit resources, allowing for far more efficient caching on the hardware and greatly simplified driver validation.</span></span> <span data-ttu-id="83705-171">Программируемая модель шейдеров объединена в шейдеры вершин и пикселей и стала более выразительным с помощью четко определенной вычислительной модели и набора операторов.</span><span class="sxs-lookup"><span data-stu-id="83705-171">The programmable shader model has been unified across both vertex and pixel shaders, and made more expressive with a well-defined computational model and operator set.</span></span> <span data-ttu-id="83705-172">Кроме того, для использования примитивов после этапа шейдера вершин был добавлен новый этап шейдера геометрии.</span><span class="sxs-lookup"><span data-stu-id="83705-172">Also, a new geometry shader stage has been added to operate on primitives after the vertex shader stage.</span></span> <span data-ttu-id="83705-173">Результаты работы графического процессора на стадиях шейдера вершин и геометрии конвейера можно передать в видеопамять для повторного использования, что позволяет выполнять очень сложные многопроходные операции GPU с минимальным взаимодействием ЦП.</span><span class="sxs-lookup"><span data-stu-id="83705-173">The results of the GPU’s work in the vertex and geometry shader stages of the pipeline can be streamed out to video RAM for reuse, allowing for the possibility of extremely complex multi-pass GPU operations with minimal CPU interaction.</span></span>

<span data-ttu-id="83705-174">Все эти улучшения позволяют использовать технологию графики следующего поколения и расширять возможности приложений для их отключения от загрузки GPU.</span><span class="sxs-lookup"><span data-stu-id="83705-174">All of these enhancements enable next-generation graphics technology and expand the ability of applications to off-load work to the GPU.</span></span> <span data-ttu-id="83705-175">Разгрузка обеспечивает более сложные выборки символов на основе GPU, ускоренные преобразования, создание теневых томов и объемы, частицы и физические системы, которые полностью основаны на GPU, являются более сложными материалами, объединенными в эффективные пакеты больших объемов, процедурная детализация, отслеживание смещения лучей в реальном времени, однопроходное создание карт Куба и многие другие методы, в то же время освобождая ресурсы ЦП для более сложных приложений.</span><span class="sxs-lookup"><span data-stu-id="83705-175">Offloading allows more complex GPU-based character skinning, accelerated morphing techniques, shadow volume generation and extrusion, particle and physics systems that are entirely GPU-based, more complex materials combined into efficient large-draw batches, procedural detailing, real-time ray-traced displacement mapping, single-pass cube-map generation, and many more techniques—all while freeing up CPU resources for more complex applications.</span></span>

<span data-ttu-id="83705-176">Чтобы обеспечить этот уровень инноваций в Direct3D 10, старое оборудование не может быть выражено как частичная реализация нового интерфейса.</span><span class="sxs-lookup"><span data-stu-id="83705-176">To provide this level of innovation in Direct3D 10, older hardware cannot be expressed as a partial implementation of a new interface.</span></span> <span data-ttu-id="83705-177">Видеоадаптер либо может поддерживать все новые функции, либо не является платой с поддержкой Direct3D 10.</span><span class="sxs-lookup"><span data-stu-id="83705-177">A video card is either capable of supporting all of the new features, or it’s not a Direct3D 10–capable card.</span></span> <span data-ttu-id="83705-178">Таким образом, несмотря на то, что Direct3D 9 может использовать оборудование DirectX7 с множеством отсутствующих битов и ограничений на использование, Direct3D 10 работает только с новым поколением видеоадаптеров.</span><span class="sxs-lookup"><span data-stu-id="83705-178">Therefore, while Direct3D 9 could drive DirectX7-era hardware with many missing capability bits and usage limitations, Direct3D 10 only works on a new generation of video cards.</span></span> <span data-ttu-id="83705-179">Чтобы приложение поддерживало старое видео оборудование, оно также должно поддерживать интерфейсы Direct3D 9.</span><span class="sxs-lookup"><span data-stu-id="83705-179">For an application to support older video hardware, it must also support the Direct3D 9 interfaces.</span></span> <span data-ttu-id="83705-180">Будущие версии Direct3D будут создавать версии 10, расширяя ее до новых версий API, обеспечивая при этом более широкие возможности Direct3D 10.</span><span class="sxs-lookup"><span data-stu-id="83705-180">Future versions of Direct3D will build on version 10, extending it to new versions of the API while ensuring a strict superset of Direct3D 10 functionality.</span></span>

<span data-ttu-id="83705-181">Дополнительные сведения о Direct3D 10 см. в разделе [Direct3D 10](/windows/desktop/direct3d10/d3d10-graphics).</span><span class="sxs-lookup"><span data-stu-id="83705-181">For more information about Direct3D 10, see [Direct3D 10](/windows/desktop/direct3d10/d3d10-graphics).</span></span>

## <a name="direct3d-101"></a><span data-ttu-id="83705-182">Direct3D 10,1</span><span class="sxs-lookup"><span data-stu-id="83705-182">Direct3D 10.1</span></span>

<span data-ttu-id="83705-183">Пакет обновления 1 (SP1) для Windows Vista расширяет API Direct3D 10 с помощью Direct3D 10,1, который добавляет дополнительные интерфейсы и дополнительную модель шейдера для поддержки новых аппаратных функций видеоадаптеров, поддерживающих Direct3D 10,1.</span><span class="sxs-lookup"><span data-stu-id="83705-183">Windows Vista Service Pack 1 extends the Direct3D 10 API with Direct3D 10.1, which adds optional interfaces and an additional shader model to support new hardware features of video cards that support Direct3D 10.1.</span></span> <span data-ttu-id="83705-184">Все оборудование, способное поддерживать Direct3D 10,1, также полностью поддерживает все функции Direct3D 10, а разработчики игр могут использовать дополнительные функции Direct3D 10,1, если они доступны.</span><span class="sxs-lookup"><span data-stu-id="83705-184">All hardware that is capable of supporting Direct3D 10.1 also fully supports all features of Direct3D 10, and game developers can make use of the additional features of Direct3D 10.1, when available.</span></span>

> [!Note]  
> <span data-ttu-id="83705-185">Direct3D 10,1 — это графический API, используемый Windows 7 Desktop.</span><span class="sxs-lookup"><span data-stu-id="83705-185">Direct3D 10.1 is the graphics API used by the Windows 7 desktop.</span></span>

 

> [!Note]  
> <span data-ttu-id="83705-186">Windows 7 и обновление Windows Vista ([KB 971644](https://support.microsoft.com/kb/971644)) добавляют поддержку для DXGI 1,1, 10level9 уровня функций и устройства WARP10 к существующему API-интерфейсу Direct3D 10,1.</span><span class="sxs-lookup"><span data-stu-id="83705-186">Windows 7 and the Windows Vista update ([KB 971644](https://support.microsoft.com/kb/971644)) add support for DXGI 1.1, 10level9 feature levels, and the WARP10 device to the existing Direct3D 10.1 API.</span></span>

 

## <a name="direct3d-11"></a><span data-ttu-id="83705-187">Direct3D 11</span><span class="sxs-lookup"><span data-stu-id="83705-187">Direct3D 11</span></span>

<span data-ttu-id="83705-188">Windows 7 поддерживает новую версию Direct3D, Direct3D 11, основанную на проектировании API Direct3D 10,1.</span><span class="sxs-lookup"><span data-stu-id="83705-188">Windows 7 supports a new revision of Direct3D, Direct3D 11, built on the design of Direct3D 10.1 API.</span></span> <span data-ttu-id="83705-189">К новым возможностям API относятся Многопотоковая визуализация и создание ресурсов, шейдер вычислений, поддержка уровней функций 10level9 и устройства WARP10 Software Rendering, а также новые функции оборудования класса Direct3D 11, такие как тесселяция, с использованием поверхности & шейдеров доменов, BC6H и BC7 форматов сжатия текстур, модели шейдеров 5,0 и динамической компоновки шейдеров.</span><span class="sxs-lookup"><span data-stu-id="83705-189">New features of the API include multithreaded rendering and resource creation, Compute Shader, support for 10level9 feature levels and the WARP10 software rendering device, and new Direct3D 11 class hardware features such as tessellation using hull & domain shaders, BC6H and BC7 texture compression formats, Shader Model 5.0, and Dynamic Shader Linkage.</span></span> <span data-ttu-id="83705-190">Новый API может использовать существующие видеокарты классов Direct3D 10 и 10,1, некоторые карты Direct3D 9 через уровни функций 10level9 с ограниченной поддержкой функций и последние видеокарты класса Direct3D 11 нового поколения.</span><span class="sxs-lookup"><span data-stu-id="83705-190">The new API can use existing Direct3D 10 and 10.1 class video cards, some Direct3D 9 cards through the 10level9 feature levels with limited feature support, and the latest generation Direct3D 11 class video cards.</span></span>

<span data-ttu-id="83705-191">В дополнение к API Direct3D 11 в Windows 7 входит DXGI 1,1, Direct2D, DirectWrite и поддержка драйверов WDDM 1,1.</span><span class="sxs-lookup"><span data-stu-id="83705-191">In addition to the Direct3D 11 API, Windows 7 includes DXGI 1.1, Direct2D, DirectWrite, and support for WDDM 1.1 drivers.</span></span>

> [!Note]  
> <span data-ttu-id="83705-192">Direct3D 11 и связанные интерфейсы API также доступны в качестве обновления для Windows Vista (см. [статью KB 971644](https://support.microsoft.com/kb/971644)).</span><span class="sxs-lookup"><span data-stu-id="83705-192">The Direct3D 11 and related APIs are also available as an update to Windows Vista (see [KB 971644](https://support.microsoft.com/kb/971644)).</span></span>

 

## <a name="direct3d-111"></a><span data-ttu-id="83705-193">Direct3D 11,1</span><span class="sxs-lookup"><span data-stu-id="83705-193">Direct3D 11.1</span></span>

<span data-ttu-id="83705-194">Windows 8 расширяет [API Direct3D 11](#direct3d-11) с помощью Direct3D 11,1.</span><span class="sxs-lookup"><span data-stu-id="83705-194">Windows 8 extends the [Direct3D 11 API](#direct3d-11) with Direct3D 11.1.</span></span> <span data-ttu-id="83705-195">Direct3D 11,1 поддерживает все существующее оборудование, поддерживающее [уровни функций](/windows/desktop/direct3d11/overviews-direct3d-11-devices-downlevel-intro) 11, 10 \_ x и 9 \_ x, а также новый \_ уровень возможностей 11 1.</span><span class="sxs-lookup"><span data-stu-id="83705-195">Direct3D 11.1 supports all existing hardware that [feature levels](/windows/desktop/direct3d11/overviews-direct3d-11-devices-downlevel-intro) 11, 10\_x, and 9\_x support, as well as a new 11\_1 feature level.</span></span>

<span data-ttu-id="83705-196">В дополнение к [API Direct3D 11,1](/windows/desktop/direct3d11/direct3d-11-1-features), Windows 8 включает в себя [1,2 DXGI](/windows/desktop/direct3ddxgi/dxgi-1-2-improvements), [Direct2D для устройств](/windows/desktop/Direct2D/devices-and-device-contexts)и поддержку драйверов WDDM 1,2.</span><span class="sxs-lookup"><span data-stu-id="83705-196">In addition to the [Direct3D 11.1 API](/windows/desktop/direct3d11/direct3d-11-1-features), Windows 8 includes [DXGI 1.2](/windows/desktop/direct3ddxgi/dxgi-1-2-improvements), [Direct2D device contexts](/windows/desktop/Direct2D/devices-and-device-contexts), and support for WDDM 1.2 drivers.</span></span>

> [!Note]  
> <span data-ttu-id="83705-197">Если вы хотите, чтобы приложения из Магазина Windows могли программировать трехмерную графику с помощью DirectX, можно использовать API Direct3D 11,1.</span><span class="sxs-lookup"><span data-stu-id="83705-197">If you want your Windows Store apps to program 3D graphics with DirectX, you can use the Direct3D 11.1 API.</span></span> <span data-ttu-id="83705-198">Дополнительные сведения о программировании трехмерной графики с помощью DirectX см. в статье [Введение в трехмерную графику с помощью DirectX](/previous-versions/windows/apps/hh465137(v=win.10)).</span><span class="sxs-lookup"><span data-stu-id="83705-198">For more info about programming 3D graphics with DirectX, see [Introduction to 3D graphics with DirectX](/previous-versions/windows/apps/hh465137(v=win.10)).</span></span>

 

<span data-ttu-id="83705-199">**Обновление платформы для Windows 7:** Для [API Direct3D 11,1](/windows/desktop/direct3d11/direct3d-11-1-features) в Windows 7 или windows Server 2008 R2 доступна частичная поддержка с установленным [обновлением платформы для Windows 7](https://support.microsoft.com/kb/2670838) .</span><span class="sxs-lookup"><span data-stu-id="83705-199">**Platform Update for Windows 7:** Partial support is available for the [Direct3D 11.1 API](/windows/desktop/direct3d11/direct3d-11-1-features) on Windows 7 or Windows Server 2008 R2 with the [Platform Update for Windows 7](https://support.microsoft.com/kb/2670838) installed.</span></span> <span data-ttu-id="83705-200">Дополнительные сведения об обновлении платформы для Windows 7 см. в [статье обновление платформы для Windows 7](platform-update-for-windows-7.md).</span><span class="sxs-lookup"><span data-stu-id="83705-200">For more info about the Platform Update for Windows 7, see [Platform Update for Windows 7](platform-update-for-windows-7.md).</span></span>

## <a name="opengl"></a><span data-ttu-id="83705-201">OpenGL</span><span class="sxs-lookup"><span data-stu-id="83705-201">OpenGL</span></span>

<span data-ttu-id="83705-202">Windows Vista, Windows 7 и Windows 8 обеспечивают ту же поддержку, что и Windows XP для OpenGL, что позволяет производителям видеоадаптеров предоставлять устанавливаемый драйвер клиента (ICD) для OpenGL, обеспечивающий поддержку аппаратного ускорения.</span><span class="sxs-lookup"><span data-stu-id="83705-202">Windows Vista, Windows 7, and Windows 8 provide the same support as Windows XP for OpenGL, which allows video card manufactures to provide an installable client driver (ICD) for OpenGL that provides hardware-accelerated support.</span></span> <span data-ttu-id="83705-203">Обратите внимание, что более новые версии таких Икдс необходимы для полной поддержки Windows Vista, Windows 7 или Windows 8.</span><span class="sxs-lookup"><span data-stu-id="83705-203">Note that newer versions of such ICDs are required to fully support Windows Vista, or Windows 7, or Windows 8.</span></span> <span data-ttu-id="83705-204">Если программа ICD не установлена, в большинстве случаев система вернется к программному уровню OpenGL v 1.1.</span><span class="sxs-lookup"><span data-stu-id="83705-204">If no ICD is installed, the system will fall back to the OpenGL v1.1 software layer in most cases.</span></span>

## <a name="application-compatibility-gdi-and-older-versions-of-direct3d"></a><span data-ttu-id="83705-205">Совместимость приложений, GDI и более ранние версии Direct3D</span><span class="sxs-lookup"><span data-stu-id="83705-205">Application Compatibility, GDI, and older versions of Direct3D</span></span>

<span data-ttu-id="83705-206">Графические системы Windows Vista, Windows 7 и Windows 8 разработаны для поддержки широкого спектра сценариев использования оборудования и ресурсов, позволяющих использовать новые технологии, продолжая поддерживать существующие системы.</span><span class="sxs-lookup"><span data-stu-id="83705-206">The Windows Vista, Windows 7, and Windows 8 graphics systems are designed to support a broad range of hardware and usage scenarios to enable new technology while continuing to support existing systems.</span></span> <span data-ttu-id="83705-207">Существующие графические интерфейсы, такие как GDI, GDI+ и более ранние версии Direct3D, продолжают работать в Windows Vista и Windows 7, но при этом по возможности пересопоставляются.</span><span class="sxs-lookup"><span data-stu-id="83705-207">Existing graphics interfaces, such as GDI, GDI+, and older versions of Direct3D, continue to work on Windows Vista and Windows 7, but are internally remapped where possible.</span></span> <span data-ttu-id="83705-208">Это означает, что большинство существующих приложений Windows продолжат работать.</span><span class="sxs-lookup"><span data-stu-id="83705-208">This means that the majority of existing Windows applications will continue to work.</span></span>

<span data-ttu-id="83705-209">Windows Vista, Windows 7 и Windows 8 продолжают поддерживать те же интерфейсы Direct3D и DirectDraw, что и Windows XP, обратно в версию 3 DirectX (за исключением сохраненного режима Direct3D's, который был удален).</span><span class="sxs-lookup"><span data-stu-id="83705-209">Windows Vista, Windows 7, and Windows 8 continue to support the same Direct3D and DirectDraw interfaces as Windows XP, back to version 3 of DirectX (with the exception of Direct3D's Retained Mode, which has been removed).</span></span> <span data-ttu-id="83705-210">Как и в Windows XP Professional x64 Edition, 64-разрядные машинные приложения в более новых версиях Windows ограничены интерфейсами Direct3D9, DirectDraw7 или более новыми.</span><span class="sxs-lookup"><span data-stu-id="83705-210">Just as with Windows XP Professional x64 Edition, 64-bit native applications on newer versions of Windows are limited to Direct3D9, DirectDraw7, or newer interfaces.</span></span> <span data-ttu-id="83705-211">Высокопроизводительные приложения должны использовать Direct3D 9 или более поздней версии, чтобы обеспечить наиболее близкое соответствие возможностей оборудования.</span><span class="sxs-lookup"><span data-stu-id="83705-211">High-performance applications should make use of Direct3D 9 or later to ensure that they have the closest match to the hardware capabilities.</span></span>

## <a name="recommendations"></a><span data-ttu-id="83705-212">Рекомендации</span><span class="sxs-lookup"><span data-stu-id="83705-212">Recommendations</span></span>

<span data-ttu-id="83705-213">При выборе API для графического приложения учитывайте следующие рекомендации.</span><span class="sxs-lookup"><span data-stu-id="83705-213">Consider the following recommendations when selecting an API for your graphical application:</span></span>

-   <span data-ttu-id="83705-214">Используйте Direct3D 9, если приложение должно поддерживать Windows XP или более раннюю версию Windows.</span><span class="sxs-lookup"><span data-stu-id="83705-214">Use Direct3D 9 if your application must support Windows XP or an earlier version of Windows.</span></span>
-   <span data-ttu-id="83705-215">Используйте Direct3D 9, если требуется поддержка Windows Vista или Windows 7, работающих с драйверами XPDM.</span><span class="sxs-lookup"><span data-stu-id="83705-215">Use Direct3D 9 if you want to support Windows Vista or Windows 7 running with XPDM drivers.</span></span> <span data-ttu-id="83705-216">Для систем Windows Vista или Windows 7, в которых отсутствует Direct3D 10 или более производительное видеооборудование, можно выбрать использование существующего кода Windows XP Direct3D 9 или использовать уровни функций 10level9 через API Direct3D 10,1 или Direct3D 11.</span><span class="sxs-lookup"><span data-stu-id="83705-216">For Windows Vista or Windows 7 systems that lack Direct3D 10 or better video hardware, you can either choose to use the existing Windows XP Direct3D 9 code path or use the 10level9 feature levels through the Direct3D 10.1 or Direct3D 11 API.</span></span>
-   <span data-ttu-id="83705-217">Используйте Direct3D 11, чтобы воспользоваться преимуществами нового поколения видеооборудования в Windows Vista, Windows 7 и Windows 8.</span><span class="sxs-lookup"><span data-stu-id="83705-217">Use Direct3D 11 to take advantage of the next generation of video hardware on Windows Vista, Windows 7, and Windows 8.</span></span> <span data-ttu-id="83705-218">Приложения для Магазина Windows должны использовать Direct3D 11 или более поздней версии.</span><span class="sxs-lookup"><span data-stu-id="83705-218">Windows Store apps must use Direct3D 11 or later.</span></span>

 

 