---
description: В следующем примере показано, как создать условное окно сообщения, которое открывается и предупреждает пользователя о том, что фоновая задача все еще выполняется, когда пользователь активирует отображаемый элемент управления преждевременно.
ms.assetid: 4a99a96b-50c2-42eb-82ad-acdfa186a71f
title: Создание "Подождите. . ." Окно сообщения
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 71c5f0cb1e4f1a0224c3b71d42d6fc63c1940483
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "104545178"
---
# <a name="authoring-a-conditional-please-wait-message-box"></a><span data-ttu-id="99140-106">Создание условного выражения "Подождите..." Окно сообщения</span><span class="sxs-lookup"><span data-stu-id="99140-106">Authoring a Conditional "Please Wait..." Message Box</span></span>

<span data-ttu-id="99140-107">В следующем примере показано, как создать условное окно сообщения, которое открывается и предупреждает пользователя о том, что фоновая задача все еще выполняется, когда пользователь активирует отображаемый элемент управления преждевременно.</span><span class="sxs-lookup"><span data-stu-id="99140-107">The following example illustrates how to author a conditional message box that pops up and warns the user that a background task is still running whenever the user activates a displayed control prematurely.</span></span>

<span data-ttu-id="99140-108">В примере также показано, как [Спавнваитдиалог таблице ControlEvent событие](spawnwaitdialog-controlevent.md) можно использовать для защиты элемента управления, запускающего действие, зависящее от завершения фоновой задачи.</span><span class="sxs-lookup"><span data-stu-id="99140-108">The example also illustrates how the [SpawnWaitDialog ControlEvent](spawnwaitdialog-controlevent.md) can generally be used to protect a control that triggers an action dependent upon the completion of a background task.</span></span>

<span data-ttu-id="99140-109">В этом примере для пользователя в процессе установки отображается [диалоговое окно выбора](selection-dialog.md) , содержащее три элемента управления "Кнопка" с меткой " **установить сейчас**", " **Далее**" и " **Стоимость диска** ".</span><span class="sxs-lookup"><span data-stu-id="99140-109">In this example, a [Selection Dialog](selection-dialog.md) containing three push button controls labeled **Install Now**, **Next**, and **Disk Cost** is displayed to the user during the installation process.</span></span> <span data-ttu-id="99140-110">Однако при отображении этого диалогового окна установщик также выполняет задачу по затратам на место на диске в фоновом режиме.</span><span class="sxs-lookup"><span data-stu-id="99140-110">However, the installer also carries out a disk space costing task in the background while displaying this dialog box.</span></span> <span data-ttu-id="99140-111">Автор хочет защитить эти кнопки от активации и хочет создать окно сообщения "Подождите", если пользователь нажмет любую кнопку до завершения учета.</span><span class="sxs-lookup"><span data-stu-id="99140-111">The author wishes to protect these buttons from activation and wants a "Please wait" message box to pop up if the user clicks any of the buttons before the costing has completed.</span></span> <span data-ttu-id="99140-112">Автор также хочет, чтобы это окно сообщения содержало кнопку **Отмена** и исчезало сразу после завершения фоновой задачи.</span><span class="sxs-lookup"><span data-stu-id="99140-112">The author also wants this message box to contain a **Cancel** button and to disappear as soon as the background task is finished.</span></span>

<span data-ttu-id="99140-113">**Отображение диалогового окна с запросом на ожидание завершения фонового расхода дискового пространства**</span><span class="sxs-lookup"><span data-stu-id="99140-113">**To display a dialog box asking the user to wait while background disk costing is completed**</span></span>

1.  <span data-ttu-id="99140-114">Используйте возможности установщика, чтобы добавить в [диалоговую таблицу](dialog-table.md)новое модальное диалоговое окно с именем **ваитфоркостинг**.</span><span class="sxs-lookup"><span data-stu-id="99140-114">Use the authoring capabilities of the installer to add a new modal dialog box, named **WaitForCosting**, into the [Dialog table](dialog-table.md).</span></span> <span data-ttu-id="99140-115">В диалоговом окне должна отобразиться текстовая строка с текстом "Подождите, пока закончится стоимость места на диске".</span><span class="sxs-lookup"><span data-stu-id="99140-115">The dialog box should display a text string that says "Please wait while disk space costing is completed."</span></span>
2.  <span data-ttu-id="99140-116">Добавьте один элемент управления "Кнопка отправки" в это диалоговое окно с меткой **Отмена**, разработав его в [таблице элементов управления](control-table.md).</span><span class="sxs-lookup"><span data-stu-id="99140-116">Add a single push button control to this dialog box, labeled **Cancel**, by authoring it into the [Control table](control-table.md).</span></span>
3.  <span data-ttu-id="99140-117">Свяжите кнопку **Отмена** отправки с таблице ControlEvent событие, который закрывает диалоговое окно **ваитфоркостинг** , путем создания в [таблице таблице ControlEvent событие](controlevent-table.md)соединения [EndDialog таблице ControlEvent событие](enddialog-controlevent.md) .</span><span class="sxs-lookup"><span data-stu-id="99140-117">Link the **Cancel** push button to a ControlEvent that closes the **WaitForCosting** dialog box by authoring an [EndDialog ControlEvent](enddialog-controlevent.md) into the [ControlEvent table](controlevent-table.md).</span></span> <span data-ttu-id="99140-118">Задайте для аргумента события элемента управления EndDialog значение Exit.</span><span class="sxs-lookup"><span data-stu-id="99140-118">Set the argument of the EndDialog Control event to be Exit.</span></span>
4.  <span data-ttu-id="99140-119">Свяжите [Спавнваитдиалог таблице ControlEvent событие](spawnwaitdialog-controlevent.md) с существующими кнопками " **установить сейчас**", " **Далее**" и " **затраты на диск** ", которые отображаются в [диалоговом окне "Выбор](selection-dialog.md) ".</span><span class="sxs-lookup"><span data-stu-id="99140-119">Link a [SpawnWaitDialog ControlEvent](spawnwaitdialog-controlevent.md) to the existing **Install Now**, **Next**, and **Disk Cost** push button controls displayed in the [Selection Dialog](selection-dialog.md) box.</span></span> <span data-ttu-id="99140-120">Задайте аргумент этого таблице ControlEvent событие в таблице таблице ControlEvent событие в виде диалогового окна **ваитфоркостинг** и задайте выражение в столбце Условие таблицы: [**костингкомплете**](costingcomplete.md) = 1.</span><span class="sxs-lookup"><span data-stu-id="99140-120">Set the argument of this ControlEvent in the ControlEvent table to be the **WaitForCosting** dialog box and set the expression in the Condition column of the table to be: [**CostingComplete**](costingcomplete.md) =1.</span></span>

 

 



