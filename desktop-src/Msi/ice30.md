---
description: ICE30 проверяет, что установка компонентов, содержащих один и тот же файл, никогда не устанавливала файл более одного раза в одном каталоге.
ms.assetid: 74cb455b-a53e-4c6b-98ff-08cf0858f11f
title: ICE30
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 78fa96899231015d864e5a0912b8ff73cedbbe75
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "105663664"
---
# <a name="ice30"></a>ICE30

ICE30 проверяет, что установка компонентов, содержащих один и тот же файл, никогда не устанавливала файл более одного раза в одном каталоге.

ICE30 переходит к каждому компоненту в [таблице Component](component-table.md) , а затем определяет целевой каталог компонента из [таблицы Directory](directory-table.md). Затем он проверяет, какие из этих компонентов устанавливаются в один и тот же целевой каталог. Наконец, он использует [таблицу File](file-table.md) для проверки того, что ни один из файлов в этих компонентах не имеет такого же имени.

ICE30 проверяет длинные имена файлов (ЛФН) и короткие имена файлов (СФН).

ICE30 не вычисляет свойства в разрешении каталогов, так как эти свойства могут изменяться во время выполнения и изменять схему разрешения каталогов. Это означает, что ICE30 может обнаруживать конфликты файлов из-за наличия каталогов с тем же свойством в путях, но не обнаруживает конфликты, вызванные двумя свойствами с одинаковым значением.

## <a name="result"></a>Результат

ICE30 отправляет сообщение об ошибке для каждой пары компонентов, которая устанавливает один и тот же файл в тот же каталог.

## <a name="example"></a>Пример

Приведенный пример возвращает два следующих ошибки дважды.



| Ошибка или предупреждение ICE30                                                                                                                                                                                                                                                                    | Описание                                                                                                                                                                                                                                                                                                                                                                                                                                    |
|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Ошибка: целевой файл README. 1st установлен в "TARGETDIR \\ Product" двумя различными компонентами в системе СФН: "Component1" и "Component2". Это приводит к разрыву подсчета ссылок на компоненты.                                                                                           | Component1 и Component2 имеют файл с именем "РЕАДЕМЕ. 1st". При использовании коротких имен файлов установщик устанавливает Dir1 и Dir2 в один каталог, TARGETDIR \\ Product.<br/> ICE30 создает две ошибки — по одной для каждого файла. В среде разработки, отображающей расположения ошибок, первая ошибка находится в записи файла в [таблице File](file-table.md), а вторая — в расположении другого файла.<br/> |
| ОШИБКА. Установка условного компонента приведет к установке целевого файла README. 1st в " \\ Общие средства TARGETDIR" двумя разными компонентами в системе лфн: "Component3" и "Component4". Это приведет к нарушению подсчета ссылок на компоненты.                      | Component4 содержит запись в столбце Condition [таблицы Component](component-table.md) , а Component3 — нет. Если [**версионнт**](versionnt.md) имеет значение true, устанавливается Component4 и возникает конфликт с файлом readme. первый всегда установлен с помощью Component3.<br/> ICE30 создает 4 ошибки, одну пару для СФН, одну для ЛФН.<br/>                                                                                            |
| ВНИМАНИЕ! целевой файл "README. 1st" может быть установлен в " \\ Общие средства TARGETDIR" двумя различными условными компонентами в системе СФН: "Component4" и "Component5". Если условия не являются взаимоисключающими, это приведет к нарушению системы подсчета ссылок на компоненты. | Так как Component4 и Component5 содержат записи в столбце Condition [таблицы Component](component-table.md) , этот конфликт файлов может не произойти. ICE30 отправляет только предупреждение, так как условия должны быть определены во время установки.<br/> ICE30 создает 4 предупреждения, одну пару для СФН, одну для ЛФН.<br/>                                                                                            |



 

[Таблица Component](component-table.md) (частичная)



| Компонент  | Каталог | Условие |
|------------|-----------|-----------|
| Component1 | Dir1      |           |
| Component2 | Dir2      |           |
| Component3 | Dir3      |           |
| Component4 | Dir3      | VersionNT |
| Component5 | Dir3      | Version9X |



 

[Таблица каталога](directory-table.md)



| Каталог | Родительский \_ Каталог | дефаултдир                    |
|-----------|-------------------|-------------------------------|
| SOURCEDIR |                   | TARGETDIR                     |
| Dir1      | SOURCEDIR         | \|Продукт Component1 продукта:. |
| Dir2      | SOURCEDIR         | Продукт:.                     |
| Dir3      | SOURCEDIR         | Распространенные \| Общие средства:         |



 

[Таблица файлов](file-table.md) (частичная)



| Файл  | Компонент\_ | FileName   |
|-------|-------------|------------|
| Файл1 | Component1  | ФАЙЛ README. 1 |
| Файл2 | Component2  | ФАЙЛ README. 1 |
| Файл3 | Component3  | ФАЙЛ README. 1 |
| Файл4 | Component4  | ФАЙЛ README. 1 |
| Файл5 | Component5  | ФАЙЛ README. 1 |



 

## <a name="related-topics"></a>См. также

<dl> <dt>

[Справочник по ICE](ice-reference.md)
</dt> </dl>

 

 




