---
description: UpgradeCode в основном используется для поддержки основных обновлений, хотя небольшие и небольшие исправления обновления могут использовать UpgradeCode для проверки продукта.
ms.assetid: de62bb80-56a0-4652-9509-5d36ed171c69
title: Использование UpgradeCode
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: caf32d40364653527b9f906e6dd42de64bb9f697
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "103908999"
---
# <a name="using-an-upgradecode"></a><span data-ttu-id="ab7f7-103">Использование UpgradeCode</span><span class="sxs-lookup"><span data-stu-id="ab7f7-103">Using an UpgradeCode</span></span>

<span data-ttu-id="ab7f7-104">[**UpgradeCode**](upgradecode.md) в основном используется для поддержки основных обновлений, хотя небольшие и небольшие исправления обновления могут использовать **UpgradeCode** для проверки продукта.</span><span class="sxs-lookup"><span data-stu-id="ab7f7-104">The [**UpgradeCode**](upgradecode.md) is primarily used for supporting major upgrades, although small and minor upgrade patches may use the **UpgradeCode** for product validation.</span></span> <span data-ttu-id="ab7f7-105">Во время основных обновлений действия [финдрелатедпродуктс](findrelatedproducts-action.md), [мигратефеатурестатес](migratefeaturestates-action.md)и [RemoveExistingProducts](removeexistingproducts-action.md) обнаруживают, переносят и удаляют предыдущие версии продукта.</span><span class="sxs-lookup"><span data-stu-id="ab7f7-105">During major upgrades, the [FindRelatedProducts](findrelatedproducts-action.md), [MigrateFeatureStates](migratefeaturestates-action.md), and [RemoveExistingProducts](removeexistingproducts-action.md) actions detect, migrate, and remove previous versions of the product.</span></span> <span data-ttu-id="ab7f7-106">Действие Финдрелатедпродуктс выполняет поиск продуктов по критериям, основанным на **UpgradeCode**, [**продуктлангуаже**](productlanguage.md)и [**ProductVersion**](productversion.md).</span><span class="sxs-lookup"><span data-stu-id="ab7f7-106">The FindRelatedProducts action searches for products using criteria based upon the **UpgradeCode**, [**ProductLanguage**](productlanguage.md), and [**ProductVersion**](productversion.md).</span></span> <span data-ttu-id="ab7f7-107">Эти критерии указываются в таблице [Обновление](upgrade-table.md) .</span><span class="sxs-lookup"><span data-stu-id="ab7f7-107">These criteria are specified in the [Upgrade](upgrade-table.md) table.</span></span>

<span data-ttu-id="ab7f7-108">Учитывая критерии, используемые действием [финдрелатедпродуктс](findrelatedproducts-action.md) , значение [**UpgradeCode**](upgradecode.md) может быть одинаковым для разных языков и версий одного продукта.</span><span class="sxs-lookup"><span data-stu-id="ab7f7-108">Given the criteria used by the [FindRelatedProducts](findrelatedproducts-action.md) action, the [**UpgradeCode**](upgradecode.md) can be the same for different languages and versions of a single product.</span></span> <span data-ttu-id="ab7f7-109">Это обусловлено тем, что таблица [обновления](upgrade-table.md) позволяет различать продукты по строкам версий и языков.</span><span class="sxs-lookup"><span data-stu-id="ab7f7-109">This is because the [Upgrade](upgrade-table.md) table allows for differentiating between products along version and language lines.</span></span>

<span data-ttu-id="ab7f7-110">В разных версиях одного и того же продукта может потребоваться не изменять [**UpgradeCode**](upgradecode.md).</span><span class="sxs-lookup"><span data-stu-id="ab7f7-110">Across different versions of the same product, you may never need to change the [**UpgradeCode**](upgradecode.md).</span></span> <span data-ttu-id="ab7f7-111">У каждого изолированного продукта должно быть собственное свойство **UpgradeCode**.</span><span class="sxs-lookup"><span data-stu-id="ab7f7-111">Each stand-alone product should have its own **UpgradeCode**.</span></span> <span data-ttu-id="ab7f7-112">Набор продуктов также должен иметь собственное значение **UpgradeCode**.</span><span class="sxs-lookup"><span data-stu-id="ab7f7-112">A product suite should also have its own **UpgradeCode**.</span></span> <span data-ttu-id="ab7f7-113">Это позволит пакету обновить предыдущие версии набора или отдельных продуктов, используя несколько строк в [таблице обновления](upgrade-table.md).</span><span class="sxs-lookup"><span data-stu-id="ab7f7-113">Doing so will allow the suite to upgrade previous versions of the suite or stand-alone products by using multiple rows in the [Upgrade table](upgrade-table.md).</span></span>

<span data-ttu-id="ab7f7-114">В следующих двух сценариях показано использование [**UpgradeCode**](upgradecode.md).</span><span class="sxs-lookup"><span data-stu-id="ab7f7-114">The following two scenarios illustrate the use of the [**UpgradeCode**](upgradecode.md).</span></span>

-   <span data-ttu-id="ab7f7-115">Продукт а и продукт B были доставлены с одинаковыми [**продуктлангуаже**](productlanguage.md), [**ProductVersion**](productversion.md)и [**UpgradeCode**](upgradecode.md).</span><span class="sxs-lookup"><span data-stu-id="ab7f7-115">Product A and Product B were shipped with the same [**ProductLanguage**](productlanguage.md), [**ProductVersion**](productversion.md), and [**UpgradeCode**](upgradecode.md).</span></span> <span data-ttu-id="ab7f7-116">Продукт а и продукт B имеют разные [**продукткодес**](productcode.md).</span><span class="sxs-lookup"><span data-stu-id="ab7f7-116">Product A and Product B have different [**ProductCodes**](productcode.md).</span></span> <span data-ttu-id="ab7f7-117">Так как продукты были назначены одним и тем же состоянием **UpgradeCode**, невозможно создать таблицу [обновления](upgrade-table.md) , чтобы отличать старую версию продукта от старой версии продукта B. В этом случае вы не сможете установить обновление продукта A, который игнорирует продукт B. Так как это были различные продукты, им должны быть назначены разные значения **UpgradeCode**.</span><span class="sxs-lookup"><span data-stu-id="ab7f7-117">Because the products were assigned the same **UpgradeCode**, the [Upgrade](upgrade-table.md) table cannot be authored to differentiate the older version of Product A from the older version of Product B. In this case, you will be unable to have an upgrade installation of Product A that ignores Product B. Because these were different products, they should have each been assigned a different **UpgradeCode**.</span></span>
-   <span data-ttu-id="ab7f7-118">Английская и французская версии продукта A были отгружены с одинаковыми [**ProductVersion**](productversion.md) и [**UpgradeCode**](upgradecode.md).</span><span class="sxs-lookup"><span data-stu-id="ab7f7-118">The English and French versions of Product A were shipped with the same [**ProductVersion**](productversion.md) and [**UpgradeCode**](upgradecode.md).</span></span> <span data-ttu-id="ab7f7-119">И английская, и французская версии продукта A имеют разные [**продуктлангуажес**](productlanguage.md) и [**продукткодес**](productcode.md).</span><span class="sxs-lookup"><span data-stu-id="ab7f7-119">Both the English and French versions of Product A have different [**ProductLanguages**](productlanguage.md) and [**ProductCodes**](productcode.md).</span></span> <span data-ttu-id="ab7f7-120">Хотя версии на английском и французском языках имеют одно и то же значение **UpgradeCode**, можно создать таблицу [обновления](upgrade-table.md) таким же, чтобы была обнаружена и обновлена только старая версия английского языка, а старая версия на французском языке игнорировалась.</span><span class="sxs-lookup"><span data-stu-id="ab7f7-120">Even though both the English and French language versions share the same **UpgradeCode**, it is possible to author the [Upgrade](upgrade-table.md) table such that only the older English language version will be detected and upgraded and the older French version ignored.</span></span> <span data-ttu-id="ab7f7-121">Разные языковые версии продукта могут использовать одно и то же значение **UpgradeCode**.</span><span class="sxs-lookup"><span data-stu-id="ab7f7-121">Different language versions of a product can use the same **UpgradeCode**.</span></span>

 

 



