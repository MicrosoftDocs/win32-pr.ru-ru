---
description: Таблица обновления содержит сведения, необходимые при значительных обновлениях.
ms.assetid: f5fda405-8a09-495e-aa8c-b808a2f02b0f
title: Обновление таблицы
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 6b48ce49f0f931209ccf472cd74b352c270353a2
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "104348962"
---
# <a name="upgrade-table"></a>Обновление таблицы

Таблица обновления содержит сведения, необходимые при [значительных обновлениях](major-upgrades.md). Чтобы полностью включить возможности обновления установщика, каждый пакет должен иметь свойство [**UpgradeCode**](upgradecode.md) и таблицу обновления. Каждая запись в таблице обновления предоставляет сочетание характеристик кода обновления, версии продукта и языковой информации, используемой для указания набора продуктов, затрагиваемых обновлением. Когда действие [финдрелатедпродуктс](findrelatedproducts-action.md) обнаруживает затронутый продукт, установленный в системе, он добавляет код продукта к свойству, указанному в столбце актионпроперти. Действие [RemoveExistingProducts](removeexistingproducts-action.md) и действие [мигратефеатурестатес](migratefeaturestates-action.md) удаляют или переносят только продукты, перечисленные в столбце актионпроперти.

Таблица обновления содержит столбцы, показанные в следующей таблице.



| Столбец         | Type                         | Ключ | Допускает значения NULL |
|----------------|------------------------------|-----|----------|
| UpgradeCode    | [GUID](guid.md)             | Да   | Нет        |
| версионмин     | [Text](text.md)             | Да   | Да        |
| версионмакс     | [Text](text.md)             | Да   | Да        |
| Язык       | [Text](text.md)             | Да   | Да        |
| Атрибуты     | [Integer](integer.md)       | Да   | Нет        |
| Удалить         | [Формате](formatted.md)   | Нет   | Да        |
| актионпроперти | [Идентификатор](identifier.md) | Нет   | Нет        |



 

## <a name="columns"></a>Столбцы

<dl> <dt>

<span id="UpgradeCode"></span><span id="upgradecode"></span><span id="UPGRADECODE"></span>UpgradeCode
</dt> <dd>

Свойство [UpgradeCode](upgradecode.md) в этом столбце указывает код обновления всех продуктов, которые должны быть обнаружены действием [финдрелатедпродуктс](findrelatedproducts-action.md) .

</dd> <dt>

<span id="VersionMin"></span><span id="versionmin"></span><span id="VERSIONMIN"></span>версионмин
</dt> <dd>

Нижняя граница диапазона версий продукта, обнаруженных [финдрелатедпродуктс](findrelatedproducts-action.md). Введите **мсидбупградеаттрибутесверсионмининклусиве** в атрибутах, чтобы включить версионмин в диапазон. Если Версионмин равно пустой строке (""), она вычисляется так же, как 0. Если Версионмин имеет значение null, Финдрелатедпродуктс игнорирует **мсидбупградеаттрибутесверсионмининклусиве** и обнаруживает все предыдущие версии. Версионмин и Версионмакс не должны одновременно иметь значение null.

Версионмин должна быть допустимой версией продукта, как описано в свойстве [**ProductVersion**](productversion.md) . Обратите внимание, что установщик Windows использует только первые три поля версии продукта. Если включить в версию продукта четвертое поле, установщик игнорирует четвертое поле.

</dd> <dt>

<span id="VersionMax"></span><span id="versionmax"></span><span id="VERSIONMAX"></span>версионмакс
</dt> <dd>

Верхняя граница диапазона версий продукта, обнаруженных действием [финдрелатедпродуктс](findrelatedproducts-action.md) . Введите **мсидбупградеаттрибутесверсионмаксинклусиве** в атрибутах, чтобы включить версионмакс в диапазон. Если Версионмакс является пустой строкой (""), она вычисляется так же, как 0. Если Версионмакс имеет значение null, Финдрелатедпродуктс игнорирует **мсидбупградеаттрибутесверсионмаксинклусиве** и обнаруживает все версии продукта больше (или больше или равно) нижней границы, заданной Версионмин и **msidbUpgradeAttributesVersionMinInclusive**. Версионмин и Версионмакс не должны одновременно иметь значение null.

Версионмакс должна быть допустимой версией продукта, как описано в свойстве [**ProductVersion**](productversion.md) . Обратите внимание, что установщик Windows использует только первые три поля версии продукта. Если включить в версию продукта четвертое поле, установщик игнорирует четвертое поле.

</dd> <dt>

<span id="Language"></span><span id="language"></span><span id="LANGUAGE"></span>Языке
</dt> <dd>

Набор языков, обнаруженных [финдрелатедпродуктс](findrelatedproducts-action.md). Введите список числовых идентификаторов языка (LANGID), разделенных запятыми. Введите **мсидбупградеаттрибутеслангуажесексклусиве** в атрибутах для обнаружения всех языков, исключающих указанные в списке язык. Если Language имеет значение null или является пустой строкой (""), Финдрелатедпродуктс игнорирует **мсидбупградеаттрибутеслангуажесексклусиве** и обнаруживает все языки.

</dd> <dt>

<span id="Attributes"></span><span id="attributes"></span><span id="ATTRIBUTES"></span>Атрибута
</dt> <dd>

Этот столбец содержит битовые флаги, указывающие атрибуты таблицы обновления.



| Имя битового флага                                 | Decimal | Шестнадцатеричный | attribute                                                                                                            |
|-----------------------------------------------|---------|-------------|----------------------------------------------------------------------------------------------------------------------|
| **мсидбупградеаттрибутесмигратефеатурес**     | 1       | 0x001       | Переносит состояния компонентов, включив логику в действии [мигратефеатурестатес](migratefeaturestates-action.md) . |
| **мсидбупградеаттрибутесонлидетект**          | 2       | 0x002       | Обнаруживает продукты и приложения, но не удаляет их.                                                               |
| **мсидбупградеаттрибутесигнореремовефаилуре** | 4       | 0x004       | Продолжит установку после сбоя, чтобы удалить продукт или приложение.                                              |
| **мсидбупградеаттрибутесверсионмининклусиве** | 256     | 0x100       | Определяет диапазон версий, включая значение в Версионмин.                                                     |
| **мсидбупградеаттрибутесверсионмаксинклусиве** | 512     | 0x200       | Определяет диапазон версий, включая значение в Версионмакс.                                                     |
| **мсидбупградеаттрибутеслангуажесексклусиве**  | 1024    | 0x400       | Обнаруживает все языки, за исключением языков, перечисленных в столбце Language.                                        |



 

</dd> <dt>

<span id="Remove"></span><span id="remove"></span><span id="REMOVE"></span>Отменит
</dt> <dd>

Установщик устанавливает свойство [**Remove**](remove.md) в функции, указанные в этом столбце. Удаляемые компоненты можно определить во время выполнения. В [форматированной](formatted.md) строке, указанной в этом поле, должен быть список имен компонентов, разделенных запятыми. Например: \[ Feature1 \] , \[ Feature2 \] , \[ Feature3 \] . Никакие компоненты не удаляются, если поле содержит форматированный текст, результатом вычисления которого является пустая строка (""). Установщик задает параметр Remove = ALL только в том случае, если поле удалить пустое. Обратите внимание на разницу между пустой строкой и пустым полем. Если поле пустое, оно имеет значение null.

</dd> <dt>

<span id="ActionProperty"></span><span id="actionproperty"></span><span id="ACTIONPROPERTY"></span>актионпроперти
</dt> <dd>

Когда действие [финдрелатедпродуктс](findrelatedproducts-action.md) обнаруживает связанный продукт, установленный в системе, он добавляет код продукта к свойству, указанному в этом поле. Свойство, указанное в этом столбце, должно быть общедоступным свойством, и автор пакета должен добавить свойство в свойство [**секурекустомпропертиес**](securecustomproperties.md) . Каждая строка в таблице обновления должна иметь уникальное значение Актионпроперти. После Финдрелатедпродуктс значение этого свойства представляет собой список кодов продуктов, разделенных точкой с запятой (;), обнаруженных в системе.

</dd> </dl>

## <a name="validation"></a>Проверка

<dl>

[ICE03](ice03.md)  
[ICE06](ice06.md)  
[ICE46](ice46.md)  
[ICE61](ice61.md)  
[ICE66](ice66.md)  
</dl>

 

 



