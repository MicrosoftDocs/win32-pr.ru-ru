---
description: Авторы пакетов установки должны содержать сведения об обновлении в файлах MSI, чтобы гарантировать, что их установочный пакет сможет воспользоваться всеми возможностями обновления, доступными в Microsoft установщик Windows.
ms.assetid: 88bb2709-a1bf-4140-a145-ae6bee85dde1
title: Подготовка приложения к будущим основным обновлениям
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: c1e0dc9ccbee10becc39274e91d2fedeb3707028
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "105650693"
---
# <a name="preparing-an-application-for-future-major-upgrades"></a>Подготовка приложения к будущим основным обновлениям

Авторы пакетов установки должны содержать сведения об обновлении в файлах MSI, чтобы гарантировать, что их установочный пакет сможет воспользоваться всеми возможностями обновления, доступными в Microsoft установщик Windows.

Каждому приложению или набору приложений должно быть присвоено свойство [**UpgradeCode**](upgradecode.md) , свойство [**ProductVersion**](productversion.md) и свойство [**продуктлангуаже**](productlanguage.md) . Свойство [**UpgradeCode**](upgradecode.md) указывает семейство связанных приложений, состоящих из разных версий и разных языковых версий одного и того же продукта. Дополнительные сведения об использовании свойства [**UpgradeCode**](upgradecode.md) см. в разделе [Использование UpgradeCode](using-an-upgradecode.md).

**Подготовка приложения к будущим основным обновлениям**

1.  Определите новое значение кода пакета для приложения. Дополнительные сведения о кодах пакетов см. в разделе [коды пакетов](package-codes.md). Введите новый код пакета в свойство [**Сводка номера редакции**](revision-number-summary.md) [информационного потока сводки](summary-information-stream.md).
2.  Определите новое свойство [**ProductCode**](productcode.md) для приложения. Дополнительные сведения см. [в разделе изменение кода продукта](changing-the-product-code.md) . Введите [**ProductCode**](productcode.md) и его значение в [таблицу свойств](property-table.md).
3.  Определите версию приложения и свойство [**ProductVersion**](productversion.md) . [**ProductVersion**](productversion.md) должно увеличиваться при каждой новой версии приложения. Обратите внимание, что установщик использует только первые три поля версии продукта. Если включить в версию продукта четвертое поле, установщик игнорирует четвертое поле. Введите [**ProductVersion**](productversion.md) и его значение в таблицу свойств.
4.  Определите язык пакета и свойство [**продуктлангуаже**](productlanguage.md) . Значение этого свойства должно быть числовым идентификатором языка (LANGID). Введите [**продуктлангуаже**](productlanguage.md) и его значение в [таблицу свойств](property-table.md). Обратите внимание, что [действие финдрелатедпродуктс](findrelatedproducts-action.md) использует язык, возвращенный [**мсижетпродуктинфо**](/windows/desktop/api/Msi/nf-msi-msigetproductinfoa). Чтобы Финдрелатедпродуктс правильно работать, автор пакета должен убедиться, что свойство [**продуктлангуаже**](productlanguage.md) в таблице свойств задано на языке, который также указан в свойстве [**сводки шаблона**](template-summary.md) .
5.  При создании пакета установки для первой версии продукта используйте новое значение [**UpgradeCode**](upgradecode.md). Если пакет предназначен для более новой версии существующего продукта или совпадает с версией существующего продукта на другом языке, используйте тот же параметр [**UpgradeCode**](upgradecode.md) , что и у существующего продукта. Никакие два продукта с одинаковыми [**ProductVersion**](productversion.md) и [**продуктлангуаже**](productlanguage.md) могут иметь одно и то же значение [**UpgradeCode**](upgradecode.md), если только одно не является [небольшим обновлением](small-updates.md) другого.
6.  Значение [**UpgradeCode**](upgradecode.md) имеет формат [GUID](guid.md). Введите идентификатор GUID [**UpgradeCode**](upgradecode.md) в таблицу свойств.

Дополнительные сведения см. в разделе [предотвращение установки старого пакета в более новой версии](preventing-an-old-package-from-installing-over-a-newer-version.md).

 

 



