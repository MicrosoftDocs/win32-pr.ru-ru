---
description: Авторы пакетов установки должны содержать сведения об обновлении в файлах MSI, чтобы гарантировать, что их установочный пакет сможет воспользоваться всеми возможностями обновления, доступными в Microsoft установщик Windows.
ms.assetid: 88bb2709-a1bf-4140-a145-ae6bee85dde1
title: Подготовка приложения к будущим основным обновлениям
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: c1e0dc9ccbee10becc39274e91d2fedeb3707028
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "105650693"
---
# <a name="preparing-an-application-for-future-major-upgrades"></a><span data-ttu-id="15dd0-103">Подготовка приложения к будущим основным обновлениям</span><span class="sxs-lookup"><span data-stu-id="15dd0-103">Preparing an Application for Future Major Upgrades</span></span>

<span data-ttu-id="15dd0-104">Авторы пакетов установки должны содержать сведения об обновлении в файлах MSI, чтобы гарантировать, что их установочный пакет сможет воспользоваться всеми возможностями обновления, доступными в Microsoft установщик Windows.</span><span class="sxs-lookup"><span data-stu-id="15dd0-104">Authors of installation packages should include upgrading information in their .msi files to ensure that their installation package can take advantage of the full upgrading functionality available with the Microsoft Windows Installer.</span></span>

<span data-ttu-id="15dd0-105">Каждому приложению или набору приложений должно быть присвоено свойство [**UpgradeCode**](upgradecode.md) , свойство [**ProductVersion**](productversion.md) и свойство [**продуктлангуаже**](productlanguage.md) .</span><span class="sxs-lookup"><span data-stu-id="15dd0-105">Every application, or suite of applications, should be assigned an [**UpgradeCode**](upgradecode.md) Property, [**ProductVersion**](productversion.md) Property, and [**ProductLanguage**](productlanguage.md) Property.</span></span> <span data-ttu-id="15dd0-106">Свойство [**UpgradeCode**](upgradecode.md) указывает семейство связанных приложений, состоящих из разных версий и разных языковых версий одного и того же продукта.</span><span class="sxs-lookup"><span data-stu-id="15dd0-106">The [**UpgradeCode**](upgradecode.md) property indicates a family of related applications consisting of different versions and different language versions of the same product.</span></span> <span data-ttu-id="15dd0-107">Дополнительные сведения об использовании свойства [**UpgradeCode**](upgradecode.md) см. в разделе [Использование UpgradeCode](using-an-upgradecode.md).</span><span class="sxs-lookup"><span data-stu-id="15dd0-107">For more information about using the [**UpgradeCode**](upgradecode.md) property, see [Using an UpgradeCode](using-an-upgradecode.md).</span></span>

<span data-ttu-id="15dd0-108">**Подготовка приложения к будущим основным обновлениям**</span><span class="sxs-lookup"><span data-stu-id="15dd0-108">**Preparing an application for future major upgrades**</span></span>

1.  <span data-ttu-id="15dd0-109">Определите новое значение кода пакета для приложения.</span><span class="sxs-lookup"><span data-stu-id="15dd0-109">Determine a new package code value for the application.</span></span> <span data-ttu-id="15dd0-110">Дополнительные сведения о кодах пакетов см. в разделе [коды пакетов](package-codes.md).</span><span class="sxs-lookup"><span data-stu-id="15dd0-110">For more information about package codes, see [Package Codes](package-codes.md).</span></span> <span data-ttu-id="15dd0-111">Введите новый код пакета в свойство [**Сводка номера редакции**](revision-number-summary.md) [информационного потока сводки](summary-information-stream.md).</span><span class="sxs-lookup"><span data-stu-id="15dd0-111">Enter the new package code into the [**Revision Number Summary**](revision-number-summary.md) Property of the [Summary Information Stream](summary-information-stream.md).</span></span>
2.  <span data-ttu-id="15dd0-112">Определите новое свойство [**ProductCode**](productcode.md) для приложения.</span><span class="sxs-lookup"><span data-stu-id="15dd0-112">Determine a new [**ProductCode**](productcode.md) property for the application.</span></span> <span data-ttu-id="15dd0-113">Дополнительные сведения см. [в разделе изменение кода продукта](changing-the-product-code.md) .</span><span class="sxs-lookup"><span data-stu-id="15dd0-113">See [Changing the Product Code](changing-the-product-code.md) for more information.</span></span> <span data-ttu-id="15dd0-114">Введите [**ProductCode**](productcode.md) и его значение в [таблицу свойств](property-table.md).</span><span class="sxs-lookup"><span data-stu-id="15dd0-114">Enter [**ProductCode**](productcode.md) and its value into the [Property table](property-table.md).</span></span>
3.  <span data-ttu-id="15dd0-115">Определите версию приложения и свойство [**ProductVersion**](productversion.md) .</span><span class="sxs-lookup"><span data-stu-id="15dd0-115">Determine the application's version and the [**ProductVersion**](productversion.md) property.</span></span> <span data-ttu-id="15dd0-116">[**ProductVersion**](productversion.md) должно увеличиваться при каждой новой версии приложения.</span><span class="sxs-lookup"><span data-stu-id="15dd0-116">The [**ProductVersion**](productversion.md) should increase with each new version of the application.</span></span> <span data-ttu-id="15dd0-117">Обратите внимание, что установщик использует только первые три поля версии продукта.</span><span class="sxs-lookup"><span data-stu-id="15dd0-117">Note that the installer uses only the first three fields of the product version.</span></span> <span data-ttu-id="15dd0-118">Если включить в версию продукта четвертое поле, установщик игнорирует четвертое поле.</span><span class="sxs-lookup"><span data-stu-id="15dd0-118">If you include a fourth field in your product version, the installer ignores the fourth field.</span></span> <span data-ttu-id="15dd0-119">Введите [**ProductVersion**](productversion.md) и его значение в таблицу свойств.</span><span class="sxs-lookup"><span data-stu-id="15dd0-119">Enter [**ProductVersion**](productversion.md) and its value into the Property table.</span></span>
4.  <span data-ttu-id="15dd0-120">Определите язык пакета и свойство [**продуктлангуаже**](productlanguage.md) .</span><span class="sxs-lookup"><span data-stu-id="15dd0-120">Determine the language of the package and the [**ProductLanguage**](productlanguage.md) property.</span></span> <span data-ttu-id="15dd0-121">Значение этого свойства должно быть числовым идентификатором языка (LANGID).</span><span class="sxs-lookup"><span data-stu-id="15dd0-121">The value of this property must be a numeric language identifier (LANGID).</span></span> <span data-ttu-id="15dd0-122">Введите [**продуктлангуаже**](productlanguage.md) и его значение в [таблицу свойств](property-table.md).</span><span class="sxs-lookup"><span data-stu-id="15dd0-122">Enter [**ProductLanguage**](productlanguage.md) and its value into the [Property table](property-table.md).</span></span> <span data-ttu-id="15dd0-123">Обратите внимание, что [действие финдрелатедпродуктс](findrelatedproducts-action.md) использует язык, возвращенный [**мсижетпродуктинфо**](/windows/desktop/api/Msi/nf-msi-msigetproductinfoa).</span><span class="sxs-lookup"><span data-stu-id="15dd0-123">Note that the [FindRelatedProducts action](findrelatedproducts-action.md) uses the language returned by [**MsiGetProductInfo**](/windows/desktop/api/Msi/nf-msi-msigetproductinfoa).</span></span> <span data-ttu-id="15dd0-124">Чтобы Финдрелатедпродуктс правильно работать, автор пакета должен убедиться, что свойство [**продуктлангуаже**](productlanguage.md) в таблице свойств задано на языке, который также указан в свойстве [**сводки шаблона**](template-summary.md) .</span><span class="sxs-lookup"><span data-stu-id="15dd0-124">For FindRelatedProducts to work correctly, the package author must be sure that the [**ProductLanguage**](productlanguage.md) property is set in the Property table to a language that is also listed in the [**Template Summary**](template-summary.md) property.</span></span>
5.  <span data-ttu-id="15dd0-125">При создании пакета установки для первой версии продукта используйте новое значение [**UpgradeCode**](upgradecode.md).</span><span class="sxs-lookup"><span data-stu-id="15dd0-125">If you are authoring an installation package for the first version of your product, use a new [**UpgradeCode**](upgradecode.md).</span></span> <span data-ttu-id="15dd0-126">Если пакет предназначен для более новой версии существующего продукта или совпадает с версией существующего продукта на другом языке, используйте тот же параметр [**UpgradeCode**](upgradecode.md) , что и у существующего продукта.</span><span class="sxs-lookup"><span data-stu-id="15dd0-126">If your package is intended for a newer version of an existing product, or is the same version as an existing product in a different language, use the same [**UpgradeCode**](upgradecode.md) as the existing product.</span></span> <span data-ttu-id="15dd0-127">Никакие два продукта с одинаковыми [**ProductVersion**](productversion.md) и [**продуктлангуаже**](productlanguage.md) могут иметь одно и то же значение [**UpgradeCode**](upgradecode.md), если только одно не является [небольшим обновлением](small-updates.md) другого.</span><span class="sxs-lookup"><span data-stu-id="15dd0-127">No two products with the same [**ProductVersion**](productversion.md) and the same [**ProductLanguage**](productlanguage.md) can have the same [**UpgradeCode**](upgradecode.md), unless one is a [small update](small-updates.md) of the other.</span></span>
6.  <span data-ttu-id="15dd0-128">Значение [**UpgradeCode**](upgradecode.md) имеет формат [GUID](guid.md).</span><span class="sxs-lookup"><span data-stu-id="15dd0-128">The [**UpgradeCode**](upgradecode.md) has the format of a [GUID](guid.md).</span></span> <span data-ttu-id="15dd0-129">Введите идентификатор GUID [**UpgradeCode**](upgradecode.md) в таблицу свойств.</span><span class="sxs-lookup"><span data-stu-id="15dd0-129">Enter the [**UpgradeCode**](upgradecode.md) GUID into the Property table.</span></span>

<span data-ttu-id="15dd0-130">Дополнительные сведения см. в разделе [предотвращение установки старого пакета в более новой версии](preventing-an-old-package-from-installing-over-a-newer-version.md).</span><span class="sxs-lookup"><span data-stu-id="15dd0-130">For more information, see [Preventing an Old Package from Installing Over a Newer Version](preventing-an-old-package-from-installing-over-a-newer-version.md).</span></span>

 

 



