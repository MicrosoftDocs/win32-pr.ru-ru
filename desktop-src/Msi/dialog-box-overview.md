---
description: Процесс создания диалогового окна в установщик Windows похож на процесс создания диалогового окна программным способом с помощью шаблона диалогового окна Microsoft Windows API.
ms.assetid: c46f6b7b-e78c-4dd8-a4ff-7da5465391f9
title: Общие сведения о диалоговом окне
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 884c85f06bc06588084311aee370700d5b2a5290
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "104346335"
---
# <a name="dialog-box-overview"></a><span data-ttu-id="c886f-103">Общие сведения о диалоговом окне</span><span class="sxs-lookup"><span data-stu-id="c886f-103">Dialog Box Overview</span></span>

<span data-ttu-id="c886f-104">Процесс создания диалогового окна в установщик Windows похож на процесс создания диалогового окна программным способом с помощью шаблона диалогового окна Microsoft Windows API.</span><span class="sxs-lookup"><span data-stu-id="c886f-104">The process of creating a dialog box in Windows Installer is similar to the process of creating a dialog box programmatically using a Microsoft Windows API dialog box template.</span></span> <span data-ttu-id="c886f-105">Хотя шаблон диалогового окна Windows хранится в символьной строке, завершающейся нулем, установщик Windows сохраняет параметры диалогового окна в таблице диалоговых окон.</span><span class="sxs-lookup"><span data-stu-id="c886f-105">While a Windows dialog box template is stored in a null terminated–character string, Windows Installer stores the dialog box parameters in the Dialog table.</span></span> <span data-ttu-id="c886f-106">Диалоговая таблица содержит столбец Attributes, аналогичный стилям окна в API интерфейса пользователя Microsoft Windows.</span><span class="sxs-lookup"><span data-stu-id="c886f-106">The Dialog table contains an attributes column that is analogous to Window styles in the Microsoft Windows user interface API.</span></span> <span data-ttu-id="c886f-107">Однако число битов стиля диалогового окна в установщик Windows является сокращенным и специализированным набором.</span><span class="sxs-lookup"><span data-stu-id="c886f-107">However, the number of dialog style bits in Windows Installer is a reduced and specialized set.</span></span>

<span data-ttu-id="c886f-108">Чтобы физически создать диалоговое окно с помощью API пользовательского интерфейса Windows, [**диалогбокс**](/windows/win32/api/winuser/nf-winuser-dialogboxa) вызывается и передает указатель на шаблон.</span><span class="sxs-lookup"><span data-stu-id="c886f-108">To physically create the dialog box using the Windows user interface API, [**DialogBox**](/windows/win32/api/winuser/nf-winuser-dialogboxa) is called and passes a pointer to the template.</span></span> <span data-ttu-id="c886f-109">В установщик Windows диалоговое окно создается во время выполнения одной из трех таблиц последовательности элементов пользовательского интерфейса.</span><span class="sxs-lookup"><span data-stu-id="c886f-109">In Windows Installer, the dialog box is created during execution of one of the three UI sequence tables.</span></span>

<span data-ttu-id="c886f-110">Установщик Windows не содержит пользовательский интерфейс по умолчанию, который авторы пакетов могут использовать для своих пакетов.</span><span class="sxs-lookup"><span data-stu-id="c886f-110">Windows Installer does not contain a default UI that package authors can utilize for their packages.</span></span> <span data-ttu-id="c886f-111">Он содержит ограниченный набор диалоговых окон по умолчанию, отображающих сообщения об ошибках и сообщений, но они отображаются только в том случае, если установщик Windows запрашивает диалоговое окно и таблицы последовательностей пользовательского интерфейса и находит недоступные настраиваемые диалоговые окна.</span><span class="sxs-lookup"><span data-stu-id="c886f-111">It does contain a limited set of default dialog boxes that display error and information messages, but these are displayed only if Windows Installer queries the Dialog and UI Sequence tables and finds there are no custom dialog boxes available.</span></span>

<span data-ttu-id="c886f-112">Пакет SDK для установщика содержит минимальную базу данных с именем Uisample.msi, содержащую заполненные таблицы пользовательского интерфейса и последовательности выполнения, а также полный пользовательский интерфейс.</span><span class="sxs-lookup"><span data-stu-id="c886f-112">The installer SDK includes a minimal database named Uisample.msi that contains populated UI and execution sequence tables and a complete UI.</span></span> <span data-ttu-id="c886f-113">Эту базу данных легко настроить и объединить в любой пакет.</span><span class="sxs-lookup"><span data-stu-id="c886f-113">This database is easily customized and merged on to any package.</span></span>

<span data-ttu-id="c886f-114">Некоторые стандартные действия и внутренние установщик Windows условия ошибок возвращают определенный набор данных пользовательского интерфейса, поэтому для их размещения требуется диалоговое окно с определенным набором элементов управления.</span><span class="sxs-lookup"><span data-stu-id="c886f-114">Some standard actions and internal Windows Installer error conditions return a specific set of UI data and therefore require a dialog box with a specific set of controls to accommodate that data.</span></span> <span data-ttu-id="c886f-115">Установщик Windows проверяет два отдельных расположения для идентификаторов этих диалоговых окон.</span><span class="sxs-lookup"><span data-stu-id="c886f-115">Windows Installer checks two separate locations for the identifiers for these dialog boxes.</span></span>

-   <span data-ttu-id="c886f-116">Установщик Windows содержит набор встроенных имен диалоговых окон.</span><span class="sxs-lookup"><span data-stu-id="c886f-116">Windows Installer contains a set of embedded dialog box names.</span></span> <span data-ttu-id="c886f-117">Настраиваемое действие запрашивает в таблице диалоговое окно для этих зарезервированных имен.</span><span class="sxs-lookup"><span data-stu-id="c886f-117">The custom action queries the Dialog table for these reserved names.</span></span>
-   <span data-ttu-id="c886f-118">В каждой из трех таблиц последовательности пользовательского интерфейса имена диалоговых окон с порядковым номером-1,-2 или-3 отображаются в ответ на выход, пользователь запрашивает выход и неустранимые сообщения об ошибках из установщик Windows.</span><span class="sxs-lookup"><span data-stu-id="c886f-118">In each of the three UI sequence tables, dialog names with a sequence number of -1,-2, or -3 are displayed in response to exit, user requested exit, and fatal error messages from Windows Installer.</span></span>

<span data-ttu-id="c886f-119">Полный список зарезервированных имен диалоговых окон первичного ключа доступен в [диалоговых окнах](dialog-boxes.md).</span><span class="sxs-lookup"><span data-stu-id="c886f-119">A complete list of reserved primary key dialog box names is available in [dialog boxes](dialog-boxes.md).</span></span> <span data-ttu-id="c886f-120">Обратите внимание, что имя диалогового окна первичного ключа зарезервировано только установщиком и не существует конкретной реализации диалогового окна в установщик Windows.</span><span class="sxs-lookup"><span data-stu-id="c886f-120">Note that the primary key dialog box name is only reserved by the installer and there is no specific implementation of the dialog box within Windows Installer.</span></span> <span data-ttu-id="c886f-121">Авторы пакетов по-прежнему должны заполнять все поля в базе данных, определяющие атрибуты и элементы управления этих зарезервированных диалоговых окон.</span><span class="sxs-lookup"><span data-stu-id="c886f-121">Package authors must still populate all the fields in the database that specify the attributes and controls of these reserved dialog boxes.</span></span>

 

 
