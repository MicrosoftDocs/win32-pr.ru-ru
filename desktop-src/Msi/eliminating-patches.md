---
description: Исправление, которое больше не следует использовать, можно исключить из последовательности исправлений.
ms.assetid: b1d499d9-4fd3-4996-84a1-c32acefbb98f
title: Устранение исправлений
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: a705ce5919ffd36e6fc860403e11db56c6df1592
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "105650646"
---
# <a name="eliminating-patches"></a><span data-ttu-id="b25d5-103">Устранение исправлений</span><span class="sxs-lookup"><span data-stu-id="b25d5-103">Eliminating Patches</span></span>

<span data-ttu-id="b25d5-104">Исправление, которое больше не следует использовать, можно исключить из последовательности исправлений.</span><span class="sxs-lookup"><span data-stu-id="b25d5-104">A patch that should no longer be used can be eliminated from the patching sequence.</span></span> <span data-ttu-id="b25d5-105">Это предотвращает применение исправления при исправлении целевого приложения.</span><span class="sxs-lookup"><span data-stu-id="b25d5-105">This prevents the patch from being applied when the target application is patched.</span></span> <span data-ttu-id="b25d5-106">Это отличается от удаления исправления, уже примененного к приложению.</span><span class="sxs-lookup"><span data-stu-id="b25d5-106">This is different than removing a patch that is already applied to an application.</span></span> <span data-ttu-id="b25d5-107">Сведения об удалении примененных исправлений см. в разделе [Удаление исправлений](removing-patches.md).</span><span class="sxs-lookup"><span data-stu-id="b25d5-107">For information about removing applied patches, see [Removing Patches](removing-patches.md).</span></span>

<span data-ttu-id="b25d5-108">\* \* Установщик Windows 3,0 и более поздних версий: \* \*</span><span class="sxs-lookup"><span data-stu-id="b25d5-108">\*\*Windows Installer 3.0 and later:  \*\*</span></span>

<span data-ttu-id="b25d5-109">Исправления, имеющие таблицу [мсипатчсекуенце](msipatchsequence-table.md) , могут использовать эту таблицу для устранения исправлений из последовательности исправлений.</span><span class="sxs-lookup"><span data-stu-id="b25d5-109">Patches that have the [MsiPatchSequence](msipatchsequence-table.md) table can use this table to eliminate patches from the patching sequence.</span></span> <span data-ttu-id="b25d5-110">Исправление может устранить исправления, которые предшествуют последовательности исправлений, и заменить данные этих исправлений собственными сведениями.</span><span class="sxs-lookup"><span data-stu-id="b25d5-110">A patch can eliminate patches that come before it in the patching sequence, and replace the information from those patches with its own information.</span></span> <span data-ttu-id="b25d5-111">Как исправление, указывающее, какие исправления следует устранить, а удаляемые исправления должны иметь таблицу Мсипатчсекуенце, содержащую сведения.</span><span class="sxs-lookup"><span data-stu-id="b25d5-111">Both the patch that specifies which patches to eliminate and the patches being eliminated must have a MsiPatchSequence table that contains information.</span></span>

<span data-ttu-id="b25d5-112">Если исправленные исправления и замена не имеют [мсипатчсекуенце](msipatchsequence-table.md) таблиц, пакет исправлений может указать список исправлений, которые следует исключить из последовательности исправлений в свойстве [**сводки номера редакции**](revision-number-summary.md) .</span><span class="sxs-lookup"><span data-stu-id="b25d5-112">If the eliminated patches and replacement patch do not have [MsiPatchSequence](msipatchsequence-table.md) tables, the patch package can specify a list of patches to be eliminated from the patching sequence in its [**Revision Number Summary**](revision-number-summary.md) property.</span></span> <span data-ttu-id="b25d5-113">Установщик Windows 3,0 игнорирует этот список, если в устранении исключающих или замененных исправлений есть таблица Мсипатчсекуенце.</span><span class="sxs-lookup"><span data-stu-id="b25d5-113">Windows Installer 3.0 ignores this list if either the eliminated or replacement patches have a MsiPatchSequence table.</span></span>

<span data-ttu-id="b25d5-114">Если пакет исправлений содержит исправления со сведениями о последовательности в таблице [мсипатчсекуенце](msipatchsequence-table.md) и некоторые исправления без этих сведений, установщик Windows 3,0 поочередно последовательностей исправлений в порядке, описанном в следующем разделе: [виртуализация исправлений](sequencing-patches.md).</span><span class="sxs-lookup"><span data-stu-id="b25d5-114">When the patch package contains patches with sequence information in the [MsiPatchSequence](msipatchsequence-table.md) table and some patches without this information, Windows installer 3.0 sequences the patches in the order described in the following section: [Sequencing Patches](sequencing-patches.md).</span></span>

<span data-ttu-id="b25d5-115">Например, Patch1, Patch2 и Patch3 могут быть тремя исправлениями, в которых нет таблицы [мсипатчсекуенце](msipatchsequence-table.md) .</span><span class="sxs-lookup"><span data-stu-id="b25d5-115">For example, Patch1, Patch2, and Patch3 can be three patches that do not have the [MsiPatchSequence](msipatchsequence-table.md) table.</span></span> <span data-ttu-id="b25d5-116">Patch2 может быть исправлением, которое применимо, только если Patch1 уже применено к приложению.</span><span class="sxs-lookup"><span data-stu-id="b25d5-116">Patch2 can be a patch that is only applicable if Patch1 has already been applied to the application.</span></span> <span data-ttu-id="b25d5-117">Patch3 может быть более поздним исправлением, которое содержит всю информацию в Patch1, а также исключает Patch1 из последовательности исправлений.</span><span class="sxs-lookup"><span data-stu-id="b25d5-117">Patch3 can be a later patch that has all the information in Patch1 and also eliminates Patch1 from the patching sequence.</span></span> <span data-ttu-id="b25d5-118">Это означает, что при применении Patch3 исправление 2 также становится неприменимым, так как требует Patch1.</span><span class="sxs-lookup"><span data-stu-id="b25d5-118">This means that when Patch3 is applied, Patch 2 also becomes inapplicable, because it requires Patch1.</span></span> <span data-ttu-id="b25d5-119">Любая информация в Patch2 не доставляется в приложение.</span><span class="sxs-lookup"><span data-stu-id="b25d5-119">Any information in Patch2 alone does not get delivered to the application.</span></span>

<span data-ttu-id="b25d5-120">**Установщик Windows 2,0:** Не поддерживается.</span><span class="sxs-lookup"><span data-stu-id="b25d5-120">**Windows Installer 2.0:** Not supported.</span></span> <span data-ttu-id="b25d5-121">Единственный доступный метод — указать список исправлений, которые должны быть удалены из последовательности исправлений в свойстве [**сводки номера редакции**](revision-number-summary.md) .</span><span class="sxs-lookup"><span data-stu-id="b25d5-121">The only method available is to specify the list of patches to be eliminated from the patching sequence in the [**Revision Number Summary**](revision-number-summary.md) property.</span></span>

> [!Note]  
> <span data-ttu-id="b25d5-122">Авторы исправлений должны использовать функции [**мсидетерминепатчсекуенце**](/windows/desktop/api/Msi/nf-msi-msideterminepatchsequencea) и [**мсидетерминеаппликаблепатчес**](/windows/desktop/api/Msi/nf-msi-msidetermineapplicablepatchesa) , чтобы определить последовательность исправлений, которые фактически применяются к продукту, поскольку устранение некоторых исправлений может привести к неприменимости других исправлений.</span><span class="sxs-lookup"><span data-stu-id="b25d5-122">Patch authors should use the [**MsiDeterminePatchSequence**](/windows/desktop/api/Msi/nf-msi-msideterminepatchsequencea) and [**MsiDetermineApplicablePatches**](/windows/desktop/api/Msi/nf-msi-msidetermineapplicablepatchesa) functions to determine the sequence of patches that actually get applied to the product because the elimination of some patches can render other patches inapplicable.</span></span>

 

 

 



