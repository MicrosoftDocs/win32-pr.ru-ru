---
description: При указании компонентов для установки Авторы пакетов должны следовать общим правилам для организации компонентов, описанным в разделе Упорядочение приложений по компонентам.
ms.assetid: 7cf322e9-c49a-40a8-be4e-ab03ecba1c1f
title: Изменение кода компонента
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 7531b4a38312d4abed038b612c4292c44af8e967
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "105662910"
---
# <a name="changing-the-component-code"></a><span data-ttu-id="5de41-103">Изменение кода компонента</span><span class="sxs-lookup"><span data-stu-id="5de41-103">Changing the Component Code</span></span>

<span data-ttu-id="5de41-104">При указании [компонентов](windows-installer-components.md) для установки Авторы пакетов должны следовать общим правилам для организации компонентов, описанным в разделе [Упорядочение приложений по компонентам](organizing-applications-into-components.md).</span><span class="sxs-lookup"><span data-stu-id="5de41-104">When specifying the [components](windows-installer-components.md) for an installation, package authors should follow the general rules for component organization described in [Organizing Applications into Components](organizing-applications-into-components.md).</span></span> <span data-ttu-id="5de41-105">Авторам может потребоваться добавить новые компоненты или изменить существующие компоненты.</span><span class="sxs-lookup"><span data-stu-id="5de41-105">Authors may need to introduce new components or modify existing components.</span></span> <span data-ttu-id="5de41-106">Если добавление, удаление или изменение ресурсов эффективно создает новый компонент, необходимо также изменить код компонента.</span><span class="sxs-lookup"><span data-stu-id="5de41-106">If the addition, removal, or modification of resources effectively creates a new component, then the component code must also be changed.</span></span>

## <a name="creating-a-new-component"></a><span data-ttu-id="5de41-107">Создание нового компонента</span><span class="sxs-lookup"><span data-stu-id="5de41-107">Creating a New Component</span></span>

<span data-ttu-id="5de41-108">Познакомьтесь с новым компонентом и назначьте ему уникальный код компонента при внесении любого из следующих изменений:</span><span class="sxs-lookup"><span data-stu-id="5de41-108">Introduce a new component and assign it a unique component code when making any of the following changes:</span></span>

-   <span data-ttu-id="5de41-109">Любое изменение, которое не было показано при тестировании, совместимо с предыдущими версиями компонента.</span><span class="sxs-lookup"><span data-stu-id="5de41-109">Any change that has not been shown by testing to be compatible with previous versions of the component.</span></span> <span data-ttu-id="5de41-110">В этом случае необходимо также изменить имя или целевое расположение каждого ресурса в компоненте.</span><span class="sxs-lookup"><span data-stu-id="5de41-110">In this case, you must also change the name or target location of every resource in the component.</span></span>
-   <span data-ttu-id="5de41-111">Изменение имени или целевого расположения любого файла, раздела реестра, ярлыка или другого ресурса в компоненте.</span><span class="sxs-lookup"><span data-stu-id="5de41-111">A change in the name or target location of any file, registry key, shortcut, or other resource in the component.</span></span> <span data-ttu-id="5de41-112">В этом случае необходимо также изменить имя или целевое расположение каждого ресурса в компоненте.</span><span class="sxs-lookup"><span data-stu-id="5de41-112">In this case, you must also change the name or target location of every resource in the component.</span></span>
-   <span data-ttu-id="5de41-113">Добавление или удаление любого файла, раздела реестра, ярлыка или другого ресурса из компонента.</span><span class="sxs-lookup"><span data-stu-id="5de41-113">The addition or removal of any file, registry key, shortcut, or other resource from the component.</span></span> <span data-ttu-id="5de41-114">В этом случае необходимо также изменить имя или целевое расположение каждого ресурса в компоненте.</span><span class="sxs-lookup"><span data-stu-id="5de41-114">In this case, you must also change the name or target location of every resource in the component.</span></span>
-   <span data-ttu-id="5de41-115">Перекомпиляция 32-разрядного компонента в 64-разрядный компонент.</span><span class="sxs-lookup"><span data-stu-id="5de41-115">Recompiling a 32-bit component into a 64-bit component.</span></span>

<span data-ttu-id="5de41-116">При внедрении нового компонента авторы должны выполнить одно из следующих действий, чтобы убедиться, что компонент не конфликтует с существующими компонентами:</span><span class="sxs-lookup"><span data-stu-id="5de41-116">When introducing a new component, authors need to do one of the following to ensure that the component does not conflict with any existing components:</span></span>

-   <span data-ttu-id="5de41-117">Измените имя или целевое расположение любого ресурса, который может быть установлен с тем же именем и целевым расположением, другим компонентом.</span><span class="sxs-lookup"><span data-stu-id="5de41-117">Change the name or target location of any resource that may be installed under the same name and target location by another component.</span></span>
-   <span data-ttu-id="5de41-118">В противном случае гарантируется, что новый компонент никогда не будет устанавливаться в ту же папку, что и другой компонент, имеющий ресурс с общим именем и расположением.</span><span class="sxs-lookup"><span data-stu-id="5de41-118">Otherwise guarantee that the new component is never installed into the same folder as another component which has a resource under a common name and location.</span></span> <span data-ttu-id="5de41-119">К ним относятся локализованные версии файлов с одинаковыми именами файлов.</span><span class="sxs-lookup"><span data-stu-id="5de41-119">This includes localized versions of files with the same file name.</span></span> <span data-ttu-id="5de41-120">Дополнительные сведения см. в статье [что произойдет, если правила компонентов будут разорваны?](what-happens-if-the-component-rules-are-broken.md)</span><span class="sxs-lookup"><span data-stu-id="5de41-120">For more information, see [What happens if the component rules are broken?](what-happens-if-the-component-rules-are-broken.md).</span></span>
-   <span data-ttu-id="5de41-121">При изменении кода компонента существующего компонента также измените имя или целевое расположение каждого файла, раздела реестра, ярлыка и другого ресурса в компоненте.</span><span class="sxs-lookup"><span data-stu-id="5de41-121">When changing the component code of an existing component, also change the name or target location of every file, registry key, shortcut, and other resource in the component.</span></span>

### <a name="creating-a-new-version-of-a-component"></a><span data-ttu-id="5de41-122">Создание новой версии компонента</span><span class="sxs-lookup"><span data-stu-id="5de41-122">Creating a New Version of a Component</span></span>

<span data-ttu-id="5de41-123">Новой версии компонента назначается тот же код компонента, что и у другого существующего компонента.</span><span class="sxs-lookup"><span data-stu-id="5de41-123">A new version of a component is assigned the same component code as another existing component.</span></span> <span data-ttu-id="5de41-124">Изменение компонента без изменения кода компонента является обязательным только в следующих случаях.</span><span class="sxs-lookup"><span data-stu-id="5de41-124">Modifying a component without changing the component code is only optional in the following cases:</span></span>

-   <span data-ttu-id="5de41-125">Изменения компонента проверены проверкой на обратную совместимость со всеми предыдущими версиями компонента.</span><span class="sxs-lookup"><span data-stu-id="5de41-125">The changes to the component have been proven by testing to be backward compatible with all previous versions of the component.</span></span>
-   <span data-ttu-id="5de41-126">Автор может гарантировать, что новая версия компонента никогда не будет установлена в системе, где она будет конфликтовать с предыдущими версиями компонента или приложений, для которых требуется предыдущая версия.</span><span class="sxs-lookup"><span data-stu-id="5de41-126">The author can guarantee that the new version of the component will never be installed on a system where it would conflict with previous versions of the component or applications requiring a previous version.</span></span> <span data-ttu-id="5de41-127">Дополнительные сведения см. в статье [что произойдет, если правила компонентов будут разорваны?](what-happens-if-the-component-rules-are-broken.md)</span><span class="sxs-lookup"><span data-stu-id="5de41-127">For more information, see [What happens if the component rules are broken?](what-happens-if-the-component-rules-are-broken.md).</span></span>

<span data-ttu-id="5de41-128">Код компонента новой версии компонента не должен изменяться, если это приведет к совместному использованию ресурсов двумя компонентами, такими как значения реестра, файлы или ярлыки.</span><span class="sxs-lookup"><span data-stu-id="5de41-128">The component code of a new version of a component must not be changed when it would result in two components sharing resources, such as registry values, files, or shortcuts.</span></span>

 

 



