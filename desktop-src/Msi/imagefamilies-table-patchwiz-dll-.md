---
description: Семейство образов — это группа из одного или нескольких обновленных образов продукта, которые были обновлены до последней версии.
ms.assetid: 06a77b35-b593-47e6-9083-46a6b65b7481
title: Таблица Имажефамилиес (Patchwiz.dll)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 33ece99e3c42626eb2155f16f2198703dc31b682
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "103991408"
---
# <a name="imagefamilies-table-patchwizdll"></a><span data-ttu-id="6c072-103">Таблица Имажефамилиес (Patchwiz.dll)</span><span class="sxs-lookup"><span data-stu-id="6c072-103">ImageFamilies Table (Patchwiz.dll)</span></span>

<span data-ttu-id="6c072-104">Семейство образов — это группа из одного или нескольких обновленных образов продукта, которые были обновлены до последней версии.</span><span class="sxs-lookup"><span data-stu-id="6c072-104">An image family is a group of one or more upgraded images of a product that have been updated to the most recent version.</span></span> <span data-ttu-id="6c072-105">Каждый обновленный образ может принадлежать только одному семейству.</span><span class="sxs-lookup"><span data-stu-id="6c072-105">Each upgraded image can belong to only one family.</span></span> <span data-ttu-id="6c072-106">Обновленные образы, принадлежащие семейству образов, совместно используют один или несколько файлов.</span><span class="sxs-lookup"><span data-stu-id="6c072-106">Upgraded images belonging to an image family share one or more files.</span></span> <span data-ttu-id="6c072-107">Каждое семейство образов имеет собственный CAB-файл в MSP-файле, содержащий двоичные исправления и новые файлы, необходимые для обновления различий между целевым и обновленным файлами.</span><span class="sxs-lookup"><span data-stu-id="6c072-107">Each image family has its own cabinet file in the .msp file containing the binary patches and new files needed to update the differences between target and upgraded files.</span></span> <span data-ttu-id="6c072-108">CAB-файл не реплицирует двоичные исправления и новые файлы, используемые общими файлами.</span><span class="sxs-lookup"><span data-stu-id="6c072-108">The cabinet file does not replicate the binary patches and new files used by the shared files.</span></span>

<span data-ttu-id="6c072-109">Таблица Имажефамилиес, содержащая хотя бы одну запись, необходима в каждой базе данных создания исправлений (файл. PCP).</span><span class="sxs-lookup"><span data-stu-id="6c072-109">An ImageFamilies table containing at least one record is required in every patch creation database (.pcp file).</span></span> <span data-ttu-id="6c072-110">Эта таблица используется функцией [уикреатепатчпаккажеекс](uicreatepatchpackageex--patchwiz-dll-.md) .</span><span class="sxs-lookup"><span data-stu-id="6c072-110">This table is used by the [UiCreatePatchPackageEx](uicreatepatchpackageex--patchwiz-dll-.md) function.</span></span>

<span data-ttu-id="6c072-111">Таблица Имажефамилиес содержит сведения об исправлениях, которые необходимо добавить в [таблицу мультимедиа](media-table.md).</span><span class="sxs-lookup"><span data-stu-id="6c072-111">The ImageFamilies table contains the patching information that is to be added to the [Media table](media-table.md).</span></span> <span data-ttu-id="6c072-112">Исправление добавляет одну запись в таблицу Media.</span><span class="sxs-lookup"><span data-stu-id="6c072-112">A patch adds one entry to the Media table.</span></span> <span data-ttu-id="6c072-113">Каждая запись в таблицах Имажефамилиес ссылается на группу связанных образов продуктов, которые были обновлены до последней версии продукта.</span><span class="sxs-lookup"><span data-stu-id="6c072-113">Each record in the ImageFamilies tables refers to a group of related product images that have been updated to the most recent version of the product.</span></span>

<span data-ttu-id="6c072-114">Таблица Имажефамилиес содержит следующие столбцы.</span><span class="sxs-lookup"><span data-stu-id="6c072-114">The ImageFamilies table has the following columns.</span></span> <span data-ttu-id="6c072-115">Значение NULL может использоваться в столбцах Медиасркпропнаме, Медиадискид и Филесекуенцестарт, если исправление применяется с установщик Windows и Patchwiz.dll версии 2,0.</span><span class="sxs-lookup"><span data-stu-id="6c072-115">A null value can be used in the MediaSrcPropName, MediaDiskId, and FileSequenceStart columns if the patch is applied with Windows Installer and Patchwiz.dll version 2.0.</span></span>



| <span data-ttu-id="6c072-116">Столбец</span><span class="sxs-lookup"><span data-stu-id="6c072-116">Column</span></span>            | <span data-ttu-id="6c072-117">Type</span><span class="sxs-lookup"><span data-stu-id="6c072-117">Type</span></span>    | <span data-ttu-id="6c072-118">Ключ</span><span class="sxs-lookup"><span data-stu-id="6c072-118">Key</span></span> | <span data-ttu-id="6c072-119">Допускает значения NULL</span><span class="sxs-lookup"><span data-stu-id="6c072-119">Nullable</span></span> |
|-------------------|---------|-----|----------|
| <span data-ttu-id="6c072-120">Семейство</span><span class="sxs-lookup"><span data-stu-id="6c072-120">Family</span></span>            | <span data-ttu-id="6c072-121">text</span><span class="sxs-lookup"><span data-stu-id="6c072-121">text</span></span>    | <span data-ttu-id="6c072-122">Да</span><span class="sxs-lookup"><span data-stu-id="6c072-122">Y</span></span>   | <span data-ttu-id="6c072-123">Нет</span><span class="sxs-lookup"><span data-stu-id="6c072-123">N</span></span>        |
| <span data-ttu-id="6c072-124">медиасркпропнаме</span><span class="sxs-lookup"><span data-stu-id="6c072-124">MediaSrcPropName</span></span>  | <span data-ttu-id="6c072-125">text</span><span class="sxs-lookup"><span data-stu-id="6c072-125">text</span></span>    |     | <span data-ttu-id="6c072-126">Да</span><span class="sxs-lookup"><span data-stu-id="6c072-126">Y</span></span>        |
| <span data-ttu-id="6c072-127">медиадискид</span><span class="sxs-lookup"><span data-stu-id="6c072-127">MediaDiskId</span></span>       | <span data-ttu-id="6c072-128">Целое число</span><span class="sxs-lookup"><span data-stu-id="6c072-128">integer</span></span> |     | <span data-ttu-id="6c072-129">Да</span><span class="sxs-lookup"><span data-stu-id="6c072-129">Y</span></span>        |
| <span data-ttu-id="6c072-130">филесекуенцестарт</span><span class="sxs-lookup"><span data-stu-id="6c072-130">FileSequenceStart</span></span> | <span data-ttu-id="6c072-131">Целое число</span><span class="sxs-lookup"><span data-stu-id="6c072-131">integer</span></span> |     | <span data-ttu-id="6c072-132">Да</span><span class="sxs-lookup"><span data-stu-id="6c072-132">Y</span></span>        |
| <span data-ttu-id="6c072-133">DiskPrompt</span><span class="sxs-lookup"><span data-stu-id="6c072-133">DiskPrompt</span></span>        | <span data-ttu-id="6c072-134">text</span><span class="sxs-lookup"><span data-stu-id="6c072-134">text</span></span>    |     | <span data-ttu-id="6c072-135">Да</span><span class="sxs-lookup"><span data-stu-id="6c072-135">Y</span></span>        |
| <span data-ttu-id="6c072-136">VolumeLabel</span><span class="sxs-lookup"><span data-stu-id="6c072-136">VolumeLabel</span></span>       | <span data-ttu-id="6c072-137">text</span><span class="sxs-lookup"><span data-stu-id="6c072-137">text</span></span>    |     | <span data-ttu-id="6c072-138">Да</span><span class="sxs-lookup"><span data-stu-id="6c072-138">Y</span></span>        |



 

## <a name="columns"></a><span data-ttu-id="6c072-139">Столбцы</span><span class="sxs-lookup"><span data-stu-id="6c072-139">Columns</span></span>

<dl> <dt>

<span data-ttu-id="6c072-140"><span id="Family"></span><span id="family"></span><span id="FAMILY"></span>Семьи</span><span class="sxs-lookup"><span data-stu-id="6c072-140"><span id="Family"></span><span id="family"></span><span id="FAMILY"></span>Family</span></span>
</dt> <dd>

<span data-ttu-id="6c072-141">Значение, введенное в этом поле, является идентификатором для группы связанных образов продуктов, которые были обновлены до последней версии продукта.</span><span class="sxs-lookup"><span data-stu-id="6c072-141">The value entered in this field is an identifier for a group of related product images that have been updated to the most recent version of the product.</span></span> <span data-ttu-id="6c072-142">Не более 8 алфавитно-цифровых символов или знаков подчеркивания.</span><span class="sxs-lookup"><span data-stu-id="6c072-142">Limited to a total of 8 alphanumeric characters or underscores.</span></span> <span data-ttu-id="6c072-143">Установщик внедряет поток CAB-данных в файл исправления установщик Windows (MSP-файл) для каждого семейства в таблице.</span><span class="sxs-lookup"><span data-stu-id="6c072-143">The installer embeds a cabinet stream in the Windows Installer patch file (.msp file) for each family in the table.</span></span> <span data-ttu-id="6c072-144">CAB-файл содержит двоичные исправления и новые файлы, необходимые для обновления целевого образа в обновленном образе продукта.</span><span class="sxs-lookup"><span data-stu-id="6c072-144">The cabinet contains the binary patches and new files required to update a target image into an upgraded image of the product.</span></span> <span data-ttu-id="6c072-145">Установщик добавляет имя семейства в CAB-файл PCW \_ \_ для создания имени потока CAB-файла, вводимого в поле CAB-файла новой записи [таблицы мультимедиа](media-table.md) .</span><span class="sxs-lookup"><span data-stu-id="6c072-145">The installer prefixes the family name with PCW\_CAB\_ to generate the cabinet's stream name it enters into the Cabinet field of the new [Media table](media-table.md) entry.</span></span>

</dd> <dt>

<span data-ttu-id="6c072-146"><span id="MediaSrcPropName"></span><span id="mediasrcpropname"></span><span id="MEDIASRCPROPNAME"></span>медиасркпропнаме</span><span class="sxs-lookup"><span data-stu-id="6c072-146"><span id="MediaSrcPropName"></span><span id="mediasrcpropname"></span><span id="MEDIASRCPROPNAME"></span>MediaSrcPropName</span></span>
</dt> <dd>

<span data-ttu-id="6c072-147">Значение, введенное в поле источник новой записи [таблицы мультимедиа](media-table.md) обновленного образа.</span><span class="sxs-lookup"><span data-stu-id="6c072-147">The value entered into the Source field of the new [Media table](media-table.md) entry of the upgraded image.</span></span> <span data-ttu-id="6c072-148">Это поле может иметь значение null, только если используется версия 2,0 Patchwiz.dll и если Минимумрекуиредмсиверсион в [таблице свойств (Patchwiz.dll)](properties-table-patchwiz-dll-.md) имеет значение 200.</span><span class="sxs-lookup"><span data-stu-id="6c072-148">This field can be null only if you are using version 2.0 of Patchwiz.dll and if the MinimumRequiredMsiVersion in the [Properties table (Patchwiz.dll)](properties-table-patchwiz-dll-.md) is set to 200.</span></span>

</dd> <dt>

<span data-ttu-id="6c072-149"><span id="MediaDiskId"></span><span id="mediadiskid"></span><span id="MEDIADISKID"></span>медиадискид</span><span class="sxs-lookup"><span data-stu-id="6c072-149"><span id="MediaDiskId"></span><span id="mediadiskid"></span><span id="MEDIADISKID"></span>MediaDiskId</span></span>
</dt> <dd>

<span data-ttu-id="6c072-150">Установщик вводит это значение в поле DiskId новой записи [таблицы мультимедиа](media-table.md) .</span><span class="sxs-lookup"><span data-stu-id="6c072-150">The installer enters this value into the DiskId field of the new [Media table](media-table.md) record.</span></span> <span data-ttu-id="6c072-151">Значение DiskID должно быть больше любого текущего DiskID в целевом пакете.</span><span class="sxs-lookup"><span data-stu-id="6c072-151">The DiskID value must be greater than any current DiskID in the target package.</span></span> <span data-ttu-id="6c072-152">Ограничение для Медиадискид — 32767.</span><span class="sxs-lookup"><span data-stu-id="6c072-152">The limit for MediaDiskId is 32767.</span></span> <span data-ttu-id="6c072-153">Это поле может иметь значение null, только если используется версия 2,0 Patchwiz.dll и если Минимумрекуиредмсиверсион в [таблице свойств (Patchwiz.dll)](properties-table-patchwiz-dll-.md) имеет значение 200.</span><span class="sxs-lookup"><span data-stu-id="6c072-153">This field can be null only if you are using version 2.0 of Patchwiz.dll and if the MinimumRequiredMsiVersion in the [Properties table (Patchwiz.dll)](properties-table-patchwiz-dll-.md) is set to 200.</span></span>

</dd> <dt>

<span data-ttu-id="6c072-154"><span id="FileSequenceStart"></span><span id="filesequencestart"></span><span id="FILESEQUENCESTART"></span>филесекуенцестарт</span><span class="sxs-lookup"><span data-stu-id="6c072-154"><span id="FileSequenceStart"></span><span id="filesequencestart"></span><span id="FILESEQUENCESTART"></span>FileSequenceStart</span></span>
</dt> <dd>

<span data-ttu-id="6c072-155">Это поле является порядковым номером для начального файла.</span><span class="sxs-lookup"><span data-stu-id="6c072-155">This field is the sequence number for the starting file.</span></span> <span data-ttu-id="6c072-156">Этот же порядковый номер файла не должен существовать в двух исправлениях для одного и того же продукта.</span><span class="sxs-lookup"><span data-stu-id="6c072-156">This same file sequence number must not exist in two patches for the same product.</span></span> <span data-ttu-id="6c072-157">Чтобы убедиться в этом, значение в этом поле должно быть больше, чем все порядковые номера, используемые в предыдущих исправлениях или в исходном пакете установки.</span><span class="sxs-lookup"><span data-stu-id="6c072-157">To ensure this, the value in this field must be greater than all sequence numbers used in previous patches or in the original installation package.</span></span> <span data-ttu-id="6c072-158">Наибольший порядковый номер в исправлении можно определить, добавив общее число записей в CAB-файле исправления в номер Филесекуенцестарт для этого исправления.</span><span class="sxs-lookup"><span data-stu-id="6c072-158">The greatest sequence number in a patch can be determined by adding the total number of entries in the patch cabinet file to the FileSequenceStart number for that patch.</span></span> <span data-ttu-id="6c072-159">Одним из способов его определения является просмотр DDF-файла, созданного [Patchwiz.dll](patchwiz-dll.md) во время создания исправления.</span><span class="sxs-lookup"><span data-stu-id="6c072-159">One way to determine this is to look at the .ddf file generated by [Patchwiz.dll](patchwiz-dll.md) during the creation of the patch.</span></span> <span data-ttu-id="6c072-160">Ограничение для Филесекуенцестарт — 32767.</span><span class="sxs-lookup"><span data-stu-id="6c072-160">The limit for FileSequenceStart is 32767.</span></span> <span data-ttu-id="6c072-161">Это поле может иметь значение null, только если используется версия 2,0 Patchwiz.dll и если Минимумрекуиредмсиверсион в [таблице свойств (Patchwiz.dll)](properties-table-patchwiz-dll-.md) имеет значение 200.</span><span class="sxs-lookup"><span data-stu-id="6c072-161">This field can be null only if you are using version 2.0 of Patchwiz.dll and if the MinimumRequiredMsiVersion in the [Properties table (Patchwiz.dll)](properties-table-patchwiz-dll-.md) is set to 200.</span></span>

</dd> <dt>

<span data-ttu-id="6c072-162"><span id="DiskPrompt"></span><span id="diskprompt"></span><span id="DISKPROMPT"></span>DiskPrompt</span><span class="sxs-lookup"><span data-stu-id="6c072-162"><span id="DiskPrompt"></span><span id="diskprompt"></span><span id="DISKPROMPT"></span>DiskPrompt</span></span>
</dt> <dd>

<span data-ttu-id="6c072-163">Установщик вводит это значение в поле DiskPrompt новой записи [таблицы мультимедиа](media-table.md) .</span><span class="sxs-lookup"><span data-stu-id="6c072-163">The installer enters this value into the DiskPrompt field of the new [Media table](media-table.md) record.</span></span>

</dd> <dt>

<span data-ttu-id="6c072-164"><span id="VolumeLabel"></span><span id="volumelabel"></span><span id="VOLUMELABEL"></span>VolumeLabel</span><span class="sxs-lookup"><span data-stu-id="6c072-164"><span id="VolumeLabel"></span><span id="volumelabel"></span><span id="VOLUMELABEL"></span>VolumeLabel</span></span>
</dt> <dd>

<span data-ttu-id="6c072-165">Установщик вводит это значение в поле VolumeLabel новой записи носителя.</span><span class="sxs-lookup"><span data-stu-id="6c072-165">The installer enters this value into the VolumeLabel field of the new Media record.</span></span>

</dd> </dl>

## <a name="remarks"></a><span data-ttu-id="6c072-166">Комментарии</span><span class="sxs-lookup"><span data-stu-id="6c072-166">Remarks</span></span>

<span data-ttu-id="6c072-167">Исправление добавляет имя CAB-файла в MSP-файл в поле CAB новой записи, добавленной в [таблицу Media](media-table.md).</span><span class="sxs-lookup"><span data-stu-id="6c072-167">The patch adds the name of the cabinet in the .msp file to the Cabinet field of the new record added to the [Media table](media-table.md).</span></span> <span data-ttu-id="6c072-168">Так как это встроенный CAB-файл, имя начинается с \# символа "".</span><span class="sxs-lookup"><span data-stu-id="6c072-168">Because it is an embedded cabinet, the name is prefixed with a '\#' character.</span></span> <span data-ttu-id="6c072-169">Исправление добавляет свойство в исходное поле новой записи в таблице Media.</span><span class="sxs-lookup"><span data-stu-id="6c072-169">The patch adds a property to the Source field of the new record in the Media table.</span></span> <span data-ttu-id="6c072-170">Ни одно из двух исправлений не может иметь одно и то же исходное свойство.</span><span class="sxs-lookup"><span data-stu-id="6c072-170">No two patches may have the same source property.</span></span>

<span data-ttu-id="6c072-171">Файлы, совместно используемые в семействе образов, должны иметь один и тот же ключ файловой таблицы в каждом обновленном образе семейства.</span><span class="sxs-lookup"><span data-stu-id="6c072-171">The files that are shared within the image family must have the same file table key in each upgraded image of the family.</span></span> <span data-ttu-id="6c072-172">Все ключи таблицы файлов, общие для обновленных образов, должны представлять один и тот же файл и должны быть одинаковыми во всех обновленных образах.</span><span class="sxs-lookup"><span data-stu-id="6c072-172">Any file table keys shared among the upgraded images must represent the same file and must be identical in all the upgraded images.</span></span> <span data-ttu-id="6c072-173">Ключ таблицы File — это значение, указанное в столбце file [таблицы File](file-table.md).</span><span class="sxs-lookup"><span data-stu-id="6c072-173">The file table key is the value entered in the File column of the [File table](file-table.md).</span></span>

<span data-ttu-id="6c072-174">Ограничение для Медиадискид и Филесекуенцестарт равно 32767.</span><span class="sxs-lookup"><span data-stu-id="6c072-174">The limit for MediaDiskId and FileSequenceStart is 32767.</span></span> <span data-ttu-id="6c072-175">Чтобы увеличить это ограничение, экспортируйте таблицу Имажефамилиес в файл IDT с [Msidb.exe](msidb-exe.md) и измените тип столбца с I2 на I4 или с I2 на I4, а затем импортируйте файл IDT обратно в базу данных. PCP.</span><span class="sxs-lookup"><span data-stu-id="6c072-175">To increase this limit export the ImageFamilies table to an .idt file with [Msidb.exe](msidb-exe.md) and change the column type from i2 to i4, or from I2 to I4, and then import the .idt file back into the .pcp database.</span></span> <span data-ttu-id="6c072-176">Преобразования и исправления не могут быть созданы между двумя пакетами, имеющими разные типы столбцов.</span><span class="sxs-lookup"><span data-stu-id="6c072-176">Transforms and patches cannot be created between two packages having different column types.</span></span>

 

 



