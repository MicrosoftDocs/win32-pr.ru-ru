---
description: Преобразование — это коллекция изменений, примененных к установке. Применяя преобразование к основному пакету установки, установщик может добавлять или заменять данные в базе данных установки. Установщик может применять преобразования только во время установки.
ms.assetid: 1edc5227-70ac-4769-ab7f-67d01031dc33
title: О преобразованиях
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: fcbae9f21ec71209116f3c8eadffca20381cfe71
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "104264210"
---
# <a name="about-transforms"></a><span data-ttu-id="16e9c-105">О преобразованиях</span><span class="sxs-lookup"><span data-stu-id="16e9c-105">About Transforms</span></span>

<span data-ttu-id="16e9c-106">Преобразование — это коллекция изменений, примененных к установке.</span><span class="sxs-lookup"><span data-stu-id="16e9c-106">A transform is a collection of changes applied to an installation.</span></span> <span data-ttu-id="16e9c-107">Применяя преобразование к основному пакету установки, установщик может добавлять или заменять данные в базе данных установки.</span><span class="sxs-lookup"><span data-stu-id="16e9c-107">By applying a transform to a base installation package, the installer can add or replace data in the installation database.</span></span> <span data-ttu-id="16e9c-108">Установщик может применять преобразования только во время установки.</span><span class="sxs-lookup"><span data-stu-id="16e9c-108">The installer can only apply transforms during an installation.</span></span>

<span data-ttu-id="16e9c-109">Установщик регистрирует список преобразований, необходимых для продукта во время установки.</span><span class="sxs-lookup"><span data-stu-id="16e9c-109">The installer registers a list of transforms required by the product during the installation.</span></span> <span data-ttu-id="16e9c-110">Установщик должен применять эти преобразования к пакету установки продукта при настройке или установке продукта.</span><span class="sxs-lookup"><span data-stu-id="16e9c-110">The installer must apply these transforms to the product's installation package when configuring or installing the product.</span></span> <span data-ttu-id="16e9c-111">Если перечисленное преобразование недоступно, и если отказоустойчивость источника преобразования не может восстановиться, установка завершается сбоем.</span><span class="sxs-lookup"><span data-stu-id="16e9c-111">If a listed transform is unavailable, and if the transform source resiliency cannot restore it, the installation fails.</span></span>

<span data-ttu-id="16e9c-112">Преобразование может изменять сведения, наявляющиеся в любой постоянной таблице в [базе данных установщика](installer-database.md).</span><span class="sxs-lookup"><span data-stu-id="16e9c-112">A transform can modify information that is in any persistent table in the [installer database](installer-database.md).</span></span> <span data-ttu-id="16e9c-113">Преобразование может также добавлять или удалять постоянные таблицы в базе данных установщика.</span><span class="sxs-lookup"><span data-stu-id="16e9c-113">A transform can also add or remove persistent tables in the installer database.</span></span> <span data-ttu-id="16e9c-114">Преобразования не могут изменять какую-либо часть пакета установки, которая не находится в таблице базы данных, например сведения в информационном [потоке сводки](summary-information-stream.md), сведения о вложенных хранилищах или файлы во встроенных ящиках.</span><span class="sxs-lookup"><span data-stu-id="16e9c-114">Transforms cannot modify any part of an installation package that is not in a database table, such as information in the [summary information stream](summary-information-stream.md), information in substorages, or files in embedded cabinets.</span></span>

<span data-ttu-id="16e9c-115">Преобразования имеют сводный информационный поток, который может содержать условия проверки и условия возникновения ошибок.</span><span class="sxs-lookup"><span data-stu-id="16e9c-115">Transforms have a summary information stream that can contain validation conditions and error conditions.</span></span> <span data-ttu-id="16e9c-116">Условия проверки и ошибки преобразования могут быть добавлены к сводным сведениям с помощью функции [**мсикреатетрансформсуммаринфо**](/windows/desktop/api/Msiquery/nf-msiquery-msicreatetransformsummaryinfoa) .</span><span class="sxs-lookup"><span data-stu-id="16e9c-116">The transform validation and error conditions can be added to the summary information using the [**MsiCreateTransformSummaryInfo**](/windows/desktop/api/Msiquery/nf-msiquery-msicreatetransformsummaryinfoa) function.</span></span> <span data-ttu-id="16e9c-117">Условия проверки определяют, может ли установщик применить преобразование к заданной базе данных установки.</span><span class="sxs-lookup"><span data-stu-id="16e9c-117">The validation conditions control whether the installer can apply the transform to a given installation database.</span></span> <span data-ttu-id="16e9c-118">Проверка преобразования может быть зависеть от значений свойств [**UpgradeCode**](upgradecode.md), [**ProductCode**](productcode.md), [**ProductVersion**](productversion.md) и [**продуктлангуаже**](productlanguage.md) , указанных в преобразовании и в базе данных установки.</span><span class="sxs-lookup"><span data-stu-id="16e9c-118">Validation of the transform can be conditioned upon the values of the [**UpgradeCode**](upgradecode.md), [**ProductCode**](productcode.md), [**ProductVersion**](productversion.md) and [**ProductLanguage**](productlanguage.md) properties specified in the transform and those in the installation database.</span></span> <span data-ttu-id="16e9c-119">Условия ошибок преобразования определяют, какие ошибки подавляются при применении преобразования.</span><span class="sxs-lookup"><span data-stu-id="16e9c-119">The transform error conditions control which errors get suppressed when the transform is applied.</span></span> <span data-ttu-id="16e9c-120">Условия ошибок, включаемые в преобразование, переопределяются условиями ошибки, заданными с помощью методов [**мсидатабасеапплитрансформ**](/windows/desktop/api/Msiquery/nf-msiquery-msidatabaseapplytransforma) и [**апплитрансформ**](database-applytransform.md) .</span><span class="sxs-lookup"><span data-stu-id="16e9c-120">The error conditions included within the transform are overridden by the error conditions specified using the [**MsiDatabaseApplyTransform**](/windows/desktop/api/Msiquery/nf-msiquery-msidatabaseapplytransforma) and [**ApplyTransform**](database-applytransform.md) methods.</span></span>

> [!Note]  
> <span data-ttu-id="16e9c-121">Стандартные преобразования настройки не имеют условий проверки или проверки по [**ProductCode**](productcode.md).</span><span class="sxs-lookup"><span data-stu-id="16e9c-121">Typical customization transforms have no validation conditions or validate against the [**ProductCode**](productcode.md).</span></span> <span data-ttu-id="16e9c-122">Преобразования, хранящиеся в [пакетах исправлений](patch-packages.md) , обычно имеют ограниченные условия проверки, чтобы гарантировать, что к цели исправления применяется правильное преобразование.</span><span class="sxs-lookup"><span data-stu-id="16e9c-122">The transforms stored within [patch packages](patch-packages.md) generally have strict validation conditions to ensure that the correct transform is applied to the patch target.</span></span>

 

<span data-ttu-id="16e9c-123">Существует три типа преобразований установщик Windows:</span><span class="sxs-lookup"><span data-stu-id="16e9c-123">There are three types of Windows Installer transforms:</span></span>

-   [<span data-ttu-id="16e9c-124">Встроенные преобразования</span><span class="sxs-lookup"><span data-stu-id="16e9c-124">Embedded Transforms</span></span>](embedded-transforms.md)
-   [<span data-ttu-id="16e9c-125">Безопасные преобразования</span><span class="sxs-lookup"><span data-stu-id="16e9c-125">Secured Transforms</span></span>](secured-transforms.md)
-   [<span data-ttu-id="16e9c-126">Незащищенные преобразования</span><span class="sxs-lookup"><span data-stu-id="16e9c-126">Unsecured Transforms</span></span>](unsecured-transforms.md)

 

 



