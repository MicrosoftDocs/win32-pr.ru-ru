---
description: В таблице Directory указана структура установки.
ms.assetid: 3f2e1cc2-6b36-4615-86e6-e78485edd2f7
title: Использование таблицы Directory
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 7218fe6f6e2ca36bc0c52e74b564ad07d87053a7
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "104264827"
---
# <a name="using-the-directory-table"></a><span data-ttu-id="f5fcf-103">Использование таблицы Directory</span><span class="sxs-lookup"><span data-stu-id="f5fcf-103">Using the Directory Table</span></span>

<span data-ttu-id="f5fcf-104">В [таблице Directory](directory-table.md) указана структура установки.</span><span class="sxs-lookup"><span data-stu-id="f5fcf-104">The [Directory table](directory-table.md) specifies the layout of an installation.</span></span> <span data-ttu-id="f5fcf-105">Когда каталоги разрешаются во время [действия костфинализе](costfinalize-action.md), ключи в таблице Directory становятся [свойствами](properties.md) , для которых заданы пути к каталогам.</span><span class="sxs-lookup"><span data-stu-id="f5fcf-105">When the directories are resolved during the [CostFinalize action](costfinalize-action.md), the keys in the Directory table become [properties](properties.md) set to directory paths.</span></span> <span data-ttu-id="f5fcf-106">Обратите внимание, что установщик устанавливает ряд стандартных [свойств](properties.md) для путей к системной папке.</span><span class="sxs-lookup"><span data-stu-id="f5fcf-106">Note that the installer sets a number of standard [properties](properties.md) to system folder paths.</span></span> <span data-ttu-id="f5fcf-107">Список свойств, для которых заданы системные папки, см. в [справочнике по свойствам](property-reference.md) .</span><span class="sxs-lookup"><span data-stu-id="f5fcf-107">See the [Property Reference](property-reference.md) for a list of the properties that are set to system folders.</span></span>

<span data-ttu-id="f5fcf-108">Чтобы указать целевое расположение для каталога, лучше всего создать [таблицу Directory](directory-table.md) в установочном пакете, чтобы предоставить правильное расположение, как описано в этом разделе.</span><span class="sxs-lookup"><span data-stu-id="f5fcf-108">The best way to specify the target location for a directory is by authoring the [Directory table](directory-table.md) in your installation package to provide the correct location as discussed in this section.</span></span> <span data-ttu-id="f5fcf-109">Если необходимо изменить расположение каталога во время установки, см. также раздел: [изменение целевого расположения каталога](changing-the-target-location-for-a-directory.md)</span><span class="sxs-lookup"><span data-stu-id="f5fcf-109">If it is necessary to change the directory location at the time of the installation see also the section: [Changing the Target Location for a Directory](changing-the-target-location-for-a-directory.md)</span></span>

<span data-ttu-id="f5fcf-110">Ниже приведен пример таблицы каталога.</span><span class="sxs-lookup"><span data-stu-id="f5fcf-110">The following is an example of a Directory table.</span></span>



| <span data-ttu-id="f5fcf-111">Каталог</span><span class="sxs-lookup"><span data-stu-id="f5fcf-111">Directory</span></span>     | <span data-ttu-id="f5fcf-112">\_Родительский каталог</span><span class="sxs-lookup"><span data-stu-id="f5fcf-112">Directory\_Parent</span></span> | <span data-ttu-id="f5fcf-113">дефаултдир</span><span class="sxs-lookup"><span data-stu-id="f5fcf-113">DefaultDir</span></span> |
|---------------|-------------------|------------|
| <span data-ttu-id="f5fcf-114">TARGETDIR</span><span class="sxs-lookup"><span data-stu-id="f5fcf-114">TARGETDIR</span></span>     |                   | <span data-ttu-id="f5fcf-115">SourceDir</span><span class="sxs-lookup"><span data-stu-id="f5fcf-115">SourceDir</span></span>  |
| <span data-ttu-id="f5fcf-116">екседир</span><span class="sxs-lookup"><span data-stu-id="f5fcf-116">EXEDIR</span></span>        | <span data-ttu-id="f5fcf-117">TARGETDIR</span><span class="sxs-lookup"><span data-stu-id="f5fcf-117">TARGETDIR</span></span>         | <span data-ttu-id="f5fcf-118">Приложение</span><span class="sxs-lookup"><span data-stu-id="f5fcf-118">App</span></span>        |
| <span data-ttu-id="f5fcf-119">дллдир</span><span class="sxs-lookup"><span data-stu-id="f5fcf-119">DLLDIR</span></span>        | <span data-ttu-id="f5fcf-120">екседир</span><span class="sxs-lookup"><span data-stu-id="f5fcf-120">EXEDIR</span></span>            | <span data-ttu-id="f5fcf-121">Ячейка</span><span class="sxs-lookup"><span data-stu-id="f5fcf-121">Bin</span></span>        |
| <span data-ttu-id="f5fcf-122">DesktopFolder</span><span class="sxs-lookup"><span data-stu-id="f5fcf-122">DesktopFolder</span></span> | <span data-ttu-id="f5fcf-123">TARGETDIR</span><span class="sxs-lookup"><span data-stu-id="f5fcf-123">TARGETDIR</span></span>         | <span data-ttu-id="f5fcf-124">Персональный компьютер</span><span class="sxs-lookup"><span data-stu-id="f5fcf-124">Desktop</span></span>    |



 

<span data-ttu-id="f5fcf-125">Каждая строка таблицы Directory указывает каталог как в исходном, так и на целевом.</span><span class="sxs-lookup"><span data-stu-id="f5fcf-125">Each row of the Directory table indicates a directory both at the source and the target.</span></span> <span data-ttu-id="f5fcf-126">Например, предположим, что пакет установки находится в \\ \\ \\ источнике приложений \\ .</span><span class="sxs-lookup"><span data-stu-id="f5fcf-126">For example, assume the installation package resides at \\\\applications\\source\\.</span></span> <span data-ttu-id="f5fcf-127">Поскольку \_ родительское поле каталога первой строки имеет значение null, эта запись указывает корневые каталоги как для источника, так и для целевого объекта.</span><span class="sxs-lookup"><span data-stu-id="f5fcf-127">Because the Directory\_Parent field of the first row is Null, this record indicates the root directories for both the source and the target.</span></span> <span data-ttu-id="f5fcf-128">Для источника значение этого каталога задается полем Дефаултдир.</span><span class="sxs-lookup"><span data-stu-id="f5fcf-128">For the source, the value of this directory is given by the DefaultDir field.</span></span> <span data-ttu-id="f5fcf-129">Значение свойства [**SourceDir**](sourcedir.md) по умолчанию равно расположению пакета установки.</span><span class="sxs-lookup"><span data-stu-id="f5fcf-129">The [**SourceDir**](sourcedir.md) property defaults to the location of the installation package.</span></span> <span data-ttu-id="f5fcf-130">Поэтому, если свойство **SourceDir** не переопределено, корневым исходным каталогом является \\ \\ \\ источник приложений \\ .</span><span class="sxs-lookup"><span data-stu-id="f5fcf-130">Thus, unless the **SourceDir** property is overridden, the root source directory is \\\\applications\\source\\.</span></span>

<span data-ttu-id="f5fcf-131">В поле Каталог первой записи указывается расположение корневого целевого каталога.</span><span class="sxs-lookup"><span data-stu-id="f5fcf-131">The Directory field of the first record indicates the location of the root target directory.</span></span> <span data-ttu-id="f5fcf-132">В этом случае значение свойства [**targetDir**](targetdir.md) указывает на этот каталог.</span><span class="sxs-lookup"><span data-stu-id="f5fcf-132">In this case, the value of the [**TARGETDIR**](targetdir.md) property indicates this directory.</span></span> <span data-ttu-id="f5fcf-133">Как правило, значение свойства **targetDir** задается в командной строке или через пользовательский интерфейс.</span><span class="sxs-lookup"><span data-stu-id="f5fcf-133">Typically, the value of the **TARGETDIR** property is set at the command line or through a user interface.</span></span> <span data-ttu-id="f5fcf-134">В этом случае предполагается, что свойство **targetDir** имеет значение C: \\ Program Files \\ Target \\ .</span><span class="sxs-lookup"><span data-stu-id="f5fcf-134">In this case, assume the **TARGETDIR** property is set to C:\\Program Files\\Target\\.</span></span>

<span data-ttu-id="f5fcf-135">Для второй записи \_ родительское поле каталога не имеет значение null.</span><span class="sxs-lookup"><span data-stu-id="f5fcf-135">For the second record, the Directory\_Parent field is not Null.</span></span> <span data-ttu-id="f5fcf-136">Поэтому эта запись указывает на некорневой каталог как для источника, так и для целевого объекта.</span><span class="sxs-lookup"><span data-stu-id="f5fcf-136">Therefore, this record indicates a non-root directory for both the source and the target.</span></span> <span data-ttu-id="f5fcf-137">Для некорневого исходного каталога исходный каталог, указанный в записи, описанной в \_ родительском поле Каталог, является родительским.</span><span class="sxs-lookup"><span data-stu-id="f5fcf-137">For a non-root source directory, the source directory indicated by the record described in the Directory\_Parent field is the parent directory.</span></span> <span data-ttu-id="f5fcf-138">Для второй записи \_ родительским полем каталога является TARGETDIR.</span><span class="sxs-lookup"><span data-stu-id="f5fcf-138">For the second record, the Directory\_Parent field is TARGETDIR.</span></span> <span data-ttu-id="f5fcf-139">Как показано выше, исходный каталог, указанный в записи TARGETDIR, разрешается в \\ \\ \\ источник приложений \\ .</span><span class="sxs-lookup"><span data-stu-id="f5fcf-139">As shown earlier, the source directory indicated by the TARGETDIR record resolved to \\\\applications\\source\\.</span></span> <span data-ttu-id="f5fcf-140">Таким же исходным каталогом, который указывается второй записью, является \\ \\ \\ приложение исходного кода приложения \\ \\ .</span><span class="sxs-lookup"><span data-stu-id="f5fcf-140">Thus, the source directory indicated by the second record is \\\\applications\\source\\App\\.</span></span>

<span data-ttu-id="f5fcf-141">Аналогичный процесс работает для целевого каталога.</span><span class="sxs-lookup"><span data-stu-id="f5fcf-141">A similar process works for the target directory.</span></span> <span data-ttu-id="f5fcf-142">Значением родительского каталога для целевого каталога, описанного во второй записи, является целевой каталог, разрешенный \_ родительским полем каталога.</span><span class="sxs-lookup"><span data-stu-id="f5fcf-142">The value of the parent directory for the target directory described in the second record is the target directory resolved by the Directory\_Parent field.</span></span> <span data-ttu-id="f5fcf-143">Опять же, \_ родительское поле каталога содержит значение TARGETDIR.</span><span class="sxs-lookup"><span data-stu-id="f5fcf-143">Again, the Directory\_Parent field contains the value TARGETDIR.</span></span> <span data-ttu-id="f5fcf-144">Указывает первую запись, которая разрешается в целевой каталог файла C: \\ Program Files \\ \\ .</span><span class="sxs-lookup"><span data-stu-id="f5fcf-144">This indicates the first record that resolves to a target directory of C:\\Program Files\\Target\\.</span></span> <span data-ttu-id="f5fcf-145">Поле "каталог" содержит свойство, определяемое автором, именуемое ЕКСЕДИР.</span><span class="sxs-lookup"><span data-stu-id="f5fcf-145">The Directory field contains an author-defined property called EXEDIR.</span></span> <span data-ttu-id="f5fcf-146">Если это свойство задано, то его значение задает полный путь к каталогу.</span><span class="sxs-lookup"><span data-stu-id="f5fcf-146">If this property is set, then its value gives the full path of the directory.</span></span> <span data-ttu-id="f5fcf-147">Таким образом, если этому свойству присвоено значение C: \\ Data \\ Common \\ , то целевому каталогу, указанному второй записью, будет «C: \\ Data \\ Common» \\ .</span><span class="sxs-lookup"><span data-stu-id="f5fcf-147">Thus, if this property is set to C:\\Data\\Common\\, the value of the target directory indicated by the second record is C:\\Data\\Common\\.</span></span> <span data-ttu-id="f5fcf-148">Если значение не задано, целевой каталог принимает имя, заданное в поле Дефаултдир.</span><span class="sxs-lookup"><span data-stu-id="f5fcf-148">If it is not set, the target directory takes the name given by the DefaultDir field.</span></span> <span data-ttu-id="f5fcf-149">В этом случае целевой каталог — C: \\ Program Files \\ Target \\ app \\ .</span><span class="sxs-lookup"><span data-stu-id="f5fcf-149">In this case, the target directory is C:\\Program Files\\Target\\App\\.</span></span>

<span data-ttu-id="f5fcf-150">Один и тот же процесс работает для третьей записи.</span><span class="sxs-lookup"><span data-stu-id="f5fcf-150">The same process works for the third record.</span></span> <span data-ttu-id="f5fcf-151">Если ЕКСЕДИР и ДЛЛДИР не заданы, целевой каталог будет иметь значение C: \\ Program Files \\ \\ \\ bin, а исходный каталог — приложение \\ \\ \\ source \\ app \\ bin \\ .</span><span class="sxs-lookup"><span data-stu-id="f5fcf-151">If EXEDIR and DLLDIR are not set, the target directory is C:\\Program Files\\Target\\App\\Bin, and the source directory is \\\\applications\\source\\App\\Bin\\.</span></span>

<span data-ttu-id="f5fcf-152">В четвертой записи используется свойство [**DesktopFolder**](desktopfolder.md) .</span><span class="sxs-lookup"><span data-stu-id="f5fcf-152">The fourth record uses the [**DesktopFolder**](desktopfolder.md) property.</span></span> <span data-ttu-id="f5fcf-153">Если для рабочего стола пользователя задано расположение C: \\ WinNT \\ Profiles \\ пользователя \\ Desktop \\ , то целевой каталог разрешается в c: \\ WinNT \\ Профили \\ пользователя \\ Desktop \\ .</span><span class="sxs-lookup"><span data-stu-id="f5fcf-153">If the location of the user's desktop is C:\\Winnt\\Profiles\\User\\Desktop\\, the target directory resolves to C:\\Winnt\\Profiles\\User\\Desktop\\.</span></span> <span data-ttu-id="f5fcf-154">Исходный каталог разрешается в \\ \\ \\ исходный \\ Рабочий стол приложений \\ .</span><span class="sxs-lookup"><span data-stu-id="f5fcf-154">The source directory resolves to \\\\applications\\source\\Desktop\\.</span></span>

<span data-ttu-id="f5fcf-155">Существует два дополнительных синтаксических функции, которые можно использовать в столбце Дефаултдир таблицы Directory.</span><span class="sxs-lookup"><span data-stu-id="f5fcf-155">There are two additional syntax features that can be used in the DefaultDir column of the Directory table.</span></span> <span data-ttu-id="f5fcf-156">Для некорневого исходного каталога точка (.), указанная в столбце Дефаултдир, указывает, что каталог должен находиться в родительском каталоге без вложенного каталога.</span><span class="sxs-lookup"><span data-stu-id="f5fcf-156">For a non-root source directory, a period (.) entered in the DefaultDir column indicates that the directory should be located in its parent directory without a subdirectory.</span></span> <span data-ttu-id="f5fcf-157">Чтобы указать разные пути к исходному и целевому каталогу, разделите целевой и исходный пути в столбце Дефаултдир с помощью двоеточия следующим образом: \[ TargetPath \] : \[ SourcePath \] .</span><span class="sxs-lookup"><span data-stu-id="f5fcf-157">To specify different source and target directory paths, separate the target and source paths in the DefaultDir column with a colon as follows: \[targetpath\]:\[sourcepath\].</span></span> <span data-ttu-id="f5fcf-158">Эти функции можно использовать вместе для добавления уровней в исходные или целевые пути для одного каталога.</span><span class="sxs-lookup"><span data-stu-id="f5fcf-158">These features can be used together to add levels to either the source or target paths for a single directory.</span></span> <span data-ttu-id="f5fcf-159">См. Следующий пример таблицы каталога.</span><span class="sxs-lookup"><span data-stu-id="f5fcf-159">See the following example of a Directory table.</span></span>



| <span data-ttu-id="f5fcf-160">Каталог</span><span class="sxs-lookup"><span data-stu-id="f5fcf-160">Directory</span></span>   | <span data-ttu-id="f5fcf-161">\_Родительский каталог</span><span class="sxs-lookup"><span data-stu-id="f5fcf-161">Directory\_Parent</span></span> | <span data-ttu-id="f5fcf-162">дефаултдир</span><span class="sxs-lookup"><span data-stu-id="f5fcf-162">DefaultDir</span></span> |
|-------------|-------------------|------------|
| <span data-ttu-id="f5fcf-163">TARGETDIR</span><span class="sxs-lookup"><span data-stu-id="f5fcf-163">TARGETDIR</span></span>   |                   | <span data-ttu-id="f5fcf-164">SourceDir</span><span class="sxs-lookup"><span data-stu-id="f5fcf-164">SourceDir</span></span>  |
| <span data-ttu-id="f5fcf-165">мяппдир</span><span class="sxs-lookup"><span data-stu-id="f5fcf-165">MyAppDir</span></span>    | <span data-ttu-id="f5fcf-166">TARGETDIR</span><span class="sxs-lookup"><span data-stu-id="f5fcf-166">TARGETDIR</span></span>         | <span data-ttu-id="f5fcf-167">MyApp</span><span class="sxs-lookup"><span data-stu-id="f5fcf-167">MyApp</span></span>      |
| <span data-ttu-id="f5fcf-168">биндир</span><span class="sxs-lookup"><span data-stu-id="f5fcf-168">BinDir</span></span>      | <span data-ttu-id="f5fcf-169">мяппдир</span><span class="sxs-lookup"><span data-stu-id="f5fcf-169">MyAppDir</span></span>          | <span data-ttu-id="f5fcf-170">Ячейка</span><span class="sxs-lookup"><span data-stu-id="f5fcf-170">Bin</span></span>        |
| <span data-ttu-id="f5fcf-171">Binx86Dir</span><span class="sxs-lookup"><span data-stu-id="f5fcf-171">Binx86Dir</span></span>   | <span data-ttu-id="f5fcf-172">биндир</span><span class="sxs-lookup"><span data-stu-id="f5fcf-172">BinDir</span></span>            | <span data-ttu-id="f5fcf-173">.: x86</span><span class="sxs-lookup"><span data-stu-id="f5fcf-173">.:x86</span></span>      |
| <span data-ttu-id="f5fcf-174">биналфадир</span><span class="sxs-lookup"><span data-stu-id="f5fcf-174">BinAlphaDir</span></span> | <span data-ttu-id="f5fcf-175">биндир</span><span class="sxs-lookup"><span data-stu-id="f5fcf-175">BinDir</span></span>            | <span data-ttu-id="f5fcf-176">.: Альфа</span><span class="sxs-lookup"><span data-stu-id="f5fcf-176">.:Alpha</span></span>    |



 

<span data-ttu-id="f5fcf-177">Исходный и конечный пути разрешаются для строк Мяппдир, Биндир, Binx86Dir и Биналфадир следующим образом.</span><span class="sxs-lookup"><span data-stu-id="f5fcf-177">The source and target paths resolve for the MyAppDir, BinDir, Binx86Dir, and BinAlphaDir rows as follows.</span></span>



| <span data-ttu-id="f5fcf-178">Record</span><span class="sxs-lookup"><span data-stu-id="f5fcf-178">Record</span></span>       | <span data-ttu-id="f5fcf-179">Целевые пути</span><span class="sxs-lookup"><span data-stu-id="f5fcf-179">Target paths</span></span>            | <span data-ttu-id="f5fcf-180">Исходные пути</span><span class="sxs-lookup"><span data-stu-id="f5fcf-180">Source paths</span></span>                   |
|--------------|-------------------------|--------------------------------|
| <span data-ttu-id="f5fcf-181">Мяппдир:</span><span class="sxs-lookup"><span data-stu-id="f5fcf-181">MyAppDir:</span></span>    | <span data-ttu-id="f5fcf-182">\[TARGETDIR \] MyApp</span><span class="sxs-lookup"><span data-stu-id="f5fcf-182">\[TARGETDIR\]MyApp</span></span>      | <span data-ttu-id="f5fcf-183">\[SourceDir \] MyApp</span><span class="sxs-lookup"><span data-stu-id="f5fcf-183">\[SourceDir\]MyApp</span></span>             |
| <span data-ttu-id="f5fcf-184">Биндир:</span><span class="sxs-lookup"><span data-stu-id="f5fcf-184">BinDir:</span></span>      | <span data-ttu-id="f5fcf-185">\[TARGETDIR \] MyApp \\ bin</span><span class="sxs-lookup"><span data-stu-id="f5fcf-185">\[TARGETDIR\]MyApp\\Bin</span></span> | <span data-ttu-id="f5fcf-186">\[SourceDir \] MyApp \\ bin</span><span class="sxs-lookup"><span data-stu-id="f5fcf-186">\[SourceDir\]MyApp\\Bin</span></span>        |
| <span data-ttu-id="f5fcf-187">Binx86Dir:</span><span class="sxs-lookup"><span data-stu-id="f5fcf-187">Binx86Dir:</span></span>   | <span data-ttu-id="f5fcf-188">\[TARGETDIR \] MyApp \\ bin</span><span class="sxs-lookup"><span data-stu-id="f5fcf-188">\[TARGETDIR\]MyApp\\Bin</span></span> | <span data-ttu-id="f5fcf-189">\[SourceDir \] MyApp \\ bin \\ x86</span><span class="sxs-lookup"><span data-stu-id="f5fcf-189">\[SourceDir\]MyApp\\Bin\\x86</span></span>   |
| <span data-ttu-id="f5fcf-190">Биналфадир:</span><span class="sxs-lookup"><span data-stu-id="f5fcf-190">BinAlphaDir:</span></span> | <span data-ttu-id="f5fcf-191">\[TARGETDIR \] MyApp \\ bin</span><span class="sxs-lookup"><span data-stu-id="f5fcf-191">\[TARGETDIR\]MyApp\\Bin</span></span> | <span data-ttu-id="f5fcf-192">\[SourceDir \] MyApp \\ bin, \\ альфа</span><span class="sxs-lookup"><span data-stu-id="f5fcf-192">\[SourceDir\]MyApp\\Bin\\Alpha</span></span> |



 

> [!Note]  
> <span data-ttu-id="f5fcf-193">Платформа Alpha не поддерживается установщик Windows.</span><span class="sxs-lookup"><span data-stu-id="f5fcf-193">The Alpha platform is not supported by the Windows Installer.</span></span>

 

 

 



