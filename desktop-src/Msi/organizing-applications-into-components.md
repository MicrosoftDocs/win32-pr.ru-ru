---
description: Установщик Windows устанавливает и удаляет приложение или продукт в частях, которые называются компонентами.
ms.assetid: 949d8b8c-8f1a-4fde-9a7d-824d33436e62
title: Упорядочение приложений по компонентам
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 0d3fc2db794bef2a29025bf7ebc54c65691145ee
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "103909015"
---
# <a name="organizing-applications-into-components"></a><span data-ttu-id="b3cac-103">Упорядочение приложений по компонентам</span><span class="sxs-lookup"><span data-stu-id="b3cac-103">Organizing Applications into Components</span></span>

<span data-ttu-id="b3cac-104">Установщик Windows устанавливает и удаляет приложение или продукт в частях, которые называются [компонентами](windows-installer-components.md).</span><span class="sxs-lookup"><span data-stu-id="b3cac-104">Windows Installer installs and removes an application or product in parts referred to as [components](windows-installer-components.md).</span></span> <span data-ttu-id="b3cac-105">Компоненты представляют собой коллекции ресурсов, которые всегда устанавливаются или удаляются как единое целое из системы пользователя.</span><span class="sxs-lookup"><span data-stu-id="b3cac-105">Components are collections of resources that are always installed or removed as a unit from a user's system.</span></span> <span data-ttu-id="b3cac-106">Ресурсом может быть файл, раздел реестра, ярлык или любое другое, которое может быть установлено.</span><span class="sxs-lookup"><span data-stu-id="b3cac-106">A resource can be a file, registry key, shortcut, or anything else that may be installed.</span></span> <span data-ttu-id="b3cac-107">Каждому компоненту назначается уникальный [GUID](guid.md)кода компонента.</span><span class="sxs-lookup"><span data-stu-id="b3cac-107">Every component is assigned a unique component code [GUID](guid.md).</span></span>

<span data-ttu-id="b3cac-108">Авторы пакетов установки должны создавать только компоненты и версии компонентов, которые могут быть установлены и удалены без повреждения других компонентов.</span><span class="sxs-lookup"><span data-stu-id="b3cac-108">Authors of installation packages should only create components, and versions of components, that can be installed and removed without damaging other components.</span></span> <span data-ttu-id="b3cac-109">Кроме того, удаление компонента не должно оставляться за потерянными ресурсами на компьютере пользователя, например неиспользуемыми файлами, разделами реестра или ярлыками.</span><span class="sxs-lookup"><span data-stu-id="b3cac-109">Also, the removal of a component should not leave behind any orphaned resources on the user's computer, such as unused files, registry keys, or shortcuts.</span></span> <span data-ttu-id="b3cac-110">Чтобы убедиться в этом, авторы должны соблюдать следующие общие правила при Организации ресурсов в компоненты:</span><span class="sxs-lookup"><span data-stu-id="b3cac-110">To ensure this, authors should adhere to the following general rules when organizing resources into components:</span></span>

-   <span data-ttu-id="b3cac-111">Никогда не создавайте два компонента, которые устанавливают ресурс с тем же именем и целевым расположением.</span><span class="sxs-lookup"><span data-stu-id="b3cac-111">Never create two components that install a resource under the same name and target location.</span></span> <span data-ttu-id="b3cac-112">Если ресурс должен дублироваться в нескольких компонентах, измените его имя или целевое расположение в каждом компоненте.</span><span class="sxs-lookup"><span data-stu-id="b3cac-112">If a resource must be duplicated in multiple components, change its name or target location in each component.</span></span> <span data-ttu-id="b3cac-113">Это правило должно применяться для приложений, продуктов, версий продуктов и компаний.</span><span class="sxs-lookup"><span data-stu-id="b3cac-113">This rule should be applied across applications, products, product versions, and companies.</span></span>
-   <span data-ttu-id="b3cac-114">Обратите внимание, что предыдущее правило означает, что два компонента не должны иметь одинаковый файл пути к ключу.</span><span class="sxs-lookup"><span data-stu-id="b3cac-114">Note that the previous rule means that two components must not have the same key path file.</span></span> <span data-ttu-id="b3cac-115">Значение пути к ключу указывает на определенный файл или папку, принадлежащие компоненту, который установщик использует для обнаружения компонента.</span><span class="sxs-lookup"><span data-stu-id="b3cac-115">The key path value points to a particular file or folder belonging to the component that the installer uses to detect the component.</span></span> <span data-ttu-id="b3cac-116">Если два компонента имеют одинаковый файл пути к ключу, установщик не сможет определить, какой компонент установлен.</span><span class="sxs-lookup"><span data-stu-id="b3cac-116">If two components had the same key path file, the installer would be unable to distinguish which component is installed.</span></span> <span data-ttu-id="b3cac-117">Однако два компонента могут совместно использовать папку пути к ключу.</span><span class="sxs-lookup"><span data-stu-id="b3cac-117">Two components however may share a key path folder.</span></span>
-   <span data-ttu-id="b3cac-118">Не создавайте версию компонента, которая несовместима со всеми предыдущими версиями компонента.</span><span class="sxs-lookup"><span data-stu-id="b3cac-118">Do not create a version of a component that is incompatible with all previous versions of the component.</span></span> <span data-ttu-id="b3cac-119">Этот компонент может совместно использоваться другими приложениями, продуктами, версиями продуктов и компаниями.</span><span class="sxs-lookup"><span data-stu-id="b3cac-119">The component may be shared by other applications, products, product versions, and companies.</span></span> <span data-ttu-id="b3cac-120">Вместо этого создайте новый компонент.</span><span class="sxs-lookup"><span data-stu-id="b3cac-120">Instead create a new component.</span></span>
-   <span data-ttu-id="b3cac-121">Не создавайте компоненты, содержащие ресурсы, которые необходимо установить в более чем один каталог в системе пользователя.</span><span class="sxs-lookup"><span data-stu-id="b3cac-121">Do not create components containing resources that will need to be installed into more than one directory on the user's system.</span></span> <span data-ttu-id="b3cac-122">Установщик устанавливает все ресурсы компонента в один каталог.</span><span class="sxs-lookup"><span data-stu-id="b3cac-122">The installer installs all of the resources in a component into the same directory.</span></span> <span data-ttu-id="b3cac-123">Некоторые ресурсы невозможно установить в подкаталогах.</span><span class="sxs-lookup"><span data-stu-id="b3cac-123">It is not possible to install some resources into subdirectories.</span></span>
-   <span data-ttu-id="b3cac-124">Не включайте более одного COM-сервера на каждый компонент.</span><span class="sxs-lookup"><span data-stu-id="b3cac-124">Do not include more than one COM server per component.</span></span> <span data-ttu-id="b3cac-125">Если компонент содержит COM-сервер, это должен быть путь к ключу для компонента.</span><span class="sxs-lookup"><span data-stu-id="b3cac-125">If a component contains a COM server, this must be the key path for the component.</span></span>
-   <span data-ttu-id="b3cac-126">Не указывайте более одного файла для каждого компонента в качестве целевого объекта для меню " **Пуск** " или ярлыка на рабочем столе.</span><span class="sxs-lookup"><span data-stu-id="b3cac-126">Do not specify more than one file per component as a target for the **Start** menu or a Desktop shortcut.</span></span>

<span data-ttu-id="b3cac-127">При Организации приложения в компоненты авторам пакетов может потребоваться добавить, удалить или изменить ресурсы в существующей установке.</span><span class="sxs-lookup"><span data-stu-id="b3cac-127">When organizing an application into components, package authors may need to add, remove, or modify the resources in an existing installation.</span></span> <span data-ttu-id="b3cac-128">В этом случае автор должен решить, следует ли предоставлять ресурсы путем введения нового компонента или путем изменения существующих компонентов и изменения их в новой версии компонента.</span><span class="sxs-lookup"><span data-stu-id="b3cac-128">In this case, the author must decide whether to provide the resources by introducing a new component or by modifying existing components and changing them into a new version of the component.</span></span> <span data-ttu-id="b3cac-129">Поскольку при введении нового компонента необходимо назначить уникальный код компонента, авторы должны определить, требует ли их изменений изменения кода компонента.</span><span class="sxs-lookup"><span data-stu-id="b3cac-129">Because a unique component code must be assigned when a new component is introduced, authors must determine whether their changes require changing the component code.</span></span> <span data-ttu-id="b3cac-130">Дополнительные сведения см. в статьях [изменение кода компонента](changing-the-component-code.md), [что происходит, если правила компонентов нарушены?](what-happens-if-the-component-rules-are-broken.md)и [Определение компонентов установщика](defining-installer-components.md).</span><span class="sxs-lookup"><span data-stu-id="b3cac-130">For more information, see [Changing the Component Code](changing-the-component-code.md), [What happens if the component rules are broken?](what-happens-if-the-component-rules-are-broken.md), and [Defining Installer Components](defining-installer-components.md).</span></span>

 

 



