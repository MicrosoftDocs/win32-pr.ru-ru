---
description: Общие сведения о локализации см. в разделе службы глобализации.
ms.assetid: 734961f6-de0a-4c54-9866-ade994c41c7e
title: Локализация пакета установщик Windows
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: b325b211302fba632f454f30eefbcb688f30d819
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "104145799"
---
# <a name="localizing-a-windows-installer-package"></a><span data-ttu-id="2913f-103">Локализация пакета установщик Windows</span><span class="sxs-lookup"><span data-stu-id="2913f-103">Localizing a Windows Installer Package</span></span>

<span data-ttu-id="2913f-104">Общие сведения о локализации см. в разделе [службы глобализации](../intl/globalization-services.md).</span><span class="sxs-lookup"><span data-stu-id="2913f-104">For general information about localization, see [Globalization Services](../intl/globalization-services.md).</span></span> <span data-ttu-id="2913f-105">Для локализации пакета установщик Windows требуется изменить строки, отображаемые пользовательским интерфейсом, и также может потребоваться добавление или изменение ресурсов продукта.</span><span class="sxs-lookup"><span data-stu-id="2913f-105">Localizing a Windows Installer package requires modifying the strings displayed by the user interface and may also require adding or modifying product resources.</span></span> <span data-ttu-id="2913f-106">Например, Локализация может включать добавление международных библиотек и локализованных файлов в продукт.</span><span class="sxs-lookup"><span data-stu-id="2913f-106">For example, localization may include the addition of international DLLs and localized files to the product.</span></span>

<span data-ttu-id="2913f-107">**Локализация пакета установщик Windows**</span><span class="sxs-lookup"><span data-stu-id="2913f-107">**To localize a Windows Installer package**</span></span>

1.  <span data-ttu-id="2913f-108">Подготовка к локализации при создании исходного пакета установки.</span><span class="sxs-lookup"><span data-stu-id="2913f-108">Prepare for localization when authoring the original installation package.</span></span> <span data-ttu-id="2913f-109">Разработайте макет локализованных файлов таким образом, чтобы разные языковые версии могли безопасно сосуществовать при установке на компьютере пользователя.</span><span class="sxs-lookup"><span data-stu-id="2913f-109">Design the layout of localized files such that different language versions can safely coexist when installed on the user's computer.</span></span> <span data-ttu-id="2913f-110">Упорядочите файлы, которые требуют локализации, в отдельные компоненты и устанавливайте эти файлы в отдельные каталоги.</span><span class="sxs-lookup"><span data-stu-id="2913f-110">Organize files requiring localization into separate components and install these files into separate directories.</span></span> <span data-ttu-id="2913f-111">Создание базовой базы данных установки со страницей нейтрального элемента управления.</span><span class="sxs-lookup"><span data-stu-id="2913f-111">Author a base installation database that has a neutral control page.</span></span> <span data-ttu-id="2913f-112">См. раздел [подготовка установщик Windows пакета для локализации](preparing-a-windows-installer-package-for-localization.md).</span><span class="sxs-lookup"><span data-stu-id="2913f-112">See [Preparing a Windows Installer package for localization](preparing-a-windows-installer-package-for-localization.md).</span></span>
2.  <span data-ttu-id="2913f-113">Всегда устанавливайте кодовую страницу локализованной базы данных перед добавлением любых локализованных данных.</span><span class="sxs-lookup"><span data-stu-id="2913f-113">Always set the code page of the database being localized prior to adding any localized data.</span></span> <span data-ttu-id="2913f-114">Если кодовая страница локализованной базы данных является нейтральной, см. раздел [Установка кодовой страницы базы данных](setting-the-code-page-of-a-database.md).</span><span class="sxs-lookup"><span data-stu-id="2913f-114">If the code page of the database being localized is neutral, see [Setting the code page of a database](setting-the-code-page-of-a-database.md).</span></span> <span data-ttu-id="2913f-115">Чтобы определить кодовую страницу, см. раздел [Определение кодовой страницы базы данных установки](determining-an-installation-database-s-code-page.md).</span><span class="sxs-lookup"><span data-stu-id="2913f-115">To determine the code page see [Determining an installation database's code page](determining-an-installation-database-s-code-page.md).</span></span>
3.  <span data-ttu-id="2913f-116">Импортируйте локализованную [таблицу ошибок](error-table.md) и [таблицу актионтекст](actiontext-table.md) в базу данных.</span><span class="sxs-lookup"><span data-stu-id="2913f-116">Import a localized [Error table](error-table.md) and [ActionText table](actiontext-table.md) into the database.</span></span> <span data-ttu-id="2913f-117">Дополнительные сведения см. в статьях [Локализация таблиц ошибок и актионтекст](localizing-the-error-and-actiontext-tables.md) для получения списка языков, поддерживаемых пакетом средств разработки программного обеспечения (SDK) для Microsoft Windows.</span><span class="sxs-lookup"><span data-stu-id="2913f-117">For more information, see [Localizing the Error and ActionText Tables](localizing-the-error-and-actiontext-tables.md) for a list of languages supported by the Microsoft Windows Software Development Kit (SDK).</span></span> <span data-ttu-id="2913f-118">Вы можете импортировать эти таблицы с помощью Msidb.exe или [**мсидатабасеимпорт**](/windows/desktop/api/Msiquery/nf-msiquery-msidatabaseimporta).</span><span class="sxs-lookup"><span data-stu-id="2913f-118">You may import these tables using Msidb.exe or [**MsiDatabaseImport**](/windows/desktop/api/Msiquery/nf-msiquery-msidatabaseimporta).</span></span>
4.  <span data-ttu-id="2913f-119">Измените любые другие локализуемые столбцы в базе данных с помощью редактора таблиц или SQL-запросов.</span><span class="sxs-lookup"><span data-stu-id="2913f-119">Modify any of the other localizable columns in the database using a table editor or SQL queries.</span></span> <span data-ttu-id="2913f-120">Сведения о функциях доступа SQL см. в разделе [Работа с запросами](working-with-queries.md).</span><span class="sxs-lookup"><span data-stu-id="2913f-120">For the SQL access functions, see [Working with Queries](working-with-queries.md).</span></span> <span data-ttu-id="2913f-121">В разделах для таблиц базы данных указывается, какие столбцы базы данных могут быть локализованы.</span><span class="sxs-lookup"><span data-stu-id="2913f-121">The topics for the database tables identify which database columns can be localized.</span></span> <span data-ttu-id="2913f-122">Дополнительные сведения см. в списке таблиц в [таблицах базы данных](database-tables.md).</span><span class="sxs-lookup"><span data-stu-id="2913f-122">For more information, see the list of tables in [Database Tables](database-tables.md).</span></span>
5.  <span data-ttu-id="2913f-123">Задайте для свойства [**продуктлангуаже**](productlanguage.md) в [таблице свойств](property-table.md) значение langid базы данных.</span><span class="sxs-lookup"><span data-stu-id="2913f-123">Set the [**ProductLanguage**](productlanguage.md) property in the [Property table](property-table.md) to the LANGID of the database.</span></span> <span data-ttu-id="2913f-124">При создании пакета с нейтральным языком задайте для свойства Продуктлангуаже значение 0 и используйте шрифт MS Shell Dlg в качестве стиля текста для всех созданных диалоговых окон.</span><span class="sxs-lookup"><span data-stu-id="2913f-124">When authoring a package as language neutral, set the ProductLanguage property to 0 and use the MS Shell Dlg font as the text style for all authored dialog boxes.</span></span> <span data-ttu-id="2913f-125">Поскольку некоторые шрифты не поддерживают все наборы символов, можно убедиться, что текст правильно отображается во всех локализованных версиях операционной системы с использованием этого шрифта.</span><span class="sxs-lookup"><span data-stu-id="2913f-125">Because some fonts do not support all of the character sets, you can ensure that the text is correctly displayed on all localized versions of the operating system by using this font.</span></span>
6.  <span data-ttu-id="2913f-126">Задайте в поле язык свойства [**Сводка по шаблону**](template-summary.md) значение langid базы данных.</span><span class="sxs-lookup"><span data-stu-id="2913f-126">Set the language field of the [**Template Summary**](template-summary.md) property to reflect the LANGID of the database.</span></span>
7.  <span data-ttu-id="2913f-127">Если текстовые строки в [потоке сводных данных](summary-information-stream.md) локализованы, задайте для свойства [**Сводка кодовой**](codepage-summary.md) страницы значение кодовая страница.</span><span class="sxs-lookup"><span data-stu-id="2913f-127">If the text strings in the [summary information stream](summary-information-stream.md) are localized, set the [**Codepage Summary**](codepage-summary.md) property to the code page.</span></span>
8.  <span data-ttu-id="2913f-128">Задайте свойство [**ProductCode**](productcode.md) в [таблице свойств](property-table.md) и задайте в качестве кода пакета в свойстве [**сводки номера редакции**](revision-number-summary.md) новый код пакета.</span><span class="sxs-lookup"><span data-stu-id="2913f-128">Set the [**ProductCode**](productcode.md) property in the [Property table](property-table.md) and set the package code in the [**Revision Number Summary**](revision-number-summary.md) property to a new package code.</span></span> <span data-ttu-id="2913f-129">Локализованный продукт считается другим продуктом.</span><span class="sxs-lookup"><span data-stu-id="2913f-129">A localized product is considered a different product.</span></span> <span data-ttu-id="2913f-130">Например, Немецкая и английская версии приложения считаются двумя разными продуктами и должны иметь разные коды продуктов.</span><span class="sxs-lookup"><span data-stu-id="2913f-130">For example, the German and English versions of an application are considered two different products and must have different product codes.</span></span>
9.  <span data-ttu-id="2913f-131">Для локализации может потребоваться изменение уже существующих ресурсов или добавление новых ресурсов, таких как файлы или разделы реестра.</span><span class="sxs-lookup"><span data-stu-id="2913f-131">Localization may require modifying resources that already exist or the addition of new resources such as files or registry keys.</span></span> <span data-ttu-id="2913f-132">Убедитесь, что код компонента изменен для каждого существующего компонента, в котором был добавлен новый ресурс.</span><span class="sxs-lookup"><span data-stu-id="2913f-132">Check to be sure that the component code is changed for every existing component that has had a new resource added.</span></span> <span data-ttu-id="2913f-133">Другие изменения также могут потребовать внесения изменений в код компонента.</span><span class="sxs-lookup"><span data-stu-id="2913f-133">Other modifications may also require changes to a component's code.</span></span> <span data-ttu-id="2913f-134">Дополнительные сведения см. [в разделе изменение кода компонента](changing-the-component-code.md).</span><span class="sxs-lookup"><span data-stu-id="2913f-134">For more information see [Changing the Component Code](changing-the-component-code.md).</span></span>
10. <span data-ttu-id="2913f-135">Не забудьте сохранить локализацию и другие изменения в базе данных, сохранив пакет с помощью средства редактирования или вызвав [**мсидатабасекоммит**](/windows/desktop/api/Msiquery/nf-msiquery-msidatabasecommit).</span><span class="sxs-lookup"><span data-stu-id="2913f-135">Be sure to save localization and other changes to the database by saving the package with the editing tool or by calling [**MsiDatabaseCommit**](/windows/desktop/api/Msiquery/nf-msiquery-msidatabasecommit).</span></span>

<span data-ttu-id="2913f-136">Дополнительные сведения см. [в примере локализации](a-localization-example.md).</span><span class="sxs-lookup"><span data-stu-id="2913f-136">For more information, see [A Localization Example](a-localization-example.md).</span></span>

 

 
