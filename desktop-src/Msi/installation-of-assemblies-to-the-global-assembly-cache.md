---
description: Установщик Windows устанавливает сборки среды CLR в глобальный кэш сборок с помощью платформы Microsoft .NET.
ms.assetid: 21d535d5-f05b-411a-8719-2662e6046fbd
title: Установка сборок в глобальный кэш сборок
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 719be313ad74374950092936bbd6124da779a0db
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "104263476"
---
# <a name="installation-of-assemblies-to-the-global-assembly-cache"></a><span data-ttu-id="e733b-103">Установка сборок в глобальный кэш сборок</span><span class="sxs-lookup"><span data-stu-id="e733b-103">Installation of Assemblies to the Global Assembly Cache</span></span>

<span data-ttu-id="e733b-104">Установщик Windows устанавливает сборки среды CLR в глобальный кэш сборок с помощью платформы Microsoft .NET.</span><span class="sxs-lookup"><span data-stu-id="e733b-104">The Windows Installer installs common language runtime assemblies into the global assembly cache using the Microsoft .NET Framework.</span></span> <span data-ttu-id="e733b-105">При установке сборок в глобальный кэш сборок установщик не может использовать ту же структуру каталогов и правила версий файлов, которые он использует при установке стандартных компонентов установщик Windows.</span><span class="sxs-lookup"><span data-stu-id="e733b-105">When installing assemblies to the global assembly cache, the installer cannot use the same directory structure and file version rules it uses when installing regular Windows Installer components.</span></span> <span data-ttu-id="e733b-106">Стандартные компоненты установщик Windows могут быть установлены в несколько расположений каталога различными продуктами.</span><span class="sxs-lookup"><span data-stu-id="e733b-106">Regular Windows Installer components may be installed into multiple directory locations by different products.</span></span> <span data-ttu-id="e733b-107">Сборки могут существовать только один раз в кэше сборок.</span><span class="sxs-lookup"><span data-stu-id="e733b-107">Assemblies can exist only once in the assembly cache.</span></span> <span data-ttu-id="e733b-108">Каждая сборка добавляется и удаляется из кэша сборок в виде неделимого целого. Таким образом, все файлы, составляющие сборку, всегда устанавливаются или удаляются вместе.</span><span class="sxs-lookup"><span data-stu-id="e733b-108">Each assembly is added and removed from the assembly cache as an indivisible whole; therefore, all the files comprising an assembly are always installed or removed together.</span></span>

<span data-ttu-id="e733b-109">Затраты на диск для регулярных установщик Windows компонентов и сборок среды CLR рассчитываются по-разному.</span><span class="sxs-lookup"><span data-stu-id="e733b-109">The disk cost of regular Windows Installer components and common language runtime assemblies are calculated differently.</span></span> <span data-ttu-id="e733b-110">Общая стоимость диска стандартного компонента установщик Windows включает в себя местные расходы, расходы на источники и затраты на удаление.</span><span class="sxs-lookup"><span data-stu-id="e733b-110">The total disk cost of a regular Windows Installer component includes local costs, source costs, and removal costs.</span></span> <span data-ttu-id="e733b-111">Дополнительные сведения см. в разделе [стоимость файлов](file-costing.md).</span><span class="sxs-lookup"><span data-stu-id="e733b-111">For details, see [File Costing](file-costing.md).</span></span> <span data-ttu-id="e733b-112">Этот метод не может использоваться для затрат сборок среды CLR, так как у них могут быть клиенты, отличные от установщик Windows.</span><span class="sxs-lookup"><span data-stu-id="e733b-112">This method cannot be used to cost common language runtime assemblies because these may have clients other than the Windows Installer.</span></span> <span data-ttu-id="e733b-113">Стоимость сборок среды CLR должна быть определена путем запроса среды CLR Microsoft .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="e733b-113">The cost of common language runtime assemblies must be determined by querying the Microsoft .NET Framework common language runtime.</span></span>

<span data-ttu-id="e733b-114">В установщик Windows используется двухэтапный процесс обработки транзакций для установки продуктов, содержащих сборки среды CLR.</span><span class="sxs-lookup"><span data-stu-id="e733b-114">The Windows Installer uses a two-step transactional process to install products containing common language runtime assemblies.</span></span> <span data-ttu-id="e733b-115">Это позволяет откатить установку и удаление сборок.</span><span class="sxs-lookup"><span data-stu-id="e733b-115">This enables the rollback of assembly installation and removal.</span></span> <span data-ttu-id="e733b-116">Дополнительные сведения см. [в разделе откат сборок в глобальном кэше сборок](rollback-of-assemblies-in-the-global-assembly-cache.md).</span><span class="sxs-lookup"><span data-stu-id="e733b-116">For more information, see [Rollback of Assemblies in the Global Assembly Cache](rollback-of-assemblies-in-the-global-assembly-cache.md).</span></span>

<span data-ttu-id="e733b-117">Обратите внимание, что сборки, установленные в глобальный кэш сборок установкой в [контексте установки](installation-context.md) «на пользователя», не защищаются с помощью защиты файлов Windows.</span><span class="sxs-lookup"><span data-stu-id="e733b-117">Note that assemblies installed to the global assembly cache by an installation in the per-user [installation context](installation-context.md) are not protected by Windows File Protection.</span></span> <span data-ttu-id="e733b-118">Сборки, устанавливаемые в глобальный кэш сборок путем установки в контексте установки на компьютере, защищаются с помощью [Защита ресурсов Windows](../wfp/windows-resource-protection-portal.md).</span><span class="sxs-lookup"><span data-stu-id="e733b-118">Assemblies that are installed to the global assembly cache by an installation in the per-machine installation context are protected by [Windows Resource Protection](../wfp/windows-resource-protection-portal.md).</span></span>

 

 
