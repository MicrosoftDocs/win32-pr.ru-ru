---
description: Если оба файла имеют номер версии, установщик Windows использует логику, показанную на следующей схеме потока, чтобы определить, следует ли заменить все установленные файлы, принадлежащие компоненту.
ms.assetid: c4c8a23b-e1c2-4c96-b708-7cbcbcab4cd4
title: Оба файла имеют версию
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: ddb52c7333e5455d40475c9f845643535b271d0b
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "103909047"
---
# <a name="both-files-have-a-version"></a>Оба файла имеют версию

Если файл ключа устанавливаемого компонента (Copy-A) имеет то же имя, что и файл, уже установленный в целевом расположении (Copy-B), установщик сравнивает номер версии и язык двух файлов.

Если оба файла имеют номер версии, установщик использует логику, показанную на следующей схеме потока, чтобы определить, следует ли заменить все установленные файлы, принадлежащие компоненту. Поскольку установщик устанавливает только компоненты целиком, при замене установленного файла ключей все файлы компонента заменяются.

Обратите внимание, что на этой диаграмме показаны [правила управления версиями файлов](file-versioning-rules.md)по умолчанию, которые можно переопределить, задав свойство [**REINSTALLMODE**](reinstallmode.md) . Значение свойства **REINSTALLMODE** по умолчанию — "omus".

![правила управления версиями файлов по умолчанию, если оба файла имеют одинаковое имя или номер версии](images/waiflow1.png)

Предыдущую диаграмму также можно использовать с файлами без указания языка. Если для Copy-A указан язык, а для Copy-B не задан язык, то Copy-B заменяется на Copy-A. Если для копий-A и Copy-B не задан язык, то Copy-B не заменяется.

См. Примеры управления версиями файлов по умолчанию при [замене существующих файлов](replacing-existing-files.md).

-   [Ни один из файлов не имеет версии](neither-file-has-a-version.md)
-   [Ни один из файлов не имеет версии с проверками хэша файла](neither-file-has-a-version-with-file-hash-check.md)
-   [Один файл имеет версию](one-file-has-a-version.md)

 

 



