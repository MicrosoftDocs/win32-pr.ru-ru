---
description: Чтобы установить несколько экземпляров продукта из одного пакета установщик Windows, необходимо создать базовый пакет установки для продукта и преобразование экземпляра для каждого экземпляра, который будет установлен в дополнение к базовому экземпляру.
ms.assetid: fef49dda-503f-4b13-8763-70cb2ee0df5d
title: Создание нескольких экземпляров с помощью преобразований экземпляров
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: c61424efbf08ea3e726594a3073f4ce7483af57d
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "105662936"
---
# <a name="authoring-multiple-instances-with-instance-transforms"></a>Создание нескольких экземпляров с помощью преобразований экземпляров

Чтобы установить несколько экземпляров продукта из одного пакета установщик Windows, необходимо создать базовый пакет установки для продукта и преобразование экземпляра для каждого экземпляра, который будет установлен в дополнение к базовому экземпляру. При создании базового пакета и преобразований следуйте приведенным ниже рекомендациям.

-   Приложение установки может проверить наличие установщика, работающего в версии Windows Vista, Windows Server 2003, Windows XP с пакетом обновления 1 (SP1) и распространяемом пакете установщик Windows 3,0. Любая из этих версий установщика (или более поздняя версия) необходима для установки нескольких экземпляров из одного пакета с помощью кода продукта — изменение преобразования.
-   Каждый экземпляр должен иметь уникальный код продукта и идентификатор экземпляра. Вы можете определить свойство в базовом пакете, значение которого может быть задано в качестве идентификатора экземпляра.
-   Чтобы обеспечить изолированность файлов каждого экземпляра, базовый пакет должен устанавливать файлы в расположение каталога, зависящее от идентификатора экземпляра.
-   Чтобы предотвратить изолированность нефайловых данных каждого экземпляра, базовый пакет должен сохранять нефайловые данные в Наборы компонентов для каждого экземпляра. Затем соответствующие компоненты должны быть установлены на основе условных инструкций, зависящих от идентификатора экземпляра.
-   Создайте преобразование экземпляра для каждого устанавливаемого экземпляра в дополнение к базовому экземпляру. Базовый пакет может установить собственный экземпляр.
-   Преобразование экземпляра должно изменить код продукта и идентификатор для каждого экземпляра.
-   Рекомендуется, чтобы преобразование «продукт» также изменило название продукта, чтобы экземпляр был легко различен в окне Установка и удаление программ через панель управления.
-   Если при преобразовании экземпляра файлы устанавливаются, они должны быть установлены в каталоге, который зависит от идентификатора экземпляра.
-   Все нефайловые данные, такие как разделы реестра, должны содержать имя экземпляра в пути для предотвращения конфликтов. Это можно сделать с помощью свойства, значение которого является идентификатором экземпляра в пути, как показано в следующем примере [таблицы реестра](registry-table.md).



| Реестр | Root | Клавиши                                            | Название         | Значение           | Компонент\_      |
|----------|------|------------------------------------------------|--------------|-----------------|------------------|
| Reg1     | 1    | Программное обеспечение \\ Microsoft \\ мипродукт \\ \[ InstanceId\] | инстанцегуид | \[ProductCode\] | NonFileDataComp1 |



 

Дополнительные сведения см. в статьях [Установка нескольких экземпляров продуктов и исправлений](installing-multiple-instances-of-products-and-patches.md) и [Установка нескольких экземпляров с преобразованиями экземпляров](installing-multiple-instances-with-instance-transforms.md).

 

 



