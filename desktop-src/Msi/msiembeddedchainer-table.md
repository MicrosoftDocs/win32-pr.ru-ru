---
description: Используйте эту таблицу для создания многопакетной установки.
ms.assetid: ac1e9c7b-bb83-4e1e-9108-211374c7d878
title: Таблица Мсиембеддедчаинер
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 902a33bce5d3a0aff3d2797fce94e5d272b61271
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "105662789"
---
# <a name="msiembeddedchainer-table"></a><span data-ttu-id="b7eaa-103">Таблица Мсиембеддедчаинер</span><span class="sxs-lookup"><span data-stu-id="b7eaa-103">MsiEmbeddedChainer Table</span></span>

<span data-ttu-id="b7eaa-104">Используйте эту таблицу для создания [многопакетной установки](multiple-package-installations.md).</span><span class="sxs-lookup"><span data-stu-id="b7eaa-104">Use this table to author a [multiple-package installation](multiple-package-installations.md).</span></span> <span data-ttu-id="b7eaa-105">Каждая строка в таблице Мсиембеддедчаинер ссылается на другую определяемую пользователем функцию, которую можно использовать для установки нескольких пакетов установщик Windows из одного пакета.</span><span class="sxs-lookup"><span data-stu-id="b7eaa-105">Each row in the MsiEmbeddedChainer table references a different user-defined function that can be used to install multiple Windows Installer packages from a single package.</span></span> <span data-ttu-id="b7eaa-106">[Исполняемые файлы](executable-files.md) для определяемых пользователем функций хранятся внутри пакета установщик Windows.</span><span class="sxs-lookup"><span data-stu-id="b7eaa-106">The [executable files](executable-files.md) for the user-defined functions are stored inside the Windows Installer package.</span></span>

<span data-ttu-id="b7eaa-107">**[Установщик Windows 4,0 или более ранней версии](not-supported-in-windows-installer-4-0.md):** Не поддерживается.</span><span class="sxs-lookup"><span data-stu-id="b7eaa-107">**[Windows Installer 4.0 or earlier](not-supported-in-windows-installer-4-0.md):** Not supported.</span></span> <span data-ttu-id="b7eaa-108">Эта таблица доступна начиная с установщик Windows 4,5.</span><span class="sxs-lookup"><span data-stu-id="b7eaa-108">This table is available beginning with Windows Installer 4.5.</span></span>

<span data-ttu-id="b7eaa-109">**Windows Server 2008 R2 с включенной ролью [службы удаленных рабочих столов](../termserv/terminal-services-portal.md) :** Не поддерживается.</span><span class="sxs-lookup"><span data-stu-id="b7eaa-109">**Windows Server 2008 R2 with the [Remote Desktop Services](../termserv/terminal-services-portal.md) role enabled:** Not supported.</span></span> <span data-ttu-id="b7eaa-110">Если роль [службы удаленных рабочих столов](../termserv/terminal-services-portal.md) включена, то установка нескольких пакетов с помощью таблицы мсиембеддедчаинер завершается ошибкой.</span><span class="sxs-lookup"><span data-stu-id="b7eaa-110">A multiple package installation using the MsiEmbeddedChainer table fails if the [Remote Desktop Services](../termserv/terminal-services-portal.md) role is enabled.</span></span>

<span data-ttu-id="b7eaa-111">Чтобы установить несколько пакетов из одного пакета, одна из определяемых пользователем функций, перечисленных в таблице Мсиембеддедчаинер, должна содержать условный оператор в поле условия, в котором вычисляется выполнение действия.</span><span class="sxs-lookup"><span data-stu-id="b7eaa-111">To install multiple packages from a single package, one of the user-defined functions listed in the MsiEmbeddedChainer table must have a conditional statment in the Condition field that evaluates to run the action.</span></span> <span data-ttu-id="b7eaa-112">Если более чем одна функция имеет условие, которое вычисляется для выполнения, может выполняться только одна функция.</span><span class="sxs-lookup"><span data-stu-id="b7eaa-112">If more than one function has a condition that evaluates to run, only one function can run.</span></span> <span data-ttu-id="b7eaa-113">В этом случае возникает ошибка, и не гарантируется, какая функция будет запущена.</span><span class="sxs-lookup"><span data-stu-id="b7eaa-113">This case is an error, and it cannot be guaranteed which function will run.</span></span> <span data-ttu-id="b7eaa-114">Если установка требует других пользовательских действий, они должны быть созданы в [таблице CustomAction](customaction-table.md) и таблицах последовательностей.</span><span class="sxs-lookup"><span data-stu-id="b7eaa-114">If other custom actions are needed by the installation, these should be authored into the [CustomAction table](customaction-table.md) and sequence tables.</span></span>

<span data-ttu-id="b7eaa-115">Функции должны быть присоединены к текущей установке путем вызова функции [**мсижоинтрансактион**](/windows/desktop/api/Msi/nf-msi-msijointransaction) и должны вызывать функцию [**мсиендтрансактион**](/windows/desktop/api/Msi/nf-msi-msiendtransaction) для фиксации установки нескольких пакетов.</span><span class="sxs-lookup"><span data-stu-id="b7eaa-115">The functions must join the current installation by calling the [**MsiJoinTransaction**](/windows/desktop/api/Msi/nf-msi-msijointransaction) function and must call the [**MsiEndTransaction**](/windows/desktop/api/Msi/nf-msi-msiendtransaction) function to commit the installation of multiple packages.</span></span> <span data-ttu-id="b7eaa-116">Если функции возвращают перед вызовом **мсиендтрансактион**, программа установки выполняет откат всех установок.</span><span class="sxs-lookup"><span data-stu-id="b7eaa-116">If the functions return before calling **MsiEndTransaction**, the installer rolls back all installations.</span></span>

<span data-ttu-id="b7eaa-117">Таблица Мсиембеддедчаинер содержит следующие столбцы.</span><span class="sxs-lookup"><span data-stu-id="b7eaa-117">The MsiEmbeddedChainer table has the following columns.</span></span>



| <span data-ttu-id="b7eaa-118">Столбец</span><span class="sxs-lookup"><span data-stu-id="b7eaa-118">Column</span></span>             | <span data-ttu-id="b7eaa-119">Type</span><span class="sxs-lookup"><span data-stu-id="b7eaa-119">Type</span></span>                             | <span data-ttu-id="b7eaa-120">Ключ</span><span class="sxs-lookup"><span data-stu-id="b7eaa-120">Key</span></span> | <span data-ttu-id="b7eaa-121">Допускает значения NULL</span><span class="sxs-lookup"><span data-stu-id="b7eaa-121">Nullable</span></span> |
|--------------------|----------------------------------|-----|----------|
| <span data-ttu-id="b7eaa-122">мсиембеддедчаинер</span><span class="sxs-lookup"><span data-stu-id="b7eaa-122">MsiEmbeddedChainer</span></span> | [<span data-ttu-id="b7eaa-123">Идентификатор</span><span class="sxs-lookup"><span data-stu-id="b7eaa-123">Identifier</span></span>](identifier.md)     | <span data-ttu-id="b7eaa-124">Да</span><span class="sxs-lookup"><span data-stu-id="b7eaa-124">Y</span></span>   | <span data-ttu-id="b7eaa-125">Нет</span><span class="sxs-lookup"><span data-stu-id="b7eaa-125">N</span></span>        |
| <span data-ttu-id="b7eaa-126">Условие</span><span class="sxs-lookup"><span data-stu-id="b7eaa-126">Condition</span></span>          | [<span data-ttu-id="b7eaa-127">Condition</span><span class="sxs-lookup"><span data-stu-id="b7eaa-127">Condition</span></span>](condition.md)       | <span data-ttu-id="b7eaa-128">Нет</span><span class="sxs-lookup"><span data-stu-id="b7eaa-128">N</span></span>   | <span data-ttu-id="b7eaa-129">Да</span><span class="sxs-lookup"><span data-stu-id="b7eaa-129">Y</span></span>        |
| <span data-ttu-id="b7eaa-130">Командная строка</span><span class="sxs-lookup"><span data-stu-id="b7eaa-130">CommandLine</span></span>        | [<span data-ttu-id="b7eaa-131">Формате</span><span class="sxs-lookup"><span data-stu-id="b7eaa-131">Formatted</span></span>](formatted.md)       | <span data-ttu-id="b7eaa-132">Нет</span><span class="sxs-lookup"><span data-stu-id="b7eaa-132">N</span></span>   | <span data-ttu-id="b7eaa-133">Да</span><span class="sxs-lookup"><span data-stu-id="b7eaa-133">Y</span></span>        |
| <span data-ttu-id="b7eaa-134">Источник</span><span class="sxs-lookup"><span data-stu-id="b7eaa-134">Source</span></span>             | [<span data-ttu-id="b7eaa-135">кустомсаурце</span><span class="sxs-lookup"><span data-stu-id="b7eaa-135">CustomSource</span></span>](customsource.md) | <span data-ttu-id="b7eaa-136">Нет</span><span class="sxs-lookup"><span data-stu-id="b7eaa-136">N</span></span>   | <span data-ttu-id="b7eaa-137">Нет</span><span class="sxs-lookup"><span data-stu-id="b7eaa-137">N</span></span>        |
| <span data-ttu-id="b7eaa-138">Тип</span><span class="sxs-lookup"><span data-stu-id="b7eaa-138">Type</span></span>               | [<span data-ttu-id="b7eaa-139">Integer</span><span class="sxs-lookup"><span data-stu-id="b7eaa-139">Integer</span></span>](integer.md)           | <span data-ttu-id="b7eaa-140">Нет</span><span class="sxs-lookup"><span data-stu-id="b7eaa-140">N</span></span>   | <span data-ttu-id="b7eaa-141">Нет</span><span class="sxs-lookup"><span data-stu-id="b7eaa-141">N</span></span>        |



 

## <a name="columns"></a><span data-ttu-id="b7eaa-142">Столбцы</span><span class="sxs-lookup"><span data-stu-id="b7eaa-142">Columns</span></span>

<dl> <dt>

<span data-ttu-id="b7eaa-143"><span id="MsiEmbeddedChainer"></span><span id="msiembeddedchainer"></span><span id="MSIEMBEDDEDCHAINER"></span>мсиембеддедчаинер</span><span class="sxs-lookup"><span data-stu-id="b7eaa-143"><span id="MsiEmbeddedChainer"></span><span id="msiembeddedchainer"></span><span id="MSIEMBEDDEDCHAINER"></span>MsiEmbeddedChainer</span></span>
</dt> <dd>

<span data-ttu-id="b7eaa-144">Первичный ключ для таблицы.</span><span class="sxs-lookup"><span data-stu-id="b7eaa-144">The primary key for the table.</span></span> <span data-ttu-id="b7eaa-145">Это значение является уникальным идентификатором определяемой пользователем функции, описываемой этой строкой.</span><span class="sxs-lookup"><span data-stu-id="b7eaa-145">This value is a unique identifier for the user-defined function described by this row.</span></span>

</dd> <dt>

<span data-ttu-id="b7eaa-146"><span id="Condition"></span><span id="condition"></span><span id="CONDITION"></span>Выполняет</span><span class="sxs-lookup"><span data-stu-id="b7eaa-146"><span id="Condition"></span><span id="condition"></span><span id="CONDITION"></span>Condition</span></span>
</dt> <dd>

<span data-ttu-id="b7eaa-147">Условный оператор для выполнения определяемой пользователем функции.</span><span class="sxs-lookup"><span data-stu-id="b7eaa-147">A conditional statement for running the user-defined function.</span></span> <span data-ttu-id="b7eaa-148">Можно включить или отключить функции, перечисленные в таблице Мсиембеддедчаинер, с помощью преобразования, изменяющего значения свойств, вычисляемые этим полем.</span><span class="sxs-lookup"><span data-stu-id="b7eaa-148">You can enable or disable the functions listed in the MsiEmbeddedChainer table using a transform that modifies property values evaluated by this field.</span></span> <span data-ttu-id="b7eaa-149">Дополнительные сведения см. [в разделе Использование свойств в условных инструкциях](using-properties-in-conditional-statements.md).</span><span class="sxs-lookup"><span data-stu-id="b7eaa-149">For more information, see [Using Properties in Conditional Statements](using-properties-in-conditional-statements.md).</span></span>

</dd> <dt>

<span data-ttu-id="b7eaa-150"><span id="CommandLine"></span><span id="commandline"></span><span id="COMMANDLINE"></span>Команд</span><span class="sxs-lookup"><span data-stu-id="b7eaa-150"><span id="CommandLine"></span><span id="commandline"></span><span id="COMMANDLINE"></span>CommandLine</span></span>
</dt> <dd>

<span data-ttu-id="b7eaa-151">Значение в этом поле является частью строки командной строки, передаваемой в исполняемый файл, указанный в исходном столбце.</span><span class="sxs-lookup"><span data-stu-id="b7eaa-151">The value in this field is a part of the command line string passed to the executable file identified in the Source column.</span></span> <span data-ttu-id="b7eaa-152">Установщик добавляет значение в это поле в обработчик транзакции для создания командной строки.</span><span class="sxs-lookup"><span data-stu-id="b7eaa-152">The installer appends the value in this field to the transaction handle to generate the command line.</span></span> <span data-ttu-id="b7eaa-153">Если значение в этом столбце равно null, Командная строка состоит только из обработчика транзакций.</span><span class="sxs-lookup"><span data-stu-id="b7eaa-153">If the value in this column is null, the command line consists of only the transaction handle.</span></span>

</dd> <dt>

<span data-ttu-id="b7eaa-154"><span id="Source"></span><span id="source"></span><span id="SOURCE"></span>Источника</span><span class="sxs-lookup"><span data-stu-id="b7eaa-154"><span id="Source"></span><span id="source"></span><span id="SOURCE"></span>Source</span></span>
</dt> <dd>

<span data-ttu-id="b7eaa-155">Расположение исполняемого файла для определяемой пользователем функции.</span><span class="sxs-lookup"><span data-stu-id="b7eaa-155">The location of the executable file for the user-defined function.</span></span> <span data-ttu-id="b7eaa-156">Если значение в столбце Type равно 2, то этот столбец может содержать внешний ключ в [двоичную таблицу](binary-table.md).</span><span class="sxs-lookup"><span data-stu-id="b7eaa-156">If the value in the Type column is 2, this column can contain an external key into the [Binary table](binary-table.md).</span></span> <span data-ttu-id="b7eaa-157">Если значение в столбце Type равно 18, этот столбец может содержать внешний ключ в [таблице File](file-table.md).</span><span class="sxs-lookup"><span data-stu-id="b7eaa-157">If the value in the Type column is 18, this column can contain an external key into the [File table](file-table.md).</span></span> <span data-ttu-id="b7eaa-158">Если значение в столбце Type равно 50, то этот столбец может содержать внешний ключ в [таблице свойств](property-table.md).</span><span class="sxs-lookup"><span data-stu-id="b7eaa-158">If the value in the Type column is 50, this column can contain an external key into the [Property table](property-table.md).</span></span>

</dd> <dt>

<span data-ttu-id="b7eaa-159"><span id="Type"></span><span id="type"></span><span id="TYPE"></span>Тип</span><span class="sxs-lookup"><span data-stu-id="b7eaa-159"><span id="Type"></span><span id="type"></span><span id="TYPE"></span>Type</span></span>
</dt> <dd>

<span data-ttu-id="b7eaa-160">Функции, перечисленные в таблице Мсиембеддедчаинер, описываются с помощью следующих числовых типов настраиваемых действий.</span><span class="sxs-lookup"><span data-stu-id="b7eaa-160">The functions listed in the MsiEmbeddedChainer table are described using the following custom action numeric types.</span></span> <span data-ttu-id="b7eaa-161">Этот столбец может содержать значения только для следующих трех числовых типов. любое другое сочетание флагов настраиваемых действий игнорируется.</span><span class="sxs-lookup"><span data-stu-id="b7eaa-161">This column can contain the values for the following three numeric types only; any other combination of custom action flags is ignored.</span></span>



| <span data-ttu-id="b7eaa-162">Тип настраиваемого действия</span><span class="sxs-lookup"><span data-stu-id="b7eaa-162">Custom action type</span></span>                                 | <span data-ttu-id="b7eaa-163">Флаги настраиваемого действия</span><span class="sxs-lookup"><span data-stu-id="b7eaa-163">Custom action flags</span></span>                                                | <span data-ttu-id="b7eaa-164">Шестнадцатеричный</span><span class="sxs-lookup"><span data-stu-id="b7eaa-164">Hexadecimal</span></span> | <span data-ttu-id="b7eaa-165">Decimal</span><span class="sxs-lookup"><span data-stu-id="b7eaa-165">Decimal</span></span> |
|----------------------------------------------------|--------------------------------------------------------------------|-------------|---------|
| [<span data-ttu-id="b7eaa-166">Тип настраиваемого действия 2</span><span class="sxs-lookup"><span data-stu-id="b7eaa-166">Custom Action Type 2</span></span>](custom-action-type-2.md)   | <span data-ttu-id="b7eaa-167">**мсидбкустомактионтипиксе**  +  **мсидбкустомактионтипебинаридата**</span><span class="sxs-lookup"><span data-stu-id="b7eaa-167">**msidbCustomActionTypeExe** + **msidbCustomActionTypeBinaryData**</span></span> | <span data-ttu-id="b7eaa-168">0x002</span><span class="sxs-lookup"><span data-stu-id="b7eaa-168">0x002</span></span>       | <span data-ttu-id="b7eaa-169">2</span><span class="sxs-lookup"><span data-stu-id="b7eaa-169">2</span></span>       |
| [<span data-ttu-id="b7eaa-170">Тип настраиваемого действия 18</span><span class="sxs-lookup"><span data-stu-id="b7eaa-170">Custom Action Type 18</span></span>](custom-action-type-18.md) | <span data-ttu-id="b7eaa-171">**мсидбкустомактионтипиксе**  +  **мсидбкустомактионтипесаурцефиле**</span><span class="sxs-lookup"><span data-stu-id="b7eaa-171">**msidbCustomActionTypeExe** + **msidbCustomActionTypeSourceFile**</span></span> | <span data-ttu-id="b7eaa-172">0x012</span><span class="sxs-lookup"><span data-stu-id="b7eaa-172">0x012</span></span>       | <span data-ttu-id="b7eaa-173">18</span><span class="sxs-lookup"><span data-stu-id="b7eaa-173">18</span></span>      |
| [<span data-ttu-id="b7eaa-174">Тип настраиваемого действия 50</span><span class="sxs-lookup"><span data-stu-id="b7eaa-174">Custom Action Type 50</span></span>](custom-action-type-50.md) | <span data-ttu-id="b7eaa-175">**мсидбкустомактионтипиксе**  +  **мсидбкустомактионтипепроперти**</span><span class="sxs-lookup"><span data-stu-id="b7eaa-175">**msidbCustomActionTypeExe** + **msidbCustomActionTypeProperty**</span></span>   | <span data-ttu-id="b7eaa-176">0x032</span><span class="sxs-lookup"><span data-stu-id="b7eaa-176">0x032</span></span>       | <span data-ttu-id="b7eaa-177">50</span><span class="sxs-lookup"><span data-stu-id="b7eaa-177">50</span></span>      |



 

</dd> </dl>

## <a name="remarks"></a><span data-ttu-id="b7eaa-178">Комментарии</span><span class="sxs-lookup"><span data-stu-id="b7eaa-178">Remarks</span></span>

<span data-ttu-id="b7eaa-179">Установщик Windows не запрещает выполнение определяемых пользователем функций в этой таблице во время объявления приложения.</span><span class="sxs-lookup"><span data-stu-id="b7eaa-179">The Windows Installer does not prevent the user-defined functions in this table from running during the advertisement of the application.</span></span> <span data-ttu-id="b7eaa-180">Условный оператор в столбце Condition можно использовать для предотвращения выполнения функции во время объявления.</span><span class="sxs-lookup"><span data-stu-id="b7eaa-180">You can use a conditional statement in the Condition column to prevent a function from being run during advertisement.</span></span>

<span data-ttu-id="b7eaa-181">Установщик Windows также предоставляет невстроенный внешний обработчик пользовательского интерфейса для создания многофункционального пользовательского интерфейса поверх пакета установщик Windows.</span><span class="sxs-lookup"><span data-stu-id="b7eaa-181">The Windows Installer also provides a non-embedded external UI handler to build a rich user interface on top of the Windows Installer package.</span></span> <span data-ttu-id="b7eaa-182">Дополнительные сведения об использовании внешнего обработчика пользовательского интерфейса с установщик Windows см. в разделе [мониторинг установки с помощью мсисетекстерналуи](monitoring-an-installation-using-msisetexternalui.md).</span><span class="sxs-lookup"><span data-stu-id="b7eaa-182">For more information about using an external UI handler with the Windows Installer, see [Monitoring an Installation Using MsiSetExternalUI](monitoring-an-installation-using-msisetexternalui.md).</span></span>

<span data-ttu-id="b7eaa-183">В [таблице мсипаккажецертификате](msipackagecertificate-table.md) перечислены сертификаты цифровых подписей, используемые для проверки подлинности пакетов установки, которые делают установку нескольких пакетов.</span><span class="sxs-lookup"><span data-stu-id="b7eaa-183">The [MsiPackageCertificate Table](msipackagecertificate-table.md) lists digital signature certificates used to verify the identity of the installation packages that make a multiple-package installation.</span></span> <span data-ttu-id="b7eaa-184">С помощью этой таблицы можно сократить количество случаев, когда в многопакетной установке отображается запрос контроля [*учетных записей*](u-gly.md) (UAC), требующий ответ администратором.</span><span class="sxs-lookup"><span data-stu-id="b7eaa-184">You can use this table to reduce the number of times your multiple-package installation displays a [*User Account Control*](u-gly.md) (UAC) prompt that requires a response by an administrator.</span></span>

 

 
