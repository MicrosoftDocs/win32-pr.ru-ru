---
description: Установщик Windows может использовать цифровые подписи для обнаружения поврежденных ресурсов.
ms.assetid: 68f2c686-cbe0-495d-a448-a7d2ca1df47b
title: Цифровые подписи и установщик Windows
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 2d41dee15da938c586bf061d216d9003586a799c
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "105664037"
---
# <a name="digital-signatures-and-windows-installer"></a><span data-ttu-id="e9ba9-103">Цифровые подписи и установщик Windows</span><span class="sxs-lookup"><span data-stu-id="e9ba9-103">Digital Signatures and Windows Installer</span></span>

<span data-ttu-id="e9ba9-104">Установщик Windows может использовать цифровые подписи для обнаружения поврежденных ресурсов.</span><span class="sxs-lookup"><span data-stu-id="e9ba9-104">The Windows Installer can use digital signatures to detect corrupted resources.</span></span> <span data-ttu-id="e9ba9-105">Сертификат подписавший может сравниваться с сертификатом подписи внешнего ресурса, устанавливаемого пакетом.</span><span class="sxs-lookup"><span data-stu-id="e9ba9-105">A signer certificate may be compared to the signer certificate of an external resource to be installed by the package.</span></span> <span data-ttu-id="e9ba9-106">Дополнительные сведения об использовании цифровых подписей, цифровых сертификатов и [**WinVerifyTrust**](/windows/desktop/api/wintrust/nf-wintrust-winverifytrust)см. в разделе " [Безопасность](https://msdn.microsoft.com/library/cc527452.aspx) " пакета средств разработки программного обеспечения Microsoft Windows (SDK).</span><span class="sxs-lookup"><span data-stu-id="e9ba9-106">For more information regarding the use of digital signatures, digital certificates, and [**WinVerifyTrust**](/windows/desktop/api/wintrust/nf-wintrust-winverifytrust), see the [Security](https://msdn.microsoft.com/library/cc527452.aspx) section of the Microsoft Windows Software Development Kit (SDK).</span></span>

<span data-ttu-id="e9ba9-107">С помощью установщик Windows Цифровые подписи можно использовать с пакетами установщик Windows, преобразованиями, исправлениями, модулями слияния и внешними CAB-файлами.</span><span class="sxs-lookup"><span data-stu-id="e9ba9-107">With Windows Installer, digital signatures can be used with Windows Installer packages, transforms, patches, merge modules, and external cabinet files.</span></span> <span data-ttu-id="e9ba9-108">Установщик Windows интегрирована с политикой ограниченного использования программ в Microsoft Windows XP.</span><span class="sxs-lookup"><span data-stu-id="e9ba9-108">Windows Installer is integrated with Software Restriction Policy on Microsoft Windows XP.</span></span> <span data-ttu-id="e9ba9-109">Политики можно создавать, чтобы разрешить или запретить установку на основе различных критериев, включая конкретный сертификат или издатель.</span><span class="sxs-lookup"><span data-stu-id="e9ba9-109">Policies can be created to allow or prevent installations based upon different criteria, including a particular signer certificate or publisher.</span></span> <span data-ttu-id="e9ba9-110">Установщик Windows может выполнять проверку подписи внешних CAB-файлов на всех платформах, где установлена версия CryptoAPI 2,0.</span><span class="sxs-lookup"><span data-stu-id="e9ba9-110">The Windows Installer can perform signature validation of external cabinet files on all platforms where CryptoAPI version 2.0 is installed.</span></span>

<span data-ttu-id="e9ba9-111">Обратите внимание, что образец Setup.exe начальной загрузки, поставляемый с пакетом SDK для установщик Windows, выполняет проверку подписи для пакета установщик Windows перед началом установки.</span><span class="sxs-lookup"><span data-stu-id="e9ba9-111">Note that the sample Setup.exe bootstrap provided with the Windows Installer SDK performs a signature check on a Windows Installer package prior to initiating the installation.</span></span>

<span data-ttu-id="e9ba9-112">При выполнении [административной установки](administrative-installation.md) удаляется цифровая подпись из пакета.</span><span class="sxs-lookup"><span data-stu-id="e9ba9-112">Performing an [administrative installation](administrative-installation.md) removes the digital signature from the package.</span></span> <span data-ttu-id="e9ba9-113">Административная установка изменяет пакет установки, чтобы добавить поток Админпропертиес, что сделает недействительным исходную цифровую подпись.</span><span class="sxs-lookup"><span data-stu-id="e9ba9-113">An administrative installation modifies the installation package in order to add the AdminProperties stream, which would invalidate the original digital signature.</span></span> <span data-ttu-id="e9ba9-114">Администратор может заново подписать пакет.</span><span class="sxs-lookup"><span data-stu-id="e9ba9-114">An administrator can resign the package.</span></span>

<span data-ttu-id="e9ba9-115">Применение исправления к административной установке также приводит к удалению цифровой подписи из пакета.</span><span class="sxs-lookup"><span data-stu-id="e9ba9-115">Applying a patch to an administrative installation also removes the digital signature from the package.</span></span> <span data-ttu-id="e9ba9-116">Причина заключается в том, что изменения сохраняются в пакете установки с установкой исправления административной установки.</span><span class="sxs-lookup"><span data-stu-id="e9ba9-116">The reason is because the changes persist in the patched installation package of the administrative installation.</span></span> <span data-ttu-id="e9ba9-117">Администратор может заново подписать пакет.</span><span class="sxs-lookup"><span data-stu-id="e9ba9-117">An administrator can resign the package.</span></span>

<span data-ttu-id="e9ba9-118">Начиная с версии установщик Windows 3,0, [исправление контроля учетных записей пользователей (UAC)](user-account-control--uac--patching.md) позволяет пользователям без прав администратора устанавливать исправления приложений, установленных в контексте на компьютере.</span><span class="sxs-lookup"><span data-stu-id="e9ba9-118">Starting with Windows Installer version 3.0, [User Account Control (UAC) Patching](user-account-control--uac--patching.md) enables non-administrator users to patch applications installed in the per-machine context.</span></span> <span data-ttu-id="e9ba9-119">Исправление контроля учетных записей включается путем предоставления сертификата подписавшим в таблице [мсипатчцертификате](msipatchcertificate-table.md) и подписывания исправлений с помощью того же сертификата.</span><span class="sxs-lookup"><span data-stu-id="e9ba9-119">UAC patching is enabled by providing a signer certificate in the [MsiPatchCertificate](msipatchcertificate-table.md) table and signing patches with the same certificate.</span></span>

<span data-ttu-id="e9ba9-120">Дополнительные сведения см. в статьях [цифровые подписи и внешние CAB-файлы](digital-signatures-and-external-cabinet-files.md), [установщик Windows и политика ограниченного использования программ](windows-installer-and-software-restriction-policy.md), [Создание полностью проверенной установки](authoring-a-fully-verified-signed-installation.md)и [установщик Windows пример установки на основе URL-адреса](a-url-based-windows-installer-installation-example.md).</span><span class="sxs-lookup"><span data-stu-id="e9ba9-120">For more information, see [Digital Signatures and External Cabinet Files](digital-signatures-and-external-cabinet-files.md), [Windows Installer and Software Restriction Policy](windows-installer-and-software-restriction-policy.md), [Authoring a Fully Verified Signed Installation](authoring-a-fully-verified-signed-installation.md), and [A URL based Windows Installer Installation Example](a-url-based-windows-installer-installation-example.md).</span></span>

 

 
