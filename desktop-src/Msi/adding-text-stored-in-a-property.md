---
description: Пример, описанный в разделе Создание условного &\# 0034; Подождите.
ms.assetid: b563e306-6d10-4298-9a71-9e749224ccd2
title: Добавление текста, хранящегося в свойстве
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 1d43910b946db737d2b306d7c75f6683401eee0a
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "104423881"
---
# <a name="adding-text-stored-in-a-property"></a><span data-ttu-id="0d723-103">Добавление текста, хранящегося в свойстве</span><span class="sxs-lookup"><span data-stu-id="0d723-103">Adding Text Stored in a Property</span></span>

<span data-ttu-id="0d723-104">Пример, описанный в разделе [создание условного выражения "Подождите... "](authoring-a-conditional-please-wait-------message-box.md) В окне сообщения отображается диалоговое окно с текстом:" Подождите, пока закончится стоимость места на диске ".</span><span class="sxs-lookup"><span data-stu-id="0d723-104">The example described in the section titled [Authoring a Conditional "Please Wait . . . " Message Box](authoring-a-conditional-please-wait-------message-box.md) displays a dialog box with text that reads: "Please wait while disk space costing is completed."</span></span> <span data-ttu-id="0d723-105">Это можно сделать, поместив [элемент управления Text](text-control.md) в диалоговое окно и введя текстовую строку в столбец text [таблицы Control](control-table.md).</span><span class="sxs-lookup"><span data-stu-id="0d723-105">This could be done simply by putting a [Text Control](text-control.md) on the dialog box and entering the text string into the Text column of the [Control table](control-table.md).</span></span> <span data-ttu-id="0d723-106">В этом случае сведения о стиле шрифта должны быть внедрены в строку.</span><span class="sxs-lookup"><span data-stu-id="0d723-106">In this case, the information about the font style must be embedded in the string.</span></span> <span data-ttu-id="0d723-107">Автор должен задать шрифт и стиль шрифта, добавив префикс строки символов в { \\ *Style*}.</span><span class="sxs-lookup"><span data-stu-id="0d723-107">The author must set the font and font style by prefixing the character string with {\\*style*}.</span></span> <span data-ttu-id="0d723-108">Где *Style* — это идентификатор стиля шрифта, указанный в столбце система создала шрифт [таблицы система создала шрифт](textstyle-table.md).</span><span class="sxs-lookup"><span data-stu-id="0d723-108">Where *style* is a font style identifier listed in the TextStyle column of the [TextStyle table](textstyle-table.md).</span></span> <span data-ttu-id="0d723-109">Этот метод добавления текста демонстрируется несколько раз в [примере установки](an-installation-example.md).</span><span class="sxs-lookup"><span data-stu-id="0d723-109">This method of adding text is illustrated several times in [An Installation Example](an-installation-example.md).</span></span>

<span data-ttu-id="0d723-110">Автор пользовательского интерфейса также может хранить текст в свойстве.</span><span class="sxs-lookup"><span data-stu-id="0d723-110">An author of a user interface can also store text in a property.</span></span> <span data-ttu-id="0d723-111">В следующем примере показано, как можно использовать Контролевентс для отображения альтернативных текстовых строк.</span><span class="sxs-lookup"><span data-stu-id="0d723-111">The following example illustrates this and shows how ControlEvents can be used to display alternative text strings.</span></span>

<span data-ttu-id="0d723-112">Цель в этом примере снова помещает диалоговое окно **ваитфоркостинг** во время выполнения фоновой задачи.</span><span class="sxs-lookup"><span data-stu-id="0d723-112">The objective in this example is again to put up a **WaitForCosting** dialog box while a background task is running.</span></span> <span data-ttu-id="0d723-113">Разница с новым сценарием заключается в том, что если пользователь отменяет диалоговое окно **ваитфоркостинг** , а затем пытается активировать элемент управления до того, как фоновая задача завершится второй раз, появится окно **ваитфоркостинг** , в котором отображается альтернативное сообщение: "стоимость дискового пространства все еще выполняется.</span><span class="sxs-lookup"><span data-stu-id="0d723-113">The difference with the new scenario is that if the user cancels the **WaitForCosting** dialog box and then tries to activate the control before the background task has finished a second time, the **WaitForCosting** box reappears displaying an alternative message: "Disk space costing is still running.</span></span> <span data-ttu-id="0d723-114">Можно продолжить ожидание или вернуться к главному полю выбора, чтобы выйти из этой последовательности ".</span><span class="sxs-lookup"><span data-stu-id="0d723-114">You can continue to wait or return to the main selection box to exit this sequence."</span></span>

<span data-ttu-id="0d723-115">**Отображение диалогового окна «подождите», в котором отображаются альтернативные сообщения**</span><span class="sxs-lookup"><span data-stu-id="0d723-115">**To display a "Please Wait" dialog box that displays alternative messages**</span></span>

1.  <span data-ttu-id="0d723-116">Начните с добавления диалогового окна условное **ваитфоркостинг** в диалоговое окно выбора, как описано в разделе [создание условного выражения "Подождите... "Окно сообщения](authoring-a-conditional-please-wait-------message-box.md).</span><span class="sxs-lookup"><span data-stu-id="0d723-116">Begin by adding a conditional **WaitForCosting** dialog box to a Selection dialog box as described in [Authoring a Conditional "Please Wait . . . " Message Box](authoring-a-conditional-please-wait-------message-box.md).</span></span>
2.  <span data-ttu-id="0d723-117">Добавьте [элемент управления "текст](text-control.md) " в диалоговое окно **ваитфоркостинг** , создав запись в [таблице элементов управления](control-table.md).</span><span class="sxs-lookup"><span data-stu-id="0d723-117">Put a [Text Control](text-control.md) on the **WaitForCosting** dialog box by authoring a record in the [Control table](control-table.md).</span></span> <span data-ttu-id="0d723-118">Введите идентификатор диалогового окна **ваитфоркостинг** в \_ столбце диалог.</span><span class="sxs-lookup"><span data-stu-id="0d723-118">Enter the identifier of the **WaitForCosting** dialog box into the Dialog\_ column.</span></span> <span data-ttu-id="0d723-119">Введите идентификатор элемента управления Text в столбец Control.</span><span class="sxs-lookup"><span data-stu-id="0d723-119">Enter the identifier of the Text control into the Control column.</span></span> <span data-ttu-id="0d723-120">Укажите тип элемента управления в виде текста в столбце типа.</span><span class="sxs-lookup"><span data-stu-id="0d723-120">Specify the type of control as Text in the Type column.</span></span>
3.  <span data-ttu-id="0d723-121">Укажите [атрибут управления положением](position-control-attribute.md) для текстового элемента управления, введя горизонтальную и вертикальную координаты левого верхнего угла элемента управления в столбцах X и Y [таблицы управления](control-table.md).</span><span class="sxs-lookup"><span data-stu-id="0d723-121">Specify the [Position control attribute](position-control-attribute.md) for the text control by entering the horizontal and vertical coordinates of the control's upper left corner in the X and Y columns of the [Control table](control-table.md).</span></span> <span data-ttu-id="0d723-122">Используйте Пиксели в качестве единиц расстояния.</span><span class="sxs-lookup"><span data-stu-id="0d723-122">Use pixels as distance units.</span></span>
4.  <span data-ttu-id="0d723-123">Укажите ширину и высоту элемента управления "текст", введя эти измерения в столбцах "ширина" и "высота" в [таблице элементов управления](control-table.md).</span><span class="sxs-lookup"><span data-stu-id="0d723-123">Specify the width and height of the text control by entering these dimensions into the Width and Height columns of the [Control table](control-table.md).</span></span> <span data-ttu-id="0d723-124">Используйте Пиксели как единицы длины.</span><span class="sxs-lookup"><span data-stu-id="0d723-124">Use pixels as length units.</span></span>
5.  <span data-ttu-id="0d723-125">Свойство и \_ следующие столбцы управляющей таблицы не влияют на текстовые элементы управления и могут оставаться пустыми в этом случае.</span><span class="sxs-lookup"><span data-stu-id="0d723-125">The Property and Control\_Next columns of the Control table do not affect Text controls and can be left blank in this case.</span></span>
6.  <span data-ttu-id="0d723-126">Укажите атрибуты элемента управления "текст", связанные с битовыми флагами.</span><span class="sxs-lookup"><span data-stu-id="0d723-126">Specify the control attributes for the Text control that are associated with bit flags.</span></span> <span data-ttu-id="0d723-127">Добавьте отдельные битовые значения и введите итоговое значение в столбец Attributes таблицы Control.</span><span class="sxs-lookup"><span data-stu-id="0d723-127">Add the individual bit values together and enter the total into the Attributes column of the Control table.</span></span> <span data-ttu-id="0d723-128">Это [видимые](visible-control-attribute.md), [утопленные](sunken-control-attribute.md), [включенные](enabled-control-attribute.md), [прозрачные](transparent-control-attribute.md), не [переносятся](nowrap-control-attribute.md)и не являющиеся [префиксами](noprefix-control-attribute.md) элементы управления.</span><span class="sxs-lookup"><span data-stu-id="0d723-128">These are the [Visible](visible-control-attribute.md), [Sunken](sunken-control-attribute.md), [Enabled](enabled-control-attribute.md), [Transparent](transparent-control-attribute.md), [NoWrap](nowrap-control-attribute.md), and [NoPrefix](noprefix-control-attribute.md) control attributes.</span></span> <span data-ttu-id="0d723-129">Сочетание битов, которое отображает элемент управления "текст" на непрозрачном фоне, с переносом текста имеет значение 0, поэтому введите 0 или оставьте столбец Attributes пустым.</span><span class="sxs-lookup"><span data-stu-id="0d723-129">The combination of bits that display a text control on an opaque background, with wrapping text is 0, therefore enter 0 or leave the Attributes column blank.</span></span>
7.  <span data-ttu-id="0d723-130">Текстовый столбец таблицы управления можно оставить пустым.</span><span class="sxs-lookup"><span data-stu-id="0d723-130">The Text column of the Control table can be left blank.</span></span> <span data-ttu-id="0d723-131">Элемент управления "текст" отображает текстовую строку, которая является значением атрибута [текстового](text-control-attribute.md) элемента управления.</span><span class="sxs-lookup"><span data-stu-id="0d723-131">The Text control displays the text string that is the value of the [Text](text-control-attribute.md) control attribute.</span></span> <span data-ttu-id="0d723-132">Метод установки этого атрибута описан в последующих шагах этой процедуры.</span><span class="sxs-lookup"><span data-stu-id="0d723-132">The method for setting this attribute is described in subsequent steps of this procedure.</span></span>
8.  <span data-ttu-id="0d723-133">Добавьте запись в [таблицу свойств](property-table.md) , чтобы определить свойство сообщения фирстмессаже.</span><span class="sxs-lookup"><span data-stu-id="0d723-133">Add a record in the [Property table](property-table.md) to define the FirstMessage message property.</span></span> <span data-ttu-id="0d723-134">Это свойство представляет собой строку, содержащую стиль шрифта и текст для первого сообщения.</span><span class="sxs-lookup"><span data-stu-id="0d723-134">This property is a string containing the font style and text for the first message.</span></span> <span data-ttu-id="0d723-135">Введите имя Фирстмессаже в столбце свойств.</span><span class="sxs-lookup"><span data-stu-id="0d723-135">Enter the name FirstMessage in the Property column.</span></span> <span data-ttu-id="0d723-136">В столбце значение введите строку "{ \\ ваитстиле}. Подождите, пока завершится стоимость места на диске".</span><span class="sxs-lookup"><span data-stu-id="0d723-136">In the Value column, enter the string: "{\\WaitStyle}Please wait while disk space costing is completed."</span></span> <span data-ttu-id="0d723-137">Где Ваитстиле — это идентификатор одного из стилей шрифтов, перечисленных в столбце система создала шрифт [таблицы система создала шрифт](textstyle-table.md).</span><span class="sxs-lookup"><span data-stu-id="0d723-137">Where WaitStyle is an identifier for one of the font styles listed in the TextStyle column of the [TextStyle table](textstyle-table.md).</span></span>
9.  <span data-ttu-id="0d723-138">Добавьте запись в [таблицу свойств](property-table.md) , чтобы определить свойство сообщения секондмессаже.</span><span class="sxs-lookup"><span data-stu-id="0d723-138">Add a record in the [Property table](property-table.md) to define the SecondMessage message property.</span></span> <span data-ttu-id="0d723-139">Это свойство представляет собой строку, содержащую начертание и текст для второго сообщения.</span><span class="sxs-lookup"><span data-stu-id="0d723-139">This property is a string containing the font style and text for the second message.</span></span> <span data-ttu-id="0d723-140">Введите имя Секондмессаже в столбце свойств.</span><span class="sxs-lookup"><span data-stu-id="0d723-140">Enter the name SecondMessage in the Property column.</span></span> <span data-ttu-id="0d723-141">В столбце значение введите строку: "{ \\ ваитстиле} стоимость места на диске по-прежнему выполняется.</span><span class="sxs-lookup"><span data-stu-id="0d723-141">In the Value column enter the string: "{\\WaitStyle}Disk space costing is still running.</span></span> <span data-ttu-id="0d723-142">Можно продолжить ожидание или вернуться к главному полю выбора, чтобы выйти из этой последовательности ".</span><span class="sxs-lookup"><span data-stu-id="0d723-142">You can continue to wait or return to the main selection box to exit this sequence."</span></span>
10. <span data-ttu-id="0d723-143">Добавьте запись в [таблицу свойств](property-table.md) , чтобы определить свойство сообщения ваитмессаже.</span><span class="sxs-lookup"><span data-stu-id="0d723-143">Add a record in the [Property table](property-table.md) to define the WaitMessage message property.</span></span> <span data-ttu-id="0d723-144">Это свойство представляет собой строку, содержащую стиль шрифта и текст сообщения, отображаемого в диалоговом окне **ваитфоркостинг** , если пользователь пытается активировать кнопку отправки до завершения учета затрат.</span><span class="sxs-lookup"><span data-stu-id="0d723-144">This property is a string containing the font style and text for the message displayed in the **WaitForCosting** dialog box if the user tries to activate a push button before costing is completed.</span></span> <span data-ttu-id="0d723-145">Введите имя Ваитмессаже в столбце свойств.</span><span class="sxs-lookup"><span data-stu-id="0d723-145">Enter the name WaitMessage in the Property column.</span></span> <span data-ttu-id="0d723-146">В столбце значение таблицы свойств введите: Фирстмессаже.</span><span class="sxs-lookup"><span data-stu-id="0d723-146">In the Value column of the Property table enter: FirstMessage.</span></span>
11. <span data-ttu-id="0d723-147">Добавьте [таблице ControlEvent событие SetProperty](setproperty-controlevent.md) в [таблицу таблице ControlEvent событие](controlevent-table.md) , которая инициализирует ваитмессаже до фирстмессаже каждый раз, когда откроется диалоговое окно **нового выбора** .</span><span class="sxs-lookup"><span data-stu-id="0d723-147">Add a [SetProperty ControlEvent](setproperty-controlevent.md) to the [ControlEvent table](controlevent-table.md) that initializes WaitMessage to FirstMessage each time a **New Selection** dialog box opens.</span></span> <span data-ttu-id="0d723-148">Введите идентификатор диалогового окна, которое находится непосредственно перед диалоговым окном выбора в диалоговом окне в столбце диалоговых окон \_ .</span><span class="sxs-lookup"><span data-stu-id="0d723-148">Enter the identifier for the dialog box that comes just before the Selection dialog in the dialog box sequence into the Dialog\_ column.</span></span> <span data-ttu-id="0d723-149">Введите идентификатор для элемента управления в этом диалоговом окне, который используется для открытия диалогового окна выбора в \_ столбце элемент управления.</span><span class="sxs-lookup"><span data-stu-id="0d723-149">Enter the identifier for the control on this dialog box used to open the Selection dialog box into the Control\_ column.</span></span> <span data-ttu-id="0d723-150">Введите \[ ваитмессаже \] в столбец событий.</span><span class="sxs-lookup"><span data-stu-id="0d723-150">Enter \[WaitMessage\] into the Event column.</span></span> <span data-ttu-id="0d723-151">Введите \[ фирстмессаже \] в столбец Argument.</span><span class="sxs-lookup"><span data-stu-id="0d723-151">Enter \[FirstMessage\] into the Argument column.</span></span> <span data-ttu-id="0d723-152">Введите 1 в столбец Условие и оставьте столбец упорядочения пустым.</span><span class="sxs-lookup"><span data-stu-id="0d723-152">Enter 1 into the Condition column and leave the Ordering column blank.</span></span>
12. <span data-ttu-id="0d723-153">Добавьте [таблице ControlEvent событие SetProperty](setproperty-controlevent.md) в [таблицу таблице ControlEvent событие](controlevent-table.md) , которая задает для ваитмессаже значение секондмессаже, если пользователь закрывает диалоговое окно **ваитфоркостинг** до завершения учета объема дискового пространства.</span><span class="sxs-lookup"><span data-stu-id="0d723-153">Add a [SetProperty ControlEvent](setproperty-controlevent.md) to the [ControlEvent table](controlevent-table.md) that sets Waitmessage to SecondMessage if the user closes the **WaitForCosting** dialog box before disk space costing has completed.</span></span> <span data-ttu-id="0d723-154">Введите идентификатор для диалогового окна **ваитфоркостинг** в \_ столбце диалог.</span><span class="sxs-lookup"><span data-stu-id="0d723-154">Enter the identifier for the **WaitForCosting** dialog box into the Dialog\_ column.</span></span> <span data-ttu-id="0d723-155">Введите идентификатор элемента управления Text в \_ столбец Control.</span><span class="sxs-lookup"><span data-stu-id="0d723-155">Enter the identifier for the Text control into the Control\_ column.</span></span> <span data-ttu-id="0d723-156">Введите \[ ваитмессаже \] в столбец событий.</span><span class="sxs-lookup"><span data-stu-id="0d723-156">Enter \[WaitMessage\] into the Event column.</span></span> <span data-ttu-id="0d723-157">Введите \[ секондмессаже \] в столбец Argument.</span><span class="sxs-lookup"><span data-stu-id="0d723-157">Enter \[SecondMessage\] into the Argument column.</span></span> <span data-ttu-id="0d723-158">В столбце Условие введите NOT [**костингкомплете**](costingcomplete.md) и оставьте столбец упорядочения пустым.</span><span class="sxs-lookup"><span data-stu-id="0d723-158">Enter NOT [**CostingComplete**](costingcomplete.md) into the Condition column and leave the Ordering column blank.</span></span>
13. <span data-ttu-id="0d723-159">На следующем шаге атрибут Text Control связывается с таблице ControlEvent событие, который порождает диалоговое окно **ваитфоркостинг** .</span><span class="sxs-lookup"><span data-stu-id="0d723-159">The following step links the Text control attribute to the ControlEvent that spawns the **WaitForCosting** dialog box.</span></span> <span data-ttu-id="0d723-160">Это приводит к тому, что установщик передает значение свойства Ваитмессаже атрибуту Text Control каждый раз, когда пользователь открывает диалоговое окно **ваитфоркостинг** .</span><span class="sxs-lookup"><span data-stu-id="0d723-160">This causes the installer to pass the value of the WaitMessage property to the Text control attribute each time the user opens a **WaitForCosting** dialog box.</span></span>
14. <span data-ttu-id="0d723-161">Подпишите атрибут элемента управления Text элемента управления "текст" на [Спавнваитдиалог таблице ControlEvent событие](spawnwaitdialog-controlevent.md) , который открывает диалоговое окно **ваитфоркостинг** , добавив запись в [таблицу таблица eventmapping](eventmapping-table.md).</span><span class="sxs-lookup"><span data-stu-id="0d723-161">Subscribe the Text control attribute of the Text control to the [SpawnWaitDialog ControlEvent](spawnwaitdialog-controlevent.md) that opens the **WaitForCosting** dialog box by adding a record to the [EventMapping table](eventmapping-table.md).</span></span> <span data-ttu-id="0d723-162">Введите идентификатор для диалогового окна **ваитфоркостинг** в \_ столбце диалог.</span><span class="sxs-lookup"><span data-stu-id="0d723-162">Enter the identifier for the **WaitForCosting** dialog box in the Dialog\_ column.</span></span> <span data-ttu-id="0d723-163">Введите идентификатор элемента управления Text в \_ столбец Control.</span><span class="sxs-lookup"><span data-stu-id="0d723-163">Enter the identifier for the Text control into the Control\_ column.</span></span> <span data-ttu-id="0d723-164">Введите Спавнваитдиалог в столбец событий.</span><span class="sxs-lookup"><span data-stu-id="0d723-164">Enter SpawnWaitDialog into the Event column.</span></span> <span data-ttu-id="0d723-165">Введите текст, идентификатор атрибута элемента управления Text, в столбец Attribute таблицы таблица eventmapping.</span><span class="sxs-lookup"><span data-stu-id="0d723-165">Enter Text, the identifier for the Text control attribute, into the Attribute column of the EventMapping table.</span></span>

 

 



