---
description: Поскольку пакет установки может содержать файлы, из которых состоит приложение, а также сведения, необходимые для их установки, установщик Windows можно использовать для обновления приложения.
ms.assetid: da946739-9efc-4bf0-8a9a-6f6ead3c4a34
title: Установка исправлений и обновления
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: b8cee185461ac14c8eac336a5af0c1315eb5e027
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "103998560"
---
# <a name="patching-and-upgrades"></a><span data-ttu-id="6007c-103">Установка исправлений и обновления</span><span class="sxs-lookup"><span data-stu-id="6007c-103">Patching and Upgrades</span></span>

<span data-ttu-id="6007c-104">Поскольку пакет установки может содержать файлы, из которых состоит приложение, а также сведения, необходимые для их установки, установщик Windows можно использовать для обновления приложения.</span><span class="sxs-lookup"><span data-stu-id="6007c-104">Because an installation package can contain the files that make up an application as well the information needed for their installation, Windows Installer can be used to update the application.</span></span> <span data-ttu-id="6007c-105">Установщик может обновить сведения в следующих частях установочного пакета:</span><span class="sxs-lookup"><span data-stu-id="6007c-105">The installer can update information in the following parts of the installation package:</span></span>

-   <span data-ttu-id="6007c-106">MSI файл.</span><span class="sxs-lookup"><span data-stu-id="6007c-106">The .msi file.</span></span>
-   <span data-ttu-id="6007c-107">Файлы приложения.</span><span class="sxs-lookup"><span data-stu-id="6007c-107">The files of the application.</span></span>
-   <span data-ttu-id="6007c-108">Сведения о регистрации установщик Windows.</span><span class="sxs-lookup"><span data-stu-id="6007c-108">The Windows Installer registration information.</span></span>

<span data-ttu-id="6007c-109">Тип обновления может быть характеризуется изменениями, внесенными обновлением в код продукта приложения, версию продукта и код пакета.</span><span class="sxs-lookup"><span data-stu-id="6007c-109">The type of update can be characterized by the changes the update makes to the application's product code, product version, and package code.</span></span> <span data-ttu-id="6007c-110">Версия продукта приложения хранится в свойстве [**ProductVersion**](productversion.md) .</span><span class="sxs-lookup"><span data-stu-id="6007c-110">The application's product version is stored in the [**ProductVersion**](productversion.md) property.</span></span> <span data-ttu-id="6007c-111">Код продукта приложения хранится в свойстве [**ProductCode**](productcode.md) .</span><span class="sxs-lookup"><span data-stu-id="6007c-111">The application's product code is stored in the [**ProductCode**](productcode.md) property.</span></span> <span data-ttu-id="6007c-112">[Код пакета](package-codes.md) приложения хранится в свойстве [**сводки номера редакции**](revision-number-summary.md) .</span><span class="sxs-lookup"><span data-stu-id="6007c-112">The application's [package code](package-codes.md) is stored in the [**Revision Number Summary**](revision-number-summary.md) Property.</span></span>

<span data-ttu-id="6007c-113">Обновление, которое изменяет приложение на другой продукт, необходимо для изменения [**ProductCode**](productcode.md) приложения.</span><span class="sxs-lookup"><span data-stu-id="6007c-113">An update that changes the application into another product is required to change the [**ProductCode**](productcode.md) of the application.</span></span> <span data-ttu-id="6007c-114">Дополнительные сведения о том, какие обновления нуждаются в изменении **ProductCode** , см. [в разделе изменение кода продукта](changing-the-product-code.md).</span><span class="sxs-lookup"><span data-stu-id="6007c-114">For more information about which updates require changing the **ProductCode** see [Changing the Product Code](changing-the-product-code.md).</span></span> <span data-ttu-id="6007c-115">Обновление может изменить [**ProductVersion**](productversion.md) и оставить **ProductCode** без изменений, если в будущих версиях приложения потребуется различать обновленные и необновленные версии текущего продукта.</span><span class="sxs-lookup"><span data-stu-id="6007c-115">The update can change the [**ProductVersion**](productversion.md) and leave the **ProductCode** unchanged if future versions of the application will need to differentiate between the updated and nonupdated versions of the current product.</span></span> <span data-ttu-id="6007c-116">[Код пакета](package-codes.md) уникальным образом определяет пакет установки и всегда должен изменяться каждый раз, когда обновление или обновление изменяет любую информацию в пакете установки.</span><span class="sxs-lookup"><span data-stu-id="6007c-116">The [Package Code](package-codes.md) uniquely identifies the installation package and should always be changed whenever update or upgrade changes any information in the installation package.</span></span>

<span data-ttu-id="6007c-117">При принятии решения о необходимости изменения версии продукта следует учитывать необходимость отличия обновленных и необновленных версий текущего продукта будущими версиями приложения.</span><span class="sxs-lookup"><span data-stu-id="6007c-117">When deciding whether to change the product version, you should consider If future versions of the application will need to differentiate between the updated and nonupdated versions of the current product.</span></span> <span data-ttu-id="6007c-118">Чтобы обеспечить различие в будущем, вместо [небольшого обновления](small-updates.md)следует использовать [незначительное](minor-upgrades.md) обновление.</span><span class="sxs-lookup"><span data-stu-id="6007c-118">To ensure differentiation in the future, a [minor upgrade](minor-upgrades.md) should be used instead of a [small update](small-updates.md).</span></span>

-   <span data-ttu-id="6007c-119">Если обновление изменяет MSI-файл и файлы приложения, но не изменяет свойство [**ProductCode**](productcode.md) или свойство [**ProductVersion**](productversion.md) , оно называется [небольшим обновлением](small-updates.md).</span><span class="sxs-lookup"><span data-stu-id="6007c-119">If an update changes the .msi file and application files, but does not change the [**ProductCode**](productcode.md) property or [**ProductVersion**](productversion.md) property, it is termed a [small update](small-updates.md).</span></span>
-   <span data-ttu-id="6007c-120">Если обновление изменяет [**ProductVersion**](productversion.md), но не изменяет [**код продукта**](productcode.md), оно называется [незначительным обновлением](minor-upgrades.md).</span><span class="sxs-lookup"><span data-stu-id="6007c-120">If the update changes the [**ProductVersion**](productversion.md), but does not change the [**ProductCode**](productcode.md), it is termed a [minor upgrade](minor-upgrades.md).</span></span>
-   <span data-ttu-id="6007c-121">Если обновление изменяет установку на совершенно другой продукт, необходимо изменить [**ProductCode**](productcode.md) , а обновление — на [значительное обновление](major-upgrades.md).</span><span class="sxs-lookup"><span data-stu-id="6007c-121">If the update changes the installation into an entirely different product, the [**ProductCode**](productcode.md) must change and the update is termed a [major upgrade](major-upgrades.md).</span></span>

> [!Note]  
> <span data-ttu-id="6007c-122">Для обеспечения отличий версий текущего продукта в будущем следует использовать [незначительное](minor-upgrades.md) обновление вместо [небольшого](small-updates.md).</span><span class="sxs-lookup"><span data-stu-id="6007c-122">To ensure differentiation of versions of the current product in the future, a [minor upgrade](minor-upgrades.md) should be used instead of a [small update](small-updates.md).</span></span>

 

<span data-ttu-id="6007c-123">В следующей таблице перечислены различные типы обновлений.</span><span class="sxs-lookup"><span data-stu-id="6007c-123">The following table summarizes the different types of updates.</span></span>



| <span data-ttu-id="6007c-124">Тип обновления</span><span class="sxs-lookup"><span data-stu-id="6007c-124">Type of update</span></span>                       | <span data-ttu-id="6007c-125">ProductCode</span><span class="sxs-lookup"><span data-stu-id="6007c-125">Productcode</span></span> | <span data-ttu-id="6007c-126">ProductVersion</span><span class="sxs-lookup"><span data-stu-id="6007c-126">ProductVersion</span></span> | <span data-ttu-id="6007c-127">Описание</span><span class="sxs-lookup"><span data-stu-id="6007c-127">Description</span></span>                                                                                                                                                                                                                                                                                                           |
|--------------------------------------|-------------|----------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="6007c-128">Небольшое обновление</span><span class="sxs-lookup"><span data-stu-id="6007c-128">Small Update</span></span>](small-updates.md)    | <span data-ttu-id="6007c-129">Без изменения.</span><span class="sxs-lookup"><span data-stu-id="6007c-129">No change</span></span>   | <span data-ttu-id="6007c-130">Без изменения.</span><span class="sxs-lookup"><span data-stu-id="6007c-130">No change</span></span>      | <span data-ttu-id="6007c-131">Обновление одного или двух файлов, размер которых слишком мал для изменения [**ProductVersion**](productversion.md).</span><span class="sxs-lookup"><span data-stu-id="6007c-131">An update to one or two files that is too small to warrant changing the [**ProductVersion**](productversion.md).</span></span> <span data-ttu-id="6007c-132">Код пакета в свойстве [**сводки номера редакции**](revision-number-summary.md) изменяется.</span><span class="sxs-lookup"><span data-stu-id="6007c-132">The package code in the [**Revision Number Summary**](revision-number-summary.md) Property does change.</span></span> <span data-ttu-id="6007c-133">Можно поставлять как полный пакет установки или как [пакет исправлений](patch-packages.md).</span><span class="sxs-lookup"><span data-stu-id="6007c-133">Can be shipped as a full installation package or as a [patch package](patch-packages.md).</span></span> |
| [<span data-ttu-id="6007c-134">Незначительное обновление</span><span class="sxs-lookup"><span data-stu-id="6007c-134">Minor Upgrade</span></span>](minor-upgrades.md)  | <span data-ttu-id="6007c-135">Без изменения.</span><span class="sxs-lookup"><span data-stu-id="6007c-135">No change</span></span>   | <span data-ttu-id="6007c-136">Изменено</span><span class="sxs-lookup"><span data-stu-id="6007c-136">Changed</span></span>        | <span data-ttu-id="6007c-137">Небольшое обновление вносит значительные изменения, чтобы гарантировать изменение свойства [**ProductVersion**](productversion.md) .</span><span class="sxs-lookup"><span data-stu-id="6007c-137">A small update making changes significant enough to warrant changing the [**ProductVersion**](productversion.md) property.</span></span> <span data-ttu-id="6007c-138">Можно поставлять как полный пакет установки или как [пакет исправлений](patch-packages.md).</span><span class="sxs-lookup"><span data-stu-id="6007c-138">Can be shipped as a full installation package or as a [patch package](patch-packages.md).</span></span>                                                                                                |
| [<span data-ttu-id="6007c-139">Основные обновления</span><span class="sxs-lookup"><span data-stu-id="6007c-139">Major Upgrades</span></span>](major-upgrades.md) | <span data-ttu-id="6007c-140">Изменено</span><span class="sxs-lookup"><span data-stu-id="6007c-140">Changed</span></span>     | <span data-ttu-id="6007c-141">Изменено</span><span class="sxs-lookup"><span data-stu-id="6007c-141">Changed</span></span>        | <span data-ttu-id="6007c-142">Исчерпывающее обновление продукта, требующее изменения в свойстве [**ProductCode**](productcode.md) .</span><span class="sxs-lookup"><span data-stu-id="6007c-142">A comprehensive update of the product warranting a change in the [**ProductCode**](productcode.md) property.</span></span> <span data-ttu-id="6007c-143">Поставляется как [пакет исправлений](patch-packages.md) или полный пакет установки продукта.</span><span class="sxs-lookup"><span data-stu-id="6007c-143">Shipped as a [patch package](patch-packages.md) or as a full product installation package.</span></span>                                                                                                             |



 

> [!Note]  
> <span data-ttu-id="6007c-144">Установщик Windows может установить приложение или обновление для всех пользователей компьютера (контекста компьютера) или для конкретного пользователя (контекст пользователя) в зависимости от привилегий доступа пользователя, значения свойства [**ALLUSERS**](allusers.md) и версии операционной системы. это можно делать с помощью.</span><span class="sxs-lookup"><span data-stu-id="6007c-144">The Windows Installer can install an application, or an update, for all users of a computer (per-machine context) or for a particular user (per-user context) depending on the access privileges of the user, the value of the [**ALLUSERS**](allusers.md) property, and the version of the operating system.</span></span> <span data-ttu-id="6007c-145">Разработчикам приложений следует учитывать, в каких контекстах будут устанавливаться обновления.</span><span class="sxs-lookup"><span data-stu-id="6007c-145">Application developers should consider in which context updates will be installed.</span></span> <span data-ttu-id="6007c-146">Если контексты приложения и обновления различаются, приложение может не обновиться должным образом.</span><span class="sxs-lookup"><span data-stu-id="6007c-146">If the contexts of the application and update are different, the application may not be updated as expected.</span></span>

 

<span data-ttu-id="6007c-147">Пользователи могут обновить приложение, переустановив пакет установщик Windows для приложения.</span><span class="sxs-lookup"><span data-stu-id="6007c-147">Users can update to an application by reinstalling a Windows Installer package for the application.</span></span> <span data-ttu-id="6007c-148">Обратите внимание, что [небольшие](minor-upgrades.md) обновления могут быть применены так же, как [небольшие](small-updates.md).</span><span class="sxs-lookup"><span data-stu-id="6007c-148">Note that [Minor Upgrades](minor-upgrades.md) can be applied in the same way as [Small Updates](small-updates.md).</span></span> <span data-ttu-id="6007c-149">Дополнительные сведения об обновлении приложения путем переустановки приложения см. в следующих разделах:</span><span class="sxs-lookup"><span data-stu-id="6007c-149">For more information about updating an application by reinstalling the application, see these sections:</span></span>

-   [<span data-ttu-id="6007c-150">Применение небольших обновлений путем переустановки продукта</span><span class="sxs-lookup"><span data-stu-id="6007c-150">Applying Small Updates by Reinstalling the Product</span></span>](applying-small-updates-by-reinstalling-the-product.md)
-   [<span data-ttu-id="6007c-151">Применение основных обновлений путем установки продукта</span><span class="sxs-lookup"><span data-stu-id="6007c-151">Applying Major Upgrades by Installing the Product</span></span>](applying-major-upgrades-by-installing-the-product.md)

<span data-ttu-id="6007c-152">Обновление приложения может предоставляться пользователям как пакет исправлений установщик Windows.</span><span class="sxs-lookup"><span data-stu-id="6007c-152">An update to an application can be provided to users as a Windows Installer patch package.</span></span> <span data-ttu-id="6007c-153">Исправление может содержать весь файл или только биты файлов, необходимые для обновления части файла.</span><span class="sxs-lookup"><span data-stu-id="6007c-153">A patch can contain an entire file or only the file bits necessary to update part of a file.</span></span> <span data-ttu-id="6007c-154">Это означает, что пользователь может загрузить обновление, которое намного меньше, чем весь продукт, и сохранить настройки пользователей при помощи обновления.</span><span class="sxs-lookup"><span data-stu-id="6007c-154">This means that the user can download an upgrade patch that is much smaller than the entire product and that preserves user customizations through the upgrade.</span></span> <span data-ttu-id="6007c-155">Обратите внимание, что [небольшие](minor-upgrades.md) обновления могут быть применены так же, как [небольшие](small-updates.md).</span><span class="sxs-lookup"><span data-stu-id="6007c-155">Note that [Minor Upgrades](minor-upgrades.md) can be applied in the same way as [Small Updates](small-updates.md).</span></span> <span data-ttu-id="6007c-156">Дополнительные сведения об обновлении приложения с помощью исправления см. в следующих разделах:</span><span class="sxs-lookup"><span data-stu-id="6007c-156">For more information about updating an application using a patch, see these sections:</span></span>

-   [<span data-ttu-id="6007c-157">Исправления</span><span class="sxs-lookup"><span data-stu-id="6007c-157">Patching</span></span>](patching.md)
-   [<span data-ttu-id="6007c-158">Создание небольшого исправления обновления</span><span class="sxs-lookup"><span data-stu-id="6007c-158">Creating a Small Update Patch</span></span>](creating-a-small-update-patch.md)
-   [<span data-ttu-id="6007c-159">Применение небольших обновлений путем исправления локальной установки продукта</span><span class="sxs-lookup"><span data-stu-id="6007c-159">Applying Small Updates by Patching the Local Installation of the Product</span></span>](applying-small-updates-by-patching-the-local-installation-of-the-product.md)
-   [<span data-ttu-id="6007c-160">Применение небольших обновлений путем исправления административного образа</span><span class="sxs-lookup"><span data-stu-id="6007c-160">Applying Small Updates by Patching an Administrative Image</span></span>](applying-small-updates-by-patching-an-administrative-image.md)
-   [<span data-ttu-id="6007c-161">Применение основных обновлений путем исправления локальной установки продукта</span><span class="sxs-lookup"><span data-stu-id="6007c-161">Applying Major Upgrades by Patching the Local Installation of the Product</span></span>](applying-major-upgrades-by-patching-the-local-installation-of-the-product.md)

 

 



