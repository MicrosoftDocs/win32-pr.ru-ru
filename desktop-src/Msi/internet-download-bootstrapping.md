---
description: С помощью установщик Windows в компоненты Windows SDK для установщик Windows разработчиков входит настраиваемый исполняемый файл начальной загрузки (Setup.exe) и средство настройки (Msistuff.exe).
ms.assetid: 478340b4-5ee8-4ae6-b2d4-f53afbf098d9
title: Начальная загрузка со скачиванием из Интернета
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 44e051382d425c0e4f99d30e5fa224967127cfff
ms.sourcegitcommit: 6515eef99ca0d1bbe3e27d4575e9986f5255f277
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/10/2021
ms.locfileid: "104000292"
---
# <a name="internet-download-bootstrapping"></a>Начальная загрузка со скачиванием из Интернета

С помощью установщик Windows в [компоненты Windows SDK для установщик Windows разработчиков](platform-sdk-components-for-windows-installer-developers.md)входит настраиваемый исполняемый файл начальной загрузки (Setup.exe) и средство настройки ([Msistuff.exe](msistuff-exe.md)). Используя Msistuff.exe для настройки ресурсов в Setup.exe, разработчики могут легко создать веб-установку пакета установщик Windows.

Минимальная версия установщика, необходимая для исполняемого файла начальной загрузки, — установщик Windows версии 2,0. Приложения могут получить версию установщика с помощью [**дллжетверсион**](/windows/win32/api/shlwapi/nc-shlwapi-dllgetversionproc). Дополнительные сведения см. [в разделе Определение версии установщик Windows](determining-the-windows-installer-version.md)

Исполняемый файл начальной загрузки, поставляемый с пакетом SDK для установщик Windows, выполняет следующие действия:

-   Вызывает [**WinVerifyTrust**](/windows/win32/api/wintrust/nf-wintrust-winverifytrust) для проверки цифровой подписи MSI файла. Установщик Windows версии 2,0 и более поздних версий предоставляет пакет интерфейса субъекта (SIP) для включения подписи пакетов установщик Windows.
-   При необходимости обновляет версию установщик Windows на компьютере.

Следующие ресурсы Setup.exe можно отобразить или настроить с помощью [Msistuff.exe](msistuff-exe.md).



| Идентификатор ресурса                  | Описание                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
|------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| ИСЕТУППРОПНАМЕ \_ BASEURL      | Базовое расположение URL-адреса Setup.exe. Если значение не указано, расположение Setup.exe по умолчанию — съемный носитель. Только установки на основе URL-адресов подчиняются проверке с помощью [**WinVerifyTrust**](/windows/win32/api/wintrust/nf-wintrust-winverifytrust). Завершающая косая черта в URL-адресе является необязательной. Этот ресурс является необязательным.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| \_база данных исетуппропнаме     | Имя MSI файла. Это относительный путь к MSI-файлу, указанному относительно расположения программы Setup.exe. Этот ресурс необходим, если \_ не указано исправление Resource исетуппропнаме. \_Невозможно одновременно указать базу данных исетуппропнаме и \_ исправление исетуппропнаме. Можно указать только одно из двух.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| \_Операция исетуппропнаме    | Тип выполняемой операции. Возможные значения: INSTALL, МИНПАТЧ, МАЖПАТЧ и ИНСТАЛЛУПД. Значение INSTALL соответствует установке пакета в первый раз. Значение МИНПАТЧ указывает, что исправление, указанное в свойстве PATCH, является небольшим или незначительным исправлением обновления. Значение МАЖПАТЧ указывает, что исправление, указанное в свойстве PATCH, является основным обновлением обновления. ИНСТАЛЛУПД указывает, что установка может быть впервые установлена или обновлена. Использование ИНСТАЛЛУПД имеет проверку начальной загрузки на наличие продукта. Если продукт имеется, устанавливается флаг пакета повторного кэширования и выполняется повторная установка. в противном случае выполняется обычная установка. Обратите внимание, что ИНСТАЛЛУПД следует использовать только для небольших и незначительных пакетов обновления, в которых код продукта не изменяется. В основном обновлении ПОВТОРная установка не требуется, так как код продукта изменяется по сути, создавая новый продукт. Разработка таблицы обновления в дополнение к действиям Финдрелатедпродуктс, Мигратефеатурестатес и RemoveExistingProducts обрабатывает обновление исходного продукта. Поэтому достаточно выбрать вариант установки. Если этот ресурс отсутствует, будет предпринята операция установки, если \_ создано свойство базы данных исетуппропнаме. В противном случае МИНПАТЧ предполагается, если \_ свойство исетуппропнаме Patch создано. Это необязательное значение. |
| ИСЕТУППРОПНАМЕ \_ ProductName  | Имя продукта. Это имя, используемое в тексте баннера в загруженном пользовательском интерфейсе. Этот ресурс является необязательным. Если этот параметр опущен, по умолчанию используется имя «Product».                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| \_Минимальный исетуппропнаме \_ MSI | Минимальная версия установщик Windows требуется. Если на компьютере не установлена минимальная версия установщик Windows, для обновления установщик Windows вызывается соответствующая [Instmsi.exe](instmsi-exe.md) . Значение этого свойства имеет тот же формат, что и значение PID \_ PAGECOUNT. Дополнительные сведения см. в описании свойства [**сводки количества страниц**](page-count-summary.md) . Это значение должно быть не менее 200, значение, идентифицирующее установщик Windows версию 2,0. Этот ресурс является обязательным.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| ИСЕТУППРОПНАМЕ \_ инстлокатион | Базовое расположение URL-адреса исполняемых файлов обновления установщик Windows. Этот ресурс можно опустить. Если это значение не указано, расположением по умолчанию для исполняемых файлов обновления является расположение Setup.exe.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| ИСЕТУППРОПНАМЕ \_ инстмсиа     | Имя версии исполняемого файла обновления установщик Windows в формате ANSI. Это относительный путь к версии ANSI Instmsi.exe относительно расположения, указанного параметром ИСЕТУППРОПНАМЕ \_ инстлокатион. Этот ресурс является обязательным.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| ИСЕТУППРОПНАМЕ \_ инстмсив     | Имя версии Юникода исполняемого файла установщик Windows обновления. Это относительный путь к версии Юникода Instmsi.exe относительно расположения, указанного параметром ИСЕТУППРОПНАМЕ \_ инстлокатион. Этот ресурс является обязательным.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| \_исправление исетуппропнаме        | Имя файла MSP. Это относительный путь к MSP-файлу, указанному относительно расположения программы Setup.exe. Этот ресурс необходим, если \_ не указана база данных исетуппропнаме ресурсов. \_Невозможно одновременно указать базу данных исетуппропнаме и \_ исправление исетуппропнаме. Можно указать только одно из двух.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| \_Свойства исетуппропнаме   | Строки свойства = значение. Это пары "свойство = значение" для включения в командную строку. Это необязательный параметр.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |



 

Например, следующие \_ значения базы данных исетуппропнаме BASEURL и исетуппропнаме \_ будут использоваться для следующих гипотетических расположений пакетов.



| Фактическое расположение пакета                                                                            | Значения ресурсов                                                                                                                               |
|----------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------|
| HTTPS: \/ /www.blueyonderairlines.com/Products/Product1/product1.msi                                   | ИСЕТУППРОПНАМЕ \_ BASEURL = HTTPS: \/ /www.blueyonderairlines.com/products/product1 исетуппропнаме \_ Database = product1.msi<br/>              |
| HTTPS: \/ /www.blueyonderairlines.com/Products/Product1/product1.msi                                   | ИСЕТУППРОПНАМЕ \_ BASEURL = HTTPS: \/ /www.blueyonderairlines.com/products/product1 исетуппропнаме \_ Database =.. /Products1/product1.msi<br/> |
| д: \\product1.msi                                                                                   | Опустить ИСЕТУППРОПНАМЕ \_ BASEURL. \_База данных исетуппропнаме = product1.msi<br/>                                                              |
| д: \\ \\product1.msi установки (текущее расположение Setup.exe — e: \\setup.exe.)<br/> | Опустить ИСЕТУППРОПНАМЕ \_ BASEURL. ИСЕТУППРОПНАМЕ \_ база данных = программа установки \\product1.msi<br/>                                                       |



 

## <a name="setupexe-command-line-parameters"></a>Setup.exe параметров командной строки

В следующей таблице перечислены параметры команды, которые можно использовать с Setup.exe, поставляемой с [компонентами Windows SDK для разработчиков установщик Windows](platform-sdk-components-for-windows-installer-developers.md). При вызове без параметров командной строки Setup.exe по умолчанию использует поведение, заданное с помощью настроенных ресурсов. Параметры командной строки являются взаимоисключающими — только один из них можно использовать одновременно.



| Параметр | Использование                                                                      | Значение                                                                                                                                                                                                                                                                                                         |
|--------|----------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **/a** | setup.exe **/a**                                                           | Инициирует административную установку. Если \_ свойство базы данных исетуппропнаме настроено в Setup.exe, этот параметр можно использовать для выполнения административной установки продукта. Этот параметр командной строки не поддерживается, если \_ настроен ресурс исправления исетуппропнаме.<br/> |
| **/a** | setup.exe **/a** *<полный путь к существующей административной установке>* | Если свойство ИСЕТУППРОПНАМЕ \_ Patch настроено в Setup.exe, этот параметр можно использовать для исправления существующей административной установки продукта. Этот параметр командной строки не поддерживается, если \_ настроен ресурс базы данных исетуппропнаме.                                               |
| **/v** | setup.exe **/v***<full path to a file>*                             | Проверяет подпись файла с помощью WinVerifyTrust. При использовании этого параметра пользовательский интерфейс не отображается. В этом случае результатом проверки доверия является возвращаемое значение, полученное при выполнении Setup.exe.                                                                                                 |
| **/?** |                                                                            | Отображает диалоговое окно справки с указанием допустимых аргументов. Примечание. диалоговое окно справки также отображается, если указаны недопустимые аргументы.                                                                                                                                                                               |



 

Дополнительные сведения см. [в разделе установщик Windows пример установки на основе URL-адреса](a-url-based-windows-installer-installation-example.md).

 

 
