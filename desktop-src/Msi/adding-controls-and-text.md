---
description: Элементы управления и текст, размещенные в диалоговых окнах и объявлениях, позволяют пользователю взаимодействовать с процессом установки.
ms.assetid: 2c6204c7-535d-4dda-8394-723ddbf46b96
title: Добавление элементов управления и текста
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 706d071741d742205d0df2b19c4416acf355fd7f
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "105650741"
---
# <a name="adding-controls-and-text"></a><span data-ttu-id="bef66-103">Добавление элементов управления и текста</span><span class="sxs-lookup"><span data-stu-id="bef66-103">Adding Controls and Text</span></span>

<span data-ttu-id="bef66-104">Элементы управления и текст, размещенные в диалоговых окнах и объявлениях, позволяют пользователю взаимодействовать с процессом установки.</span><span class="sxs-lookup"><span data-stu-id="bef66-104">Controls and text placed on dialog boxes and billboards enable the user to interact with the installation process.</span></span> <span data-ttu-id="bef66-105">Добавьте диалоговое окно в пользовательский интерфейс, включив его в [диалоговую таблицу](dialog-table.md) , как описано в разделе [Использование пользовательского интерфейса](using-the-user-interface.md).</span><span class="sxs-lookup"><span data-stu-id="bef66-105">Add a dialog box to the user interface by including it in the [Dialog table](dialog-table.md) as described in [Using the User Interface](using-the-user-interface.md).</span></span> <span data-ttu-id="bef66-106">Заполните диалоговые окна и объявления с элементами управления, заполнив [таблицу элементов управления](control-table.md) и [таблицу ббконтрол](bbcontrol-table.md)соответственно.</span><span class="sxs-lookup"><span data-stu-id="bef66-106">Fill dialog boxes and billboards with controls by populating the [Control table](control-table.md) and [BBControl table](bbcontrol-table.md), respectively.</span></span>

<span data-ttu-id="bef66-107">Начальные атрибуты элемента управления можно указать в столбце Attributes [таблицы Control](control-table.md).</span><span class="sxs-lookup"><span data-stu-id="bef66-107">The initial attributes of control can be specified in the Attributes column of the [Control table](control-table.md).</span></span> <span data-ttu-id="bef66-108">См. раздел [атрибуты элемента управления](control-attributes.md).</span><span class="sxs-lookup"><span data-stu-id="bef66-108">See [Control Attributes](control-attributes.md).</span></span>

<span data-ttu-id="bef66-109">Чтобы сделать атрибуты элемента управления зависимыми от условия, используйте [таблицу таблица controlcondition](controlcondition-table.md) для отключения, включения, скрытия или отображения элемента управления в соответствии со значением свойства или условной инструкции.</span><span class="sxs-lookup"><span data-stu-id="bef66-109">To make control attributes dependent upon a condition, use the [ControlCondition table](controlcondition-table.md) to disable, enable, hide, or show a control according to the value of a property or conditional statement.</span></span> <span data-ttu-id="bef66-110">Эту таблицу также можно использовать для переопределения спецификации элемента управления по умолчанию, введенного в [таблицу диалогов](dialog-table.md).</span><span class="sxs-lookup"><span data-stu-id="bef66-110">You can also use this table to override the specification of the default control entered into the [Dialog table](dialog-table.md).</span></span>

<span data-ttu-id="bef66-111">Чтобы событие изменило атрибут элемента управления, подпишите элемент управления на таблице ControlEvent событие в [таблице таблица eventmapping](eventmapping-table.md).</span><span class="sxs-lookup"><span data-stu-id="bef66-111">To have an event change a control attribute, subscribe the control to a ControlEvent in the [EventMapping table](eventmapping-table.md).</span></span> <span data-ttu-id="bef66-112">Таблице ControlEvent событие указывает действие, выполняемое установщиком, или изменение атрибутов одного или нескольких элементов управления в диалоговом окне.</span><span class="sxs-lookup"><span data-stu-id="bef66-112">A ControlEvent specifies an action to be taken by the installer or a change in the attributes of one or more controls in the dialog box.</span></span> <span data-ttu-id="bef66-113">См. [Обзор таблице ControlEvent событие](controlevent-overview.md).</span><span class="sxs-lookup"><span data-stu-id="bef66-113">See [ControlEvent Overview](controlevent-overview.md).</span></span> <span data-ttu-id="bef66-114">Введите идентификатор атрибута в столбце атрибут и идентификатор таблице ControlEvent событие в столбце событие [таблицы таблица eventmapping](eventmapping-table.md).</span><span class="sxs-lookup"><span data-stu-id="bef66-114">Enter the attribute's identifier in the Attribute column and the ControlEvent's identifier in the Event column of the [EventMapping table](eventmapping-table.md).</span></span>

<span data-ttu-id="bef66-115">Некоторые элементы управления упрощают сбор данных от пользователя.</span><span class="sxs-lookup"><span data-stu-id="bef66-115">Some controls facilitate the collection of information from the user.</span></span> <span data-ttu-id="bef66-116">Например, флажок позволяет пользователю задать значение свойства.</span><span class="sxs-lookup"><span data-stu-id="bef66-116">For example, a check box enables the user to set the value of a property.</span></span> <span data-ttu-id="bef66-117">См. [таблицу CheckBox](checkbox-table.md), [таблицу ComboBox](combobox-table.md), [таблицу ListBox](listbox-table.md), [таблицу RadioButton](radiobutton-table.md)и [таблицу ListView](listview-table.md).</span><span class="sxs-lookup"><span data-stu-id="bef66-117">See the [CheckBox table](checkbox-table.md), the [ComboBox table](combobox-table.md), the [ListBox table](listbox-table.md), the [RadioButton table](radiobutton-table.md), and the [ListView table](listview-table.md).</span></span>

<span data-ttu-id="bef66-118">Обратите внимание, что по соображениям безопасности закрытые свойства не могут быть изменены пользователем, взаимодействующим с пользовательским интерфейсом.</span><span class="sxs-lookup"><span data-stu-id="bef66-118">Note that for security reasons, private properties cannot be changed by the user interacting with the user interface.</span></span> <span data-ttu-id="bef66-119">Если свойство должно быть задано пользовательским интерфейсом, оно должно быть общедоступным свойством и иметь имя в верхнем регистре.</span><span class="sxs-lookup"><span data-stu-id="bef66-119">If a property is to be set by the user interface it needs to be a public property and have a name in all upper case.</span></span> <span data-ttu-id="bef66-120">См. раздел [о свойствах](about-properties.md).</span><span class="sxs-lookup"><span data-stu-id="bef66-120">See [About Properties](about-properties.md).</span></span>

<span data-ttu-id="bef66-121">Можно либо сделать так, чтобы диалоговое окно предвидит данные пользователю, либо записать его в журнал в ответ на действия по установке, заполнив [таблицу актионтекст](actiontext-table.md).</span><span class="sxs-lookup"><span data-stu-id="bef66-121">You can either make your dialog box present information to the user or write it to a log in response to installation actions by filling in the [ActionText table](actiontext-table.md).</span></span>

<span data-ttu-id="bef66-122">Элементы управления могут иметь предопределенный стиль шрифта.</span><span class="sxs-lookup"><span data-stu-id="bef66-122">Controls can have a predefined font style.</span></span> <span data-ttu-id="bef66-123">Чтобы задать шрифт и начертание текстовой строки, перед строкой отображаемых символов укажите { \\ Style} или {&*Style*}.</span><span class="sxs-lookup"><span data-stu-id="bef66-123">To set the font and font style of a text string, prefix the string of displayed characters with {\\style} or {&*style*}.</span></span> <span data-ttu-id="bef66-124">Где Style — это идентификатор, указанный в столбце система создала шрифт [таблицы система создала шрифт](textstyle-table.md).</span><span class="sxs-lookup"><span data-stu-id="bef66-124">Where style is an identifier listed in the TextStyle column of the [TextStyle table](textstyle-table.md).</span></span> <span data-ttu-id="bef66-125">Если ни один из этих элементов отсутствует, но свойство [**дефаултуифонт**](defaultuifont.md) определено как допустимый стиль текста, будет использоваться этот шрифт.</span><span class="sxs-lookup"><span data-stu-id="bef66-125">If neither of these are present, but the [**DefaultUIFont**](defaultuifont.md) property is defined as a valid text style, that font will be used.</span></span>

<span data-ttu-id="bef66-126">Рекомендуется, чтобы свойство [**дефаултуифонт**](defaultuifont.md) каждого пакета установки с пользовательским интерфейсом было установлено в [таблице свойств](property-table.md) на один из стандартных стилей, перечисленных в [таблице система создала шрифт](textstyle-table.md).</span><span class="sxs-lookup"><span data-stu-id="bef66-126">It is recommended that the [**DefaultUIFont**](defaultuifont.md) property of every installation package with a UI be set in the [Property table](property-table.md) to one of the predefined styles listed in the [TextStyle table](textstyle-table.md).</span></span> <span data-ttu-id="bef66-127">Если это свойство не указано, установщик использует системный шрифт.</span><span class="sxs-lookup"><span data-stu-id="bef66-127">If this property is not specified, the installer uses the System font.</span></span> <span data-ttu-id="bef66-128">Это может привести к неправильному отображению текстовых строк в установщике, если кодовая страница пакета отличается от кодовой страницы пользовательского интерфейса по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="bef66-128">This can cause the installer to improperly display text strings if the package's code page is different from the user's default UI code page.</span></span>

<span data-ttu-id="bef66-129">Для большинства элементов управления текст отображается с использованием кодировки, заданной кодовой страницей базы данных.</span><span class="sxs-lookup"><span data-stu-id="bef66-129">For most controls, text is displayed using the character set that is specified by the code page of the database.</span></span> <span data-ttu-id="bef66-130">Это гарантирует, что используется правильный набор символов со сведениями, содержащимися в базе данных.</span><span class="sxs-lookup"><span data-stu-id="bef66-130">This ensures that the correct character set is used with the information contained in the database.</span></span> <span data-ttu-id="bef66-131">Исключениями являются элементы управления [Edit](edit-control.md), [директорилист](directorylist-control.md), [паседит](pathedit-control.md)и [директорикомбо](directorycombo-control.md) , которые всегда отображают текст, используя стандартную кодировку пользовательского интерфейса пользователя.</span><span class="sxs-lookup"><span data-stu-id="bef66-131">The exceptions to this are the [Edit](edit-control.md), [DirectoryList](directorylist-control.md), [PathEdit](pathedit-control.md), and [DirectoryCombo](directorycombo-control.md) controls, which always display text using the user's default UI character set.</span></span> <span data-ttu-id="bef66-132">Элементы управления " [текст](text-control.md)", " [ListBox](listbox-control.md)" и " [поле со списком](combobox-control.md) " используют набор символов пользовательского интерфейса по умолчанию для пользователя, если задан [атрибут элемента управления усерслангуаже](userslanguage-control-attribute.md) .</span><span class="sxs-lookup"><span data-stu-id="bef66-132">The [Text](text-control.md), [ListBox](listbox-control.md), and [ComboBox](combobox-control.md) controls use the user's default UI character set if the [UsersLanguage Control Attribute](userslanguage-control-attribute.md) is set.</span></span>

<span data-ttu-id="bef66-133">В некоторых случаях при отмене работы с диалоговым окном элемент управления может перерисоваться неправильно.</span><span class="sxs-lookup"><span data-stu-id="bef66-133">In some cases a control may be redrawn incorrectly when canceling out of a dialog box.</span></span> <span data-ttu-id="bef66-134">Это должно быть сделано в порядке, в котором элементы управления получают \_ сообщения WM Paint после удаления диалогового окна **Отмена** .</span><span class="sxs-lookup"><span data-stu-id="bef66-134">This has to do with the order in which the controls receive WM\_PAINT messages after the **Cancel** dialog box is removed.</span></span> <span data-ttu-id="bef66-135">Чтобы устранить эту проблему, попробуйте изменить порядок элементов управления в таблице управления.</span><span class="sxs-lookup"><span data-stu-id="bef66-135">To fix this, try changing the order of the controls in the Control table.</span></span>

<span data-ttu-id="bef66-136">Элементы управления должны быть достаточно большими, чтобы весь текст отображался по всем параметрам размера шрифта.</span><span class="sxs-lookup"><span data-stu-id="bef66-136">Controls should be made large enough to accommodate the entire text viewed at all font size settings.</span></span> <span data-ttu-id="bef66-137">Элементы управления должны быть достаточно большими, чтобы разместить весь локализованный текст, если текст в пользовательском интерфейсе может быть локализован.</span><span class="sxs-lookup"><span data-stu-id="bef66-137">Controls should be made large enough to accommodate the entire localized text, if the text in the UI may be localized.</span></span> <span data-ttu-id="bef66-138">Для более крупных размеров шрифтов или локализованного текста может потребоваться больше места, чем у исходного текста, и может быть усечено элементом управления, который становится слишком маленьким.</span><span class="sxs-lookup"><span data-stu-id="bef66-138">Larger font sizes or localized text can require more space than the original text and can become truncated by a control that is made too small.</span></span> <span data-ttu-id="bef66-139">Дополнительные сведения о локализации текста пользовательского интерфейса см. в разделе [Пример локализации](a-localization-example.md).</span><span class="sxs-lookup"><span data-stu-id="bef66-139">For more information about localizing UI text see the section: [A Localization Example](a-localization-example.md).</span></span>

 

 



