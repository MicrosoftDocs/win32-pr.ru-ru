---
description: Разработка таблиц последовательности является важнейшей частью разработки пакета установщика, поскольку в этих таблицах указывается порядок выполнения стандартных действий, управляющих процессом установки и вывода диалоговых окон пользовательского интерфейса.
ms.assetid: db9a9cae-2a66-4e0d-a981-8de66d7c2a13
title: Использование таблицы последовательностей
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 0be10082aba05429a63df69444ed28bea350aa5a
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "103910091"
---
# <a name="using-a-sequence-table"></a><span data-ttu-id="6b858-103">Использование таблицы последовательностей</span><span class="sxs-lookup"><span data-stu-id="6b858-103">Using a Sequence Table</span></span>

<span data-ttu-id="6b858-104">Разработка таблиц последовательности является важнейшей частью разработки пакета установщика, поскольку в этих таблицах указывается порядок выполнения [стандартных действий](standard-actions.md) , управляющих процессом установки и вывода диалоговых окон пользовательского интерфейса.</span><span class="sxs-lookup"><span data-stu-id="6b858-104">The authoring of the sequence tables is an essential part of developing an installer package because these tables specify the order of execution for the [standard actions](standard-actions.md) that control the installation process and display the user interface dialog boxes.</span></span>

<span data-ttu-id="6b858-105">Существует три режима установки и два типа таблиц последовательностей для каждого режима.</span><span class="sxs-lookup"><span data-stu-id="6b858-105">There are three modes of installation and two types of sequence tables for each mode.</span></span>

<span data-ttu-id="6b858-106">В настоящее время установщик поддерживает три разных режима установки:</span><span class="sxs-lookup"><span data-stu-id="6b858-106">The three separate installation modes currently supported by the installer are:</span></span>

-   <span data-ttu-id="6b858-107">Простая установка</span><span class="sxs-lookup"><span data-stu-id="6b858-107">Simple Installation</span></span>
-   <span data-ttu-id="6b858-108">Административная установка</span><span class="sxs-lookup"><span data-stu-id="6b858-108">Administrative Installation</span></span>
-   <span data-ttu-id="6b858-109">Установка объявления</span><span class="sxs-lookup"><span data-stu-id="6b858-109">Advertisement Installation</span></span>

<span data-ttu-id="6b858-110">В таблицах последовательности есть три поля: действие, условие и последовательность.</span><span class="sxs-lookup"><span data-stu-id="6b858-110">The sequence tables each have three fields: Action, Condition, and Sequence.</span></span> <span data-ttu-id="6b858-111">Поле действия служит для именования стандартного или настраиваемого действия или пользовательского диалогового окна или последовательности, которую выполняет установщик.</span><span class="sxs-lookup"><span data-stu-id="6b858-111">The Action field names either a standard or custom action or a user defined dialog box or sequence the installer executes.</span></span> <span data-ttu-id="6b858-112">Поле условие позволяет автору указать логическое выражение, которое определяет, выполняется или отображается действие или пользовательское диалоговое окно.</span><span class="sxs-lookup"><span data-stu-id="6b858-112">The Condition field allows the author to specify a logical expression that controls whether an action or user-defined dialog is executed or displayed.</span></span> <span data-ttu-id="6b858-113">Если поле условия пустое или содержит выражение, результатом которого является значение true, то выполняется или отображается действие или диалоговое окно.</span><span class="sxs-lookup"><span data-stu-id="6b858-113">If the Condition field is blank or contains an expression that evaluates to True, the action or dialog is executed or displayed.</span></span> <span data-ttu-id="6b858-114">Действие или диалоговое окно пропускается, если выражение принимает значение false.</span><span class="sxs-lookup"><span data-stu-id="6b858-114">The action or dialog is skipped if the expression evaluates to False.</span></span> <span data-ttu-id="6b858-115">В поле Sequence указывается порядок выполнения каждого действия или пользовательского диалогового окна в таблице.</span><span class="sxs-lookup"><span data-stu-id="6b858-115">The Sequence field specifies the order of execution of each action or user-defined dialog in the table.</span></span>

<span data-ttu-id="6b858-116">Каждый из этих режимов установки обрабатывает таблицы последовательностей пользовательского интерфейса и таблицы выполнения последовательности.</span><span class="sxs-lookup"><span data-stu-id="6b858-116">Each of these installation modes processes the user interface sequence tables and the execute sequence tables.</span></span> <span data-ttu-id="6b858-117">Таблицы последовательности пользовательского интерфейса обрабатываются только в том случае, если установщик был инициализирован с уровнем интерфейса пользователя "меньше или полностью".</span><span class="sxs-lookup"><span data-stu-id="6b858-117">The user interface sequence tables are only processed if the installer was initialized with the user interface display level set to Reduced or Full.</span></span> <span data-ttu-id="6b858-118">Дополнительные сведения об уровнях представления пользовательского интерфейса см. в справочнике по [**мсисетинтерналуи**](/windows/desktop/api/Msi/nf-msi-msisetinternalui) .</span><span class="sxs-lookup"><span data-stu-id="6b858-118">See the [**MsiSetInternalUI**](/windows/desktop/api/Msi/nf-msi-msisetinternalui) reference for more information about user interface display levels.</span></span>

<span data-ttu-id="6b858-119">Таблицы последовательности пользовательских интерфейсов обычно содержат стандартные действия, связанные с сбором системных сведений, отображаемых пользователю в пользовательском интерфейсе.</span><span class="sxs-lookup"><span data-stu-id="6b858-119">The user interface sequence tables typically contains standard actions related to collecting system information that are displayed to the user through the user interface.</span></span> <span data-ttu-id="6b858-120">Пользовательский интерфейс отображается путем записи внешних ключей к именам диалоговых окон в [таблице диалоговых](dialog-table.md) окон в поле действие таблицы последовательностей пользовательского интерфейса.</span><span class="sxs-lookup"><span data-stu-id="6b858-120">The user interface is displayed by recording the foreign keys to the names of dialog boxes in the [dialog table](dialog-table.md) in the Action field of the user interface sequence table.</span></span> <span data-ttu-id="6b858-121">Пользователь имеет возможность изменить или принять сведения о системе и начать установку, которая происходит при обработке таблицы выполнения последовательности.</span><span class="sxs-lookup"><span data-stu-id="6b858-121">The user then has the opportunity to modify or accept the system information and begin the installation, which occurs when the execute sequence table is processed.</span></span>

<span data-ttu-id="6b858-122">Во время простой установки выполняется действие [установки](install-action.md) верхнего уровня, которое, в свою очередь, обрабатывает [таблицу Инсталлуисекуенце](installuisequence-table.md) и [таблицу инсталлексекутесекуенце](installexecutesequence-table.md).</span><span class="sxs-lookup"><span data-stu-id="6b858-122">During a simple installation, the [INSTALL](install-action.md) top-level action is executed which in turn processes the [InstallUISequence table](installuisequence-table.md) and the [InstallExecuteSequence table](installexecutesequence-table.md).</span></span>

<span data-ttu-id="6b858-123">Административная установка обычно инициируется сетевым администратором для назначения и установки приложений для отдельных пользователей и групп пользователей.</span><span class="sxs-lookup"><span data-stu-id="6b858-123">An Administrative Installation is typically initiated by a network administrator to assign and install applications for individual users and groups of users.</span></span> <span data-ttu-id="6b858-124">Во время установки этого типа выполняется действие [администратора](admin-action.md) верхнего уровня, которое обрабатывает [таблицу Админуисекуенце](adminuisequence-table.md) и [таблицу админексекутесекуенце](adminexecutesequence-table.md).</span><span class="sxs-lookup"><span data-stu-id="6b858-124">During this type of installation, the [ADMIN](admin-action.md) top-level action is executed which processes the [AdminUISequence table](adminuisequence-table.md) and the [AdminExecuteSequence table](adminexecutesequence-table.md).</span></span>

<span data-ttu-id="6b858-125">Чтобы [объявить](advertisement.md) приложение или компонент, установщик необходимо инициировать с помощью действия [объявления](advertise-action.md) .</span><span class="sxs-lookup"><span data-stu-id="6b858-125">To [advertise](advertisement.md) an application or feature, the installer must be initiated with the [ADVERTISE](advertise-action.md) action.</span></span> <span data-ttu-id="6b858-126">Во время установки этого типа выполняется обработка [таблицы адвтексекутесекуенце](advtexecutesequence-table.md) .</span><span class="sxs-lookup"><span data-stu-id="6b858-126">During this type of installation the [AdvtExecuteSequence table](advtexecutesequence-table.md) is processed.</span></span>

<span data-ttu-id="6b858-127">При создании любой таблицы последовательностей рекомендуется использовать порядковый номер для стандартных действий из предлагаемых последовательностей в следующих разделах.</span><span class="sxs-lookup"><span data-stu-id="6b858-127">When authoring any sequence table, it is good practice to use the sequence number for standard actions from the suggested sequences in the topics below.</span></span> <span data-ttu-id="6b858-128">Для стандартных действий, которые не имеют стандартных позиций в таблице последовательности, например [форцеребут](forcereboot-action.md), [валидатепродуктид](validateproductid-action.md)и [инсталлексекуте](installexecute-action.md), используйте порядковый номер, кратный десяти, чтобы указать действие как стандартное действие.</span><span class="sxs-lookup"><span data-stu-id="6b858-128">For standard actions which have no standard position in the sequence table such as [ForceReboot](forcereboot-action.md), [ValidateProductID](validateproductid-action.md), and [InstallExecute](installexecute-action.md), use a sequence number that is a multiple of ten to identify the action as a standard action.</span></span> <span data-ttu-id="6b858-129">Для настраиваемых действий используйте порядковый номер, который не кратен десяти, чтобы отличать его от стандартных действий в таблице последовательности.</span><span class="sxs-lookup"><span data-stu-id="6b858-129">For custom actions, use a sequence number that is not a multiple of ten to differentiate it from standard actions in the sequence table.</span></span>

<span data-ttu-id="6b858-130">Предлагаемые последовательности действий для каждой таблицы последовательностей см. в следующих разделах:</span><span class="sxs-lookup"><span data-stu-id="6b858-130">For suggested action sequences for each sequence table, see the following topics:</span></span>

-   [<span data-ttu-id="6b858-131">Предложенные Инсталлуисекуенце</span><span class="sxs-lookup"><span data-stu-id="6b858-131">Suggested InstallUISequence</span></span>](suggested-installuisequence.md)
-   [<span data-ttu-id="6b858-132">Предложенные Инсталлексекутесекуенце</span><span class="sxs-lookup"><span data-stu-id="6b858-132">Suggested InstallExecuteSequence</span></span>](suggested-installexecutesequence.md)
-   [<span data-ttu-id="6b858-133">Предложенные Админуисекуенце</span><span class="sxs-lookup"><span data-stu-id="6b858-133">Suggested AdminUISequence</span></span>](suggested-adminuisequence.md)
-   [<span data-ttu-id="6b858-134">Предложенные Админексекутесекуенце</span><span class="sxs-lookup"><span data-stu-id="6b858-134">Suggested AdminExecuteSequence</span></span>](suggested-adminexecutesequence.md)
-   [<span data-ttu-id="6b858-135">Предложенные Адвтуисекуенце</span><span class="sxs-lookup"><span data-stu-id="6b858-135">Suggested AdvtUISequence</span></span>](suggested-advtuisequence.md)
-   [<span data-ttu-id="6b858-136">Предложенные Адвтексекутесекуенце</span><span class="sxs-lookup"><span data-stu-id="6b858-136">Suggested AdvtExecuteSequence</span></span>](suggested-advtexecutesequence.md)

<span data-ttu-id="6b858-137">Подробное описание таблиц последовательностей и способов выполнения стандартных действий см. в разделе « [подробный пример таблицы последовательности](sequence-table-detailed-example.md)».</span><span class="sxs-lookup"><span data-stu-id="6b858-137">For a detailed description of sequence tables and how standard actions are executed, see the [sequence table detailed example](sequence-table-detailed-example.md).</span></span>

<span data-ttu-id="6b858-138">\* \* Установщик Windows 3,0 и более поздних версий: \* \*</span><span class="sxs-lookup"><span data-stu-id="6b858-138">\*\*Windows Installer 3.0 and later:  \*\*</span></span>

<span data-ttu-id="6b858-139">Начиная с установщик Windows 3,0, пакет исправлений может содержать [таблицу мсипатчсекуенце](msipatchsequence-table.md).</span><span class="sxs-lookup"><span data-stu-id="6b858-139">Beginning with Windows Installer 3.0, a patch package can contain the [MsiPatchSequence table](msipatchsequence-table.md).</span></span> <span data-ttu-id="6b858-140">Эта таблица содержит все сведения, необходимые установщику для определения последовательности применения небольшого исправления обновления относительно всех остальных исправлений.</span><span class="sxs-lookup"><span data-stu-id="6b858-140">This table contains all the information the installer requires to determine the sequence of the application of a small update patch relative to all other patches.</span></span> <span data-ttu-id="6b858-141">Дополнительные сведения см. в разделе [Установка исправлений и обновления](patching-and-upgrades.md).</span><span class="sxs-lookup"><span data-stu-id="6b858-141">For more information, see [Patching and Upgrades](patching-and-upgrades.md).</span></span>

> [!Note]
>
> <span data-ttu-id="6b858-142">[Модули слияния](merge-modules.md) могут содержать [таблицы базы данных модуля слияния](merge-module-database-tables.md) , которые изменяют таблицы последовательности действий в файле Target. msi.</span><span class="sxs-lookup"><span data-stu-id="6b858-142">[Merge Modules](merge-modules.md) may contain [Merge Module Database Tables](merge-module-database-tables.md) that modify the action sequence tables of the target .msi file.</span></span> <span data-ttu-id="6b858-143">Объединение модуля в базу данных может изменить сведения в таблице Sequence, но не добавит эти таблицы в MSI-файл.</span><span class="sxs-lookup"><span data-stu-id="6b858-143">Merging the module into a database can modify the information in the sequence table, but does not add these tables to the .msi file.</span></span> <span data-ttu-id="6b858-144">Дополнительные сведения см. в разделе [Создание таблиц последовательности для модуля слияния](authoring-merge-module-sequence-tables.md).</span><span class="sxs-lookup"><span data-stu-id="6b858-144">For more information, see [Authoring Merge Module Sequence Tables](authoring-merge-module-sequence-tables.md).</span></span>

 

 

 



