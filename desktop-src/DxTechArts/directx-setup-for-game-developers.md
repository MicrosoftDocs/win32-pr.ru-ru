---
title: Установка DirectX для разработчиков игр
description: Эта статья предназначена для решения некоторых распространенных вопросов о среде выполнения DirectX и использования Директсетуп для установки DirectX.
ms.assetid: 2ab439be-8d99-bcf8-89af-d4274e044c88
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: a9c0faf346bd8793e61a89128ce573e29b7a8267
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/20/2020
ms.locfileid: "104070482"
---
# <a name="directx-installation-for-game-developers"></a><span data-ttu-id="b7d75-103">Установка DirectX для разработчиков игр</span><span class="sxs-lookup"><span data-stu-id="b7d75-103">DirectX Installation for Game Developers</span></span>

<span data-ttu-id="b7d75-104">Эта статья предназначена для решения некоторых распространенных вопросов о среде выполнения DirectX и использования Директсетуп для установки DirectX.</span><span class="sxs-lookup"><span data-stu-id="b7d75-104">This article is intended to address some of the common questions about the DirectX runtime, and using DirectSetup to install DirectX.</span></span>

-   [<span data-ttu-id="b7d75-105">Среда выполнения DirectX</span><span class="sxs-lookup"><span data-stu-id="b7d75-105">DirectX Runtime</span></span>](#directx-runtime)
-   [<span data-ttu-id="b7d75-106">Номер версии DirectX</span><span class="sxs-lookup"><span data-stu-id="b7d75-106">DirectX Version Number</span></span>](#directx-version-number)
-   [<span data-ttu-id="b7d75-107">Библиотеки DirectX</span><span class="sxs-lookup"><span data-stu-id="b7d75-107">DirectX Libraries</span></span>](#directx-libraries)
-   [<span data-ttu-id="b7d75-108">Установка DirectX с помощью установщика игры</span><span class="sxs-lookup"><span data-stu-id="b7d75-108">Installation of DirectX by the Game's Installer</span></span>](#installation-of-directx-by-the-games-installer)
-   [<span data-ttu-id="b7d75-109">Небольшие пакеты установки</span><span class="sxs-lookup"><span data-stu-id="b7d75-109">Small Installation Packages</span></span>](#small-installation-packages)
-   [<span data-ttu-id="b7d75-110">Внутреннее развертывание отладочной среды выполнения DirectX</span><span class="sxs-lookup"><span data-stu-id="b7d75-110">Internal Deployment of the Debug DirectX Runtime</span></span>](#internal-deployment-of-the-debug-directx-runtime)

> [!IMPORTANT]
> <span data-ttu-id="b7d75-111">Устаревший пакет SDK DirectX находится в конце жизни, но он по-прежнему доступен для поддержки старых игр, руководств и проектов.</span><span class="sxs-lookup"><span data-stu-id="b7d75-111">The legacy DirectX SDK is at end-of-life, but it's still available in order to support old games, tutorials, and projects.</span></span> <span data-ttu-id="b7d75-112">Новые проекты не должны использовать его.</span><span class="sxs-lookup"><span data-stu-id="b7d75-112">New projects should not use it.</span></span> <span data-ttu-id="b7d75-113">Для использования устаревшего пакета SDK DirectX необходимо использовать устаревшие Директсетуп для таких компонентов, как D3DX9, D3DX10, D3DX11, Ксаудио 2,7, Ксинпут 1,3 и транзакции.</span><span class="sxs-lookup"><span data-stu-id="b7d75-113">Using the legacy DirectX SDK requires the use of the deprecated DirectSetup for components such as D3DX9, D3DX10, D3DX11, XAudio 2.7, XInput 1.3, and XACT.</span></span> <span data-ttu-id="b7d75-114">Дополнительные сведения о текущем состоянии пакета SDK для DirectX см. в разделе [где находится пакет SDK DirectX?](../directx-sdk--august-2009-.md), а в записи блога [нет такой непосредственной настройки](https://walbourn.github.io/not-so-direct-setup/).</span><span class="sxs-lookup"><span data-stu-id="b7d75-114">For more details on the current state of the DirectX SDK, see [Where is the DirectX SDK?](../directx-sdk--august-2009-.md), and the blog post [Not So Direct Setup](https://walbourn.github.io/not-so-direct-setup/).</span></span>

## <a name="directx-runtime"></a><span data-ttu-id="b7d75-115">Среда выполнения DirectX</span><span class="sxs-lookup"><span data-stu-id="b7d75-115">DirectX Runtime</span></span>

<span data-ttu-id="b7d75-116">Среда выполнения DirectX состоит из основных компонентов и дополнительных компонентов.</span><span class="sxs-lookup"><span data-stu-id="b7d75-116">The DirectX runtime consists of core components and optional components.</span></span>

<span data-ttu-id="b7d75-117">Основные компоненты, такие как Direct3D и Директинпут, считаются частью операционной системы.</span><span class="sxs-lookup"><span data-stu-id="b7d75-117">The core components, such as Direct3D and DirectInput, are considered part of the operating system.</span></span> <span data-ttu-id="b7d75-118">Основные компоненты DirectX 9.0 c не изменились с момента обновления пакета SDK для DirectX (лето 2004) и соответствуют тем, что было выпущено в Microsoft Windows XP с пакетом обновления 2 (SP2), Windows XP Pro x64 Edition и Windows Server 2003 SP1.</span><span class="sxs-lookup"><span data-stu-id="b7d75-118">The core components for DirectX 9.0c have not changed since the DirectX SDK Summer 2004 Update, and they match what was released with Microsoft Windows XP SP2, Windows XP Pro x64 Edition, and Windows Server 2003 SP1.</span></span> <span data-ttu-id="b7d75-119">В состав Windows Vista входит DirectX 10, поддерживающий модель драйвера экрана Windows (WDDM) и Direct3D 10. x.</span><span class="sxs-lookup"><span data-stu-id="b7d75-119">Windows Vista includes DirectX 10, which supports the Windows Display Driver Model (WDDM) and Direct3D 10.x.</span></span> <span data-ttu-id="b7d75-120">Windows 7 и Windows Vista (см. [KB971644](https://support.microsoft.com/kb/971644)) поддерживают DirectX 11, поддерживающие Direct3D 11, Direct2D, DirectWrite, устройство отрисовки программного обеспечения WARP10 и уровни компонентов 10level9.</span><span class="sxs-lookup"><span data-stu-id="b7d75-120">Windows 7 and Windows Vista (see [KB971644](https://support.microsoft.com/kb/971644)) support DirectX 11, which supports Direct3D 11, Direct2D, DirectWrite, the WARP10 software rendering device, and the 10level9 feature levels.</span></span> <span data-ttu-id="b7d75-121">Дополнительные сведения см. [в статье графические API в Windows](/windows/desktop/direct3darticles/graphics-apis-in-windows-vista) .</span><span class="sxs-lookup"><span data-stu-id="b7d75-121">See [Graphics APIs in Windows](/windows/desktop/direct3darticles/graphics-apis-in-windows-vista) for more details.</span></span>

<span data-ttu-id="b7d75-122">Дополнительные компоненты выпускаются в обновлениях пакета SDK DirectX и включают в себя D3DX, XAudio2, КСИНПУТ, управляемые DirectX и другие подобные компоненты.</span><span class="sxs-lookup"><span data-stu-id="b7d75-122">The optional components are released in updates of DirectX SDK, and they include D3DX, XACT, XAudio2, XINPUT, Managed DirectX, and other such components.</span></span> <span data-ttu-id="b7d75-123">Многие из дополнительных компонентов регулярно обновляются для интеграции отзывов клиентов и предоставления новых функций.</span><span class="sxs-lookup"><span data-stu-id="b7d75-123">Many of the optional components are regularly updated to integrate customer feedback and expose new features.</span></span>

## <a name="directx-version-number"></a><span data-ttu-id="b7d75-124">Номер версии DirectX</span><span class="sxs-lookup"><span data-stu-id="b7d75-124">DirectX Version Number</span></span>

<span data-ttu-id="b7d75-125">Номер версии DirectX, например 9.0 c, относится только к версии основных компонентов, например Direct3D, Директинпут или DirectSound.</span><span class="sxs-lookup"><span data-stu-id="b7d75-125">The DirectX version number, such as 9.0c, refers only to the version of the core components, such as Direct3D, DirectInput, or DirectSound.</span></span> <span data-ttu-id="b7d75-126">Это число не охватывает версии различных дополнительных компонентов, выпускаемых в пакете SDK DirectX, например D3DX, активной транзакции, КСИНПУТ и т. д.</span><span class="sxs-lookup"><span data-stu-id="b7d75-126">This number does not cover the versions of the various optional components that are released in the DirectX SDK, such as D3DX, XACT, XINPUT, and so on.</span></span>

<span data-ttu-id="b7d75-127">В целом, номер версии DirectX не имеет смысла, за исключением краткого справочника по основным битам времени выполнения.</span><span class="sxs-lookup"><span data-stu-id="b7d75-127">Generally speaking, the DirectX version number is not meaningful except as a quick reference to the core run-time bits.</span></span> <span data-ttu-id="b7d75-128">Это число не должно использоваться для проверки того, установлена ли правильная среда выполнения DirectX, так как она не учитывает дополнительные компоненты DirectX.</span><span class="sxs-lookup"><span data-stu-id="b7d75-128">This number should not be used to check if the correct DirectX runtime is already installed, because it doesn't take into account the optional DirectX components.</span></span>

## <a name="directx-libraries"></a><span data-ttu-id="b7d75-129">Библиотеки DirectX</span><span class="sxs-lookup"><span data-stu-id="b7d75-129">DirectX Libraries</span></span>

<span data-ttu-id="b7d75-130">В прошлом дополнительные компоненты пакета SDK DirectX, включая D3DX, были выпущены как статические библиотеки.</span><span class="sxs-lookup"><span data-stu-id="b7d75-130">In the past, the optional components of the DirectX SDK, including D3DX, were released as static libraries.</span></span> <span data-ttu-id="b7d75-131">Однако теперь они выпускаются в виде библиотек (DLL) с повышенными требованиями к безопасности.</span><span class="sxs-lookup"><span data-stu-id="b7d75-131">However, these are now released as dynamic-like libraries (DLL) because of the increased demand for better security practices.</span></span> <span data-ttu-id="b7d75-132">Библиотеки DLL позволяют обслуживать ранее выпущенный код.</span><span class="sxs-lookup"><span data-stu-id="b7d75-132">DLLs allow servicing of previously released code.</span></span> <span data-ttu-id="b7d75-133">Если эти компоненты были развернуты как статические библиотеки, корпорация Майкрософт не сможет устранить проблемы безопасности, обнаруженные после выпуска.</span><span class="sxs-lookup"><span data-stu-id="b7d75-133">If these components were deployed as static libraries, there would be no way for Microsoft to address security issues found after release.</span></span>

<span data-ttu-id="b7d75-134">По мере добавления или изменения компонентов для дополнительных компонентов имена соответствующих библиотек DLL также изменяются, чтобы гарантировать отсутствие регрессий в существующих играх, использующих выпущенные компоненты.</span><span class="sxs-lookup"><span data-stu-id="b7d75-134">As features are added or changed to the optional components, the names of the corresponding DLLs are also changed to ensure that no regressions are caused to existing games that are using released components.</span></span> <span data-ttu-id="b7d75-135">Библиотеки DLL для каждого компонента находятся рядом друг с другом, и разработчики игр могут выбрать, какая именно версия DLL используется в игре, путем связывания с соответствующей библиотекой импорта.</span><span class="sxs-lookup"><span data-stu-id="b7d75-135">The DLLs for each component live side by side, and game developers can choose exactly which DLL version that the game uses by linking to the corresponding import library.</span></span>

<span data-ttu-id="b7d75-136">Хотя обеспечение установки библиотек DLL в системе не так просто, как простое связывание со статическими библиотеками, в пакет SDK для DirectX внесены некоторые изменения, чтобы решить проблему с моделью DLL.</span><span class="sxs-lookup"><span data-stu-id="b7d75-136">While ensuring that DLLs are installed on a system isn't as easy as simply linking to static libraries, some changes have been made to the DirectX SDK to address the pain of the DLL model:</span></span>

-   <span data-ttu-id="b7d75-137">Распространяемый пакет DirectX можно настроить так, чтобы он содержал только те компоненты, которые требуются вашему приложению для снижения распространения и размеров носителей.</span><span class="sxs-lookup"><span data-stu-id="b7d75-137">The DirectX redistributable can be configured to contain only those components that your application requires to minimize distribution and media sizes.</span></span>
-   <span data-ttu-id="b7d75-138">Папка распространяемые файлы с \\ пакетом SDK \\ для DirectX \\ , теперь содержит CAB-файл для каждого возможного дополнительного компонента, поэтому вам не нужно изучать более старый пакет SDK, чтобы найти их.</span><span class="sxs-lookup"><span data-stu-id="b7d75-138">The redistributable folder, Program Files\\DirectX SDK\\Redist\\, now contains a cabinet (.cab) file for every possible optional component, so you don't have to dig up an older SDK to find them.</span></span>
-   <span data-ttu-id="b7d75-139">При установке пакета SDK устанавливаются все возможные дополнительные компоненты.</span><span class="sxs-lookup"><span data-stu-id="b7d75-139">Installing the SDK itself installs every possible optional component.</span></span>
-   <span data-ttu-id="b7d75-140">Распространяемый пакет DirectX, содержащий все дополнительные компоненты, доступен в виде веб-установщика и загружаемого пакета. Дополнительные сведения см. в центре разработчиков DirectX ([DirectX](/previous-versions/windows/apps/hh452744(v=win.10))).</span><span class="sxs-lookup"><span data-stu-id="b7d75-140">A DirectX redistributable that contains all the optional components is available as both a Web-based installer and as a downloadable package; see the DirectX Developer Center ([DirectX](/previous-versions/windows/apps/hh452744(v=win.10))) for more information.</span></span>

## <a name="installation-of-directx-by-the-games-installer"></a><span data-ttu-id="b7d75-141">Установка DirectX с помощью установщика игры</span><span class="sxs-lookup"><span data-stu-id="b7d75-141">Installation of DirectX by the Game's Installer</span></span>

> [!Note]  
> <span data-ttu-id="b7d75-142">См. статью [развертывание Direct3D 11 для разработчиков игр](/windows/desktop/direct3darticles/direct3d11-deployment).</span><span class="sxs-lookup"><span data-stu-id="b7d75-142">See [Direct3D 11 Deployment for Game Developers](/windows/desktop/direct3darticles/direct3d11-deployment).</span></span>

 

<span data-ttu-id="b7d75-143">Ниже приведены рекомендации по добавлению установки DirectX в установщик игры.</span><span class="sxs-lookup"><span data-stu-id="b7d75-143">The following are the best practices for adding installation of DirectX to a game's installer:</span></span>



<table>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header">
<th><span data-ttu-id="b7d75-144">Термин</span><span class="sxs-lookup"><span data-stu-id="b7d75-144">Term</span></span></th>
<th><span data-ttu-id="b7d75-145">Описание</span><span class="sxs-lookup"><span data-stu-id="b7d75-145">Description</span></span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><span data-ttu-id="b7d75-146"><span id="Install_the_redistributable_components_every_time.__"></span><span id="install_the_redistributable_components_every_time.__"></span><span id="INSTALL_THE_REDISTRIBUTABLE_COMPONENTS_EVERY_TIME.__"></span>Устанавливайте распространяемые компоненты каждый раз.</span><span class="sxs-lookup"><span data-stu-id="b7d75-146"><span id="Install_the_redistributable_components_every_time.__"></span><span id="install_the_redistributable_components_every_time.__"></span><span id="INSTALL_THE_REDISTRIBUTABLE_COMPONENTS_EVERY_TIME.__"></span>Install the redistributable components every time.</span></span> <br/></td>
<td><span data-ttu-id="b7d75-147">В процессе установки необходимо установить распространяемые компоненты DirectX во время каждой отдельной установки, не позволяя пользователям отказаться от них.</span><span class="sxs-lookup"><span data-stu-id="b7d75-147">A game's installation process should install the DirectX redistributable components during every single installation without allowing users to opt-out of it.</span></span> <span data-ttu-id="b7d75-148">Если вы разрешаете раскрывающийся отказ, то некоторые пользователи полагают, что они не нужны, и если они действительно выполняются, игра не будет выполняться.</span><span class="sxs-lookup"><span data-stu-id="b7d75-148">If you allow opting-out, then some users will guess that they don't need it, and if they actually do, the game will not run.</span></span> <br/></td>
</tr>
<tr class="even">
<td><span data-ttu-id="b7d75-149"><span id="Let_the_DirectX_installer_check_for_optional_components.__"></span><span id="let_the_directx_installer_check_for_optional_components.__"></span><span id="LET_THE_DIRECTX_INSTALLER_CHECK_FOR_OPTIONAL_COMPONENTS.__"></span>Разрешите установщику DirectX проверять наличие дополнительных компонентов.</span><span class="sxs-lookup"><span data-stu-id="b7d75-149"><span id="Let_the_DirectX_installer_check_for_optional_components.__"></span><span id="let_the_directx_installer_check_for_optional_components.__"></span><span id="LET_THE_DIRECTX_INSTALLER_CHECK_FOR_OPTIONAL_COMPONENTS.__"></span>Let the DirectX installer check for optional components.</span></span> <br/></td>
<td><span data-ttu-id="b7d75-150">Не следует рассчитывать на то, что в системе уже установлены последние дополнительные компоненты, поскольку Центр обновления Windows и пакеты обновления не предоставляют никаких дополнительных компонентов DirectX.</span><span class="sxs-lookup"><span data-stu-id="b7d75-150">Do not assume that the latest optional components are already installed on a system, because Windows Update and Service Packs do not provide any of DirectX's optional components.</span></span> <span data-ttu-id="b7d75-151">Необходимо установить среду выполнения DirectX, выполнив dxsetup.exe напрямую или вызвав Директсетуп.</span><span class="sxs-lookup"><span data-stu-id="b7d75-151">You must install the DirectX runtime either by running dxsetup.exe directly or calling DirectSetup.</span></span> <br/></td>
</tr>
<tr class="odd">
<td><span data-ttu-id="b7d75-152"><span id="Set_up_silently.__"></span><span id="set_up_silently.__"></span><span id="SET_UP_SILENTLY.__"></span>Автоматическая настройка.</span><span class="sxs-lookup"><span data-stu-id="b7d75-152"><span id="Set_up_silently.__"></span><span id="set_up_silently.__"></span><span id="SET_UP_SILENTLY.__"></span>Set up silently.</span></span> <br/></td>
<td><span data-ttu-id="b7d75-153">Запустите программу установки в автоматическом режиме, чтобы пользователи не могли случайно пропустить обновление среды выполнения DirectX.</span><span class="sxs-lookup"><span data-stu-id="b7d75-153">Launch setup in silent mode so that users do not accidentally skip updating the DirectX runtime.</span></span> <span data-ttu-id="b7d75-154">Это можно сделать, запустив dxsetup.exe с помощью следующей команды:</span><span class="sxs-lookup"><span data-stu-id="b7d75-154">You can do this by launching dxsetup.exe with the following command:</span></span> <br/>
<pre class="syntax" data-space="preserve"><code>   path-to-redistributable\dxsetup.exe /silent</code></pre>
<span data-ttu-id="b7d75-155">или путем вызова Директсетуп и отображения пользовательского интерфейса.</span><span class="sxs-lookup"><span data-stu-id="b7d75-155">or by calling DirectSetup and not showing any UI.</span></span> <br/></td>
</tr>
<tr class="even">
<td><span data-ttu-id="b7d75-156"><span id="Combine_EULA_acceptances.__"></span><span id="combine_eula_acceptances.__"></span><span id="COMBINE_EULA_ACCEPTANCES.__"></span>Объедините принятие условий лицензионного соглашения.</span><span class="sxs-lookup"><span data-stu-id="b7d75-156"><span id="Combine_EULA_acceptances.__"></span><span id="combine_eula_acceptances.__"></span><span id="COMBINE_EULA_ACCEPTANCES.__"></span>Combine EULA acceptances.</span></span> <br/></td>
<td><span data-ttu-id="b7d75-157">Если вы запрашиваете пользователя принять условия лицензионного соглашения, объедините его с запросом на принятие лицензионного соглашения DirectX при установке в автоматическом режиме, чтобы запрос на принятие условий лицензионного соглашения происходил только один раз.</span><span class="sxs-lookup"><span data-stu-id="b7d75-157">If you prompt the user to accept a EULA, then combine that with prompting for acceptance of the DirectX EULA when installing in silent mode so that prompting for acceptance of EULAs happens just once.</span></span> <span data-ttu-id="b7d75-158">Запрос должен быть выполнен до установки какого-либо действия, чтобы, если пользователь не принял условия, не завершился сбоем и частичной установкой.</span><span class="sxs-lookup"><span data-stu-id="b7d75-158">Prompting should happen before you install anything so that if user doesn't accept, you don't end up with a failed and partial installation.</span></span> <br/></td>
</tr>
<tr class="odd">
<td><span data-ttu-id="b7d75-159"><span id="Just_run_dxsetup_or_call_DirectSetup.__"></span><span id="just_run_dxsetup_or_call_directsetup.__"></span><span id="JUST_RUN_DXSETUP_OR_CALL_DIRECTSETUP.__"></span>Просто выполните дкссетуп или вызовите Директсетуп.</span><span class="sxs-lookup"><span data-stu-id="b7d75-159"><span id="Just_run_dxsetup_or_call_DirectSetup.__"></span><span id="just_run_dxsetup_or_call_directsetup.__"></span><span id="JUST_RUN_DXSETUP_OR_CALL_DIRECTSETUP.__"></span>Just run dxsetup or call DirectSetup.</span></span> <br/></td>
<td><span data-ttu-id="b7d75-160">Поскольку номер версии DirectX не относится ни к чему, кроме основных компонентов DirectX, не проверяйте установленную версию перед запуском dxsetup.exe или вызовом Директсетуп.</span><span class="sxs-lookup"><span data-stu-id="b7d75-160">Because the DirectX version number doesn't refer to anything except the core DirectX components, do not check an installed version before running dxsetup.exe or calling DirectSetup.</span></span> <span data-ttu-id="b7d75-161">Кроме того, не следует проверять существование файла для проверки существования необязательного компонента, так как обычно он неправильно определяет, когда компонент существует, но нуждается в обновлении.</span><span class="sxs-lookup"><span data-stu-id="b7d75-161">Also, do not check for a file's existence to test if an optional component is already installed, since this usually will not correctly determine when a component exists but needs updating.</span></span> <span data-ttu-id="b7d75-162">Однако пакет установки DirectX быстро определит это и выполнит нужное действие.</span><span class="sxs-lookup"><span data-stu-id="b7d75-162">However, the DirectX setup package will quickly determine this, and perform the right action.</span></span> <br/></td>
</tr>
</tbody>
</table>



 

## <a name="small-installation-packages"></a><span data-ttu-id="b7d75-163">Небольшие пакеты установки</span><span class="sxs-lookup"><span data-stu-id="b7d75-163">Small Installation Packages</span></span>

<span data-ttu-id="b7d75-164">Можно создать небольшие пакеты установки для DirectX, отменив содержимое папки распространяемого пакета DirectX до минимального набора файлов, необходимых для работы установщика, и оставив все дополнительные компоненты, используемые в игре.</span><span class="sxs-lookup"><span data-stu-id="b7d75-164">You can create smaller installation packages for DirectX by stripping the contents of the DirectX redistributable folder down to the minimal set of files required to make the installer work, and retaining any additional components that your game uses.</span></span>

<span data-ttu-id="b7d75-165">В зависимости от минимальных спецификаций может быть даже не обязательно включать в папку распространяемого установочного носителя базовые CAB-файлы DirectX 9.0 c.</span><span class="sxs-lookup"><span data-stu-id="b7d75-165">Depending on your minimum specifications, you might not even need to include the core DirectX 9.0c cabinet files in the redistributable folder of your installation media.</span></span> <span data-ttu-id="b7d75-166">Большая часть установок Windows XP имеет пакет обновления 2 (SP2), который включает основные компоненты DirectX 9.0 c, поэтому операция установки DirectX будет выполняться очень быстро, и перезагрузка не потребуется.</span><span class="sxs-lookup"><span data-stu-id="b7d75-166">A large majority of Windows XP installations have Service Pack 2, which includes the core DirectX 9.0c components, so the DirectX setup operation will be very fast, and will not require a reboot.</span></span> <span data-ttu-id="b7d75-167">Самый маленький пакет, который можно создать, составляет около 3 МБ, и его можно сжать до половины этого размера.</span><span class="sxs-lookup"><span data-stu-id="b7d75-167">The smallest package that can be created is about 3 MB, and it can be compressed to about half that size.</span></span> <span data-ttu-id="b7d75-168">Пакет, подобный этому, содержит одну версию библиотеки DLL D3DX и требует, чтобы DirectX 9.0 c уже существовал.</span><span class="sxs-lookup"><span data-stu-id="b7d75-168">A package like this contains one version of the D3DX DLL, and it requires that DirectX 9.0c be already present.</span></span>

<span data-ttu-id="b7d75-169">Минимальный набор файлов, необходимых для создания распространяемого пакета, — это следующие файлы, расположенные в папке Redist SDK для DirectX ( \\ распространяемые файлы с пакетом SDK для DirectX) \\ \) .</span><span class="sxs-lookup"><span data-stu-id="b7d75-169">The minimal set of files that are required to build a redistributable package are the following files, located in the DirectX SDK Redist folder (Program Files\\DirectX SDK\\Redist\):</span></span>

-   <span data-ttu-id="b7d75-170">dxsetup.exe</span><span class="sxs-lookup"><span data-stu-id="b7d75-170">dxsetup.exe</span></span>
-   <span data-ttu-id="b7d75-171">dsetup32.dll</span><span class="sxs-lookup"><span data-stu-id="b7d75-171">dsetup32.dll</span></span>
-   <span data-ttu-id="b7d75-172">dsetup.dll</span><span class="sxs-lookup"><span data-stu-id="b7d75-172">dsetup.dll</span></span>
-   <span data-ttu-id="b7d75-173">dxupdate.cab</span><span class="sxs-lookup"><span data-stu-id="b7d75-173">dxupdate.cab</span></span>

<span data-ttu-id="b7d75-174">Добавьте в эти CAB-файлы для компонентов, которые требуется установить.</span><span class="sxs-lookup"><span data-stu-id="b7d75-174">Add to these the cabinet files for the components that you want to install.</span></span> <span data-ttu-id="b7d75-175">Если требуется, чтобы пользователи вашего приложения уже имели DirectX 9.0 c, не нужно включать DirectX.cab или dxnt.cab, которые составляют большую часть необходимого пространства.</span><span class="sxs-lookup"><span data-stu-id="b7d75-175">If you require the users of your application to already have DirectX 9.0c, then you do not need to include DirectX.cab or dxnt.cab, which make up most of the space requirement.</span></span> <span data-ttu-id="b7d75-176">DirectX.cab требуется только для Windows 98 и Windows ME; dxnt.cab требуется только для Windows 2000, Windows XP и Windows XP с пакетом обновления 1 (SP1); и дксдллрег \_x86.cab требуются только для windows 2000, Windows XP RTM, Windows XP с пакетом обновления 1 (SP1) и Windows Server 2003 RTM.</span><span class="sxs-lookup"><span data-stu-id="b7d75-176">DirectX.cab is only needed for Windows 98 and Windows ME; dxnt.cab is only needed for Windows 2000, Windows XP, and Windows XP SP1; and dxdllreg\_x86.cab is only required for Windows 2000, Windows XP RTM, Windows XP SP1, and Windows Server 2003 RTM.</span></span> <span data-ttu-id="b7d75-177">Кроме того, если вы не используете DirectShow или предполагается, что она уже установлена, можно опустить BDA.cab, BDANT.cab и BDAXP.cab.</span><span class="sxs-lookup"><span data-stu-id="b7d75-177">Also, if you do not make use of DirectShow, or you assume that it is already installed, you can omit BDA.cab, BDANT.cab, and BDAXP.cab.</span></span>

> [!Note]  
> <span data-ttu-id="b7d75-178">Вы можете предположить, что у пользователей вашего приложения уже есть DirectX 9.0 c, если он был установлен в предыдущей версии приложения, поэтому пользователи вынуждены вручную выполнять обновление через веб-установщик, или предполагается, что у них Windows XP с пакетом обновления 2 (SP2) или более поздней версии.</span><span class="sxs-lookup"><span data-stu-id="b7d75-178">You can assume that users of your application already have DirectX 9.0c if it was installed by a previous version of your application, you force users to manually update via the Web Installer, or you assume that they have Windows XP SP2 or later.</span></span>

 

<span data-ttu-id="b7d75-179">Если продолжить работу с этим примером, то при использовании только 32-разрядной версии D3DX в апреле 2006 можно добавить Apr2006 \_ d3dx9 \_ 30 \_x86.cab.</span><span class="sxs-lookup"><span data-stu-id="b7d75-179">Continuing with this example, if you are using only the 32-bit version of D3DX for April 2006, you can add Apr2006\_d3dx9\_30\_x86.cab.</span></span> <span data-ttu-id="b7d75-180">Если вы используете 32-2006 32 разрядную версию КСИНПУТ, то вы добавляете Aug2006 \_ ксинпут \_x86.cab.</span><span class="sxs-lookup"><span data-stu-id="b7d75-180">If you are using the 32-bit August 2006 32-bit version of XINPUT, you add Aug2006\_xinput\_x86.cab.</span></span>

<span data-ttu-id="b7d75-181">При наличии собственного 64-разрядного приложения необходимо добавить \_ версии x64.</span><span class="sxs-lookup"><span data-stu-id="b7d75-181">If you have a native 64-bit application, you'll need to add the \_x64 versions.</span></span> <span data-ttu-id="b7d75-182">Однако при наличии 32-разрядного приложения, работающего в 64-разрядной ОС, будут работать 32-разрядные версии библиотек DLL.</span><span class="sxs-lookup"><span data-stu-id="b7d75-182">However, if you have a 32-bit application running on a 64-bit OS, the 32-bit versions of the DLLs will work.</span></span>

<span data-ttu-id="b7d75-183">Затем можно распространить этот пакет файлов и запустить Директсетуп в автоматическом режиме или запустить dxsetup.exe в командной оболочке в автоматическом режиме.</span><span class="sxs-lookup"><span data-stu-id="b7d75-183">You can then distribute this package of files and launch DirectSetup in silent mode or run dxsetup.exe in the command shell in silent mode.</span></span> <span data-ttu-id="b7d75-184">Не забывайте защищать этот пакет с помощью проверки версий файлов, и убедитесь, что пользователи не могут отказаться от запуска программы установки DirectX.</span><span class="sxs-lookup"><span data-stu-id="b7d75-184">Remember not to guard this package by any version checking of files, and make sure that your users cannot opt out of running the DirectX setup.</span></span> <span data-ttu-id="b7d75-185">Одно из этих событий создает процесс установки фаллибле.</span><span class="sxs-lookup"><span data-stu-id="b7d75-185">Either of these events creates a fallible installation process.</span></span>

## <a name="internal-deployment-of-the-debug-directx-runtime"></a><span data-ttu-id="b7d75-186">Внутреннее развертывание отладочной среды выполнения DirectX</span><span class="sxs-lookup"><span data-stu-id="b7d75-186">Internal Deployment of the Debug DirectX Runtime</span></span>

<span data-ttu-id="b7d75-187">Отладочные среды выполнения компонентов DirectX устанавливаются при установке пакета SDK DirectX, но установка пакета SDK на каждый тестовый компьютер может быть нелегкой.</span><span class="sxs-lookup"><span data-stu-id="b7d75-187">The debug runtimes of the DirectX components are installed when the DirectX SDK is installed, but installing the SDK on every test computer can be painful.</span></span> <span data-ttu-id="b7d75-188">Необходимо разработать процесс установки, чтобы скопировать библиотеки DLL среды выполнения отладки из программных файлов \\ \\ Архитектура среды выполнения разработчика Microsoft DirectX SDK \\ \\ в Windows \\ system32 \\ или в папку игры.</span><span class="sxs-lookup"><span data-stu-id="b7d75-188">You need to design your setup process to copy the debug runtime DLLs from Program Files\\Microsoft DirectX SDK\\Developer Runtime\\architecture\\ to Windows\\system32\\ or to the game's folder.</span></span>

<span data-ttu-id="b7d75-189">Однако настоятельно рекомендуется не просто копировать выпущенные библиотеки времени выполнения, так как это легко забывать, чтобы удалить их для окончательного продукта.</span><span class="sxs-lookup"><span data-stu-id="b7d75-189">However, we strongly recommend that you do not simply copy the released run-time DLLs because it is easy to forget to remove them for the final product.</span></span> <span data-ttu-id="b7d75-190">Вместо этого вставьте файлы установки DirectX в общую папку и запустите программу установки без вмешательства пользователя из общей папки.</span><span class="sxs-lookup"><span data-stu-id="b7d75-190">Instead, put the DirectX setup files in a shared folder and run the setup silently from the shared folder.</span></span>

## <a name="desktop-bridge-applications"></a><span data-ttu-id="b7d75-191">Приложения для настольных мостов</span><span class="sxs-lookup"><span data-stu-id="b7d75-191">Desktop Bridge applications</span></span> 

<span data-ttu-id="b7d75-192">Приложения-мосты для настольных систем, использующие D3DX9, D3DX10, D3DX11, Ксаудио 2,7, Ксинпут 1,3 или транзакции, должны загрузить платформу [Microsoft. DirectX. x86](https://download.microsoft.com/download/c/c/2/cc291a37-2ebd-4ac2-ba5f-4c9124733bf1/UAPSignedBinary_Microsoft.DirectX.x86.appx) или [Microsoft. DirectX. x64](https://download.microsoft.com/download/c/c/2/cc291a37-2ebd-4ac2-ba5f-4c9124733bf1/UAPSignedBinary_Microsoft.DirectX.x64.appx) , чтобы развернуть эти устаревшие компоненты пакета SDK DirectX на стороне.</span><span class="sxs-lookup"><span data-stu-id="b7d75-192">Desktop Bridge applications that use D3DX9, D3DX10, D3DX11, XAudio 2.7, XInput 1.3, or XACT must download either the [Microsoft.DirectX.x86](https://download.microsoft.com/download/c/c/2/cc291a37-2ebd-4ac2-ba5f-4c9124733bf1/UAPSignedBinary_Microsoft.DirectX.x86.appx) or the [Microsoft.DirectX.x64](https://download.microsoft.com/download/c/c/2/cc291a37-2ebd-4ac2-ba5f-4c9124733bf1/UAPSignedBinary_Microsoft.DirectX.x64.appx) framework in order to deploy these legacy DirectX SDK side-by-side components.</span></span> <span data-ttu-id="b7d75-193">Кроме того, можно удалить все такие зависимости &mdash; (см. раздел " [Guide для разработчиков" для распространяемой версии ксаудио 2,9](../xaudio2/xaudio2-redistributable.md), а также записи блога, [живущие без D3DX](https://walbourn.github.io/living-without-d3dx/) и [ксинпут и Windows 8](https://walbourn.github.io/xinput-and-windows-8/)).</span><span class="sxs-lookup"><span data-stu-id="b7d75-193">Alternatively, you can remove all such dependencies&mdash;(see [Developer guide for redistributable version of XAudio 2.9](../xaudio2/xaudio2-redistributable.md), and the blog posts [Living without D3DX](https://walbourn.github.io/living-without-d3dx/) and [XINPUT and Windows 8](https://walbourn.github.io/xinput-and-windows-8/)).</span></span>