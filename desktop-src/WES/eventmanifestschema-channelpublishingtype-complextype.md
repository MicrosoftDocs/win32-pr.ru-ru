---
title: Сложный тип Чаннелпублишингтипе
description: Определяет свойства ведения журнала для сеанса, используемого каналом. | Сложный тип Чаннелпублишингтипе
ms.assetid: 4b3980f4-8652-4070-97c0-99cd1a9fc85a
keywords:
- Журнал событий сложных типов Чаннелпублишингтипе
topic_type:
- apiref
api_name:
- ChannelPublishingType
api_type:
- Schema
ms.topic: reference
ms.date: 05/31/2018
api_location: ''
ms.openlocfilehash: af84685f25705f6f8c54a85b9befb6df791593ed
ms.sourcegitcommit: 92e74c99f8f4d097676959d0c317f533c2400a80
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/09/2021
ms.locfileid: "105694054"
---
# <a name="channelpublishingtype-complex-type"></a>Сложный тип Чаннелпублишингтипе

Определяет свойства ведения журнала для сеанса, используемого каналом.

``` syntax
<xs:complexType name="ChannelPublishingType">
    <xs:sequence
        minOccurs="0"
    >
        <xs:element name="level"
            type="UInt8Type"
            default="0"
            minOccurs="0"
         />
        <xs:element name="keywords"
            type="UInt64Type"
            default="0"
            minOccurs="0"
         />
        <xs:element name="controlGuid"
            type="GUIDType"
            minOccurs="0"
         />
        <xs:element name="bufferSize"
            type="UInt32Type"
            minOccurs="0"
         />
        <xs:element name="minBuffers"
            type="UInt32Type"
            minOccurs="0"
         />
        <xs:element name="fileMax"
            type="UInt32Type"
            minOccurs="0"
         />
        <xs:element name="maxBuffers"
            type="UInt32Type"
            minOccurs="0"
         />
        <xs:element name="latency"
            type="UInt32Type"
            minOccurs="0"
         />
        <xs:element name="clockType"
            default="SystemTime"
            minOccurs="0"
        >
            <xs:simpleType>
                <xs:restriction
                    base="xs:string"
                >
                    <xs:enumeration
                        value="SystemTime"
                     />
                    <xs:enumeration
                        value="QPC"
                     />
                </xs:restriction>
            </xs:simpleType>
        </xs:element>
        <xs:element name="sidType"
            minOccurs="0"
        >
            <xs:simpleType>
                <xs:restriction
                    base="xs:string"
                >
                    <xs:enumeration
                        value="None"
                     />
                    <xs:enumeration
                        value="Publishing"
                     />
                </xs:restriction>
            </xs:simpleType>
        </xs:element>
        <xs:any
            processContents="lax"
            minOccurs="0"
            maxOccurs="unbounded"
            namespace="##other"
         />
    </xs:sequence>
    <xs:anyAttribute
        processContents="lax"
        namespace="##other"
     />
</xs:complexType>
```

## <a name="child-elements"></a>Дочерние элементы



| Элемент                                                                              | Тип                                                              | Описание                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
|--------------------------------------------------------------------------------------|-------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**bufferSize**](eventmanifestschema-buffersize-channelpublishingtype-element.md)   | [**UInt32Type**](eventmanifestschema-hexint32type-simpletype.md) | Объем памяти (в килобайтах), выделяемой для каждого буфера. Если предполагается относительно низкий уровень событий, размер буфера должен быть установлен на размер страницы памяти. Если ожидается, что частота событий будет относительно высока, необходимо указать больший размер буфера и увеличить максимальное число буферов.<br/> Размер буфера влияет на скорость заполнения буферов и должна быть сброшена. Хотя для небольшого размера буфера требуется меньше памяти, это увеличивает скорость, с которой буферы должны быть сброшены.<br/> Размер буфера по умолчанию для аналитических и отладочных каналов составляет 4 КБ, а для администратора и рабочей области — 64 КБ.<br/>                                                                                                                |
| [**клокктипе**](eventmanifestschema-clocktype-channelpublishingtype-element.md)     |                                                                   | Разрешение часов, используемое при записи метки времени для каждого события. Можно указать SystemTime или QPC. SystemTime предоставляет отметку времени с низким разрешением (10 миллисекунд), но она сравнительно дешевле извлекать. Значение по умолчанию — SystemTime. <br/> Счетчик производительности запросов (QPC) предоставляет отметку времени высокого разрешения (100 наносекунд), но она сравнительно важна для получения. При наличии высокой частоты событий или при слиянии событий из разных буферов потребитель должен QPC.<br/>                                                                                                                                                                                                                                 |
| [**контролгуид**](eventmanifestschema-controlguid-channelpublishingtype-element.md) | [**гуидтипе**](eventmanifestschema-guidtype-simpletype.md)       | Определяет идентификатор GUID сеанса для сеанса ETW, содержащего события WPP. Этот параметр разрешен только для каналов типа "Отладка". Эти каналы нельзя полностью включить, если ключевые слова имеют нулевое значение (0x0000000000000000). Они должны быть включены с ключевыми словами, для которых задано значение 0xFFFFFFFFFFFFFFFF.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| **филемакс**                                                                          | [**UInt32Type**](eventmanifestschema-hexint32type-simpletype.md) | Максимальное количество случаев, когда служба должна создавать новый файл журнала при включении канала (включается при перезапуске компьютера). Если значение равно 0 или 1, то при каждом включении канала служба будет перезаписывать файл журнала, а предыдущие события будут потеряны. Если значение больше 1, служба создает новый файл журнала каждый раз, когда канал будет включен, чтобы сохранить события. Значение по умолчанию — 1, а максимальное — 16.<br/> Служба добавляет три цифры десятичное число от 0 до Филемакс 1 к каждому имени файла. Например, *filename*. ETL.XXX, где XXX — это десятичное число с тремя цифрами. Файлы находятся в журналах% WINDIR% \\ system32 \\ виневт \\ .<br/> |
| [**словами**](eventmanifestschema-keywords-channelpublishingtype-element.md)       | [**UInt64Type**](eventmanifestschema-hexint64type-simpletype.md) | Битовая маска, определяющая категорию событий, записываемых в канал. Если значение атрибута **keywords** равно 0, то все события, записываемые поставщиком, записываются в канал. в противном случае в канал записываются только те события, в которых определено ключевое слово, включенное в битовую маску **ключевых слов** . Значение по умолчанию равно 0.<br/> Для отладочных каналов, которые имеют набор атрибутов Контролгуид, необходимо задать атрибуту **keywords** значение 0xFFFFFFFFFFFFFFFF.<br/> Сеанс передает значение ключевых слов поставщику, когда он включает поставщик.<br/>                                                                                                                                                                            |
| [**явно**](eventmanifestschema-latency-channelpublishingtype-element.md)         | [**UInt32Type**](eventmanifestschema-hexint32type-simpletype.md) | Время ожидания перед очисткой буферов (в миллисекундах). Если значение равно нулю, ETW очищает буферы, как только они становятся заполненными. Если значение не равно нулю, ETW очищает все буферы, содержащие события, на основе значения, даже если буфер не полон. Как правило, необходимо очищать буферы только в том случае, если они заполнены. Принудительная очистка буферов может привести к увеличению размера файла журнала с незаполненным буферным пространством. Значение по умолчанию — 1 секунда для администраторов и операционных журналов и 5 секунд для журналов аналитики и отладки.<br/>                                                                                                                                                                                                                               |
| [**уровень**](eventmanifestschema-level-channelpublishingtype-element.md)             | [**UInt8Type**](eventmanifestschema-hexint8type-simpletype.md)   | Степень серьезности событий, записываемых в канал. Служба записывает события в канал со значением уровня, которое меньше или равно указанному значению. Значение по умолчанию равно 0, что означает запись событий с любым уровнем.<br/> Сеанс передает значение уровня поставщику, когда он включает поставщик.<br/>                                                                                                                                                                                                                                                                                                                                                                                                        |
| [**максбуфферс**](eventmanifestschema-maxbuffers-channelpublishingtype-element.md)   | [**UInt32Type**](eventmanifestschema-hexint32type-simpletype.md) | Максимальное количество буферов, выделяемых для сеанса. Обычно это значение является минимальным числом буферов плюс двадцать. Это значение должно быть больше или равно значению, указанному для Минбуфферс.<br/> По умолчанию максимальное количество буферов для аналитических и отладочных каналов составляет 10 КБ, а для администратора и рабочего элемента — 64 КБ.<br/>                                                                                                                                                                                                                                                                                                                                                                                                |
| [**минбуфферс**](eventmanifestschema-minbuffers-channelpublishingtype-element.md)   | [**UInt32Type**](eventmanifestschema-hexint32type-simpletype.md) | Минимальное число буферов, выделяемых для сеанса. По умолчанию используется значение ноль.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| [**Идентификатор типа безопасности**](eventmanifestschema-sidtype-channelpublishingtype-element.md)         |                                                                   | Определяет, следует ли включать идентификатор безопасности (SID) участника с каждым событием, записанным в канал. Чтобы включить идентификатор безопасности в событие, задайте для этого атрибута значение "публикация". Идентификатор безопасности задается на основе удостоверения потока во время записи события. Если вы не хотите включать идентификатор SID в событие, установите для этого атрибута значение "нет". Значение по умолчанию — Publish.<br/>                                                                                                                                                                                                                                                                                                                                                           |



## <a name="remarks"></a>Комментарии

Вы можете указать эту информацию публикации для типов каналов аналитики и отладки или для любого канала, который указывает пользовательскую изоляцию.

Хотя можно указать уровень и ключевые слова, следует учитывать, что эти данные будут единственными событиями, которые будут получены от поставщика для этого канала.

Когда буфер заполнен, ETW очищает буфер в файле журнала. Если буферы заполняются быстрее, чем могут быть сброшены, новые буферы выделяются и добавляются в буферный пул сеанса вплоть до указанного максимального числа. За пределами этого ограничения сеанс отклоняет входящие события до тех пор, пока буфер не станет доступным.

## <a name="requirements"></a>Требования



| Требование | Значение |
|-------------------------------------|------------------------------------------------------|
| Минимальная версия клиента<br/> | Только для \[ классических приложений Windows Vista\]<br/>       |
| Минимальная версия сервера<br/> | \[Только для настольных приложений Windows Server 2008\]<br/> |



 

 





