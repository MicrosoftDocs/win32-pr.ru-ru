---
description: Модель безопасности Windows позволяет звонящим диспетчера транзакций ядра (KTM) управлять доступом к транзакциям, диспетчеру транзакций, диспетчеру ресурсов и объектам прикрепления.
ms.assetid: c9d51d4d-9f07-44d6-a2e1-4a47367cc4ae
title: Права доступа и безопасности KTM
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: ed4e42c9aaf8498ff16ebd1d32f539fef5b54b17
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "105684240"
---
# <a name="ktm-security-and-access-rights"></a><span data-ttu-id="b0a98-103">Права доступа и безопасности KTM</span><span class="sxs-lookup"><span data-stu-id="b0a98-103">KTM Security and Access Rights</span></span>

<span data-ttu-id="b0a98-104">Модель безопасности Windows позволяет звонящим диспетчера транзакций ядра (KTM) управлять доступом к транзакциям, диспетчеру транзакций, диспетчеру ресурсов и объектам прикрепления.</span><span class="sxs-lookup"><span data-stu-id="b0a98-104">The Windows security model enables callers of Kernel Transaction Manager (KTM) to control access to transaction, transaction manager, resource manager, and enlistment objects.</span></span> <span data-ttu-id="b0a98-105">Дополнительные сведения см. в разделе [модель управления доступом](/windows/desktop/SecAuthZ/access-control-model).</span><span class="sxs-lookup"><span data-stu-id="b0a98-105">For more information, see [Access-Control Model](/windows/desktop/SecAuthZ/access-control-model).</span></span> <span data-ttu-id="b0a98-106">Для приложений, не являющихся вопросами безопасности, транзакции могут создаваться с разрешающими списками управления доступом (ACL), позволяющими любому диспетчеру ресурсов прикрепляться к транзакции.</span><span class="sxs-lookup"><span data-stu-id="b0a98-106">For applications that are not concerned about security, transactions can be created with permissive access control lists (ACLs) that allow any resource manager to enlist on a transaction.</span></span>

## <a name="transactions"></a><span data-ttu-id="b0a98-107">Transactions</span><span class="sxs-lookup"><span data-stu-id="b0a98-107">Transactions</span></span>

<span data-ttu-id="b0a98-108">Когда клиент использует функцию [**опентрансактион**](/windows/desktop/api/Ktmw32/nf-ktmw32-opentransaction) , система проверяет запрошенные права доступа в отношении дескриптора безопасности для объекта транзакции.</span><span class="sxs-lookup"><span data-stu-id="b0a98-108">When a client uses the [**OpenTransaction**](/windows/desktop/api/Ktmw32/nf-ktmw32-opentransaction) function, the system checks the requested access rights against the security descriptor for the transaction object.</span></span>

<span data-ttu-id="b0a98-109">Допустимые права доступа для объектов транзакций включают возможность запрашивать и задавать сведения, прикреплять и различные операции транзакций, а также [стандартные права доступа](/windows/desktop/SecAuthZ/standard-access-rights).</span><span class="sxs-lookup"><span data-stu-id="b0a98-109">The valid access rights for transaction objects include the ability to query and set information, enlist, and various transaction operations, as well as [standard access rights](/windows/desktop/SecAuthZ/standard-access-rights).</span></span> <span data-ttu-id="b0a98-110">[**Маски доступа к транзакциям**](transaction-access-masks.md) перечисляются определенные права доступа для транзакции.</span><span class="sxs-lookup"><span data-stu-id="b0a98-110">[**Transaction Access Masks**](transaction-access-masks.md) list the specific access rights for a transaction.</span></span>

<span data-ttu-id="b0a98-111">Так как транзакции имеют устойчивое состояние, очень важно, чтобы RMs и TMs, взаимодействующие с KTM, выполнили свои обязательства в отношении восстановления.</span><span class="sxs-lookup"><span data-stu-id="b0a98-111">Because transactions have a durable state, it is critical that RMs and TMs that interact with the KTM fulfill their obligations with regard to recovery.</span></span> <span data-ttu-id="b0a98-112">Сбой выполнения этих обязательств может привести к утечке ресурсов, которые не очищаются даже при перезагрузке системы.</span><span class="sxs-lookup"><span data-stu-id="b0a98-112">Failure to fulfill these obligations can result in resource leaks that are not cleaned up, even by a system reboot.</span></span> <span data-ttu-id="b0a98-113">Рассмотрите воздействие постоянной утечки или вредоносного кода, который привел бы к тому, что KTM использует ресурсы ядра, пока не привел к сбою системы. после полученной перезагрузки KTM прочитает свой журнал и повторно создаст все постоянные объекты, что может привести к тому, что произойдет сбой одной системы.</span><span class="sxs-lookup"><span data-stu-id="b0a98-113">Consider the effect of a persistent leak or malicious code that caused the KTM to consume kernel resources until it resulted in a system failure; after the resulting reboot, the KTM would read its log and re-create all the persistent objects, potentially causing the same system failure to recur.</span></span> <span data-ttu-id="b0a98-114">Регулирование на основе квоты позволит избежать незаконного попадания ресурсов из фальшивого или неправильно работающего RM.</span><span class="sxs-lookup"><span data-stu-id="b0a98-114">Quota-based throttling will prevent persistent resource starvation from a rogue or ill-behaving RM.</span></span> <span data-ttu-id="b0a98-115">Наконец, необходимо создать административные механизмы, позволяющие обнаруживать и исправлять такие постоянные утечки.</span><span class="sxs-lookup"><span data-stu-id="b0a98-115">Finally, administrative mechanisms must be created that allow for the detection and correction of such persistent leaks.</span></span>

## <a name="transaction-managers"></a><span data-ttu-id="b0a98-116">Диспетчеры транзакций</span><span class="sxs-lookup"><span data-stu-id="b0a98-116">Transaction Managers</span></span>

<span data-ttu-id="b0a98-117">Когда клиент использует функцию [**опентрансактионманажер**](/windows/desktop/api/Ktmw32/nf-ktmw32-opentransactionmanager) , система проверяет запрошенные права доступа к дескриптору безопасности объекта Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="b0a98-117">When a client uses the [**OpenTransactionManager**](/windows/desktop/api/Ktmw32/nf-ktmw32-opentransactionmanager) function, the system checks the requested access rights against the security descriptor for the resource manager object.</span></span>

<span data-ttu-id="b0a98-118">Допустимые права доступа к объектам диспетчера транзакций включают в себя возможность запрашивать и задавать сведения, создавать RMs, а также операции recover и Rename и [стандартные права доступа](/windows/desktop/SecAuthZ/standard-access-rights).</span><span class="sxs-lookup"><span data-stu-id="b0a98-118">The valid access rights for transaction manager objects include the ability to query and set information, create RMs, and recover and rename operations, as well as [standard access rights](/windows/desktop/SecAuthZ/standard-access-rights).</span></span> <span data-ttu-id="b0a98-119">[**Маски доступа диспетчера транзакций**](transaction-manager-access-masks.md) перечисляет определенные права доступа для диспетчера транзакций.</span><span class="sxs-lookup"><span data-stu-id="b0a98-119">[**Transaction Manager Access Masks**](transaction-manager-access-masks.md) lists the specific access rights for a transaction manager.</span></span>

<span data-ttu-id="b0a98-120">Диспетчер ресурсов может создавать собственные объекты диспетчера транзакций с ограниченными списками ACL для ограничения того, какие диспетчеры ресурсов могут участвовать в транзакциях, использующих журнал диспетчера транзакций.</span><span class="sxs-lookup"><span data-stu-id="b0a98-120">A resource manager can create its own transaction manager objects with restrictive ACLs to limit which resource managers can participate in transactions that use that transaction manager's log.</span></span>

## <a name="resource-managers"></a><span data-ttu-id="b0a98-121">Диспетчеры ресурсов</span><span class="sxs-lookup"><span data-stu-id="b0a98-121">Resource Managers</span></span>

<span data-ttu-id="b0a98-122">Когда клиент использует функцию [**опенресаурцеманажер**](/windows/desktop/api/Ktmw32/nf-ktmw32-openresourcemanager) , система проверяет запрошенные права доступа к дескриптору безопасности объекта Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="b0a98-122">When a client uses the [**OpenResourceManager**](/windows/desktop/api/Ktmw32/nf-ktmw32-openresourcemanager) function, the system checks the requested access rights against the security descriptor for the resource manager object.</span></span>

<span data-ttu-id="b0a98-123">Допустимые права доступа к объектам Resource Manager включают в себя возможность запрашивать и задавать сведения, восстанавливать, прикреплять, регистрировать операции, а также операции распространения и восстановления и [стандартные права доступа](/windows/desktop/SecAuthZ/standard-access-rights).</span><span class="sxs-lookup"><span data-stu-id="b0a98-123">The valid access rights for resource manager objects include the ability to query and set information, recover, enlist, registration operations, and propagation and recover operations, as well as [standard access rights](/windows/desktop/SecAuthZ/standard-access-rights).</span></span> <span data-ttu-id="b0a98-124">[**Маски доступа диспетчер ресурсов**](resource-manager-access-masks.md) перечислены определенные права доступа для диспетчера ресурсов.</span><span class="sxs-lookup"><span data-stu-id="b0a98-124">[**Resource Manager Access Masks**](resource-manager-access-masks.md) lists the specific access rights for a resource manager.</span></span>

<span data-ttu-id="b0a98-125">Диспетчер ресурсов может создавать собственные объекты Resource Manager с ограниченными списками ACL, чтобы предотвратить перехват вредоносным кодом или принудительно выполнять определенные транзакционные результаты.</span><span class="sxs-lookup"><span data-stu-id="b0a98-125">A resource manager can create its own resource manager objects with restrictive ACLs if it wishes to prevent malicious code from intercepting notifications or forcing particular transactional outcomes.</span></span>

## <a name="enlistments"></a><span data-ttu-id="b0a98-126">Зачислений</span><span class="sxs-lookup"><span data-stu-id="b0a98-126">Enlistments</span></span>

<span data-ttu-id="b0a98-127">Когда клиент использует функцию [**опененлистмент**](/windows/desktop/api/Ktmw32/nf-ktmw32-openenlistment) , система проверяет запрошенные права доступа в отношении дескриптора безопасности для объекта прикрепления.</span><span class="sxs-lookup"><span data-stu-id="b0a98-127">When a client uses the [**OpenEnlistment**](/windows/desktop/api/Ktmw32/nf-ktmw32-openenlistment) function, the system checks the requested access rights against the security descriptor for the enlistment object.</span></span>

<span data-ttu-id="b0a98-128">Допустимые права доступа для объектов прикрепления включают возможность запрашивать и задавать сведения, восстанавливать операции, а также [стандартные права доступа](/windows/desktop/SecAuthZ/standard-access-rights).</span><span class="sxs-lookup"><span data-stu-id="b0a98-128">The valid access rights for enlistment objects include the ability to query and set information, recover operations, as well as [standard access rights](/windows/desktop/SecAuthZ/standard-access-rights).</span></span> <span data-ttu-id="b0a98-129">[**Маски доступа прикрепления**](enlistment-access-masks.md) перечисляет определенные права доступа для зачисления.</span><span class="sxs-lookup"><span data-stu-id="b0a98-129">[**Enlistment Access Masks**](enlistment-access-masks.md) lists the specific access rights for an enlistment.</span></span>

 

 
