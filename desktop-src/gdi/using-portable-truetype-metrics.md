---
description: Приложения, использующие текстовые метрики TrueType, могут обеспечить высокую степень переносимости принтеров и документов. они могут использовать метрики TrueType, даже если они должны поддерживать совместимость с ранними 16-разрядными версиями Windows.
ms.assetid: 29b54315-7c4e-4b8c-ad79-0b85c7386860
title: Использование переносимых метрик TrueType
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 83360b620bde11e20726b0ee4124d35bf6cf00b2
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "104997650"
---
# <a name="using-portable-truetype-metrics"></a><span data-ttu-id="d6c94-103">Использование переносимых метрик TrueType</span><span class="sxs-lookup"><span data-stu-id="d6c94-103">Using Portable TrueType Metrics</span></span>

<span data-ttu-id="d6c94-104">Приложения, использующие текстовые метрики TrueType, могут обеспечить высокую степень переносимости принтеров и документов. они могут использовать метрики TrueType, даже если они должны поддерживать совместимость с ранними 16-разрядными версиями Windows.</span><span class="sxs-lookup"><span data-stu-id="d6c94-104">Applications that use the TrueType text metrics can achieve a high degree of printer and document portability; they can use TrueType metrics even if they must maintain compatibility with early 16-bit versions of Windows.</span></span>

<span data-ttu-id="d6c94-105">Ширина проекта устранена большинство проблем с зависящим от устройства текстом, представленными физическими устройствами.</span><span class="sxs-lookup"><span data-stu-id="d6c94-105">Design widths overcome most of the problems of device-dependent text introduced by physical devices.</span></span> <span data-ttu-id="d6c94-106">Ширина конструирования — это разновидность логической ширины.</span><span class="sxs-lookup"><span data-stu-id="d6c94-106">Design widths are a kind of logical width.</span></span> <span data-ttu-id="d6c94-107">Независимо от каких-либо проблем растрирования или преобразований масштабирования Каждый глиф имеет логическую ширину и высоту.</span><span class="sxs-lookup"><span data-stu-id="d6c94-107">Independent of any rasterization problems or scaling transformations, each glyph has a logical width and height.</span></span> <span data-ttu-id="d6c94-108">Для каждого символа в строке, созданного для логической страницы, место, не зависящее от ширины физического устройства.</span><span class="sxs-lookup"><span data-stu-id="d6c94-108">Composed to a logical page, each character in a string has a place that is independent of the physical device widths.</span></span> <span data-ttu-id="d6c94-109">Несмотря на то, что логическая ширина подразумевает горизонтальное масштабирование значений по всем размерам точек, это не обязательно верно для непортовых или большинства шрифтов TrueType.</span><span class="sxs-lookup"><span data-stu-id="d6c94-109">Although a logical width implies that widths can be scaled linearly at all point sizes, this is not necessarily true for either nonportable or most TrueType fonts.</span></span> <span data-ttu-id="d6c94-110">При меньших размерах точек некоторые глифы становятся более широкими относительно высотой для повышения удобочитаемости.</span><span class="sxs-lookup"><span data-stu-id="d6c94-110">At smaller point sizes, some glyphs are made wider relative to their height for better readability.</span></span>

<span data-ttu-id="d6c94-111">Символы в шрифтах TrueType Core предназначены для сетки 2048 на 2048.</span><span class="sxs-lookup"><span data-stu-id="d6c94-111">The characters in TrueType core fonts are designed against a 2048 by 2048 grid.</span></span> <span data-ttu-id="d6c94-112">Ширина конструктора — это ширина символа в этих единицах сетки.</span><span class="sxs-lookup"><span data-stu-id="d6c94-112">The design width is the width of a character in these grid units.</span></span> <span data-ttu-id="d6c94-113">(TrueType поддерживает любой целочисленный размер сетки до 16 384 на 16 384; размеры сетки, которые являются целыми числами, имеют 2 шкалы быстрее, чем другие размеры сетки.)</span><span class="sxs-lookup"><span data-stu-id="d6c94-113">(TrueType supports any integer grid size up to 16,384 by 16,384; grid sizes that are integer powers of 2 scale faster than other grid sizes.)</span></span>

<span data-ttu-id="d6c94-114">Структура шрифтов разработана в единицах измерения.</span><span class="sxs-lookup"><span data-stu-id="d6c94-114">The font outline is designed in notional units.</span></span> <span data-ttu-id="d6c94-115">Квадрат EM — это определяющая сетка, в которой размещается контур шрифта.</span><span class="sxs-lookup"><span data-stu-id="d6c94-115">The em square is the notional grid against which the font outline is fitted.</span></span> <span data-ttu-id="d6c94-116">(Вы можете использовать элемент **отмемскуаре** из [Аутлинетекстметрик](/windows/desktop/api/Wingdi/ns-wingdi-outlinetextmetrica) и член **нтмсизим** [невтекстметрик](/windows/win32/api/wingdi/ns-wingdi-newtextmetrica) для получения размера максимального квадрата в обных единицах.) При создании шрифта, имеющего размер точки (в единицах устройства), равный размеру квадрата EM, ширина ABC для этого шрифта соответствует желаемой ширине.</span><span class="sxs-lookup"><span data-stu-id="d6c94-116">(You can use the **otmEMSquare** member of [OUTLINETEXTMETRIC](/windows/desktop/api/Wingdi/ns-wingdi-outlinetextmetrica) and the **ntmSizeEM** member of [NEWTEXTMETRIC](/windows/win32/api/wingdi/ns-wingdi-newtextmetrica) to retrieve the size of the em square in notional units.) When a font is created that has a point size (in device units) equal to the size of its em square, the ABC widths for this font are the desired design widths.</span></span> <span data-ttu-id="d6c94-117">Например, предположим, что размер квадрата EM равен 1000, а ширина ABC символа в шрифте — 150, 400 и 150.</span><span class="sxs-lookup"><span data-stu-id="d6c94-117">For example, assume the size of an em square is 1000 and the ABC widths of a character in the font are 150, 400, and 150.</span></span> <span data-ttu-id="d6c94-118">Символ в этом шрифте, равный 10 единицам устройства, имеет ширину ABC 1,5, 4 и 1,5 соответственно.</span><span class="sxs-lookup"><span data-stu-id="d6c94-118">A character in this font that is 10 device units high would have ABC widths of 1.5, 4, and 1.5, respectively.</span></span> <span data-ttu-id="d6c94-119">Так как \_ режим сопоставления текста mm чаще всего используется со шрифтами (а \_ текст мм эквивалентен единицам устройства), это простое вычисление.</span><span class="sxs-lookup"><span data-stu-id="d6c94-119">Since the MM\_TEXT mapping mode is most commonly used with fonts (and MM\_TEXT is equivalent to device units), this is a simple calculation.</span></span>

<span data-ttu-id="d6c94-120">Из-за высокого разрешения ширины проекта TrueType приложения, использующие их, должны учитывать большие числовые значения, которые можно создать.</span><span class="sxs-lookup"><span data-stu-id="d6c94-120">Because of the high resolution of TrueType design widths, applications that use them must take into account the large numeric values that can be created.</span></span> <span data-ttu-id="d6c94-121">Дополнительные сведения см. в следующих разделах:</span><span class="sxs-lookup"><span data-stu-id="d6c94-121">For more information, see the following topics:</span></span>

-   [<span data-ttu-id="d6c94-122">Устройства и единицы проектирования</span><span class="sxs-lookup"><span data-stu-id="d6c94-122">Device vs. Design Units</span></span>](device-vs--design-units.md)
-   [<span data-ttu-id="d6c94-123">Метрики для переносимых документов</span><span class="sxs-lookup"><span data-stu-id="d6c94-123">Metrics for Portable Documents</span></span>](metrics-for-portable-documents.md)

 

 



