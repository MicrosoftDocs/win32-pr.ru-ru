---
description: Формат метафайлов Microsoft Windows ограничен в их возможностях и редко используется.
ms.assetid: ebbf871b-cf78-4a90-8f27-e44699c17178
title: Windows-Format метафайлы
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 6f5d261ed884ebc8836f9bbae43fcb29cd7965d3
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "104265524"
---
# <a name="windows-format-metafiles"></a>Windows-Format метафайлы

Формат метафайлов Microsoft Windows ограничен в их возможностях и редко используется. Функции формата Windows поддерживаются для обеспечения обратной совместимости с приложениями, написанными для запуска как 16-разрядных приложений на основе Windows. Вместо этого следует использовать функции расширенного форматирования.

*Формат Windows-метафайл* используется 16-разрядными приложениями Windows. Формат состоит из заголовка и массива записей метафайлов.

Ниже перечислены ограничения этого формата.

-   Метафайл Windows — это зависящее от приложения и устройства. Изменения в режимах сопоставления приложения или разрешения устройства влияют на внешний вид метафайлов, созданных в этом формате.
-   Метафайл Windows-format не содержит исчерпывающий заголовок, описывающий исходные размеры изображения, разрешение устройства, на котором было создано изображение, необязательное текстовое описание или дополнительная палитра.
-   Метафайл Windows-format не поддерживает новые функции кривой, пути и преобразования. Список поддерживаемых функций см. в следующей таблице.
-   Не удается масштабировать некоторые записи метафайлов формата Windows.
-   Не удается выполнить запрос к контексту устройства метафайла, связанному с метафайлом Windows-Format (т. е. приложение не может получить данные разрешения устройства, метрики шрифтов и т. д.).

Ниже приведены единственные функции, поддерживаемые метафайлами Windows.



|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [](/windows/desktop/api/Wingdi/nf-wingdi-animatepalette)[**Дуга** аниматепалетте](/windows/desktop/api/Wingdi/nf-wingdi-arc)<br/> [**BitBlt**](/windows/desktop/api/Wingdi/nf-wingdi-bitblt)<br/> [**Хордовая диаграмма**](/windows/desktop/api/Wingdi/nf-wingdi-chord)<br/> [**креатебрушиндирект**](/windows/desktop/api/Wingdi/nf-wingdi-createbrushindirect)<br/> [**креатедибпаттернбруш**](/windows/desktop/api/Wingdi/nf-wingdi-createdibpatternbrush)<br/> [**CreateFontIndirect**](/windows/desktop/api/Wingdi/nf-wingdi-createfontindirecta)<br/> [**креатепалетте**](/windows/desktop/api/Wingdi/nf-wingdi-createpalette)<br/> [**креатепаттернбруш**](/windows/desktop/api/Wingdi/nf-wingdi-createpatternbrush)<br/> [**креатепениндирект**](/windows/desktop/api/Wingdi/nf-wingdi-createpenindirect)<br/> [**DeleteObject**](/windows/desktop/api/Wingdi/nf-wingdi-deleteobject)<br/> [**Эллипс**](/windows/desktop/api/Wingdi/nf-wingdi-ellipse)<br/> [**ESCAPE**](/windows/win32/api/wingdi/nf-wingdi-escape)<br/> [**ексклудеклипрект**](/windows/desktop/api/Wingdi/nf-wingdi-excludecliprect)<br/> [**екстфлудфилл**](/windows/desktop/api/Wingdi/nf-wingdi-extfloodfill)<br/> [**ExtTextOut**](/windows/desktop/api/Wingdi/nf-wingdi-exttextouta)<br/> [**филлргн**](/windows/desktop/api/Wingdi/nf-wingdi-fillrgn)<br/> [**флудфилл**](/windows/desktop/api/Wingdi/nf-wingdi-floodfill)<br/> [**фрамергн**](/windows/desktop/api/Wingdi/nf-wingdi-framergn)<br/> [**интерсектклипрект**](/windows/desktop/api/Wingdi/nf-wingdi-intersectcliprect)<br/> [**инвертргн**](/windows/desktop/api/Wingdi/nf-wingdi-invertrgn)<br/> | [**LineTo**](/windows/desktop/api/Wingdi/nf-wingdi-lineto)[**моветоекс**](/windows/desktop/api/Wingdi/nf-wingdi-movetoex)<br/> [**оффсетклипргн**](/windows/desktop/api/Wingdi/nf-wingdi-offsetcliprgn)<br/> [**оффсетвиевпорторжекс**](/windows/desktop/api/Wingdi/nf-wingdi-offsetviewportorgex)<br/> [**оффсетвиндоворжекс**](/windows/desktop/api/Wingdi/nf-wingdi-offsetwindoworgex)<br/> [**паинтргн**](/windows/desktop/api/Wingdi/nf-wingdi-paintrgn)<br/> [**патблт**](/windows/desktop/api/Wingdi/nf-wingdi-patblt)<br/> [**Круговая**](/windows/desktop/api/Wingdi/nf-wingdi-pie)<br/> [**Многоугольник**](/windows/desktop/api/Wingdi/nf-wingdi-polygon)<br/> [**Линию**](/windows/desktop/api/Wingdi/nf-wingdi-polyline)<br/> [**Многоугольник**](/windows/desktop/api/Wingdi/nf-wingdi-polypolygon)<br/> [**реализепалетте**](/windows/desktop/api/Wingdi/nf-wingdi-realizepalette)<br/> [**Углами**](/windows/desktop/api/Wingdi/nf-wingdi-rectangle)<br/> [**ресизепалетте**](/windows/desktop/api/Wingdi/nf-wingdi-resizepalette)<br/> [**ресторедк**](/windows/desktop/api/Wingdi/nf-wingdi-restoredc)<br/> [**раундрект**](/windows/desktop/api/Wingdi/nf-wingdi-roundrect)<br/> [**саведк**](/windows/desktop/api/Wingdi/nf-wingdi-savedc)<br/> [**скалевиевпортекстекс**](/windows/desktop/api/Wingdi/nf-wingdi-scaleviewportextex)<br/> [**скалевиндовекстекс**](/windows/desktop/api/Wingdi/nf-wingdi-scalewindowextex)<br/> [**селектклипргн**](/windows/desktop/api/Wingdi/nf-wingdi-selectcliprgn)<br/> [**Функцию**](/windows/desktop/api/Wingdi/nf-wingdi-selectobject)<br/> | [**Селектпалетте**](/windows/desktop/api/Wingdi/nf-wingdi-selectpalette)[**сетбкколор**](/windows/desktop/api/Wingdi/nf-wingdi-setbkcolor)<br/> [**сетбкмоде**](/windows/desktop/api/Wingdi/nf-wingdi-setbkmode)<br/> [**сетдибитстодевице**](/windows/desktop/api/Wingdi/nf-wingdi-setdibitstodevice)<br/> [**сетмапмоде**](/windows/desktop/api/Wingdi/nf-wingdi-setmapmode)<br/> [**сетмапперфлагс**](/windows/desktop/api/Wingdi/nf-wingdi-setmapperflags)<br/> [**сетпалеттинтриес**](/windows/desktop/api/Wingdi/nf-wingdi-setpaletteentries)<br/> [**SetPixel**](/windows/desktop/api/Wingdi/nf-wingdi-setpixel)<br/> [**сетполифиллмоде**](/windows/desktop/api/Wingdi/nf-wingdi-setpolyfillmode)<br/> [**SetROP2**](/windows/desktop/api/Wingdi/nf-wingdi-setrop2)<br/> [**сетстретчблтмоде**](/windows/desktop/api/Wingdi/nf-wingdi-setstretchbltmode)<br/> [**сеттексталигн**](/windows/desktop/api/Wingdi/nf-wingdi-settextalign)<br/> [**сеттекстчарактерекстра**](/windows/desktop/api/Wingdi/nf-wingdi-settextcharacterextra)<br/> [**сеттекстколор**](/windows/desktop/api/Wingdi/nf-wingdi-settextcolor)<br/> [**сеттекстжустификатион**](/windows/desktop/api/Wingdi/nf-wingdi-settextjustification)<br/> [**сетвиевпорторжекс**](/windows/desktop/api/Wingdi/nf-wingdi-setviewportorgex)<br/> [**сетвиндовекстекс**](/windows/desktop/api/Wingdi/nf-wingdi-setwindowextex)<br/> [**сетвиндоворжекс**](/windows/desktop/api/Wingdi/nf-wingdi-setwindoworgex)<br/> [**стретчблт**](/windows/desktop/api/Wingdi/nf-wingdi-stretchblt)<br/> [**стретчдибитс**](/windows/desktop/api/Wingdi/nf-wingdi-stretchdibits)<br/> [**TextOut**](/windows/desktop/api/Wingdi/nf-wingdi-textouta)<br/> |



 

Чтобы преобразовать метафайл Windows в расширенный формат, вызовите функцию [**жетметафилебитсекс**](/windows/desktop/api/Wingdi/nf-wingdi-getmetafilebitsex) для получения данных из метафайла Windows-Format, а затем вызовите функцию [**сетвинметафилебитс**](/windows/desktop/api/Wingdi/nf-wingdi-setwinmetafilebits) для преобразования этих данных в метафайл расширенного формата. Чтобы преобразовать запись расширенного формата в запись формата Windows, вызовите функцию [**жетвинметафилебитс**](/windows/desktop/api/Wingdi/nf-wingdi-getwinmetafilebits) .

 

 
