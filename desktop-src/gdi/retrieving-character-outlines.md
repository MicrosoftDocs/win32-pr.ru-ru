---
description: Для получения контура глифа из шрифта TrueType можно использовать функцию Жетглифаутлине.
ms.assetid: 9b255dfa-3c1d-4707-927d-a2d5f4117f6a
title: Извлечение контуров символов
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 638193632d4992dfb53f29a3dfe66a858b3e1fb6
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "104984817"
---
# <a name="retrieving-character-outlines"></a><span data-ttu-id="3ef29-103">Извлечение контуров символов</span><span class="sxs-lookup"><span data-stu-id="3ef29-103">Retrieving Character Outlines</span></span>

<span data-ttu-id="3ef29-104">Для получения контура глифа из шрифта TrueType можно использовать функцию [жетглифаутлине](/windows/desktop/api/Wingdi/nf-wingdi-getglyphoutlinea) .</span><span class="sxs-lookup"><span data-stu-id="3ef29-104">You can use the [GetGlyphOutline](/windows/desktop/api/Wingdi/nf-wingdi-getglyphoutlinea) function to retrieve the outline of a glyph from a TrueType font.</span></span> <span data-ttu-id="3ef29-105">Структура глифа, возвращаемая функцией [**жетглифаутлине**](/windows/win32/api/wingdi/nf-wingdi-getglyphoutlinea) , относится к глифу, заданному в сетке.</span><span class="sxs-lookup"><span data-stu-id="3ef29-105">The glyph outline returned by the [**GetGlyphOutline**](/windows/win32/api/wingdi/nf-wingdi-getglyphoutlinea) function is for a grid-fitted glyph.</span></span> <span data-ttu-id="3ef29-106">(Глиф, заменяющий сетку, был изменен таким образом, чтобы его растровое изображение соответствовало исходному дизайну глифа насколько это возможно.) Если приложению требуется неизмененная структура глифа, запросите структуру глифа для символа в шрифте, размер которого равен единицам em шрифта.</span><span class="sxs-lookup"><span data-stu-id="3ef29-106">(A grid-fitted glyph has been modified so that its bitmap image conforms as closely as possible to the original design of the glyph.) If your application requires an unmodified glyph outline, request the glyph outline for a character in a font whose size is equal to the font's em units.</span></span> <span data-ttu-id="3ef29-107">(Чтобы создать шрифт с таким размером, задайте для элемента **лфхеигхт** структуры [LOGFONT](/windows/win32/api/wingdi/ns-wingdi-logfonta) отрицательное значение элемента **нтмсизим** структуры [невтекстметрик](/windows/win32/api/wingdi/ns-wingdi-newtextmetrica) .)</span><span class="sxs-lookup"><span data-stu-id="3ef29-107">(To create a font with this size, set the **lfHeight** member of the [LOGFONT](/windows/win32/api/wingdi/ns-wingdi-logfonta) structure to the negative of the value of the **ntmSizeEM** member of the [NEWTEXTMETRIC](/windows/win32/api/wingdi/ns-wingdi-newtextmetrica) structure.)</span></span>

<span data-ttu-id="3ef29-108">[**Жетглифаутлине**](/windows/win32/api/wingdi/nf-wingdi-getglyphoutlinea) Возвращает контур в виде точечного рисунка или в виде ряда ломаных и сплайнов.</span><span class="sxs-lookup"><span data-stu-id="3ef29-108">[**GetGlyphOutline**](/windows/win32/api/wingdi/nf-wingdi-getglyphoutlinea) returns the outline as a bitmap or as a series of polylines and splines.</span></span> <span data-ttu-id="3ef29-109">Когда приложение извлекает структуру глифов как ряд ломаных и сплайнов, сведения возвращаются в структуре [ттполигонхеадер](/windows/win32/api/wingdi/ns-wingdi-ttpolygonheader) , за которой следует столько структур [ттполикурве](/windows/win32/api/wingdi/ns-wingdi-ttpolycurve) , сколько необходимо для описания глифа.</span><span class="sxs-lookup"><span data-stu-id="3ef29-109">When an application retrieves a glyph outline as a series of polylines and splines, the information is returned in a [TTPOLYGONHEADER](/windows/win32/api/wingdi/ns-wingdi-ttpolygonheader) structure followed by as many [TTPOLYCURVE](/windows/win32/api/wingdi/ns-wingdi-ttpolycurve) structures as required to describe the glyph.</span></span> <span data-ttu-id="3ef29-110">Все точки возвращаются в виде структур [поинтфкс](/windows/win32/api/wingdi/ns-wingdi-pointfx) и представляют абсолютные позиции, а не относительные перемещения.</span><span class="sxs-lookup"><span data-stu-id="3ef29-110">All points are returned as [POINTFX](/windows/win32/api/wingdi/ns-wingdi-pointfx) structures and represent absolute positions, not relative moves.</span></span> <span data-ttu-id="3ef29-111">Начальной точкой, заданной элементом **пфксстарт** структуры [**ттполигонхеадер**](/windows/win32/api/wingdi/ns-wingdi-ttpolygonheader) , является точка, в которой начинается контур контура.</span><span class="sxs-lookup"><span data-stu-id="3ef29-111">The starting point specified by the **pfxStart** member of the [**TTPOLYGONHEADER**](/windows/win32/api/wingdi/ns-wingdi-ttpolygonheader) structure is the point where the outline for a contour begins.</span></span> <span data-ttu-id="3ef29-112">Следующие структуры [**ттполикурве**](/windows/win32/api/wingdi/ns-wingdi-ttpolycurve) могут быть либо записями ломаных линий, либо записями сплайна.</span><span class="sxs-lookup"><span data-stu-id="3ef29-112">The [**TTPOLYCURVE**](/windows/win32/api/wingdi/ns-wingdi-ttpolycurve) structures that follow can be either polyline records or spline records.</span></span>

<span data-ttu-id="3ef29-113">Чтобы отобразить структуру символов TrueType, необходимо использовать и ломаную линию, и записи сплайна.</span><span class="sxs-lookup"><span data-stu-id="3ef29-113">To render a TrueType character outline, you must use both the polyline and the spline records.</span></span> <span data-ttu-id="3ef29-114">Система может легко визуализировать и ломаные линии, и кривые.</span><span class="sxs-lookup"><span data-stu-id="3ef29-114">The system can render both polylines and splines easily.</span></span> <span data-ttu-id="3ef29-115">Каждая ломаная и сплайновая записи содержат как можно больше последовательных точек, чтобы максимально сокращать число возвращаемых записей.</span><span class="sxs-lookup"><span data-stu-id="3ef29-115">Each polyline and spline record contains as many sequential points as possible, to minimize the number of records returned.</span></span>

<span data-ttu-id="3ef29-116">Начальная точка, заданная в структуре [**ттполигонхеадер**](/windows/win32/api/wingdi/ns-wingdi-ttpolygonheader) , всегда находится на контуре глифа.</span><span class="sxs-lookup"><span data-stu-id="3ef29-116">The starting point specified in the [**TTPOLYGONHEADER**](/windows/win32/api/wingdi/ns-wingdi-ttpolygonheader) structure is always on the outline of the glyph.</span></span> <span data-ttu-id="3ef29-117">Указанная точка выступает в качестве начальной и конечной точек контура.</span><span class="sxs-lookup"><span data-stu-id="3ef29-117">The specified point serves as both the starting and ending points for the contour.</span></span>

<span data-ttu-id="3ef29-118">В этом разделе содержатся сведения по следующим темам.</span><span class="sxs-lookup"><span data-stu-id="3ef29-118">This section provides information on the following topics.</span></span>

-   [<span data-ttu-id="3ef29-119">Записи ломаной линии</span><span class="sxs-lookup"><span data-stu-id="3ef29-119">Polyline Records</span></span>](polyline-records.md)
-   [<span data-ttu-id="3ef29-120">Записи сплайна</span><span class="sxs-lookup"><span data-stu-id="3ef29-120">Spline Records</span></span>](spline-records.md)

 

 
