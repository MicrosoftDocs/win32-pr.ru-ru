---
description: Несмотря на то, что приложение может использовать цвет без учета цветовых возможностей устройства, результирующие выходные данные могут быть не так информативными и привлекательными в качестве выходных данных, для которых тщательно выбирается цвет.
ms.assetid: 008c8a8e-3456-4727-9b27-00b20ae880a2
title: Приближение цветов и Дизеринг
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: a72e28dbc3ce20a42b53b5ff060d950719e2d861
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "104155670"
---
# <a name="color-approximations-and-dithering"></a><span data-ttu-id="a816e-103">Приближение цветов и Дизеринг</span><span class="sxs-lookup"><span data-stu-id="a816e-103">Color Approximations and Dithering</span></span>

<span data-ttu-id="a816e-104">Несмотря на то, что приложение может использовать цвет без учета цветовых возможностей устройства, результирующие выходные данные могут быть не так информативными и привлекательными в качестве выходных данных, для которых тщательно выбирается цвет.</span><span class="sxs-lookup"><span data-stu-id="a816e-104">Although an application can use color without regard to the color capabilities of the device, the resulting output may not be as informative and pleasing as output for which color is carefully chosen.</span></span> <span data-ttu-id="a816e-105">Если таковые имеются, устройства гарантируют точное соответствие для каждого возможного значения цвета; Таким образом, если приложение запрашивает цвет, который не может быть создан устройством, система приблизительно использует цвет, который может быть создан устройством.</span><span class="sxs-lookup"><span data-stu-id="a816e-105">Few, if any, devices guarantee an exact match for every possible color value; therefore, if an application requests a color that the device cannot generate, the system approximates that color by using a color that the device can generate.</span></span> <span data-ttu-id="a816e-106">Например, если приложение попытается создать красное перо для черно-белого принтера, оно получит черное перо, а система будет использовать черный цвет в качестве приближения для красного цвета.</span><span class="sxs-lookup"><span data-stu-id="a816e-106">For example, if an application attempts to create a red pen for a black and white printer, it will receive a black pen instead the system uses black as the approximation for red.</span></span>

<span data-ttu-id="a816e-107">Приложение может определить, будет ли система приблизительно заданный цвет с помощью функции [**жетнеарестколор**](/windows/desktop/api/Wingdi/nf-wingdi-getnearestcolor) .</span><span class="sxs-lookup"><span data-stu-id="a816e-107">An application can discover whether the system will approximate a given color by using the [**GetNearestColor**](/windows/desktop/api/Wingdi/nf-wingdi-getnearestcolor) function.</span></span> <span data-ttu-id="a816e-108">Функция принимает значение цвета и возвращает значение цвета ближайшего совпадающего цвета, который может быть создан устройством.</span><span class="sxs-lookup"><span data-stu-id="a816e-108">The function takes a color value and returns the color value of the closest matching color the device can generate.</span></span> <span data-ttu-id="a816e-109">Метод, используемый системой для определения этой аппроксимации, зависит от драйвера устройства и его возможностей цвета.</span><span class="sxs-lookup"><span data-stu-id="a816e-109">The method the system uses to determine this approximation depends on the device driver and its color capabilities.</span></span> <span data-ttu-id="a816e-110">В большинстве случаев общая интенсивность приближенного цвета ближе всего к требуемому цвету.</span><span class="sxs-lookup"><span data-stu-id="a816e-110">In most cases, the approximated color's overall intensity is closest to that of the requested color.</span></span>

<span data-ttu-id="a816e-111">Когда приложение создает перо или задает цвет текста, система всегда приближена к цвету, если точное соответствие не существует.</span><span class="sxs-lookup"><span data-stu-id="a816e-111">When an application creates a pen or sets the color for text, the system always approximates a color if no exact match exists.</span></span> <span data-ttu-id="a816e-112">Когда приложение создает сплошную кисть, система может попытаться имитировать запрошенный цвет путем сглаживания.</span><span class="sxs-lookup"><span data-stu-id="a816e-112">When an application creates a solid brush, the system may attempt to simulate the requested color by dithering.</span></span> <span data-ttu-id="a816e-113">*Дизеринг* имитирует цвет путем чередования двух или более цветов в шаблоне.</span><span class="sxs-lookup"><span data-stu-id="a816e-113">*Dithering* simulates a color by alternating two or more colors in a pattern.</span></span> <span data-ttu-id="a816e-114">Например, различные оттенки розовый можно имитировать, изменяя разные сочетания красного и белого.</span><span class="sxs-lookup"><span data-stu-id="a816e-114">For example, different shades of pink can be simulated by alternating different combinations of red and white.</span></span> <span data-ttu-id="a816e-115">В зависимости от цветов и узора Дизеринг может создавать разумные модели моделирования.</span><span class="sxs-lookup"><span data-stu-id="a816e-115">Depending on the colors and the pattern, dithering can produce reasonable simulations.</span></span> <span data-ttu-id="a816e-116">Он наиболее удобен для монохромных устройств, поскольку он расширяет количество доступных цветов, а не просто черно-белое.</span><span class="sxs-lookup"><span data-stu-id="a816e-116">It is most useful for monochrome devices, because it expands the number of available "colors" well beyond simple black and white.</span></span>

<span data-ttu-id="a816e-117">Метод, используемый для создания расцветки, зависит от драйвера устройства.</span><span class="sxs-lookup"><span data-stu-id="a816e-117">The method used to create dithered colors depends on the device driver.</span></span> <span data-ttu-id="a816e-118">Большинство драйверов устройств используют стандартный алгоритм сглаживания, который создает шаблон на основе значений интенсивности запрошенных красного, зеленого и синего цветов.</span><span class="sxs-lookup"><span data-stu-id="a816e-118">Most device drivers use a standard dithering algorithm, which generates a pattern based on the intensity values of the requested red, green, and blue colors.</span></span> <span data-ttu-id="a816e-119">Как правило, любой запрошенный цвет, который не может быть создан устройством, подвергается моделированию, но приложение не уведомляется, когда система имитирует цвет.</span><span class="sxs-lookup"><span data-stu-id="a816e-119">In general, any requested color that cannot be generated by the device is subject to simulation, but an application is not notified when the system simulates a color.</span></span> <span data-ttu-id="a816e-120">Кроме того, приложение не может изменить или изменить алгоритм сглаживания драйвера устройства.</span><span class="sxs-lookup"><span data-stu-id="a816e-120">Furthermore, an application cannot modify or change the dithering algorithm of the device driver.</span></span> <span data-ttu-id="a816e-121">Однако приложение может обходить алгоритм, создавая и используя узорные кисти.</span><span class="sxs-lookup"><span data-stu-id="a816e-121">An application, however, can bypass the algorithm by creating and using pattern brushes.</span></span> <span data-ttu-id="a816e-122">Таким образом, приложение создает свои собственные цвета, комбинируя сплошные цвета в точечном рисунке, который используется для создания кисти.</span><span class="sxs-lookup"><span data-stu-id="a816e-122">In this way, the application creates its own dithered colors by combining solid colors in the bitmap that it uses to create the brush.</span></span>

 

 



