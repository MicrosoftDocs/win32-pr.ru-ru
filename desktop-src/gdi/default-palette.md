---
description: Палитра по умолчанию — это массив значений цвета, определяющих цвета, которые можно использовать в контексте устройства по умолчанию.
ms.assetid: 7972d5da-2b73-4cd7-a2ee-fca3a571f611
title: Палитра по умолчанию
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: c100eeb144ab4f6483281b33739578642880a91f
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "103898437"
---
# <a name="default-palette"></a><span data-ttu-id="b5a61-103">Палитра по умолчанию</span><span class="sxs-lookup"><span data-stu-id="b5a61-103">Default Palette</span></span>

<span data-ttu-id="b5a61-104">*Палитра по умолчанию* — это массив значений цвета, определяющих цвета, которые можно использовать в контексте устройства по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="b5a61-104">The *default palette* is an array of color values identifying the colors that can be used with a device context by default.</span></span> <span data-ttu-id="b5a61-105">система связывает палитру по умолчанию с контекстом каждый раз, когда приложение создает контекст для устройства, поддерживающего цветовые палитры.</span><span class="sxs-lookup"><span data-stu-id="b5a61-105">the system associates the default palette with a context whenever an application creates a context for a device that supports color palettes.</span></span> <span data-ttu-id="b5a61-106">Палитра по умолчанию гарантирует, что цвета будут доступны для использования приложением без каких бы то ни было дальнейших действий.</span><span class="sxs-lookup"><span data-stu-id="b5a61-106">The default palette ensures that colors are available for use by an application without any further action.</span></span>

<span data-ttu-id="b5a61-107">Стандартная палитра по умолчанию имеет 20 записей (цветов), но точное число записей может отличаться от устройства к устройству.</span><span class="sxs-lookup"><span data-stu-id="b5a61-107">The default palette typically has 20 entries (colors), but the exact number of entries may vary from device to device.</span></span> <span data-ttu-id="b5a61-108">Это число равно значению НУМКОЛОРС, возвращаемому функцией [**жетдевицекапс**](/windows/desktop/api/Wingdi/nf-wingdi-getdevicecaps) .</span><span class="sxs-lookup"><span data-stu-id="b5a61-108">This number is equal to the NUMCOLORS value returned by the [**GetDeviceCaps**](/windows/desktop/api/Wingdi/nf-wingdi-getdevicecaps) function.</span></span> <span data-ttu-id="b5a61-109">Приложение может извлекать цветовые значения для цветов в палитре по умолчанию, перечисляя сплошные перья, тем же методом, который используется для обнаружения цветов, доступных на устройствах, не перечисленных в палитре.</span><span class="sxs-lookup"><span data-stu-id="b5a61-109">An application can retrieve the color values for colors in the default palette by enumerating solid pens, the same technique used to discover the colors available on nonpalette devices.</span></span> <span data-ttu-id="b5a61-110">Цвета в палитре по умолчанию зависят от устройства.</span><span class="sxs-lookup"><span data-stu-id="b5a61-110">The colors in the default palette depend on the device.</span></span> <span data-ttu-id="b5a61-111">Например, устройства дисплея часто используют 16 стандартных цветов дисплея VGA и 4 других цвета, определенных в Windows.</span><span class="sxs-lookup"><span data-stu-id="b5a61-111">Display devices, for example, often use the 16 standard colors of the VGA display and 4 other colors defined by Windows.</span></span> <span data-ttu-id="b5a61-112">Устройства печати могут использовать другие цвета по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="b5a61-112">Print devices may use other default colors.</span></span>

<span data-ttu-id="b5a61-113">При использовании палитры по умолчанию приложения используют цветовые значения для указания цветов пера и текста.</span><span class="sxs-lookup"><span data-stu-id="b5a61-113">When using the default palette, applications use color values to specify pen and text colors.</span></span> <span data-ttu-id="b5a61-114">Если запрошенный цвет отсутствует в палитре, система приближена к цвету, используя ближайший цвет в палитре.</span><span class="sxs-lookup"><span data-stu-id="b5a61-114">If the requested color is not in the palette, The system approximates the color by using the closest color in the palette.</span></span> <span data-ttu-id="b5a61-115">Если приложение запрашивает сплошной цвет кисти, который отсутствует в палитре, система имитирует цвет, передизеринг с цветами, которые находятся в палитре.</span><span class="sxs-lookup"><span data-stu-id="b5a61-115">If an application requests a solid brush color that is not in the palette, the system simulates the color by dithering with colors that are in the palette.</span></span>

<span data-ttu-id="b5a61-116">Чтобы избежать приближения и сглаживания, приложения также могут указать цвета пера, кисти и текста с помощью индексов палитры цветов, а не значений цвета.</span><span class="sxs-lookup"><span data-stu-id="b5a61-116">To avoid approximations and dithering, applications can also specify pen, brush, and text colors by using color palette indexes rather than color values.</span></span> <span data-ttu-id="b5a61-117">Индекс цветовой палитры — это целочисленное значение, определяющее конкретную запись в палитре.</span><span class="sxs-lookup"><span data-stu-id="b5a61-117">A color palette index is an integer value that identifies a specific palette entry.</span></span> <span data-ttu-id="b5a61-118">Приложения могут использовать индексы цветовой палитры вместо цветовых значений, но для создания индексов необходимо использовать макрос [**PALETTEINDEX**](/windows/desktop/api/Wingdi/nf-wingdi-paletteindex) .</span><span class="sxs-lookup"><span data-stu-id="b5a61-118">Applications can use color palette indexes in place of color values but must use the [**PALETTEINDEX**](/windows/desktop/api/Wingdi/nf-wingdi-paletteindex) macro to create the indexes.</span></span>

<span data-ttu-id="b5a61-119">Индексы цветовой палитры полезны только для устройств, поддерживающих цветовые палитры.</span><span class="sxs-lookup"><span data-stu-id="b5a61-119">Color palette indexes are only useful for devices that support color palettes.</span></span> <span data-ttu-id="b5a61-120">Чтобы избежать зависимости от устройства, приложения, использующие один и тот же код для рисования как на палитре, так и на устройствах без палитры, должны использовать цветовые значения, относительные палитры, для указания цветов пера, кисти и текста.</span><span class="sxs-lookup"><span data-stu-id="b5a61-120">To avoid this device dependence, applications that use the same code to draw to both palette and nonpalette devices should use palette-relative color values to specify pen, brush, and text colors.</span></span> <span data-ttu-id="b5a61-121">Эти значения идентичны цветным значениям, за исключением создания сплошных кистей.</span><span class="sxs-lookup"><span data-stu-id="b5a61-121">These values are identical to color values except when creating solid brushes.</span></span> <span data-ttu-id="b5a61-122">(На устройствах палитры сплошной цвет кисти, заданный в цветовой палитре, зависит от приближения цвета вместо сглаживания.) Приложения должны использовать макрос [**палеттергб**](/windows/desktop/api/Wingdi/nf-wingdi-palettergb) для создания цветовых значений, относительных от палитры.</span><span class="sxs-lookup"><span data-stu-id="b5a61-122">(On palette devices, a solid brush color specified by a palette-relative color value is subject to color approximation instead of dithering.) Applications must use the [**PALETTERGB**](/windows/desktop/api/Wingdi/nf-wingdi-palettergb) macro to create palette-relative color values.</span></span>

<span data-ttu-id="b5a61-123">Система не позволяет приложению изменять записи в палитре по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="b5a61-123">The system does not allow an application to change the entries in the default palette.</span></span> <span data-ttu-id="b5a61-124">Чтобы использовать цвета, отличные от используемых в палитре по умолчанию, приложение должно создать собственную логическую палитру и выбрать палитру в контексте устройства.</span><span class="sxs-lookup"><span data-stu-id="b5a61-124">To use colors other than those in the default palette, an application must create its own logical palette and select the palette into the device context.</span></span>

 

 



