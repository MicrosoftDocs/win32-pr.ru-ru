---
description: Функция Жетсистемметрикс возвращает значения для основного монитора, за исключением SM \_ кксмакстракк и SM \_ цимакстракк, которые ссылаются на весь рабочий стол.
ms.assetid: d0105363-1895-4e10-8a33-648a6fc4c20a
title: Метрики системы с несколькими мониторами
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 149f4da5c687df28817105e1ec3876ffd1ab5649
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "104155602"
---
# <a name="multiple-monitor-system-metrics"></a>Метрики системы с несколькими мониторами

Функция [**жетсистемметрикс**](/windows/win32/api/winuser/nf-winuser-getsystemmetrics) возвращает значения для основного монитора, за исключением SM \_ кксмакстракк и SM \_ цимакстракк, которые ссылаются на весь рабочий стол. Следующие метрики одинаковы для всех драйверов устройств: SM \_ ккскурсор, SM \_ ЦИКУРСОР, SM \_ кксикон, смциикон. Следующие возможности экрана одинаковы для всех мониторов: ЛОГПИКСЕЛСКС, ЛОГПИКСЕЛСИ, ДЕСТОФОРЗРЕС, ДЕСКТОПВЕРТРЕС.

[**Жетсистемметрикс**](/windows/win32/api/winuser/nf-winuser-getsystemmetrics) также содержит константы, которые ссылаются только на систему с несколькими мониторами. SM \_ ксвиртуалскрин и SM \_ ивиртуалскрин определяют левый верхний угол виртуального экрана, SM \_ кксвиртуалскрин и SM \_ цивиртуалскрин являются вертикальными и горизонтальными измерениями виртуального экрана, SM \_ кмониторс — число мониторов, подключенных к рабочему столу, и SM \_ самедисплайформат указывает, имеют ли все мониторы на рабочем столе одинаковый цветовой формат.

Чтобы получить сведения о одном мониторе отображения или всех мониторах монитора на рабочем столе, используйте Енумдисплаймониторс. Прямоугольник окна рабочего стола, возвращаемый функцией [**жетвиндоврект**](/windows/win32/api/winuser/nf-winuser-getwindowrect) или [**жетклиентрект**](/windows/win32/api/winuser/nf-winuser-getclientrect) , всегда равен прямоугольнику основного монитора для совместимости с существующими приложениями. Таким образом, результат


```C++
GetWindowRect(GetDesktopWindow(), &rc);
```



будет:


```C++
rc.left = 0; 
rc.top = 0; 
rc.right = GetSystemMetrics (SM_CXSCREEN); 
rc.bottom = GetSystemMetrics (SM_CYSCREEN);
```



Чтобы изменить рабочую область монитора, вызовите [**системпараметерсинфо**](/windows/win32/api/winuser/nf-winuser-systemparametersinfoa) с SPI \_ сетворкареа и *пвпарам* , указывающим на структуру [**Rect**](/previous-versions//dd162897(v=vs.85)) , которая находится на нужном мониторе. Если *пвпарам* имеет **значение NULL**, изменяется Рабочая область основного монитора. Использование SPI \_ жетворкареа всегда возвращает рабочую область основного монитора. Чтобы получить рабочую область монитора, отличного от основного, вызовите [**жетмониторинфо**](/windows/desktop/api/Winuser/nf-winuser-getmonitorinfoa).

 

 
