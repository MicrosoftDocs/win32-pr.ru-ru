---
description: После того как приложение создаст монитор или контроллер домена, он может начать рисовать на связанном устройстве или, в случае с КОНТРОЛЛЕРом памяти, он может начать рисование на точечном рисунке, хранящемся в памяти.
ms.assetid: 73657a66-9415-4db0-a800-463c3d639240
title: Операции с графическими объектами
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: ec0574b8527dbf83b4cb4a38163dcf7b33017336
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "104984905"
---
# <a name="operations-on-graphic-objects"></a><span data-ttu-id="5080b-103">Операции с графическими объектами</span><span class="sxs-lookup"><span data-stu-id="5080b-103">Operations on Graphic Objects</span></span>

<span data-ttu-id="5080b-104">После того как приложение создаст монитор или контроллер домена, он может начать рисовать на связанном устройстве или, в случае с КОНТРОЛЛЕРом памяти, он может начать рисование на точечном рисунке, хранящемся в памяти.</span><span class="sxs-lookup"><span data-stu-id="5080b-104">After an application creates a display or printer DC, it can begin drawing on the associated device or, in the case of the memory DC, it can begin drawing on the bitmap stored in memory.</span></span> <span data-ttu-id="5080b-105">Однако перед началом рисования и иногда во время прорисовки часто требуется заменить объекты по умолчанию новыми объектами.</span><span class="sxs-lookup"><span data-stu-id="5080b-105">However, before drawing begins, and sometimes while drawing is in progress, it is often necessary to replace the default objects with new objects.</span></span>

<span data-ttu-id="5080b-106">Приложение может проверить атрибуты объекта по умолчанию, вызвав функции [**жеткуррентобжект**](/windows/desktop/api/Wingdi/nf-wingdi-getcurrentobject) и [**GetObject**](/windows/desktop/api/Wingdi/nf-wingdi-getobject) .</span><span class="sxs-lookup"><span data-stu-id="5080b-106">An application can examine a default object's attributes by calling the [**GetCurrentObject**](/windows/desktop/api/Wingdi/nf-wingdi-getcurrentobject) and [**GetObject**](/windows/desktop/api/Wingdi/nf-wingdi-getobject) functions.</span></span> <span data-ttu-id="5080b-107">Функция **жеткуррентобжект** возвращает дескриптор, идентифицирующий текущее перо, кисть, палитру, точечный рисунок или шрифт, а функция **GetObject** Инициализирует структуру, содержащую атрибуты этого объекта.</span><span class="sxs-lookup"><span data-stu-id="5080b-107">The **GetCurrentObject** function returns a handle identifying the current pen, brush, palette, bitmap, or font, and the **GetObject** function initializes a structure containing that object's attributes.</span></span>

<span data-ttu-id="5080b-108">Некоторые принтеры предоставляют резидентные перья, кисти и шрифты, которые можно использовать для повышения скорости рисования в приложении.</span><span class="sxs-lookup"><span data-stu-id="5080b-108">Some printers provide resident pens, brushes, and fonts that can be used to improve drawing speed in an application.</span></span> <span data-ttu-id="5080b-109">Для перечисления этих объектов можно использовать две функции: [**енумобжектс**](/windows/desktop/api/Wingdi/nf-wingdi-enumobjects) и [**EnumFontFamilies**](/windows/desktop/api/Wingdi/nf-wingdi-enumfontfamiliesa).</span><span class="sxs-lookup"><span data-stu-id="5080b-109">Two functions can be used to enumerate these objects: [**EnumObjects**](/windows/desktop/api/Wingdi/nf-wingdi-enumobjects) and [**EnumFontFamilies**](/windows/desktop/api/Wingdi/nf-wingdi-enumfontfamiliesa).</span></span> <span data-ttu-id="5080b-110">Если приложение должно перечислить резидентные перья или кисти, оно может вызвать функцию **енумобжектс** для проверки соответствующих атрибутов.</span><span class="sxs-lookup"><span data-stu-id="5080b-110">If the application must enumerate resident pens or brushes, it can call the **EnumObjects** function to examine the corresponding attributes.</span></span> <span data-ttu-id="5080b-111">Если приложение должно перечислять резидентные шрифты, оно может вызвать функцию **EnumFontFamilies** (которая также может перечислять шрифты GDI).</span><span class="sxs-lookup"><span data-stu-id="5080b-111">If the application must enumerate resident fonts, it can call the **EnumFontFamilies** function (which can also enumerate GDI fonts).</span></span>

<span data-ttu-id="5080b-112">Когда приложение определит, что объекту по умолчанию требуется замена, он создает новый объект, вызывая одну из следующих функций создания.</span><span class="sxs-lookup"><span data-stu-id="5080b-112">Once an application determines that a default object needs replacing, it creates a new object by calling one of the following creation functions.</span></span>



| <span data-ttu-id="5080b-113">Графический объект</span><span class="sxs-lookup"><span data-stu-id="5080b-113">Graphic object</span></span> | <span data-ttu-id="5080b-114">Функция</span><span class="sxs-lookup"><span data-stu-id="5080b-114">Function</span></span>                                                                                                                                                                                                                                                                                                                                                             |
|----------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="5080b-115">Bitmap</span><span class="sxs-lookup"><span data-stu-id="5080b-115">Bitmap</span></span>         | <span data-ttu-id="5080b-116">[**Креатебитмап**](/windows/desktop/api/Wingdi/nf-wingdi-createbitmap), [**креатебитмапиндирект**](/windows/desktop/api/Wingdi/nf-wingdi-createbitmapindirect), [**креатекомпатиблебитмап**](/windows/desktop/api/Wingdi/nf-wingdi-createcompatiblebitmap), [**креатедискардаблебитмап**](/windows/desktop/api/Wingdi/nf-wingdi-creatediscardablebitmap), [**CreateDIBitmap**](/windows/desktop/api/Wingdi/nf-wingdi-createdibitmap)</span><span class="sxs-lookup"><span data-stu-id="5080b-116">[**CreateBitmap**](/windows/desktop/api/Wingdi/nf-wingdi-createbitmap), [**CreateBitmapIndirect**](/windows/desktop/api/Wingdi/nf-wingdi-createbitmapindirect), [**CreateCompatibleBitmap**](/windows/desktop/api/Wingdi/nf-wingdi-createcompatiblebitmap), [**CreateDiscardableBitmap**](/windows/desktop/api/Wingdi/nf-wingdi-creatediscardablebitmap), [**CreateDIBitmap**](/windows/desktop/api/Wingdi/nf-wingdi-createdibitmap)</span></span>                                                                                                           |
| <span data-ttu-id="5080b-117">Brush</span><span class="sxs-lookup"><span data-stu-id="5080b-117">Brush</span></span>          | <span data-ttu-id="5080b-118">[**Креатебрушиндирект**](/windows/desktop/api/Wingdi/nf-wingdi-createbrushindirect), [**креатедибпаттернбруш**](/windows/desktop/api/Wingdi/nf-wingdi-createdibpatternbrush), [**креатедибпаттернбрушпт**](/windows/desktop/api/Wingdi/nf-wingdi-createdibpatternbrushpt), [**креатехатчбруш**](/windows/desktop/api/Wingdi/nf-wingdi-createhatchbrush), [**CreatePatternBrush**](/windows/desktop/api/Wingdi/nf-wingdi-createpatternbrush), [**CreateSolidBrush**](/windows/desktop/api/Wingdi/nf-wingdi-createsolidbrush)</span><span class="sxs-lookup"><span data-stu-id="5080b-118">[**CreateBrushIndirect**](/windows/desktop/api/Wingdi/nf-wingdi-createbrushindirect), [**CreateDIBPatternBrush**](/windows/desktop/api/Wingdi/nf-wingdi-createdibpatternbrush), [**CreateDIBPatternBrushPt**](/windows/desktop/api/Wingdi/nf-wingdi-createdibpatternbrushpt), [**CreateHatchBrush**](/windows/desktop/api/Wingdi/nf-wingdi-createhatchbrush), [**CreatePatternBrush**](/windows/desktop/api/Wingdi/nf-wingdi-createpatternbrush), [**CreateSolidBrush**](/windows/desktop/api/Wingdi/nf-wingdi-createsolidbrush)</span></span>                                                 |
| <span data-ttu-id="5080b-119">Цветовая палитра</span><span class="sxs-lookup"><span data-stu-id="5080b-119">Color Palette</span></span>  | [<span data-ttu-id="5080b-120">**креатепалетте**</span><span class="sxs-lookup"><span data-stu-id="5080b-120">**CreatePalette**</span></span>](/windows/desktop/api/Wingdi/nf-wingdi-createpalette)                                                                                                                                                                                                                                                                                                                               |
| <span data-ttu-id="5080b-121">Шрифт</span><span class="sxs-lookup"><span data-stu-id="5080b-121">Font</span></span>           | <span data-ttu-id="5080b-122">[**CreateFont**](/windows/desktop/api/Wingdi/nf-wingdi-createfonta), [ **CreateFontIndirect**](/windows/desktop/api/Wingdi/nf-wingdi-createfontindirecta)</span><span class="sxs-lookup"><span data-stu-id="5080b-122">[**CreateFont**](/windows/desktop/api/Wingdi/nf-wingdi-createfonta), [**CreateFontIndirect**](/windows/desktop/api/Wingdi/nf-wingdi-createfontindirecta)</span></span>                                                                                                                                                                                                                                                                                   |
| <span data-ttu-id="5080b-123">Перо</span><span class="sxs-lookup"><span data-stu-id="5080b-123">Pen</span></span>            | <span data-ttu-id="5080b-124">[**Креатепен**](/windows/desktop/api/Wingdi/nf-wingdi-createpen), [**креатепениндирект**](/windows/desktop/api/Wingdi/nf-wingdi-createpenindirect), [**ексткреатепен**](/windows/desktop/api/Wingdi/nf-wingdi-extcreatepen)</span><span class="sxs-lookup"><span data-stu-id="5080b-124">[**CreatePen**](/windows/desktop/api/Wingdi/nf-wingdi-createpen), [**CreatePenIndirect**](/windows/desktop/api/Wingdi/nf-wingdi-createpenindirect), [**ExtCreatePen**](/windows/desktop/api/Wingdi/nf-wingdi-extcreatepen)</span></span>                                                                                                                                                                                                                                                 |
| <span data-ttu-id="5080b-125">Region</span><span class="sxs-lookup"><span data-stu-id="5080b-125">Region</span></span>         | <span data-ttu-id="5080b-126">[**Креатиллиптикргн**](/windows/desktop/api/Wingdi/nf-wingdi-createellipticrgn), [**креатиллиптикргниндирект**](/windows/desktop/api/Wingdi/nf-wingdi-createellipticrgnindirect), [**креатеполигонргн**](/windows/desktop/api/Wingdi/nf-wingdi-createpolygonrgn), [**креатеполиполигонргн**](/windows/desktop/api/Wingdi/nf-wingdi-createpolypolygonrgn), [**CreateRectRgn**](/windows/desktop/api/Wingdi/nf-wingdi-createrectrgn), [**CreateRectRgnIndirect**](/windows/desktop/api/Wingdi/nf-wingdi-createrectrgnindirect), [**CreateRoundRectRgn**](/windows/desktop/api/Wingdi/nf-wingdi-createroundrectrgn)</span><span class="sxs-lookup"><span data-stu-id="5080b-126">[**CreateEllipticRgn**](/windows/desktop/api/Wingdi/nf-wingdi-createellipticrgn), [**CreateEllipticRgnIndirect**](/windows/desktop/api/Wingdi/nf-wingdi-createellipticrgnindirect), [**CreatePolygonRgn**](/windows/desktop/api/Wingdi/nf-wingdi-createpolygonrgn), [**CreatePolyPolygonRgn**](/windows/desktop/api/Wingdi/nf-wingdi-createpolypolygonrgn), [**CreateRectRgn**](/windows/desktop/api/Wingdi/nf-wingdi-createrectrgn), [**CreateRectRgnIndirect**](/windows/desktop/api/Wingdi/nf-wingdi-createrectrgnindirect), [**CreateRoundRectRgn**](/windows/desktop/api/Wingdi/nf-wingdi-createroundrectrgn)</span></span> |



 

<span data-ttu-id="5080b-127">Каждая из этих функций возвращает маркер, идентифицирующий новый объект.</span><span class="sxs-lookup"><span data-stu-id="5080b-127">Each of these functions returns a handle identifying a new object.</span></span> <span data-ttu-id="5080b-128">После того как приложение получит маркер, оно должно вызвать функцию [**SelectObject**](/windows/desktop/api/Wingdi/nf-wingdi-selectobject) для замены объекта по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="5080b-128">After an application retrieves a handle, it must call the [**SelectObject**](/windows/desktop/api/Wingdi/nf-wingdi-selectobject) function to replace the default object.</span></span> <span data-ttu-id="5080b-129">Однако приложение должно сохранить маркер, идентифицирующий объект по умолчанию, и использовать этот маркер для замены нового объекта, если он больше не нужен.</span><span class="sxs-lookup"><span data-stu-id="5080b-129">However, the application should save the handle identifying the default object and use this handle to replace the new object when it is no longer needed.</span></span> <span data-ttu-id="5080b-130">Когда приложение завершает рисование с помощью нового объекта, оно должно восстановить объект по умолчанию, вызвав функцию **SelectObject** , а затем удалить новый объект, вызвав функцию [**DeleteObject**](/windows/desktop/api/Wingdi/nf-wingdi-deleteobject) .</span><span class="sxs-lookup"><span data-stu-id="5080b-130">When the application finishes drawing with the new object, it must restore the default object by calling the **SelectObject** function and then delete the new object by calling the [**DeleteObject**](/windows/desktop/api/Wingdi/nf-wingdi-deleteobject) function.</span></span> <span data-ttu-id="5080b-131">Невозможность удаления объектов вызывает серьезные проблемы с производительностью.</span><span class="sxs-lookup"><span data-stu-id="5080b-131">Failing to delete objects causes serious performance problems.</span></span>

 

 



