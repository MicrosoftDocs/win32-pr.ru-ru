---
description: Дочернее окно — это окно с \_ стилем WS-Child или WS \_ CHILDWINDOW.
ms.assetid: d8110492-c1b9-4b49-9b34-587adb7c65c9
title: Регион обновления дочернего окна
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: fbf702855e506424a08e5be6c6b0cfe514035f1c54348306475140fb7fc440a7
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119105899"
---
# <a name="child-window-update-region"></a>Регион обновления дочернего окна

Дочернее окно — это окно с \_ стилем WS-Child или WS \_ CHILDWINDOW. Как и другие стили окна, дочерние окна получают сообщения [**WM \_ Paint**](wm-paint.md) для запроса на обновление. Каждое дочернее окно имеет регион обновления, который либо система, либо приложение могут быть настроены для формирования конечных сообщений **WM \_ Paint** .

Родительское окно дочернего элемента влияет на обновление и видимые области дочернего окна. Это неверно для Windows других стилей. Система часто задает область обновления дочернего окна, когда задается область обновления родительского окна, в результате чего дочернее окно получает сообщения [**WM \_ Paint**](wm-paint.md) при получении их родительским окном. Система ограничивает расположение видимой области дочернего окна в пределах клиентской области родительского окна и обрезает любую часть дочернего окна, перемещенную за пределы родительского окна.

Система устанавливает регион обновления для дочернего окна, когда часть области обновления родительского окна включает часть дочернего окна. В таких случаях система сначала отправляет сообщение [**WM \_ Paint**](wm-paint.md) в родительское окно, а затем отправляет сообщение в дочернее окно, позволяя дочернему окну восстанавливать части окна, которые могут быть выведены родительским элементом.

Система не устанавливает регион обновления родительского элемента, если задан дочерний элемент. Приложение не может создать сообщение [**WM \_ Paint**](wm-paint.md) для родительского окна путем непроверки дочернего окна. Аналогичным образом приложение не может создать сообщение **WM \_ Paint** для дочернего элемента за счет недействительной части клиентской области родителя, которая полностью находится в дочернем окне. В таких случаях ни одно из окон не получает сообщение **WM \_ Paint** .

Приложение может препятствовать установке области обновления дочернего окна при установке родительского окна путем указания \_ стиля WS клипчилдрен при создании родительского окна. Если этот стиль задан, система исключает дочерние окна из видимой области родительского элемента и, таким образом, пропускает любую часть области обновления, которая может содержать дочерние окна. Когда приложение рисует в родительском окне, любой рисунок, который будет охватывать дочернее окно, обрезается, что делает последующее сообщение [**WM \_ Paint**](wm-paint.md) ненужным для дочернего окна.

На обновление и видимые области дочернего окна также влияют родственные элементы дочернего окна. Одноуровневые окна — это все окна, имеющие общее родительское окно. Если одноуровневые окна перекрываются, установка региона обновления для одной влияет на область обновления другого, что приводит к отправке сообщений [**WM \_ Paint**](wm-paint.md) в оба окна. Если окно в родительской цепочке является составным (окно с WX \_ ex \_ ), то одноуровневый узел получит сообщения **WM \_ Paint** в обратном порядке в порядке Z. Учитывая это, окно с максимальным приоритетом в Z-порядке (сверху) получает сообщение **WM \_ Paint** Last и наоборот. Если окно в родительской цепочке не является составным, то родственные окна получают сообщения **WM \_ Paint** в порядке Z.

Одноуровневые окна не обрезаются автоматически. Один элемент того же уровня может нарисовать другой перекрывающий одноуровневый элемент, даже если окно, которое рисуется, имеет нижнюю точку в Z-порядке. Приложение может предотвратить это, указав \_ стиль WS клипсиблингс при создании окна. Если этот стиль задан, система исключает все части перекрывающейся одноуровневого окна из видимой области окна, если перекрытие одноуровневого окна имеет более высокую точку в Z-порядке.

> [!Note]  
> Родительские окна не затрагивают обновления и видимые регионы для окон, у которых нет \_ всплывающего окна или \_ стиля WS POPUPWINDOW.

 

 

 



