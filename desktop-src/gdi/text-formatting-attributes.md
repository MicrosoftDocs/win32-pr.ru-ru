---
description: 'Приложение может использовать шесть функций для установки атрибутов форматирования текста для контекста устройства: Сетбкколор, Сетбкмоде, Сеттексталигн, Сеттекстчарактерекстра, Сеттекстколор и Сеттекстжустификатион.'
ms.assetid: fd4d81ee-7f8f-41e8-88a5-d3ed89f4c7bd
title: Атрибуты Text-Formatting
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 58d345bfcfe1693a7ff0b25bb323615dffe221ab
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "104571495"
---
# <a name="text-formatting-attributes"></a><span data-ttu-id="ff939-103">Атрибуты Text-Formatting</span><span class="sxs-lookup"><span data-stu-id="ff939-103">Text-Formatting Attributes</span></span>

<span data-ttu-id="ff939-104">Приложение может использовать шесть функций для установки атрибутов форматирования текста для контекста устройства: [сетбкколор](/windows/desktop/api/Wingdi/nf-wingdi-setbkcolor), [сетбкмоде](/windows/desktop/api/Wingdi/nf-wingdi-setbkmode), [сеттексталигн](/windows/desktop/api/Wingdi/nf-wingdi-settextalign), [сеттекстчарактерекстра](/windows/desktop/api/Wingdi/nf-wingdi-settextcharacterextra), [сеттекстколор](/windows/desktop/api/Wingdi/nf-wingdi-settextcolor)и [сеттекстжустификатион](/windows/desktop/api/Wingdi/nf-wingdi-settextjustification).</span><span class="sxs-lookup"><span data-stu-id="ff939-104">An application can use six functions to set the text-formatting attributes for a device context: [SetBkColor](/windows/desktop/api/Wingdi/nf-wingdi-setbkcolor), [SetBkMode](/windows/desktop/api/Wingdi/nf-wingdi-setbkmode), [SetTextAlign](/windows/desktop/api/Wingdi/nf-wingdi-settextalign), [SetTextCharacterExtra](/windows/desktop/api/Wingdi/nf-wingdi-settextcharacterextra), [SetTextColor](/windows/desktop/api/Wingdi/nf-wingdi-settextcolor), and [SetTextJustification](/windows/desktop/api/Wingdi/nf-wingdi-settextjustification).</span></span> <span data-ttu-id="ff939-105">Эти функции влияют на выравнивание текста, межзнаковые интервалы, выравнивание текста, а также цвета текста и фона.</span><span class="sxs-lookup"><span data-stu-id="ff939-105">These functions affect the text alignment, the intercharacter spacing, the text justification, and text and background colors.</span></span> <span data-ttu-id="ff939-106">Кроме того, для получения текущих атрибутов форматирования текста для любого контекста устройства можно использовать шесть других функций: [жетбкколор](/windows/desktop/api/Wingdi/nf-wingdi-getbkcolor), [жетбкмоде](/windows/desktop/api/Wingdi/nf-wingdi-getbkmode), [жеттексталигн](/windows/desktop/api/Wingdi/nf-wingdi-gettextalign), [жеттекстчарактерекстра](/windows/desktop/api/Wingdi/nf-wingdi-gettextcharacterextra), [жеттекстколор](/windows/desktop/api/Wingdi/nf-wingdi-gettextcolor)и [GetTextExtentPoint32](/windows/desktop/api/Wingdi/nf-wingdi-gettextextentpoint32a).</span><span class="sxs-lookup"><span data-stu-id="ff939-106">In addition, six other functions can be used to retrieve the current text formatting attributes for any device context: [GetBkColor](/windows/desktop/api/Wingdi/nf-wingdi-getbkcolor), [GetBkMode](/windows/desktop/api/Wingdi/nf-wingdi-getbkmode), [GetTextAlign](/windows/desktop/api/Wingdi/nf-wingdi-gettextalign), [GetTextCharacterExtra](/windows/desktop/api/Wingdi/nf-wingdi-gettextcharacterextra), [GetTextColor](/windows/desktop/api/Wingdi/nf-wingdi-gettextcolor), and [GetTextExtentPoint32](/windows/desktop/api/Wingdi/nf-wingdi-gettextextentpoint32a).</span></span>

## <a name="text-alignment"></a><span data-ttu-id="ff939-107">Выравнивание текста</span><span class="sxs-lookup"><span data-stu-id="ff939-107">Text Alignment</span></span>

<span data-ttu-id="ff939-108">Приложения могут использовать функцию [сеттексталигн](/windows/desktop/api/Wingdi/nf-wingdi-settextalign) , чтобы указать, как система должна располагать символы в текстовой строке при вызове одной из функций рисования.</span><span class="sxs-lookup"><span data-stu-id="ff939-108">Applications can use the [SetTextAlign](/windows/desktop/api/Wingdi/nf-wingdi-settextalign) function to specify how the system should position the characters in a string of text when they call one of the drawing functions.</span></span> <span data-ttu-id="ff939-109">Эта функция может использоваться для размещения заголовков, номеров страниц, выносок и т. д.</span><span class="sxs-lookup"><span data-stu-id="ff939-109">This function can be used to position headings, page numbers, callouts, and so on.</span></span> <span data-ttu-id="ff939-110">Система размещает строку текста, выровняйте опорную точку на мнимом прямоугольнике, которая окружает строку, с текущей позицией курсора или точкой, передаваемой в качестве аргумента одной из функций рисования текста.</span><span class="sxs-lookup"><span data-stu-id="ff939-110">The system positions a string of text by aligning a reference point on an imaginary rectangle that surrounds the string, with the current cursor position or with a point passed as an argument to one of the text drawing functions.</span></span> <span data-ttu-id="ff939-111">Функция [**сеттексталигн**](/windows/win32/api/wingdi/nf-wingdi-settextalign) позволяет приложению указать расположение этой точки ссылки.</span><span class="sxs-lookup"><span data-stu-id="ff939-111">The [**SetTextAlign**](/windows/win32/api/wingdi/nf-wingdi-settextalign) function lets the application specify the location of this reference point.</span></span> <span data-ttu-id="ff939-112">Ниже приведен список возможных расположений эталонных точек.</span><span class="sxs-lookup"><span data-stu-id="ff939-112">The following is a list of the possible reference point locations.</span></span>



| <span data-ttu-id="ff939-113">Расположение</span><span class="sxs-lookup"><span data-stu-id="ff939-113">Location</span></span>         | <span data-ttu-id="ff939-114">Описание</span><span class="sxs-lookup"><span data-stu-id="ff939-114">Description</span></span>                                                                                                             |
|------------------|-------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="ff939-115">слева и снизу</span><span class="sxs-lookup"><span data-stu-id="ff939-115">left/bottom</span></span>      | <span data-ttu-id="ff939-116">Контрольная точка расположена в левом нижнем углу прямоугольника.</span><span class="sxs-lookup"><span data-stu-id="ff939-116">The reference point is located at the lower-left corner of the rectangle.</span></span>                                               |
| <span data-ttu-id="ff939-117">Левая или базовая линия</span><span class="sxs-lookup"><span data-stu-id="ff939-117">left/base line</span></span>   | <span data-ttu-id="ff939-118">Контрольная точка расположена на пересечении базовой строки символьной и левой границ прямоугольника.</span><span class="sxs-lookup"><span data-stu-id="ff939-118">The reference point is located at the intersection of the character-cell base line and the left edge of the rectangle.</span></span>  |
| <span data-ttu-id="ff939-119">слева и сверху</span><span class="sxs-lookup"><span data-stu-id="ff939-119">left/top</span></span>         | <span data-ttu-id="ff939-120">Контрольная точка расположена в левом верхнем углу прямоугольника.</span><span class="sxs-lookup"><span data-stu-id="ff939-120">The reference point is located at the top-left corner of the rectangle.</span></span>                                                 |
| <span data-ttu-id="ff939-121">по центру и по нижнему краю</span><span class="sxs-lookup"><span data-stu-id="ff939-121">center/bottom</span></span>    | <span data-ttu-id="ff939-122">Контрольная точка расположена в центре нижней части прямоугольника.</span><span class="sxs-lookup"><span data-stu-id="ff939-122">The reference point is located at the center of the bottom of the rectangle.</span></span>                                            |
| <span data-ttu-id="ff939-123">центр/базовая линия</span><span class="sxs-lookup"><span data-stu-id="ff939-123">center/base line</span></span> | <span data-ttu-id="ff939-124">Контрольная точка расположена на пересечении базовой строки символьной ячейки и центра прямоугольника.</span><span class="sxs-lookup"><span data-stu-id="ff939-124">The reference point is located at the intersection of the character-cell base line and the center of the rectangle.</span></span>     |
| <span data-ttu-id="ff939-125">по центру и по верхнему краю</span><span class="sxs-lookup"><span data-stu-id="ff939-125">center/top</span></span>       | <span data-ttu-id="ff939-126">Контрольная точка расположена в центре верхней части прямоугольника.</span><span class="sxs-lookup"><span data-stu-id="ff939-126">The reference point is located at the center of the top of the rectangle.</span></span>                                               |
| <span data-ttu-id="ff939-127">справа и снизу</span><span class="sxs-lookup"><span data-stu-id="ff939-127">right/bottom</span></span>     | <span data-ttu-id="ff939-128">Контрольная точка находится в правом нижнем углу прямоугольника.</span><span class="sxs-lookup"><span data-stu-id="ff939-128">The reference point is located at the lower-right corner of the rectangle.</span></span>                                              |
| <span data-ttu-id="ff939-129">правая/базовая линия</span><span class="sxs-lookup"><span data-stu-id="ff939-129">right/base line</span></span>  | <span data-ttu-id="ff939-130">Контрольная точка расположена на пересечении базовой строки символьной и правого края прямоугольника.</span><span class="sxs-lookup"><span data-stu-id="ff939-130">The reference point is located at the intersection of the character-cell base line and the right edge of the rectangle.</span></span> |
| <span data-ttu-id="ff939-131">справа и сверху</span><span class="sxs-lookup"><span data-stu-id="ff939-131">right/top</span></span>        | <span data-ttu-id="ff939-132">Контрольная точка расположена в правом верхнем углу прямоугольника.</span><span class="sxs-lookup"><span data-stu-id="ff939-132">The reference point is located at the top-right corner of the rectangle.</span></span>                                                |



 

<span data-ttu-id="ff939-133">На следующем рисунке показана строка текста, вырисованная путем вызова функции [Text](/windows/desktop/api/Wingdi/nf-wingdi-textouta) .</span><span class="sxs-lookup"><span data-stu-id="ff939-133">The following illustration shows a string of text drawn by calling the [TextOut](/windows/desktop/api/Wingdi/nf-wingdi-textouta) function.</span></span> <span data-ttu-id="ff939-134">Перед рисованием текста была вызвана функция [сеттексталигн](/windows/desktop/api/Wingdi/nf-wingdi-settextalign) для перемещения опорной точки в каждом из девяти возможных расположений.</span><span class="sxs-lookup"><span data-stu-id="ff939-134">Before drawing the text, the [SetTextAlign](/windows/desktop/api/Wingdi/nf-wingdi-settextalign) function was called to relocate the reference point at each one of the nine possible locations.</span></span>

![Иллюстрация, показывающая один и тот же текст девять раз, по одному для каждого возможного расположения точки ссылки](images/csftx-04.png)

<span data-ttu-id="ff939-136">Выравнивание текста по умолчанию для контекста устройства — это верхний левый угол мнимого прямоугольника, окружающего текст.</span><span class="sxs-lookup"><span data-stu-id="ff939-136">The default text alignment for a device context is the upper-left corner of the imaginary rectangle that surrounds the text.</span></span> <span data-ttu-id="ff939-137">Приложение может получить текущий параметр выравнивания текста для любого контекста устройства, вызвав функцию [жеттексталигн](/windows/desktop/api/Wingdi/nf-wingdi-gettextalign) .</span><span class="sxs-lookup"><span data-stu-id="ff939-137">An application can retrieve the current text-alignment setting for any device context by calling the [GetTextAlign](/windows/desktop/api/Wingdi/nf-wingdi-gettextalign) function.</span></span>

## <a name="intercharacter-spacing"></a><span data-ttu-id="ff939-138">Межсимволовые интервалы</span><span class="sxs-lookup"><span data-stu-id="ff939-138">Intercharacter Spacing</span></span>

<span data-ttu-id="ff939-139">Приложения могут использовать функцию [сеттекстчарактерекстра](/windows/desktop/api/Wingdi/nf-wingdi-settextcharacterextra) для изменения интервала между символами для всех операций вывода текста в указанном контексте устройства.</span><span class="sxs-lookup"><span data-stu-id="ff939-139">Applications can use the [SetTextCharacterExtra](/windows/desktop/api/Wingdi/nf-wingdi-settextcharacterextra) function to alter the intercharacter spacing for all text output operations in a specified device context.</span></span> <span data-ttu-id="ff939-140">На следующем рисунке показана строка текста, вырисованная дважды путем вызова функции [Text](/windows/desktop/api/Wingdi/nf-wingdi-textouta) .</span><span class="sxs-lookup"><span data-stu-id="ff939-140">The following illustration shows a string of text drawn twice by calling the [TextOut](/windows/desktop/api/Wingdi/nf-wingdi-textouta) function.</span></span> <span data-ttu-id="ff939-141">Перед рисованием текста во второй раз была вызвана функция [**сеттекстчарактерекстра**](/windows/win32/api/wingdi/nf-wingdi-settextcharacterextra) для увеличения интервала между символами.</span><span class="sxs-lookup"><span data-stu-id="ff939-141">Before drawing the text the second time, the [**SetTextCharacterExtra**](/windows/win32/api/wingdi/nf-wingdi-settextcharacterextra) function was called to increment the intercharacter spacing.</span></span>

![Иллюстрация шоинг один и тот же текст дважды: сначала с обычными интервалами между символами, затем с более широкими интервалами](images/csftx-06.png)

<span data-ttu-id="ff939-143">Значение интервала между символами по умолчанию для любого контекста устройства равно нулю.</span><span class="sxs-lookup"><span data-stu-id="ff939-143">The default intercharacter spacing value for any device context is zero.</span></span> <span data-ttu-id="ff939-144">Приложение может получить текущее значение межзнакового интервала для контекста устройства, вызвав функцию [жеттекстчарактерекстра](/windows/desktop/api/Wingdi/nf-wingdi-gettextcharacterextra) .</span><span class="sxs-lookup"><span data-stu-id="ff939-144">An application can retrieve the current intercharacter spacing value for a device context by calling the [GetTextCharacterExtra](/windows/desktop/api/Wingdi/nf-wingdi-gettextcharacterextra) function.</span></span>

## <a name="text-justification"></a><span data-ttu-id="ff939-145">Обоснование текста</span><span class="sxs-lookup"><span data-stu-id="ff939-145">Text Justification</span></span>

<span data-ttu-id="ff939-146">Приложения могут использовать функции [GetTextExtentPoint32](/windows/desktop/api/Wingdi/nf-wingdi-gettextextentpoint32a) и [сеттекстжустификатион](/windows/desktop/api/Wingdi/nf-wingdi-settextjustification) для выравнивания строки текста.</span><span class="sxs-lookup"><span data-stu-id="ff939-146">Applications can use the [GetTextExtentPoint32](/windows/desktop/api/Wingdi/nf-wingdi-gettextextentpoint32a) and [SetTextJustification](/windows/desktop/api/Wingdi/nf-wingdi-settextjustification) functions to justify a line of text.</span></span> <span data-ttu-id="ff939-147">Обоснование текста — это обычная операция в любой публикации на рабочем столе и в большинстве приложений для обработки текстов.</span><span class="sxs-lookup"><span data-stu-id="ff939-147">Text justification is a common operation in any desktop publishing and in most word processing applications.</span></span> <span data-ttu-id="ff939-148">Функция [**GetTextExtentPoint32**](/windows/win32/api/wingdi/nf-wingdi-gettextextentpoint32a) вычислит ширину и высоту строки текста.</span><span class="sxs-lookup"><span data-stu-id="ff939-148">The [**GetTextExtentPoint32**](/windows/win32/api/wingdi/nf-wingdi-gettextextentpoint32a) function computes the width and height of a string of text.</span></span> <span data-ttu-id="ff939-149">После расчета ширины приложение может вызвать функцию [**сеттекстжустификатион**](/windows/win32/api/wingdi/nf-wingdi-settextjustification) для распределения дополнительного интервала между словами в строке текста.</span><span class="sxs-lookup"><span data-stu-id="ff939-149">After the width is computed, the application can call the [**SetTextJustification**](/windows/win32/api/wingdi/nf-wingdi-settextjustification) function to distribute extra spacing between each of the words in a line of text.</span></span> <span data-ttu-id="ff939-150">На следующем рисунке показан абзац текста, выводимый дважды: в первом абзаце текст не выровнен; во втором абзаце текст был выровнен путем вызова функций **GetTextExtentPoint32** и **сеттекстжустификатион** .</span><span class="sxs-lookup"><span data-stu-id="ff939-150">The following illustration shows a paragraph of text printed twice: in the first paragraph, the text was not justified; in the second paragraph, the text was justified by calling the **GetTextExtentPoint32** and **SetTextJustification** functions.</span></span>

![Иллюстрация, показывающая, что абзац выводится по левому краю, а тот же абзац — по левому и правому краю](images/csftx-05.png)

## <a name="text-and-background-color"></a><span data-ttu-id="ff939-152">Цвет текста и фона</span><span class="sxs-lookup"><span data-stu-id="ff939-152">Text and Background Color</span></span>

<span data-ttu-id="ff939-153">Приложения могут использовать функцию [сеттекстколор](/windows/desktop/api/Wingdi/nf-wingdi-settextcolor) для установки цвета текста, рисуемого в клиентской области окна, а также цвета текста, нарисованного на цветном принтере.</span><span class="sxs-lookup"><span data-stu-id="ff939-153">Applications can use the [SetTextColor](/windows/desktop/api/Wingdi/nf-wingdi-settextcolor) function to set the color of text drawn in the client-area of their windows, as well as the color of text drawn on a color printer.</span></span> <span data-ttu-id="ff939-154">Приложение может использовать функцию [сетбкколор](/windows/desktop/api/Wingdi/nf-wingdi-setbkcolor) , чтобы задать цвет, отображаемый позади каждого символа, и функцию [сетбкмоде](/windows/desktop/api/Wingdi/nf-wingdi-setbkmode) , чтобы указать, как система должна смешивать выбранный цвет фона с текущим цветом или цветами на дисплее видео.</span><span class="sxs-lookup"><span data-stu-id="ff939-154">An application can use the [SetBkColor](/windows/desktop/api/Wingdi/nf-wingdi-setbkcolor) function to set the color that appears behind each character and the [SetBkMode](/windows/desktop/api/Wingdi/nf-wingdi-setbkmode) function to specify how the system should blend the selected background color with the current color or colors on the video display.</span></span>

<span data-ttu-id="ff939-155">Цвет текста по умолчанию для контекста устройства дисплея — черный; цвет фона по умолчанию — белый; и фоновый режим по умолчанию — непрозрачный.</span><span class="sxs-lookup"><span data-stu-id="ff939-155">The default text color for a display device context is black; the default background color is white; and the default background mode is OPAQUE.</span></span> <span data-ttu-id="ff939-156">Приложение может получить текущий цвет текста для контекста устройства, вызвав функцию [жеттекстколор](/windows/desktop/api/Wingdi/nf-wingdi-gettextcolor) .</span><span class="sxs-lookup"><span data-stu-id="ff939-156">An application can retrieve the current text color for a device context by calling the [GetTextColor](/windows/desktop/api/Wingdi/nf-wingdi-gettextcolor) function.</span></span> <span data-ttu-id="ff939-157">Приложение может получить текущий цвет фона для контекста устройства, вызвав функцию [жетбкколор](/windows/desktop/api/Wingdi/nf-wingdi-getbkcolor) и текущий фоновый режим, вызвав функцию [жетбкмоде](/windows/desktop/api/Wingdi/nf-wingdi-getbkmode) .</span><span class="sxs-lookup"><span data-stu-id="ff939-157">An application can retrieve the current background color for a device context by calling the [GetBkColor](/windows/desktop/api/Wingdi/nf-wingdi-getbkcolor) function and the current background mode by calling the [GetBkMode](/windows/desktop/api/Wingdi/nf-wingdi-getbkmode) function.</span></span>

 

 
