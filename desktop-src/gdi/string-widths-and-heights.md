---
description: Кроме извлечения данных по ширине символов для отдельных символов, приложениям также необходимо вычислить ширину и высоту целых строк.
ms.assetid: 0c1d9142-258a-447f-8950-8d684645383b
title: Ширина и высота строк
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: f57846d0588c518f445523361ae186e4b966bf93
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "103908944"
---
# <a name="string-widths-and-heights"></a><span data-ttu-id="c505b-103">Ширина и высота строк</span><span class="sxs-lookup"><span data-stu-id="c505b-103">String Widths and Heights</span></span>

<span data-ttu-id="c505b-104">Кроме извлечения данных по ширине символов для отдельных символов, приложениям также необходимо вычислить ширину и высоту целых строк.</span><span class="sxs-lookup"><span data-stu-id="c505b-104">In addition to retrieving character-width data for individual characters, applications also need to compute the width and height of entire strings.</span></span> <span data-ttu-id="c505b-105">Две функции получают измерения ширины строки и высоты: [**GetTextExtentPoint32**](/windows/desktop/api/Wingdi/nf-wingdi-gettextextentpoint32a)и [**жеттаббедтекстекстент**](/windows/desktop/api/Winuser/nf-winuser-gettabbedtextextenta).</span><span class="sxs-lookup"><span data-stu-id="c505b-105">Two functions retrieve string-width and height measurements: [**GetTextExtentPoint32**](/windows/desktop/api/Wingdi/nf-wingdi-gettextextentpoint32a), and [**GetTabbedTextExtent**](/windows/desktop/api/Winuser/nf-winuser-gettabbedtextextenta).</span></span> <span data-ttu-id="c505b-106">Если строка не содержит символов табуляции, приложение может использовать функцию **GetTextExtentPoint32** для получения ширины и высоты указанной строки.</span><span class="sxs-lookup"><span data-stu-id="c505b-106">If the string does not contain tab characters, an application can use the **GetTextExtentPoint32** function to retrieve the width and height of a specified string.</span></span> <span data-ttu-id="c505b-107">Если строка содержит символы табуляции, приложение должно вызвать функцию Жеттаббедтекстекстент.</span><span class="sxs-lookup"><span data-stu-id="c505b-107">If the string contains tab characters, an application should call the GetTabbedTextExtent function.</span></span>

<span data-ttu-id="c505b-108">Приложения могут использовать функцию [**жеттекстекстентекспоинт**](/windows/desktop/api/Wingdi/nf-wingdi-gettextextentexpointa) для операций переноса по словам.</span><span class="sxs-lookup"><span data-stu-id="c505b-108">Applications can use the [**GetTextExtentExPoint**](/windows/desktop/api/Wingdi/nf-wingdi-gettextextentexpointa) function for word-wrapping operations.</span></span> <span data-ttu-id="c505b-109">Эта функция возвращает количество символов из указанной строки, которые соответствуют заданному пробелу.</span><span class="sxs-lookup"><span data-stu-id="c505b-109">This function returns the number of characters from a specified string that fit within a specified space.</span></span>

## <a name="font-ascenders-and-descenders"></a><span data-ttu-id="c505b-110">Шрифт, отличный от верхних и нижних</span><span class="sxs-lookup"><span data-stu-id="c505b-110">Font Ascenders and Descenders</span></span>

<span data-ttu-id="c505b-111">Некоторые приложения определяют междустрочный интервал между текстовыми строками разного размера с помощью максимального значения по возрастанию и по убыванию шрифта.</span><span class="sxs-lookup"><span data-stu-id="c505b-111">Some applications determine the line spacing between text lines of different sizes by using a font's maximum ascender and descender.</span></span> <span data-ttu-id="c505b-112">Приложение может получить эти значения, вызвав функцию [**жеттекстметрикс**](/windows/desktop/api/Wingdi/nf-wingdi-gettextmetrics) , а затем проверив элементы **Тмасцент** и **тмдесцент** [**текстметрик**](/windows/win32/api/wingdi/ns-wingdi-textmetrica).</span><span class="sxs-lookup"><span data-stu-id="c505b-112">An application can retrieve these values by calling the [**GetTextMetrics**](/windows/desktop/api/Wingdi/nf-wingdi-gettextmetrics) function and then checking the **tmAscent** and **tmDescent** members of the [**TEXTMETRIC**](/windows/win32/api/wingdi/ns-wingdi-textmetrica).</span></span>

<span data-ttu-id="c505b-113">Максимальные и нижние выносные значения отличаются от типографских расхождение и спуска.</span><span class="sxs-lookup"><span data-stu-id="c505b-113">The maximum ascent and descent are different from the typographic ascent and descent.</span></span> <span data-ttu-id="c505b-114">В шрифтах TrueType и OpenType типографские расхождение и спуск обычно являются верхней частью глифа f и нижней части глифа g.</span><span class="sxs-lookup"><span data-stu-id="c505b-114">In TrueType and OpenType fonts, the typographic ascent and descent are typically the top of the f glyph and bottom of the g glyph.</span></span> <span data-ttu-id="c505b-115">Приложение может извлечь типографские и нижние колонтитулы для шрифта TrueType или OpenType, вызвав функцию [**жетаутлинетекстметрикс**](/windows/desktop/api/Wingdi/nf-wingdi-getoutlinetextmetricsa) и проверив значения в элементах **отммакасцент** и **отммакдесцент** структуры [**аутлинетекстметрик**](/windows/desktop/api/Wingdi/ns-wingdi-outlinetextmetrica) .</span><span class="sxs-lookup"><span data-stu-id="c505b-115">An application can retrieve the typographic ascender and descender for a TrueType or OpenType font by calling the [**GetOutlineTextMetrics**](/windows/desktop/api/Wingdi/nf-wingdi-getoutlinetextmetricsa) function and checking the values in the **otmMacAscent** and **otmMacDescent** members of the [**OUTLINETEXTMETRIC**](/windows/desktop/api/Wingdi/ns-wingdi-outlinetextmetrica) structure.</span></span>

<span data-ttu-id="c505b-116">На следующем рисунке показана разница между значениями вертикальной текстовой метрики, возвращаемыми в структурах [**невтекстметрик**](/windows/win32/api/wingdi/ns-wingdi-newtextmetrica) и [**аутлинетекстметрик**](/windows/win32/api/wingdi/ns-wingdi-outlinetextmetrica) .</span><span class="sxs-lookup"><span data-stu-id="c505b-116">The following figure shows the difference between the vertical text metric values returned in the [**NEWTEXTMETRIC**](/windows/win32/api/wingdi/ns-wingdi-newtextmetrica) and [**OUTLINETEXTMETRIC**](/windows/win32/api/wingdi/ns-wingdi-outlinetextmetrica) structures.</span></span> <span data-ttu-id="c505b-117">(Имена, начинающиеся с ОТМ, являются членами структуры **аутлинетекстметрик** .)</span><span class="sxs-lookup"><span data-stu-id="c505b-117">(The names beginning with otm are members of the **OUTLINETEXTMETRIC** structure.)</span></span>

![Иллюстрация, показывающая, как значения метрик текста отличаются от значений метрик текста структуры](images/csftx-03.png)

## <a name="font-dimensions"></a><span data-ttu-id="c505b-119">Размеры шрифта</span><span class="sxs-lookup"><span data-stu-id="c505b-119">Font Dimensions</span></span>

<span data-ttu-id="c505b-120">Приложение может извлекать физические размеры шрифта TrueType или OpenType, вызывая функцию [**жетаутлинетекстметрикс**](/windows/desktop/api/Wingdi/nf-wingdi-getoutlinetextmetricsa) .</span><span class="sxs-lookup"><span data-stu-id="c505b-120">An application can retrieve the physical dimensions of a TrueType or OpenType font by calling the [**GetOutlineTextMetrics**](/windows/desktop/api/Wingdi/nf-wingdi-getoutlinetextmetricsa) function.</span></span> <span data-ttu-id="c505b-121">Приложение может извлекать физические размеры любого другого шрифта, вызывая функцию [**жеттекстметрикс**](/windows/desktop/api/Wingdi/nf-wingdi-gettextmetrics) .</span><span class="sxs-lookup"><span data-stu-id="c505b-121">An application can retrieve the physical dimensions of any other font by calling the [**GetTextMetrics**](/windows/desktop/api/Wingdi/nf-wingdi-gettextmetrics) function.</span></span> <span data-ttu-id="c505b-122">Чтобы определить размеры устройства вывода, приложение может вызвать функцию [**жетдевицекапс**](/windows/desktop/api/Wingdi/nf-wingdi-getdevicecaps) .</span><span class="sxs-lookup"><span data-stu-id="c505b-122">To determine the dimensions of an output device, an application can call the [**GetDeviceCaps**](/windows/desktop/api/Wingdi/nf-wingdi-getdevicecaps) function.</span></span> <span data-ttu-id="c505b-123">**Жетдевицекапс** возвращает как физические, так и логические измерения.</span><span class="sxs-lookup"><span data-stu-id="c505b-123">**GetDeviceCaps** returns both physical and logical dimensions.</span></span>

<span data-ttu-id="c505b-124">Логический дюйм — это мера, используемая системой для представления удобочитаемых шрифтов на экране и приблизительно от 30 до 40 процентов, превышающих физический дюйм.</span><span class="sxs-lookup"><span data-stu-id="c505b-124">A logical inch is a measure the system uses to present legible fonts on the screen and is approximately 30 to 40 percent larger than a physical inch.</span></span> <span data-ttu-id="c505b-125">Использование логических дюймов исключает точное соответствие между выходными данными экрана и принтера.</span><span class="sxs-lookup"><span data-stu-id="c505b-125">The use of logical inches precludes an exact match between the output of the screen and printer.</span></span> <span data-ttu-id="c505b-126">Разработчики должны иметь в виду, что текст на экране не просто является масштабируемой версией текста, которая будет отображаться на странице, особенно если в тексте встроена графика.</span><span class="sxs-lookup"><span data-stu-id="c505b-126">Developers should be aware that the text on a screen is not simply a scaled version of the text that will appear on the page, particularly if graphics are incorporated into the text.</span></span>

 

 
