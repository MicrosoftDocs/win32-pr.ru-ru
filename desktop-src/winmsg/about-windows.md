---
description: В этом разделе описываются программные элементы, используемые приложениями для создания и использования окон. Управление связями между окнами; и размер, перемещение и отображение окон.
ms.assetid: e325f8dc-004f-44a9-9122-3be5e44764d6
title: О Windows
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 4e2df510deea689d70bd1ebf5e59cafc92b0389d
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "104264561"
---
# <a name="about-windows"></a><span data-ttu-id="36214-103">О Windows</span><span class="sxs-lookup"><span data-stu-id="36214-103">About Windows</span></span>

<span data-ttu-id="36214-104">В этом разделе описываются программные элементы, используемые приложениями для создания и использования окон. Управление связями между окнами; и размер, перемещение и отображение окон.</span><span class="sxs-lookup"><span data-stu-id="36214-104">This topic describes the programming elements that applications use to create and use windows; manage relationships between windows; and size, move, and display windows.</span></span>

<span data-ttu-id="36214-105">Обзор включает в себя следующие разделы.</span><span class="sxs-lookup"><span data-stu-id="36214-105">The overview includes the following topics.</span></span>

-   [<span data-ttu-id="36214-106">Окно рабочего стола</span><span class="sxs-lookup"><span data-stu-id="36214-106">Desktop Window</span></span>](#desktop-window)
-   [<span data-ttu-id="36214-107">Окна приложений</span><span class="sxs-lookup"><span data-stu-id="36214-107">Application Windows</span></span>](#application-windows)
    -   [<span data-ttu-id="36214-108">Клиентская область</span><span class="sxs-lookup"><span data-stu-id="36214-108">Client Area</span></span>](#client-area)
    -   [<span data-ttu-id="36214-109">Неклиентская область</span><span class="sxs-lookup"><span data-stu-id="36214-109">Nonclient Area</span></span>](#nonclient-area)
-   [<span data-ttu-id="36214-110">Элементы управления и диалоговые окна</span><span class="sxs-lookup"><span data-stu-id="36214-110">Controls and Dialog Boxes</span></span>](#controls-and-dialog-boxes)
-   [<span data-ttu-id="36214-111">Атрибуты окна</span><span class="sxs-lookup"><span data-stu-id="36214-111">Window Attributes</span></span>](#window-attributes)
    -   [<span data-ttu-id="36214-112">Имя класса</span><span class="sxs-lookup"><span data-stu-id="36214-112">Class Name</span></span>](#class-name)
    -   [<span data-ttu-id="36214-113">Имя окна</span><span class="sxs-lookup"><span data-stu-id="36214-113">Window Name</span></span>](#window-name)
    -   [<span data-ttu-id="36214-114">Стиль окна</span><span class="sxs-lookup"><span data-stu-id="36214-114">Window Style</span></span>](#window-style)
    -   [<span data-ttu-id="36214-115">Расширенный стиль окна</span><span class="sxs-lookup"><span data-stu-id="36214-115">Extended Window Style</span></span>](#extended-window-style)
    -   [<span data-ttu-id="36214-116">Позиция</span><span class="sxs-lookup"><span data-stu-id="36214-116">Position</span></span>](#position)
    -   [<span data-ttu-id="36214-117">Размер</span><span class="sxs-lookup"><span data-stu-id="36214-117">Size</span></span>](#size)
    -   [<span data-ttu-id="36214-118">Маркер окна родителя или владельца</span><span class="sxs-lookup"><span data-stu-id="36214-118">Parent or Owner Window Handle</span></span>](#parent-or-owner-window-handle)
    -   [<span data-ttu-id="36214-119">Маркер меню или идентификатор Child-Window</span><span class="sxs-lookup"><span data-stu-id="36214-119">Menu Handle or Child-Window Identifier</span></span>](#menu-handle-or-child-window-identifier)
    -   [<span data-ttu-id="36214-120">Маркер экземпляра приложения</span><span class="sxs-lookup"><span data-stu-id="36214-120">Application Instance Handle</span></span>](#application-instance-handle)
    -   [<span data-ttu-id="36214-121">Создание данных</span><span class="sxs-lookup"><span data-stu-id="36214-121">Creation Data</span></span>](#creation-data)
    -   [<span data-ttu-id="36214-122">Дескриптор окна</span><span class="sxs-lookup"><span data-stu-id="36214-122">Window Handle</span></span>](#window-handle)
-   [<span data-ttu-id="36214-123">Создание окна</span><span class="sxs-lookup"><span data-stu-id="36214-123">Window Creation</span></span>](#creation-data)
    -   [<span data-ttu-id="36214-124">Создание главного окна</span><span class="sxs-lookup"><span data-stu-id="36214-124">Main Window Creation</span></span>](#main-window-creation)
    -   [<span data-ttu-id="36214-125">Сообщения для создания окон</span><span class="sxs-lookup"><span data-stu-id="36214-125">Window-Creation Messages</span></span>](#window-creation-messages)
    -   [<span data-ttu-id="36214-126">Многопоточные приложения</span><span class="sxs-lookup"><span data-stu-id="36214-126">Multithread Applications</span></span>](#multithread-applications)

## <a name="desktop-window"></a><span data-ttu-id="36214-127">Окно рабочего стола</span><span class="sxs-lookup"><span data-stu-id="36214-127">Desktop Window</span></span>

<span data-ttu-id="36214-128">При запуске система автоматически создает окно рабочего стола.</span><span class="sxs-lookup"><span data-stu-id="36214-128">When you start the system, it automatically creates the desktop window.</span></span> <span data-ttu-id="36214-129">*Окно рабочего стола* — это системное окно, которое рисует фон экрана и служит базой для всех окон, отображаемых всеми приложениями.</span><span class="sxs-lookup"><span data-stu-id="36214-129">The *desktop window* is a system-defined window that paints the background of the screen and serves as the base for all windows displayed by all applications.</span></span>

<span data-ttu-id="36214-130">Окно рабочего стола использует точечный рисунок для рисования фона экрана.</span><span class="sxs-lookup"><span data-stu-id="36214-130">The desktop window uses a bitmap to paint the background of the screen.</span></span> <span data-ttu-id="36214-131">Шаблон, созданный точечным рисунком, называется *фоновым рисунком рабочего стола*.</span><span class="sxs-lookup"><span data-stu-id="36214-131">The pattern created by the bitmap is called the *desktop wallpaper*.</span></span> <span data-ttu-id="36214-132">По умолчанию окно рабочего стола использует точечный рисунок из BMP-файла, указанного в реестре, в качестве фонового рисунка рабочего стола.</span><span class="sxs-lookup"><span data-stu-id="36214-132">By default, the desktop window uses the bitmap from a .bmp file specified in the registry as the desktop wallpaper.</span></span>

<span data-ttu-id="36214-133">Функция [**жетдесктопвиндов**](/windows/win32/api/winuser/nf-winuser-getdesktopwindow) возвращает маркер окна рабочего стола.</span><span class="sxs-lookup"><span data-stu-id="36214-133">The [**GetDesktopWindow**](/windows/win32/api/winuser/nf-winuser-getdesktopwindow) function returns a handle to the desktop window.</span></span>

<span data-ttu-id="36214-134">Приложение конфигурации системы, например элемент панели управления, изменяет фоновый рисунок рабочего стола с помощью функции [**системпараметерсинфо**](/windows/desktop/api/winuser/nf-winuser-systemparametersinfoa) с параметром *вактион* , установленным в значение **SPI \_ сетдескваллпапер** , а параметр *лпвпарам* задает имя файла точечного рисунка.</span><span class="sxs-lookup"><span data-stu-id="36214-134">A system configuration application, such as a Control Panel item, changes the desktop wallpaper by using the [**SystemParametersInfo**](/windows/desktop/api/winuser/nf-winuser-systemparametersinfoa) function with the *wAction* parameter set to **SPI\_SETDESKWALLPAPER** and the *lpvParam* parameter specifying a bitmap file name.</span></span> <span data-ttu-id="36214-135">Затем **системпараметерсинфо** загружает точечный рисунок из указанного файла, использует точечный рисунок для рисования фона экрана и вводит новое имя файла в реестр.</span><span class="sxs-lookup"><span data-stu-id="36214-135">**SystemParametersInfo** then loads the bitmap from the specified file, uses the bitmap to paint the background of the screen, and enters the new file name in the registry.</span></span>

## <a name="application-windows"></a><span data-ttu-id="36214-136">Окна приложений</span><span class="sxs-lookup"><span data-stu-id="36214-136">Application Windows</span></span>

<span data-ttu-id="36214-137">Каждое графическое приложение Windows создает по крайней мере одно окно, называемое *главным окном*, которое служит основным интерфейсом между пользователем и приложением.</span><span class="sxs-lookup"><span data-stu-id="36214-137">Every graphical Windows-based application creates at least one window, called the *main window*, that serves as the primary interface between the user and the application.</span></span> <span data-ttu-id="36214-138">Большинство приложений также создают другие окна, прямо или косвенно, для выполнения задач, связанных с главным окном.</span><span class="sxs-lookup"><span data-stu-id="36214-138">Most applications also create other windows, either directly or indirectly, to perform tasks related to the main window.</span></span> <span data-ttu-id="36214-139">Каждое окно играет часть при отображении выходных данных и получении входных данных от пользователя.</span><span class="sxs-lookup"><span data-stu-id="36214-139">Each window plays a part in displaying output and receiving input from the user.</span></span>

<span data-ttu-id="36214-140">При запуске приложения система также связывает с приложением кнопку панели задач.</span><span class="sxs-lookup"><span data-stu-id="36214-140">When you start an application, the system also associates a taskbar button with the application.</span></span> <span data-ttu-id="36214-141">*Кнопка на панели задач* содержит значок программы и заголовок.</span><span class="sxs-lookup"><span data-stu-id="36214-141">The *taskbar button* contains the program icon and title.</span></span> <span data-ttu-id="36214-142">Когда приложение активно, его кнопка панели задач отображается в состоянии отправлено.</span><span class="sxs-lookup"><span data-stu-id="36214-142">When the application is active, its taskbar button is displayed in the pushed state.</span></span>

<span data-ttu-id="36214-143">Окно приложения включает такие элементы, как заголовок окна, строка меню, меню окно (ранее — системное меню), Кнопка сворачивания, кнопка развертывания, кнопка восстановления, кнопка «Закрыть», граница размера, область клиента, горизонтальная полоса прокрутки и вертикальная полоса прокрутки.</span><span class="sxs-lookup"><span data-stu-id="36214-143">An application window includes elements such as a title bar, a menu bar, the window menu (formerly known as the system menu), the minimize button, the maximize button, the restore button, the close button, a sizing border, a client area, a horizontal scroll bar, and a vertical scroll bar.</span></span> <span data-ttu-id="36214-144">Главное окно приложения обычно включает все эти компоненты.</span><span class="sxs-lookup"><span data-stu-id="36214-144">An application's main window typically includes all of these components.</span></span> <span data-ttu-id="36214-145">На следующем рисунке показаны эти компоненты в обычном главном окне.</span><span class="sxs-lookup"><span data-stu-id="36214-145">The following illustration shows these components in a typical main window.</span></span>

![Обычное окно](images/cswin-02.png)

### <a name="client-area"></a><span data-ttu-id="36214-147">Клиентская область</span><span class="sxs-lookup"><span data-stu-id="36214-147">Client Area</span></span>

<span data-ttu-id="36214-148">*Клиентская область* — это часть окна, в которой приложение отображает выходные данные, такие как текст или графика.</span><span class="sxs-lookup"><span data-stu-id="36214-148">The *client area* is the part of a window where the application displays output, such as text or graphics.</span></span> <span data-ttu-id="36214-149">Например, приложение для публикации на рабочем столе отображает текущую страницу документа в клиентской области.</span><span class="sxs-lookup"><span data-stu-id="36214-149">For example, a desktop publishing application displays the current page of a document in the client area.</span></span> <span data-ttu-id="36214-150">Приложение должно предоставить функцию, называемую процедурой окна, для обработки входных данных в окне и вывода выходных данных в клиентской области.</span><span class="sxs-lookup"><span data-stu-id="36214-150">The application must provide a function, called a window procedure, to process input to the window and display output in the client area.</span></span> <span data-ttu-id="36214-151">Дополнительные сведения см. в разделе [Процедуры окна](window-procedures.md).</span><span class="sxs-lookup"><span data-stu-id="36214-151">For more information, see [Window Procedures](window-procedures.md).</span></span>

### <a name="nonclient-area"></a><span data-ttu-id="36214-152">Неклиентская область</span><span class="sxs-lookup"><span data-stu-id="36214-152">Nonclient Area</span></span>

<span data-ttu-id="36214-153">Строка заголовка, строка меню, меню окон, кнопки сворачивания и развернуть, граница размера и полосы прокрутки вместе называются *неклиентской областью* окна.</span><span class="sxs-lookup"><span data-stu-id="36214-153">The title bar, menu bar, window menu, minimize and maximize buttons, sizing border, and scroll bars are referred to collectively as the window's *nonclient area*.</span></span> <span data-ttu-id="36214-154">Система управляет большинством аспектов неклиентской области; Приложение управляет внешним видом и поведением клиентской области.</span><span class="sxs-lookup"><span data-stu-id="36214-154">The system manages most aspects of the nonclient area; the application manages the appearance and behavior of its client area.</span></span>

<span data-ttu-id="36214-155">В *заголовке окна отображается значок* и строка текста, определенные в приложении. как правило, текст указывает имя приложения или указывает назначение окна.</span><span class="sxs-lookup"><span data-stu-id="36214-155">The *title bar* displays an application-defined icon and line of text; typically, the text specifies the name of the application or indicates the purpose of the window.</span></span> <span data-ttu-id="36214-156">Приложение задает значок и текст при создании окна.</span><span class="sxs-lookup"><span data-stu-id="36214-156">An application specifies the icon and text when creating the window.</span></span> <span data-ttu-id="36214-157">Кроме того, строка заголовка позволяет пользователю перемещать окно с помощью мыши или другого указывающего устройства.</span><span class="sxs-lookup"><span data-stu-id="36214-157">The title bar also makes it possible for the user to move the window by using a mouse or other pointing device.</span></span>

<span data-ttu-id="36214-158">Большинство приложений включают *строку меню* , в которой перечислены команды, поддерживаемые приложением.</span><span class="sxs-lookup"><span data-stu-id="36214-158">Most applications include a *menu bar* that lists the commands supported by the application.</span></span> <span data-ttu-id="36214-159">Элементы в строке меню представляют основные категории команд.</span><span class="sxs-lookup"><span data-stu-id="36214-159">Items in the menu bar represent the main categories of commands.</span></span> <span data-ttu-id="36214-160">При щелчке элемента в строке меню обычно открывается всплывающее меню, элементы которого соответствуют задачам в определенной категории.</span><span class="sxs-lookup"><span data-stu-id="36214-160">Clicking an item on the menu bar typically opens a pop-up menu whose items correspond to the tasks within a given category.</span></span> <span data-ttu-id="36214-161">Если щелкнуть команду, пользователь направляет приложение для выполнения задачи.</span><span class="sxs-lookup"><span data-stu-id="36214-161">By clicking a command, the user directs the application to carry out a task.</span></span>

<span data-ttu-id="36214-162">*Меню «окно»* создается и управляется системой.</span><span class="sxs-lookup"><span data-stu-id="36214-162">The *window menu* is created and managed by the system.</span></span> <span data-ttu-id="36214-163">Он содержит стандартный набор пунктов меню, которые, по выбору пользователя, устанавливают размер или расположение окна, закрывают приложение или выполняют задачи.</span><span class="sxs-lookup"><span data-stu-id="36214-163">It contains a standard set of menu items that, when chosen by the user, set a window's size or position, close the application, or perform tasks.</span></span> <span data-ttu-id="36214-164">Дополнительные сведения см. в разделе [меню](/windows/desktop/menurc/menus).</span><span class="sxs-lookup"><span data-stu-id="36214-164">For more information, see [Menus](/windows/desktop/menurc/menus).</span></span>

<span data-ttu-id="36214-165">Кнопки в правом верхнем углу влияют на размер и расположение окна.</span><span class="sxs-lookup"><span data-stu-id="36214-165">The buttons in the upper-right corner affect the size and position of the window.</span></span> <span data-ttu-id="36214-166">При нажатии *кнопки "развернуть"* система увеличивает окно до размера экрана и позиционирует окно, так что оно охватывает весь рабочий стол, за вычетом панели задач.</span><span class="sxs-lookup"><span data-stu-id="36214-166">When you click the *maximize button*, the system enlarges the window to the size of the screen and positions the window, so it covers the entire desktop, minus the taskbar.</span></span> <span data-ttu-id="36214-167">В то же время система заменяет кнопку "развернуть" нажатием кнопки "восстановить".</span><span class="sxs-lookup"><span data-stu-id="36214-167">At the same time, the system replaces the maximize button with the restore button.</span></span> <span data-ttu-id="36214-168">При нажатии *кнопки восстановить* система восстанавливает предыдущий размер и расположение окна.</span><span class="sxs-lookup"><span data-stu-id="36214-168">When you click the *restore button*, the system restores the window to its previous size and position.</span></span> <span data-ttu-id="36214-169">При нажатии *кнопки сворачивания* система сокращает окно до размера кнопки на панели задач, размещает окно на кнопке панели задач и отображает кнопку панели задач в нормальном состоянии.</span><span class="sxs-lookup"><span data-stu-id="36214-169">When you click the *minimize button*, the system reduces the window to the size of its taskbar button, positions the window over the taskbar button, and displays the taskbar button in its normal state.</span></span> <span data-ttu-id="36214-170">Чтобы восстановить предыдущий размер и положение приложения, нажмите соответствующую кнопку на панели задач.</span><span class="sxs-lookup"><span data-stu-id="36214-170">To restore the application to its previous size and position, click its taskbar button.</span></span> <span data-ttu-id="36214-171">При нажатии *кнопки Закрыть* приложение завершает работу.</span><span class="sxs-lookup"><span data-stu-id="36214-171">When you click the *close button*, the application exits.</span></span>

<span data-ttu-id="36214-172">*Граница размера* — это область вокруг периметра окна, которая позволяет пользователю изменять размер окна с помощью мыши или другого указывающего устройства.</span><span class="sxs-lookup"><span data-stu-id="36214-172">The *sizing border* is an area around the perimeter of the window that enables the user to size the window by using a mouse or other pointing device.</span></span>

<span data-ttu-id="36214-173">*Горизонтальная* и *вертикальная* полосы прокрутки преобразуют ввод мыши или клавиатуры в значения, используемые приложением для сдвига содержимого клиентской области по горизонтали или по вертикали.</span><span class="sxs-lookup"><span data-stu-id="36214-173">The *horizontal scroll bar* and *vertical scroll bar* convert mouse or keyboard input into values that an application uses to shift the contents of the client area either horizontally or vertically.</span></span> <span data-ttu-id="36214-174">Например, приложение для обработки текстов, которое отображает длинный документ, обычно предоставляет вертикальную полосу прокрутки, позволяющую пользователю пролистывать документ вверх и вниз.</span><span class="sxs-lookup"><span data-stu-id="36214-174">For example, a word-processing application that displays a lengthy document typically provides a vertical scroll bar to enable the user to page up and down through the document.</span></span>

## <a name="controls-and-dialog-boxes"></a><span data-ttu-id="36214-175">Элементы управления и диалоговые окна</span><span class="sxs-lookup"><span data-stu-id="36214-175">Controls and Dialog Boxes</span></span>

<span data-ttu-id="36214-176">Приложение может создавать несколько типов окон в дополнение к главному окну, включая элементы управления и диалоговые окна.</span><span class="sxs-lookup"><span data-stu-id="36214-176">An application can create several types of windows in addition to its main window, including controls and dialog boxes.</span></span>

<span data-ttu-id="36214-177">*Элемент управления* — это окно, которое используется приложением для получения определенного фрагмента информации от пользователя, например имени открываемого файла или требуемого размера точки выделения текста.</span><span class="sxs-lookup"><span data-stu-id="36214-177">A *control* is a window that an application uses to obtain a specific piece of information from the user, such as the name of a file to open or the desired point size of a text selection.</span></span> <span data-ttu-id="36214-178">Приложения также используют элементы управления для получения сведений, необходимых для управления определенной функцией приложения.</span><span class="sxs-lookup"><span data-stu-id="36214-178">Applications also use controls to obtain information needed to control a particular feature of an application.</span></span> <span data-ttu-id="36214-179">Например, приложение для обработки текстов обычно предоставляет элемент управления, позволяющий пользователю включать и отключать перенос слов.</span><span class="sxs-lookup"><span data-stu-id="36214-179">For example, a word-processing application typically provides a control to let the user turn word wrapping on and off.</span></span> <span data-ttu-id="36214-180">Дополнительные сведения см. в разделе [элементы управления Windows](/windows/desktop/Controls/window-controls).</span><span class="sxs-lookup"><span data-stu-id="36214-180">For more information, see [Windows Controls](/windows/desktop/Controls/window-controls).</span></span>

<span data-ttu-id="36214-181">Элементы управления всегда используются совместно с другим окном — обычно это диалоговое окно.</span><span class="sxs-lookup"><span data-stu-id="36214-181">Controls are always used in conjunction with another window—typically, a dialog box.</span></span> <span data-ttu-id="36214-182">*Диалоговое окно* — это окно, содержащее один или несколько элементов управления.</span><span class="sxs-lookup"><span data-stu-id="36214-182">A *dialog box* is a window that contains one or more controls.</span></span> <span data-ttu-id="36214-183">Приложение использует диалоговое окно, в котором пользователю предлагается ввести данные, необходимые для выполнения команды.</span><span class="sxs-lookup"><span data-stu-id="36214-183">An application uses a dialog box to prompt the user for input needed to complete a command.</span></span> <span data-ttu-id="36214-184">Например, приложение, которое содержит команду для открытия файла, покажет диалоговое окно, содержащее элементы управления, в которых пользователь указывает путь и имя файла.</span><span class="sxs-lookup"><span data-stu-id="36214-184">For example, an application that includes a command to open a file would display a dialog box that includes controls in which the user specifies a path and file name.</span></span> <span data-ttu-id="36214-185">В диалоговых окнах обычно не используется тот же набор компонентов окна, что и в главном окне.</span><span class="sxs-lookup"><span data-stu-id="36214-185">Dialog boxes do not typically use the same set of window components as does a main window.</span></span> <span data-ttu-id="36214-186">У большинства есть заголовок окна, меню окон, границы (без изменения размера) и клиентской области, но обычно они не имеют строки меню, кнопок сворачивания и развертывания или полос прокрутки.</span><span class="sxs-lookup"><span data-stu-id="36214-186">Most have a title bar, a window menu, a border (non-sizing), and a client area, but they typically do not have a menu bar, minimize and maximize buttons, or scroll bars.</span></span> <span data-ttu-id="36214-187">Дополнительные сведения см. в разделе [диалоговые окна](/windows/desktop/dlgbox/dialog-boxes).</span><span class="sxs-lookup"><span data-stu-id="36214-187">For more information, see [Dialog Boxes](/windows/desktop/dlgbox/dialog-boxes).</span></span>

<span data-ttu-id="36214-188">Окно *сообщения* — это специальное диалоговое окно, в котором отображается замечание или предупреждение.</span><span class="sxs-lookup"><span data-stu-id="36214-188">A *message box* is a special dialog box that displays a note, caution, or warning to the user.</span></span> <span data-ttu-id="36214-189">Например, окно сообщения может сообщить пользователю о проблеме, обнаруженной приложением при выполнении задачи.</span><span class="sxs-lookup"><span data-stu-id="36214-189">For example, a message box can inform the user of a problem the application has encountered while performing a task.</span></span> <span data-ttu-id="36214-190">Дополнительные сведения см. в разделе [сообщения](/windows/desktop/dlgbox/about-dialog-boxes).</span><span class="sxs-lookup"><span data-stu-id="36214-190">For more information, see [Message Boxes](/windows/desktop/dlgbox/about-dialog-boxes).</span></span>

## <a name="window-attributes"></a><span data-ttu-id="36214-191">Атрибуты окна</span><span class="sxs-lookup"><span data-stu-id="36214-191">Window Attributes</span></span>

<span data-ttu-id="36214-192">При создании окна приложение должно предоставить следующие сведения.</span><span class="sxs-lookup"><span data-stu-id="36214-192">An application must provide the following information when creating a window.</span></span> <span data-ttu-id="36214-193">(За исключением [обработчика окна](#window-handle), который функция создания возвращает для уникальной идентификации нового окна.)</span><span class="sxs-lookup"><span data-stu-id="36214-193">(With the exception of the [Window Handle](#window-handle), which the creation function returns to uniquely identify the new window.)</span></span>

-   [<span data-ttu-id="36214-194">Имя класса</span><span class="sxs-lookup"><span data-stu-id="36214-194">Class Name</span></span>](#class-name)
-   [<span data-ttu-id="36214-195">Имя окна</span><span class="sxs-lookup"><span data-stu-id="36214-195">Window Name</span></span>](#window-name)
-   [<span data-ttu-id="36214-196">Стиль окна</span><span class="sxs-lookup"><span data-stu-id="36214-196">Window Style</span></span>](#window-style)
-   [<span data-ttu-id="36214-197">Расширенный стиль окна</span><span class="sxs-lookup"><span data-stu-id="36214-197">Extended Window Style</span></span>](#extended-window-style)
-   [<span data-ttu-id="36214-198">Позиция</span><span class="sxs-lookup"><span data-stu-id="36214-198">Position</span></span>](#position)
-   [<span data-ttu-id="36214-199">Размер</span><span class="sxs-lookup"><span data-stu-id="36214-199">Size</span></span>](#size)
-   [<span data-ttu-id="36214-200">Маркер окна родителя или владельца</span><span class="sxs-lookup"><span data-stu-id="36214-200">Parent or Owner Window Handle</span></span>](#parent-or-owner-window-handle)
-   [<span data-ttu-id="36214-201">Маркер меню или идентификатор Child-Window</span><span class="sxs-lookup"><span data-stu-id="36214-201">Menu Handle or Child-Window Identifier</span></span>](#menu-handle-or-child-window-identifier)
-   [<span data-ttu-id="36214-202">Маркер экземпляра приложения</span><span class="sxs-lookup"><span data-stu-id="36214-202">Application Instance Handle</span></span>](#application-instance-handle)
-   [<span data-ttu-id="36214-203">Создание данных</span><span class="sxs-lookup"><span data-stu-id="36214-203">Creation Data</span></span>](#creation-data)
-   [<span data-ttu-id="36214-204">Дескриптор окна</span><span class="sxs-lookup"><span data-stu-id="36214-204">Window Handle</span></span>](#window-handle)

<span data-ttu-id="36214-205">Эти атрибуты окна описаны в следующих разделах.</span><span class="sxs-lookup"><span data-stu-id="36214-205">These window attributes are described in the following sections.</span></span>

### <a name="class-name"></a><span data-ttu-id="36214-206">Имя класса</span><span class="sxs-lookup"><span data-stu-id="36214-206">Class Name</span></span>

<span data-ttu-id="36214-207">Каждое окно принадлежит классу окна.</span><span class="sxs-lookup"><span data-stu-id="36214-207">Every window belongs to a window class.</span></span> <span data-ttu-id="36214-208">Приложение должно зарегистрировать класс окна перед созданием окон этого класса.</span><span class="sxs-lookup"><span data-stu-id="36214-208">An application must register a window class before creating any windows of that class.</span></span> <span data-ttu-id="36214-209">*Класс Window* определяет большинство аспектов внешнего вида и поведения окна.</span><span class="sxs-lookup"><span data-stu-id="36214-209">The *window class* defines most aspects of a window's appearance and behavior.</span></span> <span data-ttu-id="36214-210">Главным компонентом класса окна является *процедура окна*, функция, которая получает и обрабатывает все входные данные и запросы, отправленные в окно.</span><span class="sxs-lookup"><span data-stu-id="36214-210">The chief component of a window class is the *window procedure*, a function that receives and processes all input and requests sent to the window.</span></span> <span data-ttu-id="36214-211">Система предоставляет входные данные и запросы в виде *сообщений*.</span><span class="sxs-lookup"><span data-stu-id="36214-211">The system provides the input and requests in the form of *messages*.</span></span> <span data-ttu-id="36214-212">Дополнительные сведения см. в разделе [классы окон](window-classes.md), [процедуры окон](window-procedures.md), [сообщения и очереди сообщений](messages-and-message-queues.md).</span><span class="sxs-lookup"><span data-stu-id="36214-212">For more information, see [Window Classes](window-classes.md), [Window Procedures](window-procedures.md), and [Messages and Message Queues](messages-and-message-queues.md).</span></span>

### <a name="window-name"></a><span data-ttu-id="36214-213">Имя окна</span><span class="sxs-lookup"><span data-stu-id="36214-213">Window Name</span></span>

<span data-ttu-id="36214-214">*Имя окна* — это текстовая строка, определяющая окно для пользователя.</span><span class="sxs-lookup"><span data-stu-id="36214-214">A *window name* is a text string that identifies a window for the user.</span></span> <span data-ttu-id="36214-215">Главное окно, диалоговое окно или окно сообщения, как правило, отображает имя окна в строке заголовка, если оно есть.</span><span class="sxs-lookup"><span data-stu-id="36214-215">A main window, dialog box, or message box typically displays its window name in its title bar, if present.</span></span> <span data-ttu-id="36214-216">Элемент управления может отображать свое имя окна в зависимости от класса элемента управления.</span><span class="sxs-lookup"><span data-stu-id="36214-216">A control may display its window name, depending on the control's class.</span></span> <span data-ttu-id="36214-217">Например, кнопки, элементы управления и статические элементы управления отображают имена окон внутри прямоугольника, занятого элементом управления.</span><span class="sxs-lookup"><span data-stu-id="36214-217">For example, buttons, edit controls, and static controls displays their window names within the rectangle occupied by the control.</span></span> <span data-ttu-id="36214-218">Однако элементы управления, такие как списки и поля со списком, не отображают имена окон.</span><span class="sxs-lookup"><span data-stu-id="36214-218">However, controls such as list boxes and combo boxes do not display their window names.</span></span>

<span data-ttu-id="36214-219">Чтобы изменить имя окна после создания окна, используйте функцию [**SetWindowText**](/windows/win32/api/winuser/nf-winuser-setwindowtexta) .</span><span class="sxs-lookup"><span data-stu-id="36214-219">To change the window name after creating a window, use the [**SetWindowText**](/windows/win32/api/winuser/nf-winuser-setwindowtexta) function .</span></span> <span data-ttu-id="36214-220">Эта функция использует функции [**жетвиндовтекстленгс**](/windows/win32/api/winuser/nf-winuser-getwindowtextlengtha) и [**жетвиндовтекст**](/windows/win32/api/winuser/nf-winuser-getwindowtexta) для получения текущей строки имени окна из окна.</span><span class="sxs-lookup"><span data-stu-id="36214-220">This function uses the [**GetWindowTextLength**](/windows/win32/api/winuser/nf-winuser-getwindowtextlengtha) and [**GetWindowText**](/windows/win32/api/winuser/nf-winuser-getwindowtexta) functions to retrieve the current window-name string from the window.</span></span>

### <a name="window-style"></a><span data-ttu-id="36214-221">Стиль окна</span><span class="sxs-lookup"><span data-stu-id="36214-221">Window Style</span></span>

<span data-ttu-id="36214-222">Каждое окно имеет один или несколько стилей окна.</span><span class="sxs-lookup"><span data-stu-id="36214-222">Every window has one or more window styles.</span></span> <span data-ttu-id="36214-223">Стиль окна — это именованная константа, определяющая аспект внешнего вида и поведения окна, не заданный классом окна.</span><span class="sxs-lookup"><span data-stu-id="36214-223">A window style is a named constant that defines an aspect of the window's appearance and behavior that is not specified by the window's class.</span></span> <span data-ttu-id="36214-224">Приложение обычно задает стили окна при создании окон.</span><span class="sxs-lookup"><span data-stu-id="36214-224">An application usually sets window styles when creating windows.</span></span> <span data-ttu-id="36214-225">Кроме того, можно задать стили после создания окна с помощью функции [**SetWindowLong**](/windows/win32/api/winuser/nf-winuser-setwindowlonga) .</span><span class="sxs-lookup"><span data-stu-id="36214-225">It can also set the styles after creating a window by using the [**SetWindowLong**](/windows/win32/api/winuser/nf-winuser-setwindowlonga) function.</span></span>

<span data-ttu-id="36214-226">Система и, в некоторой степени, процедура окна для класса, интерпретирует стили окна.</span><span class="sxs-lookup"><span data-stu-id="36214-226">The system and, to some extent, the window procedure for the class, interpret the window styles.</span></span>

<span data-ttu-id="36214-227">Некоторые стили окна применяются ко всем окнам, но наиболее применимы к окнам определенных классов окон.</span><span class="sxs-lookup"><span data-stu-id="36214-227">Some window styles apply to all windows, but most apply to windows of specific window classes.</span></span> <span data-ttu-id="36214-228">Общие стили окон представлены константами, которые начинаются с \_ префикса WS; они могут сочетаться с оператором OR для формирования различных типов окон, включая основные окна, диалоговые окна и дочерние окна.</span><span class="sxs-lookup"><span data-stu-id="36214-228">The general window styles are represented by constants that begin with the WS\_ prefix; they can be combined with the OR operator to form different types of windows, including main windows, dialog boxes, and child windows.</span></span> <span data-ttu-id="36214-229">Стили окон, зависящие от класса, определяют внешний вид и поведение окон, принадлежащих предопределенным классам элементов управления.</span><span class="sxs-lookup"><span data-stu-id="36214-229">The class-specific window styles define the appearance and behavior of windows belonging to the predefined control classes.</span></span> <span data-ttu-id="36214-230">Например, класс **ScrollBar** определяет элемент управления "полоса прокрутки", но стили [**SBS \_ горизонтали**](../controls/scroll-bar-control-styles.md) и SBS по вертикали определяют, создан ли элемент управления горизонтальной или вертикальной полосой прокрутки. **\_**</span><span class="sxs-lookup"><span data-stu-id="36214-230">For example, the **SCROLLBAR** class specifies a scroll bar control, but the [**SBS\_HORZ**](../controls/scroll-bar-control-styles.md) and **SBS\_VERT** styles determine whether a horizontal or vertical scroll bar control is created.</span></span>

<span data-ttu-id="36214-231">Список стилей, которые могут использоваться в Windows, см. в следующих разделах:</span><span class="sxs-lookup"><span data-stu-id="36214-231">For lists of styles that can be used by windows, see the following topics:</span></span>

-   [<span data-ttu-id="36214-232">**Стили окна**</span><span class="sxs-lookup"><span data-stu-id="36214-232">**Window Styles**</span></span>](window-styles.md)
-   [<span data-ttu-id="36214-233">Стили кнопок</span><span class="sxs-lookup"><span data-stu-id="36214-233">Button Styles</span></span>](../controls/button-styles.md)
-   [<span data-ttu-id="36214-234">Стили полей со списками</span><span class="sxs-lookup"><span data-stu-id="36214-234">Combo Box Styles</span></span>](../controls/combo-box-styles.md)
-   [<span data-ttu-id="36214-235">Изменить стили элемента управления</span><span class="sxs-lookup"><span data-stu-id="36214-235">Edit Control Styles</span></span>](../controls/edit-control-styles.md)
-   [<span data-ttu-id="36214-236">Стили списков</span><span class="sxs-lookup"><span data-stu-id="36214-236">List Box Styles</span></span>](../controls/list-box-styles.md)
-   [<span data-ttu-id="36214-237">Стили элемента управления Rich Edit</span><span class="sxs-lookup"><span data-stu-id="36214-237">Rich Edit Control Styles</span></span>](../controls/rich-edit-control-styles.md)
-   [<span data-ttu-id="36214-238">Стили элемента управления "полоса прокрутки"</span><span class="sxs-lookup"><span data-stu-id="36214-238">Scroll Bar Control Styles</span></span>](../controls/scroll-bar-control-styles.md)
-   [<span data-ttu-id="36214-239">Стили статических элементов управления</span><span class="sxs-lookup"><span data-stu-id="36214-239">Static Control Styles</span></span>](../controls/static-control-styles.md)

### <a name="extended-window-style"></a><span data-ttu-id="36214-240">Расширенный стиль окна</span><span class="sxs-lookup"><span data-stu-id="36214-240">Extended Window Style</span></span>

<span data-ttu-id="36214-241">При необходимости в каждом окне может быть один или несколько расширенных стилей окна.</span><span class="sxs-lookup"><span data-stu-id="36214-241">Every window can optionally have one or more extended window styles.</span></span> <span data-ttu-id="36214-242">*Расширенный стиль окна* — это именованная константа, определяющая аспект внешнего вида и поведения окна, не заданный классом Window или другими стилями окна.</span><span class="sxs-lookup"><span data-stu-id="36214-242">An *extended window style* is a named constant that defines an aspect of the window's appearance and behavior that is not specified by the window class or the other window styles.</span></span> <span data-ttu-id="36214-243">Приложение обычно задает расширенные стили окна при создании окон.</span><span class="sxs-lookup"><span data-stu-id="36214-243">An application usually sets extended window styles when creating windows.</span></span> <span data-ttu-id="36214-244">Кроме того, можно задать стили после создания окна с помощью функции [**SetWindowLong**](/windows/win32/api/winuser/nf-winuser-setwindowlonga) .</span><span class="sxs-lookup"><span data-stu-id="36214-244">It can also set the styles after creating a window by using the [**SetWindowLong**](/windows/win32/api/winuser/nf-winuser-setwindowlonga) function.</span></span>

<span data-ttu-id="36214-245">Дополнительные сведения см. в разделе [**CreateWindowEx**](/windows/win32/api/winuser/nf-winuser-createwindowexa).</span><span class="sxs-lookup"><span data-stu-id="36214-245">For more information, see [**CreateWindowEx**](/windows/win32/api/winuser/nf-winuser-createwindowexa).</span></span>

### <a name="position"></a><span data-ttu-id="36214-246">Положение</span><span class="sxs-lookup"><span data-stu-id="36214-246">Position</span></span>

<span data-ttu-id="36214-247">Расположение окна определяется как координаты его верхнего левого угла.</span><span class="sxs-lookup"><span data-stu-id="36214-247">A window's position is defined as the coordinates of its upper left corner.</span></span> <span data-ttu-id="36214-248">Эти координаты, иногда называемые координатами окна, всегда зависят от левого верхнего угла экрана или, для дочернего окна, верхнего левого угла клиентской области родительского окна.</span><span class="sxs-lookup"><span data-stu-id="36214-248">These coordinates, sometimes called window coordinates, are always relative to the upper left corner of the screen or, for a child window, the upper left corner of the parent window's client area.</span></span> <span data-ttu-id="36214-249">Например, окно верхнего уровня с координатами (10, 10) размещается на 10 пикселей справа от верхнего левого угла экрана и на 10 пикселей вниз от него.</span><span class="sxs-lookup"><span data-stu-id="36214-249">For example, a top-level window having the coordinates (10,10) is placed 10 pixels to the right of the upper left corner of the screen and 10 pixels down from it.</span></span> <span data-ttu-id="36214-250">Дочернее окно с координатами (10, 10) размещается на 10 пикселей справа от левого верхнего угла клиентской области родительского окна и через 10 пикселей вниз от него.</span><span class="sxs-lookup"><span data-stu-id="36214-250">A child window having the coordinates (10,10) is placed 10 pixels to the right of the upper left corner of its parent window's client area and 10 pixels down from it.</span></span>

<span data-ttu-id="36214-251">Функция [**виндовфромпоинт**](/windows/win32/api/winuser/nf-winuser-windowfrompoint) Извлекает маркер окна, занимающие определенную точку на экране.</span><span class="sxs-lookup"><span data-stu-id="36214-251">The [**WindowFromPoint**](/windows/win32/api/winuser/nf-winuser-windowfrompoint) function retrieves a handle to the window occupying a particular point on the screen.</span></span> <span data-ttu-id="36214-252">Аналогичным образом функции [**чилдвиндовфромпоинт**](/windows/win32/api/winuser/nf-winuser-childwindowfrompoint) и [**чилдвиндовфромпоинтекс**](/windows/win32/api/winuser/nf-winuser-childwindowfrompointex) получают маркер дочернего окна, занимающие определенную точку в клиентской области родительского окна.</span><span class="sxs-lookup"><span data-stu-id="36214-252">Similarly, the [**ChildWindowFromPoint**](/windows/win32/api/winuser/nf-winuser-childwindowfrompoint) and [**ChildWindowFromPointEx**](/windows/win32/api/winuser/nf-winuser-childwindowfrompointex) functions retrieve a handle to the child window occupying a particular point in the parent window's client area.</span></span> <span data-ttu-id="36214-253">Несмотря на то, что **чилдвиндовфромпоинтекс** может игнорировать невидимые, отключенные и прозрачные дочерние окна, **чилдвиндовфромпоинт** не может.</span><span class="sxs-lookup"><span data-stu-id="36214-253">Although **ChildWindowFromPointEx** can ignore invisible, disabled, and transparent child windows, **ChildWindowFromPoint** cannot.</span></span>

### <a name="size"></a><span data-ttu-id="36214-254">Размер</span><span class="sxs-lookup"><span data-stu-id="36214-254">Size</span></span>

<span data-ttu-id="36214-255">Размер окна (ширина и высота) задается в пикселях.</span><span class="sxs-lookup"><span data-stu-id="36214-255">A window's size (width and height) is given in pixels.</span></span> <span data-ttu-id="36214-256">Окно может иметь нулевую ширину или высоту.</span><span class="sxs-lookup"><span data-stu-id="36214-256">A window can have zero width or height.</span></span> <span data-ttu-id="36214-257">Если приложение устанавливает ширину и высоту окна равными нулю, система устанавливает размер по умолчанию для минимального размера окна.</span><span class="sxs-lookup"><span data-stu-id="36214-257">If an application sets a window's width and height to zero, the system sets the size to the default minimum window size.</span></span> <span data-ttu-id="36214-258">Чтобы определить минимальный размер окна по умолчанию, приложение использует функцию [**жетсистемметрикс**](/windows/desktop/api/winuser/nf-winuser-getsystemmetrics) с флагами **SM \_ кксмин** и **SM \_ цимин** .</span><span class="sxs-lookup"><span data-stu-id="36214-258">To discover the default minimum window size, an application uses the [**GetSystemMetrics**](/windows/desktop/api/winuser/nf-winuser-getsystemmetrics) function with the **SM\_CXMIN** and **SM\_CYMIN** flags.</span></span>

<span data-ttu-id="36214-259">Приложению может потребоваться создать окно с клиентской областью определенного размера.</span><span class="sxs-lookup"><span data-stu-id="36214-259">An application may need to create a window with a client area of a particular size.</span></span> <span data-ttu-id="36214-260">Функции [**аджуствиндоврект**](/windows/win32/api/winuser/nf-winuser-adjustwindowrect) и [**аджуствиндовректекс**](/windows/win32/api/winuser/nf-winuser-adjustwindowrectex) вычисляют необходимый размер окна в зависимости от требуемого размера клиентской области.</span><span class="sxs-lookup"><span data-stu-id="36214-260">The [**AdjustWindowRect**](/windows/win32/api/winuser/nf-winuser-adjustwindowrect) and [**AdjustWindowRectEx**](/windows/win32/api/winuser/nf-winuser-adjustwindowrectex) functions calculate the required size of a window based on the desired size of the client area.</span></span> <span data-ttu-id="36214-261">Приложение может передать результирующие значения размера в функцию [**CreateWindowEx**](/windows/win32/api/winuser/nf-winuser-createwindowexa) .</span><span class="sxs-lookup"><span data-stu-id="36214-261">The application can pass the resulting size values to the [**CreateWindowEx**](/windows/win32/api/winuser/nf-winuser-createwindowexa) function.</span></span>

<span data-ttu-id="36214-262">Приложение может изменять размер окна, чтобы оно было очень большим; Однако не следует изменять размер окна, чтобы оно было больше, чем экран.</span><span class="sxs-lookup"><span data-stu-id="36214-262">An application can size a window so that it is extremely large; however, it should not size a window so that it is larger than the screen.</span></span> <span data-ttu-id="36214-263">Перед установкой размера окна приложение должно проверить ширину и высоту экрана с помощью [**жетсистемметрикс**](/windows/desktop/api/winuser/nf-winuser-getsystemmetrics) с флагами **SM \_ кксскрин** и **SM \_ цискрин** .</span><span class="sxs-lookup"><span data-stu-id="36214-263">Before setting a window's size, the application should check the width and height of the screen by using [**GetSystemMetrics**](/windows/desktop/api/winuser/nf-winuser-getsystemmetrics) with the **SM\_CXSCREEN** and **SM\_CYSCREEN** flags.</span></span>

### <a name="parent-or-owner-window-handle"></a><span data-ttu-id="36214-264">Маркер окна родителя или владельца</span><span class="sxs-lookup"><span data-stu-id="36214-264">Parent or Owner Window Handle</span></span>

<span data-ttu-id="36214-265">Окно может иметь родительское окно.</span><span class="sxs-lookup"><span data-stu-id="36214-265">A window can have a parent window.</span></span> <span data-ttu-id="36214-266">Окно, имеющее родительский элемент, называется *дочерним окном*.</span><span class="sxs-lookup"><span data-stu-id="36214-266">A window that has a parent is called a *child window*.</span></span> <span data-ttu-id="36214-267">*Родительское окно* предоставляет систему координат, используемую для размещения дочернего окна.</span><span class="sxs-lookup"><span data-stu-id="36214-267">The *parent window* provides the coordinate system used for positioning a child window.</span></span> <span data-ttu-id="36214-268">Наличие родительского окна влияет на аспекты внешнего вида окна; Например, дочернее окно обрезается таким образом, что никакая часть дочернего окна не может отображаться вне границ родительского окна.</span><span class="sxs-lookup"><span data-stu-id="36214-268">Having a parent window affects aspects of a window's appearance; for example, a child window is clipped so that no part of the child window can appear outside the borders of its parent window.</span></span>

<span data-ttu-id="36214-269">Окно, которое не имеет родителя или родительский элемент которого является окном рабочего стола, называется *окном верхнего уровня*.</span><span class="sxs-lookup"><span data-stu-id="36214-269">A window that has no parent, or whose parent is the desktop window, is called a *top-level window*.</span></span> <span data-ttu-id="36214-270">Приложение может использовать функцию [**EnumWindows**](/windows/win32/api/winuser/nf-winuser-enumwindows) для получения маркера для каждого окна верхнего уровня на экране.</span><span class="sxs-lookup"><span data-stu-id="36214-270">An application can use the [**EnumWindows**](/windows/win32/api/winuser/nf-winuser-enumwindows) function to obtain a handle to each top-level window on the screen.</span></span> <span data-ttu-id="36214-271">В свою очередь, метод **EnumWindows** передает этот маркер в каждое окно верхнего уровня, а в свою функцию обратного вызова, определяемую приложением, [**енумвиндовспрок**](/previous-versions/windows/desktop/legacy/ms633498(v=vs.85)).</span><span class="sxs-lookup"><span data-stu-id="36214-271">**EnumWindows** passes the handle to each top-level window, in turn, to an application-defined callback function, [**EnumWindowsProc**](/previous-versions/windows/desktop/legacy/ms633498(v=vs.85)).</span></span>

<span data-ttu-id="36214-272">Окно верхнего уровня может принадлежать другому окну или принадлежать ему.</span><span class="sxs-lookup"><span data-stu-id="36214-272">A top-level window can own, or be owned by, another window.</span></span> <span data-ttu-id="36214-273">*Принадлежащее окно* всегда отображается перед окном своего владельца, скрыто, когда окно его владельца свернется, и уничтожается при уничтожении окна-владельца.</span><span class="sxs-lookup"><span data-stu-id="36214-273">An *owned window* always appears in front of its owner window, is hidden when its owner window is minimized, and is destroyed when its owner window is destroyed.</span></span> <span data-ttu-id="36214-274">Дополнительные сведения см. в разделе [собственные окна](window-features.md#owned-windows).</span><span class="sxs-lookup"><span data-stu-id="36214-274">For more information, see [Owned Windows](window-features.md#owned-windows).</span></span>

### <a name="menu-handle-or-child-window-identifier"></a><span data-ttu-id="36214-275">Маркер меню или идентификатор Child-Window</span><span class="sxs-lookup"><span data-stu-id="36214-275">Menu Handle or Child-Window Identifier</span></span>

<span data-ttu-id="36214-276">Дочернее окно может иметь идентификатор *дочернего окна* , уникальное, определяемое приложением значение, связанное с дочерним окном.</span><span class="sxs-lookup"><span data-stu-id="36214-276">A child window can have a *child-window* identifier, a unique, application-defined value associated with the child window.</span></span> <span data-ttu-id="36214-277">Идентификаторы дочерних окон особенно полезны в приложениях, которые создают несколько дочерних окон.</span><span class="sxs-lookup"><span data-stu-id="36214-277">Child-window identifiers are especially useful in applications that create multiple child windows.</span></span> <span data-ttu-id="36214-278">При создании дочернего окна приложение указывает идентификатор дочернего окна.</span><span class="sxs-lookup"><span data-stu-id="36214-278">When creating a child window, an application specifies the identifier of the child window.</span></span> <span data-ttu-id="36214-279">После создания окна приложение может изменить идентификатор окна с помощью функции [**SetWindowLong**](/windows/win32/api/winuser/nf-winuser-setwindowlonga) или получить идентификатор с помощью функции [**жетвиндовлонг**](/windows/win32/api/winuser/nf-winuser-getwindowlonga) .</span><span class="sxs-lookup"><span data-stu-id="36214-279">After creating the window, the application can change the window's identifier by using the [**SetWindowLong**](/windows/win32/api/winuser/nf-winuser-setwindowlonga) function, or it can retrieve the identifier by using the [**GetWindowLong**](/windows/win32/api/winuser/nf-winuser-getwindowlonga) function.</span></span>

<span data-ttu-id="36214-280">Любое окно, за исключением дочернего окна, может иметь меню.</span><span class="sxs-lookup"><span data-stu-id="36214-280">Every window, except a child window, can have a menu.</span></span> <span data-ttu-id="36214-281">Приложение может включать меню, предоставляя маркер меню при регистрации класса окна или при создании окна.</span><span class="sxs-lookup"><span data-stu-id="36214-281">An application can include a menu by providing a menu handle either when registering the window's class or when creating the window.</span></span>

### <a name="application-instance-handle"></a><span data-ttu-id="36214-282">Маркер экземпляра приложения</span><span class="sxs-lookup"><span data-stu-id="36214-282">Application Instance Handle</span></span>

<span data-ttu-id="36214-283">С каждым приложением связан связанный с ним экземпляр.</span><span class="sxs-lookup"><span data-stu-id="36214-283">Every application has an instance handle associated with it.</span></span> <span data-ttu-id="36214-284">Система предоставляет экземпляру обработчика для приложения при запуске приложения.</span><span class="sxs-lookup"><span data-stu-id="36214-284">The system provides the instance handle to an application when the application starts.</span></span> <span data-ttu-id="36214-285">Поскольку она может запускать несколько копий одного и того же приложения, система использует внутренние дескрипторы экземпляров, чтобы отличать один экземпляр приложения от другого.</span><span class="sxs-lookup"><span data-stu-id="36214-285">Because it can run multiple copies of the same application, the system uses instance handles internally to distinguish one instance of an application from another.</span></span> <span data-ttu-id="36214-286">Приложение должно указать этот экземпляр в различных окнах, включая те, которые создают Windows.</span><span class="sxs-lookup"><span data-stu-id="36214-286">The application must specify the instance handle in many different windows, including those that create windows.</span></span>

### <a name="creation-data"></a><span data-ttu-id="36214-287">Создание данных</span><span class="sxs-lookup"><span data-stu-id="36214-287">Creation Data</span></span>

<span data-ttu-id="36214-288">С каждым окном могут быть связаны связанные с приложением данные о создании.</span><span class="sxs-lookup"><span data-stu-id="36214-288">Every window can have application-defined creation data associated with it.</span></span> <span data-ttu-id="36214-289">При первом создании окна система передает указатель на данные в процедуру окна создаваемого окна.</span><span class="sxs-lookup"><span data-stu-id="36214-289">When the window is first created, the system passes a pointer to the data on to the window procedure of the window being created.</span></span> <span data-ttu-id="36214-290">В процедуре окна используются данные для инициализации переменных, определенных приложением.</span><span class="sxs-lookup"><span data-stu-id="36214-290">The window procedure uses the data to initialize application-defined variables.</span></span>

### <a name="window-handle"></a><span data-ttu-id="36214-291">Дескриптор окна</span><span class="sxs-lookup"><span data-stu-id="36214-291">Window Handle</span></span>

<span data-ttu-id="36214-292">После создания окна функция создания возвращает *описатель окна* , который однозначно идентифицирует окно.</span><span class="sxs-lookup"><span data-stu-id="36214-292">After creating a window, the creation function returns a *window handle* that uniquely identifies the window.</span></span> <span data-ttu-id="36214-293">Дескриптор окна имеет тип данных **HWND** ; приложение должно использовать этот тип при объявлении переменной, содержащей маркер окна.</span><span class="sxs-lookup"><span data-stu-id="36214-293">A window handle has the **HWND** data type; an application must use this type when declaring a variable that holds a window handle.</span></span> <span data-ttu-id="36214-294">Приложение использует этот обработчик в других функциях, чтобы направить свои действия в окно.</span><span class="sxs-lookup"><span data-stu-id="36214-294">An application uses this handle in other functions to direct their actions to the window.</span></span>

<span data-ttu-id="36214-295">Приложение может использовать функцию [**FindWindow**](/windows/win32/api/winuser/nf-winuser-findwindowa) , чтобы определить, существует ли в системе окно с указанным именем класса или именем окна.</span><span class="sxs-lookup"><span data-stu-id="36214-295">An application can use the [**FindWindow**](/windows/win32/api/winuser/nf-winuser-findwindowa) function to discover whether a window with the specified class name or window name exists in the system.</span></span> <span data-ttu-id="36214-296">Если такое окно существует, функция **FindWindow** возвращает в окно маркер.</span><span class="sxs-lookup"><span data-stu-id="36214-296">If such a window exists, **FindWindow** returns a handle to the window.</span></span> <span data-ttu-id="36214-297">Чтобы ограничить поиск дочерними окнами конкретного приложения, используйте функцию [**FindWindowEx**](/windows/win32/api/winuser/nf-winuser-findwindowexa) .</span><span class="sxs-lookup"><span data-stu-id="36214-297">To limit the search to the child windows of a particular application, use the [**FindWindowEx**](/windows/win32/api/winuser/nf-winuser-findwindowexa) function.</span></span>

<span data-ttu-id="36214-298">Функция [**«IsValid» определяет**](/windows/win32/api/winuser/nf-winuser-iswindow) , определяет ли обработчик окна допустимое, существующее окно.</span><span class="sxs-lookup"><span data-stu-id="36214-298">The [**IsWindow**](/windows/win32/api/winuser/nf-winuser-iswindow) function determines whether a window handle identifies a valid, existing window.</span></span> <span data-ttu-id="36214-299">Существуют специальные константы, которые могут заменить обработчик окна в определенных функциях.</span><span class="sxs-lookup"><span data-stu-id="36214-299">There are special constants that can replace a window handle in certain functions.</span></span> <span data-ttu-id="36214-300">Например, приложение может использовать **\_ трансляцию HWND** в функциях [**SendMessage**](/windows/win32/api/winuser/nf-winuser-sendmessage) и [**функции sendmessagetimeout**](/windows/win32/api/winuser/nf-winuser-sendmessagetimeouta) или **\_ класс HWND Desktop** в функции [**мапвиндовпоинтс**](/windows/desktop/api/winuser/nf-winuser-mapwindowpoints) .</span><span class="sxs-lookup"><span data-stu-id="36214-300">For example, an application can use **HWND\_BROADCAST** in the [**SendMessage**](/windows/win32/api/winuser/nf-winuser-sendmessage) and [**SendMessageTimeout**](/windows/win32/api/winuser/nf-winuser-sendmessagetimeouta) functions, or **HWND\_DESKTOP** in the [**MapWindowPoints**](/windows/desktop/api/winuser/nf-winuser-mapwindowpoints) function.</span></span>

## <a name="window-creation"></a><span data-ttu-id="36214-301">Создание окна</span><span class="sxs-lookup"><span data-stu-id="36214-301">Window Creation</span></span>

<span data-ttu-id="36214-302">Чтобы создать окна приложений, используйте функцию [**CreateWindow**](/windows/win32/api/winuser/nf-winuser-createwindowa) или [**CreateWindowEx**](/windows/win32/api/winuser/nf-winuser-createwindowexa) .</span><span class="sxs-lookup"><span data-stu-id="36214-302">To create application windows, use the [**CreateWindow**](/windows/win32/api/winuser/nf-winuser-createwindowa) or [**CreateWindowEx**](/windows/win32/api/winuser/nf-winuser-createwindowexa) function.</span></span> <span data-ttu-id="36214-303">Необходимо указать сведения, необходимые для определения атрибутов окна.</span><span class="sxs-lookup"><span data-stu-id="36214-303">You must provide the information required to define the window attributes.</span></span> <span data-ttu-id="36214-304">**CreateWindowEx** имеет параметр *двексстиле*, который отсутствует в **CreateWindow** ; в противном случае функции идентичны.</span><span class="sxs-lookup"><span data-stu-id="36214-304">**CreateWindowEx** has a parameter, *dwExStyle*, that **CreateWindow** does not have; otherwise, the functions are identical.</span></span> <span data-ttu-id="36214-305">Фактически, **CreateWindow** просто вызывает **CreateWindowEx** с параметром *двексстиле* , равным нулю.</span><span class="sxs-lookup"><span data-stu-id="36214-305">In fact, **CreateWindow** simply calls **CreateWindowEx** with the *dwExStyle* parameter set to zero.</span></span> <span data-ttu-id="36214-306">По этой причине оставшаяся часть этого обзора относится только к **CreateWindowEx**.</span><span class="sxs-lookup"><span data-stu-id="36214-306">For this reason, the remainder of this overview refers only to **CreateWindowEx**.</span></span>

<span data-ttu-id="36214-307">В этом разделе рассматриваются следующие вопросы.</span><span class="sxs-lookup"><span data-stu-id="36214-307">This section contains the following topics:</span></span>

-   [<span data-ttu-id="36214-308">Создание главного окна</span><span class="sxs-lookup"><span data-stu-id="36214-308">Main Window Creation</span></span>](#main-window-creation)
-   [<span data-ttu-id="36214-309">Сообщения для создания окон</span><span class="sxs-lookup"><span data-stu-id="36214-309">Window-Creation Messages</span></span>](#window-creation-messages)
-   [<span data-ttu-id="36214-310">Многопоточные приложения</span><span class="sxs-lookup"><span data-stu-id="36214-310">Multithread Applications</span></span>](#multithread-applications)

> [!Note]  
> <span data-ttu-id="36214-311">Существуют дополнительные функции для создания специальных окон, например диалоговых окон и окон сообщений.</span><span class="sxs-lookup"><span data-stu-id="36214-311">There are additional functions for creating special-purpose windows such as dialog boxes and message boxes.</span></span> <span data-ttu-id="36214-312">Дополнительные сведения см. в разделе [**диалогбокс**](/windows/desktop/api/winuser/nf-winuser-dialogboxa), [**креатедиалог**](/windows/desktop/api/winuser/nf-winuser-createdialoga)и [**MessageBox**](/windows/desktop/api/winuser/nf-winuser-messagebox).</span><span class="sxs-lookup"><span data-stu-id="36214-312">For more information, see [**DialogBox**](/windows/desktop/api/winuser/nf-winuser-dialogboxa), [**CreateDialog**](/windows/desktop/api/winuser/nf-winuser-createdialoga), and [**MessageBox**](/windows/desktop/api/winuser/nf-winuser-messagebox).</span></span>

 

### <a name="main-window-creation"></a><span data-ttu-id="36214-313">Создание главного окна</span><span class="sxs-lookup"><span data-stu-id="36214-313">Main Window Creation</span></span>

<span data-ttu-id="36214-314">Каждое приложение на основе Windows должно иметь функцию [**WinMain**](/windows/win32/api/winbase/nf-winbase-winmain) в качестве функции точки входа.</span><span class="sxs-lookup"><span data-stu-id="36214-314">Every Windows-based application must have [**WinMain**](/windows/win32/api/winbase/nf-winbase-winmain) as its entry point function.</span></span> <span data-ttu-id="36214-315">**WinMain** выполняет ряд задач, включая регистрацию класса окна для главного окна и создание главного окна.</span><span class="sxs-lookup"><span data-stu-id="36214-315">**WinMain** performs a number of tasks, including registering the window class for the main window and creating the main window.</span></span> <span data-ttu-id="36214-316">Функция **WinMain** регистрирует класс главного окна, вызывая функцию [**registerClass**](/windows/win32/api/winuser/nf-winuser-registerclassa) , и создает главное окно, вызывая функцию [**CreateWindowEx**](/windows/win32/api/winuser/nf-winuser-createwindowexa) .</span><span class="sxs-lookup"><span data-stu-id="36214-316">**WinMain** registers the main window class by calling the [**RegisterClass**](/windows/win32/api/winuser/nf-winuser-registerclassa) function, and it creates the main window by calling the [**CreateWindowEx**](/windows/win32/api/winuser/nf-winuser-createwindowexa) function.</span></span>

<span data-ttu-id="36214-317">Функция [**WinMain**](/windows/win32/api/winbase/nf-winbase-winmain) также может ограничить приложение одним экземпляром.</span><span class="sxs-lookup"><span data-stu-id="36214-317">Your [**WinMain**](/windows/win32/api/winbase/nf-winbase-winmain) function can also limit your application to a single instance.</span></span> <span data-ttu-id="36214-318">Создайте именованный мьютекс с помощью функции [**CreateMutex**](/windows/desktop/api/synchapi/nf-synchapi-createmutexa) .</span><span class="sxs-lookup"><span data-stu-id="36214-318">Create a named mutex using the [**CreateMutex**](/windows/desktop/api/synchapi/nf-synchapi-createmutexa) function.</span></span> <span data-ttu-id="36214-319">Если [**GetLastError**](/windows/desktop/api/errhandlingapi/nf-errhandlingapi-getlasterror) возвращает **ошибку \_ , \_** то существует другой экземпляр приложения (мьютекс), и необходимо выйти из **WinMain**.</span><span class="sxs-lookup"><span data-stu-id="36214-319">If [**GetLastError**](/windows/desktop/api/errhandlingapi/nf-errhandlingapi-getlasterror) returns **ERROR\_ALREADY\_EXISTS**, another instance of your application exists (it created the mutex) and you should exit **WinMain**.</span></span>

<span data-ttu-id="36214-320">Система не отображает автоматически главное окно после его создания; Вместо этого приложение должно использовать функцию [**ShowWindow**](/windows/win32/api/winuser/nf-winuser-showwindow) для вывода главного окна.</span><span class="sxs-lookup"><span data-stu-id="36214-320">The system does not automatically display the main window after creating it; instead, an application must use the [**ShowWindow**](/windows/win32/api/winuser/nf-winuser-showwindow) function to display the main window.</span></span> <span data-ttu-id="36214-321">После создания главного окна функция [**WinMain**](/windows/win32/api/winbase/nf-winbase-winmain) приложения вызывает функцию **ShowWindow**, передавая ей два параметра: указатель на главное окно и флаг, указывающий, следует ли отображать или разворачивание главного окна при первом отображении.</span><span class="sxs-lookup"><span data-stu-id="36214-321">After creating the main window, the application's [**WinMain**](/windows/win32/api/winbase/nf-winbase-winmain) function calls **ShowWindow**, passing it two parameters: a handle to the main window and a flag specifying whether the main window should be minimized or maximized when it is first displayed.</span></span> <span data-ttu-id="36214-322">Обычно флагу можно присвоить любые константы, начинающиеся с \_ префикса SW.</span><span class="sxs-lookup"><span data-stu-id="36214-322">Normally, the flag can be set to any of the constants beginning with the SW\_ prefix.</span></span> <span data-ttu-id="36214-323">Однако при вызове **ShowWindow** для вывода главного окна приложения флаг должен иметь значение **SW \_ шовдефаулт**.</span><span class="sxs-lookup"><span data-stu-id="36214-323">However, when **ShowWindow** is called to display the application's main window, the flag must be set to **SW\_SHOWDEFAULT**.</span></span> <span data-ttu-id="36214-324">Этот флаг сообщает системе, что окно отображается в соответствии с программой, которая запустила приложение.</span><span class="sxs-lookup"><span data-stu-id="36214-324">This flag tells the system to display the window as directed by the program that started the application.</span></span>

<span data-ttu-id="36214-325">Если класс окна был зарегистрирован в версии класса [**registerClass**](/windows/win32/api/winuser/nf-winuser-registerclassa)с поддержкой Юникода, то окно получает только сообщения в Юникоде.</span><span class="sxs-lookup"><span data-stu-id="36214-325">If a window class was registered with the Unicode version of [**RegisterClass**](/windows/win32/api/winuser/nf-winuser-registerclassa), the window receives only Unicode messages.</span></span> <span data-ttu-id="36214-326">Чтобы определить, использует ли окно кодировку Юникода, вызовите [**исвиндовуникоде**](/windows/win32/api/winuser/nf-winuser-iswindowunicode).</span><span class="sxs-lookup"><span data-stu-id="36214-326">To determine whether a window uses the Unicode character set or not, call [**IsWindowUnicode**](/windows/win32/api/winuser/nf-winuser-iswindowunicode).</span></span>

### <a name="window-creation-messages"></a><span data-ttu-id="36214-327">Сообщения Window-Creation</span><span class="sxs-lookup"><span data-stu-id="36214-327">Window-Creation Messages</span></span>

<span data-ttu-id="36214-328">При создании любого окна система отправляет сообщения в процедуру окна для окна.</span><span class="sxs-lookup"><span data-stu-id="36214-328">When creating any window, the system sends messages to the window procedure for the window.</span></span> <span data-ttu-id="36214-329">Система отправляет сообщение [**WM \_ нккреате**](wm-nccreate.md) после создания неклиентской области окна и сообщения [**WM \_ CREATE**](wm-create.md) после создания клиентской области.</span><span class="sxs-lookup"><span data-stu-id="36214-329">The system sends the [**WM\_NCCREATE**](wm-nccreate.md) message after creating the window's nonclient area and the [**WM\_CREATE**](wm-create.md) message after creating the client area.</span></span> <span data-ttu-id="36214-330">Процедура Window получает оба сообщения до того, как система отобразит окно.</span><span class="sxs-lookup"><span data-stu-id="36214-330">The window procedure receives both messages before the system displays the window.</span></span> <span data-ttu-id="36214-331">Оба сообщения содержат указатель на структуру [**CREATESTRUCT**](/windows/win32/api/winuser/ns-winuser-createstructa) , содержащую все сведения, указанные в функции [**CreateWindowEx**](/windows/win32/api/winuser/nf-winuser-createwindowexa) .</span><span class="sxs-lookup"><span data-stu-id="36214-331">Both messages include a pointer to a [**CREATESTRUCT**](/windows/win32/api/winuser/ns-winuser-createstructa) structure that contains all the information specified in the [**CreateWindowEx**](/windows/win32/api/winuser/nf-winuser-createwindowexa) function.</span></span> <span data-ttu-id="36214-332">Как правило, процедура Window выполняет задачи инициализации при получении этих сообщений.</span><span class="sxs-lookup"><span data-stu-id="36214-332">Typically, the window procedure performs initialization tasks upon receiving these messages.</span></span>

<span data-ttu-id="36214-333">При создании дочернего окна система отправляет сообщение [**WM \_ парентнотифи**](/previous-versions/windows/desktop/inputmsg/wm-parentnotify) в родительское окно после отправки сообщений о создании [**\_ нккреате WM**](wm-nccreate.md) и [**WM \_**](wm-create.md) .</span><span class="sxs-lookup"><span data-stu-id="36214-333">When creating a child window, the system sends the [**WM\_PARENTNOTIFY**](/previous-versions/windows/desktop/inputmsg/wm-parentnotify) message to the parent window after sending the [**WM\_NCCREATE**](wm-nccreate.md) and [**WM\_CREATE**](wm-create.md) messages.</span></span> <span data-ttu-id="36214-334">Он также отправляет другие сообщения при создании окна.</span><span class="sxs-lookup"><span data-stu-id="36214-334">It also sends other messages while creating a window.</span></span> <span data-ttu-id="36214-335">Количество и порядок этих сообщений зависит от класса и стиля окна, а также от функции, используемой для создания окна.</span><span class="sxs-lookup"><span data-stu-id="36214-335">The number and order of these messages depend on the window class and style and on the function used to create the window.</span></span> <span data-ttu-id="36214-336">Эти сообщения описаны в других подразделах этого файла справки.</span><span class="sxs-lookup"><span data-stu-id="36214-336">These messages are described in other topics in this help file.</span></span>

### <a name="multithread-applications"></a><span data-ttu-id="36214-337">Многопоточные приложения</span><span class="sxs-lookup"><span data-stu-id="36214-337">Multithread Applications</span></span>

<span data-ttu-id="36214-338">Приложение на основе Windows может иметь несколько потоков выполнения, и каждый поток может создавать окна.</span><span class="sxs-lookup"><span data-stu-id="36214-338">A Windows-based application can have multiple threads of execution, and each thread can create windows.</span></span> <span data-ttu-id="36214-339">Поток, который создает окно, должен содержать код для своей процедуры окна.</span><span class="sxs-lookup"><span data-stu-id="36214-339">The thread that creates a window must contain the code for its window procedure.</span></span>

<span data-ttu-id="36214-340">Приложение может использовать функцию [**енумсреадвиндовс**](/windows/win32/api/winuser/nf-winuser-enumthreadwindows) для перечисления окон, созданных определенным потоком.</span><span class="sxs-lookup"><span data-stu-id="36214-340">An application can use the [**EnumThreadWindows**](/windows/win32/api/winuser/nf-winuser-enumthreadwindows) function to enumerate the windows created by a particular thread.</span></span> <span data-ttu-id="36214-341">Эта функция передает этот обработчик в каждое окно потока, в свою очередь, в определяемую приложением функцию обратного вызова [**енумсреадвндпрок**](/previous-versions/windows/desktop/legacy/ms633496(v=vs.85)).</span><span class="sxs-lookup"><span data-stu-id="36214-341">This function passes the handle to each thread window, in turn, to an application-defined callback function, [**EnumThreadWndProc**](/previous-versions/windows/desktop/legacy/ms633496(v=vs.85)).</span></span>

<span data-ttu-id="36214-342">Функция [**жетвиндовсреадпроцессид**](/windows/win32/api/winuser/nf-winuser-getwindowthreadprocessid) возвращает идентификатор потока, создавшего конкретное окно.</span><span class="sxs-lookup"><span data-stu-id="36214-342">The [**GetWindowThreadProcessId**](/windows/win32/api/winuser/nf-winuser-getwindowthreadprocessid) function returns the identifier of the thread that created a particular window.</span></span>

<span data-ttu-id="36214-343">Чтобы задать состояние отображения окна, созданного другим потоком, используйте функцию [**showWindowAsync**](/windows/win32/api/winuser/nf-winuser-showwindowasync) .</span><span class="sxs-lookup"><span data-stu-id="36214-343">To set the show state of a window created by another thread, use the [**ShowWindowAsync**](/windows/win32/api/winuser/nf-winuser-showwindowasync) function.</span></span>

 

 
