---
description: Каждый документ в приложении с многодокументным интерфейсом (MDI) отображается в отдельном дочернем окне в клиентской области главного окна приложения.
ms.assetid: 35dff281-3b11-4954-85cf-a0f1c9ed346a
title: Сведения об интерфейсе нескольких документов
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: a0397127d7ec343ebdb7696c2dd7d57204a5d5ae
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "105664611"
---
# <a name="about-the-multiple-document-interface"></a><span data-ttu-id="0d5b3-103">Сведения об интерфейсе нескольких документов</span><span class="sxs-lookup"><span data-stu-id="0d5b3-103">About the Multiple Document Interface</span></span>

<span data-ttu-id="0d5b3-104">Каждый документ в приложении с многодокументным интерфейсом (MDI) отображается в отдельном дочернем окне в клиентской области главного окна приложения.</span><span class="sxs-lookup"><span data-stu-id="0d5b3-104">Each document in an multiple-document interface (MDI) application is displayed in a separate child window within the client area of the application's main window.</span></span> <span data-ttu-id="0d5b3-105">К типичным приложениям MDI относятся приложения для обработки текстов, позволяющие пользователю работать с несколькими текстовыми документами и приложениями электронных таблиц, которые позволяют пользователю работать с несколькими диаграммами и электронными таблицами.</span><span class="sxs-lookup"><span data-stu-id="0d5b3-105">Typical MDI applications include word-processing applications that allow the user to work with multiple text documents, and spreadsheet applications that allow the user to work with multiple charts and spreadsheets.</span></span> <span data-ttu-id="0d5b3-106">Дополнительные сведения см. в следующих разделах:</span><span class="sxs-lookup"><span data-stu-id="0d5b3-106">For more information, see the following topics.</span></span>

-   [<span data-ttu-id="0d5b3-107">Фрейм, клиент и дочерние окна</span><span class="sxs-lookup"><span data-stu-id="0d5b3-107">Frame, Client, and Child Windows</span></span>](#frame-client-and-child-windows)
-   [<span data-ttu-id="0d5b3-108">Создание дочернего окна</span><span class="sxs-lookup"><span data-stu-id="0d5b3-108">Child Window Creation</span></span>](#child-window-creation)
-   [<span data-ttu-id="0d5b3-109">Активация дочернего окна</span><span class="sxs-lookup"><span data-stu-id="0d5b3-109">Child Window Activation</span></span>](#child-window-activation)
-   [<span data-ttu-id="0d5b3-110">Несколько меню документов</span><span class="sxs-lookup"><span data-stu-id="0d5b3-110">Multiple Document Menus</span></span>](#multiple-document-menus)
-   [<span data-ttu-id="0d5b3-111">Несколько ускорителей документов</span><span class="sxs-lookup"><span data-stu-id="0d5b3-111">Multiple Document Accelerators</span></span>](#multiple-document-accelerators)
-   [<span data-ttu-id="0d5b3-112">Размер и расположение дочернего окна</span><span class="sxs-lookup"><span data-stu-id="0d5b3-112">Child Window Size and Arrangement</span></span>](#child-window-size-and-arrangement)
-   [<span data-ttu-id="0d5b3-113">Окна заголовка значка</span><span class="sxs-lookup"><span data-stu-id="0d5b3-113">Icon Title Windows</span></span>](#icon-title-windows)
-   [<span data-ttu-id="0d5b3-114">Данные дочернего окна</span><span class="sxs-lookup"><span data-stu-id="0d5b3-114">Child Window Data</span></span>](#child-window-data)
    -   [<span data-ttu-id="0d5b3-115">Структура окна</span><span class="sxs-lookup"><span data-stu-id="0d5b3-115">Window Structure</span></span>](#window-structure)
    -   [<span data-ttu-id="0d5b3-116">Свойства окна</span><span class="sxs-lookup"><span data-stu-id="0d5b3-116">Window Properties</span></span>](#window-properties)

## <a name="frame-client-and-child-windows"></a><span data-ttu-id="0d5b3-117">Фрейм, клиент и дочерние окна</span><span class="sxs-lookup"><span data-stu-id="0d5b3-117">Frame, Client, and Child Windows</span></span>

<span data-ttu-id="0d5b3-118">Приложение MDI имеет три вида окон: окно фрейма, окно клиента MDI, а также ряд дочерних окон.</span><span class="sxs-lookup"><span data-stu-id="0d5b3-118">An MDI application has three kinds of windows: a frame window, an MDI client window, as well as a number of child windows.</span></span> <span data-ttu-id="0d5b3-119">*Окно фрейма* похоже на главное окно приложения: оно имеет границу изменения размера, строку заголовка, меню окна, кнопку сворачивания и кнопку развернуть.</span><span class="sxs-lookup"><span data-stu-id="0d5b3-119">The *frame window* is like the main window of the application: it has a sizing border, a title bar, a window menu, a minimize button, and a maximize button.</span></span> <span data-ttu-id="0d5b3-120">Приложение должно зарегистрировать класс окна для фрейма окна и предоставить процедуру окна для ее поддержки.</span><span class="sxs-lookup"><span data-stu-id="0d5b3-120">The application must register a window class for the frame window and provide a window procedure to support it.</span></span>

<span data-ttu-id="0d5b3-121">Приложение MDI не отображает выходные данные в клиентской области окна фрейма.</span><span class="sxs-lookup"><span data-stu-id="0d5b3-121">An MDI application does not display output in the client area of the frame window.</span></span> <span data-ttu-id="0d5b3-122">Вместо этого отображается окно клиента MDI.</span><span class="sxs-lookup"><span data-stu-id="0d5b3-122">Instead, it displays the MDI client window.</span></span> <span data-ttu-id="0d5b3-123">*Клиентское окно MDI* — это специальный тип дочернего окна, принадлежащего предварительно зарегистрированному классу окна **мдиклиент**.</span><span class="sxs-lookup"><span data-stu-id="0d5b3-123">An *MDI client window* is a special type of child window belonging to the preregistered window class **MDICLIENT**.</span></span> <span data-ttu-id="0d5b3-124">Окно клиента является дочерним по отношению к окну фрейма; Он выступает в качестве фона для дочерних окон.</span><span class="sxs-lookup"><span data-stu-id="0d5b3-124">The client window is a child of the frame window; it serves as the background for child windows.</span></span> <span data-ttu-id="0d5b3-125">Он также обеспечивает поддержку создания дочерних окон и управления ими.</span><span class="sxs-lookup"><span data-stu-id="0d5b3-125">It also provides support for creating and manipulating child windows.</span></span> <span data-ttu-id="0d5b3-126">Например, приложение MDI может создавать, активировать или разворачивание дочерних окон, отправляя сообщения в окно клиента MDI.</span><span class="sxs-lookup"><span data-stu-id="0d5b3-126">For example, an MDI application can create, activate, or maximize child windows by sending messages to the MDI client window.</span></span>

<span data-ttu-id="0d5b3-127">Когда пользователь открывает или создает документ, окно клиента создает дочернее окно для документа.</span><span class="sxs-lookup"><span data-stu-id="0d5b3-127">When the user opens or creates a document, the client window creates a child window for the document.</span></span> <span data-ttu-id="0d5b3-128">Окно клиента — это родительское окно всех дочерних окон MDI в приложении.</span><span class="sxs-lookup"><span data-stu-id="0d5b3-128">The client window is the parent window of all MDI child windows in the application.</span></span> <span data-ttu-id="0d5b3-129">У каждого дочернего окна есть граница размеров, строка заголовка, меню окна, Кнопка сворачивания и кнопка развертывания.</span><span class="sxs-lookup"><span data-stu-id="0d5b3-129">Each child window has a sizing border, a title bar, a window menu, a minimize button, and a maximize button.</span></span> <span data-ttu-id="0d5b3-130">Так как дочернее окно обрезается, оно ограничено окном клиента и не может находиться за пределами.</span><span class="sxs-lookup"><span data-stu-id="0d5b3-130">Because a child window is clipped, it is confined to the client window and cannot appear outside it.</span></span>

<span data-ttu-id="0d5b3-131">Приложение MDI может поддерживать более одного вида документов.</span><span class="sxs-lookup"><span data-stu-id="0d5b3-131">An MDI application can support more than one kind of document.</span></span> <span data-ttu-id="0d5b3-132">Например, обычное приложение электронной таблицы позволяет пользователю работать с диаграммами и электронными таблицами.</span><span class="sxs-lookup"><span data-stu-id="0d5b3-132">For example, a typical spreadsheet application enables the user to work with both charts and spreadsheets.</span></span> <span data-ttu-id="0d5b3-133">Для каждого поддерживаемого типа документа приложение MDI должно зарегистрировать класс дочернего окна и предоставить процедуру окна для поддержки окон, принадлежащих этому классу.</span><span class="sxs-lookup"><span data-stu-id="0d5b3-133">For each type of document that it supports, an MDI application must register a child window class and provide a window procedure to support the windows belonging to that class.</span></span> <span data-ttu-id="0d5b3-134">Дополнительные сведения о классах окон см. в разделе [классы окон](window-classes.md).</span><span class="sxs-lookup"><span data-stu-id="0d5b3-134">For more information about window classes, see [Window Classes](window-classes.md).</span></span> <span data-ttu-id="0d5b3-135">Дополнительные сведения о процедурах окна см. в разделе [процедуры окна](window-procedures.md).</span><span class="sxs-lookup"><span data-stu-id="0d5b3-135">For more information about window procedures, see [Window Procedures](window-procedures.md).</span></span>

<span data-ttu-id="0d5b3-136">Ниже приведено типичное приложение MDI.</span><span class="sxs-lookup"><span data-stu-id="0d5b3-136">Following is a typical MDI application.</span></span> <span data-ttu-id="0d5b3-137">Он называется Мултипад.</span><span class="sxs-lookup"><span data-stu-id="0d5b3-137">It is named Multipad.</span></span>

![окно фрейма приложения мултипад MDI и окно клиента](images/csmdi-01.png)

## <a name="child-window-creation"></a><span data-ttu-id="0d5b3-139">Создание дочернего окна</span><span class="sxs-lookup"><span data-stu-id="0d5b3-139">Child Window Creation</span></span>

<span data-ttu-id="0d5b3-140">Чтобы создать дочернее окно, приложение MDI либо вызывает функцию [**креатемдивиндов**](/windows/win32/api/winuser/nf-winuser-createmdiwindowa) , либо отправляет сообщение [**WM \_ МДИКРЕАТЕ**](wm-mdicreate.md) в окно клиента MDI.</span><span class="sxs-lookup"><span data-stu-id="0d5b3-140">To create a child window, an MDI application either calls the [**CreateMDIWindow**](/windows/win32/api/winuser/nf-winuser-createmdiwindowa) function or sends the [**WM\_MDICREATE**](wm-mdicreate.md) message to the MDI client window.</span></span> <span data-ttu-id="0d5b3-141">Более эффективный способ создания дочернего окна MDI — вызов функции [**CreateWindowEx**](/windows/win32/api/winuser/nf-winuser-createwindowexa) с указанием расширенного стиля **WS \_ ex \_ мдичилд** .</span><span class="sxs-lookup"><span data-stu-id="0d5b3-141">A more efficient way to create an MDI child window is to call the [**CreateWindowEx**](/windows/win32/api/winuser/nf-winuser-createwindowexa) function, specifying the **WS\_EX\_MDICHILD** extended style.</span></span>

<span data-ttu-id="0d5b3-142">Чтобы уничтожить дочернее окно, приложение MDI отправляет сообщение [**WM \_ мдидестрой**](wm-mdidestroy.md) в окно клиента MDI.</span><span class="sxs-lookup"><span data-stu-id="0d5b3-142">To destroy a child window, an MDI application sends a [**WM\_MDIDESTROY**](wm-mdidestroy.md) message to the MDI client window.</span></span>

## <a name="child-window-activation"></a><span data-ttu-id="0d5b3-143">Активация дочернего окна</span><span class="sxs-lookup"><span data-stu-id="0d5b3-143">Child Window Activation</span></span>

<span data-ttu-id="0d5b3-144">Любое количество дочерних окон может отображаться в клиентском окне в любое время, но только один из них может быть активным.</span><span class="sxs-lookup"><span data-stu-id="0d5b3-144">Any number of child windows can appear in the client window at any one time, but only one can be active.</span></span> <span data-ttu-id="0d5b3-145">Активное дочернее окно позиционируется перед всеми остальными дочерними окнами, и его граница выделяется.</span><span class="sxs-lookup"><span data-stu-id="0d5b3-145">The active child window is positioned in front of all other child windows, and its border is highlighted.</span></span>

<span data-ttu-id="0d5b3-146">Пользователь может активировать неактивное дочернее окно, щелкнув его.</span><span class="sxs-lookup"><span data-stu-id="0d5b3-146">The user can activate an inactive child window by clicking it.</span></span> <span data-ttu-id="0d5b3-147">Приложение MDI активирует дочернее окно, отправляя сообщение [**WM \_ мдиактивате**](wm-mdiactivate.md) в окно клиента MDI.</span><span class="sxs-lookup"><span data-stu-id="0d5b3-147">An MDI application activates a child window by sending a [**WM\_MDIACTIVATE**](wm-mdiactivate.md) message to the MDI client window.</span></span> <span data-ttu-id="0d5b3-148">По мере того как клиентское окно обрабатывает это сообщение, оно отправляет сообщение **WM \_ мдиактивате** в процедуру окна дочернего окна, чтобы активировать его, а также в процедуру окна дочернего окна, которое деактивируется.</span><span class="sxs-lookup"><span data-stu-id="0d5b3-148">As the client window processes this message, it sends a **WM\_MDIACTIVATE** message to the window procedure of the child window to be activated and to the window procedure of the child window being deactivated.</span></span>

<span data-ttu-id="0d5b3-149">Чтобы предотвратить активацию дочернего окна, обрабатывайте сообщение [**WM \_ нкактивате**](wm-ncactivate.md) до дочернего окна, возвращая **значение false**.</span><span class="sxs-lookup"><span data-stu-id="0d5b3-149">To prevent a child window from activating, handle the [**WM\_NCACTIVATE**](wm-ncactivate.md) message to the child window by returning **FALSE**.</span></span>

<span data-ttu-id="0d5b3-150">Система отслеживает расположение каждого дочернего окна в стеке перекрывающихся окон.</span><span class="sxs-lookup"><span data-stu-id="0d5b3-150">The system keeps track of each child window's position in the stack of overlapping windows.</span></span> <span data-ttu-id="0d5b3-151">Этот стек называется [Z-порядком](window-features.md).</span><span class="sxs-lookup"><span data-stu-id="0d5b3-151">This stacking is known as the [Z-Order](window-features.md).</span></span> <span data-ttu-id="0d5b3-152">Пользователь может активировать следующее дочернее окно в Z порядке, нажав кнопку **Далее** в меню окно в активном окне.</span><span class="sxs-lookup"><span data-stu-id="0d5b3-152">The user can activate the next child window in the Z order by clicking **Next** from the window menu in the active window.</span></span> <span data-ttu-id="0d5b3-153">Приложение активирует следующее (или предыдущее) дочернее окно в Z-порядке, отправляя сообщение [**WM \_ мдинекст**](wm-mdinext.md) в окно клиента.</span><span class="sxs-lookup"><span data-stu-id="0d5b3-153">An application activates the next (or previous) child window in the Z order by sending a [**WM\_MDINEXT**](wm-mdinext.md) message to the client window.</span></span>

<span data-ttu-id="0d5b3-154">Чтобы получить маркер активного дочернего окна, приложение MDI отправляет сообщение [**WM \_ мдижетактиве**](wm-mdigetactive.md) в окно клиента.</span><span class="sxs-lookup"><span data-stu-id="0d5b3-154">To retrieve the handle to the active child window, the MDI application sends a [**WM\_MDIGETACTIVE**](wm-mdigetactive.md) message to the client window.</span></span>

## <a name="multiple-document-menus"></a><span data-ttu-id="0d5b3-155">Несколько меню документов</span><span class="sxs-lookup"><span data-stu-id="0d5b3-155">Multiple Document Menus</span></span>

<span data-ttu-id="0d5b3-156">Окно фрейма приложения MDI должно включать строку меню с меню «окно».</span><span class="sxs-lookup"><span data-stu-id="0d5b3-156">The frame window of an MDI application should include a menu bar with a window menu.</span></span> <span data-ttu-id="0d5b3-157">Меню окно должно включать элементы, которые упорядочивают дочерние окна в окне клиента или закрывают все дочерние окна.</span><span class="sxs-lookup"><span data-stu-id="0d5b3-157">The window menu should include items that arrange the child windows within the client window or that close all child windows.</span></span> <span data-ttu-id="0d5b3-158">Меню окна типичного приложения MDI может включать элементы, приведенные в следующей таблице.</span><span class="sxs-lookup"><span data-stu-id="0d5b3-158">The window menu of a typical MDI application might include the items in the following table.</span></span>



| <span data-ttu-id="0d5b3-159">Элемент меню</span><span class="sxs-lookup"><span data-stu-id="0d5b3-159">Menu item</span></span>         | <span data-ttu-id="0d5b3-160">Назначение</span><span class="sxs-lookup"><span data-stu-id="0d5b3-160">Purpose</span></span>                                                                                                                  |
|-------------------|--------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="0d5b3-161">**Tile**</span><span class="sxs-lookup"><span data-stu-id="0d5b3-161">**Tile**</span></span>          | <span data-ttu-id="0d5b3-162">Упорядочивает дочерние окна в формате мозаики, чтобы каждый из них полностью появился в окне клиента.</span><span class="sxs-lookup"><span data-stu-id="0d5b3-162">Arranges child windows in a tile format so that each appears in its entirety in the client window.</span></span>                       |
| <span data-ttu-id="0d5b3-163">**Cascade**</span><span class="sxs-lookup"><span data-stu-id="0d5b3-163">**Cascade**</span></span>       | <span data-ttu-id="0d5b3-164">Упорядочивает дочерние окна в формате Cascade.</span><span class="sxs-lookup"><span data-stu-id="0d5b3-164">Arranges child windows in a cascade format.</span></span> <span data-ttu-id="0d5b3-165">Дочерние окна перекрываются друг с другом, но отображается заголовок каждого из них.</span><span class="sxs-lookup"><span data-stu-id="0d5b3-165">The child windows overlap one another, but the title bar of each is visible.</span></span> |
| <span data-ttu-id="0d5b3-166">**Упорядочить значки**</span><span class="sxs-lookup"><span data-stu-id="0d5b3-166">**Arrange Icons**</span></span> | <span data-ttu-id="0d5b3-167">Упорядочивает значки элементов с минимальными дочерними окнами в нижней части окна клиента.</span><span class="sxs-lookup"><span data-stu-id="0d5b3-167">Arranges the icons of minimized child windows along the bottom of the client window.</span></span>                                     |
| <span data-ttu-id="0d5b3-168">**Закрыть все**</span><span class="sxs-lookup"><span data-stu-id="0d5b3-168">**Close All**</span></span>     | <span data-ttu-id="0d5b3-169">Закрывает все дочерние окна.</span><span class="sxs-lookup"><span data-stu-id="0d5b3-169">Closes all child windows.</span></span>                                                                                                |



 

<span data-ttu-id="0d5b3-170">При создании дочернего окна система автоматически добавляет новый пункт меню в меню окно.</span><span class="sxs-lookup"><span data-stu-id="0d5b3-170">Whenever a child window is created, the system automatically appends a new menu item to the window menu.</span></span> <span data-ttu-id="0d5b3-171">Текст пункта меню совпадает с текстом в строке меню нового дочернего окна.</span><span class="sxs-lookup"><span data-stu-id="0d5b3-171">The text of the menu item is the same as the text on the menu bar of the new child window.</span></span> <span data-ttu-id="0d5b3-172">Щелкнув пункт меню, пользователь может активировать соответствующее дочернее окно.</span><span class="sxs-lookup"><span data-stu-id="0d5b3-172">By clicking the menu item, the user can activate the corresponding child window.</span></span> <span data-ttu-id="0d5b3-173">При уничтожении дочернего окна система автоматически удаляет соответствующий пункт меню из меню окно.</span><span class="sxs-lookup"><span data-stu-id="0d5b3-173">When a child window is destroyed, the system automatically removes the corresponding menu item from the window menu.</span></span>

<span data-ttu-id="0d5b3-174">Система может добавить до десяти пунктов меню в меню окно.</span><span class="sxs-lookup"><span data-stu-id="0d5b3-174">The system can add up to ten menu items to the window menu.</span></span> <span data-ttu-id="0d5b3-175">При создании десятого дочернего окна система добавляет в меню окно **больше элементов Windows** .</span><span class="sxs-lookup"><span data-stu-id="0d5b3-175">When the tenth child window is created, the system adds the **More Windows** item to the window menu.</span></span> <span data-ttu-id="0d5b3-176">Если щелкнуть этот элемент, откроется диалоговое окно **Выбор окна** .</span><span class="sxs-lookup"><span data-stu-id="0d5b3-176">Clicking this item displays the **Select Window** dialog box.</span></span> <span data-ttu-id="0d5b3-177">Диалоговое окно содержит список с названиями всех доступных в данный момент дочерних окон MDI.</span><span class="sxs-lookup"><span data-stu-id="0d5b3-177">The dialog box contains a list box with the titles of all MDI child windows currently available.</span></span> <span data-ttu-id="0d5b3-178">Пользователь может активировать дочернее окно, щелкнув его заголовок в списке.</span><span class="sxs-lookup"><span data-stu-id="0d5b3-178">The user can activate a child window by clicking its title in the list box.</span></span>

<span data-ttu-id="0d5b3-179">Если приложение MDI поддерживает несколько типов дочерних окон, настройте строку меню, отражающую операции, связанные с активным окном.</span><span class="sxs-lookup"><span data-stu-id="0d5b3-179">If your MDI application supports several types of child windows, tailor the menu bar to reflect the operations associated with the active window.</span></span> <span data-ttu-id="0d5b3-180">Для этого предоставьте отдельные ресурсы меню для каждого типа дочернего окна, которое поддерживает приложение.</span><span class="sxs-lookup"><span data-stu-id="0d5b3-180">To do this, provide separate menu resources for each type of child window the application supports.</span></span> <span data-ttu-id="0d5b3-181">При активации нового типа дочернего окна приложение должно отправить сообщение [**WM \_ мдисетмену**](wm-mdisetmenu.md) в клиентское окно, передав ему маркер соответствующего меню.</span><span class="sxs-lookup"><span data-stu-id="0d5b3-181">When a new type of child window is activated, the application should send a [**WM\_MDISETMENU**](wm-mdisetmenu.md) message to the client window, passing to it the handle to the corresponding menu.</span></span>

<span data-ttu-id="0d5b3-182">Если дочернего окна не существует, строка меню должна содержать только элементы, используемые для создания или открытия документа.</span><span class="sxs-lookup"><span data-stu-id="0d5b3-182">When no child window exists, the menu bar should contain only items used to create or open a document.</span></span>

<span data-ttu-id="0d5b3-183">Когда пользователь проходит через меню приложения MDI с помощью клавиш курсора, клавиши ведут себя иначе, чем при переходе пользователя по типичным меню приложения.</span><span class="sxs-lookup"><span data-stu-id="0d5b3-183">When the user is navigating through an MDI application's menus by using cursor keys, the keys behave differently than when the user is navigating through a typical application's menus.</span></span> <span data-ttu-id="0d5b3-184">В приложении MDI управление передается из меню окна приложения в меню окно активного дочернего окна, а затем к первому элементу в строке меню.</span><span class="sxs-lookup"><span data-stu-id="0d5b3-184">In an MDI application, control passes from the application's window menu to the window menu of the active child window, and then to the first item on the menu bar.</span></span>

## <a name="multiple-document-accelerators"></a><span data-ttu-id="0d5b3-185">Несколько ускорителей документов</span><span class="sxs-lookup"><span data-stu-id="0d5b3-185">Multiple Document Accelerators</span></span>

<span data-ttu-id="0d5b3-186">Для получения и обработки сочетаний клавиш для дочерних окон приложение MDI должно содержать функцию [**транслатемдисисакцел**](/windows/win32/api/winuser/nf-winuser-translatemdisysaccel) в своем цикле обработки сообщений.</span><span class="sxs-lookup"><span data-stu-id="0d5b3-186">To receive and process accelerator keys for its child windows, an MDI application must include the [**TranslateMDISysAccel**](/windows/win32/api/winuser/nf-winuser-translatemdisysaccel) function in its message loop.</span></span> <span data-ttu-id="0d5b3-187">Цикл должен вызвать **транслатемдисисакцел** перед вызовом функции [**TranslateAccelerator**](/windows/desktop/api/winuser/nf-winuser-translateacceleratora) или [**DispatchMessage**](/windows/win32/api/winuser/nf-winuser-dispatchmessage) .</span><span class="sxs-lookup"><span data-stu-id="0d5b3-187">The loop must call **TranslateMDISysAccel** before calling the [**TranslateAccelerator**](/windows/desktop/api/winuser/nf-winuser-translateacceleratora) or [**DispatchMessage**](/windows/win32/api/winuser/nf-winuser-dispatchmessage) function.</span></span>

<span data-ttu-id="0d5b3-188">Сочетания клавиш в меню окно для дочернего окна MDI отличаются от сочетаний для дочерних окон, не являющихся дочерними MDI.</span><span class="sxs-lookup"><span data-stu-id="0d5b3-188">Accelerator keys on the window menu for an MDI child window are different from those for a non-MDI child window.</span></span> <span data-ttu-id="0d5b3-189">В дочернем окне MDI сочетание клавиш ALT + – (минус) открывает меню окно, сочетание клавиш CTRL + F4 закрывает активное дочернее окно, а сочетание клавиш CTRL + F6 активирует следующее дочернее окно.</span><span class="sxs-lookup"><span data-stu-id="0d5b3-189">In an MDI child window, the ALT+ – (minus) key combination opens the window menu, the CTRL+F4 key combination closes the active child window, and the CTRL+F6 key combination activates the next child window.</span></span>

## <a name="child-window-size-and-arrangement"></a><span data-ttu-id="0d5b3-190">Размер и расположение дочернего окна</span><span class="sxs-lookup"><span data-stu-id="0d5b3-190">Child Window Size and Arrangement</span></span>

<span data-ttu-id="0d5b3-191">Приложение MDI управляет размером и положением его дочерних окон, отправляя сообщения в окно клиента MDI.</span><span class="sxs-lookup"><span data-stu-id="0d5b3-191">An MDI application controls the size and position of its child windows by sending messages to the MDI client window.</span></span> <span data-ttu-id="0d5b3-192">Чтобы развернуть активное дочернее окно, приложение отправляет сообщение [**WM \_ мдимаксимизе**](wm-mdimaximize.md) в окно клиента.</span><span class="sxs-lookup"><span data-stu-id="0d5b3-192">To maximize the active child window, the application sends the [**WM\_MDIMAXIMIZE**](wm-mdimaximize.md) message to the client window.</span></span> <span data-ttu-id="0d5b3-193">Когда дочернее окно разворачивается, его клиентская область полностью заполняет окно клиента MDI.</span><span class="sxs-lookup"><span data-stu-id="0d5b3-193">When a child window is maximized, its client area completely fills the MDI client window.</span></span> <span data-ttu-id="0d5b3-194">Кроме того, система автоматически скрывает строку заголовка дочернего окна и добавляет значок меню окна дочернего окна и кнопку восстановить в строку меню приложения MDI.</span><span class="sxs-lookup"><span data-stu-id="0d5b3-194">In addition, the system automatically hides the child window's title bar, and adds the child window's window menu icon and Restore button to the MDI application's menu bar.</span></span> <span data-ttu-id="0d5b3-195">Приложение может восстановить исходное (развернутое) окно клиента до исходного размера и расположения, отправив клиентскому окну сообщение [**WM \_ мдиресторе**](wm-mdirestore.md) .</span><span class="sxs-lookup"><span data-stu-id="0d5b3-195">The application can restore the client window to its original (premaximized) size and position by sending the client window a [**WM\_MDIRESTORE**](wm-mdirestore.md) message.</span></span>

<span data-ttu-id="0d5b3-196">Приложение MDI может упорядочивать дочерние окна в виде каскадного или мозаичного представления.</span><span class="sxs-lookup"><span data-stu-id="0d5b3-196">An MDI application can arrange its child windows in either a cascade or tile format.</span></span> <span data-ttu-id="0d5b3-197">Когда дочерние окна располагаются каскадом, окна отображаются в стеке.</span><span class="sxs-lookup"><span data-stu-id="0d5b3-197">When the child windows are cascaded, the windows appear in a stack.</span></span> <span data-ttu-id="0d5b3-198">Окно, расположенное внизу стека, занимает левый верхний угол экрана, а остальные окна смещаются вертикально и горизонтально, чтобы отображалась левая граница и заголовок каждого дочернего окна.</span><span class="sxs-lookup"><span data-stu-id="0d5b3-198">The window on the bottom of the stack occupies the upper left corner of the screen, and the remaining windows are offset vertically and horizontally so that the left border and title bar of each child window is visible.</span></span> <span data-ttu-id="0d5b3-199">Чтобы разместить дочерние окна в формате Cascade, приложение MDI отправляет сообщение [**WM \_ мдикаскаде**](wm-mdicascade.md) .</span><span class="sxs-lookup"><span data-stu-id="0d5b3-199">To arrange child windows in the cascade format, an MDI application sends the [**WM\_MDICASCADE**](wm-mdicascade.md) message.</span></span> <span data-ttu-id="0d5b3-200">Как правило, приложение отправляет это сообщение, когда пользователь щелкает **Каскад** в меню окна.</span><span class="sxs-lookup"><span data-stu-id="0d5b3-200">Typically, the application sends this message when the user clicks **Cascade** on the window menu.</span></span>

<span data-ttu-id="0d5b3-201">При мозаичном заполнении дочерних окон система отображает все дочерние окна целиком — пересекается ни с одной из окон.</span><span class="sxs-lookup"><span data-stu-id="0d5b3-201">When the child windows are tiled, the system displays each child window in its entirety — overlapping none of the windows.</span></span> <span data-ttu-id="0d5b3-202">При необходимости все окна будут иметь размер в окне клиента.</span><span class="sxs-lookup"><span data-stu-id="0d5b3-202">All of the windows are sized, as necessary, to fit within the client window.</span></span> <span data-ttu-id="0d5b3-203">Чтобы упорядочить дочерние окна в формате плитки, приложение MDI отправляет сообщение [**WM \_ мдитиле**](wm-mditile.md) в окно клиента.</span><span class="sxs-lookup"><span data-stu-id="0d5b3-203">To arrange child windows in the tile format, an MDI application sends a [**WM\_MDITILE**](wm-mditile.md) message to the client window.</span></span> <span data-ttu-id="0d5b3-204">Как правило, приложение отправляет это сообщение, когда пользователь щелкает **плитку** в меню окно.</span><span class="sxs-lookup"><span data-stu-id="0d5b3-204">Typically, the application sends this message when the user clicks **Tile** on the window menu.</span></span>

<span data-ttu-id="0d5b3-205">Приложение MDI должно иметь разные значки для каждого типа дочернего окна, которое он поддерживает.</span><span class="sxs-lookup"><span data-stu-id="0d5b3-205">An MDI application should provide a different icon for each type of child window it supports.</span></span> <span data-ttu-id="0d5b3-206">Приложение задает значок при регистрации класса дочернего окна.</span><span class="sxs-lookup"><span data-stu-id="0d5b3-206">The application specifies an icon when registering the child window class.</span></span> <span data-ttu-id="0d5b3-207">При сворачивании дочернего окна система автоматически отображает значок дочернего окна в нижней части окна клиента.</span><span class="sxs-lookup"><span data-stu-id="0d5b3-207">The system automatically displays a child window's icon in the lower portion of the client window when the child window is minimized.</span></span> <span data-ttu-id="0d5b3-208">Приложение MDI направляет систему на размещение значков дочерних окон, отправляя сообщение [**WM \_ мдииконарранже**](wm-mdiiconarrange.md) в окно клиента.</span><span class="sxs-lookup"><span data-stu-id="0d5b3-208">An MDI application directs the system to arrange child window icons by sending a [**WM\_MDIICONARRANGE**](wm-mdiiconarrange.md) message to the client window.</span></span> <span data-ttu-id="0d5b3-209">Как правило, приложение отправляет это сообщение, когда пользователь нажимает кнопку **Упорядочить значки** в меню окно.</span><span class="sxs-lookup"><span data-stu-id="0d5b3-209">Typically, the application sends this message when the user clicks **Arrange Icons** on the window menu.</span></span>

## <a name="icon-title-windows"></a><span data-ttu-id="0d5b3-210">Окна заголовка значка</span><span class="sxs-lookup"><span data-stu-id="0d5b3-210">Icon Title Windows</span></span>

<span data-ttu-id="0d5b3-211">Так как дочерние окна MDI могут быть сведены, приложение MDI должно избегать обработки окон заголовков значков, как если бы они были обычными дочерними окнами MDI.</span><span class="sxs-lookup"><span data-stu-id="0d5b3-211">Because MDI child windows may be minimized, an MDI application must avoid manipulating icon title windows as if they were normal MDI child windows.</span></span> <span data-ttu-id="0d5b3-212">Окна с названиями значков отображаются, когда приложение перечисляет дочерние окна клиента MDI.</span><span class="sxs-lookup"><span data-stu-id="0d5b3-212">Icon title windows appear when the application enumerates child windows of the MDI client window.</span></span> <span data-ttu-id="0d5b3-213">Окна заголовков значков отличаются от других дочерних окон тем, что они принадлежат дочернему окну MDI.</span><span class="sxs-lookup"><span data-stu-id="0d5b3-213">Icon title windows differ from other child windows, however, in that they are owned by an MDI child window.</span></span>

<span data-ttu-id="0d5b3-214">Чтобы определить, является ли дочернее окно окном заголовка значка, используйте функцию "с помощью функции"- [**окна**](/windows/win32/api/winuser/nf-winuser-getwindow) "с \_ индексом владельца GW.</span><span class="sxs-lookup"><span data-stu-id="0d5b3-214">To determine whether a child window is an icon title window, use the [**GetWindow**](/windows/win32/api/winuser/nf-winuser-getwindow) function with the GW\_OWNER index.</span></span> <span data-ttu-id="0d5b3-215">Окна, не являющиеся заголовками, возвращают **значение NULL**.</span><span class="sxs-lookup"><span data-stu-id="0d5b3-215">Non-title windows return **NULL**.</span></span> <span data-ttu-id="0d5b3-216">Обратите внимание, что этот тест недостаточен для окон верхнего уровня, так как меню и диалоговые окна являются собственностью Windows.</span><span class="sxs-lookup"><span data-stu-id="0d5b3-216">Note that this test is insufficient for top-level windows, because menus and dialog boxes are owned windows.</span></span>

## <a name="child-window-data"></a><span data-ttu-id="0d5b3-217">Данные дочернего окна</span><span class="sxs-lookup"><span data-stu-id="0d5b3-217">Child Window Data</span></span>

<span data-ttu-id="0d5b3-218">Поскольку количество дочерних окон зависит от того, сколько документов открывается пользователем, приложение MDI должно иметь возможность связывать данные (например, имя текущего файла) с каждым дочерним окном.</span><span class="sxs-lookup"><span data-stu-id="0d5b3-218">Because the number of child windows varies depending on how many documents the user opens, an MDI application must be able to associate data (for example, the name of the current file) with each child window.</span></span> <span data-ttu-id="0d5b3-219">Это можно сделать двумя способами.</span><span class="sxs-lookup"><span data-stu-id="0d5b3-219">There are two ways to do this:</span></span>

-   <span data-ttu-id="0d5b3-220">Сохранение данных дочернего окна в структуре окна.</span><span class="sxs-lookup"><span data-stu-id="0d5b3-220">Store child window data in the window structure.</span></span>
-   <span data-ttu-id="0d5b3-221">Используйте свойства окна.</span><span class="sxs-lookup"><span data-stu-id="0d5b3-221">Use window properties.</span></span>

### <a name="window-structure"></a><span data-ttu-id="0d5b3-222">Структура окна</span><span class="sxs-lookup"><span data-stu-id="0d5b3-222">Window Structure</span></span>

<span data-ttu-id="0d5b3-223">Когда приложение MDI регистрирует класс окна, оно может зарезервировать дополнительное пространство в структуре окна для данных приложений, относящихся к конкретному классу Windows.</span><span class="sxs-lookup"><span data-stu-id="0d5b3-223">When an MDI application registers a window class, it may reserve extra space in the window structure for application data specific to this particular class of windows.</span></span> <span data-ttu-id="0d5b3-224">Для хранения и извлечения данных в это дополнительное пространство приложение использует функции [**жетвиндовлонг**](/windows/win32/api/winuser/nf-winuser-getwindowlonga) и [**SetWindowLong**](/windows/win32/api/winuser/nf-winuser-setwindowlonga) .</span><span class="sxs-lookup"><span data-stu-id="0d5b3-224">To store and retrieve data in this extra space, the application uses the [**GetWindowLong**](/windows/win32/api/winuser/nf-winuser-getwindowlonga) and [**SetWindowLong**](/windows/win32/api/winuser/nf-winuser-setwindowlonga) functions.</span></span>

<span data-ttu-id="0d5b3-225">Чтобы сохранить большой объем данных для дочернего окна, приложение может выделить память для структуры данных, а затем сохранить этот обработчик в памяти, содержащей структуру, в дополнительное пространство, связанное с дочерним окном.</span><span class="sxs-lookup"><span data-stu-id="0d5b3-225">To maintain a large amount of data for a child window, an application can allocate memory for a data structure and then store the handle to the memory containing the structure in the extra space associated with the child window.</span></span>

### <a name="window-properties"></a><span data-ttu-id="0d5b3-226">Свойства окна</span><span class="sxs-lookup"><span data-stu-id="0d5b3-226">Window Properties</span></span>

<span data-ttu-id="0d5b3-227">Приложение MDI может также хранить данные отдельных документов с помощью свойств окна.</span><span class="sxs-lookup"><span data-stu-id="0d5b3-227">An MDI application can also store per-document data by using window properties.</span></span> <span data-ttu-id="0d5b3-228">*Данные по документу* — это данные, относящиеся к типу документа, содержащегося в конкретном дочернем окне.</span><span class="sxs-lookup"><span data-stu-id="0d5b3-228">*Per-document data* is data specific to the type of document contained in a particular child window.</span></span> <span data-ttu-id="0d5b3-229">Свойства отличаются от дополнительного пространства в структуре окна тем, что при регистрации класса окна не требуется выделять дополнительное пространство.</span><span class="sxs-lookup"><span data-stu-id="0d5b3-229">Properties are different from extra space in the window structure in that you need not allocate extra space when registering the window class.</span></span> <span data-ttu-id="0d5b3-230">Окно может иметь любое количество свойств.</span><span class="sxs-lookup"><span data-stu-id="0d5b3-230">A window can have any number of properties.</span></span> <span data-ttu-id="0d5b3-231">Кроме того, когда для доступа к дополнительному пространству в структурах окон используются смещения, свойства называются именами строк.</span><span class="sxs-lookup"><span data-stu-id="0d5b3-231">Also, where offsets are used to access the extra space in window structures, properties are referred to by string names.</span></span> <span data-ttu-id="0d5b3-232">Дополнительные сведения о свойствах окна см. в разделе [Свойства окна](window-properties.md).</span><span class="sxs-lookup"><span data-stu-id="0d5b3-232">For more information about window properties, see [Window Properties](window-properties.md).</span></span>

 

 
