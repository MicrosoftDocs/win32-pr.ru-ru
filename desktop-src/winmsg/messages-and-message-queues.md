---
description: В этом разделе описываются сообщения и очереди сообщений, а затем их использование в приложениях.
ms.assetid: vs|winui|~\winui\windowsuserinterface\windowing\messagesandmessagequeues.htm
title: Сообщения и очереди сообщений
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: d0233af932d1aa9a4130e244af002d6180fdf055
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "105702242"
---
# <a name="messages-and-message-queues"></a><span data-ttu-id="d0db4-103">Сообщения и очереди сообщений</span><span class="sxs-lookup"><span data-stu-id="d0db4-103">Messages and Message Queues</span></span>

<span data-ttu-id="d0db4-104">В этом разделе описываются сообщения и очереди сообщений, а затем их использование в приложениях.</span><span class="sxs-lookup"><span data-stu-id="d0db4-104">This section describes messages and message queues and how to use them in your applications.</span></span>

### <a name="in-this-section"></a><span data-ttu-id="d0db4-105">в этом разделе</span><span class="sxs-lookup"><span data-stu-id="d0db4-105">In This Section</span></span>



| <span data-ttu-id="d0db4-106">Имя</span><span class="sxs-lookup"><span data-stu-id="d0db4-106">Name</span></span>                                                                       | <span data-ttu-id="d0db4-107">Описание</span><span class="sxs-lookup"><span data-stu-id="d0db4-107">Description</span></span>                                                                                                                                |
|----------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="d0db4-108">Сведения о сообщениях и очередях сообщений</span><span class="sxs-lookup"><span data-stu-id="d0db4-108">About Messages and Message Queues</span></span>](about-messages-and-message-queues.md) | <span data-ttu-id="d0db4-109">В этом разделе обсуждаются сообщения Windows и очереди сообщений.</span><span class="sxs-lookup"><span data-stu-id="d0db4-109">This section discusses Windows messages and message queues.</span></span><br/>                                                                     |
| [<span data-ttu-id="d0db4-110">Использование сообщений и очередей сообщений</span><span class="sxs-lookup"><span data-stu-id="d0db4-110">Using Messages and Message Queues</span></span>](using-messages-and-message-queues.md) | <span data-ttu-id="d0db4-111">В следующих примерах кода показано, как выполнять следующие задачи, связанные с сообщениями Windows и очередями сообщений.</span><span class="sxs-lookup"><span data-stu-id="d0db4-111">The following code examples demonstrate how to perform the following tasks associated with Windows messages and message queues.</span></span><br/> |
| [<span data-ttu-id="d0db4-112">Ссылка на сообщение</span><span class="sxs-lookup"><span data-stu-id="d0db4-112">Message Reference</span></span>](message-and-message-queue-reference.md)               | <span data-ttu-id="d0db4-113">Содержит справочник по API.</span><span class="sxs-lookup"><span data-stu-id="d0db4-113">Contains the API reference.</span></span><br/>                                                                                                     |



 

### <a name="system-provided-messages"></a><span data-ttu-id="d0db4-114">Сообщения System-Provided</span><span class="sxs-lookup"><span data-stu-id="d0db4-114">System-Provided Messages</span></span>

<span data-ttu-id="d0db4-115">Список сообщений, предоставляемых системой, см. в разделе [сообщения, определяемые системой](about-messages-and-message-queues.md).</span><span class="sxs-lookup"><span data-stu-id="d0db4-115">For lists of the system-provided messages, see [System-Defined Messages](about-messages-and-message-queues.md).</span></span>

### <a name="message-functions"></a><span data-ttu-id="d0db4-116">Функции сообщений</span><span class="sxs-lookup"><span data-stu-id="d0db4-116">Message Functions</span></span>



| <span data-ttu-id="d0db4-117">Имя</span><span class="sxs-lookup"><span data-stu-id="d0db4-117">Name</span></span>                                                         | <span data-ttu-id="d0db4-118">Описание</span><span class="sxs-lookup"><span data-stu-id="d0db4-118">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
|--------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="d0db4-119">**броадкастсистеммессаже**</span><span class="sxs-lookup"><span data-stu-id="d0db4-119">**BroadcastSystemMessage**</span></span>](/windows/win32/api/winuser/nf-winuser-broadcastsystemmessage)     | <span data-ttu-id="d0db4-120">Отправляет сообщение указанным получателям.</span><span class="sxs-lookup"><span data-stu-id="d0db4-120">Sends a message to the specified recipients.</span></span> <span data-ttu-id="d0db4-121">Получатели могут быть приложениями, устанавливаемыми драйверами, сетевыми драйверами, драйверами устройств на уровне системы или любым сочетанием этих системных компонентов.</span><span class="sxs-lookup"><span data-stu-id="d0db4-121">The recipients can be applications, installable drivers, network drivers, system-level device drivers, or any combination of these system components.</span></span> <br/> <span data-ttu-id="d0db4-122">Чтобы получить дополнительные сведения, если запрос определен, используйте функцию [**броадкастсистеммессажеекс**](/windows/win32/api/winuser/nf-winuser-broadcastsystemmessageexa) .</span><span class="sxs-lookup"><span data-stu-id="d0db4-122">To receive additional information if the request is defined, use the [**BroadcastSystemMessageEx**](/windows/win32/api/winuser/nf-winuser-broadcastsystemmessageexa) function.</span></span><br/>                                                                                                                                                                                                                                  |
| [<span data-ttu-id="d0db4-123">**броадкастсистеммессажеекс**</span><span class="sxs-lookup"><span data-stu-id="d0db4-123">**BroadcastSystemMessageEx**</span></span>](/windows/win32/api/winuser/nf-winuser-broadcastsystemmessageexa) | <span data-ttu-id="d0db4-124">Отправляет сообщение указанным получателям.</span><span class="sxs-lookup"><span data-stu-id="d0db4-124">Sends a message to the specified recipients.</span></span> <span data-ttu-id="d0db4-125">Получатели могут быть приложениями, устанавливаемыми драйверами, сетевыми драйверами, драйверами устройств на уровне системы или любым сочетанием этих системных компонентов.</span><span class="sxs-lookup"><span data-stu-id="d0db4-125">The recipients can be applications, installable drivers, network drivers, system-level device drivers, or any combination of these system components.</span></span> <br/> <span data-ttu-id="d0db4-126">Эта функция похожа на [**броадкастсистеммессаже**](/windows/win32/api/winuser/nf-winuser-broadcastsystemmessage) , за исключением того, что эта функция может возвращать дополнительные сведения от получателей.</span><span class="sxs-lookup"><span data-stu-id="d0db4-126">This function is similar to [**BroadcastSystemMessage**](/windows/win32/api/winuser/nf-winuser-broadcastsystemmessage) except that this function can return more information from the recipients.</span></span><br/>                                                                                                                                                                                                              |
| [<span data-ttu-id="d0db4-127">**DispatchMessage**</span><span class="sxs-lookup"><span data-stu-id="d0db4-127">**DispatchMessage**</span></span>](/windows/win32/api/winuser/nf-winuser-dispatchmessage)                   | <span data-ttu-id="d0db4-128">Отправляет сообщение в процедуру окна.</span><span class="sxs-lookup"><span data-stu-id="d0db4-128">Dispatches a message to a window procedure.</span></span> <span data-ttu-id="d0db4-129">Обычно он используется для отправки сообщения, полученного функцией with [**Message**](/windows/win32/api/winuser/nf-winuser-getmessage) .</span><span class="sxs-lookup"><span data-stu-id="d0db4-129">It is typically used to dispatch a message retrieved by the [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage) function.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| [<span data-ttu-id="d0db4-130">**жетинпутстате**</span><span class="sxs-lookup"><span data-stu-id="d0db4-130">**GetInputState**</span></span>](/windows/win32/api/winuser/nf-winuser-getinputstate)                       | <span data-ttu-id="d0db4-131">Определяет, есть ли в очереди сообщений вызывающего потока сообщения с кнопками мыши или клавиатуры.</span><span class="sxs-lookup"><span data-stu-id="d0db4-131">Determines whether there are mouse-button or keyboard messages in the calling thread's message queue.</span></span> <br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| [<span data-ttu-id="d0db4-132">**GetMessage**</span><span class="sxs-lookup"><span data-stu-id="d0db4-132">**GetMessage**</span></span>](/windows/win32/api/winuser/nf-winuser-getmessage)                             | <span data-ttu-id="d0db4-133">Извлекает сообщение из очереди сообщений вызывающего потока.</span><span class="sxs-lookup"><span data-stu-id="d0db4-133">Retrieves a message from the calling thread's message queue.</span></span> <span data-ttu-id="d0db4-134">Функция отправляет входящие отправленные сообщения до тех пор, пока отправленное сообщение не будет доступно для извлечения.</span><span class="sxs-lookup"><span data-stu-id="d0db4-134">The function dispatches incoming sent messages until a posted message is available for retrieval.</span></span> <br/> <span data-ttu-id="d0db4-135">В отличие от функции [**PeekMessage**](/windows/win32/api/winuser/nf-winuser-peekmessagea) функция не ждет, [**пока сообщение будет**](/windows/win32/api/winuser/nf-winuser-getmessage)Отправлено, прежде чем возвращать.</span><span class="sxs-lookup"><span data-stu-id="d0db4-135">Unlike [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage), the [**PeekMessage**](/windows/win32/api/winuser/nf-winuser-peekmessagea) function does not wait for a message to be posted before returning.</span></span><br/>                                                                                                                                                                                                                                                              |
| [<span data-ttu-id="d0db4-136">**жетмессажеекстраинфо**</span><span class="sxs-lookup"><span data-stu-id="d0db4-136">**GetMessageExtraInfo**</span></span>](/windows/win32/api/winuser/nf-winuser-getmessageextrainfo)           | <span data-ttu-id="d0db4-137">Извлекает дополнительные сведения о сообщении для текущего потока.</span><span class="sxs-lookup"><span data-stu-id="d0db4-137">Retrieves the extra message information for the current thread.</span></span> <span data-ttu-id="d0db4-138">Дополнительные сведения о сообщении — это значение, определенное приложением или драйвером, связанное с очередью сообщений текущего потока.</span><span class="sxs-lookup"><span data-stu-id="d0db4-138">Extra message information is an application- or driver-defined value associated with the current thread's message queue.</span></span> <br/>                                                                                                                                                                                                                                                                                                                                                                                                   |
| [<span data-ttu-id="d0db4-139">**жетмессажепос**</span><span class="sxs-lookup"><span data-stu-id="d0db4-139">**GetMessagePos**</span></span>](/windows/win32/api/winuser/nf-winuser-getmessagepos)                       | <span data-ttu-id="d0db4-140">Возвращает позицию курсора для последнего сообщения, полученного функцией with [**Message**](/windows/win32/api/winuser/nf-winuser-getmessage) .</span><span class="sxs-lookup"><span data-stu-id="d0db4-140">Retrieves the cursor position for the last message retrieved by the [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage) function.</span></span> <br/> <span data-ttu-id="d0db4-141">Чтобы определить текущую позицию курсора, используйте функцию [**жеткурсорпос**](/windows/desktop/api/winuser/nf-winuser-getcursorpos) .</span><span class="sxs-lookup"><span data-stu-id="d0db4-141">To determine the current position of the cursor, use the [**GetCursorPos**](/windows/desktop/api/winuser/nf-winuser-getcursorpos) function.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                       |
| [<span data-ttu-id="d0db4-142">**жетмессажетиме**</span><span class="sxs-lookup"><span data-stu-id="d0db4-142">**GetMessageTime**</span></span>](/windows/win32/api/winuser/nf-winuser-getmessagetime)                     | <span data-ttu-id="d0db4-143">Возвращает время сообщения для последнего сообщения, полученного функцией with [**Message**](/windows/win32/api/winuser/nf-winuser-getmessage) .</span><span class="sxs-lookup"><span data-stu-id="d0db4-143">Retrieves the message time for the last message retrieved by the [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage) function.</span></span> <span data-ttu-id="d0db4-144">Время представляет собой длинное целое число, указывающее время (в миллисекундах) с момента запуска системы до момента создания сообщения (то есть помещается в очередь сообщений потока).</span><span class="sxs-lookup"><span data-stu-id="d0db4-144">The time is a long integer that specifies the elapsed time, in milliseconds, from the time the system was started to the time the message was created (that is, placed in the thread's message queue).</span></span> <br/>                                                                                                                                                                                                                                                                         |
| [<span data-ttu-id="d0db4-145">**жеткуеуестатус**</span><span class="sxs-lookup"><span data-stu-id="d0db4-145">**GetQueueStatus**</span></span>](/windows/win32/api/winuser/nf-winuser-getqueuestatus)                     | <span data-ttu-id="d0db4-146">Указывает тип сообщений, найденных в очереди сообщений вызывающего потока.</span><span class="sxs-lookup"><span data-stu-id="d0db4-146">Indicates the type of messages found in the calling thread's message queue.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| [<span data-ttu-id="d0db4-147">**SendMessage**</span><span class="sxs-lookup"><span data-stu-id="d0db4-147">**InSendMessage**</span></span>](/windows/win32/api/winuser/nf-winuser-insendmessage)                       | <span data-ttu-id="d0db4-148">Определяет, обрабатывает ли текущая оконная процедура сообщение, отправленное из другого потока (в том же процессе или в другом процессе), путем вызова функции [**SendMessage**](/windows/win32/api/winuser/nf-winuser-sendmessage) .</span><span class="sxs-lookup"><span data-stu-id="d0db4-148">Determines whether the current window procedure is processing a message that was sent from another thread (in the same process or a different process) by a call to the [**SendMessage**](/windows/win32/api/winuser/nf-winuser-sendmessage) function.</span></span> <br/> <span data-ttu-id="d0db4-149">Чтобы получить дополнительные сведения о том, как сообщение было отправлено, используйте функцию [**инсендмессажеекс**](/windows/win32/api/winuser/nf-winuser-insendmessageex) .</span><span class="sxs-lookup"><span data-stu-id="d0db4-149">To obtain additional information about how the message was sent, use the [**InSendMessageEx**](/windows/win32/api/winuser/nf-winuser-insendmessageex) function.</span></span><br/>                                                                                                                                                                                                                              |
| [<span data-ttu-id="d0db4-150">**инсендмессажеекс**</span><span class="sxs-lookup"><span data-stu-id="d0db4-150">**InSendMessageEx**</span></span>](/windows/win32/api/winuser/nf-winuser-insendmessageex)                   | <span data-ttu-id="d0db4-151">Определяет, обрабатывает ли текущая оконная процедура сообщение, отправленное из другого потока (в том же или другом процессе).</span><span class="sxs-lookup"><span data-stu-id="d0db4-151">Determines whether the current window procedure is processing a message that was sent from another thread (in the same process or a different process).</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| [<span data-ttu-id="d0db4-152">**PeekMessage**</span><span class="sxs-lookup"><span data-stu-id="d0db4-152">**PeekMessage**</span></span>](/windows/win32/api/winuser/nf-winuser-peekmessagea)                           | <span data-ttu-id="d0db4-153">Отправляет входящие отправленные сообщения, проверяет очередь сообщений потока на наличие отправленного сообщения и получает сообщение (если оно существует).</span><span class="sxs-lookup"><span data-stu-id="d0db4-153">Dispatches incoming sent messages, checks the thread message queue for a posted message, and retrieves the message (if any exist).</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| [<span data-ttu-id="d0db4-154">**PostMessage**</span><span class="sxs-lookup"><span data-stu-id="d0db4-154">**PostMessage**</span></span>](/windows/win32/api/winuser/nf-winuser-postmessagea)                           | <span data-ttu-id="d0db4-155">Отправляет сообщение в очередь сообщений, связанную с потоком, создавшим указанное окно, и возвращает, не дожидаясь обработки сообщения потоком.</span><span class="sxs-lookup"><span data-stu-id="d0db4-155">Posts a message in the message queue associated with the thread that created the specified window and returns without waiting for the thread to process the message.</span></span> <br/> <span data-ttu-id="d0db4-156">Чтобы опубликовать сообщение в очереди сообщений, связанной с потоком, используйте функцию [**постсреадмессаже**](/windows/win32/api/winuser/nf-winuser-postthreadmessagea) .</span><span class="sxs-lookup"><span data-stu-id="d0db4-156">To post a message in the message queue associated with a thread, use the [**PostThreadMessage**](/windows/win32/api/winuser/nf-winuser-postthreadmessagea) function.</span></span><br/>                                                                                                                                                                                                                                                                          |
| [<span data-ttu-id="d0db4-157">**посткуитмессаже**</span><span class="sxs-lookup"><span data-stu-id="d0db4-157">**PostQuitMessage**</span></span>](/windows/win32/api/winuser/nf-winuser-postquitmessage)                   | <span data-ttu-id="d0db4-158">Указывает системе, что поток сделал запрос на завершение (Quit).</span><span class="sxs-lookup"><span data-stu-id="d0db4-158">Indicates to the system that a thread has made a request to terminate (quit).</span></span> <span data-ttu-id="d0db4-159">Обычно он используется в ответ на сообщение об [**\_ уничтожении WM**](wm-destroy.md) .</span><span class="sxs-lookup"><span data-stu-id="d0db4-159">It is typically used in response to a [**WM\_DESTROY**](wm-destroy.md) message.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                              |
| [<span data-ttu-id="d0db4-160">**постсреадмессаже**</span><span class="sxs-lookup"><span data-stu-id="d0db4-160">**PostThreadMessage**</span></span>](/windows/win32/api/winuser/nf-winuser-postthreadmessagea)               | <span data-ttu-id="d0db4-161">Отправляет сообщение в очередь сообщений указанного потока.</span><span class="sxs-lookup"><span data-stu-id="d0db4-161">Posts a message to the message queue of the specified thread.</span></span> <span data-ttu-id="d0db4-162">Он возвращает значение без ожидания обработки сообщения потоком.</span><span class="sxs-lookup"><span data-stu-id="d0db4-162">It returns without waiting for the thread to process the message.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| [<span data-ttu-id="d0db4-163">**регистервиндовмессаже**</span><span class="sxs-lookup"><span data-stu-id="d0db4-163">**RegisterWindowMessage**</span></span>](/windows/win32/api/winuser/nf-winuser-registerwindowmessagea)       | <span data-ttu-id="d0db4-164">Определяет новое сообщение окна, которое гарантированно уникально в пределах всей системы.</span><span class="sxs-lookup"><span data-stu-id="d0db4-164">Defines a new window message that is guaranteed to be unique throughout the system.</span></span> <span data-ttu-id="d0db4-165">Значение сообщения можно использовать при отправке или публикации сообщений.</span><span class="sxs-lookup"><span data-stu-id="d0db4-165">The message value can be used when sending or posting messages.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| [<span data-ttu-id="d0db4-166">**реплимессаже**</span><span class="sxs-lookup"><span data-stu-id="d0db4-166">**ReplyMessage**</span></span>](/windows/win32/api/winuser/nf-winuser-replymessage)                         | <span data-ttu-id="d0db4-167">Ответ на сообщение, отправленное через функцию [**SendMessage**](/windows/win32/api/winuser/nf-winuser-sendmessage) без возврата управления функции, которая вызвала **SendMessage**.</span><span class="sxs-lookup"><span data-stu-id="d0db4-167">Replies to a message sent through the [**SendMessage**](/windows/win32/api/winuser/nf-winuser-sendmessage) function without returning control to the function that called **SendMessage**.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| [<span data-ttu-id="d0db4-168">*сендасинкпрок*</span><span class="sxs-lookup"><span data-stu-id="d0db4-168">*SendAsyncProc*</span></span>](/windows/win32/api/winuser/nc-winuser-sendasyncproc)                         | <span data-ttu-id="d0db4-169">Определяемая приложением функция обратного вызова, используемая с функцией [**сендмессажекаллбакк**](/windows/win32/api/winuser/nf-winuser-sendmessagecallbacka) .</span><span class="sxs-lookup"><span data-stu-id="d0db4-169">An application-defined callback function used with the [**SendMessageCallback**](/windows/win32/api/winuser/nf-winuser-sendmessagecallbacka) function.</span></span> <span data-ttu-id="d0db4-170">Система передает сообщение в функцию обратного вызова после передачи сообщения в конечную процедуру окна назначения.</span><span class="sxs-lookup"><span data-stu-id="d0db4-170">The system passes the message to the callback function after passing the message to the destination window procedure.</span></span> <span data-ttu-id="d0db4-171">Тип **сендасинкпрок** определяет указатель на эту функцию обратного вызова.</span><span class="sxs-lookup"><span data-stu-id="d0db4-171">The **SENDASYNCPROC** type defines a pointer to this callback function.</span></span> <span data-ttu-id="d0db4-172">[*Сендасинкпрок*](/windows/win32/api/winuser/nc-winuser-sendasyncproc) — это заполнитель для имени определяемой приложением функции.</span><span class="sxs-lookup"><span data-stu-id="d0db4-172">[*SendAsyncProc*](/windows/win32/api/winuser/nc-winuser-sendasyncproc) is a placeholder for the application-defined function name.</span></span><br/>                                                                                                                                                                          |
| [<span data-ttu-id="d0db4-173">**SendMessage**</span><span class="sxs-lookup"><span data-stu-id="d0db4-173">**SendMessage**</span></span>](/windows/win32/api/winuser/nf-winuser-sendmessage)                           | <span data-ttu-id="d0db4-174">Отправляет указанное сообщение в окно или в окна.</span><span class="sxs-lookup"><span data-stu-id="d0db4-174">Sends the specified message to a window or windows.</span></span> <span data-ttu-id="d0db4-175">Функция [**SendMessage**](/windows/win32/api/winuser/nf-winuser-sendmessage) вызывает процедуру окна для указанного окна и не возвращает значение до тех пор, пока процедура окна не обработала сообщение.</span><span class="sxs-lookup"><span data-stu-id="d0db4-175">The [**SendMessage**](/windows/win32/api/winuser/nf-winuser-sendmessage) function calls the window procedure for the specified window and does not return until the window procedure has processed the message.</span></span> <br/> <span data-ttu-id="d0db4-176">Чтобы отправить сообщение и вернуться немедленно, используйте функцию [**сендмессажекаллбакк**](/windows/win32/api/winuser/nf-winuser-sendmessagecallbacka) или [**сенднотифимессаже**](/windows/win32/api/winuser/nf-winuser-sendnotifymessagea) .</span><span class="sxs-lookup"><span data-stu-id="d0db4-176">To send a message and return immediately, use the [**SendMessageCallback**](/windows/win32/api/winuser/nf-winuser-sendmessagecallbacka) or [**SendNotifyMessage**](/windows/win32/api/winuser/nf-winuser-sendnotifymessagea) function.</span></span> <span data-ttu-id="d0db4-177">Чтобы опубликовать сообщение в очереди сообщений потока и сразу же вернуться, используйте функцию [**постсреадмессаже**](/windows/win32/api/winuser/nf-winuser-postthreadmessagea) или [**Message**](/windows/win32/api/winuser/nf-winuser-postmessagea) .</span><span class="sxs-lookup"><span data-stu-id="d0db4-177">To post a message to a thread's message queue and return immediately, use the [**PostMessage**](/windows/win32/api/winuser/nf-winuser-postmessagea) or [**PostThreadMessage**](/windows/win32/api/winuser/nf-winuser-postthreadmessagea) function.</span></span><br/> |
| [<span data-ttu-id="d0db4-178">**сендмессажекаллбакк**</span><span class="sxs-lookup"><span data-stu-id="d0db4-178">**SendMessageCallback**</span></span>](/windows/win32/api/winuser/nf-winuser-sendmessagecallbacka)           | <span data-ttu-id="d0db4-179">Отправляет указанное сообщение в окно или в окна.</span><span class="sxs-lookup"><span data-stu-id="d0db4-179">Sends the specified message to a window or windows.</span></span> <span data-ttu-id="d0db4-180">Он вызывает процедуру окна для указанного окна и сразу же возвращает.</span><span class="sxs-lookup"><span data-stu-id="d0db4-180">It calls the window procedure for the specified window and returns immediately.</span></span> <span data-ttu-id="d0db4-181">После того, как процедура окна обработает сообщение, система вызывает указанную функцию обратного вызова, передавая результат обработки сообщения и значение, определенное приложением, в функцию обратного вызова.</span><span class="sxs-lookup"><span data-stu-id="d0db4-181">After the window procedure processes the message, the system calls the specified callback function, passing the result of the message processing and an application-defined value to the callback function.</span></span><br/>                                                                                                                                                                                                                                             |
| [<span data-ttu-id="d0db4-182">**Функции sendmessagetimeout**</span><span class="sxs-lookup"><span data-stu-id="d0db4-182">**SendMessageTimeout**</span></span>](/windows/win32/api/winuser/nf-winuser-sendmessagetimeouta)             | <span data-ttu-id="d0db4-183">Отправляет указанное сообщение в одно из нескольких окон.</span><span class="sxs-lookup"><span data-stu-id="d0db4-183">Sends the specified message to one of more windows.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| [<span data-ttu-id="d0db4-184">**сенднотифимессаже**</span><span class="sxs-lookup"><span data-stu-id="d0db4-184">**SendNotifyMessage**</span></span>](/windows/win32/api/winuser/nf-winuser-sendnotifymessagea)               | <span data-ttu-id="d0db4-185">Отправляет указанное сообщение в окно или в окна.</span><span class="sxs-lookup"><span data-stu-id="d0db4-185">Sends the specified message to a window or windows.</span></span> <span data-ttu-id="d0db4-186">Если окно было создано вызывающим потоком, [**сенднотифимессаже**](/windows/win32/api/winuser/nf-winuser-sendnotifymessagea) вызывает процедуру окна для окна и не возвращает значение до тех пор, пока процедура окна не обработала сообщение.</span><span class="sxs-lookup"><span data-stu-id="d0db4-186">If the window was created by the calling thread, [**SendNotifyMessage**](/windows/win32/api/winuser/nf-winuser-sendnotifymessagea) calls the window procedure for the window and does not return until the window procedure has processed the message.</span></span> <span data-ttu-id="d0db4-187">Если окно было создано другим потоком, **сенднотифимессаже** передает сообщение в процедуру окна и немедленно возвращает результат. Он не ждет завершения обработки сообщения процедурой Window.</span><span class="sxs-lookup"><span data-stu-id="d0db4-187">If the window was created by a different thread, **SendNotifyMessage** passes the message to the window procedure and returns immediately; it does not wait for the window procedure to finish processing the message.</span></span><br/>                                                                                              |
| [<span data-ttu-id="d0db4-188">**сетмессажеекстраинфо**</span><span class="sxs-lookup"><span data-stu-id="d0db4-188">**SetMessageExtraInfo**</span></span>](/windows/win32/api/winuser/nf-winuser-setmessageextrainfo)           | <span data-ttu-id="d0db4-189">Задает дополнительные сведения о сообщении для текущего потока.</span><span class="sxs-lookup"><span data-stu-id="d0db4-189">Sets the extra message information for the current thread.</span></span> <span data-ttu-id="d0db4-190">Дополнительные сведения о сообщении — это значение, определенное приложением или драйвером, связанное с очередью сообщений текущего потока.</span><span class="sxs-lookup"><span data-stu-id="d0db4-190">Extra message information is an application- or driver-defined value associated with the current thread's message queue.</span></span> <span data-ttu-id="d0db4-191">Приложение может использовать функцию [**жетмессажеекстраинфо**](/windows/win32/api/winuser/nf-winuser-getmessageextrainfo) для получения дополнительных сведений о сообщении о потоке.</span><span class="sxs-lookup"><span data-stu-id="d0db4-191">An application can use the [**GetMessageExtraInfo**](/windows/win32/api/winuser/nf-winuser-getmessageextrainfo) function to retrieve a thread's extra message information.</span></span><br/>                                                                                                                                                                                                                                                                |
| [<span data-ttu-id="d0db4-192">**TranslateMessage**</span><span class="sxs-lookup"><span data-stu-id="d0db4-192">**TranslateMessage**</span></span>](/windows/win32/api/winuser/nf-winuser-translatemessage)                 | <span data-ttu-id="d0db4-193">Преобразует сообщения виртуального ключа в символьные сообщения.</span><span class="sxs-lookup"><span data-stu-id="d0db4-193">Translates virtual-key messages into character messages.</span></span> <span data-ttu-id="d0db4-194">Символьные сообщения отправляются в очередь сообщений вызывающего потока для чтения при следующем вызове потоком функции [**PeekMessage**](/windows/win32/api/winuser/nf-winuser-peekmessagea) . [](/windows/win32/api/winuser/nf-winuser-getmessage)</span><span class="sxs-lookup"><span data-stu-id="d0db4-194">The character messages are posted to the calling thread's message queue, to be read the next time the thread calls the [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage) or [**PeekMessage**](/windows/win32/api/winuser/nf-winuser-peekmessagea) function.</span></span><br/>                                                                                                                                                                                                                                                                                                                            |
| [<span data-ttu-id="d0db4-195">**ваитмессаже**</span><span class="sxs-lookup"><span data-stu-id="d0db4-195">**WaitMessage**</span></span>](/windows/win32/api/winuser/nf-winuser-waitmessage)                           | <span data-ttu-id="d0db4-196">Передает управление другим потокам, если в очереди сообщений потока нет других сообщений.</span><span class="sxs-lookup"><span data-stu-id="d0db4-196">Yields control to other threads when a thread has no other messages in its message queue.</span></span> <span data-ttu-id="d0db4-197">Функция [**ваитмессаже**](/windows/win32/api/winuser/nf-winuser-waitmessage) приостанавливает поток и не возвращает результат, пока в очередь сообщений потока не помещается новое сообщение.</span><span class="sxs-lookup"><span data-stu-id="d0db4-197">The [**WaitMessage**](/windows/win32/api/winuser/nf-winuser-waitmessage) function suspends the thread and does not return until a new message is placed in the thread's message queue.</span></span><br/>                                                                                                                                                                                                                                                                                                                                              |



 

### <a name="message-constants"></a><span data-ttu-id="d0db4-198">Константы сообщений</span><span class="sxs-lookup"><span data-stu-id="d0db4-198">Message Constants</span></span>



| <span data-ttu-id="d0db4-199">Имя</span><span class="sxs-lookup"><span data-stu-id="d0db4-199">Name</span></span>                             | <span data-ttu-id="d0db4-200">Описание</span><span class="sxs-lookup"><span data-stu-id="d0db4-200">Description</span></span>                                                                    |
|----------------------------------|--------------------------------------------------------------------------------|
| [<span data-ttu-id="d0db4-201">**\_ \_ базовый OCM**</span><span class="sxs-lookup"><span data-stu-id="d0db4-201">**OCM\_\_BASE**</span></span>](ocm--base.md) | <span data-ttu-id="d0db4-202">Используется для определения частных сообщений для использования закрытыми классами окон.</span><span class="sxs-lookup"><span data-stu-id="d0db4-202">Used to define private messages for use by private window classes.</span></span> <br/> |
| [<span data-ttu-id="d0db4-203">**\_приложение WM**</span><span class="sxs-lookup"><span data-stu-id="d0db4-203">**WM\_APP**</span></span>](wm-app.md)        | <span data-ttu-id="d0db4-204">Используется для определения частных сообщений.</span><span class="sxs-lookup"><span data-stu-id="d0db4-204">Used to define private messages.</span></span> <br/>                                   |
| [<span data-ttu-id="d0db4-205">**\_пользователь WM**</span><span class="sxs-lookup"><span data-stu-id="d0db4-205">**WM\_USER**</span></span>](wm-user.md)      | <span data-ttu-id="d0db4-206">Используется тодефине частных сообщений для использования закрытыми классами окон.</span><span class="sxs-lookup"><span data-stu-id="d0db4-206">Used todefine private messages for use by private window classes.</span></span> <br/>  |



 

### <a name="message-structures"></a><span data-ttu-id="d0db4-207">Структуры сообщений</span><span class="sxs-lookup"><span data-stu-id="d0db4-207">Message Structures</span></span>



| <span data-ttu-id="d0db4-208">Имя</span><span class="sxs-lookup"><span data-stu-id="d0db4-208">Name</span></span>                       | <span data-ttu-id="d0db4-209">Описание</span><span class="sxs-lookup"><span data-stu-id="d0db4-209">Description</span></span>                                                                                                                              |
|----------------------------|------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="d0db4-210">**бсминфо**</span><span class="sxs-lookup"><span data-stu-id="d0db4-210">**BSMINFO**</span></span>](/windows/win32/api/winuser/ns-winuser-bsminfo) | <span data-ttu-id="d0db4-211">Содержит сведения о окне, которое отклонило запрос от [**броадкастсистеммессажеекс**](/windows/win32/api/winuser/nf-winuser-broadcastsystemmessageexa).</span><span class="sxs-lookup"><span data-stu-id="d0db4-211">Contains information about a window that denied a request from [**BroadcastSystemMessageEx**](/windows/win32/api/winuser/nf-winuser-broadcastsystemmessageexa).</span></span> <br/> |
| [<span data-ttu-id="d0db4-212">**ОБ**</span><span class="sxs-lookup"><span data-stu-id="d0db4-212">**MSG**</span></span>](/windows/win32/api/winuser/ns-winuser-msg)         | <span data-ttu-id="d0db4-213">Содержит информацию сообщения из очереди сообщений потока.</span><span class="sxs-lookup"><span data-stu-id="d0db4-213">Contains message information from a thread's message queue.</span></span> <br/>                                                                  |



 

 

