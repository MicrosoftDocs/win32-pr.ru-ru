---
title: Около крышки
description: В этом разделе рассматриваются символы крышки.
ms.assetid: 4487c93c-9a0f-467c-86b1-969f664d5526
keywords:
- ресурсы, символы крышки
- крышки, удаление
- Мигающие линии
- Мигающие блоки
- Мигающие растровые изображения
- крышки, видимость
- крышки, мигающие моменты
- мерцание времени
- крышки, позиции
- Удаление крышки
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 4a19eb3895ada13297f090a09529b2bcb7c75dee
ms.sourcegitcommit: ebd3ce6908ff865f1ef66f2fc96769be0aad82e1
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/19/2020
ms.locfileid: "105700863"
---
# <a name="about-carets"></a><span data-ttu-id="6e776-113">Около крышки</span><span class="sxs-lookup"><span data-stu-id="6e776-113">About Carets</span></span>

<span data-ttu-id="6e776-114">Система предоставляет один курсор на очередь сообщений.</span><span class="sxs-lookup"><span data-stu-id="6e776-114">The system provides one caret per message queue.</span></span> <span data-ttu-id="6e776-115">Окно должно создавать курсор, только если он имеет фокус клавиатуры или активен.</span><span class="sxs-lookup"><span data-stu-id="6e776-115">A window should create a caret only when it has the keyboard focus or is active.</span></span> <span data-ttu-id="6e776-116">Окно должно уничтожить курсор перед тем, как теряет фокус клавиатуры или становится неактивным.</span><span class="sxs-lookup"><span data-stu-id="6e776-116">The window should destroy the caret before losing the keyboard focus or becoming inactive.</span></span> <span data-ttu-id="6e776-117">Дополнительные сведения о вводе с клавиатуры см. в разделе [Ввод с клавиатуры](/windows/desktop/inputdev/keyboard-input).</span><span class="sxs-lookup"><span data-stu-id="6e776-117">For more information on keyboard input, see [Keyboard Input](/windows/desktop/inputdev/keyboard-input).</span></span>

<span data-ttu-id="6e776-118">Используйте функцию [**креатекарет**](/windows/desktop/api/Winuser/nf-winuser-createcaret) , чтобы указать параметры для курсора.</span><span class="sxs-lookup"><span data-stu-id="6e776-118">Use the [**CreateCaret**](/windows/desktop/api/Winuser/nf-winuser-createcaret) function to specify the parameters for a caret.</span></span> <span data-ttu-id="6e776-119">Система формирует курсор путем инвертирования цвета пикселя в прямоугольнике, заданном положением, шириной и высотой курсора.</span><span class="sxs-lookup"><span data-stu-id="6e776-119">The system forms a caret by inverting the pixel color within the rectangle specified by the caret's position, width, and height.</span></span> <span data-ttu-id="6e776-120">Ширина и высота указываются в логических единицах. Таким образом, внешний вид курсора подчиняется режиму сопоставления окна.</span><span class="sxs-lookup"><span data-stu-id="6e776-120">The width and height are specified in logical units; therefore, the appearance of a caret is subject to the window's mapping mode.</span></span>

<span data-ttu-id="6e776-121">В этом разделе рассматриваются следующие темы.</span><span class="sxs-lookup"><span data-stu-id="6e776-121">The following topics are discussed in this section.</span></span>

-   [<span data-ttu-id="6e776-122">Видимость курсора</span><span class="sxs-lookup"><span data-stu-id="6e776-122">Caret Visibility</span></span>](#caret-visibility)
-   [<span data-ttu-id="6e776-123">Время мерцания курсора</span><span class="sxs-lookup"><span data-stu-id="6e776-123">Caret Blink Time</span></span>](#caret-blink-time)
-   [<span data-ttu-id="6e776-124">Позиции курсора</span><span class="sxs-lookup"><span data-stu-id="6e776-124">Caret Position</span></span>](#caret-position)
-   [<span data-ttu-id="6e776-125">Удаление курсора</span><span class="sxs-lookup"><span data-stu-id="6e776-125">Removing a Caret</span></span>](#removing-a-caret)

## <a name="caret-visibility"></a><span data-ttu-id="6e776-126">Видимость курсора</span><span class="sxs-lookup"><span data-stu-id="6e776-126">Caret Visibility</span></span>

<span data-ttu-id="6e776-127">После определения курсора используйте функцию [**шовкарет**](/windows/desktop/api/Winuser/nf-winuser-showcaret) , чтобы сделать курсор видимым.</span><span class="sxs-lookup"><span data-stu-id="6e776-127">After the caret is defined, use the [**ShowCaret**](/windows/desktop/api/Winuser/nf-winuser-showcaret) function to make the caret visible.</span></span> <span data-ttu-id="6e776-128">Когда появится курсор, он автоматически начнет мигать.</span><span class="sxs-lookup"><span data-stu-id="6e776-128">When the caret appears, it automatically begins flashing.</span></span> <span data-ttu-id="6e776-129">Чтобы отобразить сплошной курсор, система инвертирует каждый пиксель в прямоугольнике. чтобы отобразить серый курсор, система инвертирует все остальные Пиксели. чтобы отобразить знак крышки, система инвертирует только белые биты точечного рисунка.</span><span class="sxs-lookup"><span data-stu-id="6e776-129">To display a solid caret, the system inverts every pixel in the rectangle; to display a gray caret, the system inverts every other pixel; to display a bitmap caret, the system inverts only the white bits of the bitmap.</span></span>

## <a name="caret-blink-time"></a><span data-ttu-id="6e776-130">Время мерцания курсора</span><span class="sxs-lookup"><span data-stu-id="6e776-130">Caret Blink Time</span></span>

<span data-ttu-id="6e776-131">Затраченное время (в миллисекундах), необходимое для инвертирования курсора, называется *временем мигания*.</span><span class="sxs-lookup"><span data-stu-id="6e776-131">The elapsed time, in milliseconds, required to invert the caret is called the *blink time*.</span></span> <span data-ttu-id="6e776-132">Курсор будет мигать, пока поток, владеющий очередью сообщений, имеет конвейер обработки сообщений, обрабатывающий сообщения.</span><span class="sxs-lookup"><span data-stu-id="6e776-132">The caret will blink as long as the thread that owns the message queue has a message pump processing the messages.</span></span>

<span data-ttu-id="6e776-133">Пользователь может задать время мерцания курсора с помощью панели управления, и приложения должны учитывать параметры, выбранные пользователем.</span><span class="sxs-lookup"><span data-stu-id="6e776-133">The user can set the blink time of the caret using the Control Panel and applications should respect the settings that the user has chosen.</span></span> <span data-ttu-id="6e776-134">Приложение может определить время мерцания курсора с помощью функции [**жеткаретблинктиме**](/windows/desktop/api/Winuser/nf-winuser-getcaretblinktime) .</span><span class="sxs-lookup"><span data-stu-id="6e776-134">An application can determine the caret's blink time by using the [**GetCaretBlinkTime**](/windows/desktop/api/Winuser/nf-winuser-getcaretblinktime) function.</span></span> <span data-ttu-id="6e776-135">При написании приложения, позволяющего пользователю настраивать время мерцания, например приложение панели управления, используйте функцию [**сеткаретблинктиме**](/windows/desktop/api/Winuser/nf-winuser-setcaretblinktime) , чтобы установить частоту мерцания в указанное число миллисекунд.</span><span class="sxs-lookup"><span data-stu-id="6e776-135">If you are writing an application that allows the user to adjust the blink time, such as a Control Panel applet, use the [**SetCaretBlinkTime**](/windows/desktop/api/Winuser/nf-winuser-setcaretblinktime) function to set the rate of the blink time to a specified number of milliseconds.</span></span>

<span data-ttu-id="6e776-136">*Время* в миллисекундах — это время, затраченное на отображение, инверсию и восстановление экрана курсора, в мс.</span><span class="sxs-lookup"><span data-stu-id="6e776-136">The *flash time* is the elapsed time, in milliseconds, required to display, invert, and restore the caret's display.</span></span> <span data-ttu-id="6e776-137">Время мигания курсора вдвое больше времени мерцания.</span><span class="sxs-lookup"><span data-stu-id="6e776-137">The flash time of a caret is twice as much as the blink time.</span></span>

## <a name="caret-position"></a><span data-ttu-id="6e776-138">Позиции курсора</span><span class="sxs-lookup"><span data-stu-id="6e776-138">Caret Position</span></span>

<span data-ttu-id="6e776-139">Вы можете определить позиции курсора с помощью функции [**жеткаретпос**](/windows/desktop/api/Winuser/nf-winuser-getcaretpos) .</span><span class="sxs-lookup"><span data-stu-id="6e776-139">You can determine the position of the caret using the [**GetCaretPos**](/windows/desktop/api/Winuser/nf-winuser-getcaretpos) function.</span></span> <span data-ttu-id="6e776-140">Значение положения в клиентских координатах копируется в структуру, указанную параметром в **жеткаретпос**.</span><span class="sxs-lookup"><span data-stu-id="6e776-140">The position, in client coordinates, is copied to a structure specified by a parameter in **GetCaretPos**.</span></span> <span data-ttu-id="6e776-141">Приложение может перемещать курсор в окне с помощью функции [**сеткаретпос**](/windows/desktop/api/Winuser/nf-winuser-setcaretpos) .</span><span class="sxs-lookup"><span data-stu-id="6e776-141">An application can move a caret in a window by using the [**SetCaretPos**](/windows/desktop/api/Winuser/nf-winuser-setcaretpos) function.</span></span> <span data-ttu-id="6e776-142">Окно может перемещать курсор, только если он уже владеет курсором.</span><span class="sxs-lookup"><span data-stu-id="6e776-142">A window can move a caret only if it already owns the caret.</span></span> <span data-ttu-id="6e776-143">**Сеткаретпос** может перемещать курсор независимо от того, является ли он видимым.</span><span class="sxs-lookup"><span data-stu-id="6e776-143">**SetCaretPos** can move the caret whether it is visible or not.</span></span>

## <a name="removing-a-caret"></a><span data-ttu-id="6e776-144">Удаление курсора</span><span class="sxs-lookup"><span data-stu-id="6e776-144">Removing a Caret</span></span>

<span data-ttu-id="6e776-145">Вы можете временно удалить курсор, скрыв его, или навсегда удалить курсор, удалив его.</span><span class="sxs-lookup"><span data-stu-id="6e776-145">You can temporarily remove a caret by hiding it, or you can permanently remove the caret by destroying it.</span></span> <span data-ttu-id="6e776-146">Чтобы скрыть курсор, используйте функцию [**хидекарет**](/windows/desktop/api/Winuser/nf-winuser-hidecaret) .</span><span class="sxs-lookup"><span data-stu-id="6e776-146">To hide the caret, use the [**HideCaret**](/windows/desktop/api/Winuser/nf-winuser-hidecaret) function.</span></span> <span data-ttu-id="6e776-147">Это полезно в том случае, когда приложение должно перерисовывать экран при обработке сообщения, но должен отследить курсор.</span><span class="sxs-lookup"><span data-stu-id="6e776-147">This is useful when your application must redraw the screen while processing a message, but must keep the caret out of the way.</span></span> <span data-ttu-id="6e776-148">Когда приложение завершает рисование, оно может снова отобразить курсор с помощью функции [**шовкарет**](/windows/desktop/api/Winuser/nf-winuser-showcaret) .</span><span class="sxs-lookup"><span data-stu-id="6e776-148">When the application finishes drawing, it can display the caret again by using the [**ShowCaret**](/windows/desktop/api/Winuser/nf-winuser-showcaret) function.</span></span> <span data-ttu-id="6e776-149">Скрытие курсора не приводит к уничтожению его фигуры или недействительности курсора.</span><span class="sxs-lookup"><span data-stu-id="6e776-149">Hiding the caret does not destroy its shape or invalidate the insertion point.</span></span> <span data-ttu-id="6e776-150">Скрытие курсора является кумулятивным; то есть, если приложение вызывает **хидекарет** пять раз, оно также должно вызвать **шовкарет** пять раз, прежде чем курсор появится снова.</span><span class="sxs-lookup"><span data-stu-id="6e776-150">Hiding the caret is cumulative; that is, if the application calls **HideCaret** five times, it must also call **ShowCaret** five times before the caret will reappear.</span></span>

<span data-ttu-id="6e776-151">Чтобы удалить курсор с экрана и уничтожить его фигуру, используйте функцию [**дестройкарет**](/windows/desktop/api/Winuser/nf-winuser-destroycaret) .</span><span class="sxs-lookup"><span data-stu-id="6e776-151">To remove the caret from the screen and destroy its shape, use using the [**DestroyCaret**](/windows/desktop/api/Winuser/nf-winuser-destroycaret) function.</span></span> <span data-ttu-id="6e776-152">**Дестройкарет** уничтожает курсор, только если окно, вовлеченное в текущую задачу, принадлежит курсору.</span><span class="sxs-lookup"><span data-stu-id="6e776-152">**DestroyCaret** destroys the caret only if the window involved in the current task owns the caret.</span></span>

 

 