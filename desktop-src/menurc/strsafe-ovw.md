---
title: О Стрсафе. h
description: Низкая обработка буфера фрагментацией во многих проблемах безопасности, связанных с переполнением буфера.
ms.assetid: a104a260-1edb-441a-acf8-e2bd3a7d8235
keywords:
- строковые функции
- Стрсафе. h
- Функции стрсафе
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 7f9b993ccff6d085f3b1eb14c1920c4c633661df
ms.sourcegitcommit: ebd3ce6908ff865f1ef66f2fc96769be0aad82e1
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/19/2020
ms.locfileid: "105700865"
---
# <a name="about-strsafeh"></a><span data-ttu-id="c95dc-106">О Стрсафе. h</span><span class="sxs-lookup"><span data-stu-id="c95dc-106">About Strsafe.h</span></span>

<span data-ttu-id="c95dc-107">Низкая обработка буфера фрагментацией во многих проблемах безопасности, связанных с переполнением буфера.</span><span class="sxs-lookup"><span data-stu-id="c95dc-107">Poor buffer handling is implicated in many security issues that involve buffer overruns.</span></span> <span data-ttu-id="c95dc-108">Функции, определенные в Стрсафе. h, обеспечивают дополнительную обработку для правильной обработки буфера в коде.</span><span class="sxs-lookup"><span data-stu-id="c95dc-108">The functions defined in Strsafe.h provide additional processing for proper buffer handling in your code.</span></span> <span data-ttu-id="c95dc-109">По этой причине они предназначены для замены встроенных аналогов C/C++, а также конкретных реализаций Windows.</span><span class="sxs-lookup"><span data-stu-id="c95dc-109">For this reason, they are intended to replace their built-in C/C++ counterparts as well as specific Windows implementations.</span></span> <span data-ttu-id="c95dc-110">Стрсафе. h доступен в Windows SDK, начиная с Windows XP с пакетом обновления 2 (SP2).</span><span class="sxs-lookup"><span data-stu-id="c95dc-110">Strsafe.h is available in the Windows SDK starting with Windows XP with Service Pack 2 (SP2).</span></span>

<span data-ttu-id="c95dc-111">К преимуществам функций Стрсафе относятся:</span><span class="sxs-lookup"><span data-stu-id="c95dc-111">The advantages of the Strsafe functions include:</span></span>

-   <span data-ttu-id="c95dc-112">Размер буфера назначения всегда предоставляется функции, чтобы убедиться, что функция не выполняет запись после конца буфера.</span><span class="sxs-lookup"><span data-stu-id="c95dc-112">The size of the destination buffer is always provided to the function to ensure that the function does not write past the end of the buffer.</span></span>

-   <span data-ttu-id="c95dc-113">Буферы гарантированно завершаются нулем, даже если операция усекает предполагаемый результат.</span><span class="sxs-lookup"><span data-stu-id="c95dc-113">Buffers are guaranteed to be null-terminated, even if the operation truncates the intended result.</span></span>

-   <span data-ttu-id="c95dc-114">Все функции возвращают значение **HRESULT** с одним возможным кодом успешного выполнения (**\_ ОК**).</span><span class="sxs-lookup"><span data-stu-id="c95dc-114">All functions return an **HRESULT** value, with only one possible success code (**S\_OK**).</span></span>

-   <span data-ttu-id="c95dc-115">Каждая функция доступна в соответствующем количестве символов ("Кч") или количестве байт ("CB").</span><span class="sxs-lookup"><span data-stu-id="c95dc-115">Each function is available in a corresponding character count ("cch") or byte count ("cb") version.</span></span>

-   <span data-ttu-id="c95dc-116">Большинство функций имеют расширенную (ex) версию, доступную для расширенной функциональности.</span><span class="sxs-lookup"><span data-stu-id="c95dc-116">Most functions have an extended ("Ex") version available for advanced functionality.</span></span>

<span data-ttu-id="c95dc-117">Дополнительные сведения см. в следующих разделах.</span><span class="sxs-lookup"><span data-stu-id="c95dc-117">See the following sections for details.</span></span>

-   [<span data-ttu-id="c95dc-118">Функции счетчика символов</span><span class="sxs-lookup"><span data-stu-id="c95dc-118">Character Count Functions</span></span>](#character-count-functions)
-   [<span data-ttu-id="c95dc-119">Функции счетчика байтов</span><span class="sxs-lookup"><span data-stu-id="c95dc-119">Byte Count Functions</span></span>](#byte-count-functions)
-   [<span data-ttu-id="c95dc-120">Использование Стрсафе. h</span><span class="sxs-lookup"><span data-stu-id="c95dc-120">Using Strsafe.h</span></span>](#using-strsafeh)
-   [<span data-ttu-id="c95dc-121">См. также</span><span class="sxs-lookup"><span data-stu-id="c95dc-121">Related topics</span></span>](#related-topics)

## <a name="character-count-functions"></a><span data-ttu-id="c95dc-122">Функции счетчика символов</span><span class="sxs-lookup"><span data-stu-id="c95dc-122">Character Count Functions</span></span>

<span data-ttu-id="c95dc-123">Следующие функции используют число символов, а не число байтов.</span><span class="sxs-lookup"><span data-stu-id="c95dc-123">The following functions use a character count rather than a byte count.</span></span>



| <span data-ttu-id="c95dc-124">Функция</span><span class="sxs-lookup"><span data-stu-id="c95dc-124">Function</span></span>                                                                                                                                                                                                                      | <span data-ttu-id="c95dc-125">Меняющей</span><span class="sxs-lookup"><span data-stu-id="c95dc-125">Replaces</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <dl> <span data-ttu-id="c95dc-126"><dt>[**Стрингкчкат**](/windows/desktop/api/Strsafe/nf-strsafe-stringcchcata)</dt> <dt> [ **стрингкчкатекс**](/windows/desktop/api/Strsafe/nf-strsafe-stringcchcatexa)</dt></span><span class="sxs-lookup"><span data-stu-id="c95dc-126"><dt>[**StringCchCat**](/windows/desktop/api/Strsafe/nf-strsafe-stringcchcata)</dt> <dt>[**StringCchCatEx**](/windows/desktop/api/Strsafe/nf-strsafe-stringcchcatexa)</dt></span></span> </dl>                 | <dl> <span data-ttu-id="c95dc-127"><dt>[strcat, wcscat, \_ тксат](/cpp/c-runtime-library/reference/strcat-wcscat-mbscat?view=vs-2019)</dt> <dt>[**лстркат**](/windows/desktop/api/Winbase/nf-winbase-lstrcata)</dt> <dt>[**strcat**](/windows/desktop/api/shlwapi/nf-shlwapi-strcatw)</dt> <dt>[**стркатбуфф**](/windows/desktop/api/shlwapi/nf-shlwapi-strcatbuffa)</dt></span><span class="sxs-lookup"><span data-stu-id="c95dc-127"><dt>[strcat, wcscat, \_tcsat](/cpp/c-runtime-library/reference/strcat-wcscat-mbscat?view=vs-2019)</dt> <dt>[**lstrcat**](/windows/desktop/api/Winbase/nf-winbase-lstrcata)</dt> <dt>[**StrCat**](/windows/desktop/api/shlwapi/nf-shlwapi-strcatw)</dt> <dt>[**StrCatBuff**](/windows/desktop/api/shlwapi/nf-shlwapi-strcatbuffa)</dt></span></span> </dl>                                                                             |
| <dl> <span data-ttu-id="c95dc-128"><dt>[**Стрингкчкатн**](/windows/desktop/api/Strsafe/nf-strsafe-stringcchcatna)</dt> <dt> [ **стрингкчкатнекс**](/windows/desktop/api/Strsafe/nf-strsafe-stringcchcatnexa)</dt></span><span class="sxs-lookup"><span data-stu-id="c95dc-128"><dt>[**StringCchCatN**](/windows/desktop/api/Strsafe/nf-strsafe-stringcchcatna)</dt> <dt>[**StringCchCatNEx**](/windows/desktop/api/Strsafe/nf-strsafe-stringcchcatnexa)</dt></span></span> </dl>             | <dl> <span data-ttu-id="c95dc-129"><dt>[strncat](/cpp/c-runtime-library/reference/strncat-strncat-l-wcsncat-wcsncat-l-mbsncat-mbsncat-l?view=vs-2019)</dt> <dt> [ **strncat**](/windows/desktop/api/shlwapi/nf-shlwapi-strncata)</dt></span><span class="sxs-lookup"><span data-stu-id="c95dc-129"><dt>[strncat](/cpp/c-runtime-library/reference/strncat-strncat-l-wcsncat-wcsncat-l-mbsncat-mbsncat-l?view=vs-2019)</dt> <dt>[**StrNCat**](/windows/desktop/api/shlwapi/nf-shlwapi-strncata)</dt></span></span> </dl>                                                                                                                                                                                                                                                                   |
| <dl> <span data-ttu-id="c95dc-130"><dt>[**Стрингкчкопи**](/windows/desktop/api/Strsafe/nf-strsafe-stringcchcopya)</dt> <dt> [ **стрингкчкопекс**](/windows/desktop/api/Strsafe/nf-strsafe-stringcchcopyexa)</dt></span><span class="sxs-lookup"><span data-stu-id="c95dc-130"><dt>[**StringCchCopy**](/windows/desktop/api/Strsafe/nf-strsafe-stringcchcopya)</dt> <dt>[**StringCchCopyEx**](/windows/desktop/api/Strsafe/nf-strsafe-stringcchcopyexa)</dt></span></span> </dl>             | <dl> <span data-ttu-id="c95dc-131"><dt>[strcpy, wcscpy, \_ ткскпи](/cpp/c-runtime-library/reference/strcpy-wcscpy-mbscpy?view=vs-2019)</dt> <dt>[**лстркпи**](/windows/desktop/api/Winbase/nf-winbase-lstrcpya)</dt> <dt>[**strcpy**](/windows/desktop/api/shlwapi/nf-shlwapi-strcpyw)</dt></span><span class="sxs-lookup"><span data-stu-id="c95dc-131"><dt>[strcpy, wcscpy, \_tcscpy](/cpp/c-runtime-library/reference/strcpy-wcscpy-mbscpy?view=vs-2019)</dt> <dt>[**lstrcpy**](/windows/desktop/api/Winbase/nf-winbase-lstrcpya)</dt> <dt>[**StrCpy**](/windows/desktop/api/shlwapi/nf-shlwapi-strcpyw)</dt></span></span> </dl>                                                                                                                                                                    |
| <dl> <span data-ttu-id="c95dc-132"><dt>[**Стрингкчкопин**](/windows/desktop/api/Strsafe/nf-strsafe-stringcchcopyna)</dt> <dt> [ **стрингкчкопинекс**](/windows/desktop/api/Strsafe/nf-strsafe-stringcchcopynexa)</dt></span><span class="sxs-lookup"><span data-stu-id="c95dc-132"><dt>[**StringCchCopyN**](/windows/desktop/api/Strsafe/nf-strsafe-stringcchcopyna)</dt> <dt>[**StringCchCopyNEx**](/windows/desktop/api/Strsafe/nf-strsafe-stringcchcopynexa)</dt></span></span> </dl>         | <dl> <span data-ttu-id="c95dc-133"><dt>[strncpy, wcsncpy, \_ ткснкпи](/cpp/c-runtime-library/reference/strncpy-strncpy-l-wcsncpy-wcsncpy-l-mbsncpy-mbsncpy-l?view=vs-2019)</dt></span><span class="sxs-lookup"><span data-stu-id="c95dc-133"><dt>[strncpy, wcsncpy, \_tcsncpy](/cpp/c-runtime-library/reference/strncpy-strncpy-l-wcsncpy-wcsncpy-l-mbsncpy-mbsncpy-l?view=vs-2019)</dt></span></span> </dl>                                                                                                                                                                                                                                                                                                                                 |
| <dl> <span data-ttu-id="c95dc-134"><dt>[**Стрингкчжетс**](/windows/desktop/api/Strsafe/nf-strsafe-stringcchgetsa)</dt> <dt> [ **стрингкчжетсекс**](/windows/desktop/api/Strsafe/nf-strsafe-stringcchgetsexa)</dt></span><span class="sxs-lookup"><span data-stu-id="c95dc-134"><dt>[**StringCchGets**](/windows/desktop/api/Strsafe/nf-strsafe-stringcchgetsa)</dt> <dt>[**StringCchGetsEx**](/windows/desktop/api/Strsafe/nf-strsafe-stringcchgetsexa)</dt></span></span> </dl>             | <dl> <span data-ttu-id="c95dc-135"><dt>[Возвращает, \_ жетвс, \_ жеттс](/cpp/c-runtime-library/gets-getws?view=vs-2019)</dt></span><span class="sxs-lookup"><span data-stu-id="c95dc-135"><dt>[gets, \_getws, \_getts](/cpp/c-runtime-library/gets-getws?view=vs-2019)</dt></span></span> </dl>                                                                                                                                                                                                                                                                                                                                      |
| <dl> <span data-ttu-id="c95dc-136"><dt>[**Стрингкчпринтф**](/windows/desktop/api/Strsafe/nf-strsafe-stringcchprintfa)</dt> <dt> [ **стрингкчпринтфекс**](/windows/desktop/api/Strsafe/nf-strsafe-stringcchprintfexa)</dt></span><span class="sxs-lookup"><span data-stu-id="c95dc-136"><dt>[**StringCchPrintf**](/windows/desktop/api/Strsafe/nf-strsafe-stringcchprintfa)</dt> <dt>[**StringCchPrintfEx**](/windows/desktop/api/Strsafe/nf-strsafe-stringcchprintfexa)</dt></span></span> </dl>     | <dl> <span data-ttu-id="c95dc-137"><dt>[sprintf, swprintf, \_ стпринтф](/cpp/c-runtime-library/reference/sprintf-sprintf-l-swprintf-swprintf-l-swprintf-l?view=vs-2019)</dt> <dt>[**вспринтф**](/windows/desktop/api/Winuser/nf-winuser-wsprintfa)</dt> <dt>[**внспринтф**](/windows/desktop/api/shlwapi/nf-shlwapi-wnsprintfa)</dt> <dt>[ \_ snprintf, \_ снвпринтф, \_ снтпринтф](/cpp/c-runtime-library/reference/snprintf-snprintf-snprintf-l-snwprintf-snwprintf-l?view=vs-2019)</dt></span><span class="sxs-lookup"><span data-stu-id="c95dc-137"><dt>[sprintf, swprintf, \_stprintf](/cpp/c-runtime-library/reference/sprintf-sprintf-l-swprintf-swprintf-l-swprintf-l?view=vs-2019)</dt> <dt>[**wsprintf**](/windows/desktop/api/Winuser/nf-winuser-wsprintfa)</dt> <dt>[**wnsprintf**](/windows/desktop/api/shlwapi/nf-shlwapi-wnsprintfa)</dt> <dt>[\_snprintf, \_snwprintf, \_sntprintf](/cpp/c-runtime-library/reference/snprintf-snprintf-snprintf-l-snwprintf-snwprintf-l?view=vs-2019)</dt></span></span> </dl>          |
| <dl> <span data-ttu-id="c95dc-138"><dt>[**Стрингкчвпринтф**](/windows/desktop/api/Strsafe/nf-strsafe-stringcchvprintfa)</dt> <dt> [ **стрингкчвпринтфекс**](/windows/desktop/api/Strsafe/nf-strsafe-stringcchvprintfexa)</dt></span><span class="sxs-lookup"><span data-stu-id="c95dc-138"><dt>[**StringCchVPrintf**](/windows/desktop/api/Strsafe/nf-strsafe-stringcchvprintfa)</dt> <dt>[**StringCchVPrintfEx**](/windows/desktop/api/Strsafe/nf-strsafe-stringcchvprintfexa)</dt></span></span> </dl> | <dl> <span data-ttu-id="c95dc-139"><dt>[vsprintf, vswprintf, \_ встпринтф](/cpp/c-runtime-library/reference/vsprintf-vsprintf-l-vswprintf-vswprintf-l-vswprintf-l?view=vs-2019)</dt> <dt>[vsnprintf, \_ вснвпринтф, \_ вснтпринтф](/cpp/c-runtime-library/reference/vsnprintf-vsnprintf-vsnprintf-l-vsnwprintf-vsnwprintf-l?view=vs-2019)</dt> <dt>[**ввспринтф**](/windows/desktop/api/Winuser/nf-winuser-wvsprintfa)</dt> <dt>[**ввнспринтф**](/windows/desktop/api/shlwapi/nf-shlwapi-wvnsprintfa)</dt></span><span class="sxs-lookup"><span data-stu-id="c95dc-139"><dt>[vsprintf, vswprintf, \_vstprintf](/cpp/c-runtime-library/reference/vsprintf-vsprintf-l-vswprintf-vswprintf-l-vswprintf-l?view=vs-2019)</dt> <dt>[vsnprintf, \_vsnwprintf, \_vsntprintf](/cpp/c-runtime-library/reference/vsnprintf-vsnprintf-vsnprintf-l-vsnwprintf-vsnwprintf-l?view=vs-2019)</dt> <dt>[**wvsprintf**](/windows/desktop/api/Winuser/nf-winuser-wvsprintfa)</dt> <dt>[**wvnsprintf**](/windows/desktop/api/shlwapi/nf-shlwapi-wvnsprintfa)</dt></span></span> </dl><span data-ttu-id="c95dc-140">,</span><span class="sxs-lookup"><span data-stu-id="c95dc-140">,</span></span> |
| <dl> <span data-ttu-id="c95dc-141"><dt>[**стрингкчленгс**](/windows/desktop/api/Strsafe/nf-strsafe-stringcchlengtha)</dt></span><span class="sxs-lookup"><span data-stu-id="c95dc-141"><dt>[**StringCchLength**](/windows/desktop/api/Strsafe/nf-strsafe-stringcchlengtha)</dt></span></span> </dl>                                                                                                         | <dl> <span data-ttu-id="c95dc-142"><dt>[strlen, wcslen, \_ ткслен](/cpp/c-runtime-library/reference/strlen-wcslen-mbslen-mbslen-l-mbstrlen-mbstrlen-l?view=vs-2019)</dt></span><span class="sxs-lookup"><span data-stu-id="c95dc-142"><dt>[strlen, wcslen, \_tcslen](/cpp/c-runtime-library/reference/strlen-wcslen-mbslen-mbslen-l-mbstrlen-mbstrlen-l?view=vs-2019)</dt></span></span> </dl>                                                                                                                                                                                                                                                                                                                                    |



 

## <a name="byte-count-functions"></a><span data-ttu-id="c95dc-143">Функции счетчика байтов</span><span class="sxs-lookup"><span data-stu-id="c95dc-143">Byte Count Functions</span></span>

<span data-ttu-id="c95dc-144">Следующие функции используют число байтов, а не число символов.</span><span class="sxs-lookup"><span data-stu-id="c95dc-144">The following functions use a byte count rather than a character count.</span></span>



| <span data-ttu-id="c95dc-145">Функция</span><span class="sxs-lookup"><span data-stu-id="c95dc-145">Function</span></span>                                                                                                                                                                                                                  | <span data-ttu-id="c95dc-146">Меняющей</span><span class="sxs-lookup"><span data-stu-id="c95dc-146">Replaces</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <dl> <span data-ttu-id="c95dc-147"><dt>[**Стрингкбкат**](/windows/desktop/api/Strsafe/nf-strsafe-stringcbcata)</dt> <dt> [ **стрингкбкатекс**](/windows/desktop/api/Strsafe/nf-strsafe-stringcbcatexa)</dt></span><span class="sxs-lookup"><span data-stu-id="c95dc-147"><dt>[**StringCbCat**](/windows/desktop/api/Strsafe/nf-strsafe-stringcbcata)</dt> <dt>[**StringCbCatEx**](/windows/desktop/api/Strsafe/nf-strsafe-stringcbcatexa)</dt></span></span> </dl>                 | <dl> <span data-ttu-id="c95dc-148"><dt>[strcat, wcscat, \_ тксат](/cpp/c-runtime-library/reference/strcat-wcscat-mbscat?view=vs-2019)</dt> <dt>[**лстркат**](/windows/desktop/api/Winbase/nf-winbase-lstrcata)</dt> <dt>[**strcat**](/windows/desktop/api/shlwapi/nf-shlwapi-strcatw)</dt> <dt>[**стркатбуфф**](/windows/desktop/api/shlwapi/nf-shlwapi-strcatbuffa)</dt></span><span class="sxs-lookup"><span data-stu-id="c95dc-148"><dt>[strcat, wcscat, \_tcsat](/cpp/c-runtime-library/reference/strcat-wcscat-mbscat?view=vs-2019)</dt> <dt>[**lstrcat**](/windows/desktop/api/Winbase/nf-winbase-lstrcata)</dt> <dt>[**StrCat**](/windows/desktop/api/shlwapi/nf-shlwapi-strcatw)</dt> <dt>[**StrCatBuff**](/windows/desktop/api/shlwapi/nf-shlwapi-strcatbuffa)</dt></span></span> </dl>                                                                            |
| <dl> <span data-ttu-id="c95dc-149"><dt>[**Стрингкбкатн**](/windows/desktop/api/Strsafe/nf-strsafe-stringcbcatna)</dt> <dt> [ **стрингкбкатнекс**](/windows/desktop/api/Strsafe/nf-strsafe-stringcbcatnexa)</dt></span><span class="sxs-lookup"><span data-stu-id="c95dc-149"><dt>[**StringCbCatN**](/windows/desktop/api/Strsafe/nf-strsafe-stringcbcatna)</dt> <dt>[**StringCbCatNEx**](/windows/desktop/api/Strsafe/nf-strsafe-stringcbcatnexa)</dt></span></span> </dl>             | <dl> <span data-ttu-id="c95dc-150"><dt>[strncat](/cpp/c-runtime-library/reference/strncat-strncat-l-wcsncat-wcsncat-l-mbsncat-mbsncat-l?view=vs-2019)</dt> <dt> [ **strncat**](/windows/desktop/api/shlwapi/nf-shlwapi-strncata)</dt></span><span class="sxs-lookup"><span data-stu-id="c95dc-150"><dt>[strncat](/cpp/c-runtime-library/reference/strncat-strncat-l-wcsncat-wcsncat-l-mbsncat-mbsncat-l?view=vs-2019)</dt> <dt>[**StrNCat**](/windows/desktop/api/shlwapi/nf-shlwapi-strncata)</dt></span></span> </dl>                                                                                                                                                                                                                                                                  |
| <dl> <span data-ttu-id="c95dc-151"><dt>[**Стрингкбкопи**](/windows/desktop/api/Strsafe/nf-strsafe-stringcbcopya)</dt> <dt> [ **стрингкбкопекс**](/windows/desktop/api/Strsafe/nf-strsafe-stringcbcopyexa)</dt></span><span class="sxs-lookup"><span data-stu-id="c95dc-151"><dt>[**StringCbCopy**](/windows/desktop/api/Strsafe/nf-strsafe-stringcbcopya)</dt> <dt>[**StringCbCopyEx**](/windows/desktop/api/Strsafe/nf-strsafe-stringcbcopyexa)</dt></span></span> </dl>             | <dl> <span data-ttu-id="c95dc-152"><dt>[strcpy, wcscpy, \_ ткскпи](/cpp/c-runtime-library/reference/strcpy-wcscpy-mbscpy?view=vs-2019)</dt> <dt>[**лстркпи**](/windows/desktop/api/Winbase/nf-winbase-lstrcpya)</dt> <dt>[**strcpy**](/windows/desktop/api/shlwapi/nf-shlwapi-strcpyw)</dt></span><span class="sxs-lookup"><span data-stu-id="c95dc-152"><dt>[strcpy, wcscpy, \_tcscpy](/cpp/c-runtime-library/reference/strcpy-wcscpy-mbscpy?view=vs-2019)</dt> <dt>[**lstrcpy**](/windows/desktop/api/Winbase/nf-winbase-lstrcpya)</dt> <dt>[**StrCpy**](/windows/desktop/api/shlwapi/nf-shlwapi-strcpyw)</dt></span></span> </dl>                                                                                                                                                                   |
| <dl> <span data-ttu-id="c95dc-153"><dt>[**Стрингкбкопин**](/windows/desktop/api/Strsafe/nf-strsafe-stringcbcopyna)</dt> <dt> [ **стрингкбкопинекс**](/windows/desktop/api/Strsafe/nf-strsafe-stringcbcopynexa)</dt></span><span class="sxs-lookup"><span data-stu-id="c95dc-153"><dt>[**StringCbCopyN**](/windows/desktop/api/Strsafe/nf-strsafe-stringcbcopyna)</dt> <dt>[**StringCbCopyNEx**](/windows/desktop/api/Strsafe/nf-strsafe-stringcbcopynexa)</dt></span></span> </dl>         | <dl> <span data-ttu-id="c95dc-154"><dt>[strncpy, wcsncpy, \_ ткснкпи](/cpp/c-runtime-library/reference/strncpy-strncpy-l-wcsncpy-wcsncpy-l-mbsncpy-mbsncpy-l?view=vs-2019)</dt></span><span class="sxs-lookup"><span data-stu-id="c95dc-154"><dt>[strncpy, wcsncpy, \_tcsncpy](/cpp/c-runtime-library/reference/strncpy-strncpy-l-wcsncpy-wcsncpy-l-mbsncpy-mbsncpy-l?view=vs-2019)</dt></span></span> </dl>                                                                                                                                                                                                                                                                                                                                |
| <dl> <span data-ttu-id="c95dc-155"><dt>[**Стрингкбжетс**](/windows/desktop/api/Strsafe/nf-strsafe-stringcbgetsa)</dt> <dt> [ **стрингкбжетсекс**](/windows/desktop/api/Strsafe/nf-strsafe-stringcbgetsexa)</dt></span><span class="sxs-lookup"><span data-stu-id="c95dc-155"><dt>[**StringCbGets**](/windows/desktop/api/Strsafe/nf-strsafe-stringcbgetsa)</dt> <dt>[**StringCbGetsEx**](/windows/desktop/api/Strsafe/nf-strsafe-stringcbgetsexa)</dt></span></span> </dl>             | <dl> <span data-ttu-id="c95dc-156"><dt>[Возвращает, \_ жетвс, \_ жеттс](/cpp/c-runtime-library/gets-getws?view=vs-2019)</dt></span><span class="sxs-lookup"><span data-stu-id="c95dc-156"><dt>[gets, \_getws, \_getts](/cpp/c-runtime-library/gets-getws?view=vs-2019)</dt></span></span> </dl>                                                                                                                                                                                                                                                                                                                                     |
| <dl> <span data-ttu-id="c95dc-157"><dt>[**Стрингкбпринтф**](/windows/desktop/api/Strsafe/nf-strsafe-stringcbprintfa)</dt> <dt> [ **стрингкбпринтфекс**](/windows/desktop/api/Strsafe/nf-strsafe-stringcbprintfexa)</dt></span><span class="sxs-lookup"><span data-stu-id="c95dc-157"><dt>[**StringCbPrintf**](/windows/desktop/api/Strsafe/nf-strsafe-stringcbprintfa)</dt> <dt>[**StringCbPrintfEx**](/windows/desktop/api/Strsafe/nf-strsafe-stringcbprintfexa)</dt></span></span> </dl>     | <dl> <span data-ttu-id="c95dc-158"><dt>[sprintf, swprintf, \_ стпринтф](/cpp/c-runtime-library/reference/sprintf-sprintf-l-swprintf-swprintf-l-swprintf-l?view=vs-2019)</dt> <dt>[**вспринтф**](/windows/desktop/api/Winuser/nf-winuser-wsprintfa)</dt> <dt>[**внспринтф**](/windows/desktop/api/shlwapi/nf-shlwapi-wnsprintfa)</dt> <dt>[ \_ snprintf, \_ снвпринтф, \_ снтпринтф](/cpp/c-runtime-library/reference/snprintf-snprintf-snprintf-l-snwprintf-snwprintf-l?view=vs-2019)</dt></span><span class="sxs-lookup"><span data-stu-id="c95dc-158"><dt>[sprintf, swprintf, \_stprintf](/cpp/c-runtime-library/reference/sprintf-sprintf-l-swprintf-swprintf-l-swprintf-l?view=vs-2019)</dt> <dt>[**wsprintf**](/windows/desktop/api/Winuser/nf-winuser-wsprintfa)</dt> <dt>[**wnsprintf**](/windows/desktop/api/shlwapi/nf-shlwapi-wnsprintfa)</dt> <dt>[\_snprintf, \_snwprintf, \_sntprintf](/cpp/c-runtime-library/reference/snprintf-snprintf-snprintf-l-snwprintf-snwprintf-l?view=vs-2019)</dt></span></span> </dl>         |
| <dl> <span data-ttu-id="c95dc-159"><dt>[**Стрингкбвпринтф**](/windows/desktop/api/Strsafe/nf-strsafe-stringcbvprintfa)</dt> <dt> [ **стрингкбвпринтфекс**](/windows/desktop/api/Strsafe/nf-strsafe-stringcbvprintfexa)</dt></span><span class="sxs-lookup"><span data-stu-id="c95dc-159"><dt>[**StringCbVPrintf**](/windows/desktop/api/Strsafe/nf-strsafe-stringcbvprintfa)</dt> <dt>[**StringCbVPrintfEx**](/windows/desktop/api/Strsafe/nf-strsafe-stringcbvprintfexa)</dt></span></span> </dl> | <dl> <span data-ttu-id="c95dc-160"><dt>[vsprintf, vswprintf, \_ встпринтф](/cpp/c-runtime-library/reference/vsprintf-vsprintf-l-vswprintf-vswprintf-l-vswprintf-l?view=vs-2019)</dt> <dt>[vsnprintf, \_ вснвпринтф, \_ вснтпринтф](/cpp/c-runtime-library/reference/vsnprintf-vsnprintf-vsnprintf-l-vsnwprintf-vsnwprintf-l?view=vs-2019)</dt> <dt>[**ввспринтф**](/windows/desktop/api/Winuser/nf-winuser-wvsprintfa)</dt> <dt>[**ввнспринтф**](/windows/desktop/api/shlwapi/nf-shlwapi-wvnsprintfa)</dt></span><span class="sxs-lookup"><span data-stu-id="c95dc-160"><dt>[vsprintf, vswprintf, \_vstprintf](/cpp/c-runtime-library/reference/vsprintf-vsprintf-l-vswprintf-vswprintf-l-vswprintf-l?view=vs-2019)</dt> <dt>[vsnprintf, \_vsnwprintf, \_vsntprintf](/cpp/c-runtime-library/reference/vsnprintf-vsnprintf-vsnprintf-l-vsnwprintf-vsnwprintf-l?view=vs-2019)</dt> <dt>[**wvsprintf**](/windows/desktop/api/Winuser/nf-winuser-wvsprintfa)</dt> <dt>[**wvnsprintf**](/windows/desktop/api/shlwapi/nf-shlwapi-wvnsprintfa)</dt></span></span> </dl> |
| <dl> <span data-ttu-id="c95dc-161"><dt>[**стрингкбленгс**](/windows/desktop/api/Strsafe/nf-strsafe-stringcblengtha)</dt></span><span class="sxs-lookup"><span data-stu-id="c95dc-161"><dt>[**StringCbLength**](/windows/desktop/api/Strsafe/nf-strsafe-stringcblengtha)</dt></span></span> </dl>                                                                                                       | <dl> <span data-ttu-id="c95dc-162"><dt>[strlen, wcslen, \_ ткслен](/cpp/c-runtime-library/reference/strlen-wcslen-mbslen-mbslen-l-mbstrlen-mbstrlen-l?view=vs-2019)</dt></span><span class="sxs-lookup"><span data-stu-id="c95dc-162"><dt>[strlen, wcslen, \_tcslen](/cpp/c-runtime-library/reference/strlen-wcslen-mbslen-mbslen-l-mbstrlen-mbstrlen-l?view=vs-2019)</dt></span></span> </dl>                                                                                                                                                                                                                                                                                                                                   |



 

## <a name="using-strsafeh"></a><span data-ttu-id="c95dc-163">Использование Стрсафе. h</span><span class="sxs-lookup"><span data-stu-id="c95dc-163">Using Strsafe.h</span></span>

-   <span data-ttu-id="c95dc-164">Чтобы использовать встроенные функции Стрсафе, включите заголовочный файл, как показано здесь, следуя инструкциям **\# include** для всех остальных файлов заголовков.</span><span class="sxs-lookup"><span data-stu-id="c95dc-164">To use the Strsafe functions inline, include the header file as shown here, following the **\#include** statements for all other header files.</span></span>

    `#include <strsafe.h>`

-   <span data-ttu-id="c95dc-165">Чтобы использовать функции в форме библиотеки, включите следующую инструкцию перед включением Стрсафе. h.</span><span class="sxs-lookup"><span data-stu-id="c95dc-165">To use the functions in library form, include the following statement before including Strsafe.h.</span></span> <span data-ttu-id="c95dc-166">Однако рекомендуется использовать встроенные функции.</span><span class="sxs-lookup"><span data-stu-id="c95dc-166">However, it is recommended that you use the inline functions.</span></span>

    `#define STRSAFE_LIB`

    > [!Note]  
    > <span data-ttu-id="c95dc-167">: Следующие функции должны использоваться в качестве встроенных функций: [**стрингкбжетс**](/windows/desktop/api/Strsafe/nf-strsafe-stringcbgetsa), [**стрингкбжетсекс**](/windows/desktop/api/Strsafe/nf-strsafe-stringcbgetsexa), [**стрингкчжетс**](/windows/desktop/api/Strsafe/nf-strsafe-stringcchgetsa)и [**стрингкчжетсекс**](/windows/desktop/api/Strsafe/nf-strsafe-stringcchgetsexa).</span><span class="sxs-lookup"><span data-stu-id="c95dc-167">: The following functions must be used as inline functions: [**StringCbGets**](/windows/desktop/api/Strsafe/nf-strsafe-stringcbgetsa), [**StringCbGetsEx**](/windows/desktop/api/Strsafe/nf-strsafe-stringcbgetsexa), [**StringCchGets**](/windows/desktop/api/Strsafe/nf-strsafe-stringcchgetsa), and [**StringCchGetsEx**](/windows/desktop/api/Strsafe/nf-strsafe-stringcchgetsexa).</span></span>

     

-   <span data-ttu-id="c95dc-168">При включении Стрсафе. h в файл старые функции, замененные функциями Стрсафе. h, будут считаться устаревшими.</span><span class="sxs-lookup"><span data-stu-id="c95dc-168">When you include Strsafe.h in your file, the older functions replaced by the Strsafe.h functions will be deprecated.</span></span> <span data-ttu-id="c95dc-169">Попытки использовать эти старые функции приведут к ошибке компилятора, сообщающей вам об использовании новых функций.</span><span class="sxs-lookup"><span data-stu-id="c95dc-169">Attempts to use these older functions will result in a compiler error telling you to use the newer functions.</span></span> <span data-ttu-id="c95dc-170">Если вы хотите переопределить это поведение, включите следующую инструкцию перед включением Стрсафе. h.</span><span class="sxs-lookup"><span data-stu-id="c95dc-170">If you want to override this behavior, include the following statement before including Strsafe.h.</span></span>

    `#define STRSAFE_NO_DEPRECATE`

-   <span data-ttu-id="c95dc-171">Чтобы разрешить только функции подсчета символов, перед включением Стрсафе. h следует включить следующую инструкцию.</span><span class="sxs-lookup"><span data-stu-id="c95dc-171">To allow only character count functions, include the following statement before including Strsafe.h.</span></span>

    `#define STRSAFE_NO_CB_FUNCTIONS`

-   <span data-ttu-id="c95dc-172">Чтобы разрешить только функции количества байтов, включите следующую инструкцию перед включением Стрсафе. h.</span><span class="sxs-lookup"><span data-stu-id="c95dc-172">To allow only byte count functions, include the following statement before including Strsafe.h.</span></span>

    `#define STRSAFE_NO_CCH_FUNCTIONS`

    > [!Note]  
    > <span data-ttu-id="c95dc-173">Вы можете определить **стрсафе \_ без \_ функций \_ CB** или **стрсафе \_ без \_ \_ функций Кч**, но не оба.</span><span class="sxs-lookup"><span data-stu-id="c95dc-173">You can define **STRSAFE\_NO\_CB\_FUNCTIONS** or **STRSAFE\_NO\_CCH\_FUNCTIONS**, but not both.</span></span>

     

-   <span data-ttu-id="c95dc-174">Некоторые функции Стрсафе имеют версии, учитывающие языковой стандарт.</span><span class="sxs-lookup"><span data-stu-id="c95dc-174">Some Strsafe functions have locale-aware versions.</span></span> <span data-ttu-id="c95dc-175">По умолчанию эти функции не объявляются в заголовке.</span><span class="sxs-lookup"><span data-stu-id="c95dc-175">By default, the header does not declare these functions.</span></span> <span data-ttu-id="c95dc-176">Чтобы включить эти объявления, перед включением Стрсафе. h включите следующую инструкцию макроса.</span><span class="sxs-lookup"><span data-stu-id="c95dc-176">To enable these declarations, include the following macro statement before including Strsafe.h.</span></span>

    `#define STRSAFE_LOCALE_FUNCTIONS`

-   <span data-ttu-id="c95dc-177">Максимальная поддерживаемая длина строки — 2 147 483 647 (**стрсафе \_ Max \_ Кч**) символов: ANSI или Unicode.</span><span class="sxs-lookup"><span data-stu-id="c95dc-177">The maximum supported string length is 2,147,483,647 (**STRSAFE\_MAX\_CCH**) characters, either ANSI or Unicode.</span></span>

## <a name="related-topics"></a><span data-ttu-id="c95dc-178">См. также</span><span class="sxs-lookup"><span data-stu-id="c95dc-178">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="c95dc-179">Функции стрсафе</span><span class="sxs-lookup"><span data-stu-id="c95dc-179">Strsafe Functions</span></span>](string-overviews.md)
</dt> </dl>

 

 