---
title: Меню (меню и другие ресурсы)
description: В этом разделе обсуждаются меню.
ms.assetid: vs|winui|~\winui\windowsuserinterface\resources\menus.htm
keywords:
- ресурсы, меню
- меню, сведения
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: c376aa1d2f55fa482ca7a2f98f57ae15236bf26b
ms.sourcegitcommit: 8fa6614b715bddf14648cce36d2df22e5232801a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/10/2020
ms.locfileid: "104414397"
---
# <a name="menus-menus-and-other-resources"></a>Меню (меню и другие ресурсы)

В этом разделе описываются меню и объясняется, как их использовать.

### <a name="in-this-section"></a>в этом разделе



| Имя                                 | Описание                                                  |
|--------------------------------------|--------------------------------------------------------------|
| [О меню](about-menus.md)       | Описывает меню.<br/>                                  |
| [Использование меню](using-menus.md)       | Содержит примеры кода для задач, связанных с меню.<br/> |
| [Справочник по меню](menu-reference.md) | Содержит справочник по API.<br/>                       |



 

### <a name="menu-functions"></a>Функции меню



| Имя                                                             | Описание                                                                                                                                                                                                                                                                                                                                                                                                   |
|------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**аппендмену**](/windows/desktop/api/Winuser/nf-winuser-appendmenua)                                 | Добавляет новый элемент в конец указанной строки меню, раскрывающегося меню, подменю или контекстного меню. С помощью этой функции можно указать содержимое, внешний вид и поведение элемента меню. <br/>                                                                                                                                                                                                  |
| [**чеккменуитем**](/windows/desktop/api/Winuser/nf-winuser-checkmenuitem)                           | Задает для состояния указанного атрибута элемента меню значение "выбрано" или "очистить".<br/>                                                                                                                                                                                                                                                                                                      |
| [**чеккменурадиоитем**](/windows/desktop/api/Winuser/nf-winuser-checkmenuradioitem)                 | Проверяет указанный пункт меню и делает его элементом радио. В то же время функция удаляет все остальные пункты меню в связанной группе и снимает для этих элементов флаг типа "Радио-элемент".<br/>                                                                                                                                                                                                    |
| [**креатемену**](/windows/desktop/api/Winuser/nf-winuser-createmenu)                                 | Создает меню. Меню изначально пусто, но его можно заполнить элементами меню с помощью функций [**инсертменуитем**](/windows/desktop/api/Winuser/nf-winuser-insertmenuitema), [**аппендмену**](/windows/desktop/api/Winuser/nf-winuser-appendmenua)и [**инсертмену**](/windows/desktop/api/Winuser/nf-winuser-insertmenua) . <br/>                                                                                                                                                                        |
| [**креатепопупмену**](/windows/desktop/api/Winuser/nf-winuser-createpopupmenu)                       | Создает раскрывающееся меню, подменю или контекстное меню. Меню изначально пусто. Вставить или добавить элементы меню можно с помощью функции [**инсертменуитем**](/windows/desktop/api/Winuser/nf-winuser-insertmenuitema) . Можно также использовать функцию [**инсертмену**](/windows/desktop/api/Winuser/nf-winuser-insertmenua) для вставки пунктов меню и функции [**аппендмену**](/windows/desktop/api/Winuser/nf-winuser-appendmenua) для добавления пунктов меню.<br/>                                                  |
| [**делетемену**](/windows/desktop/api/Winuser/nf-winuser-deletemenu)                                 | Удаляет элемент из указанного меню. Если пункт меню открывает меню или подменю, эта функция уничтожает маркер в меню или подменю и освобождает память, используемую меню или подменю. <br/>                                                                                                                                                                                                     |
| [**дестроймену**](/windows/desktop/api/Winuser/nf-winuser-destroymenu)                               | Уничтожает указанное меню и освобождает память, занимаемую меню. <br/>                                                                                                                                                                                                                                                                                                                          |
| [**дравменубар**](/windows/desktop/api/Winuser/nf-winuser-drawmenubar)                               | Перерисовывает строку меню указанного окна. Если строка меню изменяется после того, как система создаст окно, эта функция должна быть вызвана для отрисовки измененной строки меню. <br/>                                                                                                                                                                                                                         |
| [**енаблеменуитем**](/windows/desktop/api/Winuser/nf-winuser-enablemenuitem)                         | Включает, отключает или серым цветом указанный элемент меню. <br/>                                                                                                                                                                                                                                                                                                                                              |
| [**ендмену**](/windows/desktop/api/Winuser/nf-winuser-endmenu)                                       | Завершает активное меню вызывающего потока.<br/>                                                                                                                                                                                                                                                                                                                                                             |
| [**GetMenu**](/windows/desktop/api/Winuser/nf-winuser-getmenu)                                       | Получает маркер меню, назначенное указанному окну. <br/>                                                                                                                                                                                                                                                                                                                                  |
| [**GetMenuBarInfo**](/windows/desktop/api/Winuser/nf-winuser-getmenubarinfo)                         | Извлекает сведения о указанной строке меню.<br/>                                                                                                                                                                                                                                                                                                                                                |
| [**жетменучеккмаркдименсионс**](/windows/desktop/api/Winuser/nf-winuser-getmenucheckmarkdimensions) | Извлекает размеры точечного рисунка галочки по умолчанию. Система отображает это растровое изображение рядом с выбранными элементами меню. Перед вызовом функции [**сетменуитембитмапс**](/windows/desktop/api/Winuser/nf-winuser-setmenuitembitmaps) для замены точечного рисунка галочки по умолчанию для пункта меню приложение должно определить правильный размер точечного рисунка, вызвав [**жетменучеккмаркдименсионс**](/windows/desktop/api/Winuser/nf-winuser-getmenucheckmarkdimensions). <br/> |
| [**жетменудефаултитем**](/windows/desktop/api/Winuser/nf-winuser-getmenudefaultitem)                 | Определяет пункт меню по умолчанию в указанном меню.<br/>                                                                                                                                                                                                                                                                                                                                            |
| [**жетменуинфо**](/windows/desktop/api/Winuser/nf-winuser-getmenuinfo)                               | Извлекает сведения о указанном меню.<br/>                                                                                                                                                                                                                                                                                                                                                      |
| [**жетменуитемкаунт**](/windows/desktop/api/Winuser/nf-winuser-getmenuitemcount)                     | Извлекает количество элементов в указанном меню. <br/>                                                                                                                                                                                                                                                                                                                                              |
| [**жетменуитемид**](/windows/desktop/api/Winuser/nf-winuser-getmenuitemid)                           | Извлекает идентификатор пункта меню, расположенного в указанной позиции в меню. <br/>                                                                                                                                                                                                                                                                                                    |
| [**жетменуитеминфо**](/windows/desktop/api/Winuser/nf-winuser-getmenuiteminfoa)                       | Извлекает сведения об элементе меню.<br/>                                                                                                                                                                                                                                                                                                                                                           |
| [**жетменуитемрект**](/windows/desktop/api/Winuser/nf-winuser-getmenuitemrect)                       | Извлекает ограничивающий прямоугольник для указанного элемента меню.<br/>                                                                                                                                                                                                                                                                                                                                      |
| [**жетменустате**](/windows/desktop/api/Winuser/nf-winuser-getmenustate)                             | Получает флаги меню, связанные с указанным пунктом меню. Если пункт меню открывает подменю, эта функция также возвращает количество элементов в подменю. <br/>                                                                                                                                                                                                                                |
| [**жетменустринг**](/windows/desktop/api/Winuser/nf-winuser-getmenustringa)                           | Копирует текстовую строку указанного пункта меню в указанный буфер. <br/>                                                                                                                                                                                                                                                                                                                      |
| [**Вложенное меню**](/windows/desktop/api/Winuser/nf-winuser-getsubmenu)                                 | Получает маркер раскрывающегося меню или подменю, активируемого указанным пунктом меню. <br/>                                                                                                                                                                                                                                                                                                         |
| [**жетсистеммену**](/windows/desktop/api/Winuser/nf-winuser-getsystemmenu)                           | Позволяет приложению получить доступ к меню «окно» (также известному как системное меню или меню управления) для копирования и изменения. <br/>                                                                                                                                                                                                                                                                  |
| [**хилитеменуитем**](/windows/desktop/api/Winuser/nf-winuser-hilitemenuitem)                         | Выделение или удаление выделения элемента в строке меню. <br/>                                                                                                                                                                                                                                                                                                                                |
| [**инсертменуитем**](/windows/desktop/api/Winuser/nf-winuser-insertmenuitema)                         | Вставляет новый элемент меню в указанную позицию в меню.<br/>                                                                                                                                                                                                                                                                                                                                       |
| [**Меню**](/windows/desktop/api/Winuser/nf-winuser-ismenu)                                         | Определяет, является ли маркер маркером меню. <br/>                                                                                                                                                                                                                                                                                                                                                     |
| [**лоадмену**](/windows/desktop/api/Winuser/nf-winuser-loadmenua)                                     | Загружает указанный ресурс меню из исполняемого файла (exe), связанного с экземпляром приложения. <br/>                                                                                                                                                                                                                                                                                        |
| [**лоадменуиндирект**](/windows/desktop/api/Winuser/nf-winuser-loadmenuindirecta)                     | Загружает указанный шаблон меню в память. <br/>                                                                                                                                                                                                                                                                                                                                                      |
| [**менуитемфромпоинт**](/windows/desktop/api/Winuser/nf-winuser-menuitemfrompoint)                   | Определяет, какой элемент меню (если имеется) находится в указанном расположении.<br/>                                                                                                                                                                                                                                                                                                                                  |
| [**модифимену**](/windows/desktop/api/Winuser/nf-winuser-modifymenua)                                 | Изменяет существующий элемент меню. Эта функция используется для указания содержимого, внешнего вида и поведения элемента меню. <br/>                                                                                                                                                                                                                                                                           |
| [**ремовемену**](/windows/desktop/api/Winuser/nf-winuser-removemenu)                                 | Удаляет пункт меню или отсоединяет подменю в указанном меню. Если пункт меню открывает раскрывающееся меню или подменю, [**ремовемену**](/windows/desktop/api/Winuser/nf-winuser-removemenu) не уничтожает меню или его маркер, что позволяет повторно использовать меню. Перед вызовом этой функции функция getHandler должна получить маркер из раскрывающегося меню или [**подменю.**](/windows/desktop/api/Winuser/nf-winuser-getsubmenu) <br/>                         |
| [**сетмену**](/windows/desktop/api/Winuser/nf-winuser-setmenu)                                       | Назначает новое меню указанному окну. <br/>                                                                                                                                                                                                                                                                                                                                                       |
| [**сетменудефаултитем**](/windows/desktop/api/Winuser/nf-winuser-setmenudefaultitem)                 | Задает элемент меню по умолчанию для указанного меню.<br/>                                                                                                                                                                                                                                                                                                                                                 |
| [**сетменуинфо**](/windows/desktop/api/Winuser/nf-winuser-setmenuinfo)                               | Задает сведения для указанного меню.<br/>                                                                                                                                                                                                                                                                                                                                                             |
| [**сетменуитембитмапс**](/windows/desktop/api/Winuser/nf-winuser-setmenuitembitmaps)                 | Связывает заданный точечный рисунок с пунктом меню. При выборе или снятии пункта меню система отображает соответствующий точечный рисунок рядом с пунктом меню. <br/>                                                                                                                                                                                                                                   |
| [**сетменуитеминфо**](/windows/desktop/api/Winuser/nf-winuser-setmenuiteminfoa)                       | Изменяет сведения об элементе меню.<br/>                                                                                                                                                                                                                                                                                                                                                             |
| [**Метод TrackPopupMenu**](/windows/desktop/api/Winuser/nf-winuser-trackpopupmenu)                         | Отображает контекстное меню в указанном расположении и отслеживает выбор элементов в меню. Контекстное меню может отображаться в любом месте экрана.<br/>                                                                                                                                                                                                                                             |
| [**траккпопупменуекс**](/windows/desktop/api/Winuser/nf-winuser-trackpopupmenuex)                     | Отображает контекстное меню в указанном расположении и отслеживает выбор элементов в контекстном меню. Контекстное меню может отображаться в любом месте экрана.<br/>                                                                                                                                                                                                                                    |



 

Следующая функция устарела.



<table>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header">
<th>Имя</th>
<th>Описание</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><a href="/windows/desktop/api/Winuser/nf-winuser-insertmenua"><strong>инсертмену</strong></a></td>
<td>Вставляет новый пункт меню в меню, перемещая другие элементы вниз по меню.
<blockquote>
[!Note]<br />
Функция <a href="/windows/desktop/api/Winuser/nf-winuser-insertmenua"><strong>инсертмену</strong></a> была заменена функцией <a href="/windows/desktop/api/Winuser/nf-winuser-insertmenuitema"><strong>инсертменуитем</strong></a> . Однако вы по-прежнему можете использовать <strong>инсертмену</strong>, если вам не нужны какие-либо расширенные функции <strong>инсертменуитем</strong>.
</blockquote>
<br/> <br/></td>
</tr>
</tbody>
</table>



 

### <a name="menu-notifications"></a>Уведомления меню



| Имя                                                  | Описание                                                                                                                                                                          |
|-------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**\_команда WM**](wm-command.md)                     | Посылается, когда пользователь выбирает элемент команды из меню, когда элемент управления отправляет сообщение уведомления родительскому окну или при преобразовании нажатия клавиши быстрого вызова. <br/> |
| [**WM \_ CONTEXTMENU**](wm-contextmenu.md)             | Информирует окно о том, что пользователь щелкнул *правой кнопкой мыши* в окне.<br/>                                                                            |
| [**WM \_ ентерменулуп**](wm-entermenuloop.md)         | Информирует процедуру главного окна приложения о том, что был введен модальный цикл меню. <br/>                                                                                  |
| [**WM \_ екситменулуп**](wm-exitmenuloop.md)           | Информирует главное окно приложения о том, что был завершен модальный цикл меню. <br/>                                                                                   |
| [**WM \_ жеттитлебаринфоекс**](wm-gettitlebarinfoex.md) | Отправлено на запрос расширенных сведений в строке заголовка. Окно получает это сообщение через функцию [**WindowProc**](/previous-versions/windows/desktop/legacy/ms633573(v=vs.85)) .<br/>                                  |
| [**WM \_ MENUCOMMAND**](wm-menucommand.md)             | Посылается, когда пользователь делает выбор из меню. <br/>                                                                                                                        |
| [**WM \_ менудраг**](wm-menudrag.md)                   | Посылается владельцу меню перетаскивания, когда пользователь перетаскивает элемент меню. <br/>                                                                                               |
| [**WM \_ менужетобжект**](wm-menugetobject.md)         | Посылается владельцу меню перетаскивания, когда курсор мыши попадает в пункт меню или перемещается от центра элемента к верхнему или нижнему краю элемента. <br/>                |
| [**WM \_ менурбуттонуп**](wm-menurbuttonup.md)         | Посылается, когда пользователь отпускает правую кнопку мыши, когда курсор находится над пунктом меню. <br/>                                                                                   |
| [**WM \_ некстмену**](wm-nextmenu.md)                   | Отправляется в приложение, когда для переключения между строкой меню и системным меню используется клавиша со стрелкой вправо или влево. <br/>                                                      |
| [**WM \_ унинитменупопуп**](wm-uninitmenupopup.md)     | Посылается при уничтожении раскрывающегося меню или подменю. <br/>                                                                                                                |



 

### <a name="menu-structures"></a>Структуры меню



| Имя                                                       | Описание                                                                                                                                                     |
|------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**мдинекстмену**](/windows/win32/api/winuser/ns-winuser-mdinextmenu)                         | Содержит сведения о меню, которое должно быть активировано. <br/>                                                                                                |
| [**менубаринфо**](/windows/win32/api/winuser/ns-winuser-menubarinfo)                         | Содержит сведения о строке меню.<br/>                                                                                                                       |
| [**\_заголовок шаблона \_ менуекс**](menuex-template-header.md) | Определяет заголовок для расширенного шаблона меню. Это определение структуры предназначено только для объяснения; он отсутствует в любом стандартном файле заголовка. <br/> |
| [**\_элемент шаблона \_ менуекс**](menuex-template-item.md)     | Определяет пункт меню в расширенном шаблоне меню. Это определение структуры предназначено только для объяснения; он отсутствует в любом стандартном файле заголовка.<br/>  |
| [**менужетобжектинфо**](/windows/win32/api/winuser/ns-winuser-menugetobjectinfo)             | Содержит сведения о меню, на котором находится курсор мыши.<br/>                                                                                     |
| [**менуинфо**](/windows/win32/api/winuser/ns-winuser-menuinfo)                               | Содержит сведения о меню.<br/>                                                                                                                   |
| [**ОБЪЕКТАМИ MENUITEMINFO**](/windows/win32/api/winuser/ns-winuser-menuiteminfoa)                       | Содержит сведения об элементе меню. <br/>                                                                                                             |
| [**менуитемтемплате**](/windows/desktop/api/Winuser/ns-winuser-menuitemtemplate)               | Определяет пункт меню в шаблоне меню. <br/>                                                                                                             |
| [**менуитемтемплатехеадер**](/windows/desktop/api/Winuser/ns-winuser-menuitemtemplateheader)   | Определяет заголовок для шаблона меню. Полный шаблон меню состоит из заголовка и одного или нескольких списков пунктов меню. <br/>                              |
| [**тпмпарамс**](/windows/win32/api/winuser/ns-winuser-tpmparams)                             | Содержит расширенные параметры для функции [**траккпопупменуекс**](/windows/desktop/api/Winuser/nf-winuser-trackpopupmenuex) .<br/>                                                          |



 

 

