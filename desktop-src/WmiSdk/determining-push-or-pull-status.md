---
description: Поставщик класса можно смоделировать как принудительный или опрашивающий поставщик, который указывает, как поставщик предполагает взаимодействие с WMI.
ms.assetid: d1852784-8440-4b8a-9cdd-896e51cdee98
ms.tgt_platform: multiple
title: Определение состояния отправки или извлечения
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: bee037b4c81e43080ee119540b05568eb00cdc70
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "105711735"
---
# <a name="determining-push-or-pull-status"></a>Определение состояния отправки или извлечения

Поставщик класса можно смоделировать как принудительный или опрашивающий поставщик, который указывает, как поставщик предполагает взаимодействие с WMI. Поставщики опрашивающей репликации получают запрос от WMI и отвечают на запрос либо путем динамического создания данных, либо их извлечения из локального кэша. Поставщики опрашивающей репликации также должны реализовывать большое количество интерфейсов.

Поставщик опроса создает определения классов динамически. Как правило, данные, управляемые поставщиком извлечения, часто меняются, что требует, чтобы поставщик либо динамически создавал класс, либо получать класс из локального кэша всякий раз, когда приложение выдает запрос. Поставщик опрашивающей репликации должен реализовывать собственные механизмы получения данных, кэширования и уведомления о событиях. Поскольку большинство поставщиков являются поставщиками извлечения, в документации в этом файле предполагается, что вы создаете поставщик опрашивающей репликации, если явно не указано иное.

В отличие от этого, WMI использует данные из репозитория WMI для обработки всех запросов приложений для поставщиков push-уведомлений. Поставщики push-уведомлений также используют меньше методов интерфейса и поэтому проще реализовать. Поставщик услуг push-уведомлений использует репозиторий WMI в качестве области хранения для получения сведений об управляемом объекте и обновляет эти сведения только во время инициализации. Например, поставщик класса WDM, включенный в раздел WMI пакета средств разработки программного обеспечения (SDK) для Microsoft Windows, моделируется как поставщик услуг push-уведомлений.

Используя репозиторий WMI в качестве области хранения, поставщик услуг push-уведомлений получает следующие преимущества по сравнению с поставщиком по запросу:

-   Поставщику не требуется реализовывать локальный кэш для хранения данных.
-   Поставщику не требуется поддержка извлечения данных; Вместо этого поставщик может использовать инструментарий WMI для предоставления поддержки получения.
-   Когда приложение запрашивает данные, предоставленные поставщиком, WMI выполняет этот запрос.
-   Поставщик может также использовать инструментарий WMI для поддержки уведомления о событии.

Однако, поскольку поставщик push-уведомлений обновляется только во время инициализации, любые изменения в классе могут не отражаться в репозитории WMI в течение некоторого времени. Таким образом, модель поставщика push-уведомлений лучше всего работает с классами, которые изменяют небольшие или другие, полностью статичными.

 

 



