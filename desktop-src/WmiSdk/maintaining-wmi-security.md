---
description: Безопасность WMI сосредоточена на защите доступа к данным пространства имен. Сначала WMI предоставляет доступ группам пользователей, указанным в элементе управления WMI и параметрах DCOM, а затем поставщики определяют, должен ли пользователь иметь доступ к данным пространства имен.
ms.assetid: 88a2538a-ae30-4a1a-9d16-f0cd9419b2ed
ms.tgt_platform: multiple
title: Поддержание безопасности WMI
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: f25cbf4a29567b263d6bd279aac9e2e6e21c523e
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "105693324"
---
# <a name="maintaining-wmi-security"></a><span data-ttu-id="cbd85-104">Поддержание безопасности WMI</span><span class="sxs-lookup"><span data-stu-id="cbd85-104">Maintaining WMI Security</span></span>

<span data-ttu-id="cbd85-105">Безопасность WMI сосредоточена на защите доступа к данным пространства имен.</span><span class="sxs-lookup"><span data-stu-id="cbd85-105">WMI security focuses on protecting access to namespace data.</span></span> <span data-ttu-id="cbd85-106">Сначала WMI предоставляет доступ группам пользователей, указанным в [*элементе управления WMI*](gloss-w.md) и параметрах DCOM, а затем поставщики определяют, должен ли пользователь иметь доступ к данным пространства имен.</span><span class="sxs-lookup"><span data-stu-id="cbd85-106">WMI first grants access to groups of users as specified by the [*WMI Control*](gloss-w.md) and DCOM settings and then providers determine if the user should have access to namespace data.</span></span>

<span data-ttu-id="cbd85-107">В этом разделе обсуждаются следующие разделы:</span><span class="sxs-lookup"><span data-stu-id="cbd85-107">The following sections are discussed in this topic:</span></span>

-   [<span data-ttu-id="cbd85-108">Безопасность пространства имен</span><span class="sxs-lookup"><span data-stu-id="cbd85-108">Namespace Security</span></span>](#namespace-security)
-   [<span data-ttu-id="cbd85-109">Параметры безопасности модели DCOM.</span><span class="sxs-lookup"><span data-stu-id="cbd85-109">Distributed Component Object Model (DCOM) Security Settings.</span></span>](#distributed-component-object-model-dcom-security-settings)
-   [<span data-ttu-id="cbd85-110">WMI, узлы общих служб и проверка подлинности</span><span class="sxs-lookup"><span data-stu-id="cbd85-110">WMI, Shared Service Hosts, and Authentication</span></span>](#wmi-shared-service-hosts-and-authentication)
-   [<span data-ttu-id="cbd85-111">Безопасность клиентских скриптов и приложений WMI</span><span class="sxs-lookup"><span data-stu-id="cbd85-111">Security for WMI Client Scripts and Applications</span></span>](#security-for-wmi-client-scripts-and-applications)
-   [<span data-ttu-id="cbd85-112">См. также</span><span class="sxs-lookup"><span data-stu-id="cbd85-112">Related topics</span></span>](#related-topics)

## <a name="namespace-security"></a><span data-ttu-id="cbd85-113">Безопасность пространства имен</span><span class="sxs-lookup"><span data-stu-id="cbd85-113">Namespace Security</span></span>

<span data-ttu-id="cbd85-114">Безопасность пространства имен зависит от стандартных [*идентификаторов безопасности (SID)*](gloss-s.md) пользователя Windows и [*дескриптора безопасности*](gloss-s.md) для пространства имен WMI.</span><span class="sxs-lookup"><span data-stu-id="cbd85-114">Namespace security depends on standard Windows user [*security identifiers (SID)*](gloss-s.md) and the [*security descriptor*](gloss-s.md) for the WMI namespace.</span></span>

<span data-ttu-id="cbd85-115">Безопасность пространства имен можно задать, выполнив следующие действия.</span><span class="sxs-lookup"><span data-stu-id="cbd85-115">You can set namespace security by performing the following actions:</span></span>

-   <span data-ttu-id="cbd85-116">Предоставьте или запретите права доступа к пространствам имен для пользователей, использующих элемент управления WMI или при создании пространства имен.</span><span class="sxs-lookup"><span data-stu-id="cbd85-116">Grant or deny access rights to namespaces for users using the WMI Control or when the namespace is created.</span></span> <span data-ttu-id="cbd85-117">Дополнительные сведения см. в разделе [Настройка безопасности пространства имен с помощью элемента управления WMI](setting-namespace-security-with-the-wmi-control.md) и [Настройка безопасности пространства имен при создании пространства имен](setting-namespace-security-when-the-namespace-is-created.md).</span><span class="sxs-lookup"><span data-stu-id="cbd85-117">For more information, see [Setting Namespace Security with the WMI Control](setting-namespace-security-with-the-wmi-control.md) and [Setting Namespace Security When the Namespace is Created](setting-namespace-security-when-the-namespace-is-created.md).</span></span>
-   <span data-ttu-id="cbd85-118">Используйте вкладку Безопасность элементов управления WMI, чтобы установить аудит безопасности.</span><span class="sxs-lookup"><span data-stu-id="cbd85-118">Use the WMI Control Security tab to establish security auditing.</span></span> <span data-ttu-id="cbd85-119">Аудит безопасности приводит к записи в журнал событий, когда пользователь завершает работу или завершается успешно в ходе аудита, например запись данных в объект WMI или чтение дескриптора безопасности.</span><span class="sxs-lookup"><span data-stu-id="cbd85-119">Security auditing results in event log entries when a user fails or succeeds in an audited action, such as writing data to a WMI object or reading the security descriptor.</span></span> <span data-ttu-id="cbd85-120">Дополнительные сведения см. [в разделе доступ к пространствам имен WMI](access-to-wmi-namespaces.md).</span><span class="sxs-lookup"><span data-stu-id="cbd85-120">For more information, see [Access to WMI Namespaces](access-to-wmi-namespaces.md).</span></span>
-   <span data-ttu-id="cbd85-121">Используйте MOF-файл, определяющий пространство имен, чтобы требовать от пользователя создать зашифрованное соединение.</span><span class="sxs-lookup"><span data-stu-id="cbd85-121">Use the MOF file that defines the namespace to require a user to make an encrypted connection.</span></span> <span data-ttu-id="cbd85-122">Дополнительные сведения см. в разделе [требуется зашифрованное соединение с пространством имен](requiring-an-encrypted-connection-to-a-namespace.md).</span><span class="sxs-lookup"><span data-stu-id="cbd85-122">For more information, see [Requiring an Encrypted Connection to a Namespace](requiring-an-encrypted-connection-to-a-namespace.md).</span></span>

## <a name="distributed-component-object-model-dcom-security-settings"></a><span data-ttu-id="cbd85-123">Параметры безопасности модели DCOM.</span><span class="sxs-lookup"><span data-stu-id="cbd85-123">Distributed Component Object Model (DCOM) Security Settings.</span></span>

<span data-ttu-id="cbd85-124">Безопасность DCOM требует настройки проверки подлинности и настройки олицетворения.</span><span class="sxs-lookup"><span data-stu-id="cbd85-124">DCOM security requires an authentication setting and an impersonation setting.</span></span> <span data-ttu-id="cbd85-125">Проверка подлинности означает, что один процесс идентифицирует себя для другого.</span><span class="sxs-lookup"><span data-stu-id="cbd85-125">Authentication means that one process identifies itself to another.</span></span> <span data-ttu-id="cbd85-126">Олицетворение определяет центр, который клиент предоставляет серверу для вызова различных процессов.</span><span class="sxs-lookup"><span data-stu-id="cbd85-126">Impersonation identifies the authority that a client grants a server to call different processes.</span></span> <span data-ttu-id="cbd85-127">Во время проверки безопасности сервер олицетворяет клиента.</span><span class="sxs-lookup"><span data-stu-id="cbd85-127">During a security check, the server impersonates the client.</span></span> <span data-ttu-id="cbd85-128">Дополнительные сведения см. в статьях [Защита клиентов и поставщиков C++](securing-c---clients-and-providers.md) или [Защита клиентов скриптов](securing-scripting-clients.md).</span><span class="sxs-lookup"><span data-stu-id="cbd85-128">For more information, see [Securing C++ Clients and Providers](securing-c---clients-and-providers.md) or [Securing Scripting Clients](securing-scripting-clients.md).</span></span>

<span data-ttu-id="cbd85-129">Скрипты и приложения C/C++/C # устанавливают уровни проверки подлинности и олицетворения при подключении к пространству имен WMI или используют параметры по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="cbd85-129">Scripts and C/C++/C# applications either establish an authentication and impersonation levels when they connect to a WMI namespace or they use the default settings.</span></span> <span data-ttu-id="cbd85-130">Для подключений к удаленным компьютерам требуются параметры, отличные от параметров пространств имен WMI на локальном компьютере.</span><span class="sxs-lookup"><span data-stu-id="cbd85-130">Connections to remote computers require different settings than to the WMI namespaces on the local computer.</span></span> <span data-ttu-id="cbd85-131">Дополнительные сведения см. в разделе [Подключение к WMI на удаленном компьютере](connecting-to-wmi-on-a-remote-computer.md).</span><span class="sxs-lookup"><span data-stu-id="cbd85-131">For more information, see [Connecting to WMI on a Remote Computer](connecting-to-wmi-on-a-remote-computer.md).</span></span>

## <a name="wmi-shared-service-hosts-and-authentication"></a><span data-ttu-id="cbd85-132">WMI, узлы общих служб и проверка подлинности</span><span class="sxs-lookup"><span data-stu-id="cbd85-132">WMI, Shared Service Hosts, and Authentication</span></span>

<span data-ttu-id="cbd85-133">WMI находится в узле общей службы с несколькими другими службами, работающими под учетной записью NetworkService.</span><span class="sxs-lookup"><span data-stu-id="cbd85-133">WMI resides in a shared service host with several other services running under the NetworkService account.</span></span> <span data-ttu-id="cbd85-134">В процессе Svchost WMI использует ту же проверку подлинности, что и другие процессы в узле.</span><span class="sxs-lookup"><span data-stu-id="cbd85-134">In a Svchost process, WMI shares the same authentication as the other processes in the host.</span></span>

<span data-ttu-id="cbd85-135">Библиотеки DLL поставщика загружаются в отдельные процессы узла службы из WMI.</span><span class="sxs-lookup"><span data-stu-id="cbd85-135">Provider DLLs are loaded into separate service host processes from WMI.</span></span> <span data-ttu-id="cbd85-136">Свойство **хостингмодел** в системном классе [**\_ \_ Win32Provider**](--win32provider.md) , представляющем поставщик, указывает системную учетную запись, под которой выполняется поставщик.</span><span class="sxs-lookup"><span data-stu-id="cbd85-136">The **HostingModel** property in the [**\_\_Win32Provider**](--win32provider.md) system class that represents a provider specifies the system account under which the provider runs.</span></span> <span data-ttu-id="cbd85-137">Установка этого свойства приводит к тому, что поставщик загружается в общий хост-процесс с указанным уровнем привилегий.</span><span class="sxs-lookup"><span data-stu-id="cbd85-137">Setting this property causes the provider to be loaded into a shared host process that has a specified level of privilege.</span></span> <span data-ttu-id="cbd85-138">Дополнительные сведения см. в разделе [размещение и безопасность поставщика](provider-hosting-and-security.md).</span><span class="sxs-lookup"><span data-stu-id="cbd85-138">For more information, see [Provider Hosting and Security](provider-hosting-and-security.md).</span></span>

## <a name="security-for-wmi-client-scripts-and-applications"></a><span data-ttu-id="cbd85-139">Безопасность клиентских скриптов и приложений WMI</span><span class="sxs-lookup"><span data-stu-id="cbd85-139">Security for WMI Client Scripts and Applications</span></span>

<span data-ttu-id="cbd85-140">Сценарии и приложения должны устанавливать правильную безопасность для подключения к пространствам имен WMI на локальных и удаленных компьютерах.</span><span class="sxs-lookup"><span data-stu-id="cbd85-140">Scripts and applications must establish the correct security to connect to WMI namespaces on local and remote computers.</span></span> <span data-ttu-id="cbd85-141">Дополнительные сведения см. в статьях [Защита клиентов и поставщиков C++](securing-c---clients-and-providers.md), [Защита клиентов скриптов](securing-scripting-clients.md)и [Защита событий WMI](securing-wmi-events.md).</span><span class="sxs-lookup"><span data-stu-id="cbd85-141">For more information, see [Securing C++ Clients and Providers](securing-c---clients-and-providers.md), [Securing Scripting Clients](securing-scripting-clients.md), and [Securing WMI Events](securing-wmi-events.md).</span></span>

<span data-ttu-id="cbd85-142">В следующей таблице перечислены разделы, посвященные обеспечению безопасности WMI.</span><span class="sxs-lookup"><span data-stu-id="cbd85-142">The following table lists the topics on maintaining WMI security.</span></span>



| <span data-ttu-id="cbd85-143">Раздел</span><span class="sxs-lookup"><span data-stu-id="cbd85-143">Topic</span></span>                                                                                              | <span data-ttu-id="cbd85-144">Описание</span><span class="sxs-lookup"><span data-stu-id="cbd85-144">Description</span></span>                                                                                                                                                           |
|----------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="cbd85-145">Защита пространств имен WMI</span><span class="sxs-lookup"><span data-stu-id="cbd85-145">Securing WMI Namespaces</span></span>](securing-wmi-namespaces.md)                                             | <span data-ttu-id="cbd85-146">Вы можете ограничить доступ к данным пространства имен для полномочных пользователей с помощью элемента управления WMI.</span><span class="sxs-lookup"><span data-stu-id="cbd85-146">You can limit namespace data access to authorized users through the WMI Control.</span></span>                                                                                      |
| [<span data-ttu-id="cbd85-147">Защита поставщика</span><span class="sxs-lookup"><span data-stu-id="cbd85-147">Securing Your Provider</span></span>](securing-your-provider.md)                                               | <span data-ttu-id="cbd85-148">Сведения о создании безопасных поставщиков.</span><span class="sxs-lookup"><span data-stu-id="cbd85-148">Information about writing secure providers.</span></span>                                                                                                                           |
| [<span data-ttu-id="cbd85-149">Защита клиентов и поставщиков C++</span><span class="sxs-lookup"><span data-stu-id="cbd85-149">Securing C++ Clients and Providers</span></span>](securing-c---clients-and-providers.md)                       | <span data-ttu-id="cbd85-150">Как поставщики C++, так и клиентские приложения должны выполнять многие из одних и тех же операций для обеспечения безопасности WMI.</span><span class="sxs-lookup"><span data-stu-id="cbd85-150">Both C++ providers and client applications must perform many of the same operations to maintain WMI security.</span></span>                                                         |
| [<span data-ttu-id="cbd85-151">Защита клиентов скриптов</span><span class="sxs-lookup"><span data-stu-id="cbd85-151">Securing Scripting Clients</span></span>](securing-scripting-clients.md)                                       | <span data-ttu-id="cbd85-152">Скрипты и Visual Basic приложения (клиенты автоматизации) должны устанавливать соответствующую безопасность для получения доступа к данным и событиям WMI.</span><span class="sxs-lookup"><span data-stu-id="cbd85-152">Scripts and Visual Basic applications (automation clients) must set appropriate security to get access to WMI data and events.</span></span>                                        |
| [<span data-ttu-id="cbd85-153">Защита событий WMI</span><span class="sxs-lookup"><span data-stu-id="cbd85-153">Securing WMI Events</span></span>](securing-wmi-events.md)                                                     | <span data-ttu-id="cbd85-154">События WMI доставляются поставщиком событий временному или постоянному потребителю.</span><span class="sxs-lookup"><span data-stu-id="cbd85-154">WMI events are delivered by the event provider to a temporary or permanent consumer.</span></span> <span data-ttu-id="cbd85-155">События доставляются в виде экземпляра класса событий.</span><span class="sxs-lookup"><span data-stu-id="cbd85-155">Events are delivered in the form of an instance of an event class.</span></span>               |
| [<span data-ttu-id="cbd85-156">Изменение параметров безопасности доступа для защищаемых объектов</span><span class="sxs-lookup"><span data-stu-id="cbd85-156">Changing Access Security on Securable Objects</span></span>](changing-access-security-on-securable-objects.md) | <span data-ttu-id="cbd85-157">С соответствующими разрешениями можно вызывать методы для объектов WMI, которые представляют защищаемые объекты, которые считывают или изменяют дескрипторы безопасности защищаемых объектов.</span><span class="sxs-lookup"><span data-stu-id="cbd85-157">With appropriate permissions, you can call methods on the WMI objects that represent securable objects that read or change security descriptors on securable objects.</span></span> |



 

## <a name="related-topics"></a><span data-ttu-id="cbd85-158">См. также</span><span class="sxs-lookup"><span data-stu-id="cbd85-158">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="cbd85-159">Использование инструментария WMI</span><span class="sxs-lookup"><span data-stu-id="cbd85-159">Using WMI</span></span>](using-wmi.md)
</dt> </dl>

 

 



