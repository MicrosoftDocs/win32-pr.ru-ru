---
description: В примере рукописного ввода блога демонстрируется несколько полезных методов, которые можно использовать в веб-приложениях с поддержкой рукописного ввода.
ms.assetid: 4a5a453d-e3c1-40e6-b0eb-99009f0024dd
title: Ink-Enabled веб-приложений
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 5b14e368c1d2e97e35afa6d72a0fe082f304c5fe
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "105710991"
---
# <a name="ink-enabled-web-applications"></a><span data-ttu-id="8779e-103">Ink-Enabled веб-приложений</span><span class="sxs-lookup"><span data-stu-id="8779e-103">Ink-Enabled Web Applications</span></span>

<span data-ttu-id="8779e-104">В примере [рукописного ввода блога](ink-blog-web-sample.md) демонстрируется несколько полезных методов, которые можно использовать в веб-приложениях с поддержкой рукописного ввода.</span><span class="sxs-lookup"><span data-stu-id="8779e-104">The [Ink Blog](ink-blog-web-sample.md) sample demonstrates several useful techniques that can be used in ink-enabled Web applications.</span></span> <span data-ttu-id="8779e-105">К ним относятся: Проверка того, поддерживает ли клиентский компьютер элементы управления с поддержкой рукописного ввода, отправку рукописных данных на сервер и отображение рукописных данных на веб-странице.</span><span class="sxs-lookup"><span data-stu-id="8779e-105">These include: testing if the client machine can support ink-enabled controls, submitting ink data to a server, and displaying ink data on a Web page.</span></span>

## <a name="testing-ink-enablement"></a><span data-ttu-id="8779e-106">Тестирование включения рукописного ввода</span><span class="sxs-lookup"><span data-stu-id="8779e-106">Testing Ink Enablement</span></span>

<span data-ttu-id="8779e-107">Может быть полезно проверить, может ли клиентский компьютер отображать элементы управления с поддержкой рукописного ввода.</span><span class="sxs-lookup"><span data-stu-id="8779e-107">It can be useful to test if the client machine can display ink-enabled controls.</span></span> <span data-ttu-id="8779e-108">Это позволяет севебпажешов один элемент управления, если клиент является планшетным ПК, или другой, если это не так.</span><span class="sxs-lookup"><span data-stu-id="8779e-108">This allows you to have thewebpageshow one control if the client is a Tablet PC or a different one if it is not.</span></span> <span data-ttu-id="8779e-109">Один из способов протестировать это — попытаться создать объект, например [InkOverlay](/previous-versions/ms833057(v=msdn.10)), который может быть создан только на компьютере, на котором установлена операционная система Windows Vista, Windows XP Tablet PC Edition или пакет средств разработки программного обеспечения Windows XP Tablet PC Edition (SDK).</span><span class="sxs-lookup"><span data-stu-id="8779e-109">One way to test this is to attempt to create an object such as a [InkOverlay](/previous-versions/ms833057(v=msdn.10)), which can only be created on a machine that has the Windows Vista, Windows XP Tablet PC Edition operating system or the Windows XP Tablet PC Edition Software Development Kit (SDK) installed.</span></span> <span data-ttu-id="8779e-110">Если вы создаете объект внутри блока try/catch и перехватываете все возникающие исключения (часто возникает исключение [FileNotFoundException](/previous-versions/windows/) , указывающее, что не удается найти сборку с этим элементом управления), можно определить, может ли клиентский компьютер поддерживать элементы управления с поддержкой рукописного ввода.</span><span class="sxs-lookup"><span data-stu-id="8779e-110">If you create the object inside a try/catch block and catch any exceptions that are thrown (often a [FileNotFoundException](/previous-versions/windows/) is thrown to indicate that the assembly with this control cannot be found), you can detect whether the client machine can support ink-enabled controls.</span></span> <span data-ttu-id="8779e-111">В примере этот код можно найти в конструкторе `InkArea` класса.</span><span class="sxs-lookup"><span data-stu-id="8779e-111">In the sample, this code can be found in the constructor of the `InkArea` class.</span></span>

## <a name="submitting-ink-data"></a><span data-ttu-id="8779e-112">Отправка рукописных данных</span><span class="sxs-lookup"><span data-stu-id="8779e-112">Submitting Ink Data</span></span>

<span data-ttu-id="8779e-113">Простой способ отправки данных — получить данные из элемента управления с поддержкой рукописного ввода, передать их в скрытую форму, а затем отправить форму.</span><span class="sxs-lookup"><span data-stu-id="8779e-113">A simple way to submit data is to take the data from your ink-enabled control, transfer it into a hidden form, and then submit the form.</span></span> <span data-ttu-id="8779e-114">Рукописный ввод можно сериализовать с помощью метода [Save](/previous-versions/dotnet/netframework-3.5/ms571335(v=vs.90)) , а затем преобразовать в строку.</span><span class="sxs-lookup"><span data-stu-id="8779e-114">The ink can be serialized using the [Save](/previous-versions/dotnet/netframework-3.5/ms571335(v=vs.90)) method, and then converted into a String.</span></span> <span data-ttu-id="8779e-115">В примере скрытая форма определена в Аддблог. aspx, а сериализация рукописного ввода обрабатывается в `InkArea.SerializeInkData` , где рукописный ввод сериализуется в изображение в формате GIF.</span><span class="sxs-lookup"><span data-stu-id="8779e-115">In the sample, the hidden form is defined in AddBlog.aspx, and the ink serialization is handled in `InkArea.SerializeInkData`, where the ink is serialized into a GIF image.</span></span> <span data-ttu-id="8779e-116">(Обратите внимание, что его можно сериализовать точно так же, как и в других форматах, например в сериализованном формате (ISF).)</span><span class="sxs-lookup"><span data-stu-id="8779e-116">(Note that it could be serialized similarly in other formats as well, such as ink serialized format (ISF).)</span></span>

## <a name="displaying-ink-data"></a><span data-ttu-id="8779e-117">Отображение рукописных данных</span><span class="sxs-lookup"><span data-stu-id="8779e-117">Displaying Ink Data</span></span>

<span data-ttu-id="8779e-118">В примере Аддблог. aspx. CS имеет метод `Page_Load` с именем, который получает данные, отправляемые на сервер, и сохраняет их в файлы.</span><span class="sxs-lookup"><span data-stu-id="8779e-118">In the sample, AddBlog.aspx.cs has a method called `Page_Load` that retrieves the data that is posted to the server and saves it into files.</span></span> <span data-ttu-id="8779e-119">Затем он создает веб-страницы на сервере, содержащем Теги IMG, ссылающиеся на файлы с изображениями в формате GIF.</span><span class="sxs-lookup"><span data-stu-id="8779e-119">It then generates Web pages on the server that contains img tags that reference the files with the GIF images.</span></span> <span data-ttu-id="8779e-120">Теперь вам нужно только переходить к этим страницам для просмотра изображений рукописного ввода.</span><span class="sxs-lookup"><span data-stu-id="8779e-120">Now you only need to navigate to those pages to see images of the ink.</span></span> <span data-ttu-id="8779e-121">(Обратите внимание, что если Вы сериализуете рукописный ввод в другом формате, например в сериализованном формате (ISF), необходимо преобразовать рукописный ввод в изображение на сервере, чтобы отобразить его на клиентах, не являющихся планшетами.)</span><span class="sxs-lookup"><span data-stu-id="8779e-121">(Note that if you had serialized the ink with a different format, such as Ink Serialized Format (ISF), then you would need to convert the ink to an image on the server in order to display it on clients that are not tablets.)</span></span>

<span data-ttu-id="8779e-122">Клиенты планшетных ПК могут загрузить рукописный ввод обратно в элемент управления с поддержкой рукописного ввода и разрешить пользователю редактировать рукописный ввод с помощью ISF.</span><span class="sxs-lookup"><span data-stu-id="8779e-122">Tablet PC clients can load the ink back into an ink-enabled control and allow the user to edit the ink by using ISF.</span></span> <span data-ttu-id="8779e-123">Это справедливо даже для рукописных данных, сохраненных с помощью значения **GIF** перечисления [персистенцеформат](/previous-versions/ms827245(v=msdn.10)) , поскольку данные ISF содержатся в метаданных GIF.</span><span class="sxs-lookup"><span data-stu-id="8779e-123">This is true even for ink saved using the **Gif** value of the [PersistenceFormat](/previous-versions/ms827245(v=msdn.10)) enumeration, because the ISF data is contained in the GIF metadata.</span></span>

 

 
