---
description: Класс RealTimeStylus является частью Стилусинпут прикладных программных интерфейсов (API). В следующих разделах описываются ключевые элементы класса RealTimeStylus и интерфейсов API Стилусинпут.
ms.assetid: 6385c387-5b11-4719-a6ec-e0bebe875348
title: Работа с классом RealTimeStylus
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 919c4de38cb0835996928c877ca4c42faf6a5f96
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "103810474"
---
# <a name="working-with-the-realtimestylus-class"></a><span data-ttu-id="e5e5b-104">Работа с классом RealTimeStylus</span><span class="sxs-lookup"><span data-stu-id="e5e5b-104">Working with the RealTimeStylus Class</span></span>

<span data-ttu-id="e5e5b-105">Класс [**RealTimeStylus**](realtimestylus-class.md) является частью стилусинпут прикладных программных интерфейсов (API).</span><span class="sxs-lookup"><span data-stu-id="e5e5b-105">The [**RealTimeStylus**](realtimestylus-class.md) class is part of the StylusInput application programming interfaces (APIs).</span></span> <span data-ttu-id="e5e5b-106">В следующих разделах описываются ключевые элементы класса **RealTimeStylus** и интерфейсов API стилусинпут.</span><span class="sxs-lookup"><span data-stu-id="e5e5b-106">The following sections describe key elements of the **RealTimeStylus** class and the StylusInput APIs.</span></span>

## <a name="instantiating-the-realtimestylus-class"></a><span data-ttu-id="e5e5b-107">Создание экземпляра класса RealTimeStylus</span><span class="sxs-lookup"><span data-stu-id="e5e5b-107">Instantiating the RealTimeStylus Class</span></span>

<span data-ttu-id="e5e5b-108">При создании объекта [**RealTimeStylus**](realtimestylus-class.md) у вас есть возможность присоединить его к обработчику окна или элементу управления.</span><span class="sxs-lookup"><span data-stu-id="e5e5b-108">When you create a [**RealTimeStylus**](realtimestylus-class.md) object, you have the option of attaching it to a window handle or to a control.</span></span> <span data-ttu-id="e5e5b-109">Для присоединения объекта **RealTimeStylus** к обработчику окна требуются дополнительные разрешения.</span><span class="sxs-lookup"><span data-stu-id="e5e5b-109">Attaching the **RealTimeStylus** object to a window handle requires additional permissions.</span></span> <span data-ttu-id="e5e5b-110">Дополнительные сведения об этих разрешениях см. [в разделе рекомендации по частичному доверию для API-интерфейсов стилусинпут](partial-trust-considerations-for-the-stylusinput-apis.md).</span><span class="sxs-lookup"><span data-stu-id="e5e5b-110">For more information about these permissions, see [Partial Trust Considerations for the StylusInput APIs](partial-trust-considerations-for-the-stylusinput-apis.md).</span></span>

> [!Note]  
> <span data-ttu-id="e5e5b-111">Невозможно присоединить объект [**RealTimeStylus**](realtimestylus-class.md) к окну или элементу управления в другом процессе.</span><span class="sxs-lookup"><span data-stu-id="e5e5b-111">You cannot attach the [**RealTimeStylus**](realtimestylus-class.md) object to a window or control in a different process.</span></span>

 

<span data-ttu-id="e5e5b-112">При использовании конструктора по умолчанию создается объект [**RealTimeStylus**](realtimestylus-class.md) , который может принимать только входные данные другого объекта **RealTimeStylus** .</span><span class="sxs-lookup"><span data-stu-id="e5e5b-112">If you use the default constructor, you create a [**RealTimeStylus**](realtimestylus-class.md) object that can only accept input from another **RealTimeStylus** object.</span></span> <span data-ttu-id="e5e5b-113">Дополнительные сведения о соединении двух объектов **RealTimeStylus** см. [в статье каскадная модель RealTimeStylus](the-cascaded-realtimestylus-model.md).</span><span class="sxs-lookup"><span data-stu-id="e5e5b-113">For more information about connecting two **RealTimeStylus** objects, see [The Cascaded RealTimeStylus Model](the-cascaded-realtimestylus-model.md).</span></span>

<span data-ttu-id="e5e5b-114">Объект [**RealTimeStylus**](realtimestylus-class.md) реализует интерфейс [IDisposable](/dotnet/api/system.idisposable) .</span><span class="sxs-lookup"><span data-stu-id="e5e5b-114">The [**RealTimeStylus**](realtimestylus-class.md) object implements the [IDisposable](/dotnet/api/system.idisposable) interface.</span></span>

## <a name="extending-the-realtimestylus-class"></a><span data-ttu-id="e5e5b-115">Расширение класса RealTimeStylus</span><span class="sxs-lookup"><span data-stu-id="e5e5b-115">Extending the RealTimeStylus Class</span></span>

<span data-ttu-id="e5e5b-116">Чтобы разрешить подключаемым модулям взаимодействовать с потоком данных с помощью пера планшета, объект [**RealTimeStylus**](realtimestylus-class.md) поддерживает две подключаемые коллекции, доступные [**Жетстилуссинкплугин**](/windows/desktop/api/RTSCom/nf-rtscom-irealtimestylus-getstylussyncplugin) и методы [**Жетстилусасинкплугин**](/windows/desktop/api/RTSCom/nf-rtscom-irealtimestylus-getstylusasyncplugin) в C++ и свойства [синкплугинколлектион](/previous-versions/ms824833(v=msdn.10)) и [асинкплугинколлектион](/previous-versions/ms824831(v=msdn.10)) в управляемом коде.</span><span class="sxs-lookup"><span data-stu-id="e5e5b-116">To allow your plug-ins to interact with the data stream from the tablet pen, the [**RealTimeStylus**](realtimestylus-class.md) object maintains two plug-in collections, which are accessible by the [**GetStylusSyncPlugin**](/windows/desktop/api/RTSCom/nf-rtscom-irealtimestylus-getstylussyncplugin) and the [**GetStylusAsyncPlugin**](/windows/desktop/api/RTSCom/nf-rtscom-irealtimestylus-getstylusasyncplugin) methods in C++ and by the [SyncPluginCollection](/previous-versions/ms824833(v=msdn.10)) and [AsyncPluginCollection](/previous-versions/ms824831(v=msdn.10)) properties in managed code.</span></span> <span data-ttu-id="e5e5b-117">Подключаемый модуль можно добавить, вызвав метод [**аддстилуссинкплугин**](/windows/desktop/api/RTSCom/nf-rtscom-irealtimestylus-addstylussyncplugin) или [**аддстилусасинкплугин**](/windows/desktop/api/RTSCom/nf-rtscom-irealtimestylus-addstylusasyncplugin) коллекции в соответствующем свойстве.</span><span class="sxs-lookup"><span data-stu-id="e5e5b-117">You can add a plug-in by calling either the [**AddStylusSyncPlugin**](/windows/desktop/api/RTSCom/nf-rtscom-irealtimestylus-addstylussyncplugin) or the [**AddStylusAsyncPlugin**](/windows/desktop/api/RTSCom/nf-rtscom-irealtimestylus-addstylusasyncplugin) method of the collection within the appropriate property.</span></span> <span data-ttu-id="e5e5b-118">Дополнительные сведения о создании и использовании подключаемых модулей см. [в разделе подключаемые модули и класс RealTimeStylus](plug-ins-and-the-realtimestylus-class.md).</span><span class="sxs-lookup"><span data-stu-id="e5e5b-118">For more information about creating and using plug-ins, see [Plug-ins and the RealTimeStylus Class](plug-ins-and-the-realtimestylus-class.md).</span></span> <span data-ttu-id="e5e5b-119">Сведения о принятии решения о создании синхронного или асинхронного подключаемого модуля для конкретной задачи см. в разделе [вопросы работы с потоками для интерфейсов API стилусинпут](threading-considerations-for-the-stylusinput-apis.md) и [рекомендации по производительности для API-интерфейсов стилусинпут](performance-considerations-for-the-stylusinput-apis.md).</span><span class="sxs-lookup"><span data-stu-id="e5e5b-119">For information about deciding whether to create a synchronous or asynchronous plug-in for a particular task, see [Threading Considerations for the StylusInput APIs](threading-considerations-for-the-stylusinput-apis.md) and [Performance Considerations for the StylusInput APIs](performance-considerations-for-the-stylusinput-apis.md).</span></span>

<span data-ttu-id="e5e5b-120">Синхронные подключаемые модули должны реализовывать интерфейс [**истилуссинкплугин**](/windows/win32/api/rtscom/nn-rtscom-istylussyncplugin) , а Асинхронные подключаемые модули должны реализовывать интерфейс [**истилусасинкплугин**](/windows/win32/api/rtscom/nn-rtscom-istylusasyncplugin) .</span><span class="sxs-lookup"><span data-stu-id="e5e5b-120">Synchronous plug-ins must implement the [**IStylusSyncPlugin**](/windows/win32/api/rtscom/nn-rtscom-istylussyncplugin) interface, and asynchronous plug-ins must implement the [**IStylusAsyncPlugin**](/windows/win32/api/rtscom/nn-rtscom-istylusasyncplugin) interface.</span></span> <span data-ttu-id="e5e5b-121">У каждого подключаемого модуля есть свойство [**истилуссинкплугин. увлечение**](/windows/desktop/api/RTSCom/nf-rtscom-istylusplugin-datainterest) или [**истилусасинкплугин.**](/windows/desktop/api/RTSCom/nf-rtscom-istylusplugin-datainterest) объект.</span><span class="sxs-lookup"><span data-stu-id="e5e5b-121">Each plug-in has a [**IStylusSyncPlugin.DataInterest**](/windows/desktop/api/RTSCom/nf-rtscom-istylusplugin-datainterest) or [**IStylusAsyncPlugin.DataInterest**](/windows/desktop/api/RTSCom/nf-rtscom-istylusplugin-datainterest) property.</span></span> <span data-ttu-id="e5e5b-122">Объект [**RealTimeStylus**](realtimestylus-class.md) вызывает только методы уведомления подключаемого модуля для методов, на которые подписан подключаемый модуль.</span><span class="sxs-lookup"><span data-stu-id="e5e5b-122">The [**RealTimeStylus**](realtimestylus-class.md) object calls only the notification methods of the plug-in for methods in which the plug-in has subscribed.</span></span> <span data-ttu-id="e5e5b-123">Дополнительные сведения о методах уведомления см. в разделе [данные подключаемого модуля и класс RealTimeStylus](plug-in-data-and-the-realtimestylus-class.md).</span><span class="sxs-lookup"><span data-stu-id="e5e5b-123">For more information about the notification methods, see [Plug-in Data and the RealTimeStylus Class](plug-in-data-and-the-realtimestylus-class.md).</span></span>

<span data-ttu-id="e5e5b-124">Объект [**RealTimeStylus**](realtimestylus-class.md) реализует интерфейс [**истилусасинкплугин**](/windows/win32/api/rtscom/nn-rtscom-istylusasyncplugin) .</span><span class="sxs-lookup"><span data-stu-id="e5e5b-124">The [**RealTimeStylus**](realtimestylus-class.md) object implements the [**IStylusAsyncPlugin**](/windows/win32/api/rtscom/nn-rtscom-istylusasyncplugin) interface.</span></span> <span data-ttu-id="e5e5b-125">Единственный способ создать экземпляр объекта **RealTimeStylus** , который принимает входные данные из другого объекта **RealTimeStylus** , — использовать конструктор по умолчанию и реализовать каскадную модель **RealTimeStylus** .</span><span class="sxs-lookup"><span data-stu-id="e5e5b-125">The only way to instantiate a **RealTimeStylus** object that accepts input from another **RealTimeStylus** object is to use the default constructor and implement the cascaded **RealTimeStylus** model.</span></span> <span data-ttu-id="e5e5b-126">Дополнительные сведения о соединении двух объектов **RealTimeStylus** см. [в каскадной модели RealTimeStylus](the-cascaded-realtimestylus-model.md).</span><span class="sxs-lookup"><span data-stu-id="e5e5b-126">For more information about connecting two **RealTimeStylus** objects see [The Cascaded RealTimeStylus Model](the-cascaded-realtimestylus-model.md).</span></span>

<span data-ttu-id="e5e5b-127">Объект [**RealTimeStylus**](realtimestylus-class.md) содержит две внутренние очереди, которые содержат данные пера планшета, очередь ввода и выходную очередь.</span><span class="sxs-lookup"><span data-stu-id="e5e5b-127">The [**RealTimeStylus**](realtimestylus-class.md) object has two internal queues that carry the tablet pen data, the input queue and the output queue.</span></span> <span data-ttu-id="e5e5b-128">Данные пера преобразуются в экземпляры классов в пространстве имен [Microsoft. стилусинпут. плугиндата](/previous-versions/ms574862(v=vs.100)) .</span><span class="sxs-lookup"><span data-stu-id="e5e5b-128">The pen data is converted into instances of the classes in the [Microsoft.StylusInput.PluginData](/previous-versions/ms574862(v=vs.100)) namespace.</span></span> <span data-ttu-id="e5e5b-129">В следующем списке описано, как объект **RealTimeStylus** обрабатывает данные пера планшета.</span><span class="sxs-lookup"><span data-stu-id="e5e5b-129">The following list describes how the **RealTimeStylus** object handles the tablet pen data.</span></span>

1.  <span data-ttu-id="e5e5b-130">Объект [**RealTimeStylus**](realtimestylus-class.md) сначала проверяет объекты подключаемых модулей данных во входной очереди, а затем из потока данных пера планшета.</span><span class="sxs-lookup"><span data-stu-id="e5e5b-130">The [**RealTimeStylus**](realtimestylus-class.md) object checks for plug-in data objects first on its input queue and then from the tablet pen data stream.</span></span>
2.  <span data-ttu-id="e5e5b-131">Объект [**RealTimeStylus**](realtimestylus-class.md) отправляет один объект подключаемых данных в объекты в его синхронной коллекции подключаемых модулей.</span><span class="sxs-lookup"><span data-stu-id="e5e5b-131">The [**RealTimeStylus**](realtimestylus-class.md) object sends one plug-in data object to the objects in its synchronous plug-in collection.</span></span> <span data-ttu-id="e5e5b-132">Каждый синхронный подключаемый модуль может добавлять данные в очередь ввода или вывода.</span><span class="sxs-lookup"><span data-stu-id="e5e5b-132">Each synchronous plug-in can add data to either the input or output queue.</span></span>
3.  <span data-ttu-id="e5e5b-133">После отправки объекта данных подключаемого модуля всем членам коллекции синхронного подключаемого модуля объект данных подключаемого модуля помещается в очередь вывода объекта [**RealTimeStylus**](realtimestylus-class.md) .</span><span class="sxs-lookup"><span data-stu-id="e5e5b-133">Once the plug-in data object has been sent to all members of the synchronous plug-in collection, the plug-in data object is placed on the [**RealTimeStylus**](realtimestylus-class.md) object's output queue.</span></span>
4.  <span data-ttu-id="e5e5b-134">Затем объект [**RealTimeStylus**](realtimestylus-class.md) проверяет для обработки следующий объект данных подключаемого модуля.</span><span class="sxs-lookup"><span data-stu-id="e5e5b-134">The [**RealTimeStylus**](realtimestylus-class.md) object then checks for the next plug-in data object to process.</span></span>
5.  <span data-ttu-id="e5e5b-135">Хотя очередь вывода объекта [**RealTimeStylus**](realtimestylus-class.md) содержит данные, объект **RealTimeStylus** отправляет один объект подключаемых данных из своей очереди вывода в объекты в его асинхронной коллекции подключаемых модулей.</span><span class="sxs-lookup"><span data-stu-id="e5e5b-135">While the [**RealTimeStylus**](realtimestylus-class.md) object's output queue contains data, the **RealTimeStylus** object sends one plug-in data object from its output queue to the objects in its asynchronous plug-in collection.</span></span> <span data-ttu-id="e5e5b-136">Каждый асинхронный подключаемый модуль может добавлять данные в очередь ввода или вывода, но так как асинхронные подключаемые модули выполняются в потоке пользовательского интерфейса, данные добавляются в очередь относительно текущих данных пера, обрабатываемых объектом **RealTimeStylus** , а не относительно данных, обрабатываемых асинхронным подключаемым модулем.</span><span class="sxs-lookup"><span data-stu-id="e5e5b-136">Each asynchronous plug-in can add data to either the input or output queue, but since the asynchronous plug-ins run on the user interface (UI) thread, the data is added to the queue in relation to the current pen data the **RealTimeStylus** object is processing, and not in relation to the data that the asynchronous plug-in is processing.</span></span>

<span data-ttu-id="e5e5b-137">На следующей схеме показан поток данных пера планшета через объект [**RealTimeStylus**](realtimestylus-class.md) и коллекции подключаемых модулей.</span><span class="sxs-lookup"><span data-stu-id="e5e5b-137">The following diagram illustrates the flow of tablet pen data through the [**RealTimeStylus**](realtimestylus-class.md) object and its plug-in collections.</span></span>

![иллустратиом, демонстрирующий поток данных пера планшетного ПК](images/5a698bc9-833b-4b24-9fa2-70be0ca61032.gif)

<span data-ttu-id="e5e5b-139">На этой диаграмме круги с буквами "A" и "B" представляют данные пера планшета, которые уже добавлены в выходную очередь объекта [**RealTimeStylus**](realtimestylus-class.md) и еще не были отправлены в асинхронную коллекцию подключаемых модулей.</span><span class="sxs-lookup"><span data-stu-id="e5e5b-139">In this diagram the circles lettered "A" and "B" represent tablet pen data that has already been added to the [**RealTimeStylus**](realtimestylus-class.md) object's output queue and that has not yet been sent to the asynchronous plug-in collection.</span></span> <span data-ttu-id="e5e5b-140">Кружок с буквой "C" представляет данные пера планшета, обрабатываемые объектом **RealTimeStylus** в данный момент.</span><span class="sxs-lookup"><span data-stu-id="e5e5b-140">The circle lettered "C" represents the tablet pen data that the **RealTimeStylus** object is currently processing.</span></span> <span data-ttu-id="e5e5b-141">Он отправляется в коллекцию синхронных подключаемых модулей и помещается в очередь вывода.</span><span class="sxs-lookup"><span data-stu-id="e5e5b-141">It is sent to the synchronous plug-in collection and placed on the output queue.</span></span> <span data-ttu-id="e5e5b-142">Пустой кружок представляет позицию в очереди вывода, в которой добавляются будущие данные пера планшета.</span><span class="sxs-lookup"><span data-stu-id="e5e5b-142">The empty circle represents the position in the output queue where future tablet pen data is added.</span></span>

<span data-ttu-id="e5e5b-143">Дополнительные сведения о том, как конкретные данные добавляются в очередь и обрабатываются, см. [в разделе данные подключаемого модуля и класс RealTimeStylus](plug-in-data-and-the-realtimestylus-class.md).</span><span class="sxs-lookup"><span data-stu-id="e5e5b-143">For more information about how specific data is added to the queue and processed, see [Plug-in Data and the RealTimeStylus Class](plug-in-data-and-the-realtimestylus-class.md).</span></span>

<span data-ttu-id="e5e5b-144">Ниже приведен минимальный сценарий использования объекта [**RealTimeStylus**](realtimestylus-class.md) в форме, собирающей рукописный ввод.</span><span class="sxs-lookup"><span data-stu-id="e5e5b-144">The following is a minimal scenario for using the [**RealTimeStylus**](realtimestylus-class.md) object on a form that collects ink.</span></span>

1.  <span data-ttu-id="e5e5b-145">Создайте форму, реализующую интерфейс [**истилусасинкплугин**](/windows/win32/api/rtscom/nn-rtscom-istylusasyncplugin) .</span><span class="sxs-lookup"><span data-stu-id="e5e5b-145">Create a form that implements the [**IStylusAsyncPlugin**](/windows/win32/api/rtscom/nn-rtscom-istylusasyncplugin) interface.</span></span>
2.  <span data-ttu-id="e5e5b-146">Создайте объект [**RealTimeStylus**](realtimestylus-class.md) , присоединенный к элементу управления в форме.</span><span class="sxs-lookup"><span data-stu-id="e5e5b-146">Create a [**RealTimeStylus**](realtimestylus-class.md) object attached to a control on the form.</span></span>
3.  <span data-ttu-id="e5e5b-147">Задайте интерес в уведомлениях Стилусдовн, пакеты и Стилусуп в свойстве [**истилусасинкплугин.**](/windows/desktop/api/RTSCom/nf-rtscom-istylusplugin-datainterest) объект формы.</span><span class="sxs-lookup"><span data-stu-id="e5e5b-147">Set interest in the StylusDown, Packets, and StylusUp notifications in the form's [**IStylusAsyncPlugin.DataInterest**](/windows/desktop/api/RTSCom/nf-rtscom-istylusplugin-datainterest) property.</span></span>
4.  <span data-ttu-id="e5e5b-148">В методах [**стилусдовн**](/windows/desktop/api/RTSCom/nf-rtscom-istylusplugin-stylusdown), [**пакетов**](/windows/desktop/api/RTSCom/nf-rtscom-istylusplugin-packets)и [**стилусуп**](/windows/desktop/api/RTSCom/nf-rtscom-istylusplugin-stylusup) формы добавьте код для управления уведомлениями о нажатии пера, пакетами и отправкой пера, которые отправляются из объекта [**RealTimeStylus**](realtimestylus-class.md) формы.</span><span class="sxs-lookup"><span data-stu-id="e5e5b-148">In the form's [**StylusDown**](/windows/desktop/api/RTSCom/nf-rtscom-istylusplugin-stylusdown), [**Packets**](/windows/desktop/api/RTSCom/nf-rtscom-istylusplugin-packets), and [**StylusUp**](/windows/desktop/api/RTSCom/nf-rtscom-istylusplugin-stylusup) methods, add code to handle the stylus down, packets, and stylus up notifications that are sent from the form's [**RealTimeStylus**](realtimestylus-class.md) object.</span></span>

<span data-ttu-id="e5e5b-149">Пример такого приложения см. в разделе [образец рукописного сбора RealTimeStylus](realtimestylus-ink-collection-sample.md).</span><span class="sxs-lookup"><span data-stu-id="e5e5b-149">For a sample of such an application, see the [RealTimeStylus Ink Collection Sample](realtimestylus-ink-collection-sample.md).</span></span>

## <a name="working-with-tablet-objects"></a><span data-ttu-id="e5e5b-150">Работа с объектами планшета</span><span class="sxs-lookup"><span data-stu-id="e5e5b-150">Working with Tablet Objects</span></span>

<span data-ttu-id="e5e5b-151">Каждый включенный объект [**RealTimeStylus**](realtimestylus-class.md) поддерживает список уникальных идентификаторов для объектов [**планшета**](/windows/desktop/api/msinkaut/nn-msinkaut-iinktablet) , с которыми он может взаимодействовать.</span><span class="sxs-lookup"><span data-stu-id="e5e5b-151">Each enabled [**RealTimeStylus**](realtimestylus-class.md) object maintains a list of unique identifiers for the [**Tablet**](/windows/desktop/api/msinkaut/nn-msinkaut-iinktablet) objects it can interact with.</span></span> <span data-ttu-id="e5e5b-152">Объект **RealTimeStylus** предоставляет два метода для преобразования между уникальным идентификатором и объектом **планшета** : методами [**жеттаблетконтекстидфромтаблет**](/windows/desktop/api/RTSCom/nf-rtscom-irealtimestylus-gettabletcontextidfromtablet) и [**жеттаблетфромтаблетконтекстид**](/windows/desktop/api/RTSCom/nf-rtscom-irealtimestylus-gettabletfromtabletcontextid) .</span><span class="sxs-lookup"><span data-stu-id="e5e5b-152">The **RealTimeStylus** object exposes two methods for translating between the unique identifier and the **Tablet** object: the [**GetTabletContextIdFromTablet**](/windows/desktop/api/RTSCom/nf-rtscom-irealtimestylus-gettabletcontextidfromtablet) and [**GetTabletFromTabletContextId**](/windows/desktop/api/RTSCom/nf-rtscom-irealtimestylus-gettabletfromtabletcontextid) methods.</span></span>

<span data-ttu-id="e5e5b-153">Объект [таблетпропертидескриптион](/previous-versions/ms827769(v=msdn.10)) (в управляемом коде) содержит свойство [Паккетпропертид](/previous-versions/ms827780(v=msdn.10)) и структуру [таблетпропертиметрикс](/previous-versions/ms827781(v=msdn.10)) , описывающую диапазон, разрешение и единицы свойства для конкретного объекта [**планшета**](/windows/desktop/api/msinkaut/nn-msinkaut-iinktablet) .</span><span class="sxs-lookup"><span data-stu-id="e5e5b-153">The [TabletPropertyDescription](/previous-versions/ms827769(v=msdn.10)) object (in managed code) contains a [PacketPropertyId](/previous-versions/ms827780(v=msdn.10)) property and a [TabletPropertyMetrics](/previous-versions/ms827781(v=msdn.10)) structure that describes the range, resolution, and units of the property for a specific [**Tablet**](/windows/desktop/api/msinkaut/nn-msinkaut-iinktablet) object.</span></span> <span data-ttu-id="e5e5b-154">Метод [**жетдесиредпаккетдескриптион**](/windows/desktop/api/RTSCom/nf-rtscom-irealtimestylus-getdesiredpacketdescription) объекта [**RealTimeStylus**](realtimestylus-class.md) возвращает массив глобальных уникальных идентификаторов (GUID) для свойств пакета, которые объект **RealTimeStylus** перенаправляет в свои подключаемые модули, если эти свойства пакетов доступны.</span><span class="sxs-lookup"><span data-stu-id="e5e5b-154">The [**RealTimeStylus**](realtimestylus-class.md) object's [**GetDesiredPacketDescription**](/windows/desktop/api/RTSCom/nf-rtscom-irealtimestylus-getdesiredpacketdescription) method returns an array of globally unique identifiers (GUIDs) for the packet properties that the **RealTimeStylus** object forwards to its plug-ins when those packet properties are available.</span></span> <span data-ttu-id="e5e5b-155">Чтобы изменить набор свойств пакета, который объект **RealTimeStylus** передает в свои подключаемые модули, вызовите метод [**сетдесиредпаккетдескриптион**](/windows/desktop/api/RTSCom/nf-rtscom-irealtimestylus-setdesiredpacketdescription) объекта **RealTimeStylus** .</span><span class="sxs-lookup"><span data-stu-id="e5e5b-155">To modify the set of packet properties the **RealTimeStylus** object passes to its plug-ins, call the **RealTimeStylus** object's [**SetDesiredPacketDescription**](/windows/desktop/api/RTSCom/nf-rtscom-irealtimestylus-setdesiredpacketdescription) method.</span></span> <span data-ttu-id="e5e5b-156">Метод [жеттаблетпропертидескриптионколлектион](/previous-versions/ms825935(v=msdn.10)) (в управляемом коде) объекта **RealTimeStylus** принимает уникальный идентификатор планшета и возвращает коллекцию объектов [таблетпропертидескриптион](/previous-versions/ms827760(v=msdn.10)) .</span><span class="sxs-lookup"><span data-stu-id="e5e5b-156">The [GetTabletPropertyDescriptionCollection](/previous-versions/ms825935(v=msdn.10)) method (in managed code) of the **RealTimeStylus** object takes a unique tablet identifier and returns a collection of [TabletPropertyDescription](/previous-versions/ms827760(v=msdn.10)) objects.</span></span> <span data-ttu-id="e5e5b-157">Эти свойства пакетов представляют подмножество свойств, поддерживаемых планшетом, возвращаемых методом **жетдесиредпаккетдескриптион** .</span><span class="sxs-lookup"><span data-stu-id="e5e5b-157">These packet properties represent the subset of properties supported by the tablet that are returned by the **GetDesiredPacketDescription** method.</span></span>

<span data-ttu-id="e5e5b-158">Список идентификаторов GUID стандартных свойств пакетов см. в разделе класс [констант паккетпропертигуидс](packetpropertyguids-constants.md) .</span><span class="sxs-lookup"><span data-stu-id="e5e5b-158">For a list of the standard packet property GUIDs, see the [PacketPropertyGuids Constants](packetpropertyguids-constants.md) class.</span></span>

## <a name="special-considerations"></a><span data-ttu-id="e5e5b-159">Особые рекомендации</span><span class="sxs-lookup"><span data-stu-id="e5e5b-159">Special Considerations</span></span>

<span data-ttu-id="e5e5b-160">В следующем списке описываются другие моменты, которые следует учитывать при использовании объекта [**RealTimeStylus**](realtimestylus-class.md) с объектом [**планшета**](/windows/desktop/api/msinkaut/nn-msinkaut-iinktablet) .</span><span class="sxs-lookup"><span data-stu-id="e5e5b-160">The following list describes other points to take into consideration when using the [**RealTimeStylus**](realtimestylus-class.md) object with a [**Tablet**](/windows/desktop/api/msinkaut/nn-msinkaut-iinktablet) object.</span></span>

-   <span data-ttu-id="e5e5b-161">Метод [**сетдесиредпаккетдескриптион**](/windows/desktop/api/RTSCom/nf-rtscom-irealtimestylus-setdesiredpacketdescription) может быть вызван только при отключенном объекте [**планшета**](/windows/desktop/api/msinkaut/nn-msinkaut-iinktablet) .</span><span class="sxs-lookup"><span data-stu-id="e5e5b-161">The [**SetDesiredPacketDescription**](/windows/desktop/api/RTSCom/nf-rtscom-irealtimestylus-setdesiredpacketdescription) method can only be called while the [**Tablet**](/windows/desktop/api/msinkaut/nn-msinkaut-iinktablet) object is disabled.</span></span> <span data-ttu-id="e5e5b-162">Объект [**RealTimeStylus**](realtimestylus-class.md) может изменять список требуемых свойств пакетов. Поэтому вызовите метод [**жетдесиредпаккетдескриптион**](/windows/desktop/api/RTSCom/nf-rtscom-irealtimestylus-getdesiredpacketdescription) после вызова метода **сетдесиредпаккетдескриптион** , чтобы определить, какие свойства пакетов объект **RealTimeStylus** может пересылать в свои подключаемые модули. Планшетный ПК гарантирует поддержку значений **X**, **Y** и **паккетстатус** для [паккетпроперти](packetproperty-guids.md).</span><span class="sxs-lookup"><span data-stu-id="e5e5b-162">The [**RealTimeStylus**](realtimestylus-class.md) object may modify the list of desired packet properties; therefore, call the [**GetDesiredPacketDescription**](/windows/desktop/api/RTSCom/nf-rtscom-irealtimestylus-getdesiredpacketdescription) method after the call to the **SetDesiredPacketDescription** method to determine which packet properties the **RealTimeStylus** object can forward to its plug-ins. A tablet is only guaranteed to support the **X**, **Y**, and **PacketStatus** values for the [PacketProperty](packetproperty-guids.md).</span></span> <span data-ttu-id="e5e5b-163">Таким образом, при проектировании подключаемого модуля может потребоваться получение меньшего количества свойств пакета, чем требуется.</span><span class="sxs-lookup"><span data-stu-id="e5e5b-163">Therefore, your plug-in design may need to account for receiving fewer packet properties than desired.</span></span>
-   <span data-ttu-id="e5e5b-164">Метод [жеттаблетпропертидескриптионколлектион](/previous-versions/ms825935(v=msdn.10)) (для управляемого кода) может быть вызван только тогда, когда включен объект [**RealTimeStylus**](realtimestylus-class.md) .</span><span class="sxs-lookup"><span data-stu-id="e5e5b-164">The [GetTabletPropertyDescriptionCollection](/previous-versions/ms825935(v=msdn.10)) method (for managed code) can only be called while the [**RealTimeStylus**](realtimestylus-class.md) object is enabled.</span></span> <span data-ttu-id="e5e5b-165">Так как уведомление может быть отправлено в асинхронные подключаемые модули после отключения объекта **RealTimeStylus** , может потребоваться кэшировать сведения для каждого объекта [**планшета**](/windows/desktop/api/msinkaut/nn-msinkaut-iinktablet) .</span><span class="sxs-lookup"><span data-stu-id="e5e5b-165">Because notification can be sent to the async plug-ins after the **RealTimeStylus** object has been disabled, you may need to cache the information for each [**Tablet**](/windows/desktop/api/msinkaut/nn-msinkaut-iinktablet) object.</span></span> <span data-ttu-id="e5e5b-166">Метод Жеттаблетпропертидескриптионколлектион возвращает список требуемых свойств пакетов, которые поддерживаются указанным планшетом.</span><span class="sxs-lookup"><span data-stu-id="e5e5b-166">The GetTabletPropertyDescriptionCollection method returns a list of the desired packet properties that are supported by the specified tablet.</span></span>
-   <span data-ttu-id="e5e5b-167">Когда объект [**RealTimeStylus**](realtimestylus-class.md) включен, каждый подключаемый модуль получает вызов своего метода [**реалтиместилусенаблед**](/windows/desktop/api/RTSCom/nf-rtscom-istylusplugin-realtimestylusenabled) .</span><span class="sxs-lookup"><span data-stu-id="e5e5b-167">When the [**RealTimeStylus**](realtimestylus-class.md) object is enabled, each plug-in receives a call to its [**RealTimeStylusEnabled**](/windows/desktop/api/RTSCom/nf-rtscom-istylusplugin-realtimestylusenabled) method.</span></span> <span data-ttu-id="e5e5b-168">Объект [реалтиместилусенабледдата](/previous-versions/ms824229(v=msdn.10)) , переданный в уведомлении, содержит коллекцию идентификаторов контекста для доступных планшетов во время включения объекта **RealTimeStylus** .</span><span class="sxs-lookup"><span data-stu-id="e5e5b-168">The [RealTimeStylusEnabledData](/previous-versions/ms824229(v=msdn.10)) object passed in the notification contains a collection of the context identifiers for the available tablets at the time the **RealTimeStylus** object is enabled.</span></span>
-   <span data-ttu-id="e5e5b-169">Когда планшет, который может использоваться объектом [**RealTimeStylus**](realtimestylus-class.md) , добавляется на планшетный ПК или удаляется с него, пока включен объект **RealTimeStylus** , объект **RealTimeStylus** уведомляет свои подключаемые модули о добавлении или удалении объекта [**планшета**](/windows/desktop/api/msinkaut/nn-msinkaut-iinktablet) .</span><span class="sxs-lookup"><span data-stu-id="e5e5b-169">When a tablet that the [**RealTimeStylus**](realtimestylus-class.md) object can use is added to or removed from the Tablet PC while the **RealTimeStylus** object is enabled, the **RealTimeStylus** object notifies its plug-ins that a [**Tablet**](/windows/desktop/api/msinkaut/nn-msinkaut-iinktablet) object has been added or removed.</span></span> <span data-ttu-id="e5e5b-170">Дополнительные сведения см. в разделе [подключаемые данные и класс RealTimeStylus](plug-in-data-and-the-realtimestylus-class.md).</span><span class="sxs-lookup"><span data-stu-id="e5e5b-170">For more information, see [Plug-in Data and the RealTimeStylus Class](plug-in-data-and-the-realtimestylus-class.md).</span></span>

## <a name="working-with-tablet-pens"></a><span data-ttu-id="e5e5b-171">Работа с перьями планшета</span><span class="sxs-lookup"><span data-stu-id="e5e5b-171">Working with Tablet Pens</span></span>

<span data-ttu-id="e5e5b-172">Объект [**RealTimeStylus**](realtimestylus-class.md) передает сведения о планшетном пере в свои подключаемые модули в ряде методов уведомления.</span><span class="sxs-lookup"><span data-stu-id="e5e5b-172">The [**RealTimeStylus**](realtimestylus-class.md) object passes information about the tablet pen to its plug-ins in a number of the notification methods.</span></span> <span data-ttu-id="e5e5b-173">Сведения о планшетном пере представлены объектом [пера](/previous-versions/ms824824(v=msdn.10)) , полученным с помощью метода [**пере**](/windows/desktop/api/RTSCom/nf-rtscom-irealtimestylus-getstyluses) .</span><span class="sxs-lookup"><span data-stu-id="e5e5b-173">Information about the tablet pen is represented by a [Stylus](/previous-versions/ms824824(v=msdn.10)) object, gotten through the [**GetStyluses**](/windows/desktop/api/RTSCom/nf-rtscom-irealtimestylus-getstyluses) method.</span></span> <span data-ttu-id="e5e5b-174">Этот объект представляет собой представление пера планшета на момент сбора данных.</span><span class="sxs-lookup"><span data-stu-id="e5e5b-174">This object is a representation of the tablet pen at the time the data was gathered.</span></span> <span data-ttu-id="e5e5b-175">Так как подключаемые модули получают данные пера планшета как часть потока данных пера планшета, подключаемые модули должны использовать информацию в объекте Pen, а не проверять текущее состояние определенного пера планшета с помощью класса [**курсора**](/windows/desktop/api/msinkaut/nn-msinkaut-iinkcursor) .</span><span class="sxs-lookup"><span data-stu-id="e5e5b-175">Because plug-ins receive the tablet pen data as part of the tablet pen data stream, the plug-ins should use the information in the Stylus object instead of checking for the current state of a particular tablet pen through the [**Cursor**](/windows/desktop/api/msinkaut/nn-msinkaut-iinkcursor) class.</span></span> <span data-ttu-id="e5e5b-176">Сведения о том, как перо планшета и кнопки пера планшета передаются в подключаемые модули, см. [в разделе данные подключаемого модуля и класс RealTimeStylus](plug-in-data-and-the-realtimestylus-class.md).</span><span class="sxs-lookup"><span data-stu-id="e5e5b-176">For information about how tablet pen and tablet pen button data is passed to plug-ins, see [Plug-in Data and the RealTimeStylus Class](plug-in-data-and-the-realtimestylus-class.md).</span></span>

<span data-ttu-id="e5e5b-177">Чтобы получить массив объектов [пера](/previous-versions/ms824824(v=msdn.10)) , обнаруженных объектом [**RealTimeStylus**](realtimestylus-class.md) с момента последнего включения, используйте метод « [**пера**](/windows/desktop/api/RTSCom/nf-rtscom-irealtimestylus-getstyluses) » объекта **RealTimeStylus** .</span><span class="sxs-lookup"><span data-stu-id="e5e5b-177">To get an array of the [Stylus](/previous-versions/ms824824(v=msdn.10)) objects that the [**RealTimeStylus**](realtimestylus-class.md) object has encountered since it was last enabled, use the **RealTimeStylus** object's [**GetStyluses**](/windows/desktop/api/RTSCom/nf-rtscom-irealtimestylus-getstyluses) method.</span></span>

## <a name="related-topics"></a><span data-ttu-id="e5e5b-178">См. также</span><span class="sxs-lookup"><span data-stu-id="e5e5b-178">Related topics</span></span>

<dl> <dt>

<span data-ttu-id="e5e5b-179">[Microsoft. Ink. планшет](/previous-versions/ms827783(v=msdn.10))</span><span class="sxs-lookup"><span data-stu-id="e5e5b-179">[Microsoft.Ink.Tablet](/previous-versions/ms827783(v=msdn.10))</span></span>
</dt> <dt>

<span data-ttu-id="e5e5b-180">[Microsoft. Стилусинпут. RealTimeStylus](/previous-versions/ms585724(v=vs.100))</span><span class="sxs-lookup"><span data-stu-id="e5e5b-180">[Microsoft.StylusInput.RealTimeStylus](/previous-versions/ms585724(v=vs.100))</span></span>
</dt> <dt>

[<span data-ttu-id="e5e5b-181">Модель каскадного RealTimeStylus</span><span class="sxs-lookup"><span data-stu-id="e5e5b-181">The Cascaded RealTimeStylus Model</span></span>](the-cascaded-realtimestylus-model.md)
</dt> <dt>

[<span data-ttu-id="e5e5b-182">Рекомендации по частичному доверию для API-интерфейсов Стилусинпут</span><span class="sxs-lookup"><span data-stu-id="e5e5b-182">Partial Trust Considerations for the StylusInput APIs</span></span>](partial-trust-considerations-for-the-stylusinput-apis.md)
</dt> <dt>

[<span data-ttu-id="e5e5b-183">Данные подключаемого модуля и класс RealTimeStylus</span><span class="sxs-lookup"><span data-stu-id="e5e5b-183">Plug-in Data and the RealTimeStylus Class</span></span>](plug-in-data-and-the-realtimestylus-class.md)
</dt> <dt>

[<span data-ttu-id="e5e5b-184">Рекомендации по потокам для API-интерфейсов Стилусинпут</span><span class="sxs-lookup"><span data-stu-id="e5e5b-184">Threading Considerations for the StylusInput APIs</span></span>](threading-considerations-for-the-stylusinput-apis.md)
</dt> </dl>

 

 
