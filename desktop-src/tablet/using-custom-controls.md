---
description: Описание использования элементов управления заказчика для планшетных ПК.
ms.assetid: 43d78acd-1f02-417d-97be-1682e90a81a2
title: Использование пользовательских элементов управления
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 9c713d2b3912d2bbe4a689c7d8d05d4d977a6eb7
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "103897262"
---
# <a name="using-custom-controls"></a><span data-ttu-id="7a7e8-103">Использование пользовательских элементов управления</span><span class="sxs-lookup"><span data-stu-id="7a7e8-103">Using Custom Controls</span></span>

<span data-ttu-id="7a7e8-104">Стандартные элементы управления можно настроить с помощью рисования владельцем, чтобы изменить внешний вид элемента управления и установить суперкласс или подкласс для изменения поведения элемента управления.</span><span class="sxs-lookup"><span data-stu-id="7a7e8-104">You can customize standard controls by using owner-drawing to change the control's appearance and establishing a superclass or subclass to change the control's behavior.</span></span> <span data-ttu-id="7a7e8-105">В каждом случае базовый системный код для стандартного типа элемента управления обрабатывает основные функции управления.</span><span class="sxs-lookup"><span data-stu-id="7a7e8-105">In each case, the underlying system code for the standard control type handles basic control functions.</span></span> <span data-ttu-id="7a7e8-106">Большинство этих элементов управления могут быть доступны, если они правильно используются.</span><span class="sxs-lookup"><span data-stu-id="7a7e8-106">Most of these controls can be accessible if you use them properly.</span></span>

<span data-ttu-id="7a7e8-107">Элемент управления, рисуемый владельцем, основанный на стандартном элементе управления, отображается как стандартный элемент управления для вспомогательных функций и поддерживает Microsoft Active Accessibility; Однако он имеет настроенный внешний вид.</span><span class="sxs-lookup"><span data-stu-id="7a7e8-107">An owner-drawn control that is based on a standard control appears as the standard control to accessibility aids and supports Microsoft Active Accessibility; however, it has a customized appearance.</span></span> <span data-ttu-id="7a7e8-108">Некоторые приложения используют пользовательские элементы управления для изменения внешнего вида элемента управления, но элементы управления, рисуемые владельцем, являются более доступными решением.</span><span class="sxs-lookup"><span data-stu-id="7a7e8-108">Some applications use custom controls to change the appearance of a control, but owner-drawn controls are a more accessible solution.</span></span> <span data-ttu-id="7a7e8-109">Дополнительные сведения о том, как определить рисуемые владельцем меню и предоставить элементы управления, рисуемые владельцем, см. в разделе [Специальные возможности](../accessibility/accessibility.md).</span><span class="sxs-lookup"><span data-stu-id="7a7e8-109">For more information about how to define owner-drawn menus and expose owner-drawn controls, see [Accessibility](../accessibility/accessibility.md).</span></span>

<span data-ttu-id="7a7e8-110">Создание суперкласса или подкласса — это способ настройки поведения существующих элементов управления.</span><span class="sxs-lookup"><span data-stu-id="7a7e8-110">Establishing a superclass or subclass is a technique for customizing the behavior of existing controls.</span></span> <span data-ttu-id="7a7e8-111">В зависимости от нового поведения элемента управления может потребоваться дополнить предоставляемую им информацию о специальных возможностях.</span><span class="sxs-lookup"><span data-stu-id="7a7e8-111">Depending on the new behavior of the control, it may be necessary to supplement the accessibility information that it exposes.</span></span> <span data-ttu-id="7a7e8-112">Например, приложение может использовать рисуемый владельцем элемент управления для отображения X в выбранном флажке, а не на галочке или пометки кнопки с изображением вместо слова.</span><span class="sxs-lookup"><span data-stu-id="7a7e8-112">For example, an application can use an owner-drawn control to display an X in a selected check box, rather than a check mark, or label a command button with a picture instead of a word.</span></span>

<span data-ttu-id="7a7e8-113">При использовании элементов управления, рисуемых владельцем, являющихся суперклассом или подклассом:</span><span class="sxs-lookup"><span data-stu-id="7a7e8-113">When using owner-drawn controls that are either a superclass or a subclass:</span></span>

-   <span data-ttu-id="7a7e8-114">Укажите метки для всех элементов управления, даже если метки не видны на экране.</span><span class="sxs-lookup"><span data-stu-id="7a7e8-114">Provide labels for all controls, even when the labels are not visible on the screen.</span></span> <span data-ttu-id="7a7e8-115">Если вы настраиваете элемент управления так, чтобы стандартный заголовок не отображался (например, кнопка с изображением лицевой стороны) и оставляет заголовок пустой строкой, вспомогательная возможность не может получить заголовок и использовать его для обнаружения элемента управления.</span><span class="sxs-lookup"><span data-stu-id="7a7e8-115">If you customize a control so that the standard caption is not visible (for example, a button with a graphic face) and leave the caption as a blank string, the accessibility aid is not able to get the caption and use it to identify the control.</span></span>
-   <span data-ttu-id="7a7e8-116">Убедитесь, что [**WM \_ gettext**](../winmsg/wm-gettext.md) поддерживается.</span><span class="sxs-lookup"><span data-stu-id="7a7e8-116">Ensure that [**WM\_GETTEXT**](../winmsg/wm-gettext.md) is supported.</span></span>
-   <span data-ttu-id="7a7e8-117">Убедитесь, что все сообщения, относящиеся к классу, поддерживаются.</span><span class="sxs-lookup"><span data-stu-id="7a7e8-117">Ensure that all class-specific messages are supported.</span></span> <span data-ttu-id="7a7e8-118">Особенно важно поддерживать сообщения извлечения текста, такие как [**CB \_ Жетлбтекст**](../controls/cb-getlbtext.md) и [**фунтов \_ gettext**](../controls/lb-gettext.md).</span><span class="sxs-lookup"><span data-stu-id="7a7e8-118">It is especially important to support text-retrieval messages such as [**CB\_GETLBTEXT**](../controls/cb-getlbtext.md) and [**LB\_GETTEXT**](../controls/lb-gettext.md).</span></span> <span data-ttu-id="7a7e8-119">Задайте соответствующие биты стиля, такие как **CBS \_ Хасстрингс** и **фунты \_ хасстрингс**, чтобы указать, что элемент управления поддерживает эти сообщения.</span><span class="sxs-lookup"><span data-stu-id="7a7e8-119">Set the appropriate style bits, such as **CBS\_HASSTRINGS** and **LBS\_HASSTRINGS**, to indicate the control supports those messages.</span></span>

 

 
