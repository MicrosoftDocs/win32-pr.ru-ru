---
description: VMR и
ms.assetid: 45b3f964-6ec7-48b8-a66e-3c9883e6d780
title: VMR и предыдущие модули подготовки DirectShow
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: db40f9789a73446cb2dac4ed7033bdb163141bff
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "105662675"
---
# <a name="vmr-vs-previous-directshow-renderers"></a><span data-ttu-id="0110f-103">VMR и предыдущие модули подготовки DirectShow</span><span class="sxs-lookup"><span data-stu-id="0110f-103">VMR vs. Previous DirectShow Renderers</span></span>

<span data-ttu-id="0110f-104">При использовании старых фильтров на диаграмме должны быть нужны различные модули подготовки отчетов в зависимости от конфигурации оборудования.</span><span class="sxs-lookup"><span data-stu-id="0110f-104">With the old filters, different renderers would be required in the graph depending on the hardware configuration.</span></span>

<span data-ttu-id="0110f-105">Фильтр модуля [подготовки отчетов видео](video-renderer-filter.md) использовался для отображения одного видеопотока в сценариях видеопортов.</span><span class="sxs-lookup"><span data-stu-id="0110f-105">The [Video Renderer](video-renderer-filter.md) filter was used to render a single video stream in non-video port scenarios.</span></span> <span data-ttu-id="0110f-106">Он основан на аппаратной технологии, которая теперь прошла более пяти лет, а также на более ранней версии DirectDraw.</span><span class="sxs-lookup"><span data-stu-id="0110f-106">It was based on graphics hardware technology which is now over five years old, and on an older version of DirectDraw.</span></span> <span data-ttu-id="0110f-107">В некоторых сценариях для отрисовки используется GDI.</span><span class="sxs-lookup"><span data-stu-id="0110f-107">In certain scenarios, it uses GDI for rendering.</span></span> <span data-ttu-id="0110f-108">Это можно сделать для экономии видеоресурсов, которые были гораздо более ограниченными пятью годами назад, или в других случаях для преодоления ограничений DirectDraw, связанных с поддержкой нескольких мониторов.</span><span class="sxs-lookup"><span data-stu-id="0110f-108">This is done either to conserve video resources, which were much more limited five years ago, or else to overcome limitations in DirectDraw that were related to multi-monitor support.</span></span> <span data-ttu-id="0110f-109">Ни фильтр VMR-7, ни фильтр VMR-9 никогда не используют GDI для отрисовки; фильтр VMR-7 полностью основан на DirectDraw 7, а VMR-9 — на Direct3D 9.</span><span class="sxs-lookup"><span data-stu-id="0110f-109">Neither the VMR-7 nor the VMR-9 ever uses GDI for rendering; the VMR-7 is based completely on DirectDraw 7 and the VMR-9 is based on Direct3D 9.</span></span>

<span data-ttu-id="0110f-110">В сценариях, включающих видеопорт или несколько входных потоков видео, до VMR для подготовки к просмотру использовался фильтр [микшера наложения](overlay-mixer-filter.md) .</span><span class="sxs-lookup"><span data-stu-id="0110f-110">In scenarios involving either a video port or multiple video input streams, prior to the VMR the [Overlay Mixer](overlay-mixer-filter.md) filter was used for rendering.</span></span> <span data-ttu-id="0110f-111">Этот фильтр использует только наложение оборудования на графической карте и, как правило, ограничивается одной из областей наложения, предоставляемых большинством карт.</span><span class="sxs-lookup"><span data-stu-id="0110f-111">This filter only uses the hardware overlay on the graphics card, and so is generally limited to the one overlay surface provided by most cards.</span></span> <span data-ttu-id="0110f-112">Микшер наложения выполняет назначение цветов назначения, но не поддерживает альфа-смешение.</span><span class="sxs-lookup"><span data-stu-id="0110f-112">The Overlay Mixer performs destination color keying, but it is not capable of alpha blending.</span></span> <span data-ttu-id="0110f-113">Так как у него нет диспетчера окон, он должен использовать второй фильтр, модуль подготовки видео для управления окнами.</span><span class="sxs-lookup"><span data-stu-id="0110f-113">Because it does not have a window manager, it must use a second filter, the Video Renderer, for window management.</span></span> <span data-ttu-id="0110f-114">VMR может иметь значение true для альфа-смешения, а также создавать несколько наложений в программном обеспечении в дополнение к наложением оборудования.</span><span class="sxs-lookup"><span data-stu-id="0110f-114">The VMR is capable of true alpha blending, and can create multiple overlays in software in addition to the hardware overlays.</span></span>

<span data-ttu-id="0110f-115">В сценариях видеопортов, где приложения находили наложение скрытых титров или других ВБИ данных на видео, для выделения дополнительной видеопамяти для текста ВБИ требовалось дополнительный фильтр, [ВБИ Surface распределитель](vbi-surface-allocator.md).</span><span class="sxs-lookup"><span data-stu-id="0110f-115">In video port scenarios where applications were overlaying closed captioning or other VBI data on the video, an additional filter, the [VBI Surface Allocator](vbi-surface-allocator.md), was required in order to allocate the additional video memory for the VBI text.</span></span> <span data-ttu-id="0110f-116">Для независимых поставщиков программного обеспечения VMR-7 упрощает разработку приложений за счет сочетания функциональных возможностей выделения и отрисовки в одном фильтре, который используется во всех сценариях.</span><span class="sxs-lookup"><span data-stu-id="0110f-116">For ISVs, the VMR-7 simplifies application development by combining allocation and rendering functionality into a single filter that is used in all scenarios.</span></span> <span data-ttu-id="0110f-117">При использовании VMR распределитель поверхности ВБИ больше не требуется.</span><span class="sxs-lookup"><span data-stu-id="0110f-117">With the VMR, the VBI Surface Allocator is no longer needed.</span></span> <span data-ttu-id="0110f-118">Этот фильтр заменен в Windows XP новым фильтром [диспетчера видеопортов](video-port-manager.md) , который выполняет все задачи порта видео, ранее выполненные микшером наложения.</span><span class="sxs-lookup"><span data-stu-id="0110f-118">This filter is replaced in Windows XP by the new [Video Port Manager](video-port-manager.md) filter which performs all of the video port tasks previously performed by the Overlay Mixer.</span></span>

> [!Note]  
> <span data-ttu-id="0110f-119">VMR-9 не поддерживает порты видео.</span><span class="sxs-lookup"><span data-stu-id="0110f-119">The VMR-9 does not support video ports.</span></span>

 

<span data-ttu-id="0110f-120">VMR является более надежным по сравнению с более ранними модулями подготовки отчетов, частью которого является использование только DirectDraw 7 (или Direct3D 9 при использовании интерфейсов VMR-9), в отличие от старых модулей подготовки отчетов, которые использовали сочетание интерфейсов из старых и более новых версий DirectDraw.</span><span class="sxs-lookup"><span data-stu-id="0110f-120">The VMR is more robust than the earlier renderers, in part because it only uses DirectDraw 7 (or Direct3D 9 if you are using the VMR-9) interfaces, as opposed to the old renderers which used a mixture of interfaces from older and newer versions of DirectDraw.</span></span> <span data-ttu-id="0110f-121">VMR также использует новый механизм представления изображений, предназначенный для текущих и будущих поколений адаптеров, поддерживающих Direct3D, увеличенную пропускную способность видеопамяти и видео, а также функции аппаратного ускорения.</span><span class="sxs-lookup"><span data-stu-id="0110f-121">The VMR also employs a new image presentation mechanism which is designed for current and future generations of adapters, which have support for Direct3D, increased VRAM and video memory bandwidth, and hardware acceleration features.</span></span> <span data-ttu-id="0110f-122">С помощью VMR фокус находится на интерфейсной обработке и снижает зависимость от видео-портов и наложений.</span><span class="sxs-lookup"><span data-stu-id="0110f-122">With the VMR, the focus is on front-end processing, and reduced dependence on video ports and overlays.</span></span> <span data-ttu-id="0110f-123">Но, даже со всеми ее новыми функциями, VMR предназначен для обеспечения максимальной совместимости с существующими приложениями.</span><span class="sxs-lookup"><span data-stu-id="0110f-123">But even with all its new functionality, the VMR is designed for maximum compatibility with existing applications.</span></span>

<span data-ttu-id="0110f-124">VMR также является расширяемым.</span><span class="sxs-lookup"><span data-stu-id="0110f-124">The VMR is also extensible.</span></span> <span data-ttu-id="0110f-125">Приложения могут предоставлять собственные подкомпоненты для выполнения пользовательских видеоэффектов и/или управления процессом выделения и отрисовки.</span><span class="sxs-lookup"><span data-stu-id="0110f-125">Applications can provide their own sub-components to perform custom video effects and/or take control of the allocation and rendering process.</span></span>

## <a name="related-topics"></a><span data-ttu-id="0110f-126">См. также</span><span class="sxs-lookup"><span data-stu-id="0110f-126">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="0110f-127">О рендеринге видео</span><span class="sxs-lookup"><span data-stu-id="0110f-127">About the Video Mixing Render</span></span>](about-the-video-mixing-render.md)
</dt> </dl>

 

 



