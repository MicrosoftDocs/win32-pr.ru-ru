---
description: Отложенные команды ставятся в очередь путем вызова методов в интерфейсе Икуеуекомманд и предоставляются диспетчером графа фильтров и некоторыми фильтрами.
ms.assetid: b2b177c6-af2b-4585-914f-001a6355a298
title: Класс Кдеферредкомманд
ms.topic: reference
ms.date: 05/31/2018
topic_type:
- APIRef
- kbSyntax
api_name:
- CDeferredCommand
api_type:
- COM
api_location: ''
ms.openlocfilehash: 8d3db3f35b5589a6cd17791d72aa9931124ccfbb
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/06/2021
ms.locfileid: "104140519"
---
# <a name="cdeferredcommand-class"></a><span data-ttu-id="1b35f-103">Класс Кдеферредкомманд</span><span class="sxs-lookup"><span data-stu-id="1b35f-103">CDeferredCommand class</span></span>

![Иерархия классов кдеферредкомманд](images/cutil13.png)

<span data-ttu-id="1b35f-105">Отложенные команды ставятся в очередь путем вызова методов в интерфейсе [**икуеуекомманд**](/windows/desktop/api/Control/nn-control-iqueuecommand) и предоставляются диспетчером графа фильтров и некоторыми фильтрами.</span><span class="sxs-lookup"><span data-stu-id="1b35f-105">Deferred commands are queued by calls to methods on the [**IQueueCommand**](/windows/desktop/api/Control/nn-control-iqueuecommand) interface and are exposed by the filter graph manager and by some filters.</span></span> <span data-ttu-id="1b35f-106">Успешный вызов одного из этих методов возвращает интерфейс [**идеферредкомманд**](/windows/desktop/api/Control/nn-control-ideferredcommand) , представляющий команду в очереди.</span><span class="sxs-lookup"><span data-stu-id="1b35f-106">A successful call to one of these methods returns an [**IDeferredCommand**](/windows/desktop/api/Control/nn-control-ideferredcommand) interface representing the queued command.</span></span>

<span data-ttu-id="1b35f-107">`CDeferredCommand`Объект представляет отдельную отложенную команду и предоставляет интерфейс [**идеферредкомманд**](/windows/desktop/api/Control/nn-control-ideferredcommand) , а также другие методы, которые допускают проверки времени и фактическое выполнение.</span><span class="sxs-lookup"><span data-stu-id="1b35f-107">A `CDeferredCommand` object represents a single deferred command and exposes the [**IDeferredCommand**](/windows/desktop/api/Control/nn-control-ideferredcommand) interface as well as other methods that permit time checks and actual execution.</span></span> <span data-ttu-id="1b35f-108">`CDeferredCommand`Объект содержит ссылку на объект [**ккмдкуеуе**](ccmdqueue.md) , для которого он поставлен в очередь.</span><span class="sxs-lookup"><span data-stu-id="1b35f-108">A `CDeferredCommand` object contains a reference to the [**CCmdQueue**](ccmdqueue.md) object on which it is queued.</span></span>

<span data-ttu-id="1b35f-109">Счетчики ссылок контролируют время существования `CDeferredCommand` класса.</span><span class="sxs-lookup"><span data-stu-id="1b35f-109">Reference counts control the lifetime of the `CDeferredCommand` class.</span></span> <span data-ttu-id="1b35f-110">При вызове функции-члена [**кдеферредкомманд:: Invoke**](cdeferredcommand-invoke.md) вызывающее приложение получает указатель на интерфейс, который подсчитывается по ссылке, а объект [**ккмдкуеуе**](ccmdqueue.md) также содержит счетчик ссылок на отложенную команду.</span><span class="sxs-lookup"><span data-stu-id="1b35f-110">When calling the [**CDeferredCommand::Invoke**](cdeferredcommand-invoke.md) member function, the calling application gets an interface pointer that is reference-counted, and the [**CCmdQueue**](ccmdqueue.md) object also holds a reference count on the deferred command.</span></span> <span data-ttu-id="1b35f-111">Вызов функции члена [**идеферредкомманд:: Cancel**](/windows/desktop/api/Control/nf-control-ideferredcommand-cancel) выводит отложенную команду из очереди команд и тем самым сокращает число ссылок на единицу.</span><span class="sxs-lookup"><span data-stu-id="1b35f-111">Calling the [**IDeferredCommand::Cancel**](/windows/desktop/api/Control/nf-control-ideferredcommand-cancel) member function takes the deferred command off the command queue and thus reduces the reference count by one.</span></span> <span data-ttu-id="1b35f-112">После отключения очереди команду нельзя вернуть в очередь.</span><span class="sxs-lookup"><span data-stu-id="1b35f-112">Once taken off the queue, the command cannot be put back on the queue.</span></span>



| <span data-ttu-id="1b35f-113">Защищенные члены данных</span><span class="sxs-lookup"><span data-stu-id="1b35f-113">Protected Data Members</span></span>                                        | <span data-ttu-id="1b35f-114">Описание</span><span class="sxs-lookup"><span data-stu-id="1b35f-114">Description</span></span>                                                                                                             |
|---------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="1b35f-115">m \_ бстреам</span><span class="sxs-lookup"><span data-stu-id="1b35f-115">m\_bStream</span></span>                                                    | <span data-ttu-id="1b35f-116">Флаг для времени [**потока**](stream-time.md) или времени презентации.</span><span class="sxs-lookup"><span data-stu-id="1b35f-116">Flag for [**stream time**](stream-time.md) or presentation time.</span></span> <span data-ttu-id="1b35f-117">для передачи в вызванный метод.</span><span class="sxs-lookup"><span data-stu-id="1b35f-117">to be passed to the invoked method.</span></span>                   |
| <span data-ttu-id="1b35f-118">m. \_ Отправка</span><span class="sxs-lookup"><span data-stu-id="1b35f-118">m\_Dispatch</span></span>                                                   | <span data-ttu-id="1b35f-119">Обращается к интерфейсу **ITypeInfo** .</span><span class="sxs-lookup"><span data-stu-id="1b35f-119">Accesses the **ITypeInfo** interface.</span></span>                                                                                   |
| <span data-ttu-id="1b35f-120">m \_ диспидмесод</span><span class="sxs-lookup"><span data-stu-id="1b35f-120">m\_dispidMethod</span></span>                                               | <span data-ttu-id="1b35f-121">Метод для запуска интерфейса.</span><span class="sxs-lookup"><span data-stu-id="1b35f-121">Method on the interface to run.</span></span>                                                                                         |
| <span data-ttu-id="1b35f-122">m \_ DispParams</span><span class="sxs-lookup"><span data-stu-id="1b35f-122">m\_DispParams</span></span>                                                 | <span data-ttu-id="1b35f-123">Объект [**кдисппарамс**](cdispparams.md) , содержащий список параметров **DISPPARAMS**</span><span class="sxs-lookup"><span data-stu-id="1b35f-123">[**CDispParams**](cdispparams.md) object containing the **DISPPARAMS** parameter list</span></span>                                  |
| <span data-ttu-id="1b35f-124">m \_ хрресулт</span><span class="sxs-lookup"><span data-stu-id="1b35f-124">m\_hrResult</span></span>                                                   | <span data-ttu-id="1b35f-125">Сохраняет возвращенное значение **HRESULT** .</span><span class="sxs-lookup"><span data-stu-id="1b35f-125">Stores the returned **HRESULT** value.</span></span>                                                                                  |
| <span data-ttu-id="1b35f-126">m \_ IID</span><span class="sxs-lookup"><span data-stu-id="1b35f-126">m\_iid</span></span>                                                        | <span data-ttu-id="1b35f-127">Глобальный уникальный идентификатор (**GUID**) интерфейса.</span><span class="sxs-lookup"><span data-stu-id="1b35f-127">Globally unique identifier (**GUID**) of the interface.</span></span>                                                                 |
| <span data-ttu-id="1b35f-128">m \_ пкуеуе</span><span class="sxs-lookup"><span data-stu-id="1b35f-128">m\_pQueue</span></span>                                                     | <span data-ttu-id="1b35f-129">Указатель на объект [**ккмдкуеуе**](ccmdqueue.md) , предоставляющий интерфейс [**икуеуекомманд**](/windows/desktop/api/Control/nn-control-iqueuecommand) .</span><span class="sxs-lookup"><span data-stu-id="1b35f-129">Pointer to the [**CCmdQueue**](ccmdqueue.md) object that exposes the [**IQueueCommand**](/windows/desktop/api/Control/nn-control-iqueuecommand) interface.</span></span> |
| <span data-ttu-id="1b35f-130">m \_ Punk</span><span class="sxs-lookup"><span data-stu-id="1b35f-130">m\_pUnk</span></span>                                                       | <span data-ttu-id="1b35f-131">Указатель **IUnknown** на интерфейс, на котором будет выполняться команда.</span><span class="sxs-lookup"><span data-stu-id="1b35f-131">**IUnknown** pointer to the interface on which the command will be run.</span></span>                                                 |
| <span data-ttu-id="1b35f-132">m \_ пварресулт</span><span class="sxs-lookup"><span data-stu-id="1b35f-132">m\_pvarResult</span></span>                                                 | <span data-ttu-id="1b35f-133">Результирующая информация, если таковая имеется, из вызванного метода.</span><span class="sxs-lookup"><span data-stu-id="1b35f-133">Resulting information, if any, from the invoked method.</span></span>                                                                 |
| <span data-ttu-id="1b35f-134">\_время m</span><span class="sxs-lookup"><span data-stu-id="1b35f-134">m\_time</span></span>                                                       | <span data-ttu-id="1b35f-135">Время, когда будет выполняться команда.</span><span class="sxs-lookup"><span data-stu-id="1b35f-135">Time at which the command will be run.</span></span>                                                                                  |
| <span data-ttu-id="1b35f-136">m \_ вфлагс</span><span class="sxs-lookup"><span data-stu-id="1b35f-136">m\_wFlags</span></span>                                                     | <span data-ttu-id="1b35f-137">Флаги, указывающие контекст вызова.</span><span class="sxs-lookup"><span data-stu-id="1b35f-137">Flags specifying the context of the invocation.</span></span>                                                                         |
| <span data-ttu-id="1b35f-138">Функции элементов</span><span class="sxs-lookup"><span data-stu-id="1b35f-138">Member Functions</span></span>                                              | <span data-ttu-id="1b35f-139">Описание</span><span class="sxs-lookup"><span data-stu-id="1b35f-139">Description</span></span>                                                                                                             |
| [<span data-ttu-id="1b35f-140">**кдеферредкомманд**</span><span class="sxs-lookup"><span data-stu-id="1b35f-140">**CDeferredCommand**</span></span>](cdeferredcommand-cdeferredcommand.md) | <span data-ttu-id="1b35f-141">Конструирует объект **кдеферредкомманд** .</span><span class="sxs-lookup"><span data-stu-id="1b35f-141">Constructs a **CDeferredCommand** object.</span></span>                                                                               |
| [<span data-ttu-id="1b35f-142">**GetFlags**</span><span class="sxs-lookup"><span data-stu-id="1b35f-142">**GetFlags**</span></span>](cdeferredcommand-getflags.md)                 | <span data-ttu-id="1b35f-143">Получает флаги контекста, связанные с отложенной командой.</span><span class="sxs-lookup"><span data-stu-id="1b35f-143">Retrieves the context flags associated with the deferred command.</span></span>                                                       |
| [<span data-ttu-id="1b35f-144">**жетиид**</span><span class="sxs-lookup"><span data-stu-id="1b35f-144">**GetIID**</span></span>](cdeferredcommand-getiid.md)                     | <span data-ttu-id="1b35f-145">Возвращает идентификатор интерфейса (IID) интерфейса, на котором будет выполняться метод.</span><span class="sxs-lookup"><span data-stu-id="1b35f-145">Retrieves the interface identifier (IID) of the interface on which the method will be run.</span></span>                              |
| [<span data-ttu-id="1b35f-146">**GetMethod**</span><span class="sxs-lookup"><span data-stu-id="1b35f-146">**GetMethod**</span></span>](cdeferredcommand-getmethod.md)               | <span data-ttu-id="1b35f-147">Возвращает идентификатор диспетчеризации для выполняемого метода.</span><span class="sxs-lookup"><span data-stu-id="1b35f-147">Retrieves the dispatch identifier of the method to be run.</span></span>                                                              |
| [<span data-ttu-id="1b35f-148">**GetParams**</span><span class="sxs-lookup"><span data-stu-id="1b35f-148">**GetParams**</span></span>](cdeferredcommand-getparams.md)               | <span data-ttu-id="1b35f-149">Получает список аргументов **DISPPARAMS** для метода.</span><span class="sxs-lookup"><span data-stu-id="1b35f-149">Retrieves the **DISPPARAMS** argument list to the method.</span></span>                                                               |
| [<span data-ttu-id="1b35f-150">**GetResult**</span><span class="sxs-lookup"><span data-stu-id="1b35f-150">**GetResult**</span></span>](cdeferredcommand-getresult.md)               | <span data-ttu-id="1b35f-151">Возвращает результирующий список аргументов, если он существует.</span><span class="sxs-lookup"><span data-stu-id="1b35f-151">Retrieves the resulting argument list, if one exists.</span></span>                                                                   |
| [<span data-ttu-id="1b35f-152">**GetTime**</span><span class="sxs-lookup"><span data-stu-id="1b35f-152">**GetTime**</span></span>](cdeferredcommand-gettime.md)                   | <span data-ttu-id="1b35f-153">Возвращает время, когда будет выполнен метод.</span><span class="sxs-lookup"><span data-stu-id="1b35f-153">Retrieves the time when the method will be run.</span></span>                                                                         |
| [<span data-ttu-id="1b35f-154">**Вызвать**</span><span class="sxs-lookup"><span data-stu-id="1b35f-154">**Invoke**</span></span>](cdeferredcommand-invoke.md)                     | <span data-ttu-id="1b35f-155">Предоставляет доступ к методам и свойствам, предоставляемым объектом.</span><span class="sxs-lookup"><span data-stu-id="1b35f-155">Provides access to methods and properties exposed by an object.</span></span>                                                         |
| [<span data-ttu-id="1b35f-156">**исстреамтиме**</span><span class="sxs-lookup"><span data-stu-id="1b35f-156">**IsStreamTime**</span></span>](cdeferredcommand-isstreamtime.md)         | <span data-ttu-id="1b35f-157">Указывает, должна ли команда выполняться во время потока или во время презентации.</span><span class="sxs-lookup"><span data-stu-id="1b35f-157">Specifies whether the command is to be run at stream time or presentation time.</span></span>                                         |
| <span data-ttu-id="1b35f-158">Методы Идеферредкомманд</span><span class="sxs-lookup"><span data-stu-id="1b35f-158">IDeferredCommand Methods</span></span>                                      | <span data-ttu-id="1b35f-159">Описание</span><span class="sxs-lookup"><span data-stu-id="1b35f-159">Description</span></span>                                                                                                             |
| [<span data-ttu-id="1b35f-160">**Отменить**</span><span class="sxs-lookup"><span data-stu-id="1b35f-160">**Cancel**</span></span>](cdeferredcommand-cancel.md)                     | <span data-ttu-id="1b35f-161">Отменяет ранее поставленный в очередь запрос [**кдеферредкомманд:: Invoke**](cdeferredcommand-invoke.md) .</span><span class="sxs-lookup"><span data-stu-id="1b35f-161">Cancels a previously queued [**CDeferredCommand::Invoke**](cdeferredcommand-invoke.md) request.</span></span>                        |
| [<span data-ttu-id="1b35f-162">**Достоверность**</span><span class="sxs-lookup"><span data-stu-id="1b35f-162">**Confidence**</span></span>](cdeferredcommand-confidence.md)             | <span data-ttu-id="1b35f-163">В настоящий момент не реализовано.</span><span class="sxs-lookup"><span data-stu-id="1b35f-163">Not currently implemented.</span></span>                                                                                              |
| [<span data-ttu-id="1b35f-164">**Отложить**</span><span class="sxs-lookup"><span data-stu-id="1b35f-164">**Postpone**</span></span>](cdeferredcommand-postpone.md)                 | <span data-ttu-id="1b35f-165">Указывает новое время презентации для ранее поставленной в очередь команды.</span><span class="sxs-lookup"><span data-stu-id="1b35f-165">Specifies a new presentation time for a previously queued command.</span></span>                                                      |
| [<span data-ttu-id="1b35f-166">**Значение HResult**</span><span class="sxs-lookup"><span data-stu-id="1b35f-166">**GetHResult**</span></span>](cdeferredcommand-gethresult.md)             | <span data-ttu-id="1b35f-167">Получает значение **HRESULT** вызванного метода.</span><span class="sxs-lookup"><span data-stu-id="1b35f-167">Retrieves the **HRESULT** value of the invoked method.</span></span>                                                                  |



 

 

 



