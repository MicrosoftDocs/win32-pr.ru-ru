---
description: Применение уровней родительского управления
ms.assetid: ad996a03-e94e-4743-90a2-aa390984a231
title: Применение уровней родительского управления
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 7548721613c36369aaa34e5b5a62b665100e9495
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/06/2021
ms.locfileid: "104495516"
---
# <a name="enforcing-parental-management-levels"></a><span data-ttu-id="22d7f-103">Применение уровней родительского управления</span><span class="sxs-lookup"><span data-stu-id="22d7f-103">Enforcing Parental Management Levels</span></span>

<span data-ttu-id="22d7f-104">Любому названию или части заголовка на DVD-Video диске можно назначить общий уровень родительского управления (ПМЛ) от 1 до 8.</span><span class="sxs-lookup"><span data-stu-id="22d7f-104">Any title or portion of a title on a DVD-Video disc can be assigned a generic parental management level (PML) from 1 through 8.</span></span> <span data-ttu-id="22d7f-105">Когда Навигатор DVD считывает содержимое с ПМЛ, говорят, что он находится в *родительском блоке*.</span><span class="sxs-lookup"><span data-stu-id="22d7f-105">When the DVD Navigator is reading content that has a PML, it is said to be in a *parental block*.</span></span> <span data-ttu-id="22d7f-106">Родительский блок может состоять из части главы, нескольких глав или нескольких заголовков.</span><span class="sxs-lookup"><span data-stu-id="22d7f-106">A parental block may consist of part of a chapter, multiple chapters, or multiple titles.</span></span> <span data-ttu-id="22d7f-107">Приложение DVD, предназначенное для международного рынка, не должно жестко кодировать определенную систему оценок в логику родительского управления.</span><span class="sxs-lookup"><span data-stu-id="22d7f-107">A DVD application intended for an international market should not hard code a particular rating system into its parental management logic.</span></span>

<span data-ttu-id="22d7f-108">Сам DVD-навигатор не применяет Пмлс. Он просто информирует ваше приложение о том, что он встречает ПМЛ информацию на диске. По умолчанию он пропускает эти сведения на диске и воспроизводит содержимое самого высокого уровня.</span><span class="sxs-lookup"><span data-stu-id="22d7f-108">The DVD Navigator itself does not enforce the PMLs; it merely informs your application when it encounters PML information on the disc. By default, it ignores this information on the disc and plays the highest level content.</span></span> <span data-ttu-id="22d7f-109">Чтобы применить Пмлс, приложение должно реализовать некоторую форму логики управления паролями, которая связывает пользователей с уровнями, предписывает DVD-навигатору отправлять уведомления о событиях ПМЛ (путем вызова метода [**IDvdControl2:: SetOption**](/windows/desktop/api/Strmif/nf-strmif-idvdcontrol2-setoption) при запуске с параметрами DVD \_ нотифипаренталлевелчанже и **true**) и ответа на эти события, чтобы разрешить или запретить доступ соответствующим образом.</span><span class="sxs-lookup"><span data-stu-id="22d7f-109">To enforce the PMLs, your application must implement some form of password control logic that associates users with levels, instruct the DVD Navigator to send it PML event notifications (by calling the [**IDvdControl2::SetOption**](/windows/desktop/api/Strmif/nf-strmif-idvdcontrol2-setoption) method on startup, with the parameters DVD\_NotifyParentalLevelChange and **TRUE**), and respond to those events to allow or disallow access as appropriate.</span></span>

<span data-ttu-id="22d7f-110">Название DVD-диска может иметь один общий ПМЛ, но авторы дисков могут предоставить определенные разделы этого названия выше или более строгими Пмлс.</span><span class="sxs-lookup"><span data-stu-id="22d7f-110">A DVD title can have one overall PML, but disc authors can give certain sections of that title higher or more restrictive PMLs.</span></span> <span data-ttu-id="22d7f-111">Они называются временными командами ПМЛ. Эти команды всегда содержат две инструкции ветвления: один — для выполнения команды Temporary ПМЛ, которая принимается приложением Player, а другая — для выполнения команды, если команда отклонена.</span><span class="sxs-lookup"><span data-stu-id="22d7f-111">These are called temporary PML commands; these commands always contain two branching instructions: one to follow if the temporary PML command is accepted by the player application, and the other to follow if the command is rejected.</span></span> <span data-ttu-id="22d7f-112">Последовательность событий выглядит следующим образом.</span><span class="sxs-lookup"><span data-stu-id="22d7f-112">The sequence of events is as follows.</span></span> <span data-ttu-id="22d7f-113">Навигатор DVD считывает содержимое видео (домен заголовка DVD) при обнаружении временной команды ПМЛ на диске. Он проверяет внутренний флаг, чтобы узнать, запрашивал ли приложение уведомления об этом событии.</span><span class="sxs-lookup"><span data-stu-id="22d7f-113">The DVD Navigator is reading video content (DVD Title Domain) when it encounters a temporary PML command on the disc. It checks its internal flag to see whether the application has requested to be notified of this event.</span></span> <span data-ttu-id="22d7f-114">Если этот флаг не установлен, воспроизведение DVD-диска продолжится после ветви "изменение родительского уровня отклонено", указанной на диске. Если установлен флаг, DVD-диск отправляет в \_ \_ \_ \_ приложение событие изменения родительского уровня EC и ожидает приостановленного состояния, пока не получит ответ.</span><span class="sxs-lookup"><span data-stu-id="22d7f-114">If the flag is not set, the DVD continues playing, following the "parental level change rejected" branch specified on the disc. If the flag is set, the DVD sends an EC\_DVD\_PARENTAL\_LEVEL\_CHANGE event to the application and waits in a paused state until it gets a response.</span></span> <span data-ttu-id="22d7f-115">Когда приложение получает событие, оно использует собственную логику, чтобы определить, следует ли принимать команду.</span><span class="sxs-lookup"><span data-stu-id="22d7f-115">When your application receives the event, it uses its own logic to determine whether to accept the command.</span></span> <span data-ttu-id="22d7f-116">Затем он вызывает [**IDvdControl2:: акцептпаренталлевелчанже**](/windows/desktop/api/Strmif/nf-strmif-idvdcontrol2-acceptparentallevelchange) с аргументом **true** или **false**.</span><span class="sxs-lookup"><span data-stu-id="22d7f-116">It then calls [**IDvdControl2::AcceptParentalLevelChange**](/windows/desktop/api/Strmif/nf-strmif-idvdcontrol2-acceptparentallevelchange) with an argument of **TRUE** or **FALSE**.</span></span> <span data-ttu-id="22d7f-117">Если задано **значение true**, Навигатор DVD возобновляет работу, следуя указаниям в ветви "принято изменение родительского уровня", указанной на диске. В противном случае возобновится воспроизведение и следуйте указаниям в ветви "изменение родительского уровня отклонено".</span><span class="sxs-lookup"><span data-stu-id="22d7f-117">If **TRUE**, the DVD Navigator resumes playing, following the "parental level change accepted" branch specified on the disc. Otherwise it resumes playing and follow the "parental level change rejected" branch.</span></span>

## <a name="related-topics"></a><span data-ttu-id="22d7f-118">См. также</span><span class="sxs-lookup"><span data-stu-id="22d7f-118">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="22d7f-119">DVD-приложения</span><span class="sxs-lookup"><span data-stu-id="22d7f-119">DVD Applications</span></span>](dvd-applications.md)
</dt> </dl>

 

 



