---
description: Метод Чанжемедиатипе динамически изменяет тип носителя для соединения.
ms.assetid: 38efdfdc-f636-4cad-b8d3-8c63a277644e
title: Кдинамикаутпутпин. Чанжемедиатипе, метод (Амфилтер. h)
ms.topic: reference
ms.date: 05/31/2018
topic_type:
- APIRef
- kbSyntax
api_name:
- CDynamicOutputPin.ChangeMediaType
api_type:
- COM
api_location:
- Strmbase.lib
- Strmbase.dll
- Strmbasd.lib
- Strmbasd.dll
ms.openlocfilehash: 89c15e3076a95f8fee3f2f2970fc59da5cf3bf4b
ms.sourcegitcommit: c8ec1ded1ffffc364d3c4f560bb2171da0dc5040
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/22/2021
ms.locfileid: "105658079"
---
# <a name="cdynamicoutputpinchangemediatype-method"></a>Кдинамикаутпутпин. Чанжемедиатипе, метод

`ChangeMediaType`Метод динамически изменяет тип носителя для соединения. Это изменение может произойти при выполнении графа фильтра. После вызова этого метода не удается доставить образцы со старым типом носителя. Вызывающий объект должен гарантировать, что старые примеры не ожидаются.

## <a name="syntax"></a>Синтаксис


```C++
HRESULT ChangeMediaType(
   const CMediaType *pmt
);
```



## <a name="parameters"></a>Параметры

<dl> <dt>

*состоит* 
</dt> <dd>

Указатель на структуру [**\_ \_ типа мультимедиа AM**](/windows/win32/api/strmif/ns-strmif-am_media_type) , указывающую тип носителя.

</dd> </dl>

## <a name="return-value"></a>Возвращаемое значение

Возвращает значение **HRESULT** . Возможные значения включают в себя, показанные в следующей таблице.



| Код возврата                                                                                           | Описание                                                                                                                              |
|-------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------|
| <dl> <dt>**\_ОК**</dt> </dl>                  | Успешно.<br/>                                                                                                                      |
| <dl> <dt>**\_Ошибка E**</dt> </dl>                | Ошибка. Возможно, фильтр-владелец не вызывал [**кдинамикаутпутпин:: сетконфигинфо**](cdynamicoutputpin-setconfiginfo.md).<br/> |
| <dl> <dt>**VFW \_ E \_ не \_ подключен**</dt> </dl> | ПИН-код не подключен.<br/>                                                                                                     |



 

## <a name="remarks"></a>Комментарии

Перед вызовом этого метода вызовите метод [**кдинамикаутпутпин:: стартусингаутпутпин**](cdynamicoutputpin-startusingoutputpin.md) .

Этот метод сначала проверяет, может ли нисходящий входной ПИН-код принимать новый формат без повторного подключения. Он запрашивает входной ПИН-код для интерфейса [**ипинконнектион**](/windows/desktop/api/Strmif/nn-strmif-ipinconnection) . Если входной ПИН-код поддерживает **ипинконнектион**, метод вызывает метод [**Ипинконнектион::D инамиккуерякцепт**](/windows/desktop/api/Strmif/nf-strmif-ipinconnection-dynamicqueryaccept) с предложенным типом мультимедиа. Если входной ПИН-код принимает новый тип мультимедиа, метод вызывает метод [**Ипин:: рецеивеконнектион**](/windows/desktop/api/Strmif/nf-strmif-ipin-receiveconnection) и повторно согласовывает требования распределителя.

С другой стороны, если подчиненный ПИН-код не поддерживает **ипинконнектион** или если он отклоняет новый тип мультимедиа, метод вызывает метод [**Кдинамикаутпутпин::D инамикреконнект**](cdynamicoutputpin-dynamicreconnect.md) для выполнения динамического повторного подключения.

## <a name="requirements"></a>Требования



| Требование | Значение |
|--------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Header<br/>  | <dl> <dt>Амфилтер. h (включение Streams. h)</dt> </dl>                                                                                  |
| Библиотека<br/> | <dl> <dt>Стрмбасе. lib (розничные сборки); </dt> <dt>Стрмбасд. lib (отладочные сборки)</dt> </dl> |



## <a name="see-also"></a>См. также раздел

<dl> <dt>

[**Класс Кдинамикаутпутпин**](cdynamicoutputpin.md)
</dt> </dl>

 

 




