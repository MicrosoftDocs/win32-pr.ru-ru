---
description: Обзор систем MPEG-2
ms.assetid: 1ebfb194-002f-40ac-9be5-267861b6687b
title: Обзор систем MPEG-2
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 4206b36db7b3172c6e161745922e83490855c73c
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/06/2021
ms.locfileid: "104140335"
---
# <a name="overview-of-mpeg-2-systems"></a><span data-ttu-id="45e24-103">Обзор систем MPEG-2</span><span class="sxs-lookup"><span data-stu-id="45e24-103">Overview of MPEG-2 Systems</span></span>

<span data-ttu-id="45e24-104">В этом разделе приводятся общие, не технические сведения о системном слое MPEG-2.</span><span class="sxs-lookup"><span data-stu-id="45e24-104">This section gives a general, non-technical overview of the MPEG-2 Systems layer.</span></span> <span data-ttu-id="45e24-105">Системы MPEG-2 — это стандарт, который определяет, как потоки аудио и видео могут быть мультиплексированы в формате MPEG-2.</span><span class="sxs-lookup"><span data-stu-id="45e24-105">MPEG-2 Systems is the standard that defines how audio and video streams are multiplexed in MPEG-2.</span></span>

<span data-ttu-id="45e24-106">**Простейшие потоки**</span><span class="sxs-lookup"><span data-stu-id="45e24-106">**Elementary Streams**</span></span>

<span data-ttu-id="45e24-107">Мультиплексирование MPEG-2 начинается с одного или нескольких байтовых потоков, называемых простейшими потоками, которые содержат видео, аудио или другие данные.</span><span class="sxs-lookup"><span data-stu-id="45e24-107">MPEG-2 multiplexing starts with one or more byte streams, called elementary streams (ES), that contain video, audio, or other data.</span></span> <span data-ttu-id="45e24-108">Например, видео ES содержит сжатые видеокадры, а также заголовки последовательности, заголовки группы (GOP) и все остальные, необходимые декодеру для декодирования потока.</span><span class="sxs-lookup"><span data-stu-id="45e24-108">For example, a video ES contains compressed video frames, plus sequence headers, group-of-picture (GOP) headers, and anything else needed by the decoder to decode the stream.</span></span> <span data-ttu-id="45e24-109">Системный уровень не определяет содержимое потока байтов ES.</span><span class="sxs-lookup"><span data-stu-id="45e24-109">The Systems layer does not define the contents of the ES byte stream.</span></span>

<span data-ttu-id="45e24-110">Простейший поток разбивается на пакеты, формируя *пакетный простой поток* (PES).</span><span class="sxs-lookup"><span data-stu-id="45e24-110">An elementary stream is broken up into packets, forming a *packetized elementary stream* (PES).</span></span> <span data-ttu-id="45e24-111">Длинные пакеты имеют переменную длину.</span><span class="sxs-lookup"><span data-stu-id="45e24-111">PES packets have variable length.</span></span> <span data-ttu-id="45e24-112">Содержимое пакета называется *полезной* нагрузкой.</span><span class="sxs-lookup"><span data-stu-id="45e24-112">The contents of the packet are called the *payload*.</span></span> <span data-ttu-id="45e24-113">Каждый PES-пакет также содержит заголовок.</span><span class="sxs-lookup"><span data-stu-id="45e24-113">Each PES packet also includes a header.</span></span> <span data-ttu-id="45e24-114">Мультиплексор назначает 1-байтовый идентификатор потока каждому PES; отдельные PES пакеты идентифицируются ИДЕНТИФИКАТОРом потока в заголовке пакета.</span><span class="sxs-lookup"><span data-stu-id="45e24-114">The multiplexer assigns a 1-byte stream ID to every PES; individual PES packets are identified by the stream ID in the packet header.</span></span> <span data-ttu-id="45e24-115">Для звуковых потоков идентификатор потока имеет форму 110 *XXXXX*.</span><span class="sxs-lookup"><span data-stu-id="45e24-115">For audio streams, the stream ID has the form 110 *xxxxx*.</span></span> <span data-ttu-id="45e24-116">Для видео идентификатор потока имеет форму 1110 *yyyy*.</span><span class="sxs-lookup"><span data-stu-id="45e24-116">For video, the stream ID has the form 1110 *yyyy*.</span></span>

<span data-ttu-id="45e24-117">Стандарт MPEG-2 определяет два способа доставки пакетных простейших потоков: *программных потоков* и *потоков транспорта*.</span><span class="sxs-lookup"><span data-stu-id="45e24-117">The MPEG-2 standard defines two ways to deliver packetized elementary streams: *program streams* and *transport streams*.</span></span>

<span data-ttu-id="45e24-118">**Потоки программы**</span><span class="sxs-lookup"><span data-stu-id="45e24-118">**Program Streams**</span></span>

<span data-ttu-id="45e24-119">Потоки программ предназначены для сред, которые относительно недоступны, например для хранилища локальных файлов.</span><span class="sxs-lookup"><span data-stu-id="45e24-119">Program streams are designed for environments that are relatively error-free, such as local file storage.</span></span> <span data-ttu-id="45e24-120">В потоке программы PES-пакеты мультиплексированы и организованы в блоки, называемые *пакетами*.</span><span class="sxs-lookup"><span data-stu-id="45e24-120">In a program stream, the PES packets are multiplexed and organized into units called *packs*.</span></span> <span data-ttu-id="45e24-121">Все PES-потоки в потоке программы синхронизируются с теми же часами.</span><span class="sxs-lookup"><span data-stu-id="45e24-121">All of the PES streams in a program stream are synchronized to the same clock.</span></span>

<span data-ttu-id="45e24-122">**Транспортные потоки**</span><span class="sxs-lookup"><span data-stu-id="45e24-122">**Transport Streams**</span></span>

<span data-ttu-id="45e24-123">Транспортные потоки (TS) предназначены для ненадежных или подверженных ошибкам сред, таких как сетевые трансляции.</span><span class="sxs-lookup"><span data-stu-id="45e24-123">Transport streams (TS) are designed for unreliable or error-prone environments, such as network broadcasts.</span></span> <span data-ttu-id="45e24-124">Кроме того, они могут содержать несколько программ, синхронизируемых с разными часами.</span><span class="sxs-lookup"><span data-stu-id="45e24-124">Also, they can contain multiple programs that are synchronized to different clocks.</span></span> <span data-ttu-id="45e24-125">Транспортный поток добавляет второй уровень паккетизинг — PES-потоки упаковываются в пакеты транспортного потока, которые имеют фиксированный размер 188 байт на пакет.</span><span class="sxs-lookup"><span data-stu-id="45e24-125">A transport stream adds a second layer of packetizing — the PES streams are packaged inside transport stream packets, which have a fixed size of 188 bytes per packet.</span></span> <span data-ttu-id="45e24-126">Пакеты служб терминалов также могут содержать потоки сведений о программах, описанные в следующем разделе.</span><span class="sxs-lookup"><span data-stu-id="45e24-126">TS packets can also contain program information streams, which are described in the following section.</span></span>

<span data-ttu-id="45e24-127">Каждый пакет служб терминалов имеет 4-байтовый заголовок, а также дополнительное поле адаптации, содержащее дополнительные сведения о заголовке.</span><span class="sxs-lookup"><span data-stu-id="45e24-127">Each TS packet has a 4-byte header, plus an optional adaptation field that contains additional header information.</span></span> <span data-ttu-id="45e24-128">Мультиплексор присваивает ИДЕНТИФИКАТОРу программы (PID) каждому потоку данных PES или программы.</span><span class="sxs-lookup"><span data-stu-id="45e24-128">The multiplexer assigns a program ID (PID) to each PES stream or program information stream.</span></span> <span data-ttu-id="45e24-129">PID используется для идентификации пакетов служб терминалов, аналогично тому, как идентификаторы потоков определяют ПЕССИМИСТические пакеты.</span><span class="sxs-lookup"><span data-stu-id="45e24-129">The PIDs are used to identify the TS packets, similar to the way stream IDs identify PES packets.</span></span> <span data-ttu-id="45e24-130">(Если транспортный поток содержит несколько программ, идентификаторы *потоков* могут быть не уникальными, но назначения PID уникальны в транспортном потоке.)</span><span class="sxs-lookup"><span data-stu-id="45e24-130">(If a transport stream contains multiple programs, the *stream* IDs might not be unique, but the PID assignments are unique within the transport stream.)</span></span>

<span data-ttu-id="45e24-131">**Сведения, относящиеся к программе**</span><span class="sxs-lookup"><span data-stu-id="45e24-131">**Program Specific Information**</span></span>

<span data-ttu-id="45e24-132">Так как транспортный поток может содержать несколько программ, должен существовать способ связать различные PES-пакеты с программами, к которым они относятся.</span><span class="sxs-lookup"><span data-stu-id="45e24-132">Because a transport stream can carry multiple programs, there must be a way to associate the various PES packets with the programs they belong to.</span></span> <span data-ttu-id="45e24-133">Это выполняется с помощью таблиц, которые обозначают программные потоки.</span><span class="sxs-lookup"><span data-stu-id="45e24-133">This is accomplished using tables that identify the program streams.</span></span> <span data-ttu-id="45e24-134">В совокупности эти данные называются сведениями, специфичными для программы (PSI).</span><span class="sxs-lookup"><span data-stu-id="45e24-134">Collectively, this data is called Program Specific Information (PSI).</span></span> <span data-ttu-id="45e24-135">Данные PSI переносятся в пакеты служб терминалов, как и в PES-данные.</span><span class="sxs-lookup"><span data-stu-id="45e24-135">The PSI data is carried in TS packets, just like the PES data.</span></span> <span data-ttu-id="45e24-136">Существуют различные типы данных PSI, в том числе:</span><span class="sxs-lookup"><span data-stu-id="45e24-136">There are various types of PSI data, including:</span></span>

-   <span data-ttu-id="45e24-137">Таблица взаимосвязей программы (PAT).</span><span class="sxs-lookup"><span data-stu-id="45e24-137">Program Association Table (PAT).</span></span> <span data-ttu-id="45e24-138">PAT всегда назначается идентификатору PID 0x000.</span><span class="sxs-lookup"><span data-stu-id="45e24-138">The PAT is always assigned to PID 0x000.</span></span> <span data-ttu-id="45e24-139">Каждая запись в PAT — это PID, определяющий пакеты ПЛТ для этой программы (см. следующий элемент).</span><span class="sxs-lookup"><span data-stu-id="45e24-139">Each entry in the PAT is a PID that identifies the PMT packets for that program (see next item).</span></span>
-   <span data-ttu-id="45e24-140">Таблица схемы программы (ПЛТ).</span><span class="sxs-lookup"><span data-stu-id="45e24-140">Program Map Table (PMT).</span></span> <span data-ttu-id="45e24-141">Каждая программа ПЛТ определяет одну программу.</span><span class="sxs-lookup"><span data-stu-id="45e24-141">Each PMT defines one program.</span></span> <span data-ttu-id="45e24-142">ПЛТ содержит список потоков; Каждая запись таблицы предоставляет идентификатор процесса для этого потока, а также код, определяющий тип потока.</span><span class="sxs-lookup"><span data-stu-id="45e24-142">The PMT contains a list of streams; each table entry gives the PID for that stream, plus a code that identifies the stream type.</span></span> <span data-ttu-id="45e24-143">ISO/IEC 13818-1 определяет некоторые стандартные типы потоков; в следующей таблице показан сокращенный список.</span><span class="sxs-lookup"><span data-stu-id="45e24-143">ISO/IEC 13818-1 defines some standard stream types; an abbreviated list is shown in the following table.</span></span>

    | <span data-ttu-id="45e24-144">\_тип потока</span><span class="sxs-lookup"><span data-stu-id="45e24-144">stream\_type</span></span> | <span data-ttu-id="45e24-145">Описание</span><span class="sxs-lookup"><span data-stu-id="45e24-145">Description</span></span>  |
    |--------------|--------------|
    | <span data-ttu-id="45e24-146">0x01</span><span class="sxs-lookup"><span data-stu-id="45e24-146">0x01</span></span>         | <span data-ttu-id="45e24-147">Видео MPEG-1</span><span class="sxs-lookup"><span data-stu-id="45e24-147">MPEG-1 video</span></span> |
    | <span data-ttu-id="45e24-148">0x02</span><span class="sxs-lookup"><span data-stu-id="45e24-148">0x02</span></span>         | <span data-ttu-id="45e24-149">Видео MPEG-2</span><span class="sxs-lookup"><span data-stu-id="45e24-149">MPEG-2 video</span></span> |
    | <span data-ttu-id="45e24-150">0x03</span><span class="sxs-lookup"><span data-stu-id="45e24-150">0x03</span></span>         | <span data-ttu-id="45e24-151">Аудио MPEG-1</span><span class="sxs-lookup"><span data-stu-id="45e24-151">MPEG-1 audio</span></span> |
    | <span data-ttu-id="45e24-152">0x04</span><span class="sxs-lookup"><span data-stu-id="45e24-152">0x04</span></span>         | <span data-ttu-id="45e24-153">Звук MPEG-2</span><span class="sxs-lookup"><span data-stu-id="45e24-153">MPEG-2 audio</span></span> |
    | <span data-ttu-id="45e24-154">0x80 — 0xFF</span><span class="sxs-lookup"><span data-stu-id="45e24-154">0x80 - 0xFF</span></span>  | <span data-ttu-id="45e24-155">Частный пользователь</span><span class="sxs-lookup"><span data-stu-id="45e24-155">User private</span></span> |

    

     

    <span data-ttu-id="45e24-156">Другие стандарты, основанные на стандарте MPEG-2, например ATSC, могут определять дополнительные типы потоков в пользовательском диапазоне "частный".</span><span class="sxs-lookup"><span data-stu-id="45e24-156">Other standards that are based on MPEG-2, such as ATSC, may define additional stream types in the "user private" range.</span></span> <span data-ttu-id="45e24-157">Например, ATSC определяет 0x81 как Dolby AC-3 Audio.</span><span class="sxs-lookup"><span data-stu-id="45e24-157">For example, ATSC defines 0x81 as Dolby AC-3 audio.</span></span>

-   <span data-ttu-id="45e24-158">Таблицы условного доступа (CAT)</span><span class="sxs-lookup"><span data-stu-id="45e24-158">Conditional Access Tables (CAT)</span></span>
-   <span data-ttu-id="45e24-159">Таблицы сетевых идентификаторов (NРЕКОМЕНДУЕТСЯ)</span><span class="sxs-lookup"><span data-stu-id="45e24-159">Network Identification Tables (NIT)</span></span>

## <a name="related-topics"></a><span data-ttu-id="45e24-160">См. также</span><span class="sxs-lookup"><span data-stu-id="45e24-160">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="45e24-161">Поддержка MPEG-2 в DirectShow</span><span class="sxs-lookup"><span data-stu-id="45e24-161">MPEG-2 Support in DirectShow</span></span>](mpeg-2-support-in-directshow.md)
</dt> </dl>

 

 



