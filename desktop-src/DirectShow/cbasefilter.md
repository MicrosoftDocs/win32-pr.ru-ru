---
description: Класс Кбасефилтер является абстрактным классом для реализации фильтров.
ms.assetid: 4610c8d6-9d7d-47ca-b1d5-0a867153a5f6
title: Класс Кбасефилтер (Амфилтер. h)
ms.topic: reference
ms.date: 05/31/2018
topic_type:
- APIRef
- kbSyntax
api_name:
- CBaseFilter
api_type:
- COM
api_location:
- Strmbase.lib
- Strmbase.dll
- Strmbasd.lib
- Strmbasd.dll
ms.openlocfilehash: fe032d0614b1067c9351b643d457a718b4917a8b
ms.sourcegitcommit: c8ec1ded1ffffc364d3c4f560bb2171da0dc5040
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/22/2021
ms.locfileid: "105657683"
---
# <a name="cbasefilter-class"></a><span data-ttu-id="39133-103">Класс Кбасефилтер</span><span class="sxs-lookup"><span data-stu-id="39133-103">CBaseFilter class</span></span>

![Иерархия классов кбасефилтер](images/filter01.png)

<span data-ttu-id="39133-105">`CBaseFilter`Класс является абстрактным классом для реализации фильтров.</span><span class="sxs-lookup"><span data-stu-id="39133-105">The `CBaseFilter` class is an abstract class for implementing filters.</span></span> <span data-ttu-id="39133-106">Чтобы реализовать фильтр с помощью этого класса, необходимо выполнить по крайней мере следующие шаги.</span><span class="sxs-lookup"><span data-stu-id="39133-106">To implement a filter using this class, you must perform at least the following steps:</span></span>

-   <span data-ttu-id="39133-107">Создайте класс, производный от `CBaseFilter` .</span><span class="sxs-lookup"><span data-stu-id="39133-107">Derive a new class from `CBaseFilter`.</span></span>
-   <span data-ttu-id="39133-108">Включить переменные-члены, определяющие контакты в фильтре.</span><span class="sxs-lookup"><span data-stu-id="39133-108">Include member variables that define the pins on the filter.</span></span> <span data-ttu-id="39133-109">ПИН-коды должны наследоваться от класса [**кбасепин**](cbasepin.md) .</span><span class="sxs-lookup"><span data-stu-id="39133-109">The pins must inherit from the [**CBasePin**](cbasepin.md) class.</span></span>
-   <span data-ttu-id="39133-110">Переопределите чистый виртуальный метод [**кбасефилтер:: жетпин**](cbasefilter-getpin.md), который получает в фильтре ПИН-коды.</span><span class="sxs-lookup"><span data-stu-id="39133-110">Override the pure virtual method [**CBaseFilter::GetPin**](cbasefilter-getpin.md), which retrieves pins on the filter.</span></span>
-   <span data-ttu-id="39133-111">Переопределите чистый виртуальный метод [**кбасефилтер:: жетпинкаунт**](cbasefilter-getpincount.md), который получает количество ПИН-кодов.</span><span class="sxs-lookup"><span data-stu-id="39133-111">Override the pure virtual method [**CBaseFilter::GetPinCount**](cbasefilter-getpincount.md), which retrieves the number of pins.</span></span>
-   <span data-ttu-id="39133-112">Предоставляют методы для создания, обработки и подготовки к просмотру образцов мультимедиа.</span><span class="sxs-lookup"><span data-stu-id="39133-112">Provide methods for generating, processing, or rendering media samples.</span></span>

<span data-ttu-id="39133-113">Несколько базовых классов являются производными от `CBaseFilter` , включая [**ксаурце**](csource.md), [**кбасерендерер**](cbaserenderer.md)и [**ктрансформфилтер**](ctransformfilter.md).</span><span class="sxs-lookup"><span data-stu-id="39133-113">Several base classes derive from `CBaseFilter`, including [**CSource**](csource.md), [**CBaseRenderer**](cbaserenderer.md), and [**CTransformFilter**](ctransformfilter.md).</span></span> <span data-ttu-id="39133-114">Обычно проще реализовать фильтр с одним из этих специализированных классов вместо `CBaseFilter` прямого использования.</span><span class="sxs-lookup"><span data-stu-id="39133-114">It is usually easier to implement a filter with one of these specialized classes, rather than use `CBaseFilter` directly.</span></span>



| <span data-ttu-id="39133-115">Защищенные переменные членов</span><span class="sxs-lookup"><span data-stu-id="39133-115">Protected Member Variables</span></span>                                     | <span data-ttu-id="39133-116">Описание</span><span class="sxs-lookup"><span data-stu-id="39133-116">Description</span></span>                                                                                        |
|----------------------------------------------------------------|----------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="39133-117">**\_штат m**</span><span class="sxs-lookup"><span data-stu-id="39133-117">**m\_State**</span></span>](cbasefilter-m-state.md)                        | <span data-ttu-id="39133-118">Текущее состояние фильтра.</span><span class="sxs-lookup"><span data-stu-id="39133-118">Current state of the filter.</span></span>                                                                       |
| [<span data-ttu-id="39133-119">**m \_ пклокк**</span><span class="sxs-lookup"><span data-stu-id="39133-119">**m\_pClock**</span></span>](cbasefilter-m-pclock.md)                      | <span data-ttu-id="39133-120">Указатель на время ссылки на фильтр.</span><span class="sxs-lookup"><span data-stu-id="39133-120">Pointer to the filter's reference clock.</span></span>                                                           |
| [<span data-ttu-id="39133-121">**m \_ тстарт**</span><span class="sxs-lookup"><span data-stu-id="39133-121">**m\_tStart**</span></span>](cbasefilter-m-tstart.md)                      | <span data-ttu-id="39133-122">Справочное время, соответствующее времени потока 0.</span><span class="sxs-lookup"><span data-stu-id="39133-122">Reference time that corresponds to stream time 0.</span></span>                                                  |
| [<span data-ttu-id="39133-123">**m \_ CLSID**</span><span class="sxs-lookup"><span data-stu-id="39133-123">**m\_clsid**</span></span>](cbasefilter-m-clsid.md)                        | <span data-ttu-id="39133-124">Идентификатор класса (CLSID) фильтра.</span><span class="sxs-lookup"><span data-stu-id="39133-124">Class identifier (CLSID) of the filter.</span></span>                                                            |
| [<span data-ttu-id="39133-125">**m \_ плокк**</span><span class="sxs-lookup"><span data-stu-id="39133-125">**m\_pLock**</span></span>](cbasefilter-m-plock.md)                        | <span data-ttu-id="39133-126">Указатель на критическую секцию, используемый для сериализации изменений состояния.</span><span class="sxs-lookup"><span data-stu-id="39133-126">Pointer to a critical section that is used to serialize state changes.</span></span>                             |
| [<span data-ttu-id="39133-127">**m \_ pName**</span><span class="sxs-lookup"><span data-stu-id="39133-127">**m\_pName**</span></span>](cbasefilter-m-pname.md)                        | <span data-ttu-id="39133-128">Имя фильтра.</span><span class="sxs-lookup"><span data-stu-id="39133-128">Filter name.</span></span>                                                                                       |
| [<span data-ttu-id="39133-129">**m \_ пграф**</span><span class="sxs-lookup"><span data-stu-id="39133-129">**m\_pGraph**</span></span>](cbasefilter-m-pgraph.md)                      | <span data-ttu-id="39133-130">Указатель на диспетчер графа фильтров.</span><span class="sxs-lookup"><span data-stu-id="39133-130">Pointer to the filter graph manager.</span></span>                                                               |
| [<span data-ttu-id="39133-131">**m \_ псинк**</span><span class="sxs-lookup"><span data-stu-id="39133-131">**m\_pSink**</span></span>](cbasefilter-m-psink.md)                        | <span data-ttu-id="39133-132">Указатель на интерфейс [**имедиаевентсинк**](/windows/desktop/api/Strmif/nn-strmif-imediaeventsink) в диспетчере графов фильтров.</span><span class="sxs-lookup"><span data-stu-id="39133-132">Pointer to the [**IMediaEventSink**](/windows/desktop/api/Strmif/nn-strmif-imediaeventsink) interface on the filter graph manager.</span></span>   |
| [<span data-ttu-id="39133-133">**m \_ пинверсион**</span><span class="sxs-lookup"><span data-stu-id="39133-133">**m\_PinVersion**</span></span>](cbasefilter-m-pinversion.md)              | <span data-ttu-id="39133-134">Текущая версия набора ПИН-кодов в этом фильтре.</span><span class="sxs-lookup"><span data-stu-id="39133-134">Current version of the set of pins on this filter.</span></span>                                                 |
| <span data-ttu-id="39133-135">Открытые методы</span><span class="sxs-lookup"><span data-stu-id="39133-135">Public Methods</span></span>                                                 | <span data-ttu-id="39133-136">Описание</span><span class="sxs-lookup"><span data-stu-id="39133-136">Description</span></span>                                                                                        |
| [<span data-ttu-id="39133-137">**кбасефилтер**</span><span class="sxs-lookup"><span data-stu-id="39133-137">**CBaseFilter**</span></span>](cbasefilter-cbasefilter.md)                 | <span data-ttu-id="39133-138">Метод конструктора.</span><span class="sxs-lookup"><span data-stu-id="39133-138">Constructor method.</span></span>                                                                                |
| [<span data-ttu-id="39133-139">**~ Кбасефилтер**</span><span class="sxs-lookup"><span data-stu-id="39133-139">**~ CBaseFilter**</span></span>](cbasefilter--cbasefilter.md)              | <span data-ttu-id="39133-140">Метод деструктора.</span><span class="sxs-lookup"><span data-stu-id="39133-140">Destructor method.</span></span>                                                                                 |
| [<span data-ttu-id="39133-141">**стреамтиме**</span><span class="sxs-lookup"><span data-stu-id="39133-141">**StreamTime**</span></span>](cbasefilter-streamtime.md)                   | <span data-ttu-id="39133-142">Извлекает текущее время потока.</span><span class="sxs-lookup"><span data-stu-id="39133-142">Retrieves the current stream time.</span></span> <span data-ttu-id="39133-143">Виртуализаци.</span><span class="sxs-lookup"><span data-stu-id="39133-143">Virtual.</span></span>                                                        |
| [<span data-ttu-id="39133-144">**IsActive**</span><span class="sxs-lookup"><span data-stu-id="39133-144">**IsActive**</span></span>](cbasefilter-isactive.md)                       | <span data-ttu-id="39133-145">Определяет, активен ли фильтр (запущен или приостановлен).</span><span class="sxs-lookup"><span data-stu-id="39133-145">Determines whether the filter is currently active (running or paused).</span></span>                             |
| [<span data-ttu-id="39133-146">**IsStopped**</span><span class="sxs-lookup"><span data-stu-id="39133-146">**IsStopped**</span></span>](cbasefilter-isstopped.md)                     | <span data-ttu-id="39133-147">Определяет, остановлен ли фильтр.</span><span class="sxs-lookup"><span data-stu-id="39133-147">Determines whether the filter is currently stopped.</span></span>                                                |
| [<span data-ttu-id="39133-148">**нотифевент**</span><span class="sxs-lookup"><span data-stu-id="39133-148">**NotifyEvent**</span></span>](cbasefilter-notifyevent.md)                 | <span data-ttu-id="39133-149">Отправляет уведомление о событии диспетчеру графа фильтров.</span><span class="sxs-lookup"><span data-stu-id="39133-149">Sends an event notification to the filter graph manager.</span></span>                                           |
| [<span data-ttu-id="39133-150">**жетфилтерграф**</span><span class="sxs-lookup"><span data-stu-id="39133-150">**GetFilterGraph**</span></span>](cbasefilter-getfiltergraph.md)           | <span data-ttu-id="39133-151">Извлекает указатель на диспетчер графов фильтров.</span><span class="sxs-lookup"><span data-stu-id="39133-151">Retrieves a pointer to the filter graph manager.</span></span>                                                   |
| [<span data-ttu-id="39133-152">**реконнектпин**</span><span class="sxs-lookup"><span data-stu-id="39133-152">**ReconnectPin**</span></span>](cbasefilter-reconnectpin.md)               | <span data-ttu-id="39133-153">Прерывает существующее подключение к заданному ПИН-коду и повторно подключает его к тому же ПИН-коду, используя указанный тип носителя.</span><span class="sxs-lookup"><span data-stu-id="39133-153">Breaks an existing pin connection and reconnects it to the same pin, using a specified media type.</span></span> |
| [<span data-ttu-id="39133-154">**жетпинверсион**</span><span class="sxs-lookup"><span data-stu-id="39133-154">**GetPinVersion**</span></span>](cbasefilter-getpinversion.md)             | <span data-ttu-id="39133-155">Возвращает номер версии для набора ПИН-кодов в этом фильтре.</span><span class="sxs-lookup"><span data-stu-id="39133-155">Retrieves a version number for the set of pins on this filter.</span></span> <span data-ttu-id="39133-156">Виртуализаци.</span><span class="sxs-lookup"><span data-stu-id="39133-156">Virtual.</span></span>                            |
| [<span data-ttu-id="39133-157">**инкрементпинверсион**</span><span class="sxs-lookup"><span data-stu-id="39133-157">**IncrementPinVersion**</span></span>](cbasefilter-incrementpinversion.md) | <span data-ttu-id="39133-158">Увеличивает номер версии набора ПИН-кодов.</span><span class="sxs-lookup"><span data-stu-id="39133-158">Increments the version number on the set of pins.</span></span>                                                  |
| [<span data-ttu-id="39133-159">**жетсетупдата**</span><span class="sxs-lookup"><span data-stu-id="39133-159">**GetSetupData**</span></span>](cbasefilter-getsetupdata.md)               | <span data-ttu-id="39133-160">Извлекает данные регистрации для фильтра.</span><span class="sxs-lookup"><span data-stu-id="39133-160">Retrieves the registration data for the filter.</span></span> <span data-ttu-id="39133-161">Виртуализаци.</span><span class="sxs-lookup"><span data-stu-id="39133-161">Virtual.</span></span>                                           |
| <span data-ttu-id="39133-162">Чистые виртуальные методы</span><span class="sxs-lookup"><span data-stu-id="39133-162">Pure Virtual Methods</span></span>                                           | <span data-ttu-id="39133-163">Описание</span><span class="sxs-lookup"><span data-stu-id="39133-163">Description</span></span>                                                                                        |
| [<span data-ttu-id="39133-164">**жетпинкаунт**</span><span class="sxs-lookup"><span data-stu-id="39133-164">**GetPinCount**</span></span>](cbasefilter-getpincount.md)                 | <span data-ttu-id="39133-165">Возвращает количество ПИН-кодов.</span><span class="sxs-lookup"><span data-stu-id="39133-165">Retrieves the number of pins.</span></span>                                                                      |
| [<span data-ttu-id="39133-166">**жетпин**</span><span class="sxs-lookup"><span data-stu-id="39133-166">**GetPin**</span></span>](cbasefilter-getpin.md)                           | <span data-ttu-id="39133-167">Извлекает ПИН-код.</span><span class="sxs-lookup"><span data-stu-id="39133-167">Retrieves a pin.</span></span>                                                                                   |
| <span data-ttu-id="39133-168">Методы IPersist</span><span class="sxs-lookup"><span data-stu-id="39133-168">IPersist Methods</span></span>                                               | <span data-ttu-id="39133-169">Описание</span><span class="sxs-lookup"><span data-stu-id="39133-169">Description</span></span>                                                                                        |
| [<span data-ttu-id="39133-170">**GetClassID**</span><span class="sxs-lookup"><span data-stu-id="39133-170">**GetClassID**</span></span>](cbasefilter-getclassid.md)                   | <span data-ttu-id="39133-171">Получает идентификатор класса.</span><span class="sxs-lookup"><span data-stu-id="39133-171">Retrieves the class identifier.</span></span>                                                                    |
| <span data-ttu-id="39133-172">Методы Имедиафилтер</span><span class="sxs-lookup"><span data-stu-id="39133-172">IMediaFilter Methods</span></span>                                           | <span data-ttu-id="39133-173">Описание</span><span class="sxs-lookup"><span data-stu-id="39133-173">Description</span></span>                                                                                        |
| [<span data-ttu-id="39133-174">**GetState**</span><span class="sxs-lookup"><span data-stu-id="39133-174">**GetState**</span></span>](cbasefilter-getstate.md)                       | <span data-ttu-id="39133-175">Получает состояние фильтра (запущено, остановлено или приостановлено).</span><span class="sxs-lookup"><span data-stu-id="39133-175">Retrieves the filter's state (running, stopped, or paused).</span></span>                                        |
| [<span data-ttu-id="39133-176">**сетсинксаурце**</span><span class="sxs-lookup"><span data-stu-id="39133-176">**SetSyncSource**</span></span>](cbasefilter-setsyncsource.md)             | <span data-ttu-id="39133-177">Задает время ссылки для фильтра.</span><span class="sxs-lookup"><span data-stu-id="39133-177">Sets a reference clock for the filter.</span></span>                                                             |
| [<span data-ttu-id="39133-178">**жетсинксаурце**</span><span class="sxs-lookup"><span data-stu-id="39133-178">**GetSyncSource**</span></span>](cbasefilter-getsyncsource.md)             | <span data-ttu-id="39133-179">Извлекает ссылочное время, используемое фильтром.</span><span class="sxs-lookup"><span data-stu-id="39133-179">Retrieves the reference clock that the filter is using.</span></span>                                            |
| [<span data-ttu-id="39133-180">**Stop**</span><span class="sxs-lookup"><span data-stu-id="39133-180">**Stop**</span></span>](cbasefilter-stop.md)                               | <span data-ttu-id="39133-181">Останавливает фильтр.</span><span class="sxs-lookup"><span data-stu-id="39133-181">Stops the filter.</span></span>                                                                                  |
| [<span data-ttu-id="39133-182">**Пауза**</span><span class="sxs-lookup"><span data-stu-id="39133-182">**Pause**</span></span>](cbasefilter-pause.md)                             | <span data-ttu-id="39133-183">Приостанавливает фильтр.</span><span class="sxs-lookup"><span data-stu-id="39133-183">Pauses the filter.</span></span>                                                                                 |
| [<span data-ttu-id="39133-184">**Выполнить**</span><span class="sxs-lookup"><span data-stu-id="39133-184">**Run**</span></span>](cbasefilter-run.md)                                 | <span data-ttu-id="39133-185">Выполняет фильтр.</span><span class="sxs-lookup"><span data-stu-id="39133-185">Runs the filter.</span></span>                                                                                   |
| <span data-ttu-id="39133-186">Методы Ибасефилтер</span><span class="sxs-lookup"><span data-stu-id="39133-186">IBaseFilter Methods</span></span>                                            | <span data-ttu-id="39133-187">Описание</span><span class="sxs-lookup"><span data-stu-id="39133-187">Description</span></span>                                                                                        |
| [<span data-ttu-id="39133-188">**енумпинс**</span><span class="sxs-lookup"><span data-stu-id="39133-188">**EnumPins**</span></span>](cbasefilter-enumpins.md)                       | <span data-ttu-id="39133-189">Перечисляет ПИН-коды этого фильтра.</span><span class="sxs-lookup"><span data-stu-id="39133-189">Enumerates the pins on this filter.</span></span>                                                                |
| [<span data-ttu-id="39133-190">**финдпин**</span><span class="sxs-lookup"><span data-stu-id="39133-190">**FindPin**</span></span>](cbasefilter-findpin.md)                         | <span data-ttu-id="39133-191">Извлекает ПИН-код с указанным идентификатором.</span><span class="sxs-lookup"><span data-stu-id="39133-191">Retrieves the pin with the specified identifier.</span></span>                                                   |
| [<span data-ttu-id="39133-192">**куерифилтеринфо**</span><span class="sxs-lookup"><span data-stu-id="39133-192">**QueryFilterInfo**</span></span>](cbasefilter-queryfilterinfo.md)         | <span data-ttu-id="39133-193">Извлекает сведения о фильтре.</span><span class="sxs-lookup"><span data-stu-id="39133-193">Retrieves information about the filter.</span></span>                                                            |
| [<span data-ttu-id="39133-194">**жоинфилтерграф**</span><span class="sxs-lookup"><span data-stu-id="39133-194">**JoinFilterGraph**</span></span>](cbasefilter-joinfiltergraph.md)         | <span data-ttu-id="39133-195">Уведомляет фильтр о соединении или в левой части графа фильтра.</span><span class="sxs-lookup"><span data-stu-id="39133-195">Notifies the filter that it has joined or left a filter graph.</span></span>                                     |
| [<span data-ttu-id="39133-196">**куеривендоринфо**</span><span class="sxs-lookup"><span data-stu-id="39133-196">**QueryVendorInfo**</span></span>](cbasefilter-queryvendorinfo.md)         | <span data-ttu-id="39133-197">Извлекает строку, содержащую сведения о поставщике.</span><span class="sxs-lookup"><span data-stu-id="39133-197">Retrieves a string containing vendor information.</span></span>                                                  |
| <span data-ttu-id="39133-198">Методы Иамовиесетуп</span><span class="sxs-lookup"><span data-stu-id="39133-198">IAMovieSetup Methods</span></span>                                           | <span data-ttu-id="39133-199">Описание</span><span class="sxs-lookup"><span data-stu-id="39133-199">Description</span></span>                                                                                        |
| [<span data-ttu-id="39133-200">**Зарегистрировать**</span><span class="sxs-lookup"><span data-stu-id="39133-200">**Register**</span></span>](cbasefilter-register.md)                       | <span data-ttu-id="39133-201">Добавляет фильтр в реестр.</span><span class="sxs-lookup"><span data-stu-id="39133-201">Adds the filter to the registry.</span></span>                                                                   |
| [<span data-ttu-id="39133-202">**Отменить регистрацию**</span><span class="sxs-lookup"><span data-stu-id="39133-202">**Unregister**</span></span>](cbasefilter-unregister.md)                   | <span data-ttu-id="39133-203">Удаляет фильтр из реестра.</span><span class="sxs-lookup"><span data-stu-id="39133-203">Removes the filter from the registry.</span></span>                                                              |



 

## <a name="requirements"></a><span data-ttu-id="39133-204">Требования</span><span class="sxs-lookup"><span data-stu-id="39133-204">Requirements</span></span>



| <span data-ttu-id="39133-205">Требование</span><span class="sxs-lookup"><span data-stu-id="39133-205">Requirement</span></span> | <span data-ttu-id="39133-206">Значение</span><span class="sxs-lookup"><span data-stu-id="39133-206">Value</span></span> |
|--------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="39133-207">Header</span><span class="sxs-lookup"><span data-stu-id="39133-207">Header</span></span><br/>  | <dl> <span data-ttu-id="39133-208"><dt>Амфилтер. h (включение Streams. h)</dt></span><span class="sxs-lookup"><span data-stu-id="39133-208"><dt>Amfilter.h (include Streams.h)</dt></span></span> </dl>                                                                                  |
| <span data-ttu-id="39133-209">Библиотека</span><span class="sxs-lookup"><span data-stu-id="39133-209">Library</span></span><br/> | <dl> <span data-ttu-id="39133-210"><dt>Стрмбасе. lib (розничные сборки); </dt> <dt>Стрмбасд. lib (отладочные сборки)</dt></span><span class="sxs-lookup"><span data-stu-id="39133-210"><dt>Strmbase.lib (retail builds); </dt> <dt>Strmbasd.lib (debug builds)</dt></span></span> </dl> |



 

 




