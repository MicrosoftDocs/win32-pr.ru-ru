---
description: Фильтр видео кодировщика Microsoft MPEG-2 кодирует видео MPEG-2 и MPEG-1.
ms.assetid: d52c1299-0641-405c-8960-edd738b56823
title: Кодировщик видео Microsoft MPEG-2 (Вмкодекдсп. h)
ms.topic: reference
ms.date: 05/31/2018
ms.openlocfilehash: 02c96db605586c6abf0f51537689a9365df2842c
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/06/2021
ms.locfileid: "105682276"
---
# <a name="microsoft-mpeg-2-video-encoder"></a><span data-ttu-id="2d6ca-103">Видеокодировщик Microsoft MPEG-2 видео</span><span class="sxs-lookup"><span data-stu-id="2d6ca-103">Microsoft MPEG-2 Video Encoder</span></span>

<span data-ttu-id="2d6ca-104">Фильтр видео кодировщика Microsoft MPEG-2 кодирует видео MPEG-2 и MPEG-1.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-104">The Microsoft MPEG-2 Video Encoder filter encodes MPEG-2 and MPEG-1 video.</span></span>

<span data-ttu-id="2d6ca-105">Для кодирования и мультиплексирования аудио-и видеопотоков используйте фильтр [**кодировщика Microsoft MPEG-2**](microsoft-mpeg-2-encoder.md) , который инкапсулирует функции обоих фильтров и фильтра [**кодировщика Microsoft MPEG-2 Audio Encoder**](microsoft-mpeg-2-audio-encoder.md) .</span><span class="sxs-lookup"><span data-stu-id="2d6ca-105">To encode and multiplex audio/video streams, use the [**Microsoft MPEG-2 Encoder**](microsoft-mpeg-2-encoder.md) filter, which encapsulates the functions of both this filter and the [**Microsoft MPEG-2 Audio Encoder**](microsoft-mpeg-2-audio-encoder.md) filter.</span></span>

> [!Note]  
> <span data-ttu-id="2d6ca-106">Этот фильтр не поддерживается на платформах на базе IA-64.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-106">This filter is not supported on IA-64-based platforms.</span></span>

 



<span data-ttu-id="2d6ca-107">Сведения о фильтре</span><span class="sxs-lookup"><span data-stu-id="2d6ca-107">Filter Information</span></span>

<span data-ttu-id="2d6ca-108">Интерфейсы фильтра</span><span class="sxs-lookup"><span data-stu-id="2d6ca-108">Filter Interfaces</span></span>

[<span data-ttu-id="2d6ca-109">**ибасефилтер**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-109">**IBaseFilter**</span></span>](/windows/desktop/api/Strmif/nn-strmif-ibasefilter)<br/> [<span data-ttu-id="2d6ca-110">**икодекапи**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-110">**ICodecAPI**</span></span>](/windows/desktop/api/Strmif/nn-strmif-icodecapi)<br/> <span data-ttu-id="2d6ca-111">**иенкодерапи**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-111">**IEncoderAPI**</span></span><br/> [<span data-ttu-id="2d6ca-112">**имедиасикинг**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-112">**IMediaSeeking**</span></span>](/windows/desktop/api/Strmif/nn-strmif-imediaseeking)<br/> [<span data-ttu-id="2d6ca-113">**ивидеоенкодер**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-113">**IVideoEncoder**</span></span>](/windows/win32/api/strmif/nn-strmif-ivideoencoder)<br/>

<span data-ttu-id="2d6ca-114">Типы носителей входных закрепления</span><span class="sxs-lookup"><span data-stu-id="2d6ca-114">Input Pin Media Types</span></span>

<span data-ttu-id="2d6ca-115">**MEDIATYPE \_ Видео**, **медиасубтипе \_ I420**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-115">**MEDIATYPE\_Video**, **MEDIASUBTYPE\_I420**</span></span><br/> <span data-ttu-id="2d6ca-116">**MEDIATYPE \_ Видео**, **медиасубтипе \_ ийув**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-116">**MEDIATYPE\_Video**, **MEDIASUBTYPE\_IYUV**</span></span><br/> <span data-ttu-id="2d6ca-117">**MEDIATYPE \_ Видео**, **медиасубтипе \_ Rgb24**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-117">**MEDIATYPE\_Video**, **MEDIASUBTYPE\_RGB24**</span></span><br/> <span data-ttu-id="2d6ca-118">**MEDIATYPE \_ Видео**, **медиасубтипе \_ UYVY**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-118">**MEDIATYPE\_Video**, **MEDIASUBTYPE\_UYVY**</span></span><br/> <span data-ttu-id="2d6ca-119">**MEDIATYPE \_ Видео**, **медиасубтипе \_ YUY2**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-119">**MEDIATYPE\_Video**, **MEDIASUBTYPE\_YUY2**</span></span><br/> <span data-ttu-id="2d6ca-120">**MEDIATYPE \_ Видео**, **медиасубтипе \_ YV12**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-120">**MEDIATYPE\_Video**, **MEDIASUBTYPE\_YV12**</span></span><br/>

<span data-ttu-id="2d6ca-121">Интерфейсы входных закрепления</span><span class="sxs-lookup"><span data-stu-id="2d6ca-121">Input Pin Interfaces</span></span>

[<span data-ttu-id="2d6ca-122">**имеминпутпин**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-122">**IMemInputPin**</span></span>](/windows/desktop/api/Strmif/nn-strmif-imeminputpin)<br/> [<span data-ttu-id="2d6ca-123">**ипин**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-123">**IPin**</span></span>](/windows/desktop/api/Strmif/nn-strmif-ipin)<br/> [<span data-ttu-id="2d6ca-124">**икуалитиконтрол**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-124">**IQualityControl**</span></span>](/windows/desktop/api/Strmif/nn-strmif-iqualitycontrol)<br/>

<span data-ttu-id="2d6ca-125">Типы носителей для выходного ПИН-кода</span><span class="sxs-lookup"><span data-stu-id="2d6ca-125">Output Pin Media Types</span></span>

<span data-ttu-id="2d6ca-126">**MEDIATYPE \_ Stream**, **\_ \_ видео медиасубтипе MPEG2**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-126">**MEDIATYPE\_Stream**, **MEDIASUBTYPE\_MPEG2\_VIDEO**</span></span><br/> <span data-ttu-id="2d6ca-127">**MEDIATYPE \_ Stream**, **\_ \_ Программа медиасубтипе MPEG2**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-127">**MEDIATYPE\_Stream**, **MEDIASUBTYPE\_MPEG2\_PROGRAM**</span></span><br/> <span data-ttu-id="2d6ca-128">**MEDIATYPE \_ Поток**, **\_ \_ транспорт медиасубтипе MPEG2**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-128">**MEDIATYPE\_Stream**, **MEDIASUBTYPE\_MPEG2\_TRANSPORT**</span></span><br/> <span data-ttu-id="2d6ca-129">**MEDIATYPE \_ Видео**, **медиасубтипе \_ MPEG2 \_**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-129">**MEDIATYPE\_Video**, **MEDIASUBTYPE\_MPEG2\_VIDEO**</span></span><br/>

<span data-ttu-id="2d6ca-130">Интерфейсы выходного ПИН-кода</span><span class="sxs-lookup"><span data-stu-id="2d6ca-130">Output Pin Interfaces</span></span>

[<span data-ttu-id="2d6ca-131">**имедиасикинг**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-131">**IMediaSeeking**</span></span>](/windows/desktop/api/Strmif/nn-strmif-imediaseeking)<br/> [<span data-ttu-id="2d6ca-132">**ипин**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-132">**IPin**</span></span>](/windows/desktop/api/Strmif/nn-strmif-ipin)<br/> [<span data-ttu-id="2d6ca-133">**икуалитиконтрол**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-133">**IQualityControl**</span></span>](/windows/desktop/api/Strmif/nn-strmif-iqualitycontrol)<br/>

<span data-ttu-id="2d6ca-134">Фильтровать CLSID</span><span class="sxs-lookup"><span data-stu-id="2d6ca-134">Filter CLSID</span></span>

<span data-ttu-id="2d6ca-135">**Идентификатор CLSID \_ CMPEG2EncoderVideoDS** (объявлено в вмкодекдсп. h)</span><span class="sxs-lookup"><span data-stu-id="2d6ca-135">**CLSID\_CMPEG2EncoderVideoDS** (declared in wmcodecdsp.h)</span></span>

<span data-ttu-id="2d6ca-136">Исполняемый объект</span><span class="sxs-lookup"><span data-stu-id="2d6ca-136">Executable</span></span>

<span data-ttu-id="2d6ca-137">msmpeg2enc.dll</span><span class="sxs-lookup"><span data-stu-id="2d6ca-137">msmpeg2enc.dll</span></span>

[<span data-ttu-id="2d6ca-138">Заслуживают</span><span class="sxs-lookup"><span data-stu-id="2d6ca-138">Merit</span></span>](merit.md)

<span data-ttu-id="2d6ca-139">**\_ \_ не \_ использовать**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-139">**MERIT\_DO\_NOT\_USE**</span></span>

[<span data-ttu-id="2d6ca-140">Категория фильтра</span><span class="sxs-lookup"><span data-stu-id="2d6ca-140">Filter Category</span></span>](filter-categories.md)

<span data-ttu-id="2d6ca-141">**\_ЛЕГАЦИАМФИЛТЕРКАТЕГОРИ CLSID**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-141">**CLSID\_LegacyAmFilterCategory**</span></span>



 

## <a name="remarks"></a><span data-ttu-id="2d6ca-142">Комментарии</span><span class="sxs-lookup"><span data-stu-id="2d6ca-142">Remarks</span></span>

<span data-ttu-id="2d6ca-143">Видеокодировщик MPEG-2 может формировать следующие типы выходных данных:</span><span class="sxs-lookup"><span data-stu-id="2d6ca-143">The MPEG-2 Video Encoder can produce the following kinds of output:</span></span>

-   <span data-ttu-id="2d6ca-144">Простейший поток видео</span><span class="sxs-lookup"><span data-stu-id="2d6ca-144">Video elementary stream</span></span>
-   <span data-ttu-id="2d6ca-145">Видео в потоке программы MPEG-2</span><span class="sxs-lookup"><span data-stu-id="2d6ca-145">Video in an MPEG-2 program stream</span></span>
-   <span data-ttu-id="2d6ca-146">Видео в транспортном потоке MPEG-2</span><span class="sxs-lookup"><span data-stu-id="2d6ca-146">Video in an MPEG-2 transport stream</span></span>

<span data-ttu-id="2d6ca-147">Он поддерживает следующие уровни и профили MPEG-2:</span><span class="sxs-lookup"><span data-stu-id="2d6ca-147">It supports the following MPEG-2 profiles and levels:</span></span>



| <span data-ttu-id="2d6ca-148">Профиль</span><span class="sxs-lookup"><span data-stu-id="2d6ca-148">Profile</span></span>        | <span data-ttu-id="2d6ca-149">Уровни</span><span class="sxs-lookup"><span data-stu-id="2d6ca-149">Levels</span></span>                     | <span data-ttu-id="2d6ca-150">Комментарии</span><span class="sxs-lookup"><span data-stu-id="2d6ca-150">Remarks</span></span>                                            |
|----------------|----------------------------|----------------------------------------------------|
| <span data-ttu-id="2d6ca-151">Простой профиль</span><span class="sxs-lookup"><span data-stu-id="2d6ca-151">Simple Profile</span></span> | <span data-ttu-id="2d6ca-152">Главная ветвь</span><span class="sxs-lookup"><span data-stu-id="2d6ca-152">Main</span></span>                       |                                                    |
| <span data-ttu-id="2d6ca-153">Профиль Main</span><span class="sxs-lookup"><span data-stu-id="2d6ca-153">Main Profile</span></span>   | <span data-ttu-id="2d6ca-154">Низкий, основной, высокий, высокий-1440</span><span class="sxs-lookup"><span data-stu-id="2d6ca-154">Low, Main, High, High-1440</span></span> |                                                    |
| <span data-ttu-id="2d6ca-155">Высокий профиль</span><span class="sxs-lookup"><span data-stu-id="2d6ca-155">High Profile</span></span>   | <span data-ttu-id="2d6ca-156">Основной, высокий, высокий-1440</span><span class="sxs-lookup"><span data-stu-id="2d6ca-156">Main, High, High-1440</span></span>      | <span data-ttu-id="2d6ca-157">Отсутствие поддержки масштабируемости или 4:2:2/4:4:4 (только 4:2:0)</span><span class="sxs-lookup"><span data-stu-id="2d6ca-157">No scalability or 4:2:2/4:4:4 support (only 4:2:0)</span></span> |
| <span data-ttu-id="2d6ca-158">профиль 4:2:2</span><span class="sxs-lookup"><span data-stu-id="2d6ca-158">4:2:2 Profile</span></span>  | <span data-ttu-id="2d6ca-159">Основной, высокий</span><span class="sxs-lookup"><span data-stu-id="2d6ca-159">Main, High</span></span>                 | <span data-ttu-id="2d6ca-160">Отсутствие поддержки масштабируемости или 4:2:2 (только 4:2:0)</span><span class="sxs-lookup"><span data-stu-id="2d6ca-160">No scalability or 4:2:2 support (only 4:2:0)</span></span>       |



 

### <a name="codec-properties"></a><span data-ttu-id="2d6ca-161">Свойства кодека</span><span class="sxs-lookup"><span data-stu-id="2d6ca-161">Codec Properties</span></span>

<span data-ttu-id="2d6ca-162">Фильтр поддерживает следующие свойства с помощью [**икодекапи**](/windows/desktop/api/Strmif/nn-strmif-icodecapi).</span><span class="sxs-lookup"><span data-stu-id="2d6ca-162">The filter supports the following properties through [**ICodecAPI**](/windows/desktop/api/Strmif/nn-strmif-icodecapi).</span></span>



| <span data-ttu-id="2d6ca-163">Свойство</span><span class="sxs-lookup"><span data-stu-id="2d6ca-163">Property</span></span>                                                                                      | <span data-ttu-id="2d6ca-164">По умолчанию</span><span class="sxs-lookup"><span data-stu-id="2d6ca-164">Default</span></span>                                                          | <span data-ttu-id="2d6ca-165">Поддерживаемые значения</span><span class="sxs-lookup"><span data-stu-id="2d6ca-165">Supported Values</span></span>                                                                                                                                                                                                     |
|-----------------------------------------------------------------------------------------------|------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="2d6ca-166">**авенккодектипе**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-166">**AVEncCodecType**</span></span>](avenccodectype-property.md)                                             | <span data-ttu-id="2d6ca-167">Видео MPEG-2</span><span class="sxs-lookup"><span data-stu-id="2d6ca-167">MPEG-2 video</span></span>                                                     | <span data-ttu-id="2d6ca-168">**КОДЕКАПИ \_ GUID \_ AVEncMPEG1Video**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-168">**CODECAPI\_GUID\_AVEncMPEG1Video**</span></span><br/> <span data-ttu-id="2d6ca-169">**КОДЕКАПИ \_ GUID \_ AVEncMPEG2Video**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-169">**CODECAPI\_GUID\_AVEncMPEG2Video**</span></span><br/>                                                                                                                        |
| [<span data-ttu-id="2d6ca-170">**авенккоммонбуфферинлевел**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-170">**AVEncCommonBufferInLevel**</span></span>](avenccommonbufferinlevel-property.md)                         | <span data-ttu-id="2d6ca-171">12222464 бит</span><span class="sxs-lookup"><span data-stu-id="2d6ca-171">12222464 bits</span></span>                                                    |                                                                                                                                                                                                                      |
| [<span data-ttu-id="2d6ca-172">**авенккоммонбуффераутлевел**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-172">**AVEncCommonBufferOutLevel**</span></span>](avenccommonbufferoutlevel-property.md)                       | <span data-ttu-id="2d6ca-173">12222464 бит</span><span class="sxs-lookup"><span data-stu-id="2d6ca-173">12222464 bits</span></span>                                                    |                                                                                                                                                                                                                      |
| [<span data-ttu-id="2d6ca-174">**авенккоммонбуфферсизе**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-174">**AVEncCommonBufferSize**</span></span>](avenccommonbuffersize-property.md)                               | <span data-ttu-id="2d6ca-175">12222464 бит</span><span class="sxs-lookup"><span data-stu-id="2d6ca-175">12222464 bits</span></span>                                                    |                                                                                                                                                                                                                      |
| [<span data-ttu-id="2d6ca-176">**авенккоммонформатконстраинт**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-176">**AVEncCommonFormatConstraint**</span></span>](avenccommonformatconstraint-property.md)                   | <span data-ttu-id="2d6ca-177">Не указан</span><span class="sxs-lookup"><span data-stu-id="2d6ca-177">Unspecified</span></span>                                                      | <span data-ttu-id="2d6ca-178">**Кодекапи \_ GUID \_ авенккоммонформатунспеЦифиед** (без ограничения формата)</span><span class="sxs-lookup"><span data-stu-id="2d6ca-178">**CODECAPI\_GUID\_AVEncCommonFormatUnSpecified** (No format constraint)</span></span><br/> <span data-ttu-id="2d6ca-179">**Кодекапи \_ GUID \_ авенккоммонформатдвд \_ V** (DVD-Video)</span><span class="sxs-lookup"><span data-stu-id="2d6ca-179">**CODECAPI\_GUID\_AVEncCommonFormatDVD\_V** (DVD-Video)</span></span><br/> <span data-ttu-id="2d6ca-180">**Кодекапи \_ GUID \_ авенккоммонформатвкд** (компакт-диск видео)</span><span class="sxs-lookup"><span data-stu-id="2d6ca-180">**CODECAPI\_GUID\_AVEncCommonFormatVCD** (Video CD)</span></span><br/> |
| [<span data-ttu-id="2d6ca-181">**авенккоммонмаксбитрате**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-181">**AVEncCommonMaxBitRate**</span></span>](avenccommonmaxbitrate-property.md)                               | <span data-ttu-id="2d6ca-182">9800000 (9,8 Мбит/с)</span><span class="sxs-lookup"><span data-stu-id="2d6ca-182">9800000 (9.8 Mbits/second)</span></span>                                       |                                                                                                                                                                                                                      |
| [<span data-ttu-id="2d6ca-183">**авенккоммонмеанбитрате**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-183">**AVEncCommonMeanBitRate**</span></span>](avenccommonmeanbitrate-property.md)                             | <span data-ttu-id="2d6ca-184">7000000 (7,0 Мбит/с)</span><span class="sxs-lookup"><span data-stu-id="2d6ca-184">7000000 (7.0 Mbits/second)</span></span>                                       |                                                                                                                                                                                                                      |
| [<span data-ttu-id="2d6ca-185">**авенккоммонминбитрате**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-185">**AVEncCommonMinBitRate**</span></span>](avenccommonminbitrate-property.md)                               | <span data-ttu-id="2d6ca-186">128</span><span class="sxs-lookup"><span data-stu-id="2d6ca-186">128</span></span>                                                              |                                                                                                                                                                                                                      |
| [<span data-ttu-id="2d6ca-187">**авенккоммонмултипассмоде**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-187">**AVEncCommonMultipassMode**</span></span>](avenccommonmultipassmode-property.md)                         | <span data-ttu-id="2d6ca-188">1</span><span class="sxs-lookup"><span data-stu-id="2d6ca-188">1</span></span>                                                                | <span data-ttu-id="2d6ca-189">1</span><span class="sxs-lookup"><span data-stu-id="2d6ca-189">1</span></span>                                                                                                                                                                                                                    |
| [<span data-ttu-id="2d6ca-190">**авенккоммонкуалити**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-190">**AVEncCommonQuality**</span></span>](avenccommonquality-property.md)                                     | <span data-ttu-id="2d6ca-191">100</span><span class="sxs-lookup"><span data-stu-id="2d6ca-191">100</span></span>                                                              | <span data-ttu-id="2d6ca-192">1 — 100</span><span class="sxs-lookup"><span data-stu-id="2d6ca-192">1 — 100</span></span>                                                                                                                                                                                                              |
| [<span data-ttu-id="2d6ca-193">**авенккоммонкуалитивсспид**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-193">**AVEncCommonQualityVsSpeed**</span></span>](avenccommonqualityvsspeed-property.md)                       | <span data-ttu-id="2d6ca-194">75</span><span class="sxs-lookup"><span data-stu-id="2d6ca-194">75</span></span>                                                               | <span data-ttu-id="2d6ca-195">0 — 100</span><span class="sxs-lookup"><span data-stu-id="2d6ca-195">0 — 100</span></span>                                                                                                                                                                                                              |
| [<span data-ttu-id="2d6ca-196">**авенккоммонратеконтролмоде**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-196">**AVEncCommonRateControlMode**</span></span>](avenccommonratecontrolmode-property.md)                     | <span data-ttu-id="2d6ca-197">CBR</span><span class="sxs-lookup"><span data-stu-id="2d6ca-197">CBR</span></span>                                                              | <span data-ttu-id="2d6ca-198">**Еавенккоммонратеконтролмоде \_ CBR**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-198">**eAVEncCommonRateControlMode\_CBR**</span></span><br/> <span data-ttu-id="2d6ca-199">**Еавенккоммонратеконтролмоде \_ пеакконстраинедвбр**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-199">**eAVEncCommonRateControlMode\_PeakConstrainedVBR**</span></span><br/> <span data-ttu-id="2d6ca-200">**\_качество еавенккоммонратеконтролмоде**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-200">**eAVEncCommonRateControlMode\_Quality**</span></span><br/>                                                   |
| [<span data-ttu-id="2d6ca-201">**авенЦинпутвидеосистем**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-201">**AVEncInputVideoSystem**</span></span>](avencinputvideosystem-property.md)                               | <span data-ttu-id="2d6ca-202">Не указан</span><span class="sxs-lookup"><span data-stu-id="2d6ca-202">Unspecified</span></span>                                                      | <span data-ttu-id="2d6ca-203">ЕавенЦинпутвидеосистем не \_ указан</span><span class="sxs-lookup"><span data-stu-id="2d6ca-203">eAVEncInputVideoSystem\_Unspecified</span></span><br/> <span data-ttu-id="2d6ca-204">ЕавенЦинпутвидеосистем \_ PAL</span><span class="sxs-lookup"><span data-stu-id="2d6ca-204">eAVEncInputVideoSystem\_PAL</span></span><br/> <span data-ttu-id="2d6ca-205">ЕавенЦинпутвидеосистем \_ NTSC</span><span class="sxs-lookup"><span data-stu-id="2d6ca-205">eAVEncInputVideoSystem\_NTSC</span></span><br/>                                                                                        |
| [<span data-ttu-id="2d6ca-206">**авенкмпвдефаултбпиктурекаунт**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-206">**AVEncMPVDefaultBPictureCount**</span></span>](avencmpvdefaultbpicturecount-property.md)                 | <span data-ttu-id="2d6ca-207">2</span><span class="sxs-lookup"><span data-stu-id="2d6ca-207">2</span></span>                                                                | <span data-ttu-id="2d6ca-208">0 — 2</span><span class="sxs-lookup"><span data-stu-id="2d6ca-208">0 — 2</span></span>                                                                                                                                                                                                                |
| [<span data-ttu-id="2d6ca-209">**авенкмпвфрамефиелдмоде**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-209">**AVEncMPVFrameFieldMode**</span></span>](avencmpvframefieldmode-property.md)                             | <span data-ttu-id="2d6ca-210">Режим кадров</span><span class="sxs-lookup"><span data-stu-id="2d6ca-210">Frame mode</span></span>                                                       |                                                                                                                                                                                                                      |
| [<span data-ttu-id="2d6ca-211">**авенкмпвженератехеадерсекдиспекст**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-211">**AVEncMPVGenerateHeaderSeqDispExt**</span></span>](avencmpvgenerateheaderseqdispext-property.md)         | <span data-ttu-id="2d6ca-212">**TRUE**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-212">**TRUE**</span></span>                                                         |                                                                                                                                                                                                                      |
| [<span data-ttu-id="2d6ca-213">**авенкмпвженератехеадерсекекст**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-213">**AVEncMPVGenerateHeaderSeqExt**</span></span>](avencmpvgenerateheaderseqext-property.md)                 | <span data-ttu-id="2d6ca-214">**TRUE**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-214">**TRUE**</span></span>                                                         |                                                                                                                                                                                                                      |
| [<span data-ttu-id="2d6ca-215">**авенкмпвгопопен**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-215">**AVEncMPVGOPOpen**</span></span>](avencmpvgopopen-property.md)                                           | <span data-ttu-id="2d6ca-216">**FALSE**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-216">**FALSE**</span></span>                                                        |                                                                                                                                                                                                                      |
| [<span data-ttu-id="2d6ca-217">**авенкмпвгопсинсек**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-217">**AVEncMPVGOPSInSeq**</span></span>](avencmpvgopsinseq-property.md)                                       | <span data-ttu-id="2d6ca-218">1</span><span class="sxs-lookup"><span data-stu-id="2d6ca-218">1</span></span>                                                                | <span data-ttu-id="2d6ca-219">0 — 1</span><span class="sxs-lookup"><span data-stu-id="2d6ca-219">0 — 1</span></span>                                                                                                                                                                                                                |
| [<span data-ttu-id="2d6ca-220">**авенкмпвгопсизе**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-220">**AVEncMPVGOPSize**</span></span>](avencmpvgopsize-property.md)                                           | <span data-ttu-id="2d6ca-221">18 кадров (36 полей) для NTSC; в противном случае 15 кадров (30 полей).</span><span class="sxs-lookup"><span data-stu-id="2d6ca-221">18 frames (36 fields) for NTSC; 15 frames (30 fields) otherwise.</span></span> | <span data-ttu-id="2d6ca-222">1 — 30; см. примечания</span><span class="sxs-lookup"><span data-stu-id="2d6ca-222">1 — 30; see Remarks</span></span>                                                                                                                                                                                                  |
| [<span data-ttu-id="2d6ca-223">**авенкмпвинтрадкпреЦисион**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-223">**AVEncMPVIntraDCPrecision**</span></span>](avencmpvintradcprecision-property.md)                         | <span data-ttu-id="2d6ca-224">9</span><span class="sxs-lookup"><span data-stu-id="2d6ca-224">9</span></span>                                                                | <span data-ttu-id="2d6ca-225">8 — 10</span><span class="sxs-lookup"><span data-stu-id="2d6ca-225">8 — 10</span></span>                                                                                                                                                                                                               |
| [<span data-ttu-id="2d6ca-226">**авенкмпвлевел**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-226">**AVEncMPVLevel**</span></span>](avencmpvlevel-property.md)                                               | <span data-ttu-id="2d6ca-227">Высокий</span><span class="sxs-lookup"><span data-stu-id="2d6ca-227">High</span></span>                                                             |                                                                                                                                                                                                                      |
| [<span data-ttu-id="2d6ca-228">**авенкмпвпрофиле**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-228">**AVEncMPVProfile**</span></span>](avencmpvprofile-property.md)                                           | <span data-ttu-id="2d6ca-229">Главная ветвь</span><span class="sxs-lookup"><span data-stu-id="2d6ca-229">Main</span></span>                                                             |                                                                                                                                                                                                                      |
| [<span data-ttu-id="2d6ca-230">**авенквидеодефаултупперфиелддоминант**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-230">**AVEncVideoDefaultUpperFieldDominant**</span></span>](avencvideodefaultupperfielddominant-property.md)   | <span data-ttu-id="2d6ca-231">**TRUE**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-231">**TRUE**</span></span>                                                         |                                                                                                                                                                                                                      |
| [<span data-ttu-id="2d6ca-232">**авенквидеофорцесаурцескантипе**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-232">**AVEncVideoForceSourceScanType**</span></span>](avencvideoforcesourcescantype-property.md)               | <span data-ttu-id="2d6ca-233">Interlaced</span><span class="sxs-lookup"><span data-stu-id="2d6ca-233">Interlaced</span></span>                                                       | <span data-ttu-id="2d6ca-234">**Еавенквидеосаурцескан с \_ чередованием**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-234">**eAVEncVideoSourceScan\_Interlaced**</span></span><br/> <span data-ttu-id="2d6ca-235">**Еавенквидеосаурцескан \_ прогрессивный**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-235">**eAVEncVideoSourceScan\_Progressive**</span></span><br/>                                                                                                                   |
| [<span data-ttu-id="2d6ca-236">**авенквидеоинпутчромаресолутион**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-236">**AVEncVideoInputChromaResolution**</span></span>](avencvideoinputchromaresolution-property.md)           | <span data-ttu-id="2d6ca-237">4:2:0</span><span class="sxs-lookup"><span data-stu-id="2d6ca-237">4:2:0</span></span>                                                            | <span data-ttu-id="2d6ca-238">**еавенквидеочромаресолутион \_ 420** (4:2:0)</span><span class="sxs-lookup"><span data-stu-id="2d6ca-238">**eAVEncVideoChromaResolution\_420** (4:2:0)</span></span><br/> <span data-ttu-id="2d6ca-239">**Еавенквидеочромаресолутион \_ самеассаурце**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-239">**eAVEncVideoChromaResolution\_SameAsSource**</span></span><br/>                                                                                                     |
| [<span data-ttu-id="2d6ca-240">**авенквидеоинпутчромасубсамплинг**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-240">**AVEncVideoInputChromaSubsampling**</span></span>](avencvideoinputchromasubsampling-property.md)         | <span data-ttu-id="2d6ca-241">Совпадает с источником</span><span class="sxs-lookup"><span data-stu-id="2d6ca-241">Same as source</span></span>                                                   |                                                                                                                                                                                                                      |
| [<span data-ttu-id="2d6ca-242">**авенквидеоинпутколорноминалранже**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-242">**AVEncVideoInputColorNominalRange**</span></span>](avencvideoinputcolornominalrange-property.md)         | <span data-ttu-id="2d6ca-243">Совпадает с источником</span><span class="sxs-lookup"><span data-stu-id="2d6ca-243">Same as source</span></span>                                                   |                                                                                                                                                                                                                      |
| [<span data-ttu-id="2d6ca-244">**авенквидеоинпутколорпримариес**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-244">**AVEncVideoInputColorPrimaries**</span></span>](avencvideoinputcolorprimaries-property.md)               | <span data-ttu-id="2d6ca-245">Совпадает с источником</span><span class="sxs-lookup"><span data-stu-id="2d6ca-245">Same as source</span></span>                                                   |                                                                                                                                                                                                                      |
| [<span data-ttu-id="2d6ca-246">**авенквидеоинпутколортрансферфунктион**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-246">**AVEncVideoInputColorTransferFunction**</span></span>](avencvideoinputcolortransferfunction-property.md) | <span data-ttu-id="2d6ca-247">Совпадает с источником</span><span class="sxs-lookup"><span data-stu-id="2d6ca-247">Same as source</span></span>                                                   |                                                                                                                                                                                                                      |
| [<span data-ttu-id="2d6ca-248">**авенквидеоинпутколортрансферматрикс**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-248">**AVEncVideoInputColorTransferMatrix**</span></span>](avencvideoinputcolortransfermatrix-property.md)     | <span data-ttu-id="2d6ca-249">Совпадает с источником</span><span class="sxs-lookup"><span data-stu-id="2d6ca-249">Same as source</span></span>                                                   |                                                                                                                                                                                                                      |
| [<span data-ttu-id="2d6ca-250">**авенквидеомакскэйфрамедистанце**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-250">**AVEncVideoMaxKeyframeDistance**</span></span>](avencvideomaxkeyframedistance-property.md)               | <span data-ttu-id="2d6ca-251">[**Авенкмпвгопсизе**](avencmpvgopsize-property.md) -1</span><span class="sxs-lookup"><span data-stu-id="2d6ca-251">[**AVEncMPVGOPSize**](avencmpvgopsize-property.md) - 1</span></span>          | <span data-ttu-id="2d6ca-252">0 или [**авенкмпвгопсизе**](avencmpvgopsize-property.md) -1</span><span class="sxs-lookup"><span data-stu-id="2d6ca-252">0 or [**AVEncMPVGOPSize**](avencmpvgopsize-property.md) - 1</span></span>                                                                                                                                                         |
| [<span data-ttu-id="2d6ca-253">**авенквидеонуффиелдстоенкоде**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-253">**AVEncVideoNoOfFieldsToEncode**</span></span>](avencvideonooffieldstoencode-property.md)                 | <span data-ttu-id="2d6ca-254">0</span><span class="sxs-lookup"><span data-stu-id="2d6ca-254">0</span></span>                                                                |                                                                                                                                                                                                                      |
| [<span data-ttu-id="2d6ca-255">**авенквидеуутпутчромаресолутион**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-255">**AVEncVideoOutputChromaResolution**</span></span>](avencvideooutputchromaresolution-property.md)         | <span data-ttu-id="2d6ca-256">4:2:0</span><span class="sxs-lookup"><span data-stu-id="2d6ca-256">4:2:0</span></span>                                                            | <span data-ttu-id="2d6ca-257">**еавенквидеочромаресолутион \_ 420** (4:2:0)</span><span class="sxs-lookup"><span data-stu-id="2d6ca-257">**eAVEncVideoChromaResolution\_420** (4:2:0)</span></span><br/> <span data-ttu-id="2d6ca-258">**Еавенквидеочромаресолутион \_ самеассаурце**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-258">**eAVEncVideoChromaResolution\_SameAsSource**</span></span><br/>                                                                                                     |
| [<span data-ttu-id="2d6ca-259">**авенквидеуутпутфрамерате**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-259">**AVEncVideoOutputFrameRate**</span></span>](avencvideooutputframerate-property.md)                       |                                                                  | <span data-ttu-id="2d6ca-260">Значение должно совпадать с частотой входного кадра.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-260">Must be the same as the input frame rate.</span></span>                                                                                                                                                                            |
| [<span data-ttu-id="2d6ca-261">**авенквидеуутпутскантипе**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-261">**AVEncVideoOutputScanType**</span></span>](avencvideooutputscantype-property.md)                         | <span data-ttu-id="2d6ca-262">Так же, как и для входных данных</span><span class="sxs-lookup"><span data-stu-id="2d6ca-262">Same as input</span></span>                                                    | <span data-ttu-id="2d6ca-263">**Еавенквидеуутпутскан \_ самеасинпут**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-263">**eAVEncVideoOutputScan\_SameAsInput**</span></span>                                                                                                                                                                               |
| [<span data-ttu-id="2d6ca-264">**авенквидеопикселаспектратио**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-264">**AVEncVideoPixelAspectRatio**</span></span>](avencvideopixelaspectratio-property.md)                     | <span data-ttu-id="2d6ca-265">1:1</span><span class="sxs-lookup"><span data-stu-id="2d6ca-265">1:1</span></span>                                                              |                                                                                                                                                                                                                      |



 

<span data-ttu-id="2d6ca-266">Рекомендуется задавать свойства в следующем порядке:</span><span class="sxs-lookup"><span data-stu-id="2d6ca-266">It is recommended to set properties in the following order:</span></span>

1.  [<span data-ttu-id="2d6ca-267">**авенккоммонформатконстраинт**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-267">**AVEncCommonFormatConstraint**</span></span>](avenccommonformatconstraint-property.md)
2.  [<span data-ttu-id="2d6ca-268">**авенккодектипе**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-268">**AVEncCodecType**</span></span>](avenccodectype-property.md)
3.  [<span data-ttu-id="2d6ca-269">**авенкмпвпрофиле**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-269">**AVEncMPVProfile**</span></span>](avencmpvprofile-property.md)
4.  [<span data-ttu-id="2d6ca-270">**авенкмпвлевел**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-270">**AVEncMPVLevel**</span></span>](avencmpvlevel-property.md)
5.  [<span data-ttu-id="2d6ca-271">**авенЦинпутвидеосистем**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-271">**AVEncInputVideoSystem**</span></span>](avencinputvideosystem-property.md)

<span data-ttu-id="2d6ca-272">Задайте остальные свойства в любом порядке.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-272">Set the remaining properties in any order.</span></span> <span data-ttu-id="2d6ca-273">(Однако см. раздел [Структура GOP](#gop-structure).)</span><span class="sxs-lookup"><span data-stu-id="2d6ca-273">(However, see [GOP Structure](#gop-structure).)</span></span>

<span data-ttu-id="2d6ca-274">Можно задать свойства во время выполнения графа фильтра.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-274">It is possible to set properties while the filter graph is running.</span></span> <span data-ttu-id="2d6ca-275">Для вступления в силу новых параметров существует задержка по крайней мере одного GOP.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-275">There is a delay of at least one GOP before the new settings take effect.</span></span>

### <a name="encoder-operation"></a><span data-ttu-id="2d6ca-276">Операция кодировщика</span><span class="sxs-lookup"><span data-stu-id="2d6ca-276">Encoder Operation</span></span>

<span data-ttu-id="2d6ca-277">При кодировании видео MPEG-1 кодировщик автоматически задает в заголовке последовательности код **\_ \_ флага одноразрядных ограниченных параметров** , если выполняются все ограничения.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-277">When encoding MPEG-1 video, the encoder automatically sets the 1-bit **constrained\_parameters\_flag** code in the sequence header if all constraints are met.</span></span>

<span data-ttu-id="2d6ca-278">При необходимости кодировщик округляет входные размеры видео таким образом, чтобы размеры выходных видео соответствовали требованиям MPEG.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-278">If needed, the encoder rounds up the input video dimensions so that the output video dimensions match the MPEG requirements.</span></span> <span data-ttu-id="2d6ca-279">Для последовательного видео размеры выходных данных округляются до кратного 16 по ширине и высоте.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-279">For progressive video, the output dimensions are rounded up to a multiple of 16 in both width and height.</span></span> <span data-ttu-id="2d6ca-280">Для видео с чередованием ширина округляется до кратного 16, а высота округляется до кратного 32.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-280">For interlaced video, width is rounded up to a multiple of 16, and height is rounded up to a multiple of 32.</span></span> <span data-ttu-id="2d6ca-281">Эта операция округления использует заполнение по мере необходимости.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-281">This round-up operation uses padding as needed.</span></span>

<span data-ttu-id="2d6ca-282">Если видео чередуются, кодировщик выполняет автоматическое обнаружение чересстрочности (3:2).</span><span class="sxs-lookup"><span data-stu-id="2d6ca-282">If the video is interlaced, the encoder performs automatic telecine (3:2 pull-down) detection.</span></span> <span data-ttu-id="2d6ca-283">В дополнение к чередующимся кадрам входное видео может содержать пары изображений полей.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-283">The input video can contain field picture pairs, in addition to interlaced frames.</span></span>

<span data-ttu-id="2d6ca-284">Внутренний формат кодировщика — 4:2:0 ИЙУВ (аналогично I420).</span><span class="sxs-lookup"><span data-stu-id="2d6ca-284">The encoder's internal format is 4:2:0 IYUV (identical to I420).</span></span> <span data-ttu-id="2d6ca-285">Он может выполнять преобразование цветов из видеоформатов YUY2, YV12, UYVY и RGB-24.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-285">It can perform color conversion from YUY2, YV12, UYVY, and RGB-24 video formats.</span></span>

<span data-ttu-id="2d6ca-286">Чтобы ограничить битовый поток целевым форматом (DVD или VCD), задайте свойство [**авенккоммонформатконстраинт**](avenccommonformatconstraint-property.md) .</span><span class="sxs-lookup"><span data-stu-id="2d6ca-286">To constrain the bitstream to a target format (DVD or VCD), set the [**AVEncCommonFormatConstraint**](avenccommonformatconstraint-property.md) property.</span></span> <span data-ttu-id="2d6ca-287">Если это свойство имеет значение, отличное от **GUID \_ авенккоммонформатунспеЦифиед**, КОДИРОВЩИК ограничивает синтаксис MPEG тем, который разрешен в целевом формате.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-287">If this property has a value other than **GUID\_AVEncCommonFormatUnSpecified**, the encoder limits the MPEG syntax to that allowed by the target format.</span></span>

<span data-ttu-id="2d6ca-288">Для параметра кодирование в реальном времени задайте для свойства [**авенккоммонкуалитивсспид**](avenccommonqualityvsspeed-property.md) значение 0.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-288">For live encoding, set the [**AVEncCommonQualityVsSpeed**](avenccommonqualityvsspeed-property.md) property to zero.</span></span> <span data-ttu-id="2d6ca-289">Это приводит к оптимизации кодировщика для ускорения.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-289">This causes the encoder to optimize for speed.</span></span>

### <a name="encoding-modes"></a><span data-ttu-id="2d6ca-290">Режимы кодирования</span><span class="sxs-lookup"><span data-stu-id="2d6ca-290">Encoding Modes</span></span>

<span data-ttu-id="2d6ca-291">Кодировщик поддерживает несколько режимов кодирования:</span><span class="sxs-lookup"><span data-stu-id="2d6ca-291">The encoder supports several encoding modes:</span></span>

-   <span data-ttu-id="2d6ca-292">Однопроходная постоянная скорость (CBR).</span><span class="sxs-lookup"><span data-stu-id="2d6ca-292">One-pass constant bit rate (CBR).</span></span>
-   <span data-ttu-id="2d6ca-293">Однопроходная битовая скорость переменной на основе качества (VBR) с использованием постоянного куантизер шага.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-293">One-pass quality-based variable bit rate (VBR), using a constant quantizer step size.</span></span> <span data-ttu-id="2d6ca-294">В этом режиме кодировщик пытается удовлетворить целевой уровень качества, вплоть до максимальной скорости.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-294">In this mode, the encoder attempts to meet a target quality level, up to a maximum bit rate.</span></span>
-   <span data-ttu-id="2d6ca-295">1-Проходный пиковый с ограничением VBR.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-295">One-pass peak-constrained VBR.</span></span> <span data-ttu-id="2d6ca-296">В этом режиме кодировщик пытается достичь целевой средней скорости в пределах определенных внутренних ограничений.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-296">In this mode, the encoder attempts to achieve a target average bit rate within certain internal limits.</span></span>

<span data-ttu-id="2d6ca-297">Чтобы настроить режим кодирования, задайте следующие свойства:</span><span class="sxs-lookup"><span data-stu-id="2d6ca-297">To configure the encoding mode, set the following properties:</span></span>



<table>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header">
<th><span data-ttu-id="2d6ca-298">Режим</span><span class="sxs-lookup"><span data-stu-id="2d6ca-298">Mode</span></span></th>
<th><span data-ttu-id="2d6ca-299">Свойства</span><span class="sxs-lookup"><span data-stu-id="2d6ca-299">Properties</span></span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><span data-ttu-id="2d6ca-300">CBR</span><span class="sxs-lookup"><span data-stu-id="2d6ca-300">CBR</span></span></td>
<td><span data-ttu-id="2d6ca-301"><a href="avenccommonratecontrolmode-property.md"><strong>Авенккоммонратеконтролмоде</strong></a>  =  <strong>eAVEncCommonRateControlMode_CBR</strong></span><span class="sxs-lookup"><span data-stu-id="2d6ca-301"><a href="avenccommonratecontrolmode-property.md"><strong>AVEncCommonRateControlMode</strong></a> = <strong>eAVEncCommonRateControlMode_CBR</strong></span></span><br/> <span data-ttu-id="2d6ca-302"><a href="avenccommonqualityvsspeed-property.md"><strong>авенккоммонкуалитивсспид</strong></a></span><span class="sxs-lookup"><span data-stu-id="2d6ca-302"><a href="avenccommonqualityvsspeed-property.md"><strong>AVEncCommonQualityVsSpeed</strong></a></span></span><br/> <span data-ttu-id="2d6ca-303"><a href="avenccommonmeanbitrate-property.md"><strong>авенккоммонмеанбитрате</strong></a></span><span class="sxs-lookup"><span data-stu-id="2d6ca-303"><a href="avenccommonmeanbitrate-property.md"><strong>AVEncCommonMeanBitRate</strong></a></span></span><br/></td>
</tr>
<tr class="even">
<td><span data-ttu-id="2d6ca-304">VBR на основе качества</span><span class="sxs-lookup"><span data-stu-id="2d6ca-304">Quality-based VBR</span></span></td>
<td><span data-ttu-id="2d6ca-305"><a href="avenccommonratecontrolmode-property.md"><strong>Авенккоммонратеконтролмоде</strong></a>  =  <strong>eAVEncCommonRateControlMode_Quality</strong></span><span class="sxs-lookup"><span data-stu-id="2d6ca-305"><a href="avenccommonratecontrolmode-property.md"><strong>AVEncCommonRateControlMode</strong></a> = <strong>eAVEncCommonRateControlMode_Quality</strong></span></span><br/> <span data-ttu-id="2d6ca-306"><a href="avenccommonquality-property.md"><strong>авенккоммонкуалити</strong></a></span><span class="sxs-lookup"><span data-stu-id="2d6ca-306"><a href="avenccommonquality-property.md"><strong>AVEncCommonQuality</strong></a></span></span><br/> <span data-ttu-id="2d6ca-307"><a href="avenccommonmaxbitrate-property.md"><strong>авенккоммонмаксбитрате</strong></a></span><span class="sxs-lookup"><span data-stu-id="2d6ca-307"><a href="avenccommonmaxbitrate-property.md"><strong>AVEncCommonMaxBitRate</strong></a></span></span><br/>
<blockquote>
[!Note]<br />
<span data-ttu-id="2d6ca-308">В этом режиме свойства <a href="avenccommonmeanbitrate-property.md"><strong>авенккоммонмеанбитрате</strong></a> и <a href="avenccommonminbitrate-property.md"><strong>авенккоммонминбитрате</strong></a> не используются.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-308">In this mode, the <a href="avenccommonmeanbitrate-property.md"><strong>AVEncCommonMeanBitRate</strong></a> and <a href="avenccommonminbitrate-property.md"><strong>AVEncCommonMinBitRate</strong></a> properties are not used.</span></span> <span data-ttu-id="2d6ca-309">Предполагается, что минимальная скорость потока равна нулю.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-309">The minimum bit rate is assumed to be zero.</span></span>
</blockquote>
<br/></td>
</tr>
<tr class="odd">
<td><span data-ttu-id="2d6ca-310">Пиковая с ограниченным числом VBR</span><span class="sxs-lookup"><span data-stu-id="2d6ca-310">Peak-constrained VBR</span></span></td>
<td><span data-ttu-id="2d6ca-311"><a href="avenccommonratecontrolmode-property.md"><strong>Авенккоммонратеконтролмоде</strong></a>  =  <strong>eAVEncCommonRateControlMode_PeakConstrainedVBR</strong></span><span class="sxs-lookup"><span data-stu-id="2d6ca-311"><a href="avenccommonratecontrolmode-property.md"><strong>AVEncCommonRateControlMode</strong></a> = <strong>eAVEncCommonRateControlMode_PeakConstrainedVBR</strong></span></span><br/> <span data-ttu-id="2d6ca-312"><a href="avenccommonmultipassmode-property.md"><strong>Авенккоммонмултипассмоде</strong></a> = 1</span><span class="sxs-lookup"><span data-stu-id="2d6ca-312"><a href="avenccommonmultipassmode-property.md"><strong>AVEncCommonMultipassMode</strong></a> = 1</span></span><br/> <span data-ttu-id="2d6ca-313"><a href="avenccommonminbitrate-property.md"><strong>авенккоммонминбитрате</strong></a></span><span class="sxs-lookup"><span data-stu-id="2d6ca-313"><a href="avenccommonminbitrate-property.md"><strong>AVEncCommonMinBitRate</strong></a></span></span><br/> <span data-ttu-id="2d6ca-314"><a href="avenccommonmaxbitrate-property.md"><strong>авенккоммонмаксбитрате</strong></a></span><span class="sxs-lookup"><span data-stu-id="2d6ca-314"><a href="avenccommonmaxbitrate-property.md"><strong>AVEncCommonMaxBitRate</strong></a></span></span><br/> <span data-ttu-id="2d6ca-315"><a href="avenccommonmeanbitrate-property.md"><strong>авенккоммонмеанбитрате</strong></a></span><span class="sxs-lookup"><span data-stu-id="2d6ca-315"><a href="avenccommonmeanbitrate-property.md"><strong>AVEncCommonMeanBitRate</strong></a></span></span><br/></td>
</tr>
</tbody>
</table>



 

> [!Note]  
> <span data-ttu-id="2d6ca-316">2-проходные VBR не поддерживаются.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-316">Two-pass VBR is not supported.</span></span>

 

### <a name="aspect-ratio"></a><span data-ttu-id="2d6ca-317">Пропорции</span><span class="sxs-lookup"><span data-stu-id="2d6ca-317">Aspect Ratio</span></span>

<span data-ttu-id="2d6ca-318">Соотношение пропорций и пропорций в пикселях (номинал) связано со следующей формулой:</span><span class="sxs-lookup"><span data-stu-id="2d6ca-318">The display aspect ratio and pixel aspect ratio (PAR) are related by the following formula:</span></span>

<dl> <span data-ttu-id="2d6ca-319">Отобразить соотношение сторон = номинал x (ширина и высота изображения)</span><span class="sxs-lookup"><span data-stu-id="2d6ca-319">Display aspect ratio = PAR × (picture width / picture height)</span></span>  
</dl>

<span data-ttu-id="2d6ca-320">Кодировщик использует эту формулу для вычисления значения \_ пропорций PEL \_ для битстреамс или сведений о пропорции MPEG- \_ \_ 2 битстреамс.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-320">The encoder uses this formula to calculate the value of pel\_aspect\_ratio for MPEG-1 bitstreams or aspect\_ratio\_information for MPEG-2 bitstreams.</span></span> <span data-ttu-id="2d6ca-321">(См. статью ISO/IEC 11172 и ISO/IEC 138181-2 соответственно.)</span><span class="sxs-lookup"><span data-stu-id="2d6ca-321">(See ISO/IEC 11172 and ISO/IEC 138181-2, respectively.)</span></span>

<span data-ttu-id="2d6ca-322">Кодировщик пытается выполнить следующие параметры по порядку:</span><span class="sxs-lookup"><span data-stu-id="2d6ca-322">The encoder tries the following settings, in order:</span></span>

1.  <span data-ttu-id="2d6ca-323">Если приложение задает свойство [**авенквидеопикселаспектратио**](avencvideopixelaspectratio-property.md) в любое время до выполнения графа фильтра, это свойство используется для номинала.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-323">If the application sets the [**AVEncVideoPixelAspectRatio**](avencvideopixelaspectratio-property.md) property at any time before the filter graph runs, this property is used for the PAR.</span></span>
2.  <span data-ttu-id="2d6ca-324">В противном случае, если элементы **двпиктаспектратиокс** и **двпиктаспектратиой** структуры [**VIDEOINFOHEADER2**](/previous-versions/windows/desktop/api/dvdmedia/ns-dvdmedia-videoinfoheader2) не равны нулю, эти элементы используются для пропорций изображения, а номинал вычисляется на основе пропорций изображения.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-324">Otherwise, if the **dwPictAspectRatioX** and **dwPictAspectRatioY** members of the [**VIDEOINFOHEADER2**](/previous-versions/windows/desktop/api/dvdmedia/ns-dvdmedia-videoinfoheader2) structure are non-zero, these members are used for the display aspect ratio, and the PAR is calculated from the display aspect ratio.</span></span>
3.  <span data-ttu-id="2d6ca-325">Если ни одно из этих значений не указано, то предполагается, что номинал имеет значение 1,0, а пропорции отображения рассчитываются соответствующим образом.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-325">If none of these values is present, the PAR is assumed to be 1.0, and the display aspect ratio is calculated accordingly.</span></span>

<span data-ttu-id="2d6ca-326">В режиме реального кодирования ([**авенккоммонкуалитивсспид**](avenccommonqualityvsspeed-property.md) равен нулю) соотношение сторон изображения должно быть 4:3 или 16:9, а значение по умолчанию — 4:3.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-326">In live encoding mode ([**AVEncCommonQualityVsSpeed**](avenccommonqualityvsspeed-property.md) equal to zero), the display aspect ratio must be either 4:3 or 16:9, with a default value of 4:3.</span></span> <span data-ttu-id="2d6ca-327">Если пропорции вычисленного изображения не 4:3 или 16:9, кодировщик использует значение 4:3.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-327">If the computed display aspect ratio is not 4:3 or 16:9, the encoder uses the value 4:3.</span></span>

### <a name="gop-structure"></a><span data-ttu-id="2d6ca-328">Структура GOP</span><span class="sxs-lookup"><span data-stu-id="2d6ca-328">GOP Structure</span></span>

<span data-ttu-id="2d6ca-329">Чтобы указать структуру группы рисунков (GOP), задайте следующие свойства по порядку:</span><span class="sxs-lookup"><span data-stu-id="2d6ca-329">To specify the group of picture (GOP) structure, set the following properties in order:</span></span>

1.  [<span data-ttu-id="2d6ca-330">**авенкмпвгопсизе**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-330">**AVEncMPVGOPSize**</span></span>](avencmpvgopsize-property.md)
2.  [<span data-ttu-id="2d6ca-331">**авенквидеомакскэйфрамедистанце**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-331">**AVEncVideoMaxKeyframeDistance**</span></span>](avencvideomaxkeyframedistance-property.md)
3.  [<span data-ttu-id="2d6ca-332">**авенкмпвдефаултбпиктурекаунт**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-332">**AVEncMPVDefaultBPictureCount**</span></span>](avencmpvdefaultbpicturecount-property.md)

<span data-ttu-id="2d6ca-333">На основе этих параметров кодировщик создает одну из следующих структур GOP:</span><span class="sxs-lookup"><span data-stu-id="2d6ca-333">Based on these settings, the encoder produces one of the following GOP structures:</span></span>



| [<span data-ttu-id="2d6ca-334">**авенквидеомакскэйфрамедистанце**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-334">**AVEncVideoMaxKeyframeDistance**</span></span>](avencvideomaxkeyframedistance-property.md) | [<span data-ttu-id="2d6ca-335">**авенкмпвдефаултбпиктурекаунт**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-335">**AVEncMPVDefaultBPictureCount**</span></span>](avencmpvdefaultbpicturecount-property.md) | <span data-ttu-id="2d6ca-336">Структура GOP</span><span class="sxs-lookup"><span data-stu-id="2d6ca-336">GOP Structure</span></span> |
|---------------------------------------------------------------------------------|-------------------------------------------------------------------------------|---------------|
| <span data-ttu-id="2d6ca-337">0</span><span class="sxs-lookup"><span data-stu-id="2d6ca-337">0</span></span>                                                                               | <span data-ttu-id="2d6ca-338">0</span><span class="sxs-lookup"><span data-stu-id="2d6ca-338">0</span></span>                                                                             | <span data-ttu-id="2d6ca-339">ИИИИ...</span><span class="sxs-lookup"><span data-stu-id="2d6ca-339">IIII...</span></span>       |
| <span data-ttu-id="2d6ca-340">[**Авенкмпвгопсизе**](avencmpvgopsize-property.md) -1</span><span class="sxs-lookup"><span data-stu-id="2d6ca-340">[**AVEncMPVGOPSize**](avencmpvgopsize-property.md) - 1</span></span>                         | <span data-ttu-id="2d6ca-341">0</span><span class="sxs-lookup"><span data-stu-id="2d6ca-341">0</span></span>                                                                             | <span data-ttu-id="2d6ca-342">ИППП...</span><span class="sxs-lookup"><span data-stu-id="2d6ca-342">IPPP...</span></span>       |
| <span data-ttu-id="2d6ca-343">[**Авенкмпвгопсизе**](avencmpvgopsize-property.md) -1</span><span class="sxs-lookup"><span data-stu-id="2d6ca-343">[**AVEncMPVGOPSize**](avencmpvgopsize-property.md) - 1</span></span>                         | <span data-ttu-id="2d6ca-344">1</span><span class="sxs-lookup"><span data-stu-id="2d6ca-344">1</span></span>                                                                             | <span data-ttu-id="2d6ca-345">ИБПБП...</span><span class="sxs-lookup"><span data-stu-id="2d6ca-345">IBPBP...</span></span>      |
| <span data-ttu-id="2d6ca-346">[**Авенкмпвгопсизе**](avencmpvgopsize-property.md) -1</span><span class="sxs-lookup"><span data-stu-id="2d6ca-346">[**AVEncMPVGOPSize**](avencmpvgopsize-property.md) - 1</span></span>                         | <span data-ttu-id="2d6ca-347">2</span><span class="sxs-lookup"><span data-stu-id="2d6ca-347">2</span></span>                                                                             | <span data-ttu-id="2d6ca-348">ИББПББП...</span><span class="sxs-lookup"><span data-stu-id="2d6ca-348">IBBPBBP...</span></span>    |



 

<span data-ttu-id="2d6ca-349">Структура GOP по умолчанию — ИББПББП... с GOP размером 15 кадров.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-349">The default GOP structure is IBBPBBP... with a GOP size of 15 frames.</span></span>

<span data-ttu-id="2d6ca-350">Если приложение ограничивает целевой формат на DVD (с помощью свойства [**авенккоммонформатконстраинт**](avenccommonformatconstraint-property.md) ) и устанавливает для свойства [**авенЦинпутвидеосистем**](avencinputvideosystem-property.md) значение NTSC или PAL, КОДИРОВЩИК поддерживает следующие размеры GOP:</span><span class="sxs-lookup"><span data-stu-id="2d6ca-350">If the application constrains the target format to DVD (through the [**AVEncCommonFormatConstraint**](avenccommonformatconstraint-property.md) property) and sets the [**AVEncInputVideoSystem**](avencinputvideosystem-property.md) property to NTSC or PAL, the encoder supports the following GOP sizes:</span></span>



| <span data-ttu-id="2d6ca-351">Видеосистема</span><span class="sxs-lookup"><span data-stu-id="2d6ca-351">Video System</span></span> | <span data-ttu-id="2d6ca-352">Допустимые размеры GOP</span><span class="sxs-lookup"><span data-stu-id="2d6ca-352">Valid GOP Sizes</span></span> | <span data-ttu-id="2d6ca-353">Размер GOP по умолчанию</span><span class="sxs-lookup"><span data-stu-id="2d6ca-353">Default GOP Size</span></span> |
|--------------|-----------------|------------------|
| <span data-ttu-id="2d6ca-354">ПРИНИМАЕМ</span><span class="sxs-lookup"><span data-stu-id="2d6ca-354">NTSC</span></span>         | <span data-ttu-id="2d6ca-355">1-18</span><span class="sxs-lookup"><span data-stu-id="2d6ca-355">1-18</span></span>            | <span data-ttu-id="2d6ca-356">18 (36 полей)</span><span class="sxs-lookup"><span data-stu-id="2d6ca-356">18 (36 fields)</span></span>   |
| <span data-ttu-id="2d6ca-357">список доступа к публикации</span><span class="sxs-lookup"><span data-stu-id="2d6ca-357">PAL</span></span>          | <span data-ttu-id="2d6ca-358">От 1 до 15</span><span class="sxs-lookup"><span data-stu-id="2d6ca-358">1-15</span></span>            | <span data-ttu-id="2d6ca-359">15 (30 полей)</span><span class="sxs-lookup"><span data-stu-id="2d6ca-359">15 (30 fields)</span></span>   |



 

### <a name="codec-property-change-lists"></a><span data-ttu-id="2d6ca-360">Списки изменений свойств кодека</span><span class="sxs-lookup"><span data-stu-id="2d6ca-360">Codec Property Change Lists</span></span>

<span data-ttu-id="2d6ca-361">Установка значения одного свойства кодека может изменить допустимый диапазон другого свойства.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-361">Setting the value of one codec property can change the valid range of another property.</span></span> <span data-ttu-id="2d6ca-362">(Например, ограничение в конечном формате ограничивает среднюю скорость потока.) Когда приложение задает свойство, кодировщик проверяет, находятся ли другие свойства за пределами допустимого диапазона.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-362">(For example, constraining the target format restricts the average bit rate.) Whenever the application sets a property, the encoder checks if any other properties now fall outside their valid range.</span></span> <span data-ttu-id="2d6ca-363">Если да, кодировщик сбрасывает это свойство в новое значение по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-363">If so, the encoder resets that property to its new default value.</span></span> <span data-ttu-id="2d6ca-364">Чтобы получать уведомления в этом случае, выполните следующие действия.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-364">To receive notifications when this occurs, do the following:</span></span>

1.  <span data-ttu-id="2d6ca-365">Вызовите [**икодекапи:: регистерфоревент**](/windows/desktop/api/Strmif/nf-strmif-icodecapi-registerforevent) со значением **кодекапи \_ чанжелистс**.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-365">Call [**ICodecAPI::RegisterForEvent**](/windows/desktop/api/Strmif/nf-strmif-icodecapi-registerforevent) with the value **CODECAPI\_CHANGELISTS**.</span></span>
2.  <span data-ttu-id="2d6ca-366">Используйте интерфейс [**имедиаевентекс**](/windows/desktop/api/Control/nn-control-imediaeventex) для мониторинга событий из графа фильтра.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-366">Use the [**IMediaEventEx**](/windows/desktop/api/Control/nn-control-imediaeventex) interface to monitor events from the filter graph.</span></span>
3.  <span data-ttu-id="2d6ca-367">При изменении диапазона или значения по умолчанию для свойства кодировщик отправляет событие [**EC \_ кодекапи \_**](ec-codecapi-event.md) Event со списком измененных свойств.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-367">If the range or default value of a property changes, the encoder sends an [**EC\_CODECAPI\_EVENT**](ec-codecapi-event.md) event with a list of changed properties.</span></span>

### <a name="iencoderapi-support"></a><span data-ttu-id="2d6ca-368">Поддержка Иенкодерапи</span><span class="sxs-lookup"><span data-stu-id="2d6ca-368">IEncoderAPI Support</span></span>

<span data-ttu-id="2d6ca-369">Для обеспечения обратной совместимости фильтр поддерживает следующие свойства через интерфейс **иенкодерапи** :</span><span class="sxs-lookup"><span data-stu-id="2d6ca-369">For backward compatibility, the filter supports the following properties through the **IEncoderAPI** interface:</span></span>



| <span data-ttu-id="2d6ca-370">Свойство</span><span class="sxs-lookup"><span data-stu-id="2d6ca-370">Property</span></span>                       | <span data-ttu-id="2d6ca-371">Описание</span><span class="sxs-lookup"><span data-stu-id="2d6ca-371">Description</span></span>                                                                              |
|--------------------------------|------------------------------------------------------------------------------------------|
| <span data-ttu-id="2d6ca-372">**\_скорость енкапипарам**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-372">**ENCAPIPARAM\_BITRATE**</span></span>       | <span data-ttu-id="2d6ca-373">Эквивалентно [**авенккоммонмеанбитрате**](avenccommonmeanbitrate-property.md).</span><span class="sxs-lookup"><span data-stu-id="2d6ca-373">Equivalent to [**AVEncCommonMeanBitRate**](avenccommonmeanbitrate-property.md).</span></span>         |
| <span data-ttu-id="2d6ca-374">**\_Пиковая \_ скорость енкапипарам**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-374">**ENCAPIPARAM\_PEAK\_BITRATE**</span></span> | <span data-ttu-id="2d6ca-375">Эквивалентно [**авенккоммонмаксбитрате**](avenccommonmaxbitrate-property.md).</span><span class="sxs-lookup"><span data-stu-id="2d6ca-375">Equivalent to [**AVEncCommonMaxBitRate**](avenccommonmaxbitrate-property.md).</span></span>           |
| <span data-ttu-id="2d6ca-376">**режим скорости ЕНКАПИПАРАМ \_ \_**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-376">**ENCAPIPARAM\_BITRATE\_MODE**</span></span> | <span data-ttu-id="2d6ca-377">Эквивалентно [**авенккоммонратеконтролмоде**](avenccommonratecontrolmode-property.md).</span><span class="sxs-lookup"><span data-stu-id="2d6ca-377">Equivalent to [**AVEncCommonRateControlMode**](avenccommonratecontrolmode-property.md).</span></span> |



 

<span data-ttu-id="2d6ca-378">При задании **свойства \_ \_ режима енкапипарамной** скорости значения сопоставляются следующим образом:</span><span class="sxs-lookup"><span data-stu-id="2d6ca-378">When setting the **ENCAPIPARAM\_BITRATE\_MODE** property, the values are mapped as follows:</span></span>



| <span data-ttu-id="2d6ca-379">**режим скорости ЕНКАПИПАРАМ \_ \_**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-379">**ENCAPIPARAM\_BITRATE\_MODE**</span></span> | [<span data-ttu-id="2d6ca-380">**авенккоммонратеконтролмоде**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-380">**AVEncCommonRateControlMode**</span></span>](avenccommonratecontrolmode-property.md) |
|--------------------------------|---------------------------------------------------------------------------|
| <span data-ttu-id="2d6ca-381">**константбитрате**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-381">**ConstantBitRate**</span></span>            | <span data-ttu-id="2d6ca-382">**Еавенккоммонратеконтролмоде \_ CBR**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-382">**eAVEncCommonRateControlMode\_CBR**</span></span>                                      |
| <span data-ttu-id="2d6ca-383">**вариаблебитратеавераже**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-383">**VariableBitRateAverage**</span></span>     | <span data-ttu-id="2d6ca-384">См. примечание.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-384">See Note.</span></span>                                                                 |
| <span data-ttu-id="2d6ca-385">**вариаблебитратепеак**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-385">**VariableBitRatePeak**</span></span>        | <span data-ttu-id="2d6ca-386">**Еавенккоммонратеконтролмоде \_ пеакконстраинедвбр**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-386">**eAVEncCommonRateControlMode\_PeakConstrainedVBR**</span></span>                       |



 

> [!Note]  
> <span data-ttu-id="2d6ca-387">В настоящее время кодировщик видео MPEG-2 не поддерживает режим кодирования **вариаблебитратеавераже** .</span><span class="sxs-lookup"><span data-stu-id="2d6ca-387">Currently, the MPEG-2 video encoder does not support the **VariableBitRateAverage** encoding mode.</span></span> <span data-ttu-id="2d6ca-388">Если задать это значение, кодировщику по умолчанию будет CBR Encoding (**еавенккоммонратеконтролмоде \_ CBR**).</span><span class="sxs-lookup"><span data-stu-id="2d6ca-388">If you set this value, the encoder defaults to CBR encoding (**eAVEncCommonRateControlMode\_CBR**).</span></span>

 

<span data-ttu-id="2d6ca-389">При получении свойства **\_ \_ режима енкапипарамной** скорости значения сопоставляются следующим образом:</span><span class="sxs-lookup"><span data-stu-id="2d6ca-389">When getting the **ENCAPIPARAM\_BITRATE\_MODE** property, the values are mapped as follows:</span></span>



| [<span data-ttu-id="2d6ca-390">**авенккоммонратеконтролмоде**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-390">**AVEncCommonRateControlMode**</span></span>](avenccommonratecontrolmode-property.md) | <span data-ttu-id="2d6ca-391">**режим скорости ЕНКАПИПАРАМ \_ \_**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-391">**ENCAPIPARAM\_BITRATE\_MODE**</span></span> |
|---------------------------------------------------------------------------|--------------------------------|
| <span data-ttu-id="2d6ca-392">**Еавенккоммонратеконтролмоде \_ CBR**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-392">**eAVEncCommonRateControlMode\_CBR**</span></span>                                      | <span data-ttu-id="2d6ca-393">**константбитрате**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-393">**ConstantBitRate**</span></span>            |
| <span data-ttu-id="2d6ca-394">**\_качество еавенккоммонратеконтролмоде**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-394">**eAVEncCommonRateControlMode\_Quality**</span></span>                                  | <span data-ttu-id="2d6ca-395">**вариаблебитратепеак**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-395">**VariableBitRatePeak**</span></span>        |
| <span data-ttu-id="2d6ca-396">**Еавенккоммонратеконтролмоде \_ пеакконстраинедвбр**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-396">**eAVEncCommonRateControlMode\_PeakConstrainedVBR**</span></span>                       | <span data-ttu-id="2d6ca-397">**вариаблебитратепеак**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-397">**VariableBitRatePeak**</span></span>        |



 

### <a name="limitations"></a><span data-ttu-id="2d6ca-398">Ограничения</span><span class="sxs-lookup"><span data-stu-id="2d6ca-398">Limitations</span></span>

<span data-ttu-id="2d6ca-399">В настоящее время кодировщик не поддерживает следующие функции:</span><span class="sxs-lookup"><span data-stu-id="2d6ca-399">Currently the encoder does not support any of the following features:</span></span>

-   <span data-ttu-id="2d6ca-400">Создание пакетных пакетов простейшего потока (PES).</span><span class="sxs-lookup"><span data-stu-id="2d6ca-400">Generation of packetized elementary stream (PES) packets.</span></span>
-   <span data-ttu-id="2d6ca-401">Преобразование частоты кадров.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-401">Frame-rate conversion.</span></span> <span data-ttu-id="2d6ca-402">Входной поток должен иметь частоту кадров, допустимую для битовый поток MPEG-2.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-402">The input stream must have a frame rate that is valid for an MPEG-2 bitstream.</span></span>
-   <span data-ttu-id="2d6ca-403">Расширения частоты кадров для MPEG-2 (**\_ расширение частоты кадров \_ \_ n**, **\_ расширение частоты кадров \_ \_ d**).</span><span class="sxs-lookup"><span data-stu-id="2d6ca-403">Frame-rate extensions for MPEG-2 (**frame\_rate\_extension\_n**, **frame\_rate\_extension\_d**).</span></span>
-   <span data-ttu-id="2d6ca-404">Позиции буфера входа и выхода (ВБВ) для клипа.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-404">Entry/exit buffer (VBV) positions for a clip.</span></span>
-   <span data-ttu-id="2d6ca-405">Вставка данных Line-21 (сведения о закрытых заголовках) в поток простейших видео.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-405">Insertion of line-21 data (Closed Caption information) into the video elementary stream.</span></span>
-   <span data-ttu-id="2d6ca-406">Задание 25-битового **поля \_ кода времени** в заголовке GOP для MPEG-2.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-406">Setting the 25-bit **time\_code** field in the GOP header for MPEG-2.</span></span>
-   <span data-ttu-id="2d6ca-407">Фильтр «расшум».</span><span class="sxs-lookup"><span data-stu-id="2d6ca-407">Denoise filter.</span></span>
-   <span data-ttu-id="2d6ca-408">Управление цифровыми правами (DRM).</span><span class="sxs-lookup"><span data-stu-id="2d6ca-408">Digital rights management (DRM).</span></span>

<span data-ttu-id="2d6ca-409">Кодировщик вводит задержку кодирования как минимум одного GOP.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-409">The encoder introduces an encoding latency of at least one GOP.</span></span>

## <a name="requirements"></a><span data-ttu-id="2d6ca-410">Требования</span><span class="sxs-lookup"><span data-stu-id="2d6ca-410">Requirements</span></span>



| <span data-ttu-id="2d6ca-411">Требование</span><span class="sxs-lookup"><span data-stu-id="2d6ca-411">Requirement</span></span> | <span data-ttu-id="2d6ca-412">Значение</span><span class="sxs-lookup"><span data-stu-id="2d6ca-412">Value</span></span> |
|-------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="2d6ca-413">Минимальная версия клиента</span><span class="sxs-lookup"><span data-stu-id="2d6ca-413">Minimum supported client</span></span><br/> | <span data-ttu-id="2d6ca-414">Windows Vista Домашняя расширенная, Windows Vista Ultimate, Windows 7 Домашняя расширенная, Windows 7 Профессиональная, Windows 7 Корпоративная, \[ только классические приложения Windows 7 Ultimate\]</span><span class="sxs-lookup"><span data-stu-id="2d6ca-414">Windows Vista Home Premium, Windows Vista Ultimate, Windows 7 Home Premium, Windows 7 Professional, Windows 7 Enterprise, Windows 7 Ultimate \[desktop apps only\]</span></span><br/> |
| <span data-ttu-id="2d6ca-415">Минимальная версия сервера</span><span class="sxs-lookup"><span data-stu-id="2d6ca-415">Minimum supported server</span></span><br/> | <span data-ttu-id="2d6ca-416">Ни одна версия не поддерживается</span><span class="sxs-lookup"><span data-stu-id="2d6ca-416">None supported</span></span><br/>                                                                                                                                                     |
| <span data-ttu-id="2d6ca-417">Header</span><span class="sxs-lookup"><span data-stu-id="2d6ca-417">Header</span></span><br/>                   | <dl> <span data-ttu-id="2d6ca-418"><dt>Вмкодекдсп. h</dt></span><span class="sxs-lookup"><span data-stu-id="2d6ca-418"><dt>Wmcodecdsp.h</dt></span></span> </dl>                                                                                       |



## <a name="see-also"></a><span data-ttu-id="2d6ca-419">См. также раздел</span><span class="sxs-lookup"><span data-stu-id="2d6ca-419">See also</span></span>

<dl> <dt>

[<span data-ttu-id="2d6ca-420">Фильтры DirectShow</span><span class="sxs-lookup"><span data-stu-id="2d6ca-420">DirectShow Filters</span></span>](directshow-filters.md)
</dt> <dt>

[<span data-ttu-id="2d6ca-421">**Типы носителей для демультиплексирования MPEG-2**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-421">**MPEG-2 Demultiplexer Media Types**</span></span>](mpeg-2-demultiplexer-media-types.md)
</dt> </dl>

 

 
