---
description: Сравнение Top-Down
ms.assetid: c292f145-f385-4f18-8f98-e414d86860e2
title: Top-Down и Bottom-Up DIB
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 9e719bea5923aeccc4a0a92b5f73a253e13d2e12
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "105663552"
---
# <a name="top-down-vs-bottom-up-dibs"></a>Top-Down и Bottom-Up DIB

Если вы не знакомы с программированием графики, вы можете ожидать, что точечный рисунок будет упорядочен в память, чтобы верхняя строка изображения отображалась в начале буфера, затем Следующая строка и так далее. Однако это не всегда так. В Windows растровые изображения, независимые от устройства (DIB), могут размещаться в памяти в двух разных ориентациях: снизу вверх и сверху вниз.

В снимке рисунка снизу вверх буфер изображения начинается с нижней строки пикселей, за которой следует следующая строка вверх и т. д. Верхняя строка изображения — это последняя строка в буфере. Таким образом, первый байт в памяти является левым нижним пикселем изображения. В GDI все изображения сохраняются снизу вверх. На следующей диаграмме показана физическая структура рисунка в формате "снизу вверх".

![DIB снизу вверх](images/pixel-layout-bottomup.png)

В списке DIB в верхнем углу порядок строк изменяется на обратный. Верхняя строка изображения — это первая строка в памяти, за которой следует следующая строка. Нижняя строка изображения — это последняя строка в буфере. При использовании элемента списка DIB («сверху вниз») первый байт в памяти является верхним левым пикселем изображения. В DirectDraw используются нисходящие DIB-изображения. На следующей диаграмме показана физическая структура элемента списка DIB.

![рисунок сверху вниз](images/pixel-layout-topdown.png)

Для RGB DIB ориентация изображения определяется элементом **бихеигхт** структуры [**битмапинфохеадер**](/windows/win32/api/wingdi/ns-wingdi-bitmapinfoheader) . Если **бихеигхт** положительное, изображение будет снизу вверх. Если **бихеигхт** является отрицательным, изображение будет сверху вниз.

Изображения DIB в форматах YUV всегда находятся сверху вниз, а знак элемента **бихеигхт** игнорируется. Декодеры должны предлагать форматы YUV с положительным **бихеигхт**, но они также должны принимать форматы YUV с отрицательным **бихеигхт** и игнорировать знак.

Кроме того, любой тип DIB, использующий **FourCC** в члене **бикомпрессион** , должен выразить свой **бихеигхт** как положительное число независимо от того, что имеет его ориентация, так как объект **FourCC** определяет схему сжатия, ориентация изображения которой должна быть понятна любым совместимым фильтром.

## <a name="related-topics"></a>См. также

<dl> <dt>

[Работа с кадрами видео](working-with-video-frames.md)
</dt> </dl>

 

 



