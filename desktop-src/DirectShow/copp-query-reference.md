---
description: Справочник по запросам Копп
ms.assetid: 11eb1443-857d-4516-a5cb-c3cc02a5eba4
title: Справочник по запросам Копп
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 59d36cde152600faaa1dd567faac916bfa8281e2b2edb9464074fe34a58d5011
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119909664"
---
# <a name="copp-query-reference"></a>Справочник по запросам Копп

В этом разделе описываются запросы состояния, поддерживаемые протоколом сертифицированной защиты выходных данных (Копп). Для каждого запроса отображается идентификатор GUID, определяющий запрос, а также входные данные и возвращаемые данные.



| Запрос                   | GUID                                     |
|-------------------------|------------------------------------------|
| Данные шины                | **ДКСВА \_ коппкуерибусдата**               |
| Тип соединителя          | **ДКСВА \_ коппкуериконнектортипе**         |
| Отображение данных            | **ДКСВА \_ коппкуеридисплайдата**           |
| Данные ключа HDCP           | **ДКСВА \_ коппкуерихдкпкэйдата**           |
| Глобальный уровень защиты | **ДКСВА \_ коппкуериглобалпротектионлевел** |
| Локальный уровень защиты  | **ДКСВА \_ коппкуерилокалпротектионлевел**  |
| Тип защиты         | **ДКСВА \_ коппкуерипротектионтипе**        |
| Сигнальный NaN               | **ДКСВА \_ коппкуерисигналинг**             |



 

Запрос данных шины

Возвращает тип шины ввода-вывода, используемой графическим адаптером.

-   **GUID**: дксва \_ коппкуерибусдата
-   **Входные данные**: нет.
-   **Возвращаемые данные**: возвращает [**структуру \_ коппстатусдата дксва**](/windows/desktop/api/dxva9typ/ns-dxva9typ-dxva_coppstatusdata) . Тип шины возвращается в члене **двдата** в виде флага из перечисления [**Копп \_ BusType**](/windows/desktop/api/dxva9typ/ne-dxva9typ-copp_bustype) .

Запрос типа соединителя

Возвращает тип физического соединителя.

-   **GUID**: дксва \_ коппкуериконнектортипе
-   **Входные данные**: нет.
-   **Возвращаемые данные**: возвращает [**структуру \_ коппстатусдата дксва**](/windows/desktop/api/dxva9typ/ns-dxva9typ-dxva_coppstatusdata) . Тип соединителя возвращается в члене **двдата** в виде флага из перечисления [**Копп \_ коннектортипе**](/windows/desktop/api/dxva9typ/ne-dxva9typ-copp_connectortype) .

Запрос на отображение данных

Возвращает описание видеосигнала, передаваемого через соединитель.

Видеосигнал, передаваемый через соединитель, не обязательно имеет тот же формат, что и режим экрана рабочего стола. Например, режим экрана рабочего стола может составлять 1024x768 пикселей в 85 Гц, а соединитель может быть соединителем S-Video, передающий видеосигналы в 720x480 пикселях, 60/1.01 Гц с чередованием. В этом случае драйвер вернет разрешение видеосигнала S-Video, а не разрешение рабочего стола.

-   **GUID**: дксва \_ коппкуеридисплайдата
-   **Входные данные**: нет.
-   **Возвращаемые данные**: возвращает [**структуру \_ коппстатусдисплайдата дксва**](/windows/desktop/api/dxva9typ/ns-dxva9typ-dxva_coppstatusdisplaydata) .

Запрос данных ключа HDCP

Возвращает вектор выбора ключа HDCP устройства (B-КСВ).

КСВ — это идентификатор, предоставленный изготовителю устройства и используемый в процессе проверки подлинности и установки HDCP. Приложение должно проверить это значение в списке отозванных КСВС. Механизм получения списка отзыва КСВ выходит за пределы области действия протокола Копп. Дополнительные сведения см. в спецификации HDCP.

Этот запрос также определяет, является ли подключенное устройство HDCP монитором или повторителем HDCP. Приложение не должно воспроизводить защищенное содержимое, если устройство HDCP является повторителем HDCP, так как оно не поддерживается Копп.

-   **GUID**: дксва \_ коппкуерихдкпкэйдата
-   **Входные данные**: нет.
-   **Возвращаемые данные**: возвращает [**структуру \_ коппстатушдкпкэйдата дксва**](/windows/desktop/api/dxva9typ/ns-dxva9typ-dxva_coppstatushdcpkeydata) .

Запрос уровня глобальной защиты

Возвращает глобальный уровень защиты для указанного механизма защиты.

Глобальный уровень защиты — это уровень защиты, применяемый в данный момент к соединителю, независимо от того, каким способом был назначен драйвер графики для применения защиты. Например, приложение может установить уровень защиты ACP, вызвав функцию **чанжедисплайсеттингсекс** . В этом случае уровень глобальной защиты будет отражать этот параметр, даже если он не был запрошен через Копп.

-   **GUID**: дксва \_ коппкуериглобалпротектионлевел
-   **Входные данные**: механизм защиты для запроса, заданный как 32-разрядное целое число. См. раздел [Флаги типа защиты Копп](copp-protection-type-flags.md).
-   **Возвращаемые данные**: возвращает [**структуру \_ коппстатусдата дксва**](/windows/desktop/api/dxva9typ/ns-dxva9typ-dxva_coppstatusdata) . Текущий уровень защиты возвращается в элементе **двдата** . Значение этого параметра зависит от механизма защиты, к которому выполняется запрос. Для каждого механизма защиты значение элемента **двдата** является флагом из другого перечисления, как показано в следующей таблице.

    | Механизм защиты | Перечисление                                                           |
    |----------------------|-----------------------------------------------------------------------|
    | ACP                  | [**\_ \_ Уровень защиты Копп \_ ACP**](/windows/desktop/api/dxva9typ/ne-dxva9typ-copp_acp_protection_level)     |
    | CGMS-A               | [**\_ \_ Уровень защиты Копп \_ кгмса**](/windows/desktop/api/dxva9typ/ne-dxva9typ-copp_cgmsa_protection_level) |
    | ПОДДЕРЖИВАЮЩ                 | [**\_ \_ Уровень защиты Копп \_ HDCP**](/windows/desktop/api/dxva9typ/ne-dxva9typ-copp_hdcp_protection_level)   |

    

     

Локальный запрос уровня защиты

Возвращает локальный уровень защиты для указанного механизма защиты.

Локальный уровень защиты — это уровень защиты, запрошенный в текущем сеансе Копп. Драйвер может установить более высокий уровень защиты.

-   **GUID**: дксва \_ коппкуерилокалпротектионлевел
-   **Входные данные**: механизм защиты для запроса в виде 32-разрядного целого числа. См. раздел [Флаги типа защиты Копп](copp-protection-type-flags.md).
-   **Возвращаемые данные**: возвращает [**структуру \_ коппстатусдата дксва**](/windows/desktop/api/dxva9typ/ns-dxva9typ-dxva_coppstatusdata) . Текущий уровень защиты возвращается в элементе **двдата** . Значение этого параметра зависит от механизма защиты, к которому выполняется запрос. Для каждого механизма защиты значение элемента **двдата** является флагом из другого перечисления, как показано в следующей таблице.

    | Механизм защиты | Перечисление                                                           |
    |----------------------|-----------------------------------------------------------------------|
    | ACP                  | [**\_ \_ Уровень защиты Копп \_ ACP**](/windows/desktop/api/dxva9typ/ne-dxva9typ-copp_acp_protection_level)     |
    | CGMS-A               | [**\_ \_ Уровень защиты Копп \_ кгмса**](/windows/desktop/api/dxva9typ/ne-dxva9typ-copp_cgmsa_protection_level) |
    | ПОДДЕРЖИВАЮЩ                 | [**\_ \_ Уровень защиты Копп \_ HDCP**](/windows/desktop/api/dxva9typ/ne-dxva9typ-copp_hdcp_protection_level)   |

    

     

Запрос типа защиты

Возвращает механизмы защиты, доступные для соединителя.

-   **GUID**: дксва \_ коппкуерипротектионтипе
-   **Входные данные**: нет.
-   **Возвращаемые данные**: возвращает [**структуру \_ коппстатусдата дксва**](/windows/desktop/api/dxva9typ/ns-dxva9typ-dxva_coppstatusdata) . Механизмы защиты возвращаются в члене **двдата** как сочетание одного или нескольких флагов. См. раздел [Флаги типа защиты Копп](copp-protection-type-flags.md). Если доступно более одного механизма защиты, флаги объединяются с побитовой **или**.

Запрос сигнала

Возвращает список всех стандартов защиты, поддерживаемых драйвером, стандарт, который активен в данный момент, а также текущие пропорции и другие данные о сигналах.

-   **GUID**: дксва \_ коппкуерисигналинг
-   **Входные данные**: нет.
-   **Возвращаемые данные**: возвращает [**структуру \_ коппстатуссигналингкмддата дксва**](/windows/desktop/api/dxva9typ/ns-dxva9typ-dxva_coppstatussignalingcmddata) .

## <a name="related-topics"></a>Связанные темы

<dl> <dt>

[Использование протокола сертифицированной выходной защиты (Копп)](using-certified-output-protection-protocol--copp.md)
</dt> </dl>

 

 



