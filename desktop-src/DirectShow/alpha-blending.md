---
description: Альфа-смешение
ms.assetid: 56618e74-32cc-48f8-83b6-4fc31ab6fc36
title: Альфа-смешение (DirectShow)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 4293448849926cfc6723495619137262e004636e
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/06/2021
ms.locfileid: "104140458"
---
# <a name="alpha-blending-directshow"></a>Альфа-смешение (DirectShow)

\[Этот API не поддерживается и может быть изменен или недоступен в будущем.\]

В этой статье описывается альфа-смешение в [службах редактирования DirectShow](directshow-editing-services.md) (DES).

Альфа измеряет прозрачность пикселя или изображения. В 32-битном несжатом видео RGB четыре компонента определяют каждый пиксел: альфа-канал (A) и три цветовых компонента (RGB). Пиксел со значением альфа, равным нулю, полностью прозрачен. Пиксель с альфа-значением 255 является непрозрачным. Между этими значениями пиксел имеет различные степени прозрачности.

DirectShow определяет два типа мультимедиа для 32-разрядного видео RGB:

-   **Медиасубтипе \_ ARGB32**: видео — 32-разрядный RGB с допустимым альфа-каналом.
-   **Медиасубтипе \_ RGB32**: пикселей — 32 бит, но альфа-канал необязательно должен быть недопустимым.

Чтобы выполнить альфа-смешение в DES, задайте для несжатого носителя видеогруппы тип МЕДИАСУБТИПЕ \_ ARGB32. В C++ вызовите метод [**иамтимелинеграуп:: сетмедиатипе**](iamtimelinegroup-setmediatype.md) . В формате КСТЛ установка для атрибута [**битдепс**](bitdepth-attribute.md) элемента [**group**](group-element.md) равна 32.

Далее необходимы данные видео, содержащие альфа-канал. Существует несколько вариантов:

-   Вы можете использовать AVI-файл, в котором уже есть 32 разряд видео RGB с данными Alpha. В настоящее время альфа не поддерживается для исходных файлов MPEG или Microsoft Windows Media Format (WMF).
-   DES поддерживает 32-битовые точечные (BMP) и Targa (TGA) файлы с альфа-данными.
-   Можно написать настраиваемый фильтр источника, создающий 32-битные данные RGB с альфа. Тип выходного носителя должен быть **медиасубтипе \_ ARGB32**. Используйте фильтр в качестве подобъекта в исходном объекте временной шкалы.

Если источник видео не имеет альфа-канала, можно использовать эффекты, создающие альфа-данные. В [результате установки альфа](alpha-setter-effect.md) -канала для всего изображения устанавливается постоянное значение. Для изменения альфа-канала с течением времени используйте интерфейс [**ипропертисеттер**](ipropertysetter.md) с параметром альфа-установки. Размер исходного источника не должен составлять 32 бит, если тип носителя группы **медиасубтипе \_ ARGB32**.

Наконец, передайте видео в действие или переход, которое выполняет альфа-смешение. [Переход компоновщика](compositor-transition.md) выполняет альфа-смешение, а [ключевой переход](key-transition.md) может иметь ключевое значение по альфа-значению.

В следующем примере проекта КСТЛ выполняется альфа-смешение:


```C++
<timeline>
<group type="video" bitdepth="32" width="320" height="240">
<track>
  <clip start="0" stop="6" src="c:\Example.avi" />
</track>
<track>
  <clip start="0" stop="6" src="c:\Example2.avi">
    <!-- Alpha Setter effect. -->
    <effect clsid="{506D89AE-909A-44f7-9444-ABD575896E35}" start="0" stop="6">
      <param name="alpha" value="255">
        <linear time="6" value="0" />
      </param>
    </effect>
  </clip>
  <!-- Key transition, with alpha keying. -->
  <transition clsid="{C5B19592-145E-11d3-9F04-006008039E37}" start="0" stop="6">
    <param name="KeyType" value="3" />  
  </transition>
</track>
</group>
</timeline>
```



## <a name="related-topics"></a>См. также

<dl> <dt>

[Использование служб редактирования DirectShow](using-directshow-editing-services.md)
</dt> </dl>

 

 



