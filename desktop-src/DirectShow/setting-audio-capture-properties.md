---
description: Настройка свойств записи звука
ms.assetid: 81400072-91d7-4db4-86d3-d072663e691f
title: Настройка свойств записи звука
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 31afe61d4641906391934bafe4c3acb8a911a9fe
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/06/2021
ms.locfileid: "104262282"
---
# <a name="setting-audio-capture-properties"></a>Настройка свойств записи звука

Каждый входной ПИН-код в фильтре записи звука предоставляет интерфейс [**иамаудиоинпутмиксер**](/windows/desktop/api/Strmif/nn-strmif-iamaudioinputmixer) . Используйте этот интерфейс для включения или отключения определенных входных данных путем вызова метода [**иамаудиоинпутмиксер::p UT \_ Enable**](/windows/desktop/api/Strmif/nf-strmif-iamaudioinputmixer-put_enable) для ПИН-кода. Кроме того, этот интерфейс используется для задания свойств входных данных, например низких частот, уровней высоких частот и громкости. При одновременной записи нескольких входных данных можно управлять общими уровнями басов, высоких частот и громкости через интерфейс **иамаудиоинпутмиксер** в самом фильтре.

Доступные частоты выборки и звуковые форматы для записи определяются драйвером. Используйте интерфейс [**иамстреамконфиг**](/windows/desktop/api/Strmif/nn-strmif-iamstreamconfig) на выходном ПИН-коде фильтра записи звука, чтобы перечислить доступные частоты выборки и форматы и задать нужный формат. Фильтр может подключаться к любому фильтру, принимающему тип носителя выходного контакта.

Фильтр записи звука также предоставляет интерфейс [**иамбуффернеготиатион**](/windows/desktop/api/Strmif/nn-strmif-iambuffernegotiation) . Этот интерфейс полезен для контроля количества задержек в предварительной версии аудио. По умолчанию фильтр записи звука использует размер буфера половинной секунды. Этот размер буфера оптимальен для записи, но приводит к задержке предварительной версии в половину секунды. Чтобы уменьшить задержку, вызовите метод [**иамбуффернеготиатион:: сугжесталлокаторпропертиес**](/windows/desktop/api/Strmif/nf-strmif-iambuffernegotiation-suggestallocatorproperties) перед подключением выходного ПИН-кода фильтра записи звука. Этот метод принимает указатель на структуру [**\_ свойств распределителя**](/windows/win32/api/strmif/ns-strmif-allocator_properties) . Используйте элемент **кббуффер** , чтобы указать размер буфера в байтах. Буфер 80 миллисекунд обычно является надежным, но может быть достаточно буферов из 30 или 40 миллисекунд. Если буферы слишком малы, качество звука будет снижено.

 

 



