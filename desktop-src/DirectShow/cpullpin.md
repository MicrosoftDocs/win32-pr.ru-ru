---
description: Класс Кпуллпин обеспечивает поддержку входных ПИН-кодов, которые извлекают данные через интерфейс Иасинкреадер.
ms.assetid: 33a6c342-3896-41f8-b32d-01db3eed003e
title: Класс Кпуллпин (Пуллпин. h)
ms.topic: reference
ms.date: 05/31/2018
topic_type:
- APIRef
- kbSyntax
api_name:
- CPullPin
api_type:
- COM
api_location:
- Strmbase.lib
- Strmbase.dll
- Strmbasd.lib
- Strmbasd.dll
ms.openlocfilehash: 3039f97ca7fda43e4ecc6bd4eae05fff2ce90e55
ms.sourcegitcommit: c8ec1ded1ffffc364d3c4f560bb2171da0dc5040
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/22/2021
ms.locfileid: "105679684"
---
# <a name="cpullpin-class"></a><span data-ttu-id="0f54d-103">Класс Кпуллпин</span><span class="sxs-lookup"><span data-stu-id="0f54d-103">CPullPin class</span></span>

![Иерархия классов кпуллпин](images/pulpin01.png)

<span data-ttu-id="0f54d-105">`CPullPin`Класс обеспечивает поддержку входных ПИН-кодов, которые извлекают данные через интерфейс [**иасинкреадер**](/windows/desktop/api/Strmif/nn-strmif-iasyncreader) .</span><span class="sxs-lookup"><span data-stu-id="0f54d-105">The `CPullPin` class provides support for input pins that pull data through the [**IAsyncReader**](/windows/desktop/api/Strmif/nn-strmif-iasyncreader) interface.</span></span> <span data-ttu-id="0f54d-106">Используйте этот класс, если реализуется фильтр, использующий модель извлечения для запроса данных из вышестоящего фильтра.</span><span class="sxs-lookup"><span data-stu-id="0f54d-106">Use this class if you are implementing a filter that uses the pull model to request data from the upstream filter.</span></span> <span data-ttu-id="0f54d-107">Дополнительные сведения см. в разделе поток данных в графе фильтров и модели извлечения.</span><span class="sxs-lookup"><span data-stu-id="0f54d-107">For more information, see Data Flow in the Filter Graph and Pull Model.</span></span>

<span data-ttu-id="0f54d-108">Этот класс не является производным от **кбасепин** или реализует интерфейс [**Ипин**](/windows/desktop/api/Strmif/nn-strmif-ipin) , а некоторые имена методов конфликтуют с **Ипин**, поэтому его лучше использовать в качестве вспомогательного объекта в ПИН-коде.</span><span class="sxs-lookup"><span data-stu-id="0f54d-108">This class does not derive from **CBasePin** or implement the [**IPin**](/windows/desktop/api/Strmif/nn-strmif-ipin) interface, and some of the method names clash with **IPin**, so it is best used as a helper object inside your pin.</span></span> <span data-ttu-id="0f54d-109">Чтобы использовать этот класс, выполните следующие действия.</span><span class="sxs-lookup"><span data-stu-id="0f54d-109">To use this class, do the following:</span></span>

1.  <span data-ttu-id="0f54d-110">Создайте производный вспомогательный класс от `CPullPin` класса и производные от **кбасепин** классом входного ПИН-кода.</span><span class="sxs-lookup"><span data-stu-id="0f54d-110">Derive a helper class from `CPullPin`, and derive an input pin class from **CBasePin**.</span></span> <span data-ttu-id="0f54d-111">Объявите экземпляр `CPullPin` объекта в качестве переменной-члена класса закрепления.</span><span class="sxs-lookup"><span data-stu-id="0f54d-111">Declare an instance of the `CPullPin` object as a member variable of the pin class.</span></span>
2.  <span data-ttu-id="0f54d-112">Переопределите метод [**кбасепин:: чеккконнект**](cbasepin-checkconnect.md) , чтобы вызвать [**Кпуллпин:: Connect**](cpullpin-connect.md).</span><span class="sxs-lookup"><span data-stu-id="0f54d-112">Override the [**CBasePin::CheckConnect**](cbasepin-checkconnect.md) method to call [**CPullPin::Connect**](cpullpin-connect.md).</span></span> <span data-ttu-id="0f54d-113">Этот метод запрашивает другой ПИН-код для **иасинкреадер**.</span><span class="sxs-lookup"><span data-stu-id="0f54d-113">This method queries the other pin for **IAsyncReader**.</span></span>
3.  <span data-ttu-id="0f54d-114">Переопределите метод [**кбасепин:: бреакконнект**](cbasepin-breakconnect.md) , чтобы вызвать [**кпуллпин::D соединения**](cpullpin-disconnect.md).</span><span class="sxs-lookup"><span data-stu-id="0f54d-114">Override the [**CBasePin::BreakConnect**](cbasepin-breakconnect.md) method to call [**CPullPin::Disconnect**](cpullpin-disconnect.md).</span></span>
4.  <span data-ttu-id="0f54d-115">Переопределите метод [**кбасепин:: Active**](cbasepin-active.md) , чтобы вызвать [**Кпуллпин:: Active**](cpullpin-active.md).</span><span class="sxs-lookup"><span data-stu-id="0f54d-115">Override the [**CBasePin::Active**](cbasepin-active.md) method to call [**CPullPin::Active**](cpullpin-active.md).</span></span> <span data-ttu-id="0f54d-116">Этот метод запускает рабочий поток, который извлекает образцы из вышестоящего фильтра.</span><span class="sxs-lookup"><span data-stu-id="0f54d-116">This method starts up a worker thread that pulls samples from the upstream filter.</span></span> <span data-ttu-id="0f54d-117">При подключении к контактам можно указать, должен ли рабочий поток выполнять асинхронные или синхронные запросы на чтение.</span><span class="sxs-lookup"><span data-stu-id="0f54d-117">When the pins connect, you can specify whether you want the worker thread to make asynchronous or synchronous read requests.</span></span>
5.  <span data-ttu-id="0f54d-118">Переопределите метод [**кбасепин:: Inactive**](cbasepin-inactive.md) для вызова [**Кпуллпин:: Inactive**](cpullpin-inactive.md).</span><span class="sxs-lookup"><span data-stu-id="0f54d-118">Override the [**CBasePin::Inactive**](cbasepin-inactive.md) method to call [**CPullPin::Inactive**](cpullpin-inactive.md).</span></span> <span data-ttu-id="0f54d-119">Этот метод завершает работу рабочего потока.</span><span class="sxs-lookup"><span data-stu-id="0f54d-119">This method shuts down the worker thread.</span></span>
6.  <span data-ttu-id="0f54d-120">Реализуйте чистый виртуальный метод [**кпуллпин:: Receive**](cpullpin-receive.md) для обработки входящих образцов и их доставки в нисходящий.</span><span class="sxs-lookup"><span data-stu-id="0f54d-120">Implement the pure virtual [**CPullPin::Receive**](cpullpin-receive.md) method to process incoming samples and deliver them downstream.</span></span>
7.  <span data-ttu-id="0f54d-121">Чтобы задать координаты начала и окончания или найти поток, вызовите метод [**кпуллпин:: Seek**](cpullpin-seek.md) .</span><span class="sxs-lookup"><span data-stu-id="0f54d-121">To set the stop and start positions, or to seek the stream, call the [**CPullPin::Seek**](cpullpin-seek.md) method.</span></span> <span data-ttu-id="0f54d-122">Этот метод приостанавливает рабочий поток и очищает граф фильтра.</span><span class="sxs-lookup"><span data-stu-id="0f54d-122">This method pauses the worker thread and flushes the filter graph.</span></span>
8.  <span data-ttu-id="0f54d-123">Реализуйте чистые виртуальные [**кпуллпин:: EndOfStream**](cpullpin-endofstream.md), [**Кпуллпин:: бегинфлуш**](cpullpin-beginflush.md)и [**кпуллпин:: ендфлуш**](cpullpin-endflush.md) , как описано в комментариях к этим методам.</span><span class="sxs-lookup"><span data-stu-id="0f54d-123">Implement the pure virtual [**CPullPin::EndOfStream**](cpullpin-endofstream.md), [**CPullPin::BeginFlush**](cpullpin-beginflush.md), and [**CPullPin::EndFlush**](cpullpin-endflush.md) methods, as described in the remarks for those methods.</span></span>
9.  <span data-ttu-id="0f54d-124">Реализуйте чистый виртуальный метод [**кпуллпин:: OnError**](cpullpin-onerror.md) для управления ошибками потоковой передачи.</span><span class="sxs-lookup"><span data-stu-id="0f54d-124">Implement the pure virtual [**CPullPin::OnError**](cpullpin-onerror.md) method to handle streaming errors.</span></span>



| <span data-ttu-id="0f54d-125">Открытые переменные члена</span><span class="sxs-lookup"><span data-stu-id="0f54d-125">Public Member Variables</span></span>                             | <span data-ttu-id="0f54d-126">Описание</span><span class="sxs-lookup"><span data-stu-id="0f54d-126">Description</span></span>                                                                           |
|-----------------------------------------------------|---------------------------------------------------------------------------------------|
| [<span data-ttu-id="0f54d-127">**m \_ паллок**</span><span class="sxs-lookup"><span data-stu-id="0f54d-127">**m\_pAlloc**</span></span>](cpullpin-m-palloc.md)              | <span data-ttu-id="0f54d-128">Указатель на интерфейс **имемаллокатор** распределителя памяти.</span><span class="sxs-lookup"><span data-stu-id="0f54d-128">Pointer to the **IMemAllocator** interface of the memory allocator.</span></span>                   |
| <span data-ttu-id="0f54d-129">Открытые методы</span><span class="sxs-lookup"><span data-stu-id="0f54d-129">Public Methods</span></span>                                      | <span data-ttu-id="0f54d-130">Описание</span><span class="sxs-lookup"><span data-stu-id="0f54d-130">Description</span></span>                                                                           |
| [<span data-ttu-id="0f54d-131">**Активен**</span><span class="sxs-lookup"><span data-stu-id="0f54d-131">**Active**</span></span>](cpullpin-active.md)                   | <span data-ttu-id="0f54d-132">Создает рабочий поток, который извлекает данные из выходного ПИН-кода.</span><span class="sxs-lookup"><span data-stu-id="0f54d-132">Creates a worker thread that pulls data from the output pin.</span></span>                          |
| [<span data-ttu-id="0f54d-133">**алигндовн**</span><span class="sxs-lookup"><span data-stu-id="0f54d-133">**AlignDown**</span></span>](cpullpin-aligndown.md)             | <span data-ttu-id="0f54d-134">Усекает значение до указанной границы выравнивания.</span><span class="sxs-lookup"><span data-stu-id="0f54d-134">Truncates a value to a specified alignment boundary.</span></span>                                  |
| [<span data-ttu-id="0f54d-135">**алигнуп**</span><span class="sxs-lookup"><span data-stu-id="0f54d-135">**AlignUp**</span></span>](cpullpin-alignup.md)                 | <span data-ttu-id="0f54d-136">Округляет значение до указанной границы выравнивания.</span><span class="sxs-lookup"><span data-stu-id="0f54d-136">Rounds a value up to a specified alignment boundary.</span></span>                                  |
| [<span data-ttu-id="0f54d-137">**Подключение**</span><span class="sxs-lookup"><span data-stu-id="0f54d-137">**Connect**</span></span>](cpullpin-connect.md)                 | <span data-ttu-id="0f54d-138">Завершает соединение с выходным закреплением.</span><span class="sxs-lookup"><span data-stu-id="0f54d-138">Completes a connection to the output pin.</span></span>                                             |
| [<span data-ttu-id="0f54d-139">**кпуллпин**</span><span class="sxs-lookup"><span data-stu-id="0f54d-139">**CPullPin**</span></span>](cpullpin-cpullpin.md)               | <span data-ttu-id="0f54d-140">Метод конструктора.</span><span class="sxs-lookup"><span data-stu-id="0f54d-140">Constructor method.</span></span>                                                                   |
| [<span data-ttu-id="0f54d-141">**~ Кпуллпин**</span><span class="sxs-lookup"><span data-stu-id="0f54d-141">**~CPullPin**</span></span>](cpullpin--cpullpin.md)             | <span data-ttu-id="0f54d-142">Метод деструктора.</span><span class="sxs-lookup"><span data-stu-id="0f54d-142">Destructor method.</span></span> <span data-ttu-id="0f54d-143">Виртуализаци.</span><span class="sxs-lookup"><span data-stu-id="0f54d-143">Virtual.</span></span>                                                           |
| [<span data-ttu-id="0f54d-144">**деЦидеаллокатор**</span><span class="sxs-lookup"><span data-stu-id="0f54d-144">**DecideAllocator**</span></span>](cpullpin-decideallocator.md) | <span data-ttu-id="0f54d-145">Согласовывает распределитель с выходным закреплением.</span><span class="sxs-lookup"><span data-stu-id="0f54d-145">Negotiates an allocator with the output pin.</span></span> <span data-ttu-id="0f54d-146">Виртуализаци.</span><span class="sxs-lookup"><span data-stu-id="0f54d-146">Virtual.</span></span>                                 |
| [<span data-ttu-id="0f54d-147">**Отключение**</span><span class="sxs-lookup"><span data-stu-id="0f54d-147">**Disconnect**</span></span>](cpullpin-disconnect.md)           | <span data-ttu-id="0f54d-148">Беакс подключение с выходным закреплением.</span><span class="sxs-lookup"><span data-stu-id="0f54d-148">Beaks the connection with the output pin.</span></span>                                             |
| [<span data-ttu-id="0f54d-149">**Duration**</span><span class="sxs-lookup"><span data-stu-id="0f54d-149">**Duration**</span></span>](cpullpin-duration.md)               | <span data-ttu-id="0f54d-150">Возвращает длительность потока.</span><span class="sxs-lookup"><span data-stu-id="0f54d-150">Retrieves the duration of the stream.</span></span>                                                 |
| [<span data-ttu-id="0f54d-151">**GetReader**</span><span class="sxs-lookup"><span data-stu-id="0f54d-151">**GetReader**</span></span>](cpullpin-getreader.md)             | <span data-ttu-id="0f54d-152">Возвращает указатель на интерфейс [**иасинкреадер**](/windows/desktop/api/Strmif/nn-strmif-iasyncreader) выходного контакта.</span><span class="sxs-lookup"><span data-stu-id="0f54d-152">Returns a pointer to the output pin's [**IAsyncReader**](/windows/desktop/api/Strmif/nn-strmif-iasyncreader) interface.</span></span> |
| [<span data-ttu-id="0f54d-153">**Неактивно**</span><span class="sxs-lookup"><span data-stu-id="0f54d-153">**Inactive**</span></span>](cpullpin-inactive.md)               | <span data-ttu-id="0f54d-154">Завершает работу рабочего потока, который извлекает данные из выходного ПИН-кода.</span><span class="sxs-lookup"><span data-stu-id="0f54d-154">Shuts down the worker thread that pulls data from the output pin.</span></span>                     |
| [<span data-ttu-id="0f54d-155">**Seek**</span><span class="sxs-lookup"><span data-stu-id="0f54d-155">**Seek**</span></span>](cpullpin-seek.md)                       | <span data-ttu-id="0f54d-156">Задает начальные и останавливаемые позиции потока.</span><span class="sxs-lookup"><span data-stu-id="0f54d-156">Sets the start and stop positions of the stream.</span></span>                                      |
| <span data-ttu-id="0f54d-157">Чистые виртуальные методы</span><span class="sxs-lookup"><span data-stu-id="0f54d-157">Pure Virtual Methods</span></span>                                | <span data-ttu-id="0f54d-158">Описание</span><span class="sxs-lookup"><span data-stu-id="0f54d-158">Description</span></span>                                                                           |
| [<span data-ttu-id="0f54d-159">**бегинфлуш**</span><span class="sxs-lookup"><span data-stu-id="0f54d-159">**BeginFlush**</span></span>](cpullpin-beginflush.md)           | <span data-ttu-id="0f54d-160">Информирует фильтр-владелец о необходимости сброса нисходящих фильтров.</span><span class="sxs-lookup"><span data-stu-id="0f54d-160">Informs the owning filter to flush the downstream filters.</span></span>                            |
| [<span data-ttu-id="0f54d-161">**ендфлуш**</span><span class="sxs-lookup"><span data-stu-id="0f54d-161">**EndFlush**</span></span>](cpullpin-endflush.md)               | <span data-ttu-id="0f54d-162">Информирует фильтр-владелец о завершении операции очистки.</span><span class="sxs-lookup"><span data-stu-id="0f54d-162">Informs the owning filter to end a flush operation.</span></span>                                   |
| [<span data-ttu-id="0f54d-163">**EndOfStream**</span><span class="sxs-lookup"><span data-stu-id="0f54d-163">**EndOfStream**</span></span>](cpullpin-endofstream.md)         | <span data-ttu-id="0f54d-164">Вызывается после того, как объект доставляет последнюю выборку.</span><span class="sxs-lookup"><span data-stu-id="0f54d-164">Called after the object delivers the last sample.</span></span>                                     |
| [<span data-ttu-id="0f54d-165">**OnError**</span><span class="sxs-lookup"><span data-stu-id="0f54d-165">**OnError**</span></span>](cpullpin-onerror.md)                 | <span data-ttu-id="0f54d-166">Вызывается при возникновении ошибки во время потоковой передачи.</span><span class="sxs-lookup"><span data-stu-id="0f54d-166">Called if an error occurs during streaming.</span></span>                                           |
| [<span data-ttu-id="0f54d-167">**Получать**</span><span class="sxs-lookup"><span data-stu-id="0f54d-167">**Receive**</span></span>](cpullpin-receive.md)                 | <span data-ttu-id="0f54d-168">Вызывается, когда объект получает пример мультимедиа из выходного ПИН-кода.</span><span class="sxs-lookup"><span data-stu-id="0f54d-168">Called when the object receives a media sample from the output pin.</span></span>                   |



 

## <a name="requirements"></a><span data-ttu-id="0f54d-169">Требования</span><span class="sxs-lookup"><span data-stu-id="0f54d-169">Requirements</span></span>



| <span data-ttu-id="0f54d-170">Требование</span><span class="sxs-lookup"><span data-stu-id="0f54d-170">Requirement</span></span> | <span data-ttu-id="0f54d-171">Значение</span><span class="sxs-lookup"><span data-stu-id="0f54d-171">Value</span></span> |
|--------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="0f54d-172">Header</span><span class="sxs-lookup"><span data-stu-id="0f54d-172">Header</span></span><br/>  | <dl> <span data-ttu-id="0f54d-173"><dt>Пуллпин. h (включение Streams. h)</dt></span><span class="sxs-lookup"><span data-stu-id="0f54d-173"><dt>Pullpin.h (include Streams.h)</dt></span></span> </dl>                                                                                   |
| <span data-ttu-id="0f54d-174">Библиотека</span><span class="sxs-lookup"><span data-stu-id="0f54d-174">Library</span></span><br/> | <dl> <span data-ttu-id="0f54d-175"><dt>Стрмбасе. lib (розничные сборки); </dt> <dt>Стрмбасд. lib (отладочные сборки)</dt></span><span class="sxs-lookup"><span data-stu-id="0f54d-175"><dt>Strmbase.lib (retail builds); </dt> <dt>Strmbasd.lib (debug builds)</dt></span></span> </dl> |



 

 




