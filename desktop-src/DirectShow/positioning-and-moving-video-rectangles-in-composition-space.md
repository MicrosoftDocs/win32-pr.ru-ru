---
title: Размещение и перемещение прямоугольников видео в пространстве композиции
description: Позиционирование и перемещение прямоугольников видео в пространстве композиции
ms.assetid: 97e7bb24-79f6-4638-a9c4-ac09dbd29be9
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 563509e062335f496f001d8d61dae8eecfe2cff998da6e63320a7c95c347438c
ms.sourcegitcommit: e6600f550f79bddfe58bd4696ac50dd52cb03d7e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119583613"
---
# <a name="position-and-move-video-rectangles-in-composition-space"></a>Размещение и перемещение прямоугольников видео в пространстве композиции

Когда VMR смешивает несколько входных потоков, каждый поток размещается в нормализованном прямоугольнике с именем "пространство композиции". В пространстве композиции координаты (0,0, 0,0) в (1,0, 1,0) формируют видимый прямоугольник видео. Все координаты, находящиеся за пределами этого прямоугольника, обрезаются.

Приложение может выполнять специальные эффекты при перемещении, растяжении и сжатии видео из входного потока, изменяя прямоугольник назначения в пространстве композиции для этого потока. Если размер указанного прямоугольника отличается от размера собственного видеопрямоугольника, то собственное видео будет сжато или растянуто по размеру. Прямоугольник назначения задается путем вызова метода [**ивмрмиксерконтрол:: сетаутпутрект**](/windows/desktop/api/Strmif/nf-strmif-ivmrmixercontrol-setmixingprefs) .

Например, предположим, что поток 0 (соответствующий ПИН-коду 0) содержит основной видеопоток, а поток 1 (соответствующий ПИН-коду 1) содержит вторичное видео. Поток 1 может располагаться полностью, указывая нормализованный прямоугольник {-1.0 f, 0,0 f, 0,0 f, 1.0 f}. Затем поток 1 можно переместить в видимую область, изменив левую и правую части прямоугольника при последующих вызовах **сетаутпутрект**:



| Метка | Значение |
|--------|-----------------------------|
| Время   | Прямоугольник                   |
| t + 0  | {-1.0 f, 0,0 f, 0,0 f, 1,0 f} |
| t + 1  | {-0.9 f, 0,0 f, 0,1 f, 1,0 f} |
| t + 2  | {-0,8 f, 0,0 f, 0,2 f, 1,0 f} |
| ...    | ...                         |
| t + 10 | {0.0 f, 0,0 f, 1,0 f, 1.0 f}  |



 

![Перемещение видеопотока в пространстве композиции](images/composition-space.png)

В момент времени t + 10 видео из потока 1 отображается полностью. В этом примере собственный размер потока 1 поддерживался во время перемещения. Можно также растянуть или сжать прямоугольник, чтобы получить интересные эффекты. Можно также перевернуть видео по вертикали, указав большее значение для верхней границы или зеркальное отображение видео по горизонтали, указав большее значение слева.

## <a name="related-topics"></a>Связанные темы

<dl> <dt>

[Использование режима смешения VMR](using-vmr-mixing-mode.md)
</dt> </dl>

 

 



