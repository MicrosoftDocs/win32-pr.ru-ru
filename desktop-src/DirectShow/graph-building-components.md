---
description: Компоненты Graph-Building
ms.assetid: d803c56c-6fb1-4937-92e7-9ed2db2afc46
title: Компоненты Graph-Building
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: ea3ba346356109d8080d887a510cfcb85b6a6c80
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/06/2021
ms.locfileid: "104140710"
---
# <a name="graph-building-components"></a><span data-ttu-id="8b3c0-103">Компоненты Graph-Building</span><span class="sxs-lookup"><span data-stu-id="8b3c0-103">Graph-Building Components</span></span>

<span data-ttu-id="8b3c0-104">DirectShow предоставляет несколько компонентов, которые можно использовать для построения графов фильтров.</span><span class="sxs-lookup"><span data-stu-id="8b3c0-104">DirectShow provides several components that can be used to build filter graphs.</span></span> <span data-ttu-id="8b3c0-105">следующие основные параметры.</span><span class="sxs-lookup"><span data-stu-id="8b3c0-105">These include the following:</span></span>

-   <span data-ttu-id="8b3c0-106">[Диспетчер графов фильтров](filter-graph-manager.md).</span><span class="sxs-lookup"><span data-stu-id="8b3c0-106">[Filter Graph Manager](filter-graph-manager.md).</span></span> <span data-ttu-id="8b3c0-107">Этот объект управляет графом фильтра.</span><span class="sxs-lookup"><span data-stu-id="8b3c0-107">This object controls the filter graph.</span></span> <span data-ttu-id="8b3c0-108">Кроме того, в нем поддерживаются интерфейсы [**играфбуилдер**](/windows/desktop/api/Strmif/nn-strmif-igraphbuilder), [**имедиаконтрол**](/windows/desktop/api/Control/nn-control-imediacontrol)и [**имедиаевентекс**](/windows/desktop/api/Control/nn-control-imediaeventex) .</span><span class="sxs-lookup"><span data-stu-id="8b3c0-108">It supports the [**IGraphBuilder**](/windows/desktop/api/Strmif/nn-strmif-igraphbuilder), [**IMediaControl**](/windows/desktop/api/Control/nn-control-imediacontrol), and [**IMediaEventEx**](/windows/desktop/api/Control/nn-control-imediaeventex) interfaces, among others.</span></span> <span data-ttu-id="8b3c0-109">Все приложения DirectShow используют этот объект в некоторый момент, хотя в некоторых случаях другой объект создает диспетчер графа фильтров для приложения.</span><span class="sxs-lookup"><span data-stu-id="8b3c0-109">All DirectShow applications use this object at some point, although in some cases another object creates the Filter Graph Manager for the application.</span></span>
-   <span data-ttu-id="8b3c0-110">[Построитель диаграмм захвата](capture-graph-builder.md).</span><span class="sxs-lookup"><span data-stu-id="8b3c0-110">[Capture Graph Builder](capture-graph-builder.md).</span></span> <span data-ttu-id="8b3c0-111">Этот объект предоставляет дополнительные методы для построения графов фильтра.</span><span class="sxs-lookup"><span data-stu-id="8b3c0-111">This object provides additional methods for building filter graphs.</span></span> <span data-ttu-id="8b3c0-112">Изначально он был разработан для создания графиков, которые выполняют видеозахват (следовательно, имя), но это полезно для многих других типов настраиваемых диаграмм фильтров.</span><span class="sxs-lookup"><span data-stu-id="8b3c0-112">It was originally designed for building graphs that perform video capture (hence the name) but is useful for many other types of custom filter graph.</span></span> <span data-ttu-id="8b3c0-113">Он поддерживает интерфейс [**ICaptureGraphBuilder2**](/windows/desktop/api/Strmif/nn-strmif-icapturegraphbuilder2) .</span><span class="sxs-lookup"><span data-stu-id="8b3c0-113">It supports the [**ICaptureGraphBuilder2**](/windows/desktop/api/Strmif/nn-strmif-icapturegraphbuilder2) interface.</span></span>
-   <span data-ttu-id="8b3c0-114">Средство [сопоставления фильтров](filter-mapper.md) и [перечислитель системных устройств](system-device-enumerator.md).</span><span class="sxs-lookup"><span data-stu-id="8b3c0-114">[Filter Mapper](filter-mapper.md) and [System Device Enumerator](system-device-enumerator.md).</span></span> <span data-ttu-id="8b3c0-115">Эти объекты находят фильтры, зарегистрированные в системе пользователя или представляющие аппаратные устройства.</span><span class="sxs-lookup"><span data-stu-id="8b3c0-115">These objects locate filters that are registered on the user's system, or that represent hardware devices.</span></span>
-   <span data-ttu-id="8b3c0-116">[Построитель DVD Graph](dvd-graph-builder.md).</span><span class="sxs-lookup"><span data-stu-id="8b3c0-116">[DVD Graph Builder](dvd-graph-builder.md).</span></span> <span data-ttu-id="8b3c0-117">Этот объект создает графы фильтров для воспроизведения DVD-дисков и навигации.</span><span class="sxs-lookup"><span data-stu-id="8b3c0-117">This object builds filter graphs for DVD playback and navigation.</span></span> <span data-ttu-id="8b3c0-118">Он поддерживает интерфейс [**идвдграфбуилдер**](/windows/desktop/api/Strmif/nn-strmif-idvdgraphbuilder) .</span><span class="sxs-lookup"><span data-stu-id="8b3c0-118">It supports the [**IDvdGraphBuilder**](/windows/desktop/api/Strmif/nn-strmif-idvdgraphbuilder) interface.</span></span>

### <a name="intelligent-connect"></a><span data-ttu-id="8b3c0-119">Интеллектуальное подключение</span><span class="sxs-lookup"><span data-stu-id="8b3c0-119">Intelligent Connect</span></span>

<span data-ttu-id="8b3c0-120">Термин "Intelligent Connect" охватывает набор алгоритмов, которые диспетчер графов фильтров использует для построения графа фильтра или его части.</span><span class="sxs-lookup"><span data-stu-id="8b3c0-120">The term "Intelligent Connect" covers a set of algorithms that the Filter Graph Manager uses to build all or part of a filter graph.</span></span> <span data-ttu-id="8b3c0-121">Каждый раз, когда диспетчеру графа фильтров требуются дополнительные фильтры для завершения работы со графом, он выполняет примерно следующее:</span><span class="sxs-lookup"><span data-stu-id="8b3c0-121">Whenever the Filter Graph Manager requires additional filters to complete the graph, it does roughly the following:</span></span>

1.  <span data-ttu-id="8b3c0-122">Если в графе в настоящий момент есть фильтр, по крайней мере один несоединенный входной ПИН-код пытается использовать этот фильтр диспетчером графа фильтров.</span><span class="sxs-lookup"><span data-stu-id="8b3c0-122">If there is a filter currently in the graph, with at least one unconnected input pin, the Filter Graph Manager tries to use that filter.</span></span>
2.  <span data-ttu-id="8b3c0-123">В противном случае диспетчер графов фильтров ищет в реестре фильтры, которые могут принимать правильный тип носителя для соединения.</span><span class="sxs-lookup"><span data-stu-id="8b3c0-123">Otherwise, the Filter Graph Manager looks in the registry for filters that can accept the correct media type for the connection.</span></span> <span data-ttu-id="8b3c0-124">Каждый фильтр имеет значение реестра «заслуживает», которое указывает, насколько вероятно, что фильтр будет полезен при заполнении графа.</span><span class="sxs-lookup"><span data-stu-id="8b3c0-124">Each filter has a registry value called "Merit," which indicates roughly how likely the filter is to be useful in completing the graph.</span></span> <span data-ttu-id="8b3c0-125">Диспетчер графов фильтров попытается применить фильтры в порядке возрастания значения.</span><span class="sxs-lookup"><span data-stu-id="8b3c0-125">The Filter Graph Manager tries filters in order of merit value.</span></span> <span data-ttu-id="8b3c0-126">Для каждого типа потока (например, аудио, видео или MIDI) модуль подготовки отчетов по умолчанию имеет высокий уровень соответствия.</span><span class="sxs-lookup"><span data-stu-id="8b3c0-126">For each stream type (such as audio, video, or MIDI), the default renderer has a high merit.</span></span> <span data-ttu-id="8b3c0-127">Декодеры также имеют высокий уровень.</span><span class="sxs-lookup"><span data-stu-id="8b3c0-127">Decoders also have high merit.</span></span> <span data-ttu-id="8b3c0-128">Фильтры специального назначения имеют низкий уровень.</span><span class="sxs-lookup"><span data-stu-id="8b3c0-128">Special-purpose filters have low merit.</span></span>

<span data-ttu-id="8b3c0-129">Если диспетчер графов фильтров зависает, он выполнит откат и попытается использовать другое сочетание фильтров.</span><span class="sxs-lookup"><span data-stu-id="8b3c0-129">If the Filter Graph Manager gets stuck, it will back out and try a different combination of filters.</span></span> <span data-ttu-id="8b3c0-130">Точные сведения можно найти в разделе [Intelligent Connect](intelligent-connect.md).</span><span class="sxs-lookup"><span data-stu-id="8b3c0-130">You can find the exact details in the topic [Intelligent Connect](intelligent-connect.md).</span></span>

## <a name="related-topics"></a><span data-ttu-id="8b3c0-131">См. также</span><span class="sxs-lookup"><span data-stu-id="8b3c0-131">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="8b3c0-132">Построение графа фильтра</span><span class="sxs-lookup"><span data-stu-id="8b3c0-132">Building the Filter Graph</span></span>](building-the-filter-graph.md)
</dt> </dl>

 

 



