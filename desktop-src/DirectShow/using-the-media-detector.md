---
description: Использование средства обнаружения мультимедиа
ms.assetid: 462150d5-7315-4c2b-81b0-964a788ec47d
title: Использование средства обнаружения мультимедиа
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 6ebdb05eb47c7efabcc3234fb6ac2411a46e40d4
ms.sourcegitcommit: c16214e53680dc71d1c07111b51f72b82a4512d8
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/03/2021
ms.locfileid: "105674531"
---
# <a name="using-the-media-detector"></a>Использование средства обнаружения мультимедиа

\[Этот API не поддерживается и может быть изменен или недоступен в будущем.\]

Средство обнаружения мультимедиа — это вспомогательный объект, который может получать сведения о файле, например число потоков, их тип и длительность. Он также содержит методы для извлечения кадров афиши из видеопотока. Он предоставляет интерфейс [**имедиадет**](imediadet.md) .

Средство обнаружения мультимедиа работает в одном из двух режимов. При создании экземпляра детектора мультимедиа он не прикрепляется к определенному исходному файлу. В этом режиме можно получить потоковую информацию из нескольких исходных файлов. Однако после использования средства обнаружения мультимедиа для получения кадра афиши он переключается в *режим захвата точечного рисунка*. В режиме захвата растрового изображения средство обнаружения мультимедиа прикрепляется к определенному потоку видео, а методы потоковой передачи данных больше не работают. Более того, невозможно переключить детектор мультимедиа обратно в режим запуска. Поэтому перед извлечением кадров афиши необходимо получить все необходимые сведения о потоке или создать новые экземпляры средства обнаружения мультимедиа для каждого потока.

Чтобы получить сведения о потоке, выполните следующие действия.

1.  Вызовите [**имедиадет::p UT \_ filename**](imediadet-put-filename.md) с именем исходного файла.
2.  Вызовите метод [**имедиадет:: Get \_ аутпутстреамс**](imediadet-get-outputstreams.md) , чтобы получить количество потоков в источнике.
3.  Укажите номер потока с помощью [**имедиадет::p UT \_ куррентстреам**](imediadet-put-currentstream.md). Затем вызовите один или несколько из следующих методов:
    -   [**Имедиадет:: Get \_ Стреамтипе**](imediadet-get-streamtype.md): получает тип носителя потока.
    -   [**Имедиадет:: Get \_ Стреамленгс**](imediadet-get-streamlength.md): получает длительность потока.
    -   [**Имедиадет:: Get \_ Частота кадров: получает**](imediadet-get-framerate.md)частоту кадра видеопотока.

Чтобы получить кадр афиши, укажите номер потока, как показано на предыдущем шаге. Затем вызовите либо [**имедиадет:: жетбитмапбитс**](imediadet-getbitmapbits.md), который копирует кадр афиши в буфер, либо [**Имедиадет:: вритебитмапбитс**](imediadet-writebitmapbits.md), который сохраняет кадр афиши в файл.

## <a name="related-topics"></a>См. также

<dl> <dt>

[Работа с источниками](working-with-sources.md)
</dt> </dl>

 

 



