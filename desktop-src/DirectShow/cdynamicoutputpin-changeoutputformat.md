---
description: Метод Чанжеаутпутформат динамически изменяет тип носителя для соединения и доставляет сведения о новом сегменте.
ms.assetid: d1204ca0-a489-48a0-8fe5-3ade04f51c93
title: Кдинамикаутпутпин. Чанжеаутпутформат, метод (Амфилтер. h)
ms.topic: reference
ms.date: 05/31/2018
topic_type:
- APIRef
- kbSyntax
api_name:
- CDynamicOutputPin.ChangeOutputFormat
api_type:
- COM
api_location:
- Strmbase.lib
- Strmbase.dll
- Strmbasd.lib
- Strmbasd.dll
ms.openlocfilehash: 57421b2fd9624d9798037151a5656343e386a497
ms.sourcegitcommit: c8ec1ded1ffffc364d3c4f560bb2171da0dc5040
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/22/2021
ms.locfileid: "105669426"
---
# <a name="cdynamicoutputpinchangeoutputformat-method"></a>Кдинамикаутпутпин. Чанжеаутпутформат, метод

`ChangeOutputFormat`Метод динамически изменяет тип носителя для соединения и доставляет сведения о новом сегменте. Это изменение может произойти при выполнении графа фильтра. После вызова этого метода не удается доставить образцы со старым типом носителя. Вызывающий объект должен гарантировать, что старые примеры не ожидаются.

## <a name="syntax"></a>Синтаксис


```C++
HRESULT ChangeOutputFormat(
   const AM_MEDIA_TYPE  *pmt,
         REFERENCE_TIME tSegmentStart,
         REFERENCE_TIME tSegmentStop,
         double         dSegmentRate
);
```



## <a name="parameters"></a>Параметры

<dl> <dt>

*состоит* 
</dt> <dd>

Указатель на структуру [**\_ \_ типа мультимедиа AM**](/windows/win32/api/strmif/ns-strmif-am_media_type) , указывающую тип носителя.

</dd> <dt>

*тсегментстарт* 
</dt> <dd>

Время начала сегмента.

</dd> <dt>

*тсегментстоп* 
</dt> <dd>

Время окончания сегмента.

</dd> <dt>

*дсегментрате* 
</dt> <dd>

Частота сегментов.

</dd> </dl>

## <a name="return-value"></a>Возвращаемое значение

Возвращает значение **HRESULT** . Возможные значения включают в себя, показанные в следующей таблице.



| Код возврата                                                                                           | Описание                                                                                                                              |
|-------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------|
| <dl> <dt>**\_ОК**</dt> </dl>                  | Успешно.<br/>                                                                                                                      |
| <dl> <dt>**\_Ошибка E**</dt> </dl>                | Ошибка. Возможно, фильтр-владелец не вызывал [**кдинамикаутпутпин:: сетконфигинфо**](cdynamicoutputpin-setconfiginfo.md).<br/> |
| <dl> <dt>**VFW \_ E \_ не \_ подключен**</dt> </dl> | ПИН-код не подключен.<br/>                                                                                                     |



 

## <a name="remarks"></a>Комментарии

Этот метод изменяет тип формата во время выполнения фильтра. Если подчиненный ПИН-код принимает новый формат, повторное подключение не требуется. В противном случае метод пытается повторно подключить ПИН-код. Если метод успешно изменяет формат, он доставляет сведения о новом сегменте. Этот метод вызывает метод [**кдинамикаутпутпин:: чанжемедиатипе**](cdynamicoutputpin-changemediatype.md) для изменения формата.

Перед вызовом этого метода необходимо вызвать метод [**кдинамикаутпутпин:: стартусингаутпутпин**](cdynamicoutputpin-startusingoutputpin.md) .

## <a name="requirements"></a>Требования



| Требование | Значение |
|--------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Header<br/>  | <dl> <dt>Амфилтер. h (включение Streams. h)</dt> </dl>                                                                                  |
| Библиотека<br/> | <dl> <dt>Стрмбасе. lib (розничные сборки); </dt> <dt>Стрмбасд. lib (отладочные сборки)</dt> </dl> |



## <a name="see-also"></a>См. также раздел

<dl> <dt>

[**Класс Кдинамикаутпутпин**](cdynamicoutputpin.md)
</dt> </dl>

 

 




