---
description: Фильтр источников Windows Media
ms.assetid: e59b3086-4f62-4541-8bef-b0581f01906f
title: Фильтр источников Windows Media
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: fa8e2c2f2e575a70d85fdce3d9b8d643e270f721
ms.sourcegitcommit: 63753fcfb0afbbe5ec283fb8316e62c2dc950f66
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/22/2021
ms.locfileid: "107909002"
---
# <a name="windows-media-source-filter"></a><span data-ttu-id="a55b0-103">Фильтр источников Windows Media</span><span class="sxs-lookup"><span data-stu-id="a55b0-103">Windows Media Source Filter</span></span>

<span data-ttu-id="a55b0-104">Этот фильтр является устаревшим фильтром источника для® содержимого Windows Media.</span><span class="sxs-lookup"><span data-stu-id="a55b0-104">This filter is the legacy source filter for Windows Media® content.</span></span> <span data-ttu-id="a55b0-105">Он используется проигрывателем Windows Media 6,4.</span><span class="sxs-lookup"><span data-stu-id="a55b0-105">It is used by Windows Media Player 6.4.</span></span> <span data-ttu-id="a55b0-106">Как правило, самый простой и надежный способ использовать этот фильтр — использовать элемент управления ActiveX проигрывателя Windows Media 6,4.</span><span class="sxs-lookup"><span data-stu-id="a55b0-106">In general, the simplest and most reliable way to use this filter is to use the Windows Media Player 6.4 ActiveX control.</span></span> <span data-ttu-id="a55b0-107">Многие методы, предоставляемые этим фильтром, также доступны через элемент управления ActiveX.</span><span class="sxs-lookup"><span data-stu-id="a55b0-107">Many of the methods exposed by this filter are also exposed through the ActiveX control.</span></span> <span data-ttu-id="a55b0-108">Дополнительные сведения см. в разделе пакет SDK для проигрывателя Windows Media.</span><span class="sxs-lookup"><span data-stu-id="a55b0-108">See the Windows Media Player SDK for more information.</span></span>

<span data-ttu-id="a55b0-109">Когда этому фильтру присваивается имя локального ASF-файла или URL для удаленного файла, он считывает файл, анализирует сжатые потоки и создает выходной ПИН-код для каждого из них.</span><span class="sxs-lookup"><span data-stu-id="a55b0-109">When this filter is given the name of a local ASF file or a URL for a remote file, it reads the file, parses the compressed streams, and creates an output pin for each one.</span></span> <span data-ttu-id="a55b0-110">Этот фильтр не использует пакет SDK для формата Windows Media.</span><span class="sxs-lookup"><span data-stu-id="a55b0-110">This filter does not use the Windows Media Format SDK.</span></span> <span data-ttu-id="a55b0-111">Он использует устанавливаемые кодеки декодеров Windows Media, а не версии DMO.</span><span class="sxs-lookup"><span data-stu-id="a55b0-111">It uses the installable codec versions of the Windows Media decoders, not the DMO versions.</span></span> <span data-ttu-id="a55b0-112">ПИН-код звука всегда подключается к фильтру обработчика ASF ACM, и видео всегда подключается к обработчику ICM.</span><span class="sxs-lookup"><span data-stu-id="a55b0-112">The audio output pin always connects to the ASF ACM Handler filter, and the video pin always connects to the ASF ICM Handler.</span></span> <span data-ttu-id="a55b0-113">(ICM в этом случае относится к исходному имени диспетчера сжатия видео.) Фильтр не поддерживает поиск.</span><span class="sxs-lookup"><span data-stu-id="a55b0-113">(ICM in this case refers to the original name of the Video Compression Manager.) The filter does not support seeking.</span></span>

<span data-ttu-id="a55b0-114">На следующей схеме показан граф фильтра с этим фильтром.</span><span class="sxs-lookup"><span data-stu-id="a55b0-114">The following diagram shows a filter graph with this filter.</span></span>

![граф фильтра источников Windows Media](images/wms-wmv-graph.png)

<span data-ttu-id="a55b0-116">Для обеспечения обратной совместимости с проигрывателем Windows Media 6,4 этот фильтр является фильтром источников по умолчанию для файлов с расширениями WMA, WMV и ASF.</span><span class="sxs-lookup"><span data-stu-id="a55b0-116">To maintain backward compatibility with Windows Media Player 6.4, this filter is the default source filter for files with .wma, .wmv, and .asf file extensions.</span></span> <span data-ttu-id="a55b0-117">Для воспроизведения файлов более новые приложения должны использовать фильтр [чтения WM ASF](wm-asf-reader-filter.md) .</span><span class="sxs-lookup"><span data-stu-id="a55b0-117">For file playback, newer applications should use the [WM ASF Reader](wm-asf-reader-filter.md) filter.</span></span> <span data-ttu-id="a55b0-118">Однако модуль чтения WM ASF не поддерживает воспроизведение потокового содержимого.</span><span class="sxs-lookup"><span data-stu-id="a55b0-118">However, the WM ASF Reader does not support playback of streamed content.</span></span>

<span data-ttu-id="a55b0-119">Самый простой способ воспроизведения потокового содержимого на основе Windows Media — использовать пакет SDK для проигрывателя Windows Media.</span><span class="sxs-lookup"><span data-stu-id="a55b0-119">The simplest way for an application to play streamed Windows Media-based content is to use the Windows Media Player SDK.</span></span> <span data-ttu-id="a55b0-120">Другой вариант — использовать пакет SDK Windows Media Format.</span><span class="sxs-lookup"><span data-stu-id="a55b0-120">Another option is to use the Windows Media Format SDK.</span></span> <span data-ttu-id="a55b0-121">Не рекомендуется пытаться создать пользовательский проигрыватель на основе фильтра источников Windows Media.</span><span class="sxs-lookup"><span data-stu-id="a55b0-121">Attempting to create a custom player based on the Windows Media Source Filter is not recommended.</span></span>



| <span data-ttu-id="a55b0-122">Метка</span><span class="sxs-lookup"><span data-stu-id="a55b0-122">Label</span></span> | <span data-ttu-id="a55b0-123">Значение</span><span class="sxs-lookup"><span data-stu-id="a55b0-123">Value</span></span> |
|------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="a55b0-124">Интерфейсы фильтра</span><span class="sxs-lookup"><span data-stu-id="a55b0-124">Filter interfaces</span></span>                        | <span data-ttu-id="a55b0-125">[**Ибасефилтер**](/windows/desktop/api/Strmif/nn-strmif-ibasefilter), [**иамчаннелинфо**](/previous-versions/windows/desktop/api/Qnetwork/nn-qnetwork-iamchannelinfo), [**иамекстендедсикинг**](/previous-versions/windows/desktop/api/Qnetwork/nn-qnetwork-iamextendedseeking), [**иаммедиаконтент**](/previous-versions/windows/desktop/api/Qnetwork/nn-qnetwork-iammediacontent), [**иамопенпрогресс**](/windows/desktop/api/Strmif/nn-strmif-iamopenprogress), [**иамнетшовконфиг**](/previous-versions/windows/desktop/api/Qnetwork/nn-qnetwork-iamnetshowconfig), [**IAMNetShowExProps**](/previous-versions/windows/desktop/api/Qnetwork/nn-qnetwork-iamnetshowexprops), [**IAMNetShowPreroll**](/previous-versions/windows/desktop/api/Qnetwork/nn-qnetwork-iamnetshowpreroll), [**IAMNetworkStatus**](/previous-versions/windows/desktop/api/Qnetwork/nn-qnetwork-iamnetworkstatus), [**IFileSourceFilter**](/windows/desktop/api/Strmif/nn-strmif-ifilesourcefilter)</span><span class="sxs-lookup"><span data-stu-id="a55b0-125">[**IBaseFilter**](/windows/desktop/api/Strmif/nn-strmif-ibasefilter), [**IAMChannelInfo**](/previous-versions/windows/desktop/api/Qnetwork/nn-qnetwork-iamchannelinfo), [**IAMExtendedSeeking**](/previous-versions/windows/desktop/api/Qnetwork/nn-qnetwork-iamextendedseeking), [**IAMMediaContent**](/previous-versions/windows/desktop/api/Qnetwork/nn-qnetwork-iammediacontent), [**IAMOpenProgress**](/windows/desktop/api/Strmif/nn-strmif-iamopenprogress), [**IAMNetShowConfig**](/previous-versions/windows/desktop/api/Qnetwork/nn-qnetwork-iamnetshowconfig), [**IAMNetShowExProps**](/previous-versions/windows/desktop/api/Qnetwork/nn-qnetwork-iamnetshowexprops), [**IAMNetShowPreroll**](/previous-versions/windows/desktop/api/Qnetwork/nn-qnetwork-iamnetshowpreroll), [**IAMNetworkStatus**](/previous-versions/windows/desktop/api/Qnetwork/nn-qnetwork-iamnetworkstatus), [**IFileSourceFilter**](/windows/desktop/api/Strmif/nn-strmif-ifilesourcefilter)</span></span> |
| <span data-ttu-id="a55b0-126">Типы носителей входных закрепления</span><span class="sxs-lookup"><span data-stu-id="a55b0-126">Input pin media types</span></span>                    | <span data-ttu-id="a55b0-127">Не применяется</span><span class="sxs-lookup"><span data-stu-id="a55b0-127">Not applicable.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| <span data-ttu-id="a55b0-128">Интерфейсы входных закрепления</span><span class="sxs-lookup"><span data-stu-id="a55b0-128">Input pin interfaces</span></span>                     | <span data-ttu-id="a55b0-129">Не применяется</span><span class="sxs-lookup"><span data-stu-id="a55b0-129">Not applicable.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| <span data-ttu-id="a55b0-130">Типы носителей для выходного ПИН-кода</span><span class="sxs-lookup"><span data-stu-id="a55b0-130">Output pin media types</span></span>                   | <span data-ttu-id="a55b0-131">Зависит от потоков в файле ASF.</span><span class="sxs-lookup"><span data-stu-id="a55b0-131">Varies depending on the streams within the ASF file.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                               |
| <span data-ttu-id="a55b0-132">Интерфейсы выходного ПИН-кода</span><span class="sxs-lookup"><span data-stu-id="a55b0-132">Output pin interfaces</span></span>                    | [<span data-ttu-id="a55b0-133">**имедиасикинг**</span><span class="sxs-lookup"><span data-stu-id="a55b0-133">**IMediaSeeking**</span></span>](/windows/desktop/api/Strmif/nn-strmif-imediaseeking)                                                                                                                                                                                                                                                                                                                                                                                                                             |
| <span data-ttu-id="a55b0-134">Фильтровать CLSID</span><span class="sxs-lookup"><span data-stu-id="a55b0-134">Filter CLSID</span></span>                             | <span data-ttu-id="a55b0-135">См. примечания</span><span class="sxs-lookup"><span data-stu-id="a55b0-135">See Remarks</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| <span data-ttu-id="a55b0-136">Исполняемый объект</span><span class="sxs-lookup"><span data-stu-id="a55b0-136">Executable</span></span>                               | <span data-ttu-id="a55b0-137">dxmasf.dll</span><span class="sxs-lookup"><span data-stu-id="a55b0-137">dxmasf.dll</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| [<span data-ttu-id="a55b0-138">Заслуживают</span><span class="sxs-lookup"><span data-stu-id="a55b0-138">Merit</span></span>](merit.md)                       | <span data-ttu-id="a55b0-139">неуспешный \_ режим</span><span class="sxs-lookup"><span data-stu-id="a55b0-139">MERIT\_NORMAL</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| [<span data-ttu-id="a55b0-140">Категория фильтра</span><span class="sxs-lookup"><span data-stu-id="a55b0-140">Filter Category</span></span>](filter-categories.md) | <span data-ttu-id="a55b0-141">\_ЛЕГАЦИАМФИЛТЕРКАТЕГОРИ CLSID</span><span class="sxs-lookup"><span data-stu-id="a55b0-141">CLSID\_LegacyAmFilterCategory</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                      |



 

## <a name="remarks"></a><span data-ttu-id="a55b0-142">Комментарии</span><span class="sxs-lookup"><span data-stu-id="a55b0-142">Remarks</span></span>

<span data-ttu-id="a55b0-143">CLSID фильтра не определен в кнетворк. h.</span><span class="sxs-lookup"><span data-stu-id="a55b0-143">The filter's CLSID is not defined in qnetwork.h.</span></span> <span data-ttu-id="a55b0-144">Используйте этот макрос в своем собственном файле заголовка:</span><span class="sxs-lookup"><span data-stu-id="a55b0-144">Use this macro in your own header file:</span></span>


```C++
//  {6B6D0800-9ADA-11d0-A520-00A0D10129C0}
DEFINE_GUID(CLSID_NetShowSource, 
0x6b6d0800, 0x9ada, 0x11d0, 0xa5, 0x20, 0x0, 0xa0, 0xd1, 0x1, 0x29, 0xc0);
```



## <a name="related-topics"></a><span data-ttu-id="a55b0-145">Связанные темы</span><span class="sxs-lookup"><span data-stu-id="a55b0-145">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="a55b0-146">Фильтры DirectShow</span><span class="sxs-lookup"><span data-stu-id="a55b0-146">DirectShow Filters</span></span>](directshow-filters.md)
</dt> <dt>

[<span data-ttu-id="a55b0-147">Чтение файлов ASF в DirectShow</span><span class="sxs-lookup"><span data-stu-id="a55b0-147">Reading ASF Files in DirectShow</span></span>](reading-asf-files-in-directshow.md)
</dt> <dt>

[<span data-ttu-id="a55b0-148">Фильтр чтения WM ASF</span><span class="sxs-lookup"><span data-stu-id="a55b0-148">WM ASF Reader Filter</span></span>](wm-asf-reader-filter.md)
</dt> </dl>

 

 



