---
description: Этот раздел не является актуальным. Самые актуальные сведения см. в спецификации печати схемы.
ms.assetid: e81068db-ab8e-420c-a0be-93bc92f3df6f
title: Определения параметров
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 10016b295cc2da7ede4e6a4f8944f279a25f6f9b
ms.sourcegitcommit: de72a1294df274b0a71dc0fdc42d757e5f6df0f3
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/05/2021
ms.locfileid: "104273345"
---
# <a name="option-definitions"></a><span data-ttu-id="e33fa-104">Определения параметров</span><span class="sxs-lookup"><span data-stu-id="e33fa-104">Option Definitions</span></span>

<span data-ttu-id="e33fa-105">Этот раздел не является актуальным.</span><span class="sxs-lookup"><span data-stu-id="e33fa-105">This topic is not current.</span></span> <span data-ttu-id="e33fa-106">Самые актуальные сведения см. в [спецификации печати схемы](https://download.microsoft.com/download/D/E/C/DECA6E6B-3E81-48E7-B7EF-6D92A547D03C/print-schema-spec-2-0.zip).</span><span class="sxs-lookup"><span data-stu-id="e33fa-106">For the most current information, see the [Print Schema Specification](https://download.microsoft.com/download/D/E/C/DECA6E6B-3E81-48E7-B7EF-6D92A547D03C/print-schema-spec-2-0.zip).</span></span>

<span data-ttu-id="e33fa-107">Ключевым моментом, который следует учесть при определении параметра, является то, что это может быть осмысленным по сравнению с другими экземплярами параметров, содержащимися в той же функции.</span><span class="sxs-lookup"><span data-stu-id="e33fa-107">The key consideration when you define an Option is to do so in such a way that it can be meaningfully compared to other Option instances contained in the same Feature.</span></span> <span data-ttu-id="e33fa-108">Сравнение должно быть осмысленным, поскольку экземпляр параметра используется для определения конфигурации не только для устройства, но и для задания независимо от устройства или PrintCapabilities, которые использовались для создания конфигурации.</span><span class="sxs-lookup"><span data-stu-id="e33fa-108">The comparison must be meaningful because the Option instance is used to define the configuration not just of the device, but of the job, independent of the device or PrintCapabilities that were used to create the configuration.</span></span> <span data-ttu-id="e33fa-109">Другие экземпляры параметров в этой функции могут отображаться либо в одном документе PrintCapabilities, либо в другом документе PrintCapabilities, представляющем другое устройство, а документ PrintCapabilities, который определен другой стороной, работает независимо.</span><span class="sxs-lookup"><span data-stu-id="e33fa-109">The other Option instances in the Feature can appear either in the same PrintCapabilities document, or in another PrintCapabilities document that represents a different device, a PrintCapabilities document that is defined by another party working independently.</span></span> <span data-ttu-id="e33fa-110">После того как клиент выберет конфигурацию устройства для отображения задания или документа, эта конфигурация, как правило, сохраняется вместе с заданием или документом в форме PrintTicket.</span><span class="sxs-lookup"><span data-stu-id="e33fa-110">After a client selects the device configuration to be used to render a job or document, that configuration typically is saved, along with the job or document, in the form of a PrintTicket.</span></span> <span data-ttu-id="e33fa-111">PrintTicket содержит набор экземпляров параметров, обычно по одному для каждого компонента, определенного в документе PrintCapabilities.</span><span class="sxs-lookup"><span data-stu-id="e33fa-111">The PrintTicket contains a set of Option instances, typically one for each Feature defined in the PrintCapabilities document.</span></span> <span data-ttu-id="e33fa-112">Экземпляры параметров должны быть переносимыми и должны сохранять намерения печати, чтобы их можно было передавать, когда данный PrintTicket передается другому устройству, даже если он имеет другой документ PrintCapabilities, написанный другим автором.</span><span class="sxs-lookup"><span data-stu-id="e33fa-112">Option instances must be portable and must preserve printing intent, so that the intent can be communicated when this PrintTicket is given to a different device, even one that has a different PrintCapabilities document that was written by a different author.</span></span> <span data-ttu-id="e33fa-113">Основное преимущество этой переносимости заключается в том, что если другое устройство не поддерживает параметр, содержащийся в PrintTicket, драйвер устройства или подсистема может вычислить и выбрать наиболее близкий к функциональности параметр.</span><span class="sxs-lookup"><span data-stu-id="e33fa-113">The primary benefit of this portability is that if a different device does not specifically support an Option contained in the PrintTicket, the device driver or subsystem is able to identify and select the Option that is the closest in functionality.</span></span>

<span data-ttu-id="e33fa-114">Одной из основных функций PrintTicket драйвера является указание параметра устройства в документе PrintCapabilities, который наиболее точно соответствует определенному параметру, указанному в PrintTicket.</span><span class="sxs-lookup"><span data-stu-id="e33fa-114">One of the driver's main PrintTicket functions is to identify the device Option in the PrintCapabilities document that most closely matches a particular Option listed in the PrintTicket.</span></span> <span data-ttu-id="e33fa-115">В ходе этого сопоставления или процесса оценки, определенного драйвером устройства, параметр в PrintTicket называется параметром *ссылки* , а параметр в документе PrintCapabilities называется вариантом- *кандидатом* .</span><span class="sxs-lookup"><span data-stu-id="e33fa-115">During this matching or device driver defined scoring process, the Option in the PrintTicket is referred to as the *reference* Option, while the Option in the PrintCapabilities document is referred to as the *candidate* Option.</span></span> <span data-ttu-id="e33fa-116">Общая метрика сопоставления — это количество совпадающих экземпляров Скоредпроперти в экземплярах параметров-кандидатов и ссылок; большее число совпадений обычно указывает на лучшее сохранение намерения печати.</span><span class="sxs-lookup"><span data-stu-id="e33fa-116">The general matching metric is the number of matching ScoredProperty instances in the candidate and reference Option instances; a greater number of matches usually indicates better preservation of printing intent.</span></span> <span data-ttu-id="e33fa-117">В процессе оценки можно выбрать больший вес для некоторых элементов Скоредпроперти, чем для других.</span><span class="sxs-lookup"><span data-stu-id="e33fa-117">In your scoring process you might choose to give greater weight to some ScoredProperty elements than to others.</span></span>

<span data-ttu-id="e33fa-118">Экземпляры параметров можно сделать переносимыми, гарантируя, что все экземпляры параметров, принадлежащие к одной и той же функции, имеют один или несколько *элементов скоредпроперти в общем*.</span><span class="sxs-lookup"><span data-stu-id="e33fa-118">You can make Option instances portable by ensuring that all Option instances that belong to the same Feature have one or more ScoredProperty *elements in common*.</span></span> <span data-ttu-id="e33fa-119">Это означает, что существует набор элементов Скоредпроперти, которые отображаются в каждом экземпляре параметра (входящем в одну и ту же функцию).</span><span class="sxs-lookup"><span data-stu-id="e33fa-119">This means that there is a set of ScoredProperty elements that appears in every Option instance (belonging to the same Feature).</span></span> <span data-ttu-id="e33fa-120">Например, экземпляры параметров для функции Пажемедиасизе могут быть переносимыми, если каждый экземпляр параметра содержит элементы Скоредпроперти, определяющие внутренние свойства Пажемедиасизе: Медиасизевидс и Медиасизехеигхт.</span><span class="sxs-lookup"><span data-stu-id="e33fa-120">For example, Option instances for the PageMediaSize Feature can be portable if every Option instance contains ScoredProperty elements that define the intrinsic PageMediaSize properties: MediaSizeWidth and MediaSizeHeight.</span></span> <span data-ttu-id="e33fa-121">Затем в драйвере устройства или подсистеме кода можно определить, насколько близко два экземпляра параметров согласуются путем сравнения различий в этих значениях Скоредпроперти.</span><span class="sxs-lookup"><span data-stu-id="e33fa-121">The device driver or subsystem code can then determine how closely two Option instances agree by comparing the differences in these ScoredProperty values.</span></span> <span data-ttu-id="e33fa-122">Если в документе PrintCapabilities нет параметра, точно соответствующего тому, что содержится в PrintTicket, драйвер устройства может легко определить и выбрать параметр с ближайшими соответствующими размерами носителей.</span><span class="sxs-lookup"><span data-stu-id="e33fa-122">If there is no Option in the PrintCapabilities document that exactly matches the one in the PrintTicket, the device driver can easily determine and select the Option that has the closest matching media dimensions.</span></span>

<span data-ttu-id="e33fa-123">Два объекта (экземпляры параметров в этом случае) говорят, что *элементы, общие* или эквивалентные, имеют *соответствующие элементы*, если удовлетворяются следующие три условия.</span><span class="sxs-lookup"><span data-stu-id="e33fa-123">Two objects (Option instances in this case) are said to have *elements in common*, or equivalently, have *corresponding elements*, if the following three conditions are satisfied.</span></span>

1.  <span data-ttu-id="e33fa-124">Два элемента имеют один и тот же тип элементов.</span><span class="sxs-lookup"><span data-stu-id="e33fa-124">The two elements are of the same element type.</span></span>

2.  <span data-ttu-id="e33fa-125">Атрибуты имени двух элементов идентичны (или ни один из элементов не содержит атрибута Name).</span><span class="sxs-lookup"><span data-stu-id="e33fa-125">The name attributes of the two elements are identical (or neither element contains a name attribute).</span></span>

3.  <span data-ttu-id="e33fa-126">Цепочка родителей элементов, сравниваемых по сравнению с двумя рассматриваемыми объектами, должна соответствовать условиям 1 и 2.</span><span class="sxs-lookup"><span data-stu-id="e33fa-126">The chain of parents of the elements being compared, up through the two objects under consideration, must satisfy conditions 1 and 2.</span></span>

<span data-ttu-id="e33fa-127">Например, рассмотрим ситуацию, в которой есть два экземпляра параметров, где каждый из них содержит экземпляр Скоредпроперти и что каждый из этих экземпляров Скоредпроперти содержит экземпляр свойства.</span><span class="sxs-lookup"><span data-stu-id="e33fa-127">For example, consider a situation in which there are two Option instances, where each contains a ScoredProperty instance, and that each of these ScoredProperty instances contains a Property instance.</span></span> <span data-ttu-id="e33fa-128">Очевидно, что первое условие удовлетворено (два экземпляра свойств имеют один и тот же тип), и часть третьего условия удовлетворена (родители экземпляров свойств имеют тот же тип, Скоредпроперти, а родители этих элементов — это экземпляры параметров, которые также относятся к одному и тому же типу).</span><span class="sxs-lookup"><span data-stu-id="e33fa-128">Clearly, the first condition is satisfied (the two Property instances are the same type), and part of the third condition is satisfied (the parents of the Property instances are the same type, ScoredProperty, and the parents of those elements are the Option instances, which are also of the same type).</span></span> <span data-ttu-id="e33fa-129">Если атрибуты Name соответственно, экземпляры свойств, экземпляры Скоредпроперти и экземпляры параметров идентичны или не указаны, то два экземпляра параметров имеют общие элементы.</span><span class="sxs-lookup"><span data-stu-id="e33fa-129">If the name attributes of, respectively, the Property instances, the ScoredProperty instances, and the Option instances are either identical or are not supplied, the two Option instances have elements in common.</span></span>

<span data-ttu-id="e33fa-130">С вышеизложенного, первым шагом в создании экземпляров параметров является определение набора элементов Скоредпроперти, которые находятся в большинстве или всех экземплярах параметров.</span><span class="sxs-lookup"><span data-stu-id="e33fa-130">From the foregoing, the first step in creating Option instances is to define a set of ScoredProperty elements that are present in most or all of the Option instances.</span></span> <span data-ttu-id="e33fa-131">Если атрибут конфигурации устройства может быть представлен стандартным компонентом (который указан в ключевых словах для схемы печати), обратите внимание на элементы Скоредпроперти, общие в стандартных экземплярах параметров.</span><span class="sxs-lookup"><span data-stu-id="e33fa-131">If your device configuration attribute can be represented by a standard Feature (one listed in the Print Schema Keywords), note the ScoredProperty elements in common in the standard Option instances.</span></span> <span data-ttu-id="e33fa-132">Следует убедиться, что все новые экземпляры параметров, которые вы вносите, также содержат эти элементы Скоредпроперти.</span><span class="sxs-lookup"><span data-stu-id="e33fa-132">You should ensure that any new Option instances that you introduce also contain these ScoredProperty elements.</span></span> <span data-ttu-id="e33fa-133">При необходимости вы всегда можете добавлять дополнительные элементы Скоредпроперти, чтобы отличать экземпляры параметров от стандартных экземпляров параметров.</span><span class="sxs-lookup"><span data-stu-id="e33fa-133">You are always free to add additional ScoredProperty elements as needed to differentiate your Option instances from the standard Option instances.</span></span> <span data-ttu-id="e33fa-134">Можно даже удалить один или несколько элементов Скоредпроперти в общем случае, если есть веская причина, хотя это сокращает переносимость такого варианта.</span><span class="sxs-lookup"><span data-stu-id="e33fa-134">You may even delete one or more of the ScoredProperty elements in common if there is good reason, although that reduces the portability of such an Option.</span></span> <span data-ttu-id="e33fa-135">Конечно, в вопросах переносимости рекомендуется использовать неизмененные экземпляры стандартных параметров, если между параметром и экземпляром стандартного параметра, которые должны быть отражены в новом экземпляре параметра, не существует какого-либо внутреннего различия.</span><span class="sxs-lookup"><span data-stu-id="e33fa-135">Of course, portability considerations suggest using the unmodified standard Option instances unless there is some intrinsic difference between your Option and the standard Option instance that must be reflected in the new Option instance.</span></span>

<span data-ttu-id="e33fa-136">В следующем примере показана ситуация, в которой может потребоваться добавить элемент Скоредпроперти в экземпляр параметра.</span><span class="sxs-lookup"><span data-stu-id="e33fa-136">The following example illustrates a situation for which you might wish to add a ScoredProperty element to an Option instance.</span></span> <span data-ttu-id="e33fa-137">Все стандартные экземпляры параметров для функции Пажемедиасизе имеют общие элементы Медиасизевидс и Медиасизехеигхт Скоредпроперти.</span><span class="sxs-lookup"><span data-stu-id="e33fa-137">All of the standard Option instances for the PageMediaSize Feature have the MediaSizeWidth and MediaSizeHeight ScoredProperty elements in common.</span></span> <span data-ttu-id="e33fa-138">Предположим, что устройство может поддерживать один из стандартных размеров носителей с письмом: обратно (Лонжеджефирст) или лонгитудиналли (Шортеджефирст).</span><span class="sxs-lookup"><span data-stu-id="e33fa-138">Suppose that your device can support one of the standard Letter media sizes by feeding the paper either transversely (LongEdgeFirst) or longitudinally (ShortEdgeFirst).</span></span> <span data-ttu-id="e33fa-139">Если вы не хотите использовать новую функцию направления веб-канала для предоставления такой степени свободы, вместо этого можно изменить два экземпляра параметра Пажемедиасизе для Letter, чтобы включить ориентацию подачи бумаги.</span><span class="sxs-lookup"><span data-stu-id="e33fa-139">Assuming that you do not wish to introduce a new feed direction Feature to expose this degree of freedom, you can instead modify the two PageMediaSize Option instances for Letter to incorporate the paper feed orientation.</span></span> <span data-ttu-id="e33fa-140">Для этих двух экземпляров параметров букв Начните с экземпляра стандартного параметра Пажемедиасизе и добавьте новый элемент Скоредпроперти для представления Фиддиректион.</span><span class="sxs-lookup"><span data-stu-id="e33fa-140">For these two Letter Option instances, start with the standard PageMediaSize Option instance and add a new ScoredProperty element to represent the FeedDirection.</span></span> <span data-ttu-id="e33fa-141">В одном экземпляре параметра задайте для параметра Фиддиректион Скоредпроперти значение Лонжеджефирст. в другом экземпляре параметра задайте для Фиддиректион значение Шортеджефирст.</span><span class="sxs-lookup"><span data-stu-id="e33fa-141">In one Option instance, set the FeedDirection ScoredProperty to LongEdgeFirst; in the other Option instance, set FeedDirection to ShortEdgeFirst.</span></span> <span data-ttu-id="e33fa-142">Обратите внимание, что эти новые экземпляры параметров поддерживают их переносимость.</span><span class="sxs-lookup"><span data-stu-id="e33fa-142">Notice that these new Option instances maintain their portability.</span></span> <span data-ttu-id="e33fa-143">Если параметр представляет букву, Шортеджефирст сохраняется в PrintTicket, а для отображения задания выбрано другое устройство, поддерживающее только стандарт Letter, код сопоставления параметров может быстро определить, что стандартная буква параметра лучше всего соответствует букве параметра, Шортеджефирст.</span><span class="sxs-lookup"><span data-stu-id="e33fa-143">If the Option representing Letter, ShortEdgeFirst is saved to a PrintTicket and a different device that supports only the Letter standard Option is selected to render the Job, the Option-matching code can quickly determine that the standard Option Letter is the best match to the Option Letter, ShortEdgeFirst.</span></span> <span data-ttu-id="e33fa-144">Причина, по которой это лучшее соответствие, заключается в том, что все экземпляры Скоредпроперти согласуются с исключением Фиддиректион Скоредпроперти, которое не существует в стандарте Letter.</span><span class="sxs-lookup"><span data-stu-id="e33fa-144">The reason that this is the best match is that all of the ScoredProperty instances agree, with the exception of the FeedDirection ScoredProperty, which does not exist in the Letter standard Option.</span></span>

<span data-ttu-id="e33fa-145">Вы также можете столкнуться с ситуациями, когда изменения в параметре фактически изменяют значение настолько, что измененный параметр больше не может рассматриваться как специализированный случай исходного.</span><span class="sxs-lookup"><span data-stu-id="e33fa-145">You might also encounter cases where the modifications to the Option actually change the meaning so much that the modified Option can no longer be considered a specialized case of the original.</span></span> <span data-ttu-id="e33fa-146">В таких случаях следует изменить имя параметра, чтобы отразить разницу между измененным экземпляром параметра и неизмененным.</span><span class="sxs-lookup"><span data-stu-id="e33fa-146">In such cases, you should change the name of the Option to reflect the difference between the modified Option instance and the unmodified one.</span></span> <span data-ttu-id="e33fa-147">Только автор документа PrintCapabilities для конкретного устройства может определить, отличается ли параметр, предлагаемый устройством, от стандартного экземпляра параметра, чтобы гарантировать несовместимое определение.</span><span class="sxs-lookup"><span data-stu-id="e33fa-147">Only the author of the PrintCapabilities document for a particular device can decide whether the Option offered by the device differs sufficiently from a standard Option instance to warrant an incompatible definition.</span></span>

<span data-ttu-id="e33fa-148">Теперь рассмотрим случай, когда устройство имеет атрибут конфигурации устройства, который не соответствует ни одному из стандартных экземпляров компонента.</span><span class="sxs-lookup"><span data-stu-id="e33fa-148">Now consider the case where your device has a device configuration attribute that does not correspond to any of the standard Feature instances.</span></span> <span data-ttu-id="e33fa-149">В этом случае нельзя использовать стандартные экземпляры параметров для предоставления списка общих элементов Скоредпроперти.</span><span class="sxs-lookup"><span data-stu-id="e33fa-149">In this case you cannot rely on the standard Option instances to provide the list of ScoredProperty elements in common.</span></span> <span data-ttu-id="e33fa-150">При создании экземпляра Скоредпроперти основная цель состоит в том, чтобы отличить каждый вариант от других в функции и описать, почему пользователь выбирает один вариант для другого.</span><span class="sxs-lookup"><span data-stu-id="e33fa-150">When you create a ScoredProperty instance, your main objective is to differentiate each Option from the others in the Feature, and describe why a user would select one Option over another.</span></span> <span data-ttu-id="e33fa-151">Базовая оценка заключается в определении каждого параметра с уникальным атрибутом имени, а Скоредпроперти, содержащий атрибут Name, становится тем, который используется для определения элементов в общем.</span><span class="sxs-lookup"><span data-stu-id="e33fa-151">The baseline is to characterize each Option with a unique name attribute, and the ScoredProperty that holds the name attribute becomes the one used for determining elements in common.</span></span>

<span data-ttu-id="e33fa-152">После того как был установлен набор элементов Скоредпроперти, достаточно просто назначить соответствующие значения каждому Скоредпроперти для создания каждого параметра.</span><span class="sxs-lookup"><span data-stu-id="e33fa-152">After a set of ScoredProperty elements in common has been established, it is a simple matter to assign appropriate values to each ScoredProperty to create each Option.</span></span> <span data-ttu-id="e33fa-153">Как и в предыдущем примере, для некоторых экземпляров параметров может потребоваться добавить дополнительные экземпляры Скоредпроперти или удалить некоторые из общих элементов, чтобы создать соответствующий экземпляр параметра.</span><span class="sxs-lookup"><span data-stu-id="e33fa-153">As in the previous example, for certain Option instances, you might need to add additional ScoredProperty instances or delete some of the elements in common to create an appropriate Option instance.</span></span>

<span data-ttu-id="e33fa-154">Следует отметить, что схема печати требует, чтобы набор экземпляров Скоредпроперти, их расположения и значения, назначенные каждому Скоредпроперти в параметре, оставались постоянными независимо от конфигурации.</span><span class="sxs-lookup"><span data-stu-id="e33fa-154">It should be noted that the Print Schema requires that the set of ScoredProperty instances, their locations, and the values assigned to each ScoredProperty in an Option must remain constant, independent of the configuration.</span></span> <span data-ttu-id="e33fa-155">Вся концепция схемы печати зависит от экземпляров параметров, имеющих фиксированные, идентифицируемые свойства и экземпляры Скоредпроперти, которые являются общими для многих устройств.</span><span class="sxs-lookup"><span data-stu-id="e33fa-155">The entire concept of the Print Schema relies on Option instances having fixed, identifiable Property and ScoredProperty instances that are shared across many devices.</span></span>

## <a name="related-topics"></a><span data-ttu-id="e33fa-156">См. также</span><span class="sxs-lookup"><span data-stu-id="e33fa-156">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="e33fa-157">Печать спецификации схемы</span><span class="sxs-lookup"><span data-stu-id="e33fa-157">Print Schema Specification</span></span>](https://download.microsoft.com/download/D/E/C/DECA6E6B-3E81-48E7-B7EF-6D92A547D03C/print-schema-spec-2-0.zip)
</dt> </dl>

 

 



