---
description: Основным компонентом интерфейса печати является диспетчер очереди печати.
ms.assetid: 36ffb001-78e2-4fa0-8241-3891493ac02d
title: Очередь печати принтера
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 4dfcc6ea2e46c06b5e51032a4c43f46df7f07c04
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "104545591"
---
# <a name="print-spooler"></a><span data-ttu-id="28ecb-103">Очередь печати принтера</span><span class="sxs-lookup"><span data-stu-id="28ecb-103">Print Spooler</span></span>

<span data-ttu-id="28ecb-104">Основным компонентом интерфейса печати является диспетчер очереди печати.</span><span class="sxs-lookup"><span data-stu-id="28ecb-104">The primary component of the printing interface is the print spooler.</span></span> <span data-ttu-id="28ecb-105">Диспетчер очереди печати — это исполняемый файл, управляющий процессом печати.</span><span class="sxs-lookup"><span data-stu-id="28ecb-105">The print spooler is an executable file that manages the printing process.</span></span> <span data-ttu-id="28ecb-106">Управление печатью предполагает получение расположения правильного драйвера принтера, загрузку этого драйвера, буферизацию вызовов функций высокого уровня в задание печати, планирование печати задания печати и т. д.</span><span class="sxs-lookup"><span data-stu-id="28ecb-106">Management of printing involves retrieving the location of the correct printer driver, loading that driver, spooling high-level function calls into a print job, scheduling the print job for printing, and so on.</span></span> <span data-ttu-id="28ecb-107">Диспетчер очереди загрузки загружается при запуске системы и продолжит работу, пока операционная система не завершит работу.</span><span class="sxs-lookup"><span data-stu-id="28ecb-107">The spooler is loaded at system startup and continues to run until the operating system is shut down.</span></span>

<span data-ttu-id="28ecb-108">Приложения, которые выводят на печать, создают контекст устройства печати (DC).</span><span class="sxs-lookup"><span data-stu-id="28ecb-108">Applications that print create a printer device context (DC).</span></span> <span data-ttu-id="28ecb-109">Когда приложение создает контроллер домена, диспетчер очереди задач выполняет необходимые задачи, такие как определение расположения требуемого драйвера принтера, а затем его загрузка.</span><span class="sxs-lookup"><span data-stu-id="28ecb-109">When an application creates a printer DC, the spooler performs necessary tasks such as determining the location of the required printer driver and then loading that driver.</span></span> <span data-ttu-id="28ecb-110">Диспетчер очереди печати также определяет тип данных, используемый для записи задания печати.</span><span class="sxs-lookup"><span data-stu-id="28ecb-110">The print spooler also determines the data type used to record the print job.</span></span>

<span data-ttu-id="28ecb-111">Диспетчер очереди печати поддерживает следующие типы данных:</span><span class="sxs-lookup"><span data-stu-id="28ecb-111">The print spooler supports the following data types:</span></span>

-   <span data-ttu-id="28ecb-112">Расширенный метафайл (EMF).</span><span class="sxs-lookup"><span data-stu-id="28ecb-112">Enhanced metafile (EMF).</span></span>
-   <span data-ttu-id="28ecb-113">Текст ASCII.</span><span class="sxs-lookup"><span data-stu-id="28ecb-113">ASCII text.</span></span>
-   <span data-ttu-id="28ecb-114">Необработанные данные, включающие такие типы данных принтеров, как PostScript, PCL и пользовательские типы данных.</span><span class="sxs-lookup"><span data-stu-id="28ecb-114">Raw data, which includes printer data types such as PostScript, PCL, and custom data types.</span></span>

<span data-ttu-id="28ecb-115">Пользовательские типы данных можно добавить в Диспетчер очереди, установив дополнительные драйверы принтера и обработчики печати.</span><span class="sxs-lookup"><span data-stu-id="28ecb-115">Custom data types can be added to the spooler by installing additional printer drivers and print processors.</span></span> <span data-ttu-id="28ecb-116">Задание печати — это документ, хранящийся внутренним образом и закодированный с помощью одного из поддерживаемых типов данных, а задание печати может содержать одну или несколько страниц вывода.</span><span class="sxs-lookup"><span data-stu-id="28ecb-116">A print job is a document stored internally and encoded by using one of the supported data types, and a print job may contain one or more pages of output.</span></span> <span data-ttu-id="28ecb-117">Задание печати может состоять из нескольких форм. Например, задание может состоять из одного конверта и трех страниц бумаги формата A4.</span><span class="sxs-lookup"><span data-stu-id="28ecb-117">The print job may consist of multiple forms; for example, a job may consist of one envelope and three pages of A4 paper.</span></span> <span data-ttu-id="28ecb-118">Задание печати определяется (или задается в квадратных скобках) функциями [**стартдок**](/windows/desktop/api/Wingdi/nf-wingdi-startdoca) и [**енддок**](/windows/desktop/api/Wingdi/nf-wingdi-enddoc) .</span><span class="sxs-lookup"><span data-stu-id="28ecb-118">A print job is defined (or bracketed) by the [**StartDoc**](/windows/desktop/api/Wingdi/nf-wingdi-startdoca) and [**EndDoc**](/windows/desktop/api/Wingdi/nf-wingdi-enddoc) functions.</span></span>

<span data-ttu-id="28ecb-119">Тип данных по умолчанию для задания печати — это расширенный метафайл.</span><span class="sxs-lookup"><span data-stu-id="28ecb-119">The default data type for a print job is the enhanced metafile.</span></span> <span data-ttu-id="28ecb-120">Запись EMF — это компактная структура, используемая для хранения команд вывода текста, команд растровой графики и т. д.</span><span class="sxs-lookup"><span data-stu-id="28ecb-120">An EMF record is a compact structure used to store text output commands, raster graphics commands, and so on.</span></span> <span data-ttu-id="28ecb-121">Когда приложение вызывает [**стартдок**](/windows/desktop/api/Wingdi/nf-wingdi-startdoca), диспетчер очереди сообщений создает файл очереди и файл данных и начинает хранить записи EMF в файле очереди.</span><span class="sxs-lookup"><span data-stu-id="28ecb-121">When an application calls [**StartDoc**](/windows/desktop/api/Wingdi/nf-wingdi-startdoca), the spooler creates a spool file and a data file and begins storing EMF records in the spool file.</span></span> <span data-ttu-id="28ecb-122">Каждый раз, когда приложение вызывает одну из функций рисования GDI, создается одна или несколько новых записей EMF, которые сохраняются в файле очереди.</span><span class="sxs-lookup"><span data-stu-id="28ecb-122">Each time the application calls one of the GDI drawing functions, one or more new EMF records are created and stored in the spool file.</span></span> <span data-ttu-id="28ecb-123">Файлы очереди и данных создаются в каталоге операционной системы.</span><span class="sxs-lookup"><span data-stu-id="28ecb-123">The spool and data files are created in an operating system directory.</span></span> <span data-ttu-id="28ecb-124">Диспетчер очереди печати использует файл очереди для хранения записей EMF и использует файл данных для записи типа формы, типа данных для задания печати, целевого принтера и т. д.</span><span class="sxs-lookup"><span data-stu-id="28ecb-124">The spooler uses the spool file to store EMF records and uses the data file to record the type of form, the data type for the print job, the target printer, and so on.</span></span> <span data-ttu-id="28ecb-125">После успешной печати задания Диспетчер очереди печати удаляет эти файлы.</span><span class="sxs-lookup"><span data-stu-id="28ecb-125">The spooler deletes these files when the job has successfully printed.</span></span>

## <a name="related-topics"></a><span data-ttu-id="28ecb-126">См. также</span><span class="sxs-lookup"><span data-stu-id="28ecb-126">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="28ecb-127">Метафайлы с улучшенными форматами</span><span class="sxs-lookup"><span data-stu-id="28ecb-127">Enhanced-Format Metafiles</span></span>](/windows/desktop/gdi/enhanced-format-metafiles)
</dt> </dl>

 

 
