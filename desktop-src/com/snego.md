---
title: снего
description: Снего, идентификатор службы проверки подлинности которого — RPC \_ C \_ AUTHN \_ GSS \_ Negotiate, фактически не предоставляет службы проверки подлинности.
ms.assetid: 2087a84c-d302-4511-9f02-2d20ee9e0d8e
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 676b6428d6b7e79893214c2d234dcfc43992e190
ms.sourcegitcommit: 5f33645661bf8c825a7a2e73950b1f4ea0f1cd82
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/21/2020
ms.locfileid: "104413805"
---
# <a name="snego"></a><span data-ttu-id="7a6f3-103">снего</span><span class="sxs-lookup"><span data-stu-id="7a6f3-103">Snego</span></span>

<span data-ttu-id="7a6f3-104">Снего, идентификатор службы проверки подлинности которого — RPC \_ C \_ AUTHN \_ GSS \_ Negotiate, фактически не предоставляет службы проверки подлинности.</span><span class="sxs-lookup"><span data-stu-id="7a6f3-104">Snego, whose authentication service identifier is RPC\_C\_AUTHN\_GSS\_NEGOTIATE, does not actually provide authentication services itself.</span></span> <span data-ttu-id="7a6f3-105">Вместо этого он получает список служб проверки подлинности и согласовывает службу, которая будет работать между клиентом и сервером.</span><span class="sxs-lookup"><span data-stu-id="7a6f3-105">Instead, it takes a list of authentication services and negotiates a service that will work between the client and server.</span></span> <span data-ttu-id="7a6f3-106">Параметры проверки подлинности не используются снего, но передаются в выбранную службу проверки подлинности, которая выполняет фактическую проверку подлинности.</span><span class="sxs-lookup"><span data-stu-id="7a6f3-106">The authentication parameters are not used by Snego but are passed to the chosen authentication service, which does the actual authentication.</span></span> <span data-ttu-id="7a6f3-107">Снего был стандартизован в стандарте Internet Engineering Task Force (IETF) в декабре 1998 в документе [RFC 2478](https://www.ietf.org/rfc/rfc2478.txt).</span><span class="sxs-lookup"><span data-stu-id="7a6f3-107">Snego was standardized by the Internet Engineering Task Force (IETF) in December 1998, in document [RFC 2478](https://www.ietf.org/rfc/rfc2478.txt).</span></span>

<span data-ttu-id="7a6f3-108">Снего полезен, если неизвестно, какие службы проверки подлинности может предоставить удаленный компьютер.</span><span class="sxs-lookup"><span data-stu-id="7a6f3-108">Snego is useful when you don't know what authentication services the remote computer can provide.</span></span>

<span data-ttu-id="7a6f3-109">Чтобы использовать снего, как клиент, так и сервер должны указать снего в качестве службы проверки подлинности.</span><span class="sxs-lookup"><span data-stu-id="7a6f3-109">To use Snego, both the client and the server must specify Snego as the authentication service.</span></span> <span data-ttu-id="7a6f3-110">Сервер указывает, \_ что RPC C \_ AUTHN \_ GSS \_ согласовывается как член **двауснсвк** одной из структур [**\_ \_ службы проверки подлинности**](/windows/win32/api/objidlbase/ns-objidlbase-sole_authentication_service) в параметре массива *асауссвк* , который передается [**CoInitializeSecurity**](/windows/desktop/api/combaseapi/nf-combaseapi-coinitializesecurity).</span><span class="sxs-lookup"><span data-stu-id="7a6f3-110">The server specifies RPC\_C\_AUTHN\_GSS\_NEGOTIATE as the **dwAuthnSvc** member of one of the [**SOLE\_AUTHENTICATION\_SERVICE**](/windows/win32/api/objidlbase/ns-objidlbase-sole_authentication_service) structures in the *asAuthSvc* array parameter that is passed to [**CoInitializeSecurity**](/windows/desktop/api/combaseapi/nf-combaseapi-coinitializesecurity).</span></span> <span data-ttu-id="7a6f3-111">Клиент может указать снего путем вызова [**CoSetProxyBlanket**](/windows/desktop/api/combaseapi/nf-combaseapi-cosetproxyblanket) и передачи RPC \_ C \_ AUTHN \_ GSS \_ для согласования в качестве параметра *двауснсвк* .</span><span class="sxs-lookup"><span data-stu-id="7a6f3-111">The client can specify Snego by calling [**CoSetProxyBlanket**](/windows/desktop/api/combaseapi/nf-combaseapi-cosetproxyblanket) and passing RPC\_C\_AUTHN\_GSS\_NEGOTIATE as the *dwAuthnSvc* parameter.</span></span> <span data-ttu-id="7a6f3-112">Клиент должен также предоставить список возможных служб проверки подлинности для снего с помощью члена **паккажелист** в [**секунду с \_ \_ \_ удостоверением проверки \_**](/windows/desktop/api/sspi/ns-sspi-_sec_winnt_auth_identity_exa) подлинности WinNT, который передается в параметр *паусинфо* при вызове метода **CoSetProxyBlanket**.</span><span class="sxs-lookup"><span data-stu-id="7a6f3-112">The client should also provide a list of possible authentication services for Snego through the **PackageList** member of the [**SEC\_WINNT\_AUTH\_IDENTITY\_EX**](/windows/desktop/api/sspi/ns-sspi-_sec_winnt_auth_identity_exa) structure that is passed to the *pAuthInfo* parameter in the call to **CoSetProxyBlanket**.</span></span> <span data-ttu-id="7a6f3-113">Если *паусинфо* имеет **значение NULL**, снего формирует список служб проверки подлинности из пакетов безопасности, установленных на компьютере.</span><span class="sxs-lookup"><span data-stu-id="7a6f3-113">If *pAuthInfo* is **NULL**, Snego composes a list of authentication services from the security packages installed on the computer.</span></span> <span data-ttu-id="7a6f3-114">Затем снего отправляет список служб проверки подлинности на сервер, сравнивает список с доступными службами проверки подлинности сервера и выбирает службу проверки подлинности, которая будет использоваться для подключения.</span><span class="sxs-lookup"><span data-stu-id="7a6f3-114">Then Snego sends the list of authentication services to the server, compares the list to the server's available authentication services, and picks an authentication service to use for the connection.</span></span>

> [!Note]  
> <span data-ttu-id="7a6f3-115">SChannel не может быть в списке служб проверки подлинности, используемых снего.</span><span class="sxs-lookup"><span data-stu-id="7a6f3-115">Schannel cannot be on the list of authentication services that Snego uses.</span></span>

 

<span data-ttu-id="7a6f3-116">Клиенты также могут указать снего при вызове [**CoInitializeSecurity**](/windows/desktop/api/combaseapi/nf-combaseapi-coinitializesecurity).</span><span class="sxs-lookup"><span data-stu-id="7a6f3-116">Clients can also specify Snego when they call [**CoInitializeSecurity**](/windows/desktop/api/combaseapi/nf-combaseapi-coinitializesecurity).</span></span> <span data-ttu-id="7a6f3-117">Параметры *двауснсвк* и *паусинфо* [**CoSetProxyBlanket**](/windows/desktop/api/combaseapi/nf-combaseapi-cosetproxyblanket) становятся членами [**единственной структуры \_ \_ сведений о проверке подлинности**](/windows/win32/api/objidlbase/ns-objidlbase-sole_authentication_info) , которая передается **CoInitializeSecurity** через его параметр *пауслист* .</span><span class="sxs-lookup"><span data-stu-id="7a6f3-117">The *dwAuthnSvc* and *pAuthInfo* parameters of [**CoSetProxyBlanket**](/windows/desktop/api/combaseapi/nf-combaseapi-cosetproxyblanket) become members of a [**SOLE\_AUTHENTICATION\_INFO**](/windows/win32/api/objidlbase/ns-objidlbase-sole_authentication_info) structure that is passed to **CoInitializeSecurity** through its *pAuthList* parameter.</span></span> <span data-ttu-id="7a6f3-118">Сведения о значениях этих элементов одинаковы, как описано в предыдущем абзаце.</span><span class="sxs-lookup"><span data-stu-id="7a6f3-118">The details of the values of those members are the same as described in the preceding paragraph.</span></span>

<span data-ttu-id="7a6f3-119">Если используется снего, вызовы метода [**кокуерипроксибланкет**](/windows/desktop/api/combaseapi/nf-combaseapi-coqueryproxyblanket) или [**кокуериклиентбланкет**](/windows/desktop/api/combaseapi/nf-combaseapi-coqueryclientblanket) будут возвращать снего в качестве службы проверки подлинности, а не действующей службы проверки подлинности, которая снего выбрана для установления соединения.</span><span class="sxs-lookup"><span data-stu-id="7a6f3-119">If Snego is used, calls to [**CoQueryProxyBlanket**](/windows/desktop/api/combaseapi/nf-combaseapi-coqueryproxyblanket) or [**CoQueryClientBlanket**](/windows/desktop/api/combaseapi/nf-combaseapi-coqueryclientblanket) will return Snego as the authentication service, rather than the actual authentication service that Snego picked for establishing the connection.</span></span>

## <a name="related-topics"></a><span data-ttu-id="7a6f3-120">См. также</span><span class="sxs-lookup"><span data-stu-id="7a6f3-120">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="7a6f3-121">Пакеты безопасности и COM</span><span class="sxs-lookup"><span data-stu-id="7a6f3-121">COM and Security Packages</span></span>](com-and-security-packages.md)
</dt> </dl>

 

 