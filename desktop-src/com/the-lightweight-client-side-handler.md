---
title: Упрощенный обработчик Client-Side
description: Упрощенные клиентские обработчики позволяют создавать общие обработчики на стороне клиента любого размера, что помогает выполнять стандартные задачи любого рода.
ms.assetid: b712237c-55d7-4f52-9cf6-19c6e5fb3182
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 5f1e8df5be24e8773a660a4d0208b27a2f585e32
ms.sourcegitcommit: 5f33645661bf8c825a7a2e73950b1f4ea0f1cd82
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/21/2020
ms.locfileid: "103794053"
---
# <a name="the-lightweight-client-side-handler"></a>Упрощенный обработчик Client-Side

Упрощенные клиентские обработчики позволяют создавать общие обработчики на стороне клиента любого размера, что помогает выполнять стандартные задачи любого рода. Как обработчики, они могут использоваться более чем одним клиентом. Они отличаются от обработчиков OLE тем, что они не могут быть созданы до запуска сервера, и их время существования связано с диспетчером прокси-сервера, предотвращая возможное состояние гонки, при котором обработчик может быть преждевременно освобожден.

Диспетчер прокси-сервера — это созданный системой объект, реализующий интерфейс [**IMarshal**](/windows/win32/api/objidlbase/nn-objidlbase-imarshal) . При использовании стандартного маршалирования система создает ее для вас при вызове [**кожетстандардмаршал**](/windows/desktop/api/combaseapi/nf-combaseapi-cogetstandardmarshal) (или [**кожетстдмаршалекс**](/windows/desktop/api/combaseapi/nf-combaseapi-cogetstdmarshalex)для создания агрегированного маршалером для упрощенных обработчиков), а также реализует интерфейсы [**иклиентсекурити**](/windows/desktop/api/ObjIdl/nn-objidl-iclientsecurity) и [**имултики**](/windows/win32/api/objidlbase/nn-objidlbase-imultiqi) для объекта. На стороне сервера имеется соответствующий системный объект, который также реализует **IMarshal**. Эти объекты прозрачно обрабатывали упаковку.

Существует два общих типа этих обработчиков, которые, возможно, потребуется реализовать:

-   Обработчик, который выполняет службу, не требующую дополнительных данных от сервера
-   Обработчик, использующий дополнительные данные с сервера

Ниже приведены некоторые возможные варианты использования дополнительных данных в потоке, предоставляемом сервером.

-   Статические данные с сервера. Независимо от конкретного интерфейса, сервер записывает одни и те же данные в поток.
-   Данные для каждого интерфейса с сервера. В зависимости от того, какой именно интерфейс маршалируется, сервер может записывать в поток различные данные.
-   Вспомогательные функции для каждого интерфейса. Компоненты COM для каждого интерфейса, Объединенные в клиентский обработчик и делегирующие стандартному прокси-серверу. Например, чтобы повысить производительность сети, COM-компонент для [**IStream**](/windows/desktop/api/objidl/nn-objidl-istream) может выполнять кэширование данных на стороне клиента, упреждающее чтение, запись за пределы операций, блокировку по операциям и т. д.
-   Сетевая версия интерфейса. Сетевая версия интерфейса отличается от интерфейса, предоставляемого кодом серверного приложения клиента и сервера. Это можно, например, для мультиплексирования предоставляемых интерфейсов IA и геоинетаб с одним и тем же сетевым интерфейсом, как это делает обработчик сервера внедрения. Например, можно преобразовать интерфейс обмена данными в сетевой интерфейс, который использует каналы для эффективного обмена данными.

Клиенты нижнего уровня могут не иметь возможности распаковки интерфейсов с пользовательскими обработчиками по двум причинам: во-первых, они могут не понимать CLSID, используемый в настраиваемом упакованном пакете, когда обработчик сервера является статистическим, и объект требует обработчика. Во-вторых, код обработчика может даже не выполняться на стороне клиента, если для создания агрегированного стандартного модуля упаковки и выполнения удаленных вызовов [**QueryInterface**](/windows/desktop/api/Unknwn/nf-unknwn-iunknown-queryinterface(q)) требуется новая функция com.

## <a name="related-topics"></a>См. также

<dl> <dt>

[Обработчик OLE](the-ole-handler.md)
</dt> </dl>

 

 