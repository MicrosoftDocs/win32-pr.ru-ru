---
title: Настройка безопасности Process-Wide с помощью DCOMCNFG
description: Может потребоваться включить безопасность для конкретного приложения, если приложение имеет требования к безопасности, отличные от тех, которые необходимы другим приложениям на компьютере.
ms.assetid: 04a7f688-78a3-490a-bcfa-862824a05422
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 03174dd66e83a88724ff5d421d7b0dcb0c17699e
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/16/2019
ms.locfileid: "104332779"
---
# <a name="setting-process-wide-security-using-dcomcnfg"></a>Настройка безопасности Process-Wide с помощью DCOMCNFG

Может потребоваться включить безопасность для конкретного приложения, если приложение имеет требования к безопасности, отличные от тех, которые необходимы другим приложениям на компьютере. Например, вы можете использовать параметры на уровне системы для приложений, которым требуется низкий уровень безопасности, при установке более высокого уровня безопасности для конкретного приложения.

Однако параметры безопасности в реестре, применимые к конкретному приложению, иногда не используются. Например, параметры уровня процесса, заданные в реестре с помощью Dcomcnfg.exe, будут переопределены, если клиент вызывает [**CoSetProxyBlanket**](/windows/desktop/api/combaseapi/nf-combaseapi-cosetproxyblanket) , чтобы настроить безопасность для определенного прокси интерфейса. Аналогично, если клиент или сервер (или оба) вызывают [**CoInitializeSecurity**](/windows/desktop/api/combaseapi/nf-combaseapi-coinitializesecurity) для настройки безопасности процесса, параметры в реестре будут игнорироваться, а вместо них будут использоваться параметры, заданные в **CoInitializeSecurity** .

При включении безопасности для приложения может потребоваться изменить несколько параметров. К ним относятся уровень проверки подлинности, расположение, разрешения на запуск, разрешения на доступ и удостоверение. Пошаговые инструкции см. в следующих статьях:

-   [Установка уровня проверки подлинности для приложения](#setting-the-authentication-level-for-an-application)
-   [Задание расположения для приложения](#setting-the-location-for-an-application)
-   [Настройка разрешений на запуск приложения](#setting-launch-permissions-for-an-application)
-   [Настройка разрешений доступа для приложения](#setting-access-permissions-for-an-application)
-   [Настройка удостоверения для приложения](#setting-the-identity-for-an-application)
-   [Просмотр пользовательской базы данных](#browsing-the-user-database)
-   [Dcomcnfg.exe и 64-разрядные приложения](#dcomcnfgexe-and-64-bit-applications)
-   [См. также](#related-topics)

## <a name="setting-the-authentication-level-for-an-application"></a>Установка уровня проверки подлинности для приложения

Чтобы включить безопасность для приложения, необходимо установить уровень проверки подлинности, отличный от None. Уровень проверки подлинности сообщает COM, какой объем защиты требуется для проверки подлинности, и может варьироваться от проверки подлинности клиента при первом вызове метода для полного шифрования состояний параметров.

**Задание уровня проверки подлинности приложения**

1.  На странице свойств **приложения** в Dcomcnfg.exe выберите приложение и нажмите кнопку **свойства** (или дважды щелкните выбранное приложение).

2.  На странице **Общие** выберите уровень проверки подлинности, отличный от **(нет)** , в списке **уровень проверки подлинности** .

3.  Если для этого приложения будут заданы другие свойства, нажмите кнопку **Применить** , чтобы применить новый уровень проверки подлинности. Нажмите кнопку **ОК** , если вы закончите настройку свойств для этого приложения и хотите применить изменения.

## <a name="setting-the-location-for-an-application"></a>Задание расположения для приложения

Расположение, заданное для приложения, определяет компьютер, на котором будет выполняться приложение. Можно выбрать Запуск приложения на компьютере, где находятся данные, на компьютере, на котором выполняется задание расположения, или на указанном компьютере.

**Задание расположения приложения**

1.  В Dcomcnfg.exe работает выберите приложение на странице **приложения** и нажмите кнопку **свойства** (или дважды щелкните выбранное приложение).

2.  На странице **Расположение** выберите один или несколько флажков, соответствующих расположениям, в которых должно выполняться приложение. Если выбрать более одного флажка, COM использует первый из них, который применяется. Если Dcomcnfg.exe выполняется на компьютере сервера, всегда выбирайте **запустить приложение на этом компьютере**.

3.  Если для этого приложения будут заданы другие свойства, нажмите кнопку **Применить** , чтобы применить новое расположение. Нажмите кнопку **ОК** , если вы закончите настройку свойств для этого приложения и хотите применить изменения.

## <a name="setting-launch-permissions-for-an-application"></a>Настройка разрешений на запуск приложения

С помощью Dcomcnfg.exe можно задать разрешения на запуск, чтобы управлять списком пользователей, которым предоставлены или запрещены разрешения на запуск определенного сервера. В список можно добавить пользователей или группы, указав, будет ли разрешение на доступ предоставлено или запрещено. Вы также можете удалить пользователей из списка.

**Задание разрешений на запуск для приложения**

1.  В Dcomcnfg.exe работает выберите приложение на странице **приложения** и нажмите кнопку **свойства** (или дважды щелкните выбранное приложение).

2.  На странице свойств **Безопасность** выберите параметр **использовать пользовательские разрешения на запуск** и нажмите кнопку **изменить** в той же области.

3.  Чтобы удалить пользователей или группы, выберите пользователя или группу, которые нужно удалить, и нажмите кнопку **Удалить** . Выбранный пользователь или группа больше не будут отображаться в списке. Завершив удаление пользователей и групп, нажмите кнопку **ОК**.

4.  Если вы хотите добавить пользователей или группы, нажмите кнопку **Добавить** .

5.  Если известно полное имя пользователя, которое вы хотите добавить, введите его в текстовом поле **Добавить имена** . Если вы не знакомы с именем пользователя, можно просмотреть пользовательскую базу данных, чтобы найти ее (см. раздел Просмотр пользовательской базы данных ниже). После обнаружения имени пользователя выберите пользователя или группу в списке **имена** и нажмите кнопку **Добавить** .

6.  В поле **тип списка доступа** выберите тип доступа ( **Разрешить запуск** или **запретить запуск**). Чтобы добавить других пользователей, которые будут иметь выбранный тип доступа, повторите шаг 5. Завершив добавление пользователей для выбранного типа доступа, нажмите кнопку **ОК** .

7.  Чтобы добавить пользователей, которые будут иметь другой тип доступа, повторите шаги 5 и 6. В противном случае нажмите кнопку **ОК** , чтобы применить изменения.

## <a name="setting-access-permissions-for-an-application"></a>Настройка разрешений доступа для приложения

С помощью Dcomcnfg.exe можно управлять списком пользователей, которым предоставлен или запрещен доступ к методам определенного сервера путем установки разрешений на доступ. В список можно добавить пользователей или группы, указав, будет ли разрешение на доступ предоставлено или запрещено. Вы также можете удалить пользователей из списка.

При настройке разрешений доступа необходимо убедиться, что система включена в список пользователей, которым предоставлен доступ. Если предоставлены разрешения на доступ всем, система включается неявно.

Процесс установки разрешений на доступ к приложению аналогичен настройке разрешений на запуск. Ниже приведены действия.

**Настройка разрешений доступа для приложения**

1.  В Dcomcnfg.exe работает выберите приложение на странице **приложения** и нажмите кнопку **свойства** (или дважды щелкните выбранное приложение).

2.  На странице свойств **Безопасность** выберите параметр **использовать пользовательские разрешения доступа** и нажмите кнопку **изменить** в той же области.

3.  Чтобы удалить пользователей или группы, выберите пользователя или группу, которые нужно удалить, и нажмите кнопку **Удалить** . Выбранный пользователь или группа больше не будут отображаться в списке. Завершив удаление пользователей и групп, нажмите кнопку **ОК**.

4.  Если вы хотите добавить пользователя или группу, нажмите кнопку **Добавить** .

5.  Если известно полное имя пользователя, которое вы хотите добавить, введите его в текстовом поле **Добавить имена** . Если вы не знакомы с именем пользователя, можно просмотреть пользовательскую базу данных, чтобы найти ее. После обнаружения имени пользователя выберите пользователя или группу в списке **имена** и нажмите кнопку **Добавить** .

6.  В поле **тип списка доступа** выберите тип доступа ( **Разрешить доступ** или **запретить доступ**). Чтобы добавить других пользователей, которые будут иметь выбранный тип доступа, повторите шаг 5. Завершив добавление пользователей для выбранного типа доступа, нажмите кнопку **ОК** .

7.  Чтобы добавить пользователей, которые будут иметь другой тип доступа, повторите шаги 5 и 6. В противном случае нажмите кнопку **ОК** , чтобы применить изменения.

## <a name="setting-the-identity-for-an-application"></a>Настройка удостоверения для приложения

Удостоверение приложения — это учетная запись, используемая для запуска приложения. Идентификатором может быть текущий пользователь, выполнивший вход (интерактивный пользователь), учетная запись пользователя клиентского процесса, который запустил сервер, указанный пользователь или служба. Dcomcnfg.exe можно использовать для выбора одного из этих удостоверений для приложения. Дополнительные сведения о выборе удостоверения для приложения см. в разделе [удостоверение приложения](application-identity.md).

**Настройка удостоверения для приложения**

1.  В Dcomcnfg.exe работает выберите приложение на странице **приложения** и нажмите кнопку **свойства** (или дважды щелкните выбранное приложение).

2.  На странице свойство **Identity (удостоверение** ) выберите переключатель для нужного удостоверения. При выборе **этого пользователя** необходимо ввести имя пользователя, пароль и подтверждение пароля.

3.  Если для этого приложения будут заданы другие свойства, нажмите кнопку **Применить** , чтобы применить новое удостоверение. Нажмите кнопку **ОК** , если вы закончите настройку свойств для этого приложения и хотите применить изменения.

## <a name="browsing-the-user-database"></a>Просмотр пользовательской базы данных

Можно просмотреть пользовательскую базу данных в Dcomcnfg.exe, если необходимо найти полное имя пользователя для конкретного пользователя. Например, можно просмотреть пользовательскую базу данных, чтобы найти пользователя, которого нужно добавить для доступа или разрешений на запуск.

**Просмотр пользовательской базы данных**

1.  В списке **список имен из** выберите домен, содержащий пользователя или группу, которых нужно добавить.

2.  Чтобы просмотреть пользователей, принадлежащих к выбранному домену, нажмите кнопку **Показать пользователей** .

3.  Чтобы просмотреть список членов определенной группы, выберите группу в списке **имена** и нажмите кнопку **Показать членов** .

4.  Если вы не можете найти пользователя или группу, которую нужно добавить, нажмите кнопку **поиска** , которая открывает диалоговое окно **Поиск учетной записи** . Выберите домен, который требуется найти (или выберите **Поиск все**), введите имя пользователя, которое нужно найти, и нажмите кнопку **Поиск** .

## <a name="dcomcnfgexe-and-64-bit-applications"></a>Dcomcnfg.exe и 64-разрядные приложения

В операционных системах x64 с Windows XP до Windows Server 2008 64-разрядная версия DCOMCNFG.EXE неправильно настраивает 32-разрядные приложения DCOM для удаленной активации. Это поведение приводит к тому, что компоненты, которые должны быть активированы удаленно, активируются локально. Такое поведение не возникает в Windows 7 и Windows Server 2008 R2 и более поздних версиях.

Для решения этой проблемы необходимо использовать 32-разрядную версию DCOMCNFG. Запустите 32-разрядную версию mmc.exe и загрузите 32-разрядную версию оснастки "службы компонентов" с помощью следующей командной строки.

В. \\ Windows \\ SysWOW64>**MMC комексп. msc/32**

32-разрядная версия служб компонентов правильно регистрирует 32-разрядные приложения DCOM для удаленной активации.

## <a name="related-topics"></a>См. также

<dl> <dt>

[Настройка безопасности Process-Wide](setting-processwide-security.md)
</dt> </dl>

 

 




