---
title: Отключение безопасности активации
description: Отключение безопасности активации
ms.assetid: 3474f8ad-f041-4886-ad39-ff0603c5c69e
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 7da3ebd7cc03d79fc38fbafe3bc652efc3499437
ms.sourcegitcommit: 5f33645661bf8c825a7a2e73950b1f4ea0f1cd82
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/21/2020
ms.locfileid: "104413821"
---
# <a name="turning-off-activation-security"></a>Отключение безопасности активации

Как правило, активация использует параметры безопасности по умолчанию. Тем не менее можно управлять безопасностью активации, указав структуру [**коаусинфо**](/windows/desktop/api/wtypesbase/ns-wtypesbase-coauthinfo) , которая является членом структуры [**косерверинфо**](/windows/win32/api/objidlbase/ns-objidlbase-coserverinfo) , которая передается в функции активации. Если клиент указывает уровень проверки подлинности RPC \_ C \_ AUTHN \_ уровня \_ None в структуре **коаусинфо** , проверка подлинности не выполняется. В противном случае будет предпринята попытка безопасной активации, и в случае сбоя проверки подлинности активация завершится ошибкой.

Если клиент не указал явную структуру [**коаусинфо**](/windows/desktop/api/wtypesbase/ns-wtypesbase-coauthinfo) и вместо этого устанавливает указатель на **null**, com попытается проверить подлинность клиента. Если не удается проверить подлинность клиента, COM проверяет дескриптор безопасности разрешений на запуск, чтобы узнать, есть ли **пустой** список DACL или ACL, позволяющий получить доступ ко всем. Если проверка будет выполнена, сервер будет запущен. Таким образом, даже если клиент не указал структуру **коаусинфо**, небезопасная Активация может быть выполнена, когда сервер допускает ее.

> [!Note]  
> Чтобы разрешить пользователям сети, не прошедшим проверку подлинности, запускать приложение COM, роли приложения должны включать анонимного пользователя. Начиная с Windows Server 2003, анонимный пользователь по умолчанию не включен в группу «все».

 

Почему клиент должен отключить безопасность активации явным образом, даже несмотря на то, что при незащищенной активации в конечном итоге произойдет? Поскольку явное отключение безопасности активации повышает производительность, когда клиенту не нужны или не требуются проверки безопасности.

Чтобы явно отключить безопасность активации, необходимо выполнить следующие действия.

-   Клиент должен указать уровень проверки подлинности RPC \_ C \_ AUTHN \_ уровня \_ None в структуре [**коаусинфо**](/windows/desktop/api/wtypesbase/ns-wtypesbase-coauthinfo) , которая является членом структуры [**косерверинфо**](/windows/win32/api/objidlbase/ns-objidlbase-coserverinfo) , предоставляемой функции активации.
-   Клиент должен указать уровень олицетворения \_ \_ \_ \_ в структуре [**коаусинфо**](/windows/desktop/api/wtypesbase/ns-wtypesbase-coauthinfo) , которая является членом структуры [**косерверинфо**](/windows/win32/api/objidlbase/ns-objidlbase-coserverinfo) , предоставляемой функции активации. Если это значение не передано, сервер RPC S будет \_ \_ \_ недоступен.
-   Сервер должен указать **Everyone** для **разрешений на запуск по умолчанию**. Для выполнения этой задачи рекомендуется использовать Dcomcnfg.exe следующим образом:
    1.  Запустите файл Dcomcnfg.exe.
    2.  На странице **приложения** выберите приложение, представляющее сервер. Нажмите кнопку **Свойства** (или дважды щелкните выбранное приложение).
    3.  На странице свойств **Безопасность** нажмите кнопку **использовать пользовательские разрешения на запуск** .
    4.  Нажмите кнопку **изменить** в области **разрешения на запуск** .
    5.  В диалоговом окне **разрешения для значения реестра** нажмите кнопку **Добавить** .
    6.  Выберите запись для **всех** в списке.
    7.  В поле **тип списка доступа** выберите **Разрешить запуск**.
    8.  Нажмите кнопку **ОК** .

> [!Note]  
> В Windows Server 2003 функция проверки подлинности для системного приложения COM+ включает значение ЕОАК \_ disable \_ AAA. Это значение, которое отключает активацию активации на основе активатора (AAA), используется в вызове [**CoInitializeSecurity**](/windows/desktop/api/combaseapi/nf-combaseapi-coinitializesecurity) при запуске системного приложения. Установка функции проверки подлинности в ЕОАК \_ disable \_ AAA позволяет приложению, работающему под привилегированной учетной записью (например, LocalSystem), предотвратить использование удостоверения для запуска ненадежных компонентов.

 

## <a name="related-topics"></a>См. также

<dl> <dt>

[Отключение безопасности вызовов](turning-off-call-security.md)
</dt> </dl>

 

 