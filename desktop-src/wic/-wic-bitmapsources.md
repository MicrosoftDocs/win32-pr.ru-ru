---
description: В этом разделе рассматриваются источники растровых изображений — основной компонент Windows Imaging Component (WIC), представляющий растровые пикселы изображения.
ms.assetid: cff0c088-ca22-4d55-9cf0-9cbe9803923e
title: Обзор источников точечных рисунков
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 910bfc253798058639b98a1d1beaacec9bd4d1bb
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "104497337"
---
# <a name="bitmap-sources-overview"></a><span data-ttu-id="9e325-103">Обзор источников точечных рисунков</span><span class="sxs-lookup"><span data-stu-id="9e325-103">Bitmap Sources Overview</span></span>

<span data-ttu-id="9e325-104">В этом разделе рассматриваются источники растровых изображений — основной компонент Windows Imaging Component (WIC), представляющий растровые пикселы изображения.</span><span class="sxs-lookup"><span data-stu-id="9e325-104">This topic introduces bitmap sources, a core Windows Imaging Component (WIC) component that represents the bitmap pixels of an image.</span></span>

<span data-ttu-id="9e325-105">В этом разделе содержатся следующие подразделы.</span><span class="sxs-lookup"><span data-stu-id="9e325-105">This topic contains the following sections.</span></span>

-   [<span data-ttu-id="9e325-106">Источники точечных рисунков</span><span class="sxs-lookup"><span data-stu-id="9e325-106">Bitmap Sources</span></span>](#bitmap-sources-overview)
-   [<span data-ttu-id="9e325-107">Кадры точечного рисунка</span><span class="sxs-lookup"><span data-stu-id="9e325-107">Bitmap Frames</span></span>](#bitmap-frames)
-   [<span data-ttu-id="9e325-108">Растровые изображения</span><span class="sxs-lookup"><span data-stu-id="9e325-108">Bitmaps</span></span>](#bitmap-sources-overview)
-   [<span data-ttu-id="9e325-109">Преобразование источников битовой карты</span><span class="sxs-lookup"><span data-stu-id="9e325-109">Transform Bitmap Sources</span></span>](#transform-bitmap-sources)
-   [<span data-ttu-id="9e325-110">Преобразователи контекста формата пикселей и цвета</span><span class="sxs-lookup"><span data-stu-id="9e325-110">Pixel Format and Color Context Converters</span></span>](#pixel-format-and-color-context-converters)
-   [<span data-ttu-id="9e325-111">Рисование источников точечных рисунков</span><span class="sxs-lookup"><span data-stu-id="9e325-111">Drawing Bitmap Sources</span></span>](#drawing-bitmap-sources)
-   [<span data-ttu-id="9e325-112">См. также</span><span class="sxs-lookup"><span data-stu-id="9e325-112">Related topics</span></span>](#related-topics)

## <a name="bitmap-sources"></a><span data-ttu-id="9e325-113">Источники точечных рисунков</span><span class="sxs-lookup"><span data-stu-id="9e325-113">Bitmap Sources</span></span>

<span data-ttu-id="9e325-114">Компонент [**IWICBitmapSource**](/windows/desktop/api/Wincodec/nn-wincodec-iwicbitmapsource) является базовым стандартным блоком WIC и представляет один набор пикселей.</span><span class="sxs-lookup"><span data-stu-id="9e325-114">The [**IWICBitmapSource**](/windows/desktop/api/Wincodec/nn-wincodec-iwicbitmapsource) component is the basic building block of WIC and represents a single set of pixels.</span></span> <span data-ttu-id="9e325-115">Источником точечных рисунков может быть отдельный кадр многокадрового изображения или результат преобразования, выполняемого в источнике точечного рисунка.</span><span class="sxs-lookup"><span data-stu-id="9e325-115">A bitmap source can be an individual frame of a multiframe image, or it can be the result of a transform performed on a bitmap source.</span></span> <span data-ttu-id="9e325-116">Интерфейс **IWICBitmapSource** — это основа многих основных ИНТЕРФЕЙСов WIC, таких как кадр декодера [**IWICBitmapFrameDecode**](/windows/desktop/api/Wincodec/nn-wincodec-iwicbitmapframedecode) и источники точечных рисунков преобразования, такие как [**ивикбитмапфлипротатор**](/windows/desktop/api/Wincodec/nn-wincodec-iwicbitmapfliprotator).</span><span class="sxs-lookup"><span data-stu-id="9e325-116">The **IWICBitmapSource** interface is the base of many of the primary WIC interfaces such as the decoder frame [**IWICBitmapFrameDecode**](/windows/desktop/api/Wincodec/nn-wincodec-iwicbitmapframedecode) and transform bitmap sources such as the [**IWICBitmapFlipRotator**](/windows/desktop/api/Wincodec/nn-wincodec-iwicbitmapfliprotator).</span></span>

<span data-ttu-id="9e325-117">В следующей таблице описаны различные компоненты источника битовой карты, предоставляемые компонентом WIC.</span><span class="sxs-lookup"><span data-stu-id="9e325-117">The following table describes the different bitmap source components provided by WIC.</span></span>



| <span data-ttu-id="9e325-118">Источники точечных рисунков</span><span class="sxs-lookup"><span data-stu-id="9e325-118">Bitmap Sources</span></span>                                                    | <span data-ttu-id="9e325-119">Описание</span><span class="sxs-lookup"><span data-stu-id="9e325-119">Description</span></span>                                                          |
|-------------------------------------------------------------------|----------------------------------------------------------------------|
| [<span data-ttu-id="9e325-120">**IWICBitmapFrameDecode**</span><span class="sxs-lookup"><span data-stu-id="9e325-120">**IWICBitmapFrameDecode**</span></span>](/windows/desktop/api/Wincodec/nn-wincodec-iwicbitmapframedecode) | <span data-ttu-id="9e325-121">Представляет кадр изображения декодера.</span><span class="sxs-lookup"><span data-stu-id="9e325-121">Represents a decoder image frame.</span></span>                                    |
| [<span data-ttu-id="9e325-122">**ивикбитмап**</span><span class="sxs-lookup"><span data-stu-id="9e325-122">**IWICBitmap**</span></span>](/windows/desktop/api/Wincodec/nn-wincodec-iwicbitmap)                       | <span data-ttu-id="9e325-123">Предоставляет записи и представление в памяти для источников битовой карты.</span><span class="sxs-lookup"><span data-stu-id="9e325-123">Provides writability and in-memory representation to bitmap sources.</span></span> |
| [<span data-ttu-id="9e325-124">**ивикбитмапклиппер**</span><span class="sxs-lookup"><span data-stu-id="9e325-124">**IWICBitmapClipper**</span></span>](/windows/desktop/api/Wincodec/nn-wincodec-iwicbitmapclipper)         | <span data-ttu-id="9e325-125">Вырезает исходный точечный рисунок в нужный прямоугольник.</span><span class="sxs-lookup"><span data-stu-id="9e325-125">Clips a bitmap source to a desired rectangle.</span></span>                        |
| [<span data-ttu-id="9e325-126">**ивикбитмапфлипротатор**</span><span class="sxs-lookup"><span data-stu-id="9e325-126">**IWICBitmapFlipRotator**</span></span>](/windows/desktop/api/Wincodec/nn-wincodec-iwicbitmapfliprotator) | <span data-ttu-id="9e325-127">Переворачивает и (или) поворачивает источник точечного рисунка до нужной ориентации.</span><span class="sxs-lookup"><span data-stu-id="9e325-127">Flips and/or rotates a bitmap source to a desired orientation.</span></span>       |
| [<span data-ttu-id="9e325-128">**ивикбитмапскалер**</span><span class="sxs-lookup"><span data-stu-id="9e325-128">**IWICBitmapScaler**</span></span>](/windows/desktop/api/Wincodec/nn-wincodec-iwicbitmapscaler)           | <span data-ttu-id="9e325-129">Масштабирует источник точечного рисунка до нужного размера.</span><span class="sxs-lookup"><span data-stu-id="9e325-129">Scales a bitmap source to a desired size.</span></span>                            |
| [<span data-ttu-id="9e325-130">**ивикколортрансформ**</span><span class="sxs-lookup"><span data-stu-id="9e325-130">**IWICColorTransform**</span></span>](/windows/desktop/api/Wincodec/nn-wincodec-iwiccolortransform)       | <span data-ttu-id="9e325-131">Преобразует цветовой контекст источника точечного рисунка.</span><span class="sxs-lookup"><span data-stu-id="9e325-131">Transforms the color context of a bitmap source.</span></span>                     |
| [<span data-ttu-id="9e325-132">**ивикформатконвертер**</span><span class="sxs-lookup"><span data-stu-id="9e325-132">**IWICFormatConverter**</span></span>](/windows/desktop/api/Wincodec/nn-wincodec-iwicformatconverter)     | <span data-ttu-id="9e325-133">Преобразует формат пикселей исходного растрового изображения.</span><span class="sxs-lookup"><span data-stu-id="9e325-133">Converts the pixel format of a bitmap source.</span></span>                        |



 

## <a name="bitmap-frames"></a><span data-ttu-id="9e325-134">Кадры точечного рисунка</span><span class="sxs-lookup"><span data-stu-id="9e325-134">Bitmap Frames</span></span>

<span data-ttu-id="9e325-135">Наиболее распространенным [**IWICBitmapSource**](/windows/desktop/api/Wincodec/nn-wincodec-iwicbitmapsource) является [**IWICBitmapFrameDecode**](/windows/desktop/api/Wincodec/nn-wincodec-iwicbitmapframedecode).</span><span class="sxs-lookup"><span data-stu-id="9e325-135">The most common [**IWICBitmapSource**](/windows/desktop/api/Wincodec/nn-wincodec-iwicbitmapsource) is the [**IWICBitmapFrameDecode**](/windows/desktop/api/Wincodec/nn-wincodec-iwicbitmapframedecode).</span></span> <span data-ttu-id="9e325-136">Этот интерфейс используется для доступа к реальным данным точечного рисунка формата изображения.</span><span class="sxs-lookup"><span data-stu-id="9e325-136">This interface is used to access the actual bitmap data of an image format.</span></span> <span data-ttu-id="9e325-137">Многие форматы изображений поддерживают только один кадр точечного рисунка, а другие форматы, такие как GIF и TIFF, поддерживают несколько кадров на изображение.</span><span class="sxs-lookup"><span data-stu-id="9e325-137">Many image formats only support a single bitmap frame, while other formats such as GIF and TIFF support multiple frames per image.</span></span>

<span data-ttu-id="9e325-138">Пример получения кадров точечного рисунка из изображения см. в разделе [Получение кадров изображения](https://www.bing.com/search?q=How+to+Retrieve+the+Frames+of+an+Image) .</span><span class="sxs-lookup"><span data-stu-id="9e325-138">For an example on obtaining bitmap frames from an image, see the [How to Retrieve the Frames of an Image](https://www.bing.com/search?q=How+to+Retrieve+the+Frames+of+an+Image) topic.</span></span>

## <a name="bitmaps"></a><span data-ttu-id="9e325-139">Растровые изображения</span><span class="sxs-lookup"><span data-stu-id="9e325-139">Bitmaps</span></span>

<span data-ttu-id="9e325-140">[**Ивикбитмап**](/windows/desktop/api/Wincodec/nn-wincodec-iwicbitmap) добавляет основные понятия записи и статические в памяти источники битовой карты.</span><span class="sxs-lookup"><span data-stu-id="9e325-140">An [**IWICBitmap**](/windows/desktop/api/Wincodec/nn-wincodec-iwicbitmap) adds the concepts of writability and static in-memory to bitmap sources.</span></span> <span data-ttu-id="9e325-141">Растровые изображения WIC позволяют пользователям напрямую обращаться к пикселям источника точечного рисунка.</span><span class="sxs-lookup"><span data-stu-id="9e325-141">WIC bitmaps enables users to directly access the pixels of a bitmap source.</span></span> <span data-ttu-id="9e325-142">Этот прямой доступ предоставляется методом [**Lock**](/windows/desktop/api/Wincodec/nf-wincodec-iwicbitmap-lock) и поддерживает любое сочетание прав на чтение и запись в пикселах растрового изображения.</span><span class="sxs-lookup"><span data-stu-id="9e325-142">This direct access is provided by the [**Lock**](/windows/desktop/api/Wincodec/nf-wincodec-iwicbitmap-lock) method and supports any combination of read and/or write access to the bitmap pixels.</span></span> <span data-ttu-id="9e325-143">Метод **Lock** блокирует указанный прямоугольник точечного рисунка и предоставляет объект [**ивикбитмаплокк**](/windows/desktop/api/Wincodec/nn-wincodec-iwicbitmaplock) для доступа к пикселям.</span><span class="sxs-lookup"><span data-stu-id="9e325-143">**Lock** method locks the specified bitmap rectangle and provides an [**IWICBitmapLock**](/windows/desktop/api/Wincodec/nn-wincodec-iwicbitmaplock) object to access the pixels.</span></span>

<span data-ttu-id="9e325-144">Пример использования объектов [**ивикбитмап**](/windows/desktop/api/Wincodec/nn-wincodec-iwicbitmap) и [**ивикбитмаплокк**](/windows/desktop/api/Wincodec/nn-wincodec-iwicbitmaplock) см. в разделе [Изменение пикселов исходного растрового изображения](-wic-bitmapsources-howto-modifypixels.md) .</span><span class="sxs-lookup"><span data-stu-id="9e325-144">For an example using [**IWICBitmap**](/windows/desktop/api/Wincodec/nn-wincodec-iwicbitmap) and [**IWICBitmapLock**](/windows/desktop/api/Wincodec/nn-wincodec-iwicbitmaplock) objects, see the [How to Modify the Pixels of a Bitmap Source](-wic-bitmapsources-howto-modifypixels.md) topic.</span></span>

## <a name="transform-bitmap-sources"></a><span data-ttu-id="9e325-145">Преобразование источников битовой карты</span><span class="sxs-lookup"><span data-stu-id="9e325-145">Transform Bitmap Sources</span></span>

<span data-ttu-id="9e325-146">Компонент WIC предоставляет несколько интерфейсов [**IWICBitmapSource**](/windows/desktop/api/Wincodec/nn-wincodec-iwicbitmapsource) , которые преобразуют данные пикселей.</span><span class="sxs-lookup"><span data-stu-id="9e325-146">WIC provides several [**IWICBitmapSource**](/windows/desktop/api/Wincodec/nn-wincodec-iwicbitmapsource) interfaces that transform the pixel data.</span></span> <span data-ttu-id="9e325-147">В частности, WIC предоставляет исходные растровые преобразования для масштабирования, обрезки, поворота и зеркального отображения данных пикселей.</span><span class="sxs-lookup"><span data-stu-id="9e325-147">Specifically, WIC provides bitmap source transforms for scaling, clipping, rotating, and flipping pixel data.</span></span> <span data-ttu-id="9e325-148">Эти преобразования источника точечных рисунков — [**ивикбитмапклиппер**](/windows/desktop/api/Wincodec/nn-wincodec-iwicbitmapclipper), [**ивикбитмапскалер**](/windows/desktop/api/Wincodec/nn-wincodec-iwicbitmapscaler)и [**ивикбитмапфлипротатор**](/windows/desktop/api/Wincodec/nn-wincodec-iwicbitmapfliprotator).</span><span class="sxs-lookup"><span data-stu-id="9e325-148">These bitmap source transforms are [**IWICBitmapClipper**](/windows/desktop/api/Wincodec/nn-wincodec-iwicbitmapclipper), [**IWICBitmapScaler**](/windows/desktop/api/Wincodec/nn-wincodec-iwicbitmapscaler), and [**IWICBitmapFlipRotator**](/windows/desktop/api/Wincodec/nn-wincodec-iwicbitmapfliprotator).</span></span> <span data-ttu-id="9e325-149">Каждый из этих источников точечных рисунков имеет метод для инициализации и создания нового преобразованного источника точечного рисунка.</span><span class="sxs-lookup"><span data-stu-id="9e325-149">Each of these bitmap sources have a method to initialize and create a new transformed bitmap source.</span></span> <span data-ttu-id="9e325-150">Например, **ивикбитмапклиппер** включает метод [**Initialize**](/windows/desktop/api/Wincodec/nf-wincodec-iwicbitmapclipper-initialize) .</span><span class="sxs-lookup"><span data-stu-id="9e325-150">For example, the **IWICBitmapClipper** includes the [**Initialize**](/windows/desktop/api/Wincodec/nf-wincodec-iwicbitmapclipper-initialize) method.</span></span> <span data-ttu-id="9e325-151">Этот метод инициализирует источник битовой карты Clipper с обрезанными данными пикселя входного источника битовой карты в заданном [**викрект**](/windows/desktop/api/Wincodec/ns-wincodec-wicrect).</span><span class="sxs-lookup"><span data-stu-id="9e325-151">This method initializes the clipper bitmap source with the clipped pixel data of the input bitmap source at the given [**WICRect**](/windows/desktop/api/Wincodec/ns-wincodec-wicrect).</span></span>

<span data-ttu-id="9e325-152">В следующих разделах рассматриваются различные способы использования источников растрового изображения преобразования.</span><span class="sxs-lookup"><span data-stu-id="9e325-152">The following how-to topics demonstrate different uses of the transform bitmap sources.</span></span>

-   [<span data-ttu-id="9e325-153">Масштабирование источника точечного рисунка</span><span class="sxs-lookup"><span data-stu-id="9e325-153">How to Scale a Bitmap Source</span></span>](-wic-bitmapsources-howto-scale.md)
-   [<span data-ttu-id="9e325-154">Как обрезать источник точечного рисунка</span><span class="sxs-lookup"><span data-stu-id="9e325-154">How to Clip a Bitmap Source</span></span>](-wic-bitmapsources-howto-clip.md)
-   [<span data-ttu-id="9e325-155">Отражение и поворот исходного растрового изображения</span><span class="sxs-lookup"><span data-stu-id="9e325-155">How to Flip and Rotate a Bitmap Source</span></span>](-wic-bitmapsources-howto-flipandrotate.md)

## <a name="pixel-format-and-color-context-converters"></a><span data-ttu-id="9e325-156">Преобразователи контекста формата пикселей и цвета</span><span class="sxs-lookup"><span data-stu-id="9e325-156">Pixel Format and Color Context Converters</span></span>

<span data-ttu-id="9e325-157">WIC также предоставляет источники растровых изображений, которые позволяют преобразовать формат пикселей и контекст цвета источника точечного рисунка.</span><span class="sxs-lookup"><span data-stu-id="9e325-157">WIC also provides bitmap sources converting the pixel format and color context of a bitmap source.</span></span> <span data-ttu-id="9e325-158">Компонент WIC предоставляет [**ивикформатконвертер**](/windows/desktop/api/Wincodec/nn-wincodec-iwicformatconverter) и [**ивикколортрансформ**](/windows/desktop/api/Wincodec/nn-wincodec-iwiccolortransform) для этих операций.</span><span class="sxs-lookup"><span data-stu-id="9e325-158">WIC provides the [**IWICFormatConverter**](/windows/desktop/api/Wincodec/nn-wincodec-iwicformatconverter) and [**IWICColorTransform**](/windows/desktop/api/Wincodec/nn-wincodec-iwiccolortransform) for these operations.</span></span>

<span data-ttu-id="9e325-159">[**Ивикформатконвертер**](/windows/desktop/api/Wincodec/nn-wincodec-iwicformatconverter) Преобразует заданный исходный точечный рисунок из одного формата пикселей в другой.</span><span class="sxs-lookup"><span data-stu-id="9e325-159">[**IWICFormatConverter**](/windows/desktop/api/Wincodec/nn-wincodec-iwicformatconverter) converts a given bitmap source from one pixel format to another.</span></span>

<span data-ttu-id="9e325-160">Пример использования [**ивикформатконвертер**](/windows/desktop/api/Wincodec/nn-wincodec-iwicformatconverter)см. в разделе [как нарисовать растровый источник с помощью Direct2D](-wic-bitmapsources-howto-drawusingd2d.md) .</span><span class="sxs-lookup"><span data-stu-id="9e325-160">For an example using the [**IWICFormatConverter**](/windows/desktop/api/Wincodec/nn-wincodec-iwicformatconverter), see the [How to Draw a Bitmap Source Using Direct2D](-wic-bitmapsources-howto-drawusingd2d.md) topic.</span></span>

## <a name="drawing-bitmap-sources"></a><span data-ttu-id="9e325-161">Рисование источников точечных рисунков</span><span class="sxs-lookup"><span data-stu-id="9e325-161">Drawing Bitmap Sources</span></span>

<span data-ttu-id="9e325-162">Компонент WIC по-прежнему представляет собой технологию кодеков изображений и используется для управления данными и метаданными изображений и не предоставляет способа визуализации изображений.</span><span class="sxs-lookup"><span data-stu-id="9e325-162">WIC is a still image codec technology and is used to manage image data and metadata and does not inherently provide a way to render images.</span></span> <span data-ttu-id="9e325-163">Однако источники точечных рисунков можно изобразить с помощью нескольких графических технологий Windows, таких как Direct2D, Windows интерфейс графических устройств (GDI) и Windows GDI+.</span><span class="sxs-lookup"><span data-stu-id="9e325-163">However, bitmap sources can be drawn using several Windows graphics technology such as Direct2D, Windows Graphics Device Interface (GDI), and Windows GDI+.</span></span> <span data-ttu-id="9e325-164">Каждая из этих технологий имеет разный уровень взаимодействия с WIC.</span><span class="sxs-lookup"><span data-stu-id="9e325-164">Each of these technologies has a different level of interoperability with WIC.</span></span> <span data-ttu-id="9e325-165">Direct2D обеспечивает прямое взаимодействие через интерфейс [ID2D1Bitmap](../direct2d/render-targets-overview.md) и метод [ID2D1RenderTarget:: креатебитмапфромвикбитмап](../direct2d/id2d1rendertarget-createbitmapfromwicbitmap.md) , в то время как GDI и GDI+ требует, чтобы пользователи скопировали исходные Пиксели растрового изображения в [точечные рисунки](../gdi/bitmaps.md).</span><span class="sxs-lookup"><span data-stu-id="9e325-165">Direct2D provides direct interoperability through the [ID2D1Bitmap](../direct2d/render-targets-overview.md) interface and the [ID2D1RenderTarget::CreateBitmapFromWicBitmap](../direct2d/id2d1rendertarget-createbitmapfromwicbitmap.md) method while GDI and GDI+ require users to copy the bitmap source pixels into an [Bitmaps](../gdi/bitmaps.md).</span></span>

<span data-ttu-id="9e325-166">В следующем примере демонстрируется рисование растровых источников с помощью Direct2D.</span><span class="sxs-lookup"><span data-stu-id="9e325-166">The following example demonstrate how to draw bitmap sources by using Direct2D.</span></span>

-   [<span data-ttu-id="9e325-167">Рисование исходного растрового изображения с помощью Direct2D</span><span class="sxs-lookup"><span data-stu-id="9e325-167">How to Draw a Bitmap Source Using Direct2D</span></span>](-wic-bitmapsources-howto-drawusingd2d.md)

## <a name="related-topics"></a><span data-ttu-id="9e325-168">См. также</span><span class="sxs-lookup"><span data-stu-id="9e325-168">Related topics</span></span>

<dl> <dt>

<span data-ttu-id="9e325-169">**Зрения**</span><span class="sxs-lookup"><span data-stu-id="9e325-169">**Conceptual**</span></span>
</dt> <dt>

[<span data-ttu-id="9e325-170">Общие сведения о компоненте создания образов Windows</span><span class="sxs-lookup"><span data-stu-id="9e325-170">Windows Imaging Component Overview</span></span>](-wic-about-windows-imaging-codec.md)
</dt> <dt>

[<span data-ttu-id="9e325-171">Общие сведения о кодировке</span><span class="sxs-lookup"><span data-stu-id="9e325-171">Encoding Overview</span></span>](-wic-creating-encoder.md)
</dt> <dt>

<span data-ttu-id="9e325-172">**Другие ресурсы**</span><span class="sxs-lookup"><span data-stu-id="9e325-172">**Other Resources**</span></span>
</dt> <dt>

[<span data-ttu-id="9e325-173">Написание WIC-Enabled КОДЕка</span><span class="sxs-lookup"><span data-stu-id="9e325-173">How to Write a WIC-Enabled CODEC</span></span>](-wic-howtowriteacodec.md)
</dt> </dl>

 

 
