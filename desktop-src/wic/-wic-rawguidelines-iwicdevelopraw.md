---
description: Поддержка Ивикдевелоправ
ms.assetid: 8e8ff65b-0849-42e0-924e-2a7c61d4b1bb
title: Поддержка Ивикдевелоправ
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: fa39aa339a3cd21c7ffa848a5ab1fe2dd6426981
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "104265849"
---
# <a name="support-for-iwicdevelopraw"></a><span data-ttu-id="d8043-103">Поддержка Ивикдевелоправ</span><span class="sxs-lookup"><span data-stu-id="d8043-103">Support for IWICDevelopRaw</span></span>

<span data-ttu-id="d8043-104">Чтобы позволить приложениям поддерживать обработку в необработанном виде, разработчикам кодеков настоятельно рекомендуется реализовать все параметры [**ивикдевелоправ**](/windows/desktop/api/Wincodec/nn-wincodec-iwicdevelopraw).</span><span class="sxs-lookup"><span data-stu-id="d8043-104">To enable applications to support RAW processing, codec authors are strongly encouraged to implement all of the parameters of [**IWICDevelopRaw**](/windows/desktop/api/Wincodec/nn-wincodec-iwicdevelopraw).</span></span> <span data-ttu-id="d8043-105">Для Windows 7 компонент Windows Imaging Component (WIC) потребует поддержки всех [**ивикдевелоправ**](/windows/desktop/api/Wincodec/nn-wincodec-iwicdevelopraw).</span><span class="sxs-lookup"><span data-stu-id="d8043-105">For Windows 7, Windows Imaging Component (WIC) will require support for all of the [**IWICDevelopRaw**](/windows/desktop/api/Wincodec/nn-wincodec-iwicdevelopraw).</span></span> <span data-ttu-id="d8043-106">Если формат файла не поддерживает все эти параметры, следует изменить формат файла изображения.</span><span class="sxs-lookup"><span data-stu-id="d8043-106">If your file format doesn't support all of these parameters, then you should revise your image file format.</span></span>

<span data-ttu-id="d8043-107">Чтобы включить базовую обработку RAW в приложениях, кодеки должны поддерживать корректировки для экспозиции (Експосурекомпенсатионсуппорт) и цвета (например, Келвинвхитепоинтсуппорт и Тинтсуппорт).</span><span class="sxs-lookup"><span data-stu-id="d8043-107">To enable basic RAW processing in applications, codecs must support adjustments to exposure (ExposureCompensationSupport) and color (such as KelvinWhitePointSupport and TintSupport).</span></span> <span data-ttu-id="d8043-108">Кроме того, настоятельно рекомендуется выводить данные в определенные цветовые пространства и форматы пикселей.</span><span class="sxs-lookup"><span data-stu-id="d8043-108">In addition, output to specific color spaces and pixel formats is highly recommended.</span></span> <span data-ttu-id="d8043-109">Поддержка других корректировок —, конечно же, рекомендуется и требуется для Windows 7.</span><span class="sxs-lookup"><span data-stu-id="d8043-109">Support for other adjustments is, of course, encouraged, and is required for Windows 7.</span></span>

<span data-ttu-id="d8043-110">Кодек RAW должен обеспечивать базовую поддержку для смены изображений и быстрого просмотра.</span><span class="sxs-lookup"><span data-stu-id="d8043-110">The RAW codec must provide basic support for image rotation and fast previewing.</span></span> <span data-ttu-id="d8043-111">Поворот можно указать двумя разными способами:</span><span class="sxs-lookup"><span data-stu-id="d8043-111">Rotation can be specified in two distinct ways:</span></span>

-   <span data-ttu-id="d8043-112">Метод [**ивикдевелоправ**](/windows/desktop/api/Wincodec/nn-wincodec-iwicdevelopraw)::[**сетротатион**](/windows/desktop/api/Wincodec/nf-wincodec-iwicdevelopraw-setrotation) .</span><span class="sxs-lookup"><span data-stu-id="d8043-112">[**IWICDevelopRaw**](/windows/desktop/api/Wincodec/nn-wincodec-iwicdevelopraw)::[**SetRotation**](/windows/desktop/api/Wincodec/nf-wincodec-iwicdevelopraw-setrotation) method.</span></span> <span data-ttu-id="d8043-113">Этот метод задает желаемый угол вращения для выходных данных последующих вызовов [**CopyPixels**](/windows/desktop/api/Wincodec/nf-wincodec-iwicbitmapsource-copypixels).</span><span class="sxs-lookup"><span data-stu-id="d8043-113">This method sets the desired rotation angle for the output of subsequent calls to [**CopyPixels**](/windows/desktop/api/Wincodec/nf-wincodec-iwicbitmapsource-copypixels).</span></span>
-   <span data-ttu-id="d8043-114">Метод [**ивикбитмапсаурцетрансформ**](/windows/desktop/api/Wincodec/nn-wincodec-iwicbitmapsourcetransform)::[**CopyPixels**](/windows/desktop/api/Wincodec/nf-wincodec-iwicbitmapsource-copypixels) .</span><span class="sxs-lookup"><span data-stu-id="d8043-114">[**IWICBitmapSourceTransform**](/windows/desktop/api/Wincodec/nn-wincodec-iwicbitmapsourcetransform)::[**CopyPixels**](/windows/desktop/api/Wincodec/nf-wincodec-iwicbitmapsource-copypixels) method.</span></span> <span data-ttu-id="d8043-115">Вызывающий объект может установить параметр Дсттрансформ, чтобы указать желаемый угол поворота.</span><span class="sxs-lookup"><span data-stu-id="d8043-115">The caller can set the dstTransform option to indicate the desired rotation angle.</span></span>

<span data-ttu-id="d8043-116">Эти два подхода отличаются следующими способами.</span><span class="sxs-lookup"><span data-stu-id="d8043-116">These two approaches differ in the following ways:</span></span>

-   <span data-ttu-id="d8043-117">Только параметры [**ивикдевелоправ**](/windows/desktop/api/Wincodec/nn-wincodec-iwicdevelopraw) могут быть сохранены в экземплярах объекта декодера.</span><span class="sxs-lookup"><span data-stu-id="d8043-117">Only [**IWICDevelopRaw**](/windows/desktop/api/Wincodec/nn-wincodec-iwicdevelopraw) settings can be persisted across instances of the decoder object.</span></span>
-   <span data-ttu-id="d8043-118">[**Ивикбитмапсаурцетрансформ**](/windows/desktop/api/Wincodec/nn-wincodec-iwicbitmapsourcetransform)::[**CopyPixels**](/windows/desktop/api/Wincodec/nf-wincodec-iwicbitmapsourcetransform-copypixels) применяется только к этому конкретному вызову; сохраняемость любого типа отсутствует.</span><span class="sxs-lookup"><span data-stu-id="d8043-118">[**IWICBitmapSourceTransform**](/windows/desktop/api/Wincodec/nn-wincodec-iwicbitmapsourcetransform)::[**CopyPixels**](/windows/desktop/api/Wincodec/nf-wincodec-iwicbitmapsourcetransform-copypixels) applies only to that particular call; there is no persistence of any kind.</span></span>
-   <span data-ttu-id="d8043-119">[**Ивикдевелоправ**](/windows/desktop/api/Wincodec/nn-wincodec-iwicdevelopraw) обеспечивает более детализированный контроль при повороте.</span><span class="sxs-lookup"><span data-stu-id="d8043-119">[**IWICDevelopRaw**](/windows/desktop/api/Wincodec/nn-wincodec-iwicdevelopraw) provides for much finer grained control in rotation.</span></span> <span data-ttu-id="d8043-120">[**Ивикбитмапсаурцетрансформ**](/windows/desktop/api/Wincodec/nn-wincodec-iwicbitmapsourcetransform)::[**CopyPixels**](/windows/desktop/api/Wincodec/nf-wincodec-iwicbitmapsourcetransform-copypixels) ограничен приращениями в 90 градусов.</span><span class="sxs-lookup"><span data-stu-id="d8043-120">[**IWICBitmapSourceTransform**](/windows/desktop/api/Wincodec/nn-wincodec-iwicbitmapsourcetransform)::[**CopyPixels**](/windows/desktop/api/Wincodec/nf-wincodec-iwicbitmapsourcetransform-copypixels) is constrained to 90-degree increments.</span></span>

<span data-ttu-id="d8043-121">Если поворот указан как в [**ивикдевелоправ**](/windows/desktop/api/Wincodec/nn-wincodec-iwicdevelopraw) , так и в [**ивикбитмапсаурцетрансформ**](/windows/desktop/api/Wincodec/nn-wincodec-iwicbitmapsourcetransform), то этот эффекта является кумулятивным.</span><span class="sxs-lookup"><span data-stu-id="d8043-121">If rotation is specified in both [**IWICDevelopRaw**](/windows/desktop/api/Wincodec/nn-wincodec-iwicdevelopraw) and [**IWICBitmapSourceTransform**](/windows/desktop/api/Wincodec/nn-wincodec-iwicbitmapsourcetransform), then the rotation effect is cumulative.</span></span> <span data-ttu-id="d8043-122">Например, если [**ивикдевелоправ**](/windows/desktop/api/Wincodec/nn-wincodec-iwicdevelopraw) задает поворот на 25 градусов, а [**ивикбитмапсаурцетрансформ**](/windows/desktop/api/Wincodec/nn-wincodec-iwicbitmapsourcetransform) задает поворот на 90 градусов, то должно произойти следующее:</span><span class="sxs-lookup"><span data-stu-id="d8043-122">For example, if [**IWICDevelopRaw**](/windows/desktop/api/Wincodec/nn-wincodec-iwicdevelopraw) specifies a 25-degree rotation and [**IWICBitmapSourceTransform**](/windows/desktop/api/Wincodec/nn-wincodec-iwicbitmapsourcetransform) specifies a 90-degree rotation, then the following should happen:</span></span>

-   <span data-ttu-id="d8043-123">Вызовы [**IWICBitmapFrameDecode**](/windows/desktop/api/Wincodec/nn-wincodec-iwicbitmapframedecode)::[**CopyPixels**](/windows/desktop/api/Wincodec/nf-wincodec-iwicbitmapsource-copypixels) должны применять поворот на 25 градусов (то есть только величину, указанную в [**ивикдевелоправ**](/windows/desktop/api/Wincodec/nn-wincodec-iwicdevelopraw)).</span><span class="sxs-lookup"><span data-stu-id="d8043-123">Calls to [**IWICBitmapFrameDecode**](/windows/desktop/api/Wincodec/nn-wincodec-iwicbitmapframedecode)::[**CopyPixels**](/windows/desktop/api/Wincodec/nf-wincodec-iwicbitmapsource-copypixels) should apply a 25-degree rotation (that is, only the amount specified in [**IWICDevelopRaw**](/windows/desktop/api/Wincodec/nn-wincodec-iwicdevelopraw)).</span></span>
-   <span data-ttu-id="d8043-124">Вызовы [**ивикбитмапсаурцетрансформ**](/windows/desktop/api/Wincodec/nn-wincodec-iwicbitmapsourcetransform)::[**CopyPixels**](/windows/desktop/api/Wincodec/nf-wincodec-iwicbitmapsourcetransform-copypixels) с дсттрансформ суммой 90 затем приводят к повороту на 115 градусов (25 + 90).</span><span class="sxs-lookup"><span data-stu-id="d8043-124">Calls to [**IWICBitmapSourceTransform**](/windows/desktop/api/Wincodec/nn-wincodec-iwicbitmapsourcetransform)::[**CopyPixels**](/windows/desktop/api/Wincodec/nf-wincodec-iwicbitmapsourcetransform-copypixels) with a dstTransform amount of 90 then result in a 115-degree rotation (25 + 90).</span></span>
-   <span data-ttu-id="d8043-125">Опять же, можно сохранить только поворот на 25 градусов, указанный с помощью [**ивикдевелоправ**](/windows/desktop/api/Wincodec/nn-wincodec-iwicdevelopraw)::[**сетротатион**](/windows/desktop/api/Wincodec/nf-wincodec-iwicdevelopraw-setrotation) .</span><span class="sxs-lookup"><span data-stu-id="d8043-125">Again, only the 25-degree rotation specified via [**IWICDevelopRaw**](/windows/desktop/api/Wincodec/nn-wincodec-iwicdevelopraw)::[**SetRotation**](/windows/desktop/api/Wincodec/nf-wincodec-iwicdevelopraw-setrotation) can be persisted.</span></span>

<span data-ttu-id="d8043-126">В Windows Vista методы [**IWICBitmapFrameDecode**](/windows/desktop/api/Wincodec/nn-wincodec-iwicbitmapframedecode):: Ивикбитмапдекодер [**и**](/windows/desktop/api/Wincodec/nf-wincodec-iwicbitmapframedecode-getthumbnail) [](/windows/desktop/api/Wincodec/nn-wincodec-iwicbitmapdecoder)::[**OnPreview**](/windows/desktop/api/Wincodec/nf-wincodec-iwicbitmapdecoder-getpreview) позволяют вызывающим объектам получать внедренные эскизы и изображения предварительного просмотра соответственно.</span><span class="sxs-lookup"><span data-stu-id="d8043-126">In Windows Vista, the [**IWICBitmapFrameDecode**](/windows/desktop/api/Wincodec/nn-wincodec-iwicbitmapframedecode)::[**GetThumbnail**](/windows/desktop/api/Wincodec/nf-wincodec-iwicbitmapframedecode-getthumbnail) and [**IWICBitmapDecoder**](/windows/desktop/api/Wincodec/nn-wincodec-iwicbitmapdecoder)::[**GetPreview**](/windows/desktop/api/Wincodec/nf-wincodec-iwicbitmapdecoder-getpreview) methods allow callers to get embedded thumbnails and preview images, respectively.</span></span> <span data-ttu-id="d8043-127">Они предназначены для возврата предварительно вычисленных предварительного просмотра и эскизов из потока файлов изображений.</span><span class="sxs-lookup"><span data-stu-id="d8043-127">These are intended to return precalculated previews and thumbnails from the image file stream.</span></span> <span data-ttu-id="d8043-128">Создание предварительных или эскизов "на лету" приводит к снижению производительности в проводнике Windows и средстве просмотра фотографий.</span><span class="sxs-lookup"><span data-stu-id="d8043-128">Generating previews or thumbnails "on the fly" results in poor performance in the Windows Explorer and Photo Viewer.</span></span> <span data-ttu-id="d8043-129">Кодек также должен предоставить способ для быстрого возврата обновленного изображения разрешения экрана, когда пользователи выполняют интерактивное управление параметрами обработки.</span><span class="sxs-lookup"><span data-stu-id="d8043-129">The codec also must provide a way to return an updated screen resolution image quickly when users are doing interactive control of the processing settings.</span></span>

<span data-ttu-id="d8043-130">Вызовы [**ивикдевелоправ**](/windows/desktop/api/Wincodec/nn-wincodec-iwicdevelopraw)::[**сетрендермоде**](/windows/desktop/api/Wincodec/nf-wincodec-iwicdevelopraw-setrendermode) будут определять, какие последующие вызовы [**IWICBitmapFrameDecode**](/windows/desktop/api/Wincodec/nn-wincodec-iwicbitmapframedecode)::[**CopyPixels**](/windows/desktop/api/Wincodec/nf-wincodec-iwicbitmapsource-copypixels) возвращают (что повышает скорость или качество).</span><span class="sxs-lookup"><span data-stu-id="d8043-130">Calls to [**IWICDevelopRaw**](/windows/desktop/api/Wincodec/nn-wincodec-iwicdevelopraw)::[**SetRenderMode**](/windows/desktop/api/Wincodec/nf-wincodec-iwicdevelopraw-setrendermode) will determine what subsequent calls to [**IWICBitmapFrameDecode**](/windows/desktop/api/Wincodec/nn-wincodec-iwicbitmapframedecode)::[**CopyPixels**](/windows/desktop/api/Wincodec/nf-wincodec-iwicbitmapsource-copypixels) return (favoring either speed or quality).</span></span> <span data-ttu-id="d8043-131">Кроме того, можно использовать интерфейс Ивикбитмапсаурцетрансформ, чтобы определить, требуется ли даунсамплинг, и повысить производительность, когда ее можно будет применить.</span><span class="sxs-lookup"><span data-stu-id="d8043-131">Additionally, the IWICBitmapSourceTransform interface can be used to determine whether downsampling is necessary and can increase performance when it can be applied.</span></span> <span data-ttu-id="d8043-132">Точность цвета всех изображений должна быть сравнима.</span><span class="sxs-lookup"><span data-stu-id="d8043-132">The color fidelity of all the images should be comparable.</span></span> <span data-ttu-id="d8043-133">При внесении изменений в параметры обработки все эти рендерингы должны отражать изменения.</span><span class="sxs-lookup"><span data-stu-id="d8043-133">When changes are made to the processing settings, all of these renderings should reflect the changes.</span></span>

## <a name="related-topics"></a><span data-ttu-id="d8043-134">См. также</span><span class="sxs-lookup"><span data-stu-id="d8043-134">Related topics</span></span>

<dl> <dt>

<span data-ttu-id="d8043-135">**Зрения**</span><span class="sxs-lookup"><span data-stu-id="d8043-135">**Conceptual**</span></span>
</dt> <dt>

[<span data-ttu-id="d8043-136">Общие сведения о компоненте создания образов Windows</span><span class="sxs-lookup"><span data-stu-id="d8043-136">Windows Imaging Component Overview</span></span>](-wic-about-windows-imaging-codec.md)
</dt> <dt>

[<span data-ttu-id="d8043-137">Рекомендации по WIC для форматов необработанных изображений Camera</span><span class="sxs-lookup"><span data-stu-id="d8043-137">WIC Guidelines for Camera RAW Image Formats</span></span>](-wic-rawguidelines.md)
</dt> <dt>

[<span data-ttu-id="d8043-138">Написание WIC-Enabled КОДЕка</span><span class="sxs-lookup"><span data-stu-id="d8043-138">How to Write a WIC-Enabled CODEC</span></span>](-wic-howtowriteacodec.md)
</dt> </dl>

 

 



