---
description: Реализация кодировщика WIC-Enabled
ms.assetid: 9c1a4fa4-30b9-445f-8aee-46711355ace7
title: Реализация кодировщика WIC-Enabled
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: a6e65f969ba7c65e6860009b2fc998024d358301
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "104265447"
---
# <a name="implementing-a-wic-enabled-encoder"></a>Реализация кодировщика WIC-Enabled

## <a name="introduction"></a>Введение

Реализация кодировщика Windows Imaging Component (WIC) требует написания двух классов, как и для реализации декодера WIC. Интерфейсы в этих классах непосредственно соответствуют обязанностям кодировщика, описанным в разделе [кодирование](-wic-howwicworks.md) , как работает компонент Windows Imaging.

Один из классов предоставляет службы уровня контейнера и управляет сериализацией отдельных кадров изображения в контейнере. Этот класс реализует интерфейс [**ивикбитмапенкодер**](/windows/desktop/api/wincodec/nn-wincodec-iwicbitmapencoder) . Если формат изображения поддерживает метаданные уровня контейнера, необходимо также реализовать интерфейс [**ивикметадатаблокквритер**](/windows/desktop/api/Wincodecsdk/nn-wincodecsdk-iwicmetadatablockwriter) для этого класса.

Другой класс предоставляет службы на уровне кадров и выполняет фактическую кодировку битов изображения для каждого кадра в контейнере. Он также выполняет перебор блоков метаданных для каждого кадра и запрашивает соответствующие модули записи метаданных для сериализации блоков. Этот класс реализует интерфейс **ивикбитмапфраминкоде** и интерфейс [**ивикметадатаблокквритер**](/windows/desktop/api/Wincodecsdk/nn-wincodecsdk-iwicmetadatablockwriter) . Этот класс должен иметь член IStream, который инициализируется классом уровня контейнера при создании экземпляра, в котором метод **commit** будет выполнять сериализацию данных кадра.

В некоторых случаях, например в необработанных форматах, автор кодека может не захотеть, чтобы приложения могли закодировать или перекодировать в Необработанный формат, так как цель необработанного файла заключается в том, чтобы содержать данные датчика в точном соответствии с камерой. В случаях, когда автор кодека не хочет включить кодирование, по-прежнему необходимо реализовать элементарный кодировщик, чтобы включить добавление метаданных. В этом случае кодировщику требуется только поддержка тех методов, которые необходимы для записи метаданных, и возможность копирования битов изображения из декодера.

## <a name="related-topics"></a>Связанные темы

<dl> <dt>

**Reference**
</dt> <dt>

[**ивикбитмапенкодер**](/windows/desktop/api/wincodec/nn-wincodec-iwicbitmapencoder)
</dt> <dt>

**Зрения**
</dt> <dt>

[Реализация Ивикдевелоправ](-wic-imp-iwicdevelopraw.md)
</dt> <dt>

[Интерфейсы кодировщика](-wic-encoderinterfaces.md)
</dt> <dt>

[Написание WIC-Enabled КОДЕка](-wic-howtowriteacodec.md)
</dt> <dt>

[Общие сведения о компоненте создания образов Windows](-wic-about-windows-imaging-codec.md)
</dt> </dl>

 

 



