---
description: При выполнении криптографических операций ядро протокола SSL (Schannel) использует поставщик служб шифрования (CSP). Приложения шифрования могут вызывать CryptAcquireContext с помощью \_ поставщиков Prov RSA \_ SChannel и Prov \_ Диффи-Хелмана \_ SChannel.
ms.assetid: ad1eabf1-23bc-4d23-8f8b-13f0bda95120
title: Использование CSP по протоколу SChannel
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 289ed57d9f312ee1ef57aecf7534a8d585859126
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "105682980"
---
# <a name="using-schannel-csps"></a><span data-ttu-id="cdb78-104">Использование CSP по протоколу SChannel</span><span class="sxs-lookup"><span data-stu-id="cdb78-104">Using Schannel CSPs</span></span>

<span data-ttu-id="cdb78-105">При выполнении криптографических операций ядро протокола SSL ([*SChannel*](../secgloss/s-gly.md)) использует [*поставщик служб шифрования*](../secgloss/c-gly.md) (CSP).</span><span class="sxs-lookup"><span data-stu-id="cdb78-105">The SSL protocol engine ([*Schannel*](../secgloss/s-gly.md)) uses a [*cryptographic service provider*](../secgloss/c-gly.md) (CSP) when performing cryptographic operations.</span></span> <span data-ttu-id="cdb78-106">Приложения шифрования могут вызывать [**CryptAcquireContext**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptacquirecontexta) с помощью \_ поставщиков Prov RSA \_ SChannel и Prov \_ Диффи-Хелмана \_ SChannel.</span><span class="sxs-lookup"><span data-stu-id="cdb78-106">Cryptographic applications can call [**CryptAcquireContext**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptacquirecontexta) using the PROV\_RSA\_SCHANNEL and PROV\_DH\_SCHANNEL providers.</span></span>

<span data-ttu-id="cdb78-107">В этом разделе определяются [*типы CSP*](../secgloss/c-gly.md) RSA и Diffie-Hellman SChannel, а также описываются функциональные возможности, которые должен поддерживать CSP для совместимости с Schannel.dll, механизмом протокола шифрования.</span><span class="sxs-lookup"><span data-stu-id="cdb78-107">This section defines the RSA and Diffie-Hellman Schannel [*CSP types*](../secgloss/c-gly.md) and describes the functionality that a CSP must support to be compatible with Schannel.dll, the cryptographic protocol engine.</span></span> <span data-ttu-id="cdb78-108">Механизм протокола — это программа, которая устанавливает безопасный канал связи между клиентским и серверным приложением.</span><span class="sxs-lookup"><span data-stu-id="cdb78-108">A protocol engine is a program that establishes a secure communications channel between a client and server application.</span></span>

<span data-ttu-id="cdb78-109">Приложения не должны пытаться использовать сведения в этой документации для использования PROV \_ RSA \_ SChannel или Prov \_ DH \_ SChannel напрямую.</span><span class="sxs-lookup"><span data-stu-id="cdb78-109">Applications should not attempt to use information in this documentation to use PROV\_RSA\_SCHANNEL or PROV\_DH\_SCHANNEL directly.</span></span> <span data-ttu-id="cdb78-110">Скорее, в этой документации объясняется, как разработчики и поставщики CSP должны создавать поставщики услуг шифрования SChannel, совместимые с поставщиками Schannel (Майкрософт).</span><span class="sxs-lookup"><span data-stu-id="cdb78-110">Rather, this documentation explains how CSP developers and vendors must write Schannel CSPs that are compatible with Microsoft Schannel providers.</span></span>

<span data-ttu-id="cdb78-111">Эта документация призвана помочь разработчикам CSP реализовать совместимые алгоритмы шифрования RSA или Diffie-Hellman SChannel.</span><span class="sxs-lookup"><span data-stu-id="cdb78-111">This documentation is intended to help CSP developers implement compatible RSA or Diffie-Hellman Schannel CSPs.</span></span> <span data-ttu-id="cdb78-112">Предполагается [*, что*](../secgloss/s-gly.md) разработчики знакомы с протоколом ssl версии 3,0, шифрованием с [*открытым ключом*](../secgloss/p-gly.md) , [*цифровыми сертификатами*](../secgloss/d-gly.md)и набором функций CryptoAPI.</span><span class="sxs-lookup"><span data-stu-id="cdb78-112">Developers are assumed to be familiar with the [*Secure Socket Layer*](../secgloss/s-gly.md) (SSL) protocol version 3.0, [*public key*](../secgloss/p-gly.md) cryptography, [*digital certificates*](../secgloss/d-gly.md), and the CryptoAPI function set.</span></span> <span data-ttu-id="cdb78-113">Разработчикам, которые впервые знакомы с этими разделами, рекомендуется ознакомиться со спецификацией протокола SSL 3,0 и документацией по [Cryptography Essentials](cryptography-essentials.md) в этом пакете SDK.</span><span class="sxs-lookup"><span data-stu-id="cdb78-113">Developers new to these topics are advised to read the SSL Protocol 3.0 specification and the [Cryptography Essentials](cryptography-essentials.md) documentation in this SDK.</span></span> <span data-ttu-id="cdb78-114">Кроме того, разработчики RSA и Diffie-Hellman CSP [*должны ознакомиться со*](../secgloss/t-gly.md) спецификациями протокола TLS, а также соответствующими алгоритмами RSA и [*Диффи-Хелмана*](../secgloss/d-gly.md).</span><span class="sxs-lookup"><span data-stu-id="cdb78-114">In addition, RSA and Diffie-Hellman CSP developers must know [*Transport Layer Security*](../secgloss/t-gly.md) (TLS) protocol specifications along with the relevant RSA and [*Diffie-Hellman algorithms*](../secgloss/d-gly.md).</span></span>

<span data-ttu-id="cdb78-115">Пример, используемый ядром протокола Майкрософт, см. в разделе [Создание главного ключа](creating-the-master-key.md).</span><span class="sxs-lookup"><span data-stu-id="cdb78-115">For an example used by a Microsoft protocol engine, see [Creating the Master Key](creating-the-master-key.md).</span></span> <span data-ttu-id="cdb78-116">Вызовы функций шифрования в этом примере приводят к вызову функций CP, которые должен реализовать CSP.</span><span class="sxs-lookup"><span data-stu-id="cdb78-116">The calls to cryptography functions in this example result in calls to CP functions that a CSP must implement.</span></span> <span data-ttu-id="cdb78-117">Чтобы написать совместимый CSP, разработчик должен понять спецификацию SSL 3,0 и объединить этот набор знаний с пониманием кода механизма протокола, аналогичного тому, который использовался в этом примере.</span><span class="sxs-lookup"><span data-stu-id="cdb78-117">To write a compatible CSP, a developer must understand the SSL 3.0 specification and combine that knowledge with an understanding of the protocol engine code similar to that used in this example.</span></span>

<span data-ttu-id="cdb78-118">Поскольку в будущем предполагается, что использование протокола частных коммуникационных технологий не является минимальным, разработчики новых CSP не должны поддерживать этот протокол.</span><span class="sxs-lookup"><span data-stu-id="cdb78-118">Because use of the Private Communications Technology protocol is expected to be minimal in the future, developers of new CSPs need not support this protocol.</span></span> <span data-ttu-id="cdb78-119">Ядро протокола SChannel поддерживает его исключительно в целях обратной совместимости.</span><span class="sxs-lookup"><span data-stu-id="cdb78-119">The Schannel protocol engine supports it strictly for backward compatibility.</span></span>

 

 
