---
description: Интерфейс CryptoAPI разрабатывался так, чтобы быть легко расширяемым. Новые типы и параметры могут быть определены любым автором поставщика служб шифрования (CSP), чтобы сделать CryptoAPI изгибом требований широкого спектра ситуаций.
ms.assetid: fe87ccb8-16a3-443d-93df-0df02b8787f6
title: Расширение CryptoAPI
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 62417f66b8a8bb2d06d145543f944f91868d366d
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "105664471"
---
# <a name="extending-cryptoapi"></a><span data-ttu-id="eb080-104">Расширение CryptoAPI</span><span class="sxs-lookup"><span data-stu-id="eb080-104">Extending CryptoAPI</span></span>

<span data-ttu-id="eb080-105">Интерфейс [*CryptoAPI*](../secgloss/c-gly.md) разрабатывался так, чтобы быть легко расширяемым.</span><span class="sxs-lookup"><span data-stu-id="eb080-105">[*CryptoAPI*](../secgloss/c-gly.md) has been designed to be easily extensible.</span></span> <span data-ttu-id="eb080-106">Новые типы и параметры могут быть определены любым автором [*поставщика служб шифрования*](../secgloss/c-gly.md) (CSP), чтобы сделать CryptoAPI изгибом требований широкого спектра ситуаций.</span><span class="sxs-lookup"><span data-stu-id="eb080-106">New types and parameters can be defined by any [*cryptographic service provider*](../secgloss/c-gly.md) (CSP) author to make CryptoAPI bend to the requirements of a wide variety of situations.</span></span>



| <span data-ttu-id="eb080-107">Расширяемые элементы</span><span class="sxs-lookup"><span data-stu-id="eb080-107">Extensible items</span></span>                                                                                                 | <span data-ttu-id="eb080-108">Комментировать</span><span class="sxs-lookup"><span data-stu-id="eb080-108">Comment</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
|------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="eb080-109">Типы поставщиков</span><span class="sxs-lookup"><span data-stu-id="eb080-109">Provider types</span></span><br/>                                                                                        | <span data-ttu-id="eb080-110">Тип поставщика представляет конкретное семейство или тип криптографических служб.</span><span class="sxs-lookup"><span data-stu-id="eb080-110">A provider type represents a particular family or type of cryptographic services.</span></span> <span data-ttu-id="eb080-111">Можно определить новые типы поставщиков, каждый из которых обслуживает определенный нишу.</span><span class="sxs-lookup"><span data-stu-id="eb080-111">New provider types can be defined, each serving a particular niche.</span></span><br/>                                                                                                                                                                                                                                                                                          |
| <span data-ttu-id="eb080-112">Параметры поставщика</span><span class="sxs-lookup"><span data-stu-id="eb080-112">Provider parameters</span></span><br/>                                                                                   | <span data-ttu-id="eb080-113">Параметры поставщика отправляются и получаются с помощью [**кпсетпровпарам**](https://www.bing.com/search?q=**CPSetProvParam**) и [**кпжетпровпарам**](https://www.bing.com/search?q=**CPGetProvParam**)соответственно.</span><span class="sxs-lookup"><span data-stu-id="eb080-113">Provider parameters are sent and received using [**CPSetProvParam**](https://www.bing.com/search?q=**CPSetProvParam**) and [**CPGetProvParam**](https://www.bing.com/search?q=**CPGetProvParam**), respectively.</span></span> <span data-ttu-id="eb080-114">Новые параметры поставщика могут позволить CSP настраиваться способами, не предопределенностью конструкторов CryptoAPI.</span><span class="sxs-lookup"><span data-stu-id="eb080-114">New provider parameters could allow a CSP to be configured in ways not foreseen by the CryptoAPI designers.</span></span><br/>                                                                                                                                                                 |
| <span data-ttu-id="eb080-115">Идентификаторы алгоритмов</span><span class="sxs-lookup"><span data-stu-id="eb080-115">Algorithm identifiers</span></span><br/>                                                                                 | <span data-ttu-id="eb080-116">Функции перечисления [**кпжетпровпарам**](https://www.bing.com/search?q=**CPGetProvParam**) позволяют приложениям динамически перечислять идентификаторы алгоритмов.</span><span class="sxs-lookup"><span data-stu-id="eb080-116">The enumeration facilities of [**CPGetProvParam**](https://www.bing.com/search?q=**CPGetProvParam**) allow applications to list algorithm identifiers dynamically.</span></span> <span data-ttu-id="eb080-117">В любое время можно определить новый [*симметричный*](../secgloss/s-gly.md), [*открытый ключ*](../secgloss/p-gly.md)и [*хэш-*](../secgloss/h-gly.md) алгоритмы.</span><span class="sxs-lookup"><span data-stu-id="eb080-117">New [*symmetric*](../secgloss/s-gly.md), [*public key*](../secgloss/p-gly.md), and [*hash*](../secgloss/h-gly.md) algorithms can be defined at any time.</span></span><br/> |
| <span data-ttu-id="eb080-118">Типы пар открытого и [*закрытого ключей*](../secgloss/p-gly.md)</span><span class="sxs-lookup"><span data-stu-id="eb080-118">Public/[*private key*](../secgloss/p-gly.md) pair types</span></span><br/> | <span data-ttu-id="eb080-119">Хотя новые типы пар ключей могут быть определены по мере необходимости, используются только [*пары ключей обмена*](../secgloss/e-gly.md) подписями и ключей.</span><span class="sxs-lookup"><span data-stu-id="eb080-119">While new key pair types can be defined as needed, currently only signature and key [*exchange key pairs*](../secgloss/e-gly.md) are used.</span></span><br/>                                                                                                                                                                                                                                           |
| <span data-ttu-id="eb080-120">Типы больших двоичных объектов ключей</span><span class="sxs-lookup"><span data-stu-id="eb080-120">Key BLOB types</span></span><br/>                                                                                        | <span data-ttu-id="eb080-121">Новые типы [*больших двоичных объектов*](../secgloss/b-gly.md) ключей позволяют использовать ключи сеанса, открытые ключи и пары открытого и закрытого ключей для гибкого обмена данными с помощью функций [**кпекспорткэй**](https://www.bing.com/search?q=**CPExportKey**) и [**кпимпорткэй**](https://www.bing.com/search?q=**CPImportKey**) .</span><span class="sxs-lookup"><span data-stu-id="eb080-121">New key [*BLOB*](../secgloss/b-gly.md) types could permit session keys, public keys, and public/private key pairs to be exchanged in a flexible manner using the [**CPExportKey**](https://www.bing.com/search?q=**CPExportKey**) and [**CPImportKey**](https://www.bing.com/search?q=**CPImportKey**) functions.</span></span><br/>                                                                                                                                            |
| <span data-ttu-id="eb080-122">Параметры ключа</span><span class="sxs-lookup"><span data-stu-id="eb080-122">Key parameters</span></span><br/>                                                                                        | <span data-ttu-id="eb080-123">Параметры ключей отправляются и извлекаются с помощью [**кпсеткэйпарам**](https://www.bing.com/search?q=**CPSetKeyParam**) и [**кпжеткэйпарам**](https://www.bing.com/search?q=**CPGetKeyParam**).</span><span class="sxs-lookup"><span data-stu-id="eb080-123">Key parameters are sent and retrieved using [**CPSetKeyParam**](https://www.bing.com/search?q=**CPSetKeyParam**) and [**CPGetKeyParam**](https://www.bing.com/search?q=**CPGetKeyParam**).</span></span> <span data-ttu-id="eb080-124">Новые параметры ключа могут включать поддержку многих разных типов ключей.</span><span class="sxs-lookup"><span data-stu-id="eb080-124">New key parameters could enable support for many different types of keys.</span></span><br/>                                                                                                                                                                                                                         |
| <span data-ttu-id="eb080-125">Параметры хэш-объекта</span><span class="sxs-lookup"><span data-stu-id="eb080-125">Hash object parameters</span></span><br/>                                                                                | <span data-ttu-id="eb080-126">Параметры хэш-объекта отправляются и извлекаются с помощью [**кпсесашпарам**](https://www.bing.com/search?q=**CPSetHashParam**) и [**кпжесашпарам**](https://www.bing.com/search?q=**CPGetHashParam**).</span><span class="sxs-lookup"><span data-stu-id="eb080-126">Hash object parameters are sent and retrieved using [**CPSetHashParam**](https://www.bing.com/search?q=**CPSetHashParam**) and [**CPGetHashParam**](https://www.bing.com/search?q=**CPGetHashParam**).</span></span> <span data-ttu-id="eb080-127">Новые параметры хэш-объекта могут включать поддержку множества различных типов [*хэшей*](../secgloss/h-gly.md).</span><span class="sxs-lookup"><span data-stu-id="eb080-127">New hash object parameters could enable support for many different types of [*hashes*](../secgloss/h-gly.md).</span></span><br/>                                                                                                                                         |
| <span data-ttu-id="eb080-128">Значения флагов</span><span class="sxs-lookup"><span data-stu-id="eb080-128">Flag values</span></span><br/>                                                                                           | <span data-ttu-id="eb080-129">Большинство функций CryptoAPI и Криптоспи имеют параметр *dwFlags* .</span><span class="sxs-lookup"><span data-stu-id="eb080-129">Most CryptoAPI/CryptoSPI functions have a *dwFlags* parameter.</span></span> <span data-ttu-id="eb080-130">Новые значения *dwFlags* могут изменить поведение функций при необходимости.</span><span class="sxs-lookup"><span data-stu-id="eb080-130">New *dwFlags* values could modify the behavior of functions as necessary.</span></span><br/>                                                                                                                                                                                                                                                                                                       |



 

<span data-ttu-id="eb080-131">Расширения CryptoAPI должны быть созданы ответственным образом.</span><span class="sxs-lookup"><span data-stu-id="eb080-131">Extensions to CryptoAPI must be made in a responsible manner.</span></span> <span data-ttu-id="eb080-132">Перед определением новых параметров и типов алгоритмов разработчик CSP должен обратиться в корпорацию Майкрософт, чтобы:</span><span class="sxs-lookup"><span data-stu-id="eb080-132">Before defining new parameters and algorithm types, a CSP developer should consult Microsoft Corporation, so that:</span></span>

-   <span data-ttu-id="eb080-133">Общие расширения CryptoAPI можно идентифицировать и поместить в стандартный файл Винкрипт. h.</span><span class="sxs-lookup"><span data-stu-id="eb080-133">Common CryptoAPI extensions can be identified and placed into the standard Wincrypt.h file.</span></span>
-   <span data-ttu-id="eb080-134">Конфликты пространств имен можно избежать.</span><span class="sxs-lookup"><span data-stu-id="eb080-134">Namespace collisions can be avoided.</span></span>
-   <span data-ttu-id="eb080-135">Можно определить, является ли расширение обязательным, или можно ли выполнить конкретную операцию с помощью текущего API.</span><span class="sxs-lookup"><span data-stu-id="eb080-135">It can be determined whether the extension is required, or whether a particular operation can be achieved by using the current API.</span></span>

> [!Note]  
> <span data-ttu-id="eb080-136">Чтобы CSP был совместим с приложениями, разработанными для базового поставщика служб шифрования Майкрософт, он должен поддерживать все перечисленные выше элементы, как описано в разделе [основные функции шифрования](cryptography-functions.md) и [функции поставщика служб шифрования](cryptography-functions.md).</span><span class="sxs-lookup"><span data-stu-id="eb080-136">For a CSP to be compatible with applications developed for the Microsoft Base Cryptographic Provider, it must support all of the preceding items as described in [Base Cryptography Functions](cryptography-functions.md) and in [Cryptography Service Provider Functions](cryptography-functions.md).</span></span>

 

 

 
