---
description: В дополнение к сертификатам и спискам отзыва сертификатов (CRL) хранилище сертификатов CryptoAPI поддерживает список доверия сертификатов (CTL).
ms.assetid: b0f7e7ce-f981-4f3f-83a0-7792224ce0e3
title: Обзор списка доверия сертификатов
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 55bdbd8b5fdfe4b2d81f3faddb052c16ecf32428
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "103911815"
---
# <a name="certificate-trust-list-overview"></a><span data-ttu-id="47242-103">Обзор списка доверия сертификатов</span><span class="sxs-lookup"><span data-stu-id="47242-103">Certificate Trust List Overview</span></span>

<span data-ttu-id="47242-104">В дополнение к сертификатам и [*спискам отзыва сертификатов*](../secgloss/c-gly.md) (CRL) [*хранилище сертификатов*](../secgloss/c-gly.md) [*CryptoAPI*](../secgloss/c-gly.md) поддерживает [*список доверия сертификатов*](../secgloss/c-gly.md) (CTL).</span><span class="sxs-lookup"><span data-stu-id="47242-104">In addition to certificates and [*certificate revocation lists*](../secgloss/c-gly.md) (CRL), the [*CryptoAPI*](../secgloss/c-gly.md) [*certificate store*](../secgloss/c-gly.md) supports the [*certificate trust list*](../secgloss/c-gly.md) (CTL).</span></span> <span data-ttu-id="47242-105">CTL — это заранее определенный список элементов, подписанных доверенным лицом.</span><span class="sxs-lookup"><span data-stu-id="47242-105">A CTL is a predefined list of items signed by a trusted entity.</span></span> <span data-ttu-id="47242-106">CTL — это список [*хэшей*](../secgloss/h-gly.md) сертификатов или список имен файлов.</span><span class="sxs-lookup"><span data-stu-id="47242-106">A CTL is a list of [*hashes*](../secgloss/h-gly.md) of certificates or a list of file names.</span></span> <span data-ttu-id="47242-107">Все элементы в списке проходят проверку подлинности и утверждаются доверенным объектом подписывания.</span><span class="sxs-lookup"><span data-stu-id="47242-107">All the items in the list are authenticated and approved by a trusted signing entity.</span></span> <span data-ttu-id="47242-108">Структура [**\_ контекста CTL**](/windows/desktop/api/Wincrypt/ns-wincrypt-ctl_context) похожа на структуру контекста сертификата и списка CRL.</span><span class="sxs-lookup"><span data-stu-id="47242-108">A [**CTL\_CONTEXT**](/windows/desktop/api/Wincrypt/ns-wincrypt-ctl_context) structure is similar to certificate and CRL context structures.</span></span> <span data-ttu-id="47242-109">Контекст CTL можно сохранить в хранилище сертификатов.</span><span class="sxs-lookup"><span data-stu-id="47242-109">A CTL context can be persisted to the certificate store.</span></span>

<span data-ttu-id="47242-110">CryptoAPI CTL — это список элементов, подписанных доверенным лицом.</span><span class="sxs-lookup"><span data-stu-id="47242-110">A CryptoAPI CTL is a list of items that has been signed by a trusted entity.</span></span> <span data-ttu-id="47242-111">Список элементов может быть любым, например, со списком хэшей сертификатов или списком имен файлов.</span><span class="sxs-lookup"><span data-stu-id="47242-111">The list of items could be anything, such as a list of hashes of certificates, or a list of file names.</span></span> <span data-ttu-id="47242-112">В большинстве случаев CTL представляет собой список контекстов хэшированных сертификатов.</span><span class="sxs-lookup"><span data-stu-id="47242-112">In most cases, a CTL is a list of hashed certificate contexts.</span></span> <span data-ttu-id="47242-113">Все элементы в списке проходят проверку подлинности и утверждаются сущностью подписывания.</span><span class="sxs-lookup"><span data-stu-id="47242-113">All the items in the list are authenticated and approved by the signing entity.</span></span> <span data-ttu-id="47242-114">В основном списки CTL используются для проверки подписанных сообщений, используя список доверия сертификатов (CTL) в качестве источника доверенных [*корневых сертификатов*](../secgloss/r-gly.md).</span><span class="sxs-lookup"><span data-stu-id="47242-114">The primary use of CTLs is to verify signed Messages, using the CTL as a source of trusted [*root certificates*](../secgloss/r-gly.md).</span></span>

<span data-ttu-id="47242-115">Структура [**\_ контекста CTL**](/windows/desktop/api/Wincrypt/ns-wincrypt-ctl_context) схожа с структурами сертификата и контекста списка отзыва сертификатов. Однако в отличие от структур контекста сертификата и списка отзыва сертификатов **Структура \_ контекста CTL** содержит элемент **хкриптмсг** .</span><span class="sxs-lookup"><span data-stu-id="47242-115">The [**CTL\_CONTEXT**](/windows/desktop/api/Wincrypt/ns-wincrypt-ctl_context) structure is similar to the certificate and CRL context structures; however, unlike the certificate and CRL context structures, the **CTL\_CONTEXT** structure contains a **hCryptMsg** member.</span></span> <span data-ttu-id="47242-116">Этот маркер открывается путем вызова любой из функций, возвращающих структуру **\_ контекста CTL** , что позволяет использовать функции сообщений для проверки подписи CTL.</span><span class="sxs-lookup"><span data-stu-id="47242-116">This handle is opened by a call to any of the functions that return a **CTL\_CONTEXT** structure, making it possible to use the message functions to verify the CTL's signature.</span></span> <span data-ttu-id="47242-117">Эта проверка необходима, чтобы убедиться, что список доверия сертификатов не является фиктивным CTL, заданным фальшивой сущностью.</span><span class="sxs-lookup"><span data-stu-id="47242-117">This verification is necessary to ensure that a CTL is not a bogus CTL planted by a rogue entity.</span></span>

<span data-ttu-id="47242-118">Процедуры создания подписанного списка CTL и его сохранения в хранилище сертификатов см. в статье [Создание, подписание и сохранение списка доверия](creating-signing-and-storing-a-ctl.md)сертификатов.</span><span class="sxs-lookup"><span data-stu-id="47242-118">For procedures to create a signed CTL and save it to a certificate store, see [Creating, Signing, and Storing a CTL](creating-signing-and-storing-a-ctl.md).</span></span> <span data-ttu-id="47242-119">См. также раздел [Проверка списка доверия сертификатов](verifying-a-ctl.md) и [Проверка подписанных сообщений с помощью списков CTL](verifying-signed-messages-by-using-ctls.md) для пошаговой проверки пошаговых процедур.</span><span class="sxs-lookup"><span data-stu-id="47242-119">Also see [Verifying a CTL](verifying-a-ctl.md) and [Verifying Signed Messages By Using CTLs](verifying-signed-messages-by-using-ctls.md) for step by step verification procedures.</span></span>

 

 
