---
description: Управление регистрацией сертификатов может использоваться приложением, которое должно запросить выдачу сертификата для именованной темы.
ms.assetid: ce6661b0-7ed2-452f-a54c-6705d14f3298
title: Управление регистрацией сертификатов
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: e417a9db7984cbb58b7c2e3b51d828b6d61a97b6
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "105662361"
---
# <a name="certificate-enrollment-control"></a>Управление регистрацией сертификатов

Управление регистрацией сертификатов может использоваться приложением, которое должно запросить выдачу сертификата для именованной темы. Он предназначен для приема данных в виде двоичной строки (BSTR). Данные могут поступать с веб-страницы или из пользовательского интерфейса Visual Basic или Visual C++ системы разработки. Выходные данные управления регистрацией сертификатов — это \# запрос сертификата PKCS 10, который может быть отправлен в [*центр сертификации*](../secgloss/c-gly.md) (ЦС).

![Управление регистрацией сертификатов](images/xen-arch.png)

Необходимые сведения о пользователе, субъекте сертификата, собираются пользовательским интерфейсом. Эти сведения предоставляются в качестве входных данных BSTR для управления регистрацией сертификатов. Элемент управления "регистрация сертификата" создает соответствующий ключ подписи, ключ обмена ключами или обе пары ключей. Затем элемент управления создает и подписывает \# [*запрос сертификата*](../secgloss/c-gly.md) PKCS 10 с помощью созданного [*закрытого ключа*](../secgloss/p-gly.md). Затем Управление регистрацией сертификатов связывает пару ключей с временным фиктивным сертификатом, который хранится в хранилище запросов, пока выданный сертификат не будет возвращен из центра сертификации. Наконец, приложение отправляет \# запрос сертификата PKCS 10 в центр сертификации.

Если центр сертификации утверждает запрос на сертификат, ЦС создает сертификат, содержащий открытый ключ. ЦС также подписывает и возвращает сертификат.

Когда запрошенный сертификат возвращается из центра сертификации, приложение передает \# сообщение PKCS 7 обратно в контроль регистрации сертификатов, где сертификат или цепочка сертификатов извлекаются из \# сообщения PKCS 7. Сертификат и другие сертификаты в цепочке доверия хранятся в [*хранилище сертификатов*](../secgloss/c-gly.md). Возвращенный сертификат не изменяется каким-либо образом. Все приложения, поддерживающие сертификаты, теперь могут получать доступ к этому сертификату из хранилища.

Управление регистрацией смарт-карт используется администратором для регистрации от имени пользователей смарт-карт. Процесс регистрации приводит к выдаче сертификата, который хранится на смарт-карте пользователя.

Управление регистрацией смарт-карты содержится в Scrdenrl.dll и состоит из одного объекта, **скрденр**. Другие объекты не включаются в Scrdenrl.dll. Этот объект регистрации смарт-карты можно использовать с языком сценариев, например Visual Basic Scripting Edition (VBScript).

На компьютере, на котором работает Управление регистрацией смарт-карты, должен быть установлен [*модуль чтения смарт-карт*](../secgloss/r-gly.md) .

Кроме того, поставщик смарт-карты должен получить сертификат подписи на основе шаблона сертификата "Енроллментажент". Этот сертификат подписи будет использоваться для подписания запроса на сертификат, созданного от имени получателя смарт-карты. По умолчанию администраторы домена получают разрешение на запрос сертификата на основе шаблона "агент регистрации". Другим пользователям может быть предоставлено разрешение на регистрацию сертификата "Енроллментажент" (с помощью оснастки MMC "сайты и службы" Active Directory); Тем не менее, это позволяет пользователю самостоятельно выдать смарт-карту с правами администратора домена.

 

 
