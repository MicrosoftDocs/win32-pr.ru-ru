---
description: Службы сертификатов — это одна из основных средств инфраструктуры открытых ключей (PKI), которая предоставляет средства для защиты и проверки подлинности информации.
ms.assetid: c18f46ca-e805-4b33-8014-79dc34c18531
title: Сертификаты и открытые ключи
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 07e01993673fe16c8401368ffaa7e8815c450dd5
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "103898106"
---
# <a name="certificates-and-public-keys"></a><span data-ttu-id="42849-103">Сертификаты и открытые ключи</span><span class="sxs-lookup"><span data-stu-id="42849-103">Certificates and Public Keys</span></span>

<span data-ttu-id="42849-104">Службы сертификатов — это одна из основных средств инфраструктуры открытых ключей (PKI), которая предоставляет средства для защиты и проверки подлинности информации.</span><span class="sxs-lookup"><span data-stu-id="42849-104">Certificate Services is one foundation for the Public Key Infrastructure (PKI) that provides the means for safeguarding and authenticating information.</span></span> <span data-ttu-id="42849-105">Связь между владельцем сертификата, удостоверением владельца сертификата и [*открытым ключом*](../secgloss/p-gly.md) владельца сертификата является ВАЖНОЙ частью PKI.</span><span class="sxs-lookup"><span data-stu-id="42849-105">The relationship between a certificate holder, the certificate holder's identity, and the certificate holder's [*public key*](../secgloss/p-gly.md) is a critical portion of PKI.</span></span> <span data-ttu-id="42849-106">Эта инфраструктура состоит из следующих частей:</span><span class="sxs-lookup"><span data-stu-id="42849-106">This infrastructure is made up of the following parts:</span></span>

-   [<span data-ttu-id="42849-107">Пара открытого и закрытого ключей</span><span class="sxs-lookup"><span data-stu-id="42849-107">The Public/Private Key Pair</span></span>](#the-publicprivate-key-pair)
-   [<span data-ttu-id="42849-108">Запрос на сертификат</span><span class="sxs-lookup"><span data-stu-id="42849-108">The Certificate Request</span></span>](#the-certificate-request)
-   [<span data-ttu-id="42849-109">Центр сертификации</span><span class="sxs-lookup"><span data-stu-id="42849-109">The Certification Authority</span></span>](#the-certification-authority)
-   [<span data-ttu-id="42849-110">Сертификат</span><span class="sxs-lookup"><span data-stu-id="42849-110">The Certificate</span></span>](#the-certificate-request)
-   [<span data-ttu-id="42849-111">Список отзыва сертификатов</span><span class="sxs-lookup"><span data-stu-id="42849-111">The Certificate Revocation List</span></span>](#the-certificate-revocation-list)
-   [<span data-ttu-id="42849-112">Открытый ключ, используемый для шифрования</span><span class="sxs-lookup"><span data-stu-id="42849-112">Your Public Key Used for Encryption</span></span>](#your-public-key-used-for-encryption)
-   [<span data-ttu-id="42849-113">Открытый ключ, используемый для проверки подписи</span><span class="sxs-lookup"><span data-stu-id="42849-113">Your Public Key Used for Signature Verification</span></span>](#your-public-key-used-for-signature-verification)
-   [<span data-ttu-id="42849-114">Роль служб сертификации Майкрософт</span><span class="sxs-lookup"><span data-stu-id="42849-114">Microsoft Certificate Services Role</span></span>](#microsoft-certificate-services-role)

## <a name="the-publicprivate-key-pair"></a><span data-ttu-id="42849-115">Пара открытого и закрытого ключей</span><span class="sxs-lookup"><span data-stu-id="42849-115">The Public/Private Key Pair</span></span>

<span data-ttu-id="42849-116">PKI требует использования [*пар открытого и закрытого ключей*](../secgloss/p-gly.md).</span><span class="sxs-lookup"><span data-stu-id="42849-116">PKI requires the use of [*public/private key pairs*](../secgloss/p-gly.md).</span></span> <span data-ttu-id="42849-117">Математика пар открытого и закрытого ключей выходит за рамки данной документации, но важно отметить функциональную связь между открытым и закрытым ключами.</span><span class="sxs-lookup"><span data-stu-id="42849-117">The mathematics of public/private key pairs is beyond the scope of this documentation, but it is important to note the functional relationship between a public and a private key.</span></span> <span data-ttu-id="42849-118">[*Криптографические алгоритмы*](../secgloss/c-gly.md) PKI используют [*открытый ключ*](../secgloss/p-gly.md) получателя зашифрованного сообщения для шифрования данных, а также связанный [*закрытый ключ*](../secgloss/p-gly.md) и только связанный закрытый ключ для расшифровки зашифрованного сообщения.</span><span class="sxs-lookup"><span data-stu-id="42849-118">PKI [*cryptographic algorithms*](../secgloss/c-gly.md) use the [*public key*](../secgloss/p-gly.md) of the receiver of an encrypted message to encrypt data, and the related [*private key*](../secgloss/p-gly.md) and only the related private key to decrypt the encrypted message.</span></span>

<span data-ttu-id="42849-119">Аналогичным образом, [*Цифровая подпись*](../secgloss/d-gly.md) содержимого, подробно описанная ниже, создается с помощью закрытого ключа подписавших.</span><span class="sxs-lookup"><span data-stu-id="42849-119">Similarly, a [*digital signature*](../secgloss/d-gly.md) of the content, described in greater detail below, is created with the signer's private key.</span></span> <span data-ttu-id="42849-120">Для проверки этой подписи используется соответствующий открытый ключ, доступный для всех.</span><span class="sxs-lookup"><span data-stu-id="42849-120">The corresponding public key, which is available to everyone, is used to verify this signature.</span></span> <span data-ttu-id="42849-121">Секретная безопасность закрытого ключа должна поддерживаться, так как инфраструктура падает после компрометации закрытого ключа.</span><span class="sxs-lookup"><span data-stu-id="42849-121">The secrecy of the private key must be maintained because the framework falls apart after the private key is compromised.</span></span>

<span data-ttu-id="42849-122">Учитывая достаточное время и ресурсы, пару открытого и закрытого ключей можно ослабить, то есть можно будет обнаружить закрытый ключ.</span><span class="sxs-lookup"><span data-stu-id="42849-122">Given enough time and resources, a public/private key pair can be compromised, that is, the private key can be discovered.</span></span> <span data-ttu-id="42849-123">Чем больше ключ, тем сложнее будет использование принудительного подбора для обнаружения закрытого ключа.</span><span class="sxs-lookup"><span data-stu-id="42849-123">The longer the key, the more difficult it is to use brute force to discover the private key.</span></span> <span data-ttu-id="42849-124">На практике можно использовать достаточно надежные ключи, чтобы сделать невозможным своевременное определение закрытого ключа, делая инфраструктуру открытого ключа приемлемым механизмом безопасности.</span><span class="sxs-lookup"><span data-stu-id="42849-124">In practice, sufficiently strong keys can be used to make it unfeasible to determine the private key in a timely manner, making the Public Key Infrastructure a viable security mechanism.</span></span>

<span data-ttu-id="42849-125">Закрытый ключ может храниться в защищенном формате на диске. в этом случае его можно использовать только с конкретным компьютером, если он физически не был перемещен на другой компьютер.</span><span class="sxs-lookup"><span data-stu-id="42849-125">A private key can be stored, in protected format, on a disk, in which case it can only be used with that specific computer unless it is physically moved to another computer.</span></span> <span data-ttu-id="42849-126">Альтернативой является наличие ключа на смарт-карте, который можно использовать на другом компьютере при условии, что у него есть устройство чтения смарт-карт и вспомогательное программное обеспечение.</span><span class="sxs-lookup"><span data-stu-id="42849-126">An alternative is to have a key on a smart card that can be used on a different computer provided it has a smart card reader and supporting software.</span></span>

<span data-ttu-id="42849-127">Открытый ключ, но не закрытый ключ субъекта цифрового сертификата, входит в состав [*запроса на сертификат*](../secgloss/c-gly.md).</span><span class="sxs-lookup"><span data-stu-id="42849-127">The public key, but not the private key, of the subject of a digital certificate is included as part of the [*certificate request*](../secgloss/c-gly.md).</span></span> <span data-ttu-id="42849-128">(Таким образом, перед выполнением запроса на сертификат должна существовать пара открытого и закрытого ключей.) Открытый ключ станет частью выданного сертификата.</span><span class="sxs-lookup"><span data-stu-id="42849-128">(Hence, a public/private key pair must exist before making the certificate request.) That public key becomes part of the issued certificate.</span></span>

## <a name="the-certificate-request"></a><span data-ttu-id="42849-129">Запрос на сертификат</span><span class="sxs-lookup"><span data-stu-id="42849-129">The Certificate Request</span></span>

<span data-ttu-id="42849-130">Перед выдаче сертификата необходимо создать [*запрос на сертификат*](../secgloss/c-gly.md) .</span><span class="sxs-lookup"><span data-stu-id="42849-130">Before a certificate is issued, a [*certificate request*](../secgloss/c-gly.md) must be generated.</span></span> <span data-ttu-id="42849-131">Этот запрос применяется к одной сущности, например конечному пользователю, компьютеру или приложению.</span><span class="sxs-lookup"><span data-stu-id="42849-131">This request applies to one entity, for example, an end-user, a computer, or an application.</span></span> <span data-ttu-id="42849-132">Для обсуждения Предположим, что сущность самостоятельно.</span><span class="sxs-lookup"><span data-stu-id="42849-132">For discussion, assume that the entity is yourself.</span></span> <span data-ttu-id="42849-133">Сведения об удостоверении включаются в запрос на сертификат.</span><span class="sxs-lookup"><span data-stu-id="42849-133">Details of your identity are included in the certificate request.</span></span> <span data-ttu-id="42849-134">После создания запроса он отправляется в [*центр сертификации*](../secgloss/c-gly.md) (ЦС).</span><span class="sxs-lookup"><span data-stu-id="42849-134">After the request is generated, it is submitted to a [*certification authority*](../secgloss/c-gly.md) (CA).</span></span> <span data-ttu-id="42849-135">Затем ЦС использует сведения об удостоверении, чтобы определить, соответствует ли запрос критериям ЦС для выдачи сертификата.</span><span class="sxs-lookup"><span data-stu-id="42849-135">The CA then uses your identity information to determine whether the request meets the CA's criteria for issuing a certificate.</span></span> <span data-ttu-id="42849-136">Если центр сертификации утверждает запрос, он выдает вам сертификат, как сущность с именем в запросе.</span><span class="sxs-lookup"><span data-stu-id="42849-136">If the CA approves the request, it issues a certificate to you, as the entity named in the request.</span></span>

## <a name="the-certification-authority"></a><span data-ttu-id="42849-137">Центр сертификации</span><span class="sxs-lookup"><span data-stu-id="42849-137">The Certification Authority</span></span>

<span data-ttu-id="42849-138">Перед выдачей сертификата ЦС проверяет ваше удостоверение.</span><span class="sxs-lookup"><span data-stu-id="42849-138">Before issuing your certificate, the CA verifies your identity.</span></span> <span data-ttu-id="42849-139">При выдаче сертификата ваше удостоверение привязывается к сертификату, который содержит открытый ключ.</span><span class="sxs-lookup"><span data-stu-id="42849-139">When the certificate is issued, your identity is bound to the certificate, which contains your public key.</span></span> <span data-ttu-id="42849-140">Сертификат также содержит цифровую подпись ЦС (которую может проверить любой пользователь, получивший сертификат).</span><span class="sxs-lookup"><span data-stu-id="42849-140">Your certificate also contains the CA's digital signature (which can be verified by anyone who receives your certificate).</span></span>

<span data-ttu-id="42849-141">Так как сертификат содержит удостоверение выдающего ЦС, заинтересованная сторона, которая доверяет этому ЦС, может расширить доверие к вашему сертификату.</span><span class="sxs-lookup"><span data-stu-id="42849-141">Because your certificate contains the identity of the issuing CA, an interested party that trusts this CA can extend that trust to your certificate.</span></span> <span data-ttu-id="42849-142">Выдача сертификата не устанавливает доверие, но передает доверие.</span><span class="sxs-lookup"><span data-stu-id="42849-142">The issuance of a certificate does not establish trust, but transfers trust.</span></span> <span data-ttu-id="42849-143">Если потребитель сертификата не доверяет выдающему ЦС, он не будет доверять сертификату (или по крайней мере не должен).</span><span class="sxs-lookup"><span data-stu-id="42849-143">If the certificate consumer does not trust the issuing CA, it will not (or at least should not) trust your certificate.</span></span>

<span data-ttu-id="42849-144">Цепочка подписанных сертификатов позволяет также передавать отношения доверия в другие ЦС.</span><span class="sxs-lookup"><span data-stu-id="42849-144">A chain of signed certificates allows trust to be transferred to other CAs as well.</span></span> <span data-ttu-id="42849-145">Это позволяет сторонам, использующим разные ЦС, по-прежнему иметь возможность доверять сертификатам (при условии, что в цепочке есть общий ЦС, который является доверенным для обеих сторон).</span><span class="sxs-lookup"><span data-stu-id="42849-145">This allows parties who use different CAs to still be able to trust certificates (provided there is a common CA in the chain, that is, a CA that is trusted by both parties).</span></span>

## <a name="the-certificate"></a><span data-ttu-id="42849-146">Сертификат</span><span class="sxs-lookup"><span data-stu-id="42849-146">The Certificate</span></span>

<span data-ttu-id="42849-147">В дополнение к открытому ключу и удостоверению выдающего ЦС, выданный сертификат содержит сведения о назначений ключа и сертификата.</span><span class="sxs-lookup"><span data-stu-id="42849-147">In addition to your public key and the identity of the issuing CA, the issued certificate contains information about the purposes of your key and certificate.</span></span> <span data-ttu-id="42849-148">Кроме того, он включает путь к списку отозванных сертификатов ЦС и указывает срок действия сертификата (даты начала и окончания).</span><span class="sxs-lookup"><span data-stu-id="42849-148">Furthermore, it includes the path to the CA's list of revoked certificates, and it specifies the certificate validity period (beginning and ending dates).</span></span>

<span data-ttu-id="42849-149">Предполагая, что потребитель сертификата доверяет выдающему ЦС для вашего сертификата, потребитель сертификата должен определить, действителен ли сертификат, сравнивая даты начала и окончания сертификата с текущим временем и проверяя, что сертификат не находится в списке отозванных сертификатов ЦС.</span><span class="sxs-lookup"><span data-stu-id="42849-149">Assuming the certificate consumer trusts the issuing CA for your certificate, the certificate consumer must determine whether the certificate is still valid by comparing the certificate's beginning and ending dates with the current time and by checking that your certificate in not on the CA's list of revoked certificates.</span></span>

## <a name="the-certificate-revocation-list"></a><span data-ttu-id="42849-150">Список отзыва сертификатов</span><span class="sxs-lookup"><span data-stu-id="42849-150">The Certificate Revocation List</span></span>

<span data-ttu-id="42849-151">Предполагая, что сертификат используется в течение допустимого периода времени, а потребитель сертификата доверяет выдающему ЦС, перед использованием сертификата необходимо проверить еще один элемент, прежде чем использовать этот сертификат: [*список отзыва сертификатов*](../secgloss/c-gly.md) (CRL).</span><span class="sxs-lookup"><span data-stu-id="42849-151">Assuming the certificate is being used in a valid time period and the certificate consumer trusts the issuing CA, there is one more item for the certificate consumer to check before using the certificate: the [*certificate revocation list*](../secgloss/c-gly.md) (CRL).</span></span> <span data-ttu-id="42849-152">Потребитель сертификата проверяет список отзыва сертификатов (путь к которому включен в качестве расширения в сертификате), чтобы убедиться, что сертификат отсутствует в списке отозванных сертификатов.</span><span class="sxs-lookup"><span data-stu-id="42849-152">The certificate consumer checks the CA's CRL (the path to which is included as an extension in your certificate) to ensure your certificate is not on the list of certificates that have been revoked.</span></span> <span data-ttu-id="42849-153">Списки отзыва сертификатов существуют, так как бывают случаи, когда срок действия сертификата не истек, но он больше не может быть доверенным.</span><span class="sxs-lookup"><span data-stu-id="42849-153">CRLs exist because there are times when a certificate has not expired, but it can no longer be trusted.</span></span> <span data-ttu-id="42849-154">Периодически ЦС будет публиковать обновленный список отзыва сертификатов.</span><span class="sxs-lookup"><span data-stu-id="42849-154">Periodically, the CA will publish an updated CRL.</span></span> <span data-ttu-id="42849-155">Потребители сертификатов отвечают за сравнение сертификатов с текущим списком отзыва сертификатов перед тем, как считать сертификат заслуживающим доверия.</span><span class="sxs-lookup"><span data-stu-id="42849-155">Certificate consumers are responsible for comparing certificates to the current CRL before considering the certificate trustworthy.</span></span>

## <a name="your-public-key-used-for-encryption"></a><span data-ttu-id="42849-156">Открытый ключ, используемый для шифрования</span><span class="sxs-lookup"><span data-stu-id="42849-156">Your Public Key Used for Encryption</span></span>

<span data-ttu-id="42849-157">Если отправитель хочет зашифровать сообщение перед его отправкой, отправитель сначала получит сертификат.</span><span class="sxs-lookup"><span data-stu-id="42849-157">If a sender wants to encrypt a message before sending it to you, the sender first retrieves your certificate.</span></span> <span data-ttu-id="42849-158">После того как отправитель определит, что центр сертификации является доверенным и сертификат действителен и не отозван, отправитель использует открытый ключ (его следует отозвать), используя алгоритмы шифрования для шифрования сообщения в [*зашифрованном*](../secgloss/c-gly.md) [*тексте*](../secgloss/p-gly.md) .</span><span class="sxs-lookup"><span data-stu-id="42849-158">After the sender determines that the CA is trusted and your certificate is valid and not revoked, the sender uses your public key (recall it is part of the certificate) with cryptographic algorithms to encrypt the [*plaintext*](../secgloss/p-gly.md) message into [*ciphertext*](../secgloss/c-gly.md).</span></span> <span data-ttu-id="42849-159">При получении зашифрованного текста вы используете закрытый ключ для расшифровки зашифрованного текста.</span><span class="sxs-lookup"><span data-stu-id="42849-159">When you receive the ciphertext, you use your private key to decrypt the ciphertext.</span></span>

<span data-ttu-id="42849-160">Если третья сторона перехватывает сообщение электронной почты с зашифрованным текстом, третья сторона не сможет расшифровать его без доступа к вашему [*закрытому ключу*](../secgloss/p-gly.md).</span><span class="sxs-lookup"><span data-stu-id="42849-160">If a third party intercepts the ciphertext email message, the third party will not be able to decrypt it without access to your [*private key*](../secgloss/p-gly.md).</span></span>

<span data-ttu-id="42849-161">Обратите внимание, что основная часть действий, перечисленных здесь, обрабатывается программным обеспечением, а не напрямую пользователем.</span><span class="sxs-lookup"><span data-stu-id="42849-161">Note that the bulk of the activities listed here are handled by software, not directly by the user.</span></span>

## <a name="your-public-key-used-for-signature-verification"></a><span data-ttu-id="42849-162">Открытый ключ, используемый для проверки подписи</span><span class="sxs-lookup"><span data-stu-id="42849-162">Your Public Key Used for Signature Verification</span></span>

<span data-ttu-id="42849-163">[*Цифровая подпись*](../secgloss/d-gly.md) используется в качестве подтверждения того, что сообщение не было изменено и является подтверждением удостоверения отправителя сообщения.</span><span class="sxs-lookup"><span data-stu-id="42849-163">A [*digital signature*](../secgloss/d-gly.md) is used as confirmation that a message has not been altered and as confirmation of the message sender's identity.</span></span> <span data-ttu-id="42849-164">Эта цифровая подпись зависит от вашего закрытого ключа и содержимого сообщения.</span><span class="sxs-lookup"><span data-stu-id="42849-164">This digital signature is dependent on your private key and the message contents.</span></span> <span data-ttu-id="42849-165">Используя сообщение в качестве входных данных и закрытого ключа, алгоритмы шифрования создают цифровую подпись.</span><span class="sxs-lookup"><span data-stu-id="42849-165">Using the message as input and your private key, cryptographic algorithms create the digital signature.</span></span> <span data-ttu-id="42849-166">Содержимое сообщения не изменяется процессом подписи.</span><span class="sxs-lookup"><span data-stu-id="42849-166">The contents of the message are not changed by the signing process.</span></span> <span data-ttu-id="42849-167">Получатель может использовать открытый ключ (после проверки допустимости сертификата, выдачи ЦС и состояния отзыва), чтобы определить, соответствует ли подпись содержимому сообщения, и определить, было ли сообщение отправлено вами.</span><span class="sxs-lookup"><span data-stu-id="42849-167">A recipient can use your public key (after checking your certificate's validity, issuing CA, and revocation status) to determine whether the signature corresponds to the message contents and to determine whether the message was sent by you.</span></span>

<span data-ttu-id="42849-168">Если третья сторона перехватывает предполагаемое сообщение, изменяет его (даже немного) и перенаправляет его и исходную подпись получателю, получатель, после проверки сообщения и подписи, сможет определить, что сообщение подозрительно.</span><span class="sxs-lookup"><span data-stu-id="42849-168">If a third party intercepts the intended message, alters it (even slightly), and forwards it and the original signature to the recipient, the recipient, upon examination of the message and signature, will be able to determine that the message is suspect.</span></span> <span data-ttu-id="42849-169">Аналогичным образом, если третья сторона создает сообщение и отправляет его фиктивной цифровой подписью под создавшим его ГИП, получатель сможет использовать открытый ключ, чтобы определить, что сообщение и подпись не соответствуют друг другу.</span><span class="sxs-lookup"><span data-stu-id="42849-169">Similarly, if a third party creates a message and sends it with a bogus digital signature under the guise that it originated from you, the recipient will be able to use your public key to determine that the message and signature do not correspond to each other.</span></span>

<span data-ttu-id="42849-170">Цифровые подписи также поддерживают [*неподдельность*](../secgloss/n-gly.md) .</span><span class="sxs-lookup"><span data-stu-id="42849-170">[*Nonrepudiation*](../secgloss/n-gly.md) is also supported by digital signatures.</span></span> <span data-ttu-id="42849-171">Если отправитель подписанного сообщения запрещает отправку сообщения, получатель может использовать подпись, чтобы рефуте это утверждение.</span><span class="sxs-lookup"><span data-stu-id="42849-171">If the sender of a signed message denies sending the message, the recipient can use the signature to refute that claim.</span></span>

<span data-ttu-id="42849-172">Обратите внимание, что основная часть действий, перечисленных здесь, также обрабатывается программным обеспечением, а не напрямую пользователем.</span><span class="sxs-lookup"><span data-stu-id="42849-172">Note that the bulk of the activities listed here are also handled by software, not directly by the user.</span></span>

## <a name="microsoft-certificate-services-role"></a><span data-ttu-id="42849-173">Роль служб сертификации Майкрософт</span><span class="sxs-lookup"><span data-stu-id="42849-173">Microsoft Certificate Services Role</span></span>

<span data-ttu-id="42849-174">Службы сертификации Майкрософт имеют роль выдачи сертификатов или запрета запросов сертификатов в соответствии с назначением модулей политик, которые отвечают за обеспечение удостоверения запрашивающей стороны сертификата.</span><span class="sxs-lookup"><span data-stu-id="42849-174">Microsoft Certificate Services has the role of issuing certificates or denying requests for certificates, as directed by policy modules, which are responsible for ensuring the identity of the certificate requester.</span></span> <span data-ttu-id="42849-175">Службы сертификатов также предоставляют возможность отзывать сертификат, а также публиковать список отзыва сертификатов.</span><span class="sxs-lookup"><span data-stu-id="42849-175">Certificate Services also provides the ability to revoke a certificate, as well as publish the CRL.</span></span> <span data-ttu-id="42849-176">Службы сертификации также могут централизованно распространять (например, в службу каталогов) выданные сертификаты.</span><span class="sxs-lookup"><span data-stu-id="42849-176">Certificate Services can also centrally distribute (for example, to a directory service) issued certificates.</span></span> <span data-ttu-id="42849-177">Возможность выдавать, распространять, отзывать и управлять сертификатами вместе с публикацией списков отзыва сертификатов предоставляет необходимые возможности для инфраструктуры открытых ключей.</span><span class="sxs-lookup"><span data-stu-id="42849-177">The ability to issue, distribute, revoke, and manage certificates, along with the publication of CRLs, provides the necessary capabilities for public key infrastructure.</span></span>

 

 
