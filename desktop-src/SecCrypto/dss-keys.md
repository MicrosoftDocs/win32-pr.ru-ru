---
description: Описание процедур создания, извлечения, проверки и экспорта ключей и подписей DSS.
ms.assetid: d28fe531-af4b-4b5e-ab67-47ef70f8fa5b
title: Ключи DSS
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 2f6ab8adcc4d551c4196e99ce48f5afdd380dc3a
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "105647157"
---
# <a name="dss-keys"></a><span data-ttu-id="ee507-103">Ключи DSS</span><span class="sxs-lookup"><span data-stu-id="ee507-103">DSS Keys</span></span>

-   [<span data-ttu-id="ee507-104">Создание и получение ключей DSS</span><span class="sxs-lookup"><span data-stu-id="ee507-104">Generating and Retrieving DSS Keys</span></span>](#generating-and-retrieving-dss-keys)
-   [<span data-ttu-id="ee507-105">Создание подписей DSS</span><span class="sxs-lookup"><span data-stu-id="ee507-105">Generating DSS Signatures</span></span>](#generating-dss-signatures)
-   [<span data-ttu-id="ee507-106">Проверка подписи DSS</span><span class="sxs-lookup"><span data-stu-id="ee507-106">Verifying a DSS Signature</span></span>](#verifying-a-dss-signature)
-   [<span data-ttu-id="ee507-107">Экспорт ключей DSS</span><span class="sxs-lookup"><span data-stu-id="ee507-107">Exporting DSS Keys</span></span>](#exporting-dss-keys)

## <a name="generating-and-retrieving-dss-keys"></a><span data-ttu-id="ee507-108">Создание и получение ключей DSS</span><span class="sxs-lookup"><span data-stu-id="ee507-108">Generating and Retrieving DSS Keys</span></span>

<span data-ttu-id="ee507-109">Ключи DSS можно создавать с помощью вызова функции [**криптженкэй**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptgenkey) .</span><span class="sxs-lookup"><span data-stu-id="ee507-109">DSS Keys can be generated by a call to the [**CryptGenKey**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptgenkey) function.</span></span> <span data-ttu-id="ee507-110">Вызов **криптженкэй** требует, чтобы в \_ \_ \_ аргументе *алгид* был передан либо сигнатура, либо калг DSS.</span><span class="sxs-lookup"><span data-stu-id="ee507-110">The call to **CryptGenKey** requires that either AT\_SIGNATURE or CALG\_DSS\_SIGN be passed in the *Algid* argument.</span></span> <span data-ttu-id="ee507-111">Этот вызов создаст значения P (основной модуль), Q (простой), G (генератор), X (секретный показатель) и Y (открытый ключ) с нуля и сохранит их в [*двоичном объекте ключа*](../secgloss/k-gly.md) в локальном хранилище.</span><span class="sxs-lookup"><span data-stu-id="ee507-111">This call will generate the P (prime modulus), Q (prime), G (generator), X (secret exponent), and Y (public key) values from scratch and persist them in a [*key BLOB*](../secgloss/k-gly.md) to local storage.</span></span>

<span data-ttu-id="ee507-112">**Создание пары ключей подписи DSS**</span><span class="sxs-lookup"><span data-stu-id="ee507-112">**To generate a DSS signature key pair**</span></span>

1.  <span data-ttu-id="ee507-113">Вызовите функцию [**CryptAcquireContext**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptacquirecontexta) , чтобы получить маркер поставщика служб шифрования Microsoft DSS.</span><span class="sxs-lookup"><span data-stu-id="ee507-113">Call the [**CryptAcquireContext**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptacquirecontexta) function to get a handle to the Microsoft DSS Cryptographic Provider.</span></span>
2.  <span data-ttu-id="ee507-114">Вызовите [**криптженкэй**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptgenkey) , чтобы создать ключи.</span><span class="sxs-lookup"><span data-stu-id="ee507-114">Call [**CryptGenKey**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptgenkey) to generate the keys.</span></span> <span data-ttu-id="ee507-115">\_ \_ Для аргумента алгид необходимо передать либо сигнатуру, либо калг DSS \_ Sign, а старшие 16 разрядов аргумента *dwFlags* должны быть заданы с требуемым размером ключа. </span><span class="sxs-lookup"><span data-stu-id="ee507-115">Either AT\_SIGNATURE or CALG\_DSS\_SIGN must be passed in for the *Algid* argument and the upper 16 bits of the *dwFlags* argument must be set to the desired key size.</span></span> <span data-ttu-id="ee507-116">Если 16 верхних разрядов равны нулю, будет использоваться размер ключа по умолчанию (1 024 бит).</span><span class="sxs-lookup"><span data-stu-id="ee507-116">If the upper 16 bits are zero, then the default key size of 1,024 bits will be used.</span></span> <span data-ttu-id="ee507-117">В аргументе *hKey* возвращается [**хкрипткэй**](hcryptkey.md) -маркер.</span><span class="sxs-lookup"><span data-stu-id="ee507-117">A [**HCRYPTKEY**](hcryptkey.md) handle is returned in the *hKey* argument.</span></span>

<span data-ttu-id="ee507-118">**Получение указателя на ранее созданные ключи подписи**</span><span class="sxs-lookup"><span data-stu-id="ee507-118">**To retrieve a pointer to previously generated signature keys**</span></span>

1.  <span data-ttu-id="ee507-119">Вызовите [**CryptAcquireContext**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptacquirecontexta) , чтобы получить маркер поставщика служб шифрования Microsoft DSS.</span><span class="sxs-lookup"><span data-stu-id="ee507-119">Call [**CryptAcquireContext**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptacquirecontexta) to get a handle to the Microsoft DSS Cryptographic Provider.</span></span>
2.  <span data-ttu-id="ee507-120">Вызовите функцию [**криптжетусеркэй**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptgetuserkey) с аргументом *двкэйспек* , для которого задано значение в \_ сигнатуре или калге \_ DSS \_ .</span><span class="sxs-lookup"><span data-stu-id="ee507-120">Call the [**CryptGetUserKey**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptgetuserkey) function with the *dwKeySpec* argument set to either AT\_SIGNATURE or CALG\_DSS\_SIGN.</span></span>

<span data-ttu-id="ee507-121">**Получение значений P, Q и G**</span><span class="sxs-lookup"><span data-stu-id="ee507-121">**To retrieve the P, Q, and G values**</span></span>

1.  <span data-ttu-id="ee507-122">Вызовите [**CryptAcquireContext**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptacquirecontexta) , чтобы получить маркер поставщика служб шифрования Microsoft DSS.</span><span class="sxs-lookup"><span data-stu-id="ee507-122">Call [**CryptAcquireContext**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptacquirecontexta) to get a handle to the Microsoft DSS Cryptographic Provider.</span></span>
2.  <span data-ttu-id="ee507-123">Вызовите [**криптжетусеркэй**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptgetuserkey) , указав для аргумента *двкэйспек* значение at \_ или калг \_ \_ Sign.</span><span class="sxs-lookup"><span data-stu-id="ee507-123">Call [**CryptGetUserKey**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptgetuserkey) with the *dwKeySpec* argument set to either AT\_SIGNATURE or CALG\_DSS\_SIGN.</span></span>
3.  <span data-ttu-id="ee507-124">Вызовите [**криптжеткэйпарам**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptgetkeyparam) , указав в качестве аргумента *hKey* указатель, полученный на предыдущем шаге.</span><span class="sxs-lookup"><span data-stu-id="ee507-124">Call [**CryptGetKeyParam**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptgetkeyparam) with the *hKey* argument set to the pointer retrieved in the previous step.</span></span> <span data-ttu-id="ee507-125">Для аргумента *двпарам* должен быть задан нужный флаг; КЛЮЧЕВОЙ \_ P, ключевой \_ вопрос Q или ключевой \_ номер G.</span><span class="sxs-lookup"><span data-stu-id="ee507-125">The *dwParam* argument must be set to the desired flag; KP\_P, KP\_Q, or KP\_G.</span></span> <span data-ttu-id="ee507-126">Значение возвращается в аргументе *pbData* , а длина данных возвращается в аргументе *пдвдатален* .</span><span class="sxs-lookup"><span data-stu-id="ee507-126">The value is returned in the *pbData* argument, and the length of the data is returned in the *pdwDataLen* argument.</span></span> <span data-ttu-id="ee507-127">Значение возвращается без сведений о заголовке и в формате с [*прямым порядком байтов*](../secgloss/l-gly.md) .</span><span class="sxs-lookup"><span data-stu-id="ee507-127">The value is returned with no header information and in [*little-endian*](../secgloss/l-gly.md) format.</span></span>

## <a name="generating-dss-signatures"></a><span data-ttu-id="ee507-128">Создание подписей DSS</span><span class="sxs-lookup"><span data-stu-id="ee507-128">Generating DSS Signatures</span></span>

<span data-ttu-id="ee507-129">Данные для подписи должны быть сначала [*хэшированы*](../secgloss/h-gly.md) с помощью алгоритма [*SHA*](../secgloss/s-gly.md) .</span><span class="sxs-lookup"><span data-stu-id="ee507-129">Data to be signed must first be [*hashed*](../secgloss/h-gly.md) by using the [*SHA*](../secgloss/s-gly.md) algorithm.</span></span> <span data-ttu-id="ee507-130">После хэширования данных создается подпись [*DSS*](../secgloss/d-gly.md) путем вызова функции [**криптсигнхаш**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptsignhasha) .</span><span class="sxs-lookup"><span data-stu-id="ee507-130">After that data is hashed, a [*DSS*](../secgloss/d-gly.md) signature is generated by calling the [**CryptSignHash**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptsignhasha) function.</span></span>

<span data-ttu-id="ee507-131">**Создание подписи DSS**</span><span class="sxs-lookup"><span data-stu-id="ee507-131">**To generate a DSS signature**</span></span>

1.  <span data-ttu-id="ee507-132">Вызовите [**CryptAcquireContext**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptacquirecontexta) , чтобы получить маркер поставщика служб шифрования Microsoft DSS.</span><span class="sxs-lookup"><span data-stu-id="ee507-132">Call [**CryptAcquireContext**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptacquirecontexta) to get a handle to the Microsoft DSS Cryptographic Provider.</span></span>
2.  <span data-ttu-id="ee507-133">Вызовите [**CryptCreateHash**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptcreatehash) , указав для аргумента *алгид* значение калг \_ SHA, чтобы получить маркер для хэш-объекта SHA.</span><span class="sxs-lookup"><span data-stu-id="ee507-133">Call [**CryptCreateHash**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptcreatehash) with the *Algid* argument set to CALG\_SHA to get a handle to a SHA hash object.</span></span>
3.  <span data-ttu-id="ee507-134">Вызовите [**CryptHashData**](/windows/desktop/api/Wincrypt/nf-wincrypt-crypthashdata) с аргументом *ххаш* , для которого задан маркер, полученный на предыдущем шаге.</span><span class="sxs-lookup"><span data-stu-id="ee507-134">Call [**CryptHashData**](/windows/desktop/api/Wincrypt/nf-wincrypt-crypthashdata) with the *hHash* argument set to the handle retrieved in the previous step.</span></span> <span data-ttu-id="ee507-135">При этом создается хэш данных и возвращается маркер для хеша в аргументе *фхаш* вызова функции [**CryptCreateHash**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptcreatehash) .</span><span class="sxs-lookup"><span data-stu-id="ee507-135">This creates a hash of the data and returns a handle to the hash in the *phHash* argument of the [**CryptCreateHash**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptcreatehash) function call.</span></span>
4.  <span data-ttu-id="ee507-136">Вызовите [**криптсигнхаш**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptsignhasha) с аргументом *ххаш* , для которого задан маркер, полученный на предыдущем шаге.</span><span class="sxs-lookup"><span data-stu-id="ee507-136">Call [**CryptSignHash**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptsignhasha) with the *hHash* argument set to the handle retrieved in the previous step.</span></span> <span data-ttu-id="ee507-137">В \_ \_ \_ параметре *двкэйспек* может быть передан либо подпись at, либо калг DSS Sign.</span><span class="sxs-lookup"><span data-stu-id="ee507-137">Either AT\_SIGNATURE or CALG\_DSS\_SIGN may be passed in the *dwKeySpec* parameter.</span></span> <span data-ttu-id="ee507-138">Сигнатура возвращается к адресу, указанному в аргументе *пбсигнатуре* , и длина подписи возвращается к адресу, указанному в аргументе *пдвсиглен* .</span><span class="sxs-lookup"><span data-stu-id="ee507-138">The signature is returned to the address provided in the *pbSignature* argument, and the length of the signature is returned to the address provided in the *pdwSigLen* argument.</span></span> <span data-ttu-id="ee507-139">Указатель **null** может быть передан в аргумент *пбсигнатуре* , и в данном случае сигнатура не создается, но длина сигнатуры возвращается к адресу, указанному в параметре *пдвсиглен* .</span><span class="sxs-lookup"><span data-stu-id="ee507-139">A **NULL** pointer may be passed in the *pbSignature* argument, and, in this case, the signature is not generated, but the length of the signature is returned to the address provided in the *pdwSigLen* parameter.</span></span>

## <a name="verifying-a-dss-signature"></a><span data-ttu-id="ee507-140">Проверка подписи DSS</span><span class="sxs-lookup"><span data-stu-id="ee507-140">Verifying a DSS Signature</span></span>

<span data-ttu-id="ee507-141">Чтобы проверить подпись DSS, необходимо импортировать открытый ключ DSS, [*подписанные данные*](../secgloss/s-gly.md) должны быть хэшированы, после чего подпись может быть проверена.</span><span class="sxs-lookup"><span data-stu-id="ee507-141">To verify a DSS signature, the DSS public key of the signer must be imported, the [*signed data*](../secgloss/s-gly.md) must be hashed, and then the signature can be verified.</span></span>

<span data-ttu-id="ee507-142">**Проверка подписи DSS**</span><span class="sxs-lookup"><span data-stu-id="ee507-142">**To verify a DSS signature**</span></span>

1.  <span data-ttu-id="ee507-143">Вызовите [**CryptAcquireContext**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptacquirecontexta) , чтобы получить маркер поставщика служб шифрования Microsoft DSS.</span><span class="sxs-lookup"><span data-stu-id="ee507-143">Call [**CryptAcquireContext**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptacquirecontexta) to get a handle to the Microsoft DSS Cryptographic Provider.</span></span>
2.  <span data-ttu-id="ee507-144">Вызовите [**криптимпорткэй**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptimportkey) , чтобы импортировать открытый ключ DSS подписавший.</span><span class="sxs-lookup"><span data-stu-id="ee507-144">Call [**CryptImportKey**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptimportkey) to import the signer's DSS public key.</span></span>
3.  <span data-ttu-id="ee507-145">Вызовите [**CryptCreateHash**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptcreatehash) , указав для аргумента *алгид* значение калг \_ SHA, чтобы получить маркер для хэш-объекта SHA.</span><span class="sxs-lookup"><span data-stu-id="ee507-145">Call [**CryptCreateHash**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptcreatehash) with the *Algid* argument set to CALG\_SHA to get a handle to a SHA hash object.</span></span>
4.  <span data-ttu-id="ee507-146">Вызовите [**CryptHashData**](/windows/desktop/api/Wincrypt/nf-wincrypt-crypthashdata) с аргументом *ххаш* , для которого задан маркер, полученный на предыдущем шаге, а *pbData* указывает на подписанные данные.</span><span class="sxs-lookup"><span data-stu-id="ee507-146">Call [**CryptHashData**](/windows/desktop/api/Wincrypt/nf-wincrypt-crypthashdata) with the *hHash* argument set to the handle retrieved in the previous step and with *pbData* pointing to the signed data.</span></span> <span data-ttu-id="ee507-147">При этом создается хэш данных и возвращается маркер для хеша в аргументе *фхаш* вызова функции [**CryptCreateHash**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptcreatehash) .</span><span class="sxs-lookup"><span data-stu-id="ee507-147">This creates a hash of the data and returns a handle to the hash in the *phHash* argument of the [**CryptCreateHash**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptcreatehash) function call.</span></span>
5.  <span data-ttu-id="ee507-148">Вызовите [**криптверифисигнатуре**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptverifysignaturea) со следующими параметрами:</span><span class="sxs-lookup"><span data-stu-id="ee507-148">Call [**CryptVerifySignature**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptverifysignaturea) with the following settings:</span></span>

    <span data-ttu-id="ee507-149">*ххаш* задается в качестве маркера для хэша, выполненного на предыдущем шаге.</span><span class="sxs-lookup"><span data-stu-id="ee507-149">*hHash* is set to the handle to the hash performed in the previous step.</span></span>

    <span data-ttu-id="ee507-150">*пбсигнатуре* указывает на проверяемую подпись.</span><span class="sxs-lookup"><span data-stu-id="ee507-150">*pbSignature* points to the signature to be verified.</span></span>

    <span data-ttu-id="ee507-151">*двсиглен* задает длину подписи.</span><span class="sxs-lookup"><span data-stu-id="ee507-151">*dwSigLen* is set to the length of the signature.</span></span>

    <span data-ttu-id="ee507-152">для *хпубкэй* задается маркер открытого ключа, импортированного на шаге 2.</span><span class="sxs-lookup"><span data-stu-id="ee507-152">*hPubKey* is set to the handle of the public key imported in step 2.</span></span>

    <span data-ttu-id="ee507-153">*dwFlags* имеет значение 0.</span><span class="sxs-lookup"><span data-stu-id="ee507-153">*dwFlags* is set to zero.</span></span>

## <a name="exporting-dss-keys"></a><span data-ttu-id="ee507-154">Экспорт ключей DSS</span><span class="sxs-lookup"><span data-stu-id="ee507-154">Exporting DSS Keys</span></span>

<span data-ttu-id="ee507-155">При отправке [*подписанных данных*](../secgloss/s-gly.md) пользователю, где подпись должна быть проверена получателем, Открытый ключ подписавшего должен быть предоставлен получателю и обычно отправляется вместе с подписанными данными.</span><span class="sxs-lookup"><span data-stu-id="ee507-155">When you send [*signed data*](../secgloss/s-gly.md) to someone where the signature will need to be verified by the recipient, the signer's public key must be provided to the recipient and is usually sent along with the signed data.</span></span> <span data-ttu-id="ee507-156">Поэтому необходимо иметь возможность экспортировать ключи [*DSS*](../secgloss/d-gly.md) в формате [*большого двоичного объекта ключа*](../secgloss/k-gly.md) .</span><span class="sxs-lookup"><span data-stu-id="ee507-156">Therefore, it is necessary to be able to export the [*DSS*](../secgloss/d-gly.md) keys in a [*key BLOB*](../secgloss/k-gly.md) format.</span></span>

<span data-ttu-id="ee507-157">**Экспорт открытого ключа DSS**</span><span class="sxs-lookup"><span data-stu-id="ee507-157">**To export the DSS public key**</span></span>

1.  <span data-ttu-id="ee507-158">Вызовите [**CryptAcquireContext**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptacquirecontexta) , чтобы получить маркер поставщика служб шифрования Microsoft DSS.</span><span class="sxs-lookup"><span data-stu-id="ee507-158">Call [**CryptAcquireContext**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptacquirecontexta) to get a handle to the Microsoft DSS Cryptographic Provider.</span></span>
2.  <span data-ttu-id="ee507-159">Вызовите [**криптжетусеркэй**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptgetuserkey) , указав для аргумента *двкэйспек* значение at \_ или калг \_ \_ Sign.</span><span class="sxs-lookup"><span data-stu-id="ee507-159">Call [**CryptGetUserKey**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptgetuserkey) with the *dwKeySpec* argument set to either AT\_SIGNATURE or CALG\_DSS\_SIGN.</span></span>
3.  <span data-ttu-id="ee507-160">Вызовите [**криптекспорткэй**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptexportkey) с помощью *hKey* , полученного на предыдущем шаге, *двблобтипе* , для которого задано значение публиккэйблоб, а *dwFlags* — нулевое значение.</span><span class="sxs-lookup"><span data-stu-id="ee507-160">Call [**CryptExportKey**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptexportkey) with *hKey* set to the handle retrieved in the previous step, *dwBlobType* set to PUBLICKEYBLOB, and *dwFlags* set to zero.</span></span> <span data-ttu-id="ee507-161">[*Большой двоичный объект открытого ключа*](../secgloss/p-gly.md) DSS возвращается в *pbData*, а длина [*большого двоичного объекта ключа*](../secgloss/k-gly.md) возвращается в *пдвдатален*.</span><span class="sxs-lookup"><span data-stu-id="ee507-161">The DSS [*public key BLOB*](../secgloss/p-gly.md) is returned in *pbData*, and the length of the [*key BLOB*](../secgloss/k-gly.md) is returned in *pdwDataLen*.</span></span> <span data-ttu-id="ee507-162">Указатель **null** можно передать в *pbData*, и в этом случае будет возвращена только длина большого двоичного объекта DSS Key.</span><span class="sxs-lookup"><span data-stu-id="ee507-162">A **NULL** pointer may be passed in *pbData*, and, in this case, just the length of the DSS key BLOB will be returned.</span></span> <span data-ttu-id="ee507-163">Большой двоичный объект, возвращаемый при вызове **криптекспорткэй** , имеет формат, описанный в [разделе BLOB-объекты поставщика DSS](dss-provider-key-blobs.md).</span><span class="sxs-lookup"><span data-stu-id="ee507-163">The BLOB returned when making the call to **CryptExportKey** is in the format described in [DSS Provider Key BLOBs](dss-provider-key-blobs.md).</span></span>

<span data-ttu-id="ee507-164">**Экспорт закрытого ключа DSS**</span><span class="sxs-lookup"><span data-stu-id="ee507-164">**To export the DSS private key**</span></span>

-   <span data-ttu-id="ee507-165">Выполните ту же процедуру, что и для экспорта открытого ключа DSS, за исключением того, что при вызове [**криптекспорткэй**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptexportkey) *ДВБЛОБТИПЕ* имеет значение приватекэйблоб.</span><span class="sxs-lookup"><span data-stu-id="ee507-165">Follow the same procedure as for exporting a DSS public key, except that when making the call to [**CryptExportKey**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptexportkey), *dwBlobType* is set to PRIVATEKEYBLOB.</span></span> <span data-ttu-id="ee507-166">Большой двоичный объект, возвращаемый при вызове **криптекспорткэй** , имеет формат, описанный в [разделе BLOB-объекты поставщика DSS](dss-provider-key-blobs.md).</span><span class="sxs-lookup"><span data-stu-id="ee507-166">The BLOB returned when making the call to **CryptExportKey** is in the format described in [DSS Provider Key BLOBs](dss-provider-key-blobs.md).</span></span>

 

 
