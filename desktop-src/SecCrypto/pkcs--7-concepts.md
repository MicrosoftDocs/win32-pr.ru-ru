---
description: Функции сообщений CryptoAPI соответствуют \# стандарту PKCS 7 Cryptographic Message Syntax (CMS). Разработчики должны быть знакомы с этой спецификацией, чтобы наиболее эффективно использовать низкоуровневые функции сообщений. Некоторые из его определений выделены здесь.
ms.assetid: 99b633fe-9898-4570-ba8b-16ee78d351da
title: '\#Основные понятия синтаксиса криптографических сообщений PKCS 7'
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 5ead1c5e75737db80adbca725a30cb730b547be4
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "105663928"
---
# <a name="pkcs-7-cryptographic-messaging-syntax-concepts"></a><span data-ttu-id="aa238-105">\#Основные понятия синтаксиса криптографических сообщений PKCS 7</span><span class="sxs-lookup"><span data-stu-id="aa238-105">PKCS \#7 Cryptographic Messaging Syntax Concepts</span></span>

<span data-ttu-id="aa238-106">Функции сообщений CryptoAPI соответствуют стандарту [*PKCS \# 7*](../secgloss/p-gly.md) [Cryptographic Message Syntax (CMS)](https://www.ietf.org/rfc/rfc3369.txt).</span><span class="sxs-lookup"><span data-stu-id="aa238-106">The CryptoAPI message functions adhere to [*PKCS \#7*](../secgloss/p-gly.md) [Cryptographic Message Syntax (CMS) Standard](https://www.ietf.org/rfc/rfc3369.txt).</span></span> <span data-ttu-id="aa238-107">Разработчики должны быть знакомы с этой спецификацией, чтобы наиболее эффективно использовать [*низкоуровневые функции сообщений*](../secgloss/l-gly.md).</span><span class="sxs-lookup"><span data-stu-id="aa238-107">Developers need to be familiar with this specification to most effectively use the [*low-level message functions*](../secgloss/l-gly.md).</span></span> <span data-ttu-id="aa238-108">Некоторые из его определений выделены здесь.</span><span class="sxs-lookup"><span data-stu-id="aa238-108">A few of its definitions are highlighted here.</span></span>

<span data-ttu-id="aa238-109">Стандарт PKCS \# 7 описывает общий синтаксис для данных, к которым может применяться [*Шифрование*](../secgloss/c-gly.md) , например [*цифровые подписи*](../secgloss/d-gly.md) и [*цифровые конверты*](../secgloss/d-gly.md).</span><span class="sxs-lookup"><span data-stu-id="aa238-109">The PKCS \#7 standard describes a general syntax for data that may have [*cryptography*](../secgloss/c-gly.md) applied to it, such as [*digital signatures*](../secgloss/d-gly.md) and [*digital envelopes*](../secgloss/d-gly.md).</span></span> <span data-ttu-id="aa238-110">Синтаксис достиг рекурсии, поэтому, например, один конверт может быть вложен в другой, или одна сторона может подписать цифровые данные, которые уже помещены в конверт.</span><span class="sxs-lookup"><span data-stu-id="aa238-110">The syntax admits recursion, so that, for example, one envelope can be nested inside another, or one party can sign digital data that has already been put into an envelope.</span></span> <span data-ttu-id="aa238-111">Он также позволяет проверять подлинность произвольных атрибутов, таких как время подписи, и содержимого сообщения.</span><span class="sxs-lookup"><span data-stu-id="aa238-111">It also allows arbitrary attributes, such as signing time, to be authenticated along with the content of a message.</span></span> <span data-ttu-id="aa238-112">Кроме того, он обеспечивает связь с сигнатурой для других атрибутов, таких как [*подписи других сторон*](../secgloss/c-gly.md).</span><span class="sxs-lookup"><span data-stu-id="aa238-112">Further, it provides for other attributes, such as [*countersignatures*](../secgloss/c-gly.md), to be associated with a signature.</span></span>

<span data-ttu-id="aa238-113">Тип данных, содержащихся в сообщении PKCS \# 7, называется его типом содержимого.</span><span class="sxs-lookup"><span data-stu-id="aa238-113">The type of data contained in a PKCS \#7 message is called its content type.</span></span> <span data-ttu-id="aa238-114">Существует два класса типов содержимого: базовый и расширенный.</span><span class="sxs-lookup"><span data-stu-id="aa238-114">There are two classes of content types: Base and Enhanced.</span></span>

-   <span data-ttu-id="aa238-115">Базовые типы содержимого содержат только данные без расширений шифрования.</span><span class="sxs-lookup"><span data-stu-id="aa238-115">Base content types contain only data with no cryptographic enhancements.</span></span> <span data-ttu-id="aa238-116">В настоящее время существует только один тип содержимого в этом классе, [*тип содержимого данных*](../secgloss/d-gly.md).</span><span class="sxs-lookup"><span data-stu-id="aa238-116">Presently there is only one content type in this class, the [*data content type*](../secgloss/d-gly.md).</span></span>
-   <span data-ttu-id="aa238-117">[*Расширенные типы содержимого*](../secgloss/e-gly.md) содержат данные какого-либо типа (возможно, зашифрованы) и другие улучшения криптографии (такие как хэши или подписи).</span><span class="sxs-lookup"><span data-stu-id="aa238-117">[*Enhanced content types*](../secgloss/e-gly.md) contain data of some type (possibly encrypted), and other cryptographic enhancements (such as hashes or signatures).</span></span>

<span data-ttu-id="aa238-118">Содержимое в расширенном классе использует инкапсуляцию, что приводит к появлению терминов [*внешнее содержимое*](../secgloss/o-gly.md) (которое содержит улучшения) и [*внутреннего содержимого*](../secgloss/i-gly.md) (одно из улучшенных).</span><span class="sxs-lookup"><span data-stu-id="aa238-118">The content in the Enhanced class employs encapsulation, giving rise to the terms [*outer content*](../secgloss/o-gly.md) (the one containing the enhancements) and [*inner content*](../secgloss/i-gly.md) (the one being enhanced).</span></span> <span data-ttu-id="aa238-119">Например, расширенный класс может содержать [*тип содержимого данных*](../secgloss/d-gly.md) (базовый класс) с сигнатурой, входящей в состав.</span><span class="sxs-lookup"><span data-stu-id="aa238-119">For example, an Enhanced class might contain the [*data content type*](../secgloss/d-gly.md) (Base class) that has a signature included with it.</span></span> <span data-ttu-id="aa238-120">В этом случае тип содержимого данных является *внутренним содержимым* , а сочетание типа содержимого данных и сигнатурой образует внешнее содержимое.</span><span class="sxs-lookup"><span data-stu-id="aa238-120">In this case, the data content type is the *inner content* and the combination of the data content type and the signature forms the outer content.</span></span>

<span data-ttu-id="aa238-121">Ниже приведены типы содержимого, определенные в \# стандарте PKCS 7.</span><span class="sxs-lookup"><span data-stu-id="aa238-121">The content types defined in the PKCS \#7 standard are as follows.</span></span>



| <span data-ttu-id="aa238-122">Тип содержимого</span><span class="sxs-lookup"><span data-stu-id="aa238-122">Content type</span></span>              | <span data-ttu-id="aa238-123">Описание</span><span class="sxs-lookup"><span data-stu-id="aa238-123">Description</span></span>                                                                                                                                                                                                                                                                                                           |
|---------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="aa238-124">Данные</span><span class="sxs-lookup"><span data-stu-id="aa238-124">Data</span></span>                      | <span data-ttu-id="aa238-125">Строка октета (**байта**).</span><span class="sxs-lookup"><span data-stu-id="aa238-125">An octet (**BYTE**) string.</span></span>                                                                                                                                                                                                                                                                                           |
| <span data-ttu-id="aa238-126">Подписанные данные</span><span class="sxs-lookup"><span data-stu-id="aa238-126">Signed Data</span></span>               | <span data-ttu-id="aa238-127">Содержимое любого типа и [*хэшей*](../secgloss/h-gly.md) зашифрованных сообщений ([*дайджестов*](../secgloss/m-gly.md)) содержимого для одного или нескольких подписывания.</span><span class="sxs-lookup"><span data-stu-id="aa238-127">Content of any type and encrypted message [*hashes*](../secgloss/h-gly.md) ([*digests*](../secgloss/m-gly.md)) of the content for zero or more signers.</span></span>                                                                           |
| <span data-ttu-id="aa238-128">Запечатанные данные</span><span class="sxs-lookup"><span data-stu-id="aa238-128">Enveloped Data</span></span>            | <span data-ttu-id="aa238-129">Зашифрованное содержимое любого типа и зашифрованные ключи шифрования содержимого для одного или нескольких получателей.</span><span class="sxs-lookup"><span data-stu-id="aa238-129">Encrypted content of any type and encrypted content-encryption keys for one or more recipients.</span></span> <span data-ttu-id="aa238-130">Сочетание зашифрованного содержимого и зашифрованного ключа шифрования содержимого для получателя является [*цифровым конвертом*](../secgloss/d-gly.md) для этого получателя.</span><span class="sxs-lookup"><span data-stu-id="aa238-130">The combination of encrypted content and encrypted content-encryption key for a recipient is a [*digital envelope*](../secgloss/d-gly.md) for that recipient.</span></span> |
| <span data-ttu-id="aa238-131">Данные, подписанные и запечатанные</span><span class="sxs-lookup"><span data-stu-id="aa238-131">Signed-and-Enveloped Data</span></span> | <span data-ttu-id="aa238-132">Зашифрованное содержимое любого типа, зашифрованные ключи шифрования содержимого для одного или нескольких получателей и алгоритмы шифрованных сообщений с удвоенной шифрованием для одного или нескольких подписывающих лиц.</span><span class="sxs-lookup"><span data-stu-id="aa238-132">Encrypted content of any type, encrypted content-encryption keys for one or more recipients, and doubly encrypted message digests for one or more signers.</span></span> <span data-ttu-id="aa238-133">Двойное шифрование состоит из шифрования с закрытым ключом и шифрованием с помощью ключа шифрования содержимого.</span><span class="sxs-lookup"><span data-stu-id="aa238-133">The double encryption consists of an encryption with a signer's private key followed by an encryption with the content-encryption key.</span></span>                     |
| <span data-ttu-id="aa238-134">Дайджест-данные</span><span class="sxs-lookup"><span data-stu-id="aa238-134">Digested Data</span></span>             | <span data-ttu-id="aa238-135">Содержимое любого типа и [*хэш*](../secgloss/h-gly.md) сообщения (дайджест) содержимого.</span><span class="sxs-lookup"><span data-stu-id="aa238-135">Content of any type and a message [*hash*](../secgloss/h-gly.md) (digest) of the content.</span></span>                                                                                                                                                                                             |
| <span data-ttu-id="aa238-136">Зашифрованные данные</span><span class="sxs-lookup"><span data-stu-id="aa238-136">Encrypted Data</span></span>            | <span data-ttu-id="aa238-137">Зашифрованное содержимое любого типа.</span><span class="sxs-lookup"><span data-stu-id="aa238-137">Encrypted content of any type.</span></span> <span data-ttu-id="aa238-138">В отличие от [*типа содержимого*](../secgloss/d-gly.md)с оболочкой, тип содержимого зашифрованных данных не имеет ни получателей, ни зашифрованных ключей шифрования содержимого.</span><span class="sxs-lookup"><span data-stu-id="aa238-138">Unlike the enveloped-[*data content type*](../secgloss/d-gly.md), the encrypted-data content type has neither recipients nor encrypted content-encryption keys.</span></span> <span data-ttu-id="aa238-139">Предполагается, что ключи управляются другими способами.</span><span class="sxs-lookup"><span data-stu-id="aa238-139">Keys are assumed to be managed by other means.</span></span>               |



 

> [!Note]  
> <span data-ttu-id="aa238-140">В соответствии со \# спецификацией PKCS 7 термин « *дайджест* » и « [*дайджест*](../secgloss/d-gly.md) » относятся к значению, полученному при применении [*алгоритма хэширования*](../secgloss/h-gly.md) к данным.</span><span class="sxs-lookup"><span data-stu-id="aa238-140">Throughout the PKCS \#7 specification, the terms *digest* and [*digested*](../secgloss/d-gly.md) refer to the value produced from applying a [*hashing algorithm*](../secgloss/h-gly.md) to data.</span></span> <span data-ttu-id="aa238-141">В этой документации для той же цели используются термины [*хэш*](../secgloss/h-gly.md) и *хэширование* .</span><span class="sxs-lookup"><span data-stu-id="aa238-141">This documentation uses the terms [*hash*](../secgloss/h-gly.md) and *hashed* for the same purpose.</span></span> <span data-ttu-id="aa238-142">Например, тип данных, используемый с [*функциями сообщений низкого уровня*](../secgloss/l-gly.md) , называется хэшированным, а не дайджестом.</span><span class="sxs-lookup"><span data-stu-id="aa238-142">For example, the data type used with the [*low-level message functions*](../secgloss/l-gly.md) is called hashed rather than digested.</span></span> <span data-ttu-id="aa238-143">В рамках этой документации два набора терминов могут быть взаимозаменяемы.</span><span class="sxs-lookup"><span data-stu-id="aa238-143">For the purposes of this documentation, the two sets of terms may be used interchangeably.</span></span>

 

 

 
