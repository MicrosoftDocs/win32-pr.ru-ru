---
title: Абстрактные модели данных
description: У каждого приложения и каждой операционной системы есть абстрактная модель данных.
ms.assetid: c670d92b-e64d-4d4c-a30c-cd4fb4f2d0b9
keywords:
- Абстрактные модели данных 64-разрядное программирование для Windows
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 7bfb116d5afccba1b1ce3438f8b7135d01bc1b7b
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/16/2019
ms.locfileid: "105700621"
---
# <a name="abstract-data-models"></a><span data-ttu-id="e8acc-104">Абстрактные модели данных</span><span class="sxs-lookup"><span data-stu-id="e8acc-104">Abstract Data Models</span></span>

<span data-ttu-id="e8acc-105">У каждого приложения и каждой операционной системы есть абстрактная модель данных.</span><span class="sxs-lookup"><span data-stu-id="e8acc-105">Every application and every operating system has an abstract data model.</span></span> <span data-ttu-id="e8acc-106">Многие приложения явно не предоставляют эту модель данных, но в модели рассматривается способ написания кода приложения.</span><span class="sxs-lookup"><span data-stu-id="e8acc-106">Many applications do not explicitly expose this data model, but the model guides the way in which the application's code is written.</span></span> <span data-ttu-id="e8acc-107">В 32-разрядной модели программирования (известной как модель ILP32), типы данных Integer, long и pointer имеют длину 32 бит.</span><span class="sxs-lookup"><span data-stu-id="e8acc-107">In the 32-bit programming model (known as the ILP32 model), integer, long, and pointer data types are 32 bits in length.</span></span> <span data-ttu-id="e8acc-108">Большинство разработчиков использовали эту модель, не зная ее.</span><span class="sxs-lookup"><span data-stu-id="e8acc-108">Most developers have used this model without realizing it.</span></span> <span data-ttu-id="e8acc-109">Для ведения журнала API Win32 это допустимо (хотя и необязательно) предположение.</span><span class="sxs-lookup"><span data-stu-id="e8acc-109">For the history of the Win32 API, this has been a valid (although not necessarily safe) assumption to make.</span></span>

<span data-ttu-id="e8acc-110">В 64-Битвиндовс это предположение о четности в размерах типов данных недопустимо.</span><span class="sxs-lookup"><span data-stu-id="e8acc-110">In 64-bitWindows, this assumption of parity in data type sizes is invalid.</span></span> <span data-ttu-id="e8acc-111">При создании всех типов данных 64 бит будет тратить место на пространство, так как для большинства приложений увеличение размера не требуется.</span><span class="sxs-lookup"><span data-stu-id="e8acc-111">Making all data types 64 bits in length would waste space, because most applications do not need the increased size.</span></span> <span data-ttu-id="e8acc-112">Однако приложениям требуются указатели на 64-разрядные данные, и им необходима возможность иметь в выбранных случаях 64-разрядные типы данных.</span><span class="sxs-lookup"><span data-stu-id="e8acc-112">However, applications do need pointers to 64-bit data, and they need the ability to have 64-bit data types in selected cases.</span></span> <span data-ttu-id="e8acc-113">Эти рекомендации привели к выбору абстрактной модели данных с именем LLP64 (или P64).</span><span class="sxs-lookup"><span data-stu-id="e8acc-113">These considerations led to the selection of an abstract data model called LLP64 (or P64).</span></span> <span data-ttu-id="e8acc-114">В модели данных LLP64 только указатели разворачиваются до 64 бит; все остальные базовые типы данных (Integer и long) остаются в 32 бит в длину.</span><span class="sxs-lookup"><span data-stu-id="e8acc-114">In the LLP64 data model, only pointers expand to 64 bits; all other basic data types (integer and long) remain 32 bits in length.</span></span>

<span data-ttu-id="e8acc-115">Изначально большинство приложений, работающих в 64-разрядной версии Windows, будут перенесены из 32-разрядной версии Windows.</span><span class="sxs-lookup"><span data-stu-id="e8acc-115">Initially, most applications that run on 64-bit Windows will have been ported from 32-bit Windows.</span></span> <span data-ttu-id="e8acc-116">Это цель того, что тот же источник, тщательно написанный, должен выполняться как в 32, так и в 64-разрядной версии Windows.</span><span class="sxs-lookup"><span data-stu-id="e8acc-116">It is a goal that the same source, carefully written, should run on both 32- and 64-bit Windows.</span></span> <span data-ttu-id="e8acc-117">Определение модели данных не делает эту задачу проще.</span><span class="sxs-lookup"><span data-stu-id="e8acc-117">Defining the data model does not make this task easier.</span></span> <span data-ttu-id="e8acc-118">Однако, чтобы убедиться, что модель данных влияет только на типы данных указателей, это первый шаг.</span><span class="sxs-lookup"><span data-stu-id="e8acc-118">However, ensuring that the data model affects only pointer data types is the first step.</span></span> <span data-ttu-id="e8acc-119">Вторым шагом является определение набора новых типов данных, позволяющих разработчикам автоматически изменять размер данных, связанных с указателями.</span><span class="sxs-lookup"><span data-stu-id="e8acc-119">The second step is to define a set of new data types that allow developers to automatically size their pointer-related data.</span></span> <span data-ttu-id="e8acc-120">Это позволяет данным, связанным с указателями, изменять размер при изменении размера указателя с 32 бит на 64 бит.</span><span class="sxs-lookup"><span data-stu-id="e8acc-120">This allows data associated with pointers to change size as the pointer size changes from 32 bits to 64 bits.</span></span> <span data-ttu-id="e8acc-121">Базовые типы данных сохраняют длину 32 бит, поэтому объем данных на диске не изменяется, данные совместно используются по сети или данные, совместно используемые в файлах, отображенных в памяти.</span><span class="sxs-lookup"><span data-stu-id="e8acc-121">Basic data types remain 32 bits in length, so there is no change in the size of data on the disk, data shared over a network, or data shared through memory-mapped files.</span></span> <span data-ttu-id="e8acc-122">Это освобождает разработчиков от значительных усилий, связанных с переносом 32-разрядного кода в 64-разрядную версию Windows.</span><span class="sxs-lookup"><span data-stu-id="e8acc-122">This relieves developers of much of the effort involved in porting 32-bit code to 64-bit Windows.</span></span>

<span data-ttu-id="e8acc-123">Эти новые типы данных были добавлены в файлы заголовков Windows API.</span><span class="sxs-lookup"><span data-stu-id="e8acc-123">These new data types have been added to the Windows API header files.</span></span> <span data-ttu-id="e8acc-124">Поэтому теперь можно начать использовать новые типы.</span><span class="sxs-lookup"><span data-stu-id="e8acc-124">Therefore, you can start using the new types now.</span></span> <span data-ttu-id="e8acc-125">Дополнительные сведения см. [в разделе новые типы данных](the-new-data-types.md).</span><span class="sxs-lookup"><span data-stu-id="e8acc-125">For more information, see [The New Data Types](the-new-data-types.md).</span></span>

 

 




