---
title: Новые типы данных
description: Три класса типов данных были введены для 64-разрядных типов данных с фиксированной точностью Windows, типов точности с указателями и определенных типов точности указателей.
ms.assetid: 016977d4-e7bf-463e-9755-7ef13f16e9e5
keywords:
- '64-разрядное программное обеспечено в Windows: 64-разрядное программирование для Windows, типы данных'
- типы данных 64-разрядное программирование для Windows
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: ff6cf5960b5344da1d459d12dee96a2f67f2cfbc
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/20/2020
ms.locfileid: "104338916"
---
# <a name="the-new-data-types"></a><span data-ttu-id="8882a-105">Новые типы данных</span><span class="sxs-lookup"><span data-stu-id="8882a-105">The New Data Types</span></span>

<span data-ttu-id="8882a-106">В 64-разрядных Windows появились три класса типов данных: типы данных с фиксированной точностью, типы точности указателей и типы с точностью указателей.</span><span class="sxs-lookup"><span data-stu-id="8882a-106">Three classes of data types were introduced for 64-bit Windows: fixed-precision data types, pointer-precision types, and specific-pointer-precision types.</span></span> <span data-ttu-id="8882a-107">Эти типы были добавлены в среду разработки, чтобы позволить разработчикам подготовиться к 64-разрядной версии Windows.</span><span class="sxs-lookup"><span data-stu-id="8882a-107">These types were added to the development environment to allow developers to prepare for 64-bit Windows.</span></span> <span data-ttu-id="8882a-108">Эти типы являются производными от базовых типов integer и long языка C.</span><span class="sxs-lookup"><span data-stu-id="8882a-108">These types are derived from the basic C-language integer and long types.</span></span> <span data-ttu-id="8882a-109">Таким образом, эти типы данных можно использовать в коде, который компилируется и тестируется в 32-разрядной версии Windows, а затем перекомпилируется с помощью 64-разрядного компилятора при нацеливании на 64-bit Windows.</span><span class="sxs-lookup"><span data-stu-id="8882a-109">Therefore, you can use these data types in code that you compile and test on 32-bit Windows, and then recompile with the 64-bit compiler when targeting 64-bit Windows.</span></span>

<span data-ttu-id="8882a-110">Даже для приложений, предназначенных только для 32-разрядных ОС Windows, внедрение этих новых типов данных делает ваш код более надежным.</span><span class="sxs-lookup"><span data-stu-id="8882a-110">Even for applications that target only 32-bit Windows, adopting these new data types makes your code more robust.</span></span> <span data-ttu-id="8882a-111">Чтобы использовать эти типы данных, необходимо проверить код на предмет потенциально небезопасного использования указателей, полиморфизма и определений данных.</span><span class="sxs-lookup"><span data-stu-id="8882a-111">To use these data types, you must scan your code for potentially unsafe pointer usage, polymorphism, and data definitions.</span></span> <span data-ttu-id="8882a-112">Например, если переменная имеет тип **ulong \_ ptr**, она будет четко использоваться для указателей приведения для арифметических операций или полиморфизма.</span><span class="sxs-lookup"><span data-stu-id="8882a-112">For example, when a variable is of type **ULONG\_PTR**, it is clear that it will be used for casting pointers for arithmetic operations or polymorphism.</span></span> <span data-ttu-id="8882a-113">Невозможно указать такое использование напрямую, используя более старые типы данных.</span><span class="sxs-lookup"><span data-stu-id="8882a-113">It is not possible to indicate such usage directly by using the older data types.</span></span> <span data-ttu-id="8882a-114">(Это можно сделать косвенно, используя производное именование типа или венгерскую нотацию, но оба метода подвержены ошибкам.)</span><span class="sxs-lookup"><span data-stu-id="8882a-114">(You can do this indirectly by using derived type naming or Hungarian notation, but both techniques are prone to errors.)</span></span>

<span data-ttu-id="8882a-115">Все эти типы данных объявляются в Басетсд. h.</span><span class="sxs-lookup"><span data-stu-id="8882a-115">All of these data types are declared in BaseTsd.h.</span></span> <span data-ttu-id="8882a-116">Дополнительные сведения, включая определения этих типов данных, см. в разделе [типы данных Windows](/windows/desktop/WinProg/windows-data-types).</span><span class="sxs-lookup"><span data-stu-id="8882a-116">For more information, including definitions of these data types, see [Windows Data Types](/windows/desktop/WinProg/windows-data-types).</span></span>

## <a name="fixed-precision"></a><span data-ttu-id="8882a-117">Фиксированная точность</span><span class="sxs-lookup"><span data-stu-id="8882a-117">Fixed Precision</span></span>

<span data-ttu-id="8882a-118">Типы данных с фиксированной точностью имеют одинаковую длину в 32-и 64-разрядных окнах.</span><span class="sxs-lookup"><span data-stu-id="8882a-118">Fixed-precision data types are the same length in both 32- and 64-bit Windows.</span></span> <span data-ttu-id="8882a-119">Чтобы помочь вам вспомнить, их точность является частью имени типа данных.</span><span class="sxs-lookup"><span data-stu-id="8882a-119">To help you remember this, their precision is part of the name of the data type.</span></span> <span data-ttu-id="8882a-120">Ниже приведены типы данных с фиксированной точностью.</span><span class="sxs-lookup"><span data-stu-id="8882a-120">The following are the fixed-precision data types.</span></span>



| <span data-ttu-id="8882a-121">Термин</span><span class="sxs-lookup"><span data-stu-id="8882a-121">Term</span></span>                                                                       | <span data-ttu-id="8882a-122">Описание</span><span class="sxs-lookup"><span data-stu-id="8882a-122">Description</span></span>                        |
|----------------------------------------------------------------------------|------------------------------------|
| <span data-ttu-id="8882a-123"><span id="DWORD32"></span><span id="dword32"></span>**DWORD32**</span><span class="sxs-lookup"><span data-stu-id="8882a-123"><span id="DWORD32"></span><span id="dword32"></span>**DWORD32**</span></span><br/> | <span data-ttu-id="8882a-124">32-битное целое число без знака</span><span class="sxs-lookup"><span data-stu-id="8882a-124">32-bit unsigned integer</span></span><br/> |
| <span data-ttu-id="8882a-125"><span id="DWORD64"></span><span id="dword64"></span>**DWORD64**</span><span class="sxs-lookup"><span data-stu-id="8882a-125"><span id="DWORD64"></span><span id="dword64"></span>**DWORD64**</span></span><br/> | <span data-ttu-id="8882a-126">64-битное целое число без знака</span><span class="sxs-lookup"><span data-stu-id="8882a-126">64-bit unsigned integer</span></span><br/> |
| <span data-ttu-id="8882a-127"><span id="INT32"></span><span id="int32"></span>**ТИПА**</span><span class="sxs-lookup"><span data-stu-id="8882a-127"><span id="INT32"></span><span id="int32"></span>**INT32**</span></span><br/>       | <span data-ttu-id="8882a-128">32-битное целое число со знаком</span><span class="sxs-lookup"><span data-stu-id="8882a-128">32-bit signed integer</span></span><br/>   |
| <span data-ttu-id="8882a-129"><span id="INT64"></span><span id="int64"></span>**INT64**</span><span class="sxs-lookup"><span data-stu-id="8882a-129"><span id="INT64"></span><span id="int64"></span>**INT64**</span></span><br/>       | <span data-ttu-id="8882a-130">64-битное целое число со знаком</span><span class="sxs-lookup"><span data-stu-id="8882a-130">64-bit signed integer</span></span><br/>   |
| <span data-ttu-id="8882a-131"><span id="LONG32"></span><span id="long32"></span>**LONG32**</span><span class="sxs-lookup"><span data-stu-id="8882a-131"><span id="LONG32"></span><span id="long32"></span>**LONG32**</span></span><br/>    | <span data-ttu-id="8882a-132">32-битное целое число со знаком</span><span class="sxs-lookup"><span data-stu-id="8882a-132">32-bit signed integer</span></span><br/>   |
| <span data-ttu-id="8882a-133"><span id="LONG64"></span><span id="long64"></span>**LONG64**</span><span class="sxs-lookup"><span data-stu-id="8882a-133"><span id="LONG64"></span><span id="long64"></span>**LONG64**</span></span><br/>    | <span data-ttu-id="8882a-134">64-битное целое число со знаком</span><span class="sxs-lookup"><span data-stu-id="8882a-134">64-bit signed integer</span></span><br/>   |
| <span data-ttu-id="8882a-135"><span id="UINT32"></span><span id="uint32"></span>**ЗНАЧЕНИЕМ**</span><span class="sxs-lookup"><span data-stu-id="8882a-135"><span id="UINT32"></span><span id="uint32"></span>**UINT32**</span></span><br/>    | <span data-ttu-id="8882a-136">**Int32** без знака</span><span class="sxs-lookup"><span data-stu-id="8882a-136">Unsigned **INT32**</span></span><br/>      |
| <span data-ttu-id="8882a-137"><span id="UINT64"></span><span id="uint64"></span>**UINT64**</span><span class="sxs-lookup"><span data-stu-id="8882a-137"><span id="UINT64"></span><span id="uint64"></span>**UINT64**</span></span><br/>    | <span data-ttu-id="8882a-138">**Int64** без знака</span><span class="sxs-lookup"><span data-stu-id="8882a-138">Unsigned **INT64**</span></span><br/>      |
| <span data-ttu-id="8882a-139"><span id="ULONG32"></span><span id="ulong32"></span>**ULONG32**</span><span class="sxs-lookup"><span data-stu-id="8882a-139"><span id="ULONG32"></span><span id="ulong32"></span>**ULONG32**</span></span><br/> | <span data-ttu-id="8882a-140">Неподписанный **LONG32**</span><span class="sxs-lookup"><span data-stu-id="8882a-140">Unsigned **LONG32**</span></span><br/>     |
| <span data-ttu-id="8882a-141"><span id="ULONG64"></span><span id="ulong64"></span>**ULONG64**</span><span class="sxs-lookup"><span data-stu-id="8882a-141"><span id="ULONG64"></span><span id="ulong64"></span>**ULONG64**</span></span><br/> | <span data-ttu-id="8882a-142">Неподписанный **LONG64**</span><span class="sxs-lookup"><span data-stu-id="8882a-142">Unsigned **LONG64**</span></span><br/>     |



 

## <a name="pointer-precision"></a><span data-ttu-id="8882a-143">Точность указателя</span><span class="sxs-lookup"><span data-stu-id="8882a-143">Pointer Precision</span></span>

<span data-ttu-id="8882a-144">При изменении точности указателя (т. е. при преобразовании в 32 бит в 32-разрядной версии Windows и 64 бит с помощью 64-bit Windows) типы данных точности указателей соответствуют точности соответствующим образом.</span><span class="sxs-lookup"><span data-stu-id="8882a-144">As the pointer precision changes (that is, as it becomes 32 bits on 32-bit Windows and 64 bits with 64-bit Windows), the pointer precision data types reflect the precision accordingly.</span></span> <span data-ttu-id="8882a-145">Таким образом, можно легко привести указатель к одному из этих типов при выполнении арифметических операций с указателями. Если точность указателя равна 64 бит, то тип — 64 бит.</span><span class="sxs-lookup"><span data-stu-id="8882a-145">Therefore, it is safe to cast a pointer to one of these types when performing pointer arithmetic; if the pointer precision is 64 bits, the type is 64 bits.</span></span> <span data-ttu-id="8882a-146">Типы счетчиков также соответствуют максимальному размеру, на который может ссылаться указатель.</span><span class="sxs-lookup"><span data-stu-id="8882a-146">The count types also reflect the maximum size to which a pointer can refer.</span></span> <span data-ttu-id="8882a-147">Ниже приведены типы точности указателя и числа.</span><span class="sxs-lookup"><span data-stu-id="8882a-147">The following are the pointer-precision and count types.</span></span>



| <span data-ttu-id="8882a-148">Термин</span><span class="sxs-lookup"><span data-stu-id="8882a-148">Term</span></span>                                                                              | <span data-ttu-id="8882a-149">Описание</span><span class="sxs-lookup"><span data-stu-id="8882a-149">Description</span></span>                                                                                                                      |
|-----------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="8882a-150"><span id="DWORD_PTR"></span><span id="dword_ptr"></span>**DWORD \_ ptr**</span><span class="sxs-lookup"><span data-stu-id="8882a-150"><span id="DWORD_PTR"></span><span id="dword_ptr"></span>**DWORD\_PTR**</span></span><br/> | <span data-ttu-id="8882a-151">Тип long без знака для точности указателя.</span><span class="sxs-lookup"><span data-stu-id="8882a-151">Unsigned long type for pointer precision.</span></span><br/>                                                                             |
| <span data-ttu-id="8882a-152"><span id="HALF_PTR"></span><span id="half_ptr"></span>**ПОЛОВИНА \_ ptr**</span><span class="sxs-lookup"><span data-stu-id="8882a-152"><span id="HALF_PTR"></span><span id="half_ptr"></span>**HALF\_PTR**</span></span><br/>    | <span data-ttu-id="8882a-153">Половина размера указателя.</span><span class="sxs-lookup"><span data-stu-id="8882a-153">Half the size of a pointer.</span></span> <span data-ttu-id="8882a-154">Используйте в структуре, содержащей указатель и два маленьких поля.</span><span class="sxs-lookup"><span data-stu-id="8882a-154">Use within a structure that contains a pointer and two small fields.</span></span><br/>                      |
| <span data-ttu-id="8882a-155"><span id="INT_PTR"></span><span id="int_ptr"></span>**INT \_ ptr**</span><span class="sxs-lookup"><span data-stu-id="8882a-155"><span id="INT_PTR"></span><span id="int_ptr"></span>**INT\_PTR**</span></span><br/>       | <span data-ttu-id="8882a-156">Тип целого числа со знаком для точности указателя.</span><span class="sxs-lookup"><span data-stu-id="8882a-156">Signed integer type for pointer precision.</span></span><br/>                                                                            |
| <span data-ttu-id="8882a-157"><span id="LONG_PTR"></span><span id="long_ptr"></span>**LONG \_ ptr**</span><span class="sxs-lookup"><span data-stu-id="8882a-157"><span id="LONG_PTR"></span><span id="long_ptr"></span>**LONG\_PTR**</span></span><br/>    | <span data-ttu-id="8882a-158">Длинный тип со знаком для точности указателя.</span><span class="sxs-lookup"><span data-stu-id="8882a-158">Signed long type for pointer precision.</span></span><br/>                                                                               |
| <span data-ttu-id="8882a-159"><span id="SIZE_T"></span><span id="size_t"></span>**РАЗМЕР \_ T**</span><span class="sxs-lookup"><span data-stu-id="8882a-159"><span id="SIZE_T"></span><span id="size_t"></span>**SIZE\_T**</span></span><br/>          | <span data-ttu-id="8882a-160">Максимальное число байтов, на которое может ссылаться указатель.</span><span class="sxs-lookup"><span data-stu-id="8882a-160">The maximum number of bytes to which a pointer can refer.</span></span> <span data-ttu-id="8882a-161">Используется для подсчета, который должен охватывать полный диапазон указателя.</span><span class="sxs-lookup"><span data-stu-id="8882a-161">Use for a count that must span the full range of a pointer.</span></span><br/> |
| <span data-ttu-id="8882a-162"><span id="SSIZE_T"></span><span id="ssize_t"></span>**ССИЗЕ \_ T**</span><span class="sxs-lookup"><span data-stu-id="8882a-162"><span id="SSIZE_T"></span><span id="ssize_t"></span>**SSIZE\_T**</span></span><br/>       | <span data-ttu-id="8882a-163">Размер со знаком **\_ T**.</span><span class="sxs-lookup"><span data-stu-id="8882a-163">Signed **SIZE\_T**.</span></span><br/>                                                                                                   |
| <span data-ttu-id="8882a-164"><span id="UHALF_PTR"></span><span id="uhalf_ptr"></span>**УХАЛФ \_ ptr**</span><span class="sxs-lookup"><span data-stu-id="8882a-164"><span id="UHALF_PTR"></span><span id="uhalf_ptr"></span>**UHALF\_PTR**</span></span><br/> | <span data-ttu-id="8882a-165">Неподписанная **половина \_ ptr**.</span><span class="sxs-lookup"><span data-stu-id="8882a-165">Unsigned **HALF\_PTR**.</span></span><br/>                                                                                               |
| <span data-ttu-id="8882a-166"><span id="UINT_PTR"></span><span id="uint_ptr"></span>**UINT \_ ptr**</span><span class="sxs-lookup"><span data-stu-id="8882a-166"><span id="UINT_PTR"></span><span id="uint_ptr"></span>**UINT\_PTR**</span></span><br/>    | <span data-ttu-id="8882a-167">Целое число без знака **\_ типа PTR**.</span><span class="sxs-lookup"><span data-stu-id="8882a-167">Unsigned **INT\_PTR**.</span></span><br/>                                                                                                |
| <span data-ttu-id="8882a-168"><span id="ULONG_PTR"></span><span id="ulong_ptr"></span>**ULONG- \_ ptr**</span><span class="sxs-lookup"><span data-stu-id="8882a-168"><span id="ULONG_PTR"></span><span id="ulong_ptr"></span>**ULONG\_PTR**</span></span><br/> | <span data-ttu-id="8882a-169">**Long \_ ptr** без знака.</span><span class="sxs-lookup"><span data-stu-id="8882a-169">Unsigned **LONG\_PTR**.</span></span><br/>                                                                                               |



 

## <a name="specific-pointer-precision-types"></a><span data-ttu-id="8882a-170">Определенные типы Pointer-Precision</span><span class="sxs-lookup"><span data-stu-id="8882a-170">Specific Pointer-Precision Types</span></span>

<span data-ttu-id="8882a-171">Следующие новые типы указателей явно применяют размер указателя.</span><span class="sxs-lookup"><span data-stu-id="8882a-171">The following new pointer types explicitly size the pointer.</span></span> <span data-ttu-id="8882a-172">Будьте внимательны при использовании указателей в 64-разрядном коде: Если вы объявили указатель с помощью 32-bit Type, операционная система создает указатель путем 64 усечения побитового указателя.</span><span class="sxs-lookup"><span data-stu-id="8882a-172">Be cautious when using pointers in 64-bit code: If you declare the pointer using a 32-bit type, the operating system creates the pointer by truncating a 64-bit pointer.</span></span> <span data-ttu-id="8882a-173">(Все указатели имеют 64 бит в 64-разрядной версии Windows.)</span><span class="sxs-lookup"><span data-stu-id="8882a-173">(All pointers are 64 bits on 64-bit Windows.)</span></span>



| <span data-ttu-id="8882a-174">Термин</span><span class="sxs-lookup"><span data-stu-id="8882a-174">Term</span></span>                                                                                 | <span data-ttu-id="8882a-175">Описание</span><span class="sxs-lookup"><span data-stu-id="8882a-175">Description</span></span>                                                                                                                                                                                                            |
|--------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="8882a-176"><span id="POINTER_32"></span><span id="pointer_32"></span>**Указатель \_ 32**</span><span class="sxs-lookup"><span data-stu-id="8882a-176"><span id="POINTER_32"></span><span id="pointer_32"></span>**POINTER\_32**</span></span><br/> | <span data-ttu-id="8882a-177">32-разрядный указатель.</span><span class="sxs-lookup"><span data-stu-id="8882a-177">A 32-bit pointer.</span></span> <span data-ttu-id="8882a-178">В 32-разрядной Windows это собственный указатель.</span><span class="sxs-lookup"><span data-stu-id="8882a-178">On 32-bit Windows, this is a native pointer.</span></span> <span data-ttu-id="8882a-179">В 64-разрядной Windows это усеченный 64-разрядный указатель.</span><span class="sxs-lookup"><span data-stu-id="8882a-179">On 64-bit Windows, this is a truncated 64-bit pointer.</span></span><br/>                                                                                       |
| <span data-ttu-id="8882a-180"><span id="POINTER_64"></span><span id="pointer_64"></span>**Указатель \_ 64**</span><span class="sxs-lookup"><span data-stu-id="8882a-180"><span id="POINTER_64"></span><span id="pointer_64"></span>**POINTER\_64**</span></span><br/> | <span data-ttu-id="8882a-181">64-разрядный указатель.</span><span class="sxs-lookup"><span data-stu-id="8882a-181">A 64-bit pointer.</span></span> <span data-ttu-id="8882a-182">В 64-разрядной Windows это собственный указатель.</span><span class="sxs-lookup"><span data-stu-id="8882a-182">On 64-bit Windows, this is a native pointer.</span></span> <span data-ttu-id="8882a-183">В 32-разрядной системе Windows это расширенный по знаку 32-разрядный указатель.</span><span class="sxs-lookup"><span data-stu-id="8882a-183">On 32-bit Windows, this is a sign-extended 32-bit pointer.</span></span> <br/> <span data-ttu-id="8882a-184">Обратите внимание, что нельзя считать, что состояние старших битов указателя не является надежным.</span><span class="sxs-lookup"><span data-stu-id="8882a-184">Note that it is not safe to assume the state of the high pointer bit.</span></span><br/> |



 

 

