---
description: Любая операция резервного копирования, которая пытается скопировать полный и стабильный образ системы, должна иметь дело со следующими вопросами.
ms.assetid: 8ccdba6d-1097-4c1c-982c-f3d9cbdf06cd
title: Распространенные проблемы резервного копирования томов
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 8f10433e0a695c11f7e61a258c3256baa651dc27
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "105651158"
---
# <a name="common-volume-backup-issues"></a><span data-ttu-id="cd845-103">Распространенные проблемы резервного копирования томов</span><span class="sxs-lookup"><span data-stu-id="cd845-103">Common Volume Backup Issues</span></span>

<span data-ttu-id="cd845-104">Любая операция резервного копирования, которая пытается скопировать полный и стабильный образ системы, должна иметь дело со следующими вопросами.</span><span class="sxs-lookup"><span data-stu-id="cd845-104">Any backup operation that attempts to copy a full and stable image of a system must deal with the following concerns:</span></span>

-   <span data-ttu-id="cd845-105">Недоступные файлы во время резервного копирования.</span><span class="sxs-lookup"><span data-stu-id="cd845-105">Inaccessible files during a backup.</span></span> <span data-ttu-id="cd845-106">Для запуска приложений часто требуется, чтобы файлы открывались в монопольном режиме во время резервного копирования, предотвращая их копирование программами резервного копирования.</span><span class="sxs-lookup"><span data-stu-id="cd845-106">Running applications frequently need to keep files open in exclusive mode during a backup, preventing backup programs from copying them.</span></span>
-   <span data-ttu-id="cd845-107">Несоответствие состояния файла.</span><span class="sxs-lookup"><span data-stu-id="cd845-107">Inconsistent file state.</span></span> <span data-ttu-id="cd845-108">Даже если файлы не открываются в монопольном режиме, это возможно из-за конечного времени, необходимого для открытия, резервного копирования и закрытия файла — файлы, скопированные на носитель, могут не соответствовать одному и тому же состоянию приложения.</span><span class="sxs-lookup"><span data-stu-id="cd845-108">Even if an application does not have its files open in exclusive mode, it is possible—because of the finite time needed to open, back up, and close a file—that files copied to storage media may not all reflect the same application state.</span></span>
-   <span data-ttu-id="cd845-109">Необходимо сокращать перерывы в работе служб.</span><span class="sxs-lookup"><span data-stu-id="cd845-109">Need to minimize service interruptions.</span></span> <span data-ttu-id="cd845-110">Чтобы обеспечить доступность файлов и целостность архивируемых данных, может потребоваться приостановка и (или) завершение работы всех запущенных программ во время резервного копирования тома.</span><span class="sxs-lookup"><span data-stu-id="cd845-110">To ensure file accessibility and the integrity of the data being backed up can require the suspension and/or termination of all running programs during a volume backup.</span></span> <span data-ttu-id="cd845-111">Для больших дисковых систем это может быть затрачено на длительное время.</span><span class="sxs-lookup"><span data-stu-id="cd845-111">For large disk systems, this could be hours in duration.</span></span>

    <span data-ttu-id="cd845-112">Недавно некоторым поставщикам хранилища предпринималась попытка устранить эти проблемы, предоставляя механизм захвата тома — средство записи образа файлов на диск в данный момент времени — с помощью механизма копирования на запись или с разделением зеркального отображения.</span><span class="sxs-lookup"><span data-stu-id="cd845-112">Recently, some storage vendors have attempted to address these problems by providing a volume capture mechanism—a means to capture an image of the files on disk at a given instant in time—using either a copy-on-write or "split mirror" mechanism.</span></span> <span data-ttu-id="cd845-113">Однако эти решения применяют собственные проблемы.</span><span class="sxs-lookup"><span data-stu-id="cd845-113">However, these solutions entail difficulties of their own:</span></span>

    -   <span data-ttu-id="cd845-114">Несовместимые реализации поставщиков для записи тома.</span><span class="sxs-lookup"><span data-stu-id="cd845-114">Incompatible vendor implementations of volume capture.</span></span> <span data-ttu-id="cd845-115">Многие поставщики RAID-устройств предоставляют механизмы захвата томов.</span><span class="sxs-lookup"><span data-stu-id="cd845-115">Many providers of RAID devices provide volume capture mechanisms.</span></span> <span data-ttu-id="cd845-116">Однако каждый поставщик имеет собственный интерфейс, и каждый из них должен получить поддержку от поставщиков резервных копий для своих интерфейсов захвата томов.</span><span class="sxs-lookup"><span data-stu-id="cd845-116">However, each vendor has its own interface and each must get support from the backup vendors for their volume capture interfaces.</span></span> <span data-ttu-id="cd845-117">Это означает, что поставщики приложений резервного копирования должны поддерживать несколько реализаций записи тома, что нежелательно.</span><span class="sxs-lookup"><span data-stu-id="cd845-117">This means that backup application vendors must support multiple volume capture implementations, which is undesirable.</span></span>
    -   <span data-ttu-id="cd845-118">Отсутствие координации приложений.</span><span class="sxs-lookup"><span data-stu-id="cd845-118">Lack of application coordination.</span></span> <span data-ttu-id="cd845-119">Многие устройства, поддерживающие захват тома, не поддерживают координацию выполняемых приложений с закреплением данных на диске.</span><span class="sxs-lookup"><span data-stu-id="cd845-119">Many devices that support a volume capture do not support the coordination of running applications with the freeze of data on disk.</span></span> <span data-ttu-id="cd845-120">Для таких устройств, как и в приложениях резервного копирования, у каждого поставщика есть свой интерфейс.</span><span class="sxs-lookup"><span data-stu-id="cd845-120">For those devices that do, as with the backup applications, each vendor has a different interface.</span></span>
    -   <span data-ttu-id="cd845-121">Ограниченная поддержка для устройств, не относящихся к RAID.</span><span class="sxs-lookup"><span data-stu-id="cd845-121">Limited support for non-RAID devices.</span></span> <span data-ttu-id="cd845-122">Некоторые поставщики дисков поддерживают любые виды записи томов в драйверах устройств.</span><span class="sxs-lookup"><span data-stu-id="cd845-122">Few if any conventional disk vendors provide support for any sort of volume capture in their device drivers.</span></span> <span data-ttu-id="cd845-123">Это означает, что механизмы захвата ограничены определенными дисковыми системами и обычно не поддерживают резервное копирование системных областей.</span><span class="sxs-lookup"><span data-stu-id="cd845-123">This means that capture mechanisms are limited to certain disk systems, and cannot typically support the backup of system areas.</span></span>
    -   <span data-ttu-id="cd845-124">Необходимо выполнять обработку обновлений на диске во время записи тома.</span><span class="sxs-lookup"><span data-stu-id="cd845-124">Need to handle updates to disk during volume capture.</span></span> <span data-ttu-id="cd845-125">Хотя механизмы записи томов, предоставляемые поставщиком хранилища, могут закреплять состояние данных на диске, они не всегда работают с работающими приложениями.</span><span class="sxs-lookup"><span data-stu-id="cd845-125">Although storage-vendor-provided volume capture mechanisms can freeze the state of data on disk, they do not always interoperate with running applications.</span></span> <span data-ttu-id="cd845-126">Это часто означает, что данные, отправляемые на том, пока устройство хранения не будут записаны, могут быть потеряны.</span><span class="sxs-lookup"><span data-stu-id="cd845-126">This frequently means that data sent to the volume while a storage device is undergoing volume capture may be lost.</span></span>
    -   <span data-ttu-id="cd845-127">Единая многообъемная архивация.</span><span class="sxs-lookup"><span data-stu-id="cd845-127">Consistent multivolume backup.</span></span> <span data-ttu-id="cd845-128">Устройство хранения выполняет эти записи тома, поэтому, как правило, механизм координации времени фиксации данных не используется.</span><span class="sxs-lookup"><span data-stu-id="cd845-128">The storage device executes these volume captures, so there is generally no mechanism for coordinating the timing of the data freeze.</span></span> <span data-ttu-id="cd845-129">Это особенно верно, если устройства поступают от отдельных поставщиков.</span><span class="sxs-lookup"><span data-stu-id="cd845-129">This is particularly true if the devices come from separate vendors.</span></span> <span data-ttu-id="cd845-130">Таким образом, если в резервной копии с записью тома задействовано несколько томов хранилища, то образ времени, сохраненный для каждого тома, может быть непоследовательным.</span><span class="sxs-lookup"><span data-stu-id="cd845-130">Therefore, if several storage volumes are involved in a backup with a volume capture, the time image preserved for each volume may not be consistent.</span></span>

 

 



