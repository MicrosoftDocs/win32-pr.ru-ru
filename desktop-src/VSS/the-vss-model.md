---
description: Служба VSS предназначена для решения проблем, описанных в разделе распространенные проблемы резервного копирования томов.
ms.assetid: f9a3efea-d6e8-40df-92ac-f6faaa4fca60
title: Модель VSS
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 4e65061b9496fe04769a9b2429f7e05a2064de63
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "105692398"
---
# <a name="the-vss-model"></a><span data-ttu-id="e94f4-103">Модель VSS</span><span class="sxs-lookup"><span data-stu-id="e94f4-103">The VSS Model</span></span>

<span data-ttu-id="e94f4-104">Служба VSS предназначена для решения проблем, описанных в разделе [распространенные проблемы резервного копирования томов](common-volume-backup-issues.md).</span><span class="sxs-lookup"><span data-stu-id="e94f4-104">VSS is designed to address the problems described in [Common Volume Backup Issues](common-volume-backup-issues.md).</span></span>

<span data-ttu-id="e94f4-105">Модель VSS включает в себя следующее:</span><span class="sxs-lookup"><span data-stu-id="e94f4-105">The VSS model includes the following:</span></span>

-   <span data-ttu-id="e94f4-106">Механизм теневого копирования.</span><span class="sxs-lookup"><span data-stu-id="e94f4-106">The shadow copy mechanism.</span></span> <span data-ttu-id="e94f4-107">Служба VSS обеспечивает быстрый сбор данных о состоянии диска за один момент времени — [*теневую копию*](vssgloss-s.md) тома.</span><span class="sxs-lookup"><span data-stu-id="e94f4-107">VSS provides fast volume capture of the state of a disk at one instant in time—a [*shadow copy*](vssgloss-s.md) of the volume.</span></span> <span data-ttu-id="e94f4-108">Эта копия тома находится рядом с динамическим томом и содержит копии всех файлов на диске, которые эффективно сохраняются и доступны как отдельные устройства.</span><span class="sxs-lookup"><span data-stu-id="e94f4-108">This volume copy exists side by side with the live volume, and contains copies of all files on disk effectively saved and available as a separate device.</span></span>
-   <span data-ttu-id="e94f4-109">Согласованное состояние файла с помощью координации приложений.</span><span class="sxs-lookup"><span data-stu-id="e94f4-109">Consistent file state via application coordination.</span></span> <span data-ttu-id="e94f4-110">Служба VSS предоставляет механизм межпроцессного взаимодействия, основанный на событиях COM, который может использоваться процессами для определения состояния системы с учетом операций резервного копирования, восстановления и теневого копирования (записи тома).</span><span class="sxs-lookup"><span data-stu-id="e94f4-110">VSS provides a COM-based, event-driven interprocess communication mechanism that participating processes can use to determine system state with respect to backup, restore, and shadow copy (volume capture) operations.</span></span> <span data-ttu-id="e94f4-111">Эти события определяют этапы, по которым приложения, изменяющие данные на диске ([*модули записи*](vssgloss-w.md)), могут перевести все свои файлы в целостное состояние до создания теневой копии.</span><span class="sxs-lookup"><span data-stu-id="e94f4-111">These events define stages by which applications modifying data on disk ([*writers*](vssgloss-w.md)) can bring all their files into a consistent state prior to the creation of the shadow copy.</span></span>
-   <span data-ttu-id="e94f4-112">Минимизация времени простоя приложения.</span><span class="sxs-lookup"><span data-stu-id="e94f4-112">Minimizing application downtime.</span></span> <span data-ttu-id="e94f4-113">Теневая копия VSS существует параллельно с динамической копией тома, для которого создается резервная копия, так что за исключением короткого периода подготовки и создания теневой копии приложение может продолжить работу.</span><span class="sxs-lookup"><span data-stu-id="e94f4-113">The VSS shadow copy exists in parallel with a live copy of the volume to be backed up, so except for the brief period of the shadow copy's preparation and creation, an application can continue its work.</span></span> <span data-ttu-id="e94f4-114">Время, необходимое для создания теневой копии, которая происходит между событиями [*замораживания*](vssgloss-f.md) и [*разморозки*](vssgloss-t.md) , обычно занимает около одной минуты.</span><span class="sxs-lookup"><span data-stu-id="e94f4-114">The time needed to actually create a shadow copy, which occurs between [*Freeze*](vssgloss-f.md) and [*Thaw*](vssgloss-t.md) events, typically takes about one minute.</span></span>

    <span data-ttu-id="e94f4-115">Хотя подготовка модуля записи к теневой копии, включая ввод-вывод и сохранение состояния (см. [Обзор задач, выполняемых перед резервным копированием](overview-of-pre-backup-tasks.md)), может оказаться нетривиальной, она значительно короче времени, необходимого для фактического резервного копирования тома, что для больших томов может занять несколько часов.</span><span class="sxs-lookup"><span data-stu-id="e94f4-115">While a writer's preparation for a shadow copy, including flushing I/O and saving state (see [Overview of Pre-Backup Tasks](overview-of-pre-backup-tasks.md)), may be nontrivial, it is significantly shorter than the time required to actually back up a volume—which for large volumes may take hours.</span></span>

-   <span data-ttu-id="e94f4-116">Унифицированный интерфейс для VSS.</span><span class="sxs-lookup"><span data-stu-id="e94f4-116">Unified interface to VSS.</span></span> <span data-ttu-id="e94f4-117">Служба VSS абстрагирует механизмы теневого копирования в рамках общего интерфейса, одновременно позволяя поставщику оборудования добавлять уникальные функции собственных поставщиков и управлять ими.</span><span class="sxs-lookup"><span data-stu-id="e94f4-117">VSS abstracts the shadow copy mechanisms within a common interface while enabling a hardware vendor to add and manage the unique features of its own providers.</span></span> <span data-ttu-id="e94f4-118">Любое приложение резервного копирования ([*инициатор запроса*](vssgloss-r.md)) и любой модуль записи должны быть способны работать в любой системе дискового накопителя, поддерживающей интерфейс VSS.</span><span class="sxs-lookup"><span data-stu-id="e94f4-118">Any backup application ([*requester*](vssgloss-r.md)) and any writer should be able to run on any disk storage system that supports the VSS interface.</span></span>
-   <span data-ttu-id="e94f4-119">Резервное копирование в многотомного.</span><span class="sxs-lookup"><span data-stu-id="e94f4-119">Multivolume backup.</span></span> <span data-ttu-id="e94f4-120">VSS поддерживает [*наборы теневых копий*](vssgloss-s.md), которые являются коллекциями теневых копий, между несколькими типами томов дисков от нескольких поставщиков.</span><span class="sxs-lookup"><span data-stu-id="e94f4-120">VSS supports [*shadow copy sets*](vssgloss-s.md), which are collections of shadow copies, across multiple types of disk volumes from multiple vendors.</span></span> <span data-ttu-id="e94f4-121">Все теневые копии в наборе теневых копий будут создаваться с одинаковой отметкой времени и будут представлять одно и то же состояние диска для многодискового состояния диска.</span><span class="sxs-lookup"><span data-stu-id="e94f4-121">All shadow copies in a shadow copy set will be created with the same time stamp and will present the same disk state for a multivolume disk state.</span></span>
-   <span data-ttu-id="e94f4-122">Поддержка собственного теневого копирования.</span><span class="sxs-lookup"><span data-stu-id="e94f4-122">Native shadow copy support.</span></span> <span data-ttu-id="e94f4-123">Начиная с Windows XP, поддержка теневого копирования доступна в VSS как собственная часть операционной системы Windows.</span><span class="sxs-lookup"><span data-stu-id="e94f4-123">Beginning with Windows XP, shadow copy support is available through VSS as a native part of the Windows operating system.</span></span> <span data-ttu-id="e94f4-124">Если в системе имеется хотя бы один диск NTFS, эти системы можно настроить для поддержки теневых копий всех подключенных к ним дисковых систем.</span><span class="sxs-lookup"><span data-stu-id="e94f4-124">As long as at least one NTFS disk is present on a system, these systems can be configured to support shadow copies of all disk systems mounted on them.</span></span>

 

 



