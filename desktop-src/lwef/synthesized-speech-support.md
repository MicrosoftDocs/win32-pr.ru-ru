---
title: Синтезированная поддержка речи
description: Синтезированная поддержка речи
ms.assetid: 38172e04-a5b6-41e4-9d7c-539d9d4117be
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: d8a89610a912cf601724bc9a2153cba8343e6feb
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/16/2019
ms.locfileid: "104067949"
---
# <a name="synthesized-speech-support"></a><span data-ttu-id="3567b-103">Синтезированная поддержка речи</span><span class="sxs-lookup"><span data-stu-id="3567b-103">Synthesized Speech Support</span></span>

<span data-ttu-id="3567b-104">\[Microsoft Agent является устаревшим в Windows 7 и может быть недоступен в последующих версиях Windows.\]</span><span class="sxs-lookup"><span data-stu-id="3567b-104">\[Microsoft Agent is deprecated as of Windows 7, and may be unavailable in subsequent versions of Windows.\]</span></span>

<span data-ttu-id="3567b-105">Если вы используете синтезированный речевой ввод, ваш символ может сказать почти что угодно, что обеспечивает максимальную гибкость.</span><span class="sxs-lookup"><span data-stu-id="3567b-105">If you use synthesized speech, your character has the ability to say almost anything, which provides the greatest flexibility.</span></span> <span data-ttu-id="3567b-106">С помощью записанного звука можно присвоить символу конкретный или уникальный голос.</span><span class="sxs-lookup"><span data-stu-id="3567b-106">With recorded audio, you can give the character a specific or unique voice.</span></span> <span data-ttu-id="3567b-107">Чтобы указать выходные данные, введите текст в качестве параметра метода [**говорите**](speak-method.md) .</span><span class="sxs-lookup"><span data-stu-id="3567b-107">To specify output, provide the spoken text as a parameter of the [**Speak**](speak-method.md) method.</span></span>

<span data-ttu-id="3567b-108">Так как в архитектуре Microsoft Agent используется Microsoft SAPI для синтезированного речевого вывода, можно использовать любой механизм, который соответствует этой спецификации, и поддерживает Международный вывод фонетического алфавита (IPA) с помощью [**визуального**](https://www.bing.com/search?q=**Visual**) метода интерфейса [**иттснотифисинкв**](ittsnotifysinkw.md) .</span><span class="sxs-lookup"><span data-stu-id="3567b-108">Because Microsoft Agent's architecture uses Microsoft SAPI for synthesized speech output, you can use any engine that conforms to this specification, and supports International Phonetic Alphabet (IPA) output using the [**Visual**](https://www.bing.com/search?q=**Visual**) method of the [**ITTSNotifySinkW**](ittsnotifysinkw.md) interface.</span></span> <span data-ttu-id="3567b-109">Дополнительные сведения о подсистеме см. в разделе [требования поддержки обработчика речи](requirements-for-text-to-speech-engines.md).</span><span class="sxs-lookup"><span data-stu-id="3567b-109">For further information on the engine requires, see [Speech Engine Support Requirements](requirements-for-text-to-speech-engines.md).</span></span>

<span data-ttu-id="3567b-110">Параметр идентификатора языка символа определяет выходные данные TTS.</span><span class="sxs-lookup"><span data-stu-id="3567b-110">A character's language ID setting determines its TTS output.</span></span> <span data-ttu-id="3567b-111">Если клиент не указал идентификатор языка для символа, ИДЕНТИФИКАТОРу языка символа присваивается идентификатор языка пользователя по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="3567b-111">If a client does not specify a language ID for the character, the character's language ID is set to the user default language ID.</span></span> <span data-ttu-id="3567b-112">Если определение символа включает в себя конкретный обработчик, который можно загрузить и соответствует параметру языка символа, будет использоваться подсистема.</span><span class="sxs-lookup"><span data-stu-id="3567b-112">If the character's definition includes a specific engine and that engine can be loaded and it matches the character's language setting, that engine will be used.</span></span> <span data-ttu-id="3567b-113">В противном случае Microsoft Agent перечисляет другие доступные модули и запрашивает наилучшее соответствие SAPI на основе языка, пола и возраста (в указанном порядке).</span><span class="sxs-lookup"><span data-stu-id="3567b-113">Otherwise, Microsoft Agent enumerates the other available engines and requests a SAPI best match based on language, gender, and age (in that order).</span></span> <span data-ttu-id="3567b-114">Если соответствующий механизм не доступен, выходные данные TTS для этого клиента не используются.</span><span class="sxs-lookup"><span data-stu-id="3567b-114">If there is no matching engine available, there is no TTS output for that client's use of the character.</span></span> <span data-ttu-id="3567b-115">Агент пытается загрузить модуль TTS при первом вызове [**говорите**](speak-method.md) или при запросе или успешном задании идентификатора режима.</span><span class="sxs-lookup"><span data-stu-id="3567b-115">Agent attempts to load the TTS engine on the first [**Speak**](speak-method.md) call or when you query or successfully set its mode ID.</span></span>

<span data-ttu-id="3567b-116">Клиентское приложение также может указать обработчик TTS для своего символа (с помощью свойства [**ттсмодеид**](ttsmodeid-property.md) ).</span><span class="sxs-lookup"><span data-stu-id="3567b-116">A client application can also specify a TTS engine for its character (using the [**TTSModeID**](ttsmodeid-property.md) property).</span></span> <span data-ttu-id="3567b-117">Это переопределяет попытку сервера автоматически найти соответствующий механизм на основе идентификатора режима TTS, предпочтительного для символа или текущего идентификатора языка.</span><span class="sxs-lookup"><span data-stu-id="3567b-117">This overrides the server's attempt to automatically find a matching engine based on the character's preferred TTS mode ID or the character's current language ID setting.</span></span> <span data-ttu-id="3567b-118">Однако если этот механизм не установлен (или не может быть загружен другим способом), вызов завершится ошибкой (и вызовет ошибку в элементе управления).</span><span class="sxs-lookup"><span data-stu-id="3567b-118">However, if that engine is not installed (or cannot otherwise be loaded), the call will fail (and raise an error in the control).</span></span> <span data-ttu-id="3567b-119">Затем сервер пытается загрузить другой механизм на основе идентификатора языка, параметра TTS для обработки символов и доступных модулей TTS.</span><span class="sxs-lookup"><span data-stu-id="3567b-119">The server then attempts to load another engine based on the language ID, compiled character TTS setting, and available TTS engines.</span></span> <span data-ttu-id="3567b-120">Если совпадений по-прежнему нет, TTS для этого клиента недоступен, но символ по-прежнему может быть вставлен в всплывающую подсказку.</span><span class="sxs-lookup"><span data-stu-id="3567b-120">If there is still no match, TTS is not available for that client, but the character can still speak into its word balloon.</span></span>

<span data-ttu-id="3567b-121">Все клиенты остаются загруженными только для модулей TTS, используемых любым клиентом.</span><span class="sxs-lookup"><span data-stu-id="3567b-121">Only the TTS engines in use by any client remain loaded.</span></span> <span data-ttu-id="3567b-122">Например, если символ имеет определенный приоритет для конкретного обработчика и этот механизм доступен, но в клиентском приложении указан другой механизм (путем настройки идентификатора языка символа в обработчике или при указании другого идентификатора режима), загружается только подсистема, заданная приложением.</span><span class="sxs-lookup"><span data-stu-id="3567b-122">For example, if a character has a defined preference for a specific engine and that engine is available, but your client application has specified a different engine (by setting a character's language ID differently from the engine or specifying a different mode ID), only the engine specified by your application remains loaded.</span></span> <span data-ttu-id="3567b-123">Подсистема, соответствующая определенному символу для параметра TTS, выгружается (если только другой клиент не использует параметр подсистемы компиляции символа).</span><span class="sxs-lookup"><span data-stu-id="3567b-123">The engine matching the character's defined preference for a TTS setting is unloaded (unless another client is using the character's compiled engine setting).</span></span>

 

 




