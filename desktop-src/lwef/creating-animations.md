---
title: Создание анимаций
description: Создание анимаций
ms.assetid: 6d5c3c61-b3f2-4505-aa43-b6d001c444a5
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: f16c460908e7c782054a3f62ece87d01e7c9a817
ms.sourcegitcommit: bf526e267d3991892733bdd229c66d5365cf244a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/05/2021
ms.locfileid: "104570918"
---
# <a name="creating-animations"></a><span data-ttu-id="78fae-103">Создание анимаций</span><span class="sxs-lookup"><span data-stu-id="78fae-103">Creating Animations</span></span>

<span data-ttu-id="78fae-104">\[Microsoft Agent является устаревшим в Windows 7 и может быть недоступен в последующих версиях Windows.\]</span><span class="sxs-lookup"><span data-stu-id="78fae-104">\[Microsoft Agent is deprecated as of Windows 7, and may be unavailable in subsequent versions of Windows.\]</span></span>

<span data-ttu-id="78fae-105">Чтобы начать создание анимации для символа, выберите значок **анимации** в дереве.</span><span class="sxs-lookup"><span data-stu-id="78fae-105">To begin creating animations for your character, select the **Animations** icon in the tree.</span></span> <span data-ttu-id="78fae-106">Откроется страница **Свойства** с параметрами по умолчанию для всех анимаций.</span><span class="sxs-lookup"><span data-stu-id="78fae-106">This displays the **Properties** page with the default settings for all animations.</span></span> <span data-ttu-id="78fae-107">Можно изменить размер кадра, Длительность кадра по умолчанию и параметры цветовой палитры на странице **свойств** .</span><span class="sxs-lookup"><span data-stu-id="78fae-107">You can alter the frame size, the default frame duration, and color palette settings on the **Properties** page.</span></span>

### <a name="setting-your-characters-frame-size"></a><span data-ttu-id="78fae-108">Задание размера кадра символов</span><span class="sxs-lookup"><span data-stu-id="78fae-108">Setting Your Character's Frame Size</span></span>

<span data-ttu-id="78fae-109">Высота и ширина кадра анимации должны оставаться постоянными во всем определении символа (то есть для всех анимаций этого символа).</span><span class="sxs-lookup"><span data-stu-id="78fae-109">The animation frame height and width must remain constant throughout the entire character definition (that is, for all of that character's animations).</span></span> <span data-ttu-id="78fae-110">Хотя размер кадра можно изменить с помощью значения по умолчанию (128 x 128 пикселей), изображения, отображаемые в редакторе, будут масштабироваться в соответствии с отображаемым размером по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="78fae-110">Although you can change the frame size from its default setting (128 x 128 pixels), images displayed in the Editor will be scaled to fit default display size.</span></span> <span data-ttu-id="78fae-111">Если изменить параметр кадра по умолчанию, можно отобразить полный и немасштабируемый размер рамки, выбрав **открыть окно фрейма** в меню **Правка** .</span><span class="sxs-lookup"><span data-stu-id="78fae-111">If you change the default frame setting, you can display the frame's full, non-scaled size by choosing **Open Frame Window** from the **Edit** menu.</span></span>

### <a name="setting-your-characters-palette"></a><span data-ttu-id="78fae-112">Настройка палитры символов</span><span class="sxs-lookup"><span data-stu-id="78fae-112">Setting Your Character's Palette</span></span>

<span data-ttu-id="78fae-113">По умолчанию редактор использует первый загружаемый точечный рисунок, чтобы задать цветовую палитру по умолчанию для персонажа, цвета, определяющие, как выглядит символ, и задает цвет в 11-<sup>ой</sup> позиции палитры в качестве цвета прозрачности.</span><span class="sxs-lookup"><span data-stu-id="78fae-113">By default, the Editor uses the first bitmap image you load to set your character's default color palette, the colors that determine how the character appears, and sets the color in the 11<sup>th</sup> palette position as your transparency color.</span></span> <span data-ttu-id="78fae-114">Тем не менее можно явно задать палитру и прозрачность в группе **сведения о палитре** .</span><span class="sxs-lookup"><span data-stu-id="78fae-114">However, you can set the palette and transparency explicitly in the **Palette Information** group.</span></span> <span data-ttu-id="78fae-115">Это позволяет указать файл изображения, используемый для палитры.</span><span class="sxs-lookup"><span data-stu-id="78fae-115">This enables you to specify an image file to use for the palette.</span></span> <span data-ttu-id="78fae-116">Можно указать один из файлов изображений анимации или любой графический файл.</span><span class="sxs-lookup"><span data-stu-id="78fae-116">You can specify one of the animation image files or any graphic file.</span></span> <span data-ttu-id="78fae-117">Указанный файл палитры должен представлять собой 8-разрядный (256) цветовой файл.</span><span class="sxs-lookup"><span data-stu-id="78fae-117">The palette file you specify must be an 8-bit (256) color file.</span></span> <span data-ttu-id="78fae-118">После загрузки используйте кнопку **изменить параметр** , чтобы изменить цвет прозрачности.</span><span class="sxs-lookup"><span data-stu-id="78fae-118">After it is loaded, use the **Change Setting** button to change the transparency color.</span></span>

<span data-ttu-id="78fae-119">Цветовая палитра вашего символа не должна переназначить стандартные системные цвета.</span><span class="sxs-lookup"><span data-stu-id="78fae-119">Your character's color palette must not remap the standard system colors.</span></span> <span data-ttu-id="78fae-120">Редактор будет автоматически резервировать цветовую палитру системы при отображении изображений.</span><span class="sxs-lookup"><span data-stu-id="78fae-120">The Editor will automatically reserve the system's color palette when displaying images.</span></span> <span data-ttu-id="78fae-121">Кроме того, все изображения анимации должны использовать одну и ту же цветовую палитру и цвет прозрачности.</span><span class="sxs-lookup"><span data-stu-id="78fae-121">In addition, all your animation images must use the same color palette and transparency color.</span></span> <span data-ttu-id="78fae-122">Это очень важно.</span><span class="sxs-lookup"><span data-stu-id="78fae-122">This is very important.</span></span> <span data-ttu-id="78fae-123">В противном случае при загрузке в редактор вы можете увидеть цветное сопоставление изображений.</span><span class="sxs-lookup"><span data-stu-id="78fae-123">If they do not, you may see color remapping of your images when you load them into the Editor.</span></span>

<span data-ttu-id="78fae-124">Хотя можно задать цветовую палитру для символа, в системах Windows, где свойства экрана установлены в 8-разрядную (256) цветовую палитру, цвет символа будет подвергаться текущей системной палитре.</span><span class="sxs-lookup"><span data-stu-id="78fae-124">While you can set the color palette for the character, on Windows systems where the Display properties are set to an 8-bit (256) color palette, the character's color will be subject to the current system palette.</span></span> <span data-ttu-id="78fae-125">Так как приложения могут изменять системную палитру, символ может не отображаться с правильными параметрами цвета.</span><span class="sxs-lookup"><span data-stu-id="78fae-125">Because applications may change the system palette, the character may not appear with the correct color settings.</span></span> <span data-ttu-id="78fae-126">Несмотря на то, что предотвратить это невозможно, можно уменьшить количество используемых цветов и задать палитру символов на основе палитры, используемой приложением, управляющим символом.</span><span class="sxs-lookup"><span data-stu-id="78fae-126">Although there is no way to prevent this, you can lessen the effect by limiting the numbers of colors you use and setting the character's palette based on the palette used by the application driving the character.</span></span> <span data-ttu-id="78fae-127">Например, если вы разрабатываете символ, который будет использоваться с веб-страницами, можно задать палитру символов с помощью палитры полутонов Microsoft Internet Explorer.</span><span class="sxs-lookup"><span data-stu-id="78fae-127">For example, if you are developing a character to be used with webpages, you may want set the character's palette using the Microsoft Internet Explorer's halftone palette.</span></span> <span data-ttu-id="78fae-128">Можно захватить палитру браузера, щелкнув изображение на веб-странице правой кнопкой мыши и выбрав команду **Сохранить рисунок как** , а затем выбрав **точечный рисунок** в параметре **Сохранить как тип** , а затем нажав кнопку **сохранить**.</span><span class="sxs-lookup"><span data-stu-id="78fae-128">You can capture the browser's palette by right-clicking on an image on a webpage and choosing the **Save Picture As** command and choosing **Bitmap** in the **Save As Type** option, then clicking **Save**.</span></span> <span data-ttu-id="78fae-129">Чтобы оптимизировать файлы изображений анимации в определенном файле палитры, может потребоваться использовать такие продукты, как равновесия Дебабелизер.</span><span class="sxs-lookup"><span data-stu-id="78fae-129">To optimize your animation image files to a specific palette file, you might want to use a product like Equilibrium DeBabelizer.</span></span>

### <a name="creating-a-new-animation"></a><span data-ttu-id="78fae-130">Создание новой анимации</span><span class="sxs-lookup"><span data-stu-id="78fae-130">Creating a New Animation</span></span>

<span data-ttu-id="78fae-131">После определения глобальных параметров анимации можно приступать к созданию анимации.</span><span class="sxs-lookup"><span data-stu-id="78fae-131">After you have determined your global animation settings, you can begin creating animations.</span></span> <span data-ttu-id="78fae-132">Чтобы создать анимацию, выберите **создать** анимацию в меню **Правка** или нажмите кнопку **создать анимацию** на панели инструментов.</span><span class="sxs-lookup"><span data-stu-id="78fae-132">To create a new animation, choose **New Animation** from the **Edit** menu or the **New Animation** button on the toolbar.</span></span> <span data-ttu-id="78fae-133">При этом в дереве под значком **анимации** добавляется новый значок анимации и назначается имя нового значка по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="78fae-133">This adds a new animation icon in the tree under the **Animations** icon and assigns the new icon a default name.</span></span> <span data-ttu-id="78fae-134">Вы можете переименовать анимацию, введя в поле **имя анимации** .</span><span class="sxs-lookup"><span data-stu-id="78fae-134">You can rename your animation by typing in the **Animation Name** field.</span></span> <span data-ttu-id="78fae-135">Обратите внимание, что имена анимации в определении символа должны быть уникальными.</span><span class="sxs-lookup"><span data-stu-id="78fae-135">Note that animation names within a character definition must be unique.</span></span> <span data-ttu-id="78fae-136">Кроме того, старайтесь не использовать символы в имени, которые не являются допустимыми символами для имен файлов.</span><span class="sxs-lookup"><span data-stu-id="78fae-136">Also, avoid using characters in the name that are not valid characters for file names.</span></span>

### <a name="adding-frames"></a><span data-ttu-id="78fae-137">Добавление кадров</span><span class="sxs-lookup"><span data-stu-id="78fae-137">Adding Frames</span></span>

<span data-ttu-id="78fae-138">Каждая анимация состоит из кадров.</span><span class="sxs-lookup"><span data-stu-id="78fae-138">Every animation is composed of frames.</span></span> <span data-ttu-id="78fae-139">Чтобы создать новый кадр для анимации, выберите пункт **создать рамку** в меню **Правка** или на панели инструментов.</span><span class="sxs-lookup"><span data-stu-id="78fae-139">To create a new frame for your animation, choose **New Frame** from either the **Edit** menu or the toolbar.</span></span> <span data-ttu-id="78fae-140">При этом в дерево под значком анимации добавляется новый значок кадра, и отображаются три страницы с вкладками.</span><span class="sxs-lookup"><span data-stu-id="78fae-140">This adds a new frame icon to the tree under your animation icon, and displays three tabbed pages.</span></span> <span data-ttu-id="78fae-141">Страница **Общие** включает элементы управления, позволяющие загружать и настраивать изображение для рамки.</span><span class="sxs-lookup"><span data-stu-id="78fae-141">The **General** page includes controls that enable you to load and adjust an image for your frame.</span></span> <span data-ttu-id="78fae-142">Он также включает область отображения для внешнего вида рамки.</span><span class="sxs-lookup"><span data-stu-id="78fae-142">It also includes a display area for the frame's appearance.</span></span>

![Снимок экрана, на котором отображается область изображения с именем файла, путем и положением.](images/f2charflame.gif)

<span data-ttu-id="78fae-144">Кадр может содержать одно или несколько изображений.</span><span class="sxs-lookup"><span data-stu-id="78fae-144">A frame can contain one or more images.</span></span> <span data-ttu-id="78fae-145">Чтобы определить изображение для рамки, нажмите кнопку **Добавить файл изображения** непосредственно над полем список **изображений** .</span><span class="sxs-lookup"><span data-stu-id="78fae-145">To define an image for a frame, click the **Add Image File** button just above the **Images** list box.</span></span> <span data-ttu-id="78fae-146">Откроется диалоговое окно **Выбор файлов изображений** , в котором можно выбрать файл растрового изображения.</span><span class="sxs-lookup"><span data-stu-id="78fae-146">The **Select Image Files** dialog box displays, which allows you to select a bitmap image file.</span></span>

![Снимок экрана, на котором показан файл изображения, выбранный в проводнике.](images/f3chardialbox.gif)

<span data-ttu-id="78fae-148">Выберите файл, который требуется загрузить, нажмите кнопку **Открыть**, и изображение появится на странице **Общие** .</span><span class="sxs-lookup"><span data-stu-id="78fae-148">Select the file you want to load, choose **Open**, and the image appears in the frame display on the **General** page.</span></span> <span data-ttu-id="78fae-149">Редактор принимает изображения, хранящиеся в виде 1-разрядного (монохромного), 4-разрядного или 8-разрядного формата точечного рисунка Windows или в формате GIF.</span><span class="sxs-lookup"><span data-stu-id="78fae-149">The Editor accepts images stored as 1-bit (monochrome), 4-bit, or 8-bit Windows bitmap format, or as GIF format.</span></span>

<span data-ttu-id="78fae-150">Для настройки внешнего вида изображения внутри рамки можно использовать четыре кнопки со стрелками под изображением в поле " **Расположение** ".</span><span class="sxs-lookup"><span data-stu-id="78fae-150">You can use the four arrow buttons beneath the image in the **Position** box to adjust the image's appearance within the frame.</span></span> <span data-ttu-id="78fae-151">Если изображение больше размера кадра, будет отображаться только часть изображения, отображаемая в кадре.</span><span class="sxs-lookup"><span data-stu-id="78fae-151">If the image is larger than your frame's size, only the portion of the image that appears within the frame will display.</span></span> <span data-ttu-id="78fae-152">Если увеличить размер кадра, изображение может масштабироваться в соответствии с областью экрана редактора.</span><span class="sxs-lookup"><span data-stu-id="78fae-152">If you increase the frame size, the image may be scaled to fit within the display area of the Editor.</span></span>

<span data-ttu-id="78fae-153">Можно также отобразить рамку, выбрав **открыть окно фрейма** в меню **Правка** .</span><span class="sxs-lookup"><span data-stu-id="78fae-153">You can also display a frame by choosing **Open Frame Window** from the **Edit** menu.</span></span> <span data-ttu-id="78fae-154">При этом текущий кадр отображается в отдельном окне без масштабирования изображений, загруженных в кадр.</span><span class="sxs-lookup"><span data-stu-id="78fae-154">This displays the current frame in a separate window without scaling the images loaded into the frame.</span></span> <span data-ttu-id="78fae-155">Начальный размер этого окна зависит от настроек высоты и ширины рамки.</span><span class="sxs-lookup"><span data-stu-id="78fae-155">This window's initial size is based on your frame's height and width settings.</span></span> <span data-ttu-id="78fae-156">Размер можно изменить меньше, но не больше.</span><span class="sxs-lookup"><span data-stu-id="78fae-156">You can resize it smaller, but not larger.</span></span> <span data-ttu-id="78fae-157">Окно фрейма отражает изменения, внесенные с помощью элементов управления в редакторе, а также позволяет просматривать фреймы при просмотре других страниц свойств.</span><span class="sxs-lookup"><span data-stu-id="78fae-157">The Frame Window reflects the changes you make using the controls in the Editor and also allows you view the frame while viewing its other property pages.</span></span>

![Снимок экрана, на котором отображается панель "позиционирование".](images/f4charposctrl.gif)

<span data-ttu-id="78fae-159">Кадр можно составить из нескольких изображений.</span><span class="sxs-lookup"><span data-stu-id="78fae-159">You can compose a frame from multiple images.</span></span> <span data-ttu-id="78fae-160">Каждый раз, когда вы наберете кнопку **Добавить изображение** и выбираете другое изображение, изображение добавляется в список и в область изображения.</span><span class="sxs-lookup"><span data-stu-id="78fae-160">Each time you select the **Add Image** button and choose another image, the image gets added to the list and to the image display area.</span></span> <span data-ttu-id="78fae-161">Можно также добавить несколько образов, выбрав более одного файла.</span><span class="sxs-lookup"><span data-stu-id="78fae-161">You can also add multiple images by selecting more than one file.</span></span> <span data-ttu-id="78fae-162">Нажмите клавиши SHIFT или CTRL при щелчке в диалоговом окне **Выбор файлов изображений** , а затем нажмите кнопку **Открыть**.</span><span class="sxs-lookup"><span data-stu-id="78fae-162">Press SHIFT or CTRL while you click in the **Select Image Files** dialog box, and then choose **Open**.</span></span> <span data-ttu-id="78fae-163">Кнопки **вверх и** **вниз** над полем список **изображений** позволяют переместить выбранное изображение в порядке расположения (z-порядок) для рамки.</span><span class="sxs-lookup"><span data-stu-id="78fae-163">The **Move Up** and **Move Down** buttons above the **Images** list box move a selected image in the display order (z-order) for the frame.</span></span> <span data-ttu-id="78fae-164">Можно также перемещать изображения, перетаскивая их в списке.</span><span class="sxs-lookup"><span data-stu-id="78fae-164">You can also move images by dragging them within the list.</span></span> <span data-ttu-id="78fae-165">При выборе изображения в списке и нажатии кнопки **Удалить** изображение удаляется.</span><span class="sxs-lookup"><span data-stu-id="78fae-165">Selecting an image in the list and clicking the **Delete** button removes an image.</span></span> <span data-ttu-id="78fae-166">Чтобы изменить образ, загруженный в другой файл изображения, можно щелкнуть имя файла, чтобы изменить его напрямую, или нажать кнопку **...** (многоточие), чтобы открыть диалоговое окно **Выбор файлов изображений** и выбрать другой файл.</span><span class="sxs-lookup"><span data-stu-id="78fae-166">To change an image you have loaded to another image file, you can click the filename to edit it directly or use the **...** (ellipsis) button to bring up the **Select Image Files** dialog box and select a different file.</span></span>

![Снимок экрана, на котором отображается кнопка с многоточием.](images/f5charell.gif)

<span data-ttu-id="78fae-168">Для задания длительности кадра можно использовать текстовое поле **Длительность** . то есть, как долго будет отображаться рамка.</span><span class="sxs-lookup"><span data-stu-id="78fae-168">You can use the **Duration** text box to set the duration for the frame; that is, how long the frame will be displayed.</span></span> <span data-ttu-id="78fae-169">Если кадр не имеет изображения и нулевая длительность, фрейм не будет отображаться при воспроизведении анимации.</span><span class="sxs-lookup"><span data-stu-id="78fae-169">If a frame has no image and zero duration, the frame will not be displayed when the animation plays.</span></span>

<span data-ttu-id="78fae-170">Можно также указать файл звукового эффекта, который будет воспроизводиться при отображении кадра.</span><span class="sxs-lookup"><span data-stu-id="78fae-170">You can also specify a sound effect file to play when the frame is displayed.</span></span> <span data-ttu-id="78fae-171">Если вы планируете загружать символ с веб-сервера, может потребоваться сжать файл звукового эффекта, чтобы уменьшить время загрузки.</span><span class="sxs-lookup"><span data-stu-id="78fae-171">If you plan to load the character from a web server, you may want to compress the sound effect file to minimize load time.</span></span> <span data-ttu-id="78fae-172">Затем сжатый звуковой файл можно указать в редакторе символов агента.</span><span class="sxs-lookup"><span data-stu-id="78fae-172">You can then specify the compressed sound file in the Agent Character Editor.</span></span> <span data-ttu-id="78fae-173">Кроме того, старайтесь не использовать звуковые эффекты с длительностью, превышающей длительность анимации, и особенно избегать звуковых эффектов, которые циклируют, поскольку службы анимации Microsoft Agent не отправляют событие завершения анимации до завершения звука.</span><span class="sxs-lookup"><span data-stu-id="78fae-173">In addition, avoid using a sound effect with a duration longer than the duration of your animation and especially avoid a sound effect that loops, because the Microsoft Agent animation services do not send an animation complete event until the sound completes.</span></span> <span data-ttu-id="78fae-174">Кроме того, не следует задавать звуковой эффект для любой анимации, назначаемой состояниям **прослушивания** или **слуха** , так как это мешает речевому вводу.</span><span class="sxs-lookup"><span data-stu-id="78fae-174">Also avoid specifying a sound effect for any animation you assign to the **Listening** or **Hearing** states, because this interferes with speech input.</span></span> <span data-ttu-id="78fae-175">Наконец, хотя можно включить несколько звуковых эффектов в анимацию, старайтесь не размещать их так, чтобы они перекрывалися, так как это может повлиять на время анимации.</span><span class="sxs-lookup"><span data-stu-id="78fae-175">Finally, while you can include more than one sound effect in an animation, avoid placing them so they overlap, because this may affect the timing of the animation.</span></span> <span data-ttu-id="78fae-176">Кроме того, помните, что звуковые эффекты могут воспроизводиться с различной скоростью в зависимости от оборудования пользователя.</span><span class="sxs-lookup"><span data-stu-id="78fae-176">Also, keep in mind that sound effects may play at different rates based on the user's hardware.</span></span>

<span data-ttu-id="78fae-177">Чтобы добавить кадры в анимацию, снова выберите команду **создать кадр** и выполните ту же процедуру.</span><span class="sxs-lookup"><span data-stu-id="78fae-177">To add frames to your animation, choose the **New Frame** command again and follow the same procedure.</span></span> <span data-ttu-id="78fae-178">В качестве варианта можно также загрузить несколько изображений и автоматически создать для них новые кадры.</span><span class="sxs-lookup"><span data-stu-id="78fae-178">As an option, you can also load multiple images and automatically generate new frames for them.</span></span> <span data-ttu-id="78fae-179">Чтобы использовать эту функцию, выберите в меню **Правка** пункт **создать кадры из изображений** .</span><span class="sxs-lookup"><span data-stu-id="78fae-179">To use this feature, choose **New Frames From Images** from the **Edit** menu.</span></span> <span data-ttu-id="78fae-180">Кадры будут создаваться в алфавитном порядке на основе имен файлов изображений.</span><span class="sxs-lookup"><span data-stu-id="78fae-180">The frames will be created in alphabetic order based on the image filenames.</span></span> <span data-ttu-id="78fae-181">Завершив определение всех кадров для анимации, можно снова выбрать команду **создать анимацию** , чтобы начать новую анимацию.</span><span class="sxs-lookup"><span data-stu-id="78fae-181">When you are finished defining all frames for your animation, you can choose the **New Animation** command again to begin a new animation.</span></span>

<span data-ttu-id="78fae-182">Существуют и другие способы добавления кадров в анимацию и перемещения кадров внутри или между анимациями.</span><span class="sxs-lookup"><span data-stu-id="78fae-182">There are other ways to add frames to animations and move frames within or between animations.</span></span> <span data-ttu-id="78fae-183">Можно выбрать другой кадр (из той же или другой анимации), выбрать **Вырезать** или **Копировать**, затем выбрать анимацию или кадр в этой анимации и нажать кнопку **Вставить**.</span><span class="sxs-lookup"><span data-stu-id="78fae-183">You can select another frame (from the same or another animation) and choose **Cut** or **Copy**, then select the animation or a frame in that animation and choose **Paste**.</span></span> <span data-ttu-id="78fae-184">Можно также перетащить фрейм из одной анимации в другую.</span><span class="sxs-lookup"><span data-stu-id="78fae-184">You can also drag a frame from one animation to another.</span></span> <span data-ttu-id="78fae-185">При перетаскивании в пределах анимации действие перемещается в рамку.</span><span class="sxs-lookup"><span data-stu-id="78fae-185">If you drag within an animation, the action moves the frame.</span></span> <span data-ttu-id="78fae-186">При перетаскивании в другую анимацию она копируется.</span><span class="sxs-lookup"><span data-stu-id="78fae-186">If you drag to another animation, it copies the frame.</span></span> <span data-ttu-id="78fae-187">При перетаскивании в предыдущий кадр в той же анимации фрейм вставляется перед рамкой, в которую перетаскивается.</span><span class="sxs-lookup"><span data-stu-id="78fae-187">Dragging to a preceding frame in the same animation inserts the frame before the frame to which you drag.</span></span> <span data-ttu-id="78fae-188">При перетаскивании в следующий фрейм он помещается после фрейма, в который выполняется перетаскивание.</span><span class="sxs-lookup"><span data-stu-id="78fae-188">Dragging to a following frame places it after the frame to which you drag.</span></span> <span data-ttu-id="78fae-189">При перетаскивании фрейма с помощью правой кнопки мыши при отпускании кнопки выводится всплывающее меню с выбранными параметрами перемещения.</span><span class="sxs-lookup"><span data-stu-id="78fae-189">If you drag a frame using the right mouse button, releasing the button displays a pop-up menu with your transfer choices.</span></span>

<span data-ttu-id="78fae-190">Можно также создать анимацию, скопировав существующую анимацию (выберите анимацию и нажав кнопку **Копировать**) и щелкнув значок **анимации** или другой значок анимации и выбрав **Вставить**.</span><span class="sxs-lookup"><span data-stu-id="78fae-190">You can also create an animation by copying an existing animation (select the animation and choose **Copy**), and selecting the **Animations** icon or another animation icon and choosing **Paste**.</span></span> <span data-ttu-id="78fae-191">Редактор автоматически создает новое имя для анимации, хотя это имя можно изменить.</span><span class="sxs-lookup"><span data-stu-id="78fae-191">The Editor automatically creates a new name for the animation, although you can change the name.</span></span>

### <a name="branching"></a><span data-ttu-id="78fae-192">Ветвление</span><span class="sxs-lookup"><span data-stu-id="78fae-192">Branching</span></span>

<span data-ttu-id="78fae-193">При создании рамки можно также определить, какой кадр будет воспроизводиться далее.</span><span class="sxs-lookup"><span data-stu-id="78fae-193">When you create a frame, you can also define which frame plays next.</span></span> <span data-ttu-id="78fae-194">По умолчанию следующий кадр, воспроизводимый в последовательности анимации, всегда является следующим кадром в z-порядке.</span><span class="sxs-lookup"><span data-stu-id="78fae-194">By default, the next frame played in the animation sequence is always the next frame in the z-order.</span></span> <span data-ttu-id="78fae-195">Однако, выбрав страницу **ветвление** , можно задать вероятность для трех других кадров, которые может играть сервер.</span><span class="sxs-lookup"><span data-stu-id="78fae-195">However, by choosing the **Branching** page, you can set the probability for up to three other frames that the server may play.</span></span> <span data-ttu-id="78fae-196">Введите процент вероятности и номер целевого кадра в соответствующих полях.</span><span class="sxs-lookup"><span data-stu-id="78fae-196">Enter the probability percentage and the target frame number in the appropriate fields.</span></span> <span data-ttu-id="78fae-197">Можно указать ветвление даже для фреймов, у которых нет изображений и для которых задано значение "ноль".</span><span class="sxs-lookup"><span data-stu-id="78fae-197">You can specify branching even for frames that don't have images and have their duration set to zero.</span></span> <span data-ttu-id="78fae-198">Это позволяет создать ветвь без предварительного отображения определенного изображения.</span><span class="sxs-lookup"><span data-stu-id="78fae-198">This enables you to branch without first displaying a particular image.</span></span>

![Снимок экрана, на котором показана страница "ветвление".](images/f6charbranch.gif)

<span data-ttu-id="78fae-200">Вы можете использовать функцию ветвления для создания анимации, которая будет бессрочно работать в цикле.</span><span class="sxs-lookup"><span data-stu-id="78fae-200">You can use the branching feature to create animations that will loop indefinitely.</span></span> <span data-ttu-id="78fae-201">Однако обратите внимание, что при воспроизведении циклической анимации другие анимации в очереди символов не воспроизводятся до тех пор, пока событие, такое как пользователь, не нажимает клавишу Push-to-разговора или клиентское приложение, вызывающее метод [**остановки**](stop-method.md) , останавливает циклическую анимацию.</span><span class="sxs-lookup"><span data-stu-id="78fae-201">However, note that when a looping animation plays, other animations in the character's queue will not play until an event—such as a user pressing the push-to-talk key or the client application calling the [**Stop**](stop-method.md) method—halts the looping animation.</span></span> <span data-ttu-id="78fae-202">Поэтому внимательно рассмотрите контекст, в котором будет использоваться анимация, прежде чем создавать циклическую анимацию.</span><span class="sxs-lookup"><span data-stu-id="78fae-202">Therefore, carefully consider the context in which the animation will be used before creating a looping animation.</span></span>

<span data-ttu-id="78fae-203">Страница ветвление также позволяет создавать ветви выхода.</span><span class="sxs-lookup"><span data-stu-id="78fae-203">The branching page also enables you to create Exit Branching.</span></span> <span data-ttu-id="78fae-204">Ветвь выхода — это ветвь к кадру, который будет принимать анимация при остановке анимации и перед воспроизведением следующей анимации.</span><span class="sxs-lookup"><span data-stu-id="78fae-204">An exit branch is a branch to a frame that the animation will take when the animation is stopped and before the next animation is played.</span></span> <span data-ttu-id="78fae-205">Определение ветвей выхода позволяет плавно перемещаться при переходе от одной анимации к другой.</span><span class="sxs-lookup"><span data-stu-id="78fae-205">Defining exit branches will enable you to move smoothly during the transition from one animation to another.</span></span> <span data-ttu-id="78fae-206">Ветвление выхода не должно создавать циклическую петлю, но в конечном итоге должно иметь возможность выйти в последний кадр анимации.</span><span class="sxs-lookup"><span data-stu-id="78fae-206">Your exit branching must not create a circular loop, but must eventually be able to exit to the last frame of the animation.</span></span>

<span data-ttu-id="78fae-207">Нет необходимости предоставлять ветвь Exit для каждого кадра, но если это не так, анимация будет следовать за нормальным ветвлением кадра.</span><span class="sxs-lookup"><span data-stu-id="78fae-207">You do not have to provide an exit branch for each frame, however, if you don't, the animation will follow the frame's normal branching.</span></span> <span data-ttu-id="78fae-208">Если в кадре нет явной ветви, анимация автоматически подразделяется на следующий кадр.</span><span class="sxs-lookup"><span data-stu-id="78fae-208">If the frame has no explicit branch, then the animation automatically branches to the frame that follows it.</span></span> <span data-ttu-id="78fae-209">Например, при ветвлении из фрейма 3 в кадр 1, а в кадре 1 нет других ветвей (обычная или выходная ветвь), кадр 1 будет подветвление к кадру 2.</span><span class="sxs-lookup"><span data-stu-id="78fae-209">For example, if you branch from frame 3 to frame 1 and frame 1 has no other branching (normal or exit branch), frame 1 will branch to frame 2.</span></span> <span data-ttu-id="78fae-210">Если в кадре 2 нет ветвления, анимация будет переходить к кадру 3, а у вас должен быть цикл.</span><span class="sxs-lookup"><span data-stu-id="78fae-210">If frame 2 has no branching, the animation will branch back to frame 3 and you have a circular loop.</span></span> <span data-ttu-id="78fae-211">Вместо этого можно создать ветвь из фрейма 3 в кадр 1, а затем установить ветвь выхода Frame 1 в любой кадр, находящуюся после кадра 3, и, как правило, перейти к последнему кадру анимации.</span><span class="sxs-lookup"><span data-stu-id="78fae-211">Instead, you could branch from frame 3 to frame 1 and then set frame 1's exit branch to any frame that is after frame 3 and normally proceeds to the last frame of the animation.</span></span>

<span data-ttu-id="78fae-212">Иногда может потребоваться создать явный окончательный кадр анимации, которая не воспроизводится, но обеспечивает завершение анимации.</span><span class="sxs-lookup"><span data-stu-id="78fae-212">Sometimes you may need to create an explicit final frame of an animation that is not played visibly, but provides an end of the animation.</span></span> <span data-ttu-id="78fae-213">Например, необходимо выйти из анимации, но выйти на последний кадр не будет подходящим.</span><span class="sxs-lookup"><span data-stu-id="78fae-213">For example, you need to exit the animation, but exiting to the last frame would not be appropriate.</span></span> <span data-ttu-id="78fae-214">Это можно сделать, создав пустой кадр нулевой длительности в качестве последнего кадра анимации.</span><span class="sxs-lookup"><span data-stu-id="78fae-214">You can do this by creating a blank, zero duration frame as the last frame of the animation.</span></span> <span data-ttu-id="78fae-215">Это позволяет воспроизводить анимацию в обычном режиме с помощью последнего кадра анимации, а также позволяет предоставить конечную точку выхода для ветви выхода.</span><span class="sxs-lookup"><span data-stu-id="78fae-215">This allows the animation to play normally through the last frame of the animation and also enables you to provide a final exit point for your exit branching.</span></span>

### <a name="previewing-an-animation"></a><span data-ttu-id="78fae-216">Предварительный просмотр анимации</span><span class="sxs-lookup"><span data-stu-id="78fae-216">Previewing an Animation</span></span>

<span data-ttu-id="78fae-217">Вы можете просмотреть анимацию в редакторе символов агента, выбрав команду **Предварительный просмотр** в меню **Правка** или кнопку Предварительный просмотр на панели инструментов.</span><span class="sxs-lookup"><span data-stu-id="78fae-217">You can preview your animation in the Agent Character Editor by choosing the **Preview** command on the **Edit** menu or the Preview button on the toolbar.</span></span> <span data-ttu-id="78fae-218">Это воспроизводит анимацию, включая все ветви и звуковые эффекты, начиная с текущего выбранного кадра.</span><span class="sxs-lookup"><span data-stu-id="78fae-218">This plays your animation, including any branches and sound effects, starting from the current selected frame.</span></span> <span data-ttu-id="78fae-219">При завершении анимации он сбрасывается до текущего выбранного кадра.</span><span class="sxs-lookup"><span data-stu-id="78fae-219">It resets to the current selected frame when the animation completes.</span></span> <span data-ttu-id="78fae-220">Чтобы воспроизвести всю анимацию, перейдите к представлению в виде дерева, выберите значок анимации или первый кадр анимации и выберите команду **Предварительный просмотр** .</span><span class="sxs-lookup"><span data-stu-id="78fae-220">To play your entire animation, go to the tree view, select the animation's icon or first frame of the animation, and choose the **Preview** command.</span></span> <span data-ttu-id="78fae-221">Редактор выполняет анимацию кадров на странице **Общие** .</span><span class="sxs-lookup"><span data-stu-id="78fae-221">The Editor animates your frames on the **General** page.</span></span> <span data-ttu-id="78fae-222">Чтобы прерывать предварительную версию до ее завершения, выберите команду " **завершить предварительный просмотр** ".</span><span class="sxs-lookup"><span data-stu-id="78fae-222">To stop the preview before it ends, choose the **Stop Preview** command.</span></span> <span data-ttu-id="78fae-223">При воспроизведении предварительной версии команда **Предварительный просмотр** автоматически изменится на **прерывать Просмотр** .</span><span class="sxs-lookup"><span data-stu-id="78fae-223">The **Preview** command automatically changes to **Stop Preview** while the preview plays.</span></span>

<span data-ttu-id="78fae-224">Можно также выполнить предварительный просмотр ветви выхода, выбрав команду **Просмотр выхода из ветви** в меню **Правка** или на панели инструментов.</span><span class="sxs-lookup"><span data-stu-id="78fae-224">You can also preview your exit branching by choosing the **Preview Exit Branching** command on the **Edit** menu or on the toolbar.</span></span> <span data-ttu-id="78fae-225">Позволяет проверить, как будет отображаться ветвление выхода из любого конкретного кадра.</span><span class="sxs-lookup"><span data-stu-id="78fae-225">The enables you to test how the exit branching will appear from any specific frame.</span></span>

### <a name="assigning-speaking-overlays"></a><span data-ttu-id="78fae-226">Назначение наложения речи</span><span class="sxs-lookup"><span data-stu-id="78fae-226">Assigning Speaking Overlays</span></span>

<span data-ttu-id="78fae-227">Можно определить символ, чтобы он выговорит во время последнего кадра анимации.</span><span class="sxs-lookup"><span data-stu-id="78fae-227">You can define a character so that it speaks during the last frame of its animation.</span></span> <span data-ttu-id="78fae-228">В этом фрейме выберите страницу **наложения** .</span><span class="sxs-lookup"><span data-stu-id="78fae-228">On this frame, choose the **Overlay** page.</span></span> <span data-ttu-id="78fae-229">Эта страница позволяет загрузить и назначить файлы изображений рот стандартным позициям рот, поддерживаемым Microsoft Agent.</span><span class="sxs-lookup"><span data-stu-id="78fae-229">This page enables you to load and assign mouth image files to the standard mouth positions supported by Microsoft Agent.</span></span> <span data-ttu-id="78fae-230">Нажмите кнопку **Добавить изображение** и выберите изображение из диалогового окна.</span><span class="sxs-lookup"><span data-stu-id="78fae-230">Click the **Add Image** button and select the image from the dialog box.</span></span> <span data-ttu-id="78fae-231">Можно также выбрать несколько образов, и редактор загрузит и назначит изображения, начиная с выбранного расположения рот.</span><span class="sxs-lookup"><span data-stu-id="78fae-231">You can also select multiple images, and the Editor will load and assign the images starting with the mouth position you selected.</span></span> <span data-ttu-id="78fae-232">Нажмите кнопки **вверх и** **вниз** или перетащите запись, чтобы изменить назначение изображения в списке.</span><span class="sxs-lookup"><span data-stu-id="78fae-232">Click the **Move Up** and **Move Down** buttons or drag an entry to change an image assignment in the list.</span></span> <span data-ttu-id="78fae-233">Нажмите кнопку **Удалить** , чтобы удалить изображение.</span><span class="sxs-lookup"><span data-stu-id="78fae-233">Click the **Delete** button to remove an image.</span></span> <span data-ttu-id="78fae-234">Можно также изменить путь к назначенному файлу, щелкнув его запись в списке и повторно введя его имя файла или нажав кнопку **с многоточием** , чтобы открыть диалоговое окно **Выбор файлов изображений** .</span><span class="sxs-lookup"><span data-stu-id="78fae-234">You can also edit the pathname of an assigned file by clicking its entry in the list and retyping its filename, or by choosing the **Ellipsis** button to display the **Select Image Files** dialog box.</span></span>

![Снимок экрана, на котором показана страница "наложения" с выбранным файлом.](images/f7charover.gif)

<span data-ttu-id="78fae-236">Наложение рта должно попадать в структуру основного кадра, по которому они будут отображаться.</span><span class="sxs-lookup"><span data-stu-id="78fae-236">Your mouth overlays must fit within the outline of the base frame over which they will appear.</span></span> <span data-ttu-id="78fae-237">В противном случае они будут обрезаны до базового фрейма.</span><span class="sxs-lookup"><span data-stu-id="78fae-237">If they do not, they will be clipped to the base frame.</span></span>

<span data-ttu-id="78fae-238">Если вы хотите, чтобы символ проходил от своего рта за пределами базового фрейма, например, когда символ должен проговаривать продвигаться, сначала создайте базовый фрейм с заголовком символа (или областью, которая будет перемещена как символ говорит) в качестве его верхнего изображения.</span><span class="sxs-lookup"><span data-stu-id="78fae-238">If you want to have the character speak with its mouth outside of the base frame--for instance, when the character is to speak facing sideways--first create the base frame with the character's head (or the area that will move as the character speaks) as its top image.</span></span> <span data-ttu-id="78fae-239">Затем определите наложение рта, чтобы заменить этот образ и задать параметр **заменить базовый кадр сверху Image** .</span><span class="sxs-lookup"><span data-stu-id="78fae-239">Then, define your mouth overlays to replace that image and set the **Replace Base Frame Top Image** option.</span></span> <span data-ttu-id="78fae-240">Можно также нажать кнопку **задать все** , чтобы установить этот параметр для всех наложения рта в кадре.</span><span class="sxs-lookup"><span data-stu-id="78fae-240">You can also use the **Set All** button to set this option for all your mouth overlays in the frame.</span></span>

### <a name="assigning-a-return-animation"></a><span data-ttu-id="78fae-241">Назначение анимации возврата</span><span class="sxs-lookup"><span data-stu-id="78fae-241">Assigning a Return Animation</span></span>

<span data-ttu-id="78fae-242">Чтобы создать плавный переход от одной анимации к другой, разработайте последовательности анимации, чтобы начинаться и заканчиваться нейтральным изображением.</span><span class="sxs-lookup"><span data-stu-id="78fae-242">To create a smooth transition from one animation to the next, design your animation sequences to begin and end with a neutral image.</span></span> <span data-ttu-id="78fae-243">Дополнительные сведения см. в разделе [**Разработка символов для Microsoft Agent**](designing-characters-for-microsoft-agent.md).</span><span class="sxs-lookup"><span data-stu-id="78fae-243">For more information, see [**Designing Characters for Microsoft Agent**](designing-characters-for-microsoft-agent.md).</span></span> <span data-ttu-id="78fae-244">Однако это не означает, что каждая анимация должна заканчиваться на нейтральной позиции.</span><span class="sxs-lookup"><span data-stu-id="78fae-244">However, this does not mean that every animation must end at the neutral position.</span></span> <span data-ttu-id="78fae-245">Можно анимировать символ с помощью последовательности кадров, проговаривать его во время последнего кадра и создать отдельную дополнительную, дополняющую анимацию, которая возвращает символ в нейтральную точку.</span><span class="sxs-lookup"><span data-stu-id="78fae-245">You can animate a character through a sequence of frames, have it speak during the last frame, and create a separate, complementary animation that returns the character to the neutral position.</span></span> <span data-ttu-id="78fae-246">Эта дополняющая анимация называется анимацией возврата.</span><span class="sxs-lookup"><span data-stu-id="78fae-246">This complementary animation is called a Return animation.</span></span>

<span data-ttu-id="78fae-247">Вы можете определить обратную анимацию, создав явную анимацию для этой цели.</span><span class="sxs-lookup"><span data-stu-id="78fae-247">You can define a Return animation by creating an explicit animation for this purpose.</span></span> <span data-ttu-id="78fae-248">Можно также создать обратную анимацию с помощью ветвления выхода, определенной в анимации.</span><span class="sxs-lookup"><span data-stu-id="78fae-248">You can also create a Return animation using the exit branching you define within the animation.</span></span> <span data-ttu-id="78fae-249">Чтобы назначить анимацию возврата, выберите анимацию в дереве и выберите созданную анимацию возврата или используйте команду выйти из ветви из раскрывающегося списка обратная анимация на странице Свойства.</span><span class="sxs-lookup"><span data-stu-id="78fae-249">To assign a Return animation, select the animation in the tree, and select either the Return animation you created or Use Exit Branching from the Return Animation drop-down list on the Properties page.</span></span>

<span data-ttu-id="78fae-250">Создание и назначение анимации возврата имеет дополнительное преимущество: когда сервер получает запрос на воспроизведение другой анимации, он пытается воспроизвести анимацию возврата для последней воспроизводимой анимации, если назначена обратная анимация.</span><span class="sxs-lookup"><span data-stu-id="78fae-250">Creating and assigning a Return animation has an added benefit: When the server gets a request to play another animation, it will attempt to play the Return animation for the last animation it played, if a Return animation is assigned.</span></span> <span data-ttu-id="78fae-251">Это обеспечивает плавный переход.</span><span class="sxs-lookup"><span data-stu-id="78fae-251">This ensures a smooth transition.</span></span> <span data-ttu-id="78fae-252">Если анимация начинается и заканчивается в нейтральной позиции, нет необходимости определять обратную анимацию.</span><span class="sxs-lookup"><span data-stu-id="78fae-252">If an animation begins and ends at the neutral position, you don't need to define a Return animation.</span></span> <span data-ttu-id="78fae-253">Аналогично, если вы планируете выполнять переходы от одной анимации к другой, вам может не понадобиться назначать анимацию возврата.</span><span class="sxs-lookup"><span data-stu-id="78fae-253">Similarly, if you intend to handle transitions from one animation to another yourself, you may not need to assign a Return animation.</span></span>

### <a name="assigning-animations-to-states"></a><span data-ttu-id="78fae-254">Назначение анимаций состояниям</span><span class="sxs-lookup"><span data-stu-id="78fae-254">Assigning Animations to States</span></span>

<span data-ttu-id="78fae-255">Службы анимации Microsoft Agent автоматически воспроизводят анимацию, когда в клиентском приложении размещения используются определенные методы.</span><span class="sxs-lookup"><span data-stu-id="78fae-255">The Microsoft Agent animation services automatically play animations when the hosting client application uses certain methods.</span></span> <span data-ttu-id="78fae-256">Например, когда приложение вызывает методы [**MoveTo**](moveto-method.md) и [**жестуреат**](gestureat-method.md) , сервер автоматически определяет место отображения символа и воспроизводит соответствующую анимацию.</span><span class="sxs-lookup"><span data-stu-id="78fae-256">For example, when an application calls the [**MoveTo**](moveto-method.md) and [**GestureAt**](gestureat-method.md) methods, the server automatically determines where the character is displayed and plays an appropriate animation.</span></span> <span data-ttu-id="78fae-257">Аналогичным образом, Microsoft Agent автоматически воспроизводит мгновенное воспроизведение, когда пользователь не взаимодействовал с символом в течение нескольких секунд.</span><span class="sxs-lookup"><span data-stu-id="78fae-257">Similarly, Microsoft Agent automatically plays Idle animations when the user has not interacted with the character for several seconds.</span></span> <span data-ttu-id="78fae-258">Эти условия, когда сервер автоматически воспроизводит анимацию от имени приложения, называются *состояниями*.</span><span class="sxs-lookup"><span data-stu-id="78fae-258">These conditions, when the server automatically plays animations on an application's behalf, are called *states*.</span></span> <span data-ttu-id="78fae-259">Однако для того, чтобы сервер знал, какую анимацию следует воспроизвести, необходимо присвоить этим состояниям анимацию.</span><span class="sxs-lookup"><span data-stu-id="78fae-259">However, for the server to know which animation to play, you must assign animations to these states.</span></span>

<span data-ttu-id="78fae-260">Чтобы назначить анимацию или анимацию для состояния, создайте соответствующую анимацию, разверните запись состояния в представлении в виде дерева окна редактора и выберите значок состояния.</span><span class="sxs-lookup"><span data-stu-id="78fae-260">To assign an animation or animations to a state, create the appropriate animation, expand the States entry in the tree view of the Editor window, and select the State icon.</span></span> <span data-ttu-id="78fae-261">Список созданных анимаций появится в поле со списком в правой части окна.</span><span class="sxs-lookup"><span data-stu-id="78fae-261">The list of animations you have created appear in a list box on the right side of the window.</span></span> <span data-ttu-id="78fae-262">Проверьте анимацию, которую нужно назначить этому состоянию.</span><span class="sxs-lookup"><span data-stu-id="78fae-262">Check the animation you want to assign to this state.</span></span> <span data-ttu-id="78fae-263">Обратите внимание, что для одного и того же состояния можно назначить несколько анимаций.</span><span class="sxs-lookup"><span data-stu-id="78fae-263">Note that you can assign more than one animation to the same state.</span></span> <span data-ttu-id="78fae-264">Это позволяет серверу случайным образом выбирать различные анимации для состояния.</span><span class="sxs-lookup"><span data-stu-id="78fae-264">This allows the server to randomly select different animations for the state.</span></span> <span data-ttu-id="78fae-265">Назначение анимации состояния не мешает анимации воспроизвести эту анимацию напрямую.</span><span class="sxs-lookup"><span data-stu-id="78fae-265">Assigning an animation to a state does not prevent an animation from playing that animation directly.</span></span>

<span data-ttu-id="78fae-266">Можно также назначить анимацию для состояния, выбрав запись анимации в дереве.</span><span class="sxs-lookup"><span data-stu-id="78fae-266">You can also assign an animation to a state by selecting the animation's entry in the tree.</span></span> <span data-ttu-id="78fae-267">В поле список **назначить состояние** на странице **свойства** перечислены состояния.</span><span class="sxs-lookup"><span data-stu-id="78fae-267">The **Assign To State** list box on the **Properties** page lists the states.</span></span> <span data-ttu-id="78fae-268">Установите флажок состояния, которому назначается анимация.</span><span class="sxs-lookup"><span data-stu-id="78fae-268">Select the check box of the state to which you're assigning the animation.</span></span>

<span data-ttu-id="78fae-269">Редактор не поддерживает создание дополнительных состояний, так как состояния применимы только к ситуациям, когда сервер должен автоматически воспроизвести анимацию от имени клиентского приложения.</span><span class="sxs-lookup"><span data-stu-id="78fae-269">The Editor does not support creating additional states because states only apply to situations where the server must play an animation automatically on behalf of the client application.</span></span> <span data-ttu-id="78fae-270">Таким же преимуществом не является определение собственного состояния.</span><span class="sxs-lookup"><span data-stu-id="78fae-270">Thus, there is no benefit in defining your own state.</span></span> <span data-ttu-id="78fae-271">При необходимости можно воспроизвести любую анимацию явным образом с помощью метода [**Play**](play-method.md) .</span><span class="sxs-lookup"><span data-stu-id="78fae-271">If need be, you can play any animation explicitly using the [**Play**](play-method.md) method.</span></span>

### <a name="saving-your-character-definition"></a><span data-ttu-id="78fae-272">Сохранение определения символа</span><span class="sxs-lookup"><span data-stu-id="78fae-272">Saving Your Character Definition</span></span>

<span data-ttu-id="78fae-273">Файл определения символа можно сохранить, выбрав команду **сохранить** в меню **файл** или нажав кнопку **сохранить определение символа** на панели инструментов.</span><span class="sxs-lookup"><span data-stu-id="78fae-273">You can save your character's definition file by choosing the **Save** command on the **File** menu or the **Save Character Definition** button on the toolbar.</span></span> <span data-ttu-id="78fae-274">Если необходимо сохранить файл определения символа с новым именем, выберите команду **Сохранить как** в меню **файл** .</span><span class="sxs-lookup"><span data-stu-id="78fae-274">If you want to save the character definition file with a new name, choose the **Save As** command on the **File** menu.</span></span> <span data-ttu-id="78fae-275">Редактор сохраняет редактируемое определение символа как определение символа агента (. Файл ACD).</span><span class="sxs-lookup"><span data-stu-id="78fae-275">The Editor saves a character's editable definition as an Agent Character Definition (.ACD) file.</span></span> <span data-ttu-id="78fae-276">Кроме того, этот формат текстового файла можно изменить с помощью большинства текстовых редакторов и приложений для обработки текстов.</span><span class="sxs-lookup"><span data-stu-id="78fae-276">You can also edit this self-documenting text file format with most text editors and word processing applications.</span></span>

### <a name="printing-your-character-definition"></a><span data-ttu-id="78fae-277">Печать определения символа</span><span class="sxs-lookup"><span data-stu-id="78fae-277">Printing Your Character Definition</span></span>

<span data-ttu-id="78fae-278">Чтобы напечатать определение символа, выберите команду **Печать** в меню **файл** или нажмите кнопку **Печать** на панели инструментов.</span><span class="sxs-lookup"><span data-stu-id="78fae-278">To print your character's definition, choose the **Print** command on the **File** menu or the **Print** button on the toolbar.</span></span> <span data-ttu-id="78fae-279">Чтобы задать свойства для напечатанного вывода, выберите команду Параметры **страницы** и перед выбором команды **Печать** выберите нужные параметры.</span><span class="sxs-lookup"><span data-stu-id="78fae-279">To set the properties for your printed output, choose the **Page Setup** command and choose your settings before selecting the **Print** command.</span></span>

### <a name="building-a-character"></a><span data-ttu-id="78fae-280">Создание символа</span><span class="sxs-lookup"><span data-stu-id="78fae-280">Building a Character</span></span>

<span data-ttu-id="78fae-281">По завершении создания анимации символы и изображения должны быть скомпилированы в специальный формат, используемый Microsoft Agent для загрузки этих данных.</span><span class="sxs-lookup"><span data-stu-id="78fae-281">When you are done creating your animations, the character and images must be compiled into a special format that Microsoft Agent uses to load this data.</span></span> <span data-ttu-id="78fae-282">Чтобы создать символ, выберите команду построить символ в меню **файл** или на панели инструментов.</span><span class="sxs-lookup"><span data-stu-id="78fae-282">To build a character, select the Build Character command on the **File** menu or from the toolbar.</span></span> <span data-ttu-id="78fae-283">При наличии несохраненных изменений в файле определения символов редактор сохраняет файл определения перед отображением диалогового окна " **символ сборки** ".</span><span class="sxs-lookup"><span data-stu-id="78fae-283">If you have unsaved edits in your character definition file, the Editor saves the definition file before displaying the **Build Character** dialog box.</span></span>

![Снимок экрана, показывающий окно "сборка символа" с выбранным файлом.](images/f8charbldg.gif)

<span data-ttu-id="78fae-285">Редактор символов агента будет автоматически предлагать имя файла на основе имени файла определения символа.</span><span class="sxs-lookup"><span data-stu-id="78fae-285">The Agent Character Editor will automatically propose a filename based on your character definition filename.</span></span> <span data-ttu-id="78fae-286">Диалоговое окно "символ сборки" также содержит раскрывающийся список, позволяющий выбирать между созданием символа в виде одного файла хранилища (. ACS) или как несколько файлов.</span><span class="sxs-lookup"><span data-stu-id="78fae-286">The Build Character dialog box also includes a drop-down list so you can choose between building the character as a single storage file (.ACS) or as multiple files.</span></span> <span data-ttu-id="78fae-287">При выборе второго варианта редактор создает. ACF файл, содержащий символьные данные и. Файл ака для каждой созданной анимации.</span><span class="sxs-lookup"><span data-stu-id="78fae-287">If you choose the latter, the Editor builds an .ACF file that includes character's data and an .ACA file for each animation you created.</span></span> <span data-ttu-id="78fae-288">Если вы планируете установить и получить доступ к символу, хранящемуся на том же компьютере, что и клиентское приложение, обычно выбирается один структурированный формат файла.</span><span class="sxs-lookup"><span data-stu-id="78fae-288">If you plan to install and access a character stored on the same computer as your client application, you would typically choose the single structured file format.</span></span> <span data-ttu-id="78fae-289">Этот формат обеспечивает простую и эффективную установку и доступ к символу.</span><span class="sxs-lookup"><span data-stu-id="78fae-289">This format provides easy and efficient installation and access to the character.</span></span> <span data-ttu-id="78fae-290">Однако если доступ к символу будет осуществляться с веб-сервера по протоколу HTTP, создайте свой символ с помощью. ACF (индивидуальный) формат файла.</span><span class="sxs-lookup"><span data-stu-id="78fae-290">However, if the character will be accessed from a web server using the HTTP protocol, build your character using the .ACF (individual) file format.</span></span> <span data-ttu-id="78fae-291">Эта последняя структура файлов позволяет скрипту веб-страницы загружать отдельные файлы анимации, сохраняя их в кэше файлов браузера пользователя.</span><span class="sxs-lookup"><span data-stu-id="78fae-291">This latter file structure allows a webpage script to load individual animation files, storing the data in the user's browser file cache.</span></span> <span data-ttu-id="78fae-292">Он обеспечивает более эффективный доступ через Интернет, так как данные анимации можно загружать по мере необходимости, не требуя от пользователя ожидания загрузки всего набора анимаций одновременно.</span><span class="sxs-lookup"><span data-stu-id="78fae-292">It provides more efficient access over the Web because animation data can be downloaded as needed rather than requiring the user to wait for the entire set of animations to download at one time.</span></span> <span data-ttu-id="78fae-293">Кроме того, поскольку данные символов хранятся в кэше браузера, место в файле может быть восстановлено автоматически.</span><span class="sxs-lookup"><span data-stu-id="78fae-293">In addition, because the character's data is stored in the browser cache, the file space can be automatically reclaimed.</span></span>

<span data-ttu-id="78fae-294">Хотя можно также загружать символьные данные (как один структурированный файл или несколько файлов) с веб-сервера и устанавливать их на компьютере пользователя, такой метод требует обеспечения безопасности для загрузки и установки.</span><span class="sxs-lookup"><span data-stu-id="78fae-294">Although you can also download character data (either as a single structured file or multiple files) from a web server and install elsewhere on a user's machine, such a method requires security provisions for downloading and installation.</span></span> <span data-ttu-id="78fae-295">В результате API Microsoft Agent не включает поддержку скачиваемой установки символа, за исключением кэша браузера.</span><span class="sxs-lookup"><span data-stu-id="78fae-295">As a result, the Microsoft Agent API does not include support for downloadable installation of a character except to the browser's cache.</span></span> <span data-ttu-id="78fae-296">Тем не менее можно по-прежнему поддерживать этот сценарий, создавая собственный элемент управления установкой и распространяющий его после соответствующих соглашений безопасности.</span><span class="sxs-lookup"><span data-stu-id="78fae-296">However, you can still support this scenario by creating your own installation control and distribute it following appropriate security conventions.</span></span> <span data-ttu-id="78fae-297">Дополнительные сведения см. в пакете Microsoft Internet Client Development Kit.</span><span class="sxs-lookup"><span data-stu-id="78fae-297">For more information, see the Microsoft Internet Client Software Development Kit.</span></span>

<span data-ttu-id="78fae-298">Параметр сжатия позволяет установить, следует ли сжимать символьные данные.</span><span class="sxs-lookup"><span data-stu-id="78fae-298">The Compress option enables you to set whether the character data is compressed.</span></span> <span data-ttu-id="78fae-299">Как правило, необходимо установить этот параметр для сжатия символьных данных, хотя создание символа с сжатыми данными занимает больше времени.</span><span class="sxs-lookup"><span data-stu-id="78fae-299">Typically, you will want to set this option to compact your character data, although building a character with the compacted data takes longer.</span></span>

<span data-ttu-id="78fae-300">После создания символа последующие сборки будут выполняться быстрее при создании символа в том же расположении каталога.</span><span class="sxs-lookup"><span data-stu-id="78fae-300">Once you build a character, subsequent builds will be faster if you build the character to the same directory location.</span></span> <span data-ttu-id="78fae-301">Редактор символов автоматически проверяет и копирует эти файлы, которые не были изменены, и перекомпилирует все измененные данные.</span><span class="sxs-lookup"><span data-stu-id="78fae-301">The Character Editor automatically verifies and copies those files that have not changed, and recompiles any data that has been edited.</span></span>

<span data-ttu-id="78fae-302">Если редактор обнаруживает ошибки в символьном файле при сборке символа, он записывает данные в файл журнала и отображает окно сообщения.</span><span class="sxs-lookup"><span data-stu-id="78fae-302">If the Editor detects any errors in the character file while building the character, it writes the information out to a log file and displays a message box.</span></span> <span data-ttu-id="78fae-303">Вы можете просмотреть файл журнала или проигнорировать его и прочитать его позже с помощью текстового редактора.</span><span class="sxs-lookup"><span data-stu-id="78fae-303">You can choose to view the log file or ignore it and read it later with a text editor.</span></span> <span data-ttu-id="78fae-304">Однако обратите внимание, что редактор будет перезаписывать файл журнала при следующей сборке символьного файла.</span><span class="sxs-lookup"><span data-stu-id="78fae-304">However, note that the Editor will overwrite the log file the next time you build a character file.</span></span>

### <a name="editing-an-existing-character"></a><span data-ttu-id="78fae-305">Изменение существующего символа</span><span class="sxs-lookup"><span data-stu-id="78fae-305">Editing an Existing Character</span></span>

<span data-ttu-id="78fae-306">Чтобы изменить существующий символ, выберите **Открыть** в меню **файл** и выберите файл определения символа (. ACD) в открывшемся диалоговом окне и выберите Открыть.</span><span class="sxs-lookup"><span data-stu-id="78fae-306">To edit an existing character, choose **Open** on the **File** menu, select the character's definition file (.ACD) in the resulting dialog box, and choose Open.</span></span> <span data-ttu-id="78fae-307">Файл будет загружен в редактор.</span><span class="sxs-lookup"><span data-stu-id="78fae-307">The file will load into the Editor.</span></span> <span data-ttu-id="78fae-308">Обратите внимание, что невозможно загрузить скомпилированные символьные файлы (. ACS,. ACF или. АКА) с редактором.</span><span class="sxs-lookup"><span data-stu-id="78fae-308">Note that you cannot load compiled character files (.ACS, .ACF, or .ACA) with the Editor.</span></span>

<span data-ttu-id="78fae-309">Так как файл определения символа (. ACD) — это текстовый файл. определение символа можно также изменить, открыв файл в текстовом редакторе или программе обработки текста.</span><span class="sxs-lookup"><span data-stu-id="78fae-309">Because the character's definition file (.ACD) is a text file, you can also edit a character's definition by opening the file with a text editor or word processing program.</span></span> <span data-ttu-id="78fae-310">Однако при завершении изменений необходимо сохранить файл в исходном формате перед его загрузкой в редактор символов для компиляции.</span><span class="sxs-lookup"><span data-stu-id="78fae-310">However, when completing your changes, make sure to save the file in its original format before loading it into the character editor for compilation.</span></span>

 

 




