---
description: операционная система Windows 7 предоставляет встроенную поддержку устройств датчиков.
ms.assetid: 751ba2fc-fbff-4418-82ac-eebc8a145b14
title: обзор платформы датчиков и расположения Windows
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: cc4847d6d6137b91ce577cfce0dbc54cc8c6e19430e1318eaff145c24ce493af
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "118889737"
---
# <a name="overview-of-the-windows-sensor-and-location-platform"></a>обзор платформы датчиков и расположения Windows

операционная система Windows 7 предоставляет встроенную поддержку устройств датчиков. Сюда входит поддержка датчиков расположения, например устройств GPS. в рамках этой поддержки платформа датчиков и расположений Windows предоставляет стандартный способ предоставления производителям устройств датчиков для разработчиков и потребителей программного обеспечения. В то же время платформа предоставляет разработчикам стандартизированный API и интерфейс драйвера устройства (DDI) для работы с датчиками и данными датчиков.

## <a name="about-sensor-devices"></a>Сведения о сенсорных устройствах

Датчики имеют много конфигураций, и с определенной точки зрения почти все, что предоставляет данные о физических явленийах, может называться датчиком. Несмотря на то, что обычно используются датчики как аппаратные устройства, логические датчики также могут предоставлять информацию посредством эмуляции функций датчика в программном обеспечении или микропрограмме. Кроме того, одно аппаратное устройство может содержать несколько датчиков.

платформа датчиков и расположения Windows упорядочивает датчики по *категориям*, которые представляют широкие классы устройств датчиков, и *типы*, представляющие определенные виды датчиков. Например, датчик в видеоигровом видеоконтроллере, который определяет положение и движение руки игрока (например, для игры видео боулинг), будет классифицироваться как датчик ориентации, но его тип будет 3-D акселерометр. в коде Windows представляет категории и типы с помощью глобально уникальных идентификаторов (guid), многие из которых являются предопределенными. Производители устройств могут создавать новые категории и типы, определяя и публикуя новые идентификаторы GUID, когда это необходимо.

Расположение устройств состоит из одной особенно интересной категории. На данный момент большинство пользователей знакомы с глобальными системами позиционирования (GPS). в Windows датчик GPS является частью категории "расположение". Категория расположения может включать другие типы датчиков. Некоторые из этих типов датчиков основаны на программном обеспечении, например сопоставитель IP-адресов, который предоставляет сведения о расположении на основе адреса в Интернете, средства триангуляции для мобильного телефона, определяющего расположение на основе ближайших Towers, или поставщика сетевых расположений Wi-Fi, считывающего сведения о расположении из подключенного концентратора беспроводной сети.

## <a name="about-the-platform"></a>Сведения о платформе

платформа датчиков и расположения Windows состоит из следующих компонентов разработчика и пользователя:

-   DDI позволяет Windows обеспечить стандартный способ подключения устройств датчиков к компьютеру и предоставления данных другим подсистемам.
-   API датчика Windows предоставляет набор методов, свойств и событий для работы с подключенными датчиками и данными датчиков.
-   api расположения Windows, который основан на api датчика Windows, предоставляет набор программных объектов, включая объекты сценариев, для работы со сведениями о расположении.
-   Панель управления "расположение и другие датчики" позволяет администраторам компьютеров устанавливать датчики, включая датчики расположения, для каждого пользователя.

В следующих разделах описываются все эти компоненты.

## <a name="architecture-diagram"></a>Схема архитектуры

На следующей схеме показана связь между компонентами.

![схема платформы датчика и расположения](images/platformarchitecture.png)

## <a name="device-driver-interface"></a>Интерфейс драйвера устройства

производители датчиков могут создавать драйверы устройств для подключения датчиков к Windows 7. драйверы устройств датчиков реализуются с помощью модели драйверов Windows для портативных устройств (WPD), основанной на инфраструктуре Windows пользовательского режима (UMDF). Многие драйверы устройств были написаны с помощью этих платформ. Так как эти технологии установлены, опытные программисты по драйверам устройств найдут драйвер датчика как привычную задачу. DDI датчика использует определенные типы данных и интерфейсы UMDF и WPD, а также определяет конкретные команды и параметры WPD, где это необходимо. дополнительные сведения о создании драйверов датчиков устройств см. в разделе Windows Driver Kit.

## <a name="sensor-api"></a>API датчика

API датчика позволяет разработчикам C++ создавать программы на основе датчиков с помощью набора COM-интерфейсов. API определяет интерфейсы для выполнения стандартных задач программирования датчика, включающих управление датчиками по категориям, типам или ИДЕНТИФИКАТОРам, управление событиями датчика, работу с отдельными датчиками и коллекциями датчиков, а также работу с данными датчика. Windows SDK включает файлы заголовков, документацию, примеры и средства, помогающие разработчикам программного обеспечения использовать датчики в Windowsных программах. В этой документации описывается API датчика.

## <a name="location-api"></a>API расположения

API расположения, основанный на API датчика, предоставляет простой способ получения данных о географическом расположении и защите конфиденциальности пользователей. API расположения предоставляет свои функциональные возможности через набор COM-интерфейсов, представляющих объекты. Эти объекты могут использоваться программистами, которые понимают, как использовать COM через язык программирования C++ или в языках сценариев, таких как JScript. Поддержка сценариев обеспечивает простой доступ к данным о расположении для проектов, которые выполняются в зоне локального компьютера, например мини-приложения. Windows SDK включает файлы заголовков, документацию (включая справочную документацию по сценариям), образцы и средства, помогающие разработчикам веб-приложений и программных продуктов использовать сведения о расположении в своих программах.

## <a name="location-and-other-sensors-control-panel"></a>Панель управления "расположение и другие датчики"

Windows 7 содержит панель управления, которая позволяет администраторам компьютеров включать или отключать датчики для всей системы или для каждого пользователя. Поскольку некоторые датчики могут предоставлять конфиденциальные данные, этот пользовательский интерфейс предоставляет администраторам контроль над тем, имеют ли все программы доступ к каждому датчику для каждого пользователя. Пользователи также могут просматривать свойства датчика и изменять описание датчика, отображаемое в пользовательском интерфейсе.

Панель управления также предоставляет страницу расположения по умолчанию, с помощью которой пользователи могут указать свое расположение. Если датчик недоступен, платформа будет использовать указанное пользователем расположение. Пользователи могут предоставлять поля с административным адресом, включая улица, город, штат, район, страну или регион.

## <a name="related-topics"></a>Связанные темы

[Сведения об API датчика](about-the-sensor-api.md)

[Windows Веб-сайт центра разработчиков оборудования](https://www.microsoft.com/whdc/device/sensors/default.mspx)

[Центр разработчиков для Windows](https://msdn.microsoft.com/windows/default.aspx?wt.svl=client)
