---
description: Операционная система Windows 7 предоставляет встроенную поддержку устройств датчиков.
ms.assetid: 751ba2fc-fbff-4418-82ac-eebc8a145b14
title: Обзор платформы датчиков и расположения Windows
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: b01b6d3132ad6e1bc299895bc39668edbe19b91c
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "103991011"
---
# <a name="overview-of-the-windows-sensor-and-location-platform"></a><span data-ttu-id="ca22d-103">Обзор платформы датчиков и расположения Windows</span><span class="sxs-lookup"><span data-stu-id="ca22d-103">Overview of the Windows sensor and location platform</span></span>

<span data-ttu-id="ca22d-104">Операционная система Windows 7 предоставляет встроенную поддержку устройств датчиков.</span><span class="sxs-lookup"><span data-stu-id="ca22d-104">The Windows 7 operating system provides built-in support for sensor devices.</span></span> <span data-ttu-id="ca22d-105">Сюда входит поддержка датчиков расположения, например устройств GPS.</span><span class="sxs-lookup"><span data-stu-id="ca22d-105">This includes support for location sensors, such as GPS devices.</span></span> <span data-ttu-id="ca22d-106">В рамках этой поддержки платформа датчиков и расположений Windows обеспечивает стандартный способ предоставления производителям устройств датчиков для разработчиков и потребителей программного обеспечения.</span><span class="sxs-lookup"><span data-stu-id="ca22d-106">As part of this support, the Windows Sensor and Location platform provides a standard way for device manufacturers to expose sensor devices to software developers and consumers.</span></span> <span data-ttu-id="ca22d-107">В то же время платформа предоставляет разработчикам стандартизированный API и интерфейс драйвера устройства (DDI) для работы с датчиками и данными датчиков.</span><span class="sxs-lookup"><span data-stu-id="ca22d-107">At the same time, the platform gives developers a standardized API and device driver interface (DDI) to work with sensors and sensor data.</span></span>

## <a name="about-sensor-devices"></a><span data-ttu-id="ca22d-108">Сведения о сенсорных устройствах</span><span class="sxs-lookup"><span data-stu-id="ca22d-108">About Sensor Devices</span></span>

<span data-ttu-id="ca22d-109">Датчики имеют много конфигураций, и с определенной точки зрения почти все, что предоставляет данные о физических явленийах, может называться датчиком.</span><span class="sxs-lookup"><span data-stu-id="ca22d-109">Sensors come in many configurations and, from a certain perspective, almost anything that provides data about physical phenomena can be called a sensor.</span></span> <span data-ttu-id="ca22d-110">Несмотря на то, что обычно используются датчики как аппаратные устройства, логические датчики также могут предоставлять информацию посредством эмуляции функций датчика в программном обеспечении или микропрограмме.</span><span class="sxs-lookup"><span data-stu-id="ca22d-110">Although we typically think of sensors as hardware devices, logical sensors can also provide information through emulation of sensor functionality in software or firmware.</span></span> <span data-ttu-id="ca22d-111">Кроме того, одно аппаратное устройство может содержать несколько датчиков.</span><span class="sxs-lookup"><span data-stu-id="ca22d-111">Also, a single hardware device can contain multiple sensors.</span></span>

<span data-ttu-id="ca22d-112">Платформа датчиков и расположения Windows упорядочивает датчики по *категориям*, которые представляют широкие классы устройств датчиков, и *типы*, представляющие определенные виды датчиков.</span><span class="sxs-lookup"><span data-stu-id="ca22d-112">The Windows Sensor and Location platform organizes sensors into *categories*, which represent broad classes of sensor devices, and *types*, which represent specific kinds of sensors.</span></span> <span data-ttu-id="ca22d-113">Например, датчик в видеоигровом видеоконтроллере, который определяет положение и движение руки игрока (например, для игры видео боулинг), будет классифицироваться как датчик ориентации, но его тип будет 3-D акселерометр.</span><span class="sxs-lookup"><span data-stu-id="ca22d-113">For example, a sensor in a video game controller that detects the position and movement of a player's hand (perhaps for a video bowling game) would be categorized as an Orientation sensor, but its type would be 3-D Accelerometer.</span></span> <span data-ttu-id="ca22d-114">В коде Windows представляет категории и типы с помощью глобально уникальных идентификаторов (GUID), многие из которых являются предопределенными.</span><span class="sxs-lookup"><span data-stu-id="ca22d-114">In code, Windows represents categories and types by using globally unique identifiers (GUIDs), many of which are predefined.</span></span> <span data-ttu-id="ca22d-115">Производители устройств могут создавать новые категории и типы, определяя и публикуя новые идентификаторы GUID, когда это необходимо.</span><span class="sxs-lookup"><span data-stu-id="ca22d-115">Device manufacturers can create new categories and types by defining and publishing new GUIDs, when it is required.</span></span>

<span data-ttu-id="ca22d-116">Расположение устройств состоит из одной особенно интересной категории.</span><span class="sxs-lookup"><span data-stu-id="ca22d-116">Location devices make up one especially interesting category.</span></span> <span data-ttu-id="ca22d-117">На данный момент большинство пользователей знакомы с глобальными системами позиционирования (GPS).</span><span class="sxs-lookup"><span data-stu-id="ca22d-117">By now, most people are familiar with global positioning systems (GPS).</span></span> <span data-ttu-id="ca22d-118">В Windows датчик GPS является частью категории "расположение".</span><span class="sxs-lookup"><span data-stu-id="ca22d-118">In Windows, a GPS sensor is part of the Location category.</span></span> <span data-ttu-id="ca22d-119">Категория расположения может включать другие типы датчиков.</span><span class="sxs-lookup"><span data-stu-id="ca22d-119">The Location category could include other sensor types.</span></span> <span data-ttu-id="ca22d-120">Некоторые из этих типов датчиков основаны на программном обеспечении, например сопоставитель IP-адресов, который предоставляет сведения о расположении на основе адреса в Интернете, средства триангуляции для мобильного телефона, определяющего расположение на основе ближайших Towers, или поставщика сетевых расположений Wi-Fi, считывающего сведения о расположении из подключенного концентратора беспроводной сети.</span><span class="sxs-lookup"><span data-stu-id="ca22d-120">Some of these sensor types are software based, such as an IP resolver that provides location information based on an Internet address, a mobile phone tower triangulator that determines location based on nearby towers, or a Wi-Fi network location provider that reads location information from the connected wireless network hub.</span></span>

## <a name="about-the-platform"></a><span data-ttu-id="ca22d-121">Сведения о платформе</span><span class="sxs-lookup"><span data-stu-id="ca22d-121">About the Platform</span></span>

<span data-ttu-id="ca22d-122">Платформа датчиков и расположения Windows состоит из следующих компонентов разработчика и пользователя:</span><span class="sxs-lookup"><span data-stu-id="ca22d-122">The Windows Sensor and Location platform consists of the following developer and user components:</span></span>

-   <span data-ttu-id="ca22d-123">DDI позволяет Windows предоставлять стандартный способ подключения устройств датчиков к компьютеру и предоставления данных другим подсистемам.</span><span class="sxs-lookup"><span data-stu-id="ca22d-123">The DDI enables Windows to provide a standard way for sensor devices to connect to the computer and to provide data to other subsystems.</span></span>
-   <span data-ttu-id="ca22d-124">API датчика Windows предоставляет набор методов, свойств и событий для работы с подключенными датчиками и данными датчиков.</span><span class="sxs-lookup"><span data-stu-id="ca22d-124">The Windows Sensor API provides a set of methods, properties, and events to work with connected sensors and sensor data.</span></span>
-   <span data-ttu-id="ca22d-125">API расположения Windows, созданный на основе API датчика Windows, предоставляет набор программных объектов, включая объекты сценариев, для работы со сведениями о расположении.</span><span class="sxs-lookup"><span data-stu-id="ca22d-125">The Windows Location API, which is built on the Windows Sensor API, provides a set of programming objects, including scripting objects, for working with location information.</span></span>
-   <span data-ttu-id="ca22d-126">Панель управления "расположение и другие датчики" позволяет администраторам компьютеров устанавливать датчики, включая датчики расположения, для каждого пользователя.</span><span class="sxs-lookup"><span data-stu-id="ca22d-126">The Location and Other Sensors Control Panel enables computer administrators to set sensors, including location sensors, for each user.</span></span>

<span data-ttu-id="ca22d-127">В следующих разделах описываются все эти компоненты.</span><span class="sxs-lookup"><span data-stu-id="ca22d-127">The following sections describe each of these components.</span></span>

## <a name="architecture-diagram"></a><span data-ttu-id="ca22d-128">Схема архитектуры</span><span class="sxs-lookup"><span data-stu-id="ca22d-128">Architecture Diagram</span></span>

<span data-ttu-id="ca22d-129">На следующей схеме показана связь между компонентами.</span><span class="sxs-lookup"><span data-stu-id="ca22d-129">The following diagram shows the relationship between the components.</span></span>

![схема платформы датчика и расположения](images/platformarchitecture.png)

## <a name="device-driver-interface"></a><span data-ttu-id="ca22d-131">Интерфейс драйвера устройства</span><span class="sxs-lookup"><span data-stu-id="ca22d-131">Device Driver Interface</span></span>

<span data-ttu-id="ca22d-132">Производители датчиков могут создавать драйверы устройств для подключения датчиков к Windows 7.</span><span class="sxs-lookup"><span data-stu-id="ca22d-132">Sensor manufacturers can create device drivers to connect sensors with Windows 7.</span></span> <span data-ttu-id="ca22d-133">Драйверы устройств датчиков реализуются с помощью модели драйверов для портативных устройств Windows (WPD), основанной на платформе драйверов Windows User Mode (UMDF). Многие драйверы устройств были написаны с помощью этих платформ.</span><span class="sxs-lookup"><span data-stu-id="ca22d-133">Sensor device drivers are implemented by using the Windows Portable Devices (WPD) driver model, which is based on the Windows User Mode Driver Framework (UMDF).Many device drivers have been written by using these frameworks.</span></span> <span data-ttu-id="ca22d-134">Так как эти технологии установлены, опытные программисты по драйверам устройств найдут драйвер датчика как привычную задачу.</span><span class="sxs-lookup"><span data-stu-id="ca22d-134">Because these technologies are established, experienced device driver programmers will find writing a sensor driver to be a familiar task.</span></span> <span data-ttu-id="ca22d-135">DDI датчика использует определенные типы данных и интерфейсы UMDF и WPD, а также определяет конкретные команды и параметры WPD, где это необходимо.</span><span class="sxs-lookup"><span data-stu-id="ca22d-135">The sensor DDI uses specific UMDF and WPD data types and interfaces, and also defines sensor-specific WPD commands and parameters, where it is required.</span></span> <span data-ttu-id="ca22d-136">Дополнительные сведения о создании драйверов датчиков устройств см. в подразделе комплект драйверов для Windows.</span><span class="sxs-lookup"><span data-stu-id="ca22d-136">For more information about creating sensor device drivers, see the Windows Driver Kit.</span></span>

## <a name="sensor-api"></a><span data-ttu-id="ca22d-137">API датчика</span><span class="sxs-lookup"><span data-stu-id="ca22d-137">Sensor API</span></span>

<span data-ttu-id="ca22d-138">API датчика позволяет разработчикам C++ создавать программы на основе датчиков с помощью набора COM-интерфейсов.</span><span class="sxs-lookup"><span data-stu-id="ca22d-138">The Sensor API enables C++ developers to create sensor-based programs by using a set of COM interfaces.</span></span> <span data-ttu-id="ca22d-139">API определяет интерфейсы для выполнения стандартных задач программирования датчика, включающих управление датчиками по категориям, типам или ИДЕНТИФИКАТОРам, управление событиями датчика, работу с отдельными датчиками и коллекциями датчиков, а также работу с данными датчика.</span><span class="sxs-lookup"><span data-stu-id="ca22d-139">The API defines interfaces to perform common sensor programming tasks that include managing sensors by category, type, or ID, managing sensor events, working with individual sensors and sensor collections, and working with sensor data.</span></span> <span data-ttu-id="ca22d-140">Windows SDK включает файлы заголовков, документацию, примеры и средства, помогающие разработчикам программного обеспечения использовать датчики в программах Windows.</span><span class="sxs-lookup"><span data-stu-id="ca22d-140">The Windows SDK includes header files, documentation, samples, and tools to help guide software developers on how to use sensors in Windows programs.</span></span> <span data-ttu-id="ca22d-141">В этой документации описывается API датчика.</span><span class="sxs-lookup"><span data-stu-id="ca22d-141">This documentation describes the Sensor API.</span></span>

## <a name="location-api"></a><span data-ttu-id="ca22d-142">API расположения</span><span class="sxs-lookup"><span data-stu-id="ca22d-142">Location API</span></span>

<span data-ttu-id="ca22d-143">API расположения, основанный на API датчика, предоставляет простой способ получения данных о географическом расположении и защите конфиденциальности пользователей.</span><span class="sxs-lookup"><span data-stu-id="ca22d-143">Built on the Sensor API, the Location API provides an easy way to retrieve data about geographic location while protecting user privacy.</span></span> <span data-ttu-id="ca22d-144">API расположения предоставляет свои функциональные возможности через набор COM-интерфейсов, представляющих объекты.</span><span class="sxs-lookup"><span data-stu-id="ca22d-144">The Location API provides its functionality through a set of COM interfaces that represent objects.</span></span> <span data-ttu-id="ca22d-145">Эти объекты могут использоваться программистами, которые понимают, как использовать COM через язык программирования C++ или в языках сценариев, таких как JScript.</span><span class="sxs-lookup"><span data-stu-id="ca22d-145">These objects can be used by programmers who understand how to use COM through the C++ programming language, or in scripting languages, such as JScript.</span></span> <span data-ttu-id="ca22d-146">Поддержка сценариев обеспечивает простой доступ к данным о расположении для проектов, которые выполняются в зоне локального компьютера, например мини-приложения.</span><span class="sxs-lookup"><span data-stu-id="ca22d-146">Scripting support gives easy access to location data for projects that run in the Local Computer zone, such as gadgets.</span></span> <span data-ttu-id="ca22d-147">Windows SDK включает файлы заголовков, документацию (включая справочную документацию по сценариям), образцы и средства, помогающие разработчикам веб-приложений и программных продуктов использовать сведения о расположении в своих программах.</span><span class="sxs-lookup"><span data-stu-id="ca22d-147">The Windows SDK includes header files, documentation (including scripting reference documentation), samples, and tools to help guide Web and software developers on how to use location information in their programs.</span></span>

## <a name="location-and-other-sensors-control-panel"></a><span data-ttu-id="ca22d-148">Панель управления "расположение и другие датчики"</span><span class="sxs-lookup"><span data-stu-id="ca22d-148">Location and Other Sensors Control Panel</span></span>

<span data-ttu-id="ca22d-149">В состав Windows 7 входит панель управления, позволяющая администраторам компьютеров включать или отключать датчики для всей системы или для каждого пользователя.</span><span class="sxs-lookup"><span data-stu-id="ca22d-149">Windows 7 includes a control panel that lets computer administrators enable or disable sensors system-wide or for each user.</span></span> <span data-ttu-id="ca22d-150">Поскольку некоторые датчики могут предоставлять конфиденциальные данные, этот пользовательский интерфейс предоставляет администраторам контроль над тем, имеют ли все программы доступ к каждому датчику для каждого пользователя.</span><span class="sxs-lookup"><span data-stu-id="ca22d-150">Because some sensors can expose sensitive data, this user interface gives administrators control over whether all programs have access to each sensor for each user.</span></span> <span data-ttu-id="ca22d-151">Пользователи также могут просматривать свойства датчика и изменять описание датчика, отображаемое в пользовательском интерфейсе.</span><span class="sxs-lookup"><span data-stu-id="ca22d-151">Users can also view sensor properties and change the sensor description that is displayed in the user interface.</span></span>

<span data-ttu-id="ca22d-152">Панель управления также предоставляет страницу расположения по умолчанию, с помощью которой пользователи могут указать свое расположение.</span><span class="sxs-lookup"><span data-stu-id="ca22d-152">The Control Panel also provides a Default Location page to enable users to provide their location.</span></span> <span data-ttu-id="ca22d-153">Если датчик недоступен, платформа будет использовать указанное пользователем расположение.</span><span class="sxs-lookup"><span data-stu-id="ca22d-153">When no sensor is available, the platform will use the user-provided location.</span></span> <span data-ttu-id="ca22d-154">Пользователи могут предоставлять поля с административным адресом, включая улица, город, штат, район, страну или регион.</span><span class="sxs-lookup"><span data-stu-id="ca22d-154">Users can provide civic address fields, which include the street address, city, state or province, and country or region.</span></span>

## <a name="related-topics"></a><span data-ttu-id="ca22d-155">См. также</span><span class="sxs-lookup"><span data-stu-id="ca22d-155">Related topics</span></span>

[<span data-ttu-id="ca22d-156">Сведения об API датчика</span><span class="sxs-lookup"><span data-stu-id="ca22d-156">About the Sensor API</span></span>](about-the-sensor-api.md)

[<span data-ttu-id="ca22d-157">Веб-сайт центра разработчиков оборудования для Windows</span><span class="sxs-lookup"><span data-stu-id="ca22d-157">Windows Hardware Developer Central Web site</span></span>](https://www.microsoft.com/whdc/device/sensors/default.mspx)

[<span data-ttu-id="ca22d-158">Центр разработчиков для Windows</span><span class="sxs-lookup"><span data-stu-id="ca22d-158">Windows Developer Center</span></span>](https://msdn.microsoft.com/windows/default.aspx?wt.svl=client)
