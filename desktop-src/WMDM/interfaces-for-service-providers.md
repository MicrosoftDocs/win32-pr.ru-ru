---
title: Интерфейсы для поставщиков услуг
description: Интерфейсы для поставщиков услуг
ms.assetid: bd61c5fa-047c-4d93-bae1-f3433696b95b
keywords:
- Диспетчер устройств Windows Media, интерфейсы поставщиков услуг
- Диспетчер устройств, интерфейсы поставщиков услуг
- поставщики услуг, интерфейсы
- Справочник по программированию, интерфейсы поставщиков услуг
- Справочник по диспетчер устройств Windows Media, интерфейсам поставщиков услуг
- интерфейсы поставщика услуг
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 019d31f05674f0d9e492f8a73748500bc1d9d514
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/16/2019
ms.locfileid: "103776943"
---
# <a name="interfaces-for-service-providers"></a><span data-ttu-id="6fa8e-109">Интерфейсы для поставщиков услуг</span><span class="sxs-lookup"><span data-stu-id="6fa8e-109">Interfaces for Service Providers</span></span>

<span data-ttu-id="6fa8e-110">В этом разделе описываются интерфейсы, реализуемые поставщиками служб Windows Media диспетчер устройств.</span><span class="sxs-lookup"><span data-stu-id="6fa8e-110">This section describes interfaces implemented by Windows Media Device Manager service providers.</span></span> <span data-ttu-id="6fa8e-111">Поставщики услуг выполняют большую часть реальной работы по взаимодействию с устройством, поскольку они реализуют большинство методов Windows Media диспетчер устройств SDK, вызванных приложением.</span><span class="sxs-lookup"><span data-stu-id="6fa8e-111">Service providers perform most of the actual work of communicating with a device, because they implement most of the Windows Media Device Manager SDK methods called by the application.</span></span>

<span data-ttu-id="6fa8e-112">Поставщики услуг не должны реализовывать все интерфейсы, перечисленные в этом разделе.</span><span class="sxs-lookup"><span data-stu-id="6fa8e-112">Service providers do not need to implement all of the interfaces listed in this section.</span></span> <span data-ttu-id="6fa8e-113">Например, устройство мультимедиа, не имеющее встроенного хранилища, не реализует интерфейсы, используемые для управления содержимым или его предоставления.</span><span class="sxs-lookup"><span data-stu-id="6fa8e-113">For example, a media device that does not have on-board storage does not implement the interfaces that are used to control or expose content.</span></span> <span data-ttu-id="6fa8e-114">Указывает, требуется ли метод или интерфейс на соответствующей странице ссылки.</span><span class="sxs-lookup"><span data-stu-id="6fa8e-114">Whether a method or interface is required is indicated on the appropriate reference page.</span></span>



| <span data-ttu-id="6fa8e-115">Интерфейс или класс</span><span class="sxs-lookup"><span data-stu-id="6fa8e-115">Interface or class</span></span>                                     | <span data-ttu-id="6fa8e-116">Описание</span><span class="sxs-lookup"><span data-stu-id="6fa8e-116">Description</span></span>                                                                                                                                                                                                                                                                                                       |
|--------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="6fa8e-117">ксекуречаннелсервер</span><span class="sxs-lookup"><span data-stu-id="6fa8e-117">CSecureChannelServer</span></span>](csecurechannelserver-class.md) | <span data-ttu-id="6fa8e-118">Вспомогательный класс, который позволяет поставщику служб или поставщику защищенного содержимого проверять подлинность приложения и создавать подписи MAC для защищенных параметров.</span><span class="sxs-lookup"><span data-stu-id="6fa8e-118">A helper class that enables a service provider or secure content provider to authenticate an application and create MAC signatures for secure parameters.</span></span>                                                                                                                                                         |
| [<span data-ttu-id="6fa8e-119">**имдсервицепровидер**</span><span class="sxs-lookup"><span data-stu-id="6fa8e-119">**IMDServiceProvider**</span></span>](/windows/desktop/api/mswmdm/nn-mswmdm-imdserviceprovider)       | <span data-ttu-id="6fa8e-120">Предоставляет клиент (обычно Windows Media диспетчер устройств) с перечислителем устройств для устройств, поддерживаемых этим поставщиком услуг.</span><span class="sxs-lookup"><span data-stu-id="6fa8e-120">Provides the client (usually Windows Media Device Manager) with a device enumerator for the devices that this service provider supports.</span></span>                                                                                                                                                                          |
| [<span data-ttu-id="6fa8e-121">**IMDServiceProvider2**</span><span class="sxs-lookup"><span data-stu-id="6fa8e-121">**IMDServiceProvider2**</span></span>](/windows/desktop/api/mswmdm/nn-mswmdm-imdserviceprovider2)     | <span data-ttu-id="6fa8e-122">Расширяет **имдсервицепровидер** , предоставляя метод для создания устройства с помощью пути к устройству.</span><span class="sxs-lookup"><span data-stu-id="6fa8e-122">Extends **IMDServiceProvider** by providing a method for creating the device by using the device path.</span></span>                                                                                                                                                                                                            |
| [<span data-ttu-id="6fa8e-123">**IMDServiceProvider3**</span><span class="sxs-lookup"><span data-stu-id="6fa8e-123">**IMDServiceProvider3**</span></span>](/windows/desktop/api/mswmdm/nn-mswmdm-imdserviceprovider3)     | <span data-ttu-id="6fa8e-124">Расширяет **IMDServiceProvider2** , предоставляя метод для настройки параметров перечисления устройств.</span><span class="sxs-lookup"><span data-stu-id="6fa8e-124">Extends **IMDServiceProvider2** by providing a method for setting the device enumeration preferences.</span></span>                                                                                                                                                                                                             |
| [<span data-ttu-id="6fa8e-125">**имдспдевице**</span><span class="sxs-lookup"><span data-stu-id="6fa8e-125">**IMDSPDevice**</span></span>](/windows/desktop/api/mswmdm/nn-mswmdm-imdspdevice)                     | <span data-ttu-id="6fa8e-126">Предоставляет связь на основе экземпляра с устройством мультимедиа.</span><span class="sxs-lookup"><span data-stu-id="6fa8e-126">Provides an instance-based association with a media device.</span></span> <span data-ttu-id="6fa8e-127">С помощью этого интерфейса клиент может перечислить перечислители носителей хранилища для устройства, получить сведения об устройстве и отправить на устройство непрозрачные (транзитные) команды.</span><span class="sxs-lookup"><span data-stu-id="6fa8e-127">Using this interface, the client can enumerate the storage media enumerators for the device, get information about the device, and send opaque (pass-through) commands to the device.</span></span>                                                                 |
| [<span data-ttu-id="6fa8e-128">**IMDSPDevice2**</span><span class="sxs-lookup"><span data-stu-id="6fa8e-128">**IMDSPDevice2**</span></span>](/windows/desktop/api/mswmdm/nn-mswmdm-imdspdevice2)                   | <span data-ttu-id="6fa8e-129">Расширяет **имдспдевице** , предоставляя методы для получения расширенных видеоформатов, получения имен устройств Самонастраивающийся (PnP), включения использования страниц свойств и предоставления возможности получения указателя на среду хранения из имени.</span><span class="sxs-lookup"><span data-stu-id="6fa8e-129">Extends **IMDSPDevice** by providing methods for getting extended video formats, getting Plug and Play (PnP) device names, enabling the use of property pages, and making it possible to get a pointer to a storage medium from its name.</span></span> <span data-ttu-id="6fa8e-130">Этот интерфейс является необязательным для поставщика услуг, но рекомендуется.</span><span class="sxs-lookup"><span data-stu-id="6fa8e-130">This interface is optional for the service provider but is recommended.</span></span> |
| [<span data-ttu-id="6fa8e-131">**IMDSPDevice3**</span><span class="sxs-lookup"><span data-stu-id="6fa8e-131">**IMDSPDevice3**</span></span>](/windows/desktop/api/mswmdm/nn-mswmdm-imdspdevice3)                   | <span data-ttu-id="6fa8e-132">Расширяет **IMDSPDevice2** , предоставляя возможность запрашивать свойства и возможности устройства в зависимости от формата объекта.</span><span class="sxs-lookup"><span data-stu-id="6fa8e-132">Extends **IMDSPDevice2** by providing ability to query properties and capabilities of the device with regard to an object format.</span></span>                                                                                                                                                                                 |
| [<span data-ttu-id="6fa8e-133">**имдспдевицеконтрол**</span><span class="sxs-lookup"><span data-stu-id="6fa8e-133">**IMDSPDeviceControl**</span></span>](/windows/desktop/api/mswmdm/nn-mswmdm-imdspdevicecontrol)       | <span data-ttu-id="6fa8e-134">Предоставляет методы для управления устройствами.</span><span class="sxs-lookup"><span data-stu-id="6fa8e-134">Provides methods for controlling devices.</span></span>                                                                                                                                                                                                                                                                         |
| [<span data-ttu-id="6fa8e-135">**имдспдиректтрансфер**</span><span class="sxs-lookup"><span data-stu-id="6fa8e-135">**IMDSPDirectTransfer**</span></span>](/windows/desktop/api/mswmdm/nn-mswmdm-imdspdirecttransfer)     | <span data-ttu-id="6fa8e-136">Включает диспетчер устройств Windows Media для делегирования передачи содержимого поставщику услуг.</span><span class="sxs-lookup"><span data-stu-id="6fa8e-136">Enables Windows Media Device Manager to delegate content transfer to the service provider.</span></span> <span data-ttu-id="6fa8e-137">В этом случае Windows Media диспетчер устройств не обрабатывает содержимое, прежде чем отправлять его поставщику услуг.</span><span class="sxs-lookup"><span data-stu-id="6fa8e-137">In this case Windows Media Device Manager does not do any processing of the content before sending it to the service provider.</span></span> <span data-ttu-id="6fa8e-138">Поставщик услуг получает полный контроль над источником.</span><span class="sxs-lookup"><span data-stu-id="6fa8e-138">The service provider gets full control of the source.</span></span>                                   |
| [<span data-ttu-id="6fa8e-139">**имдспенумдевице**</span><span class="sxs-lookup"><span data-stu-id="6fa8e-139">**IMDSPEnumDevice**</span></span>](/windows/desktop/api/mswmdm/nn-mswmdm-imdspenumdevice)             | <span data-ttu-id="6fa8e-140">Перечисляет устройства мультимедиа, поддерживаемые этим поставщиком услуг.</span><span class="sxs-lookup"><span data-stu-id="6fa8e-140">Enumerates the media devices supported by this service provider.</span></span>                                                                                                                                                                                                                                                  |
| [<span data-ttu-id="6fa8e-141">**имдспенумстораже**</span><span class="sxs-lookup"><span data-stu-id="6fa8e-141">**IMDSPEnumStorage**</span></span>](/windows/desktop/api/mswmdm/nn-mswmdm-imdspenumstorage)           | <span data-ttu-id="6fa8e-142">Перечисление носителей на устройстве и содержимого на носителе.</span><span class="sxs-lookup"><span data-stu-id="6fa8e-142">Enumerates the storage media on a device and the contents on a storage medium.</span></span>                                                                                                                                                                                                                                    |
| [<span data-ttu-id="6fa8e-143">**имдспобжект**</span><span class="sxs-lookup"><span data-stu-id="6fa8e-143">**IMDSPObject**</span></span>](/windows/desktop/api/mswmdm/nn-mswmdm-imdspobject)                     | <span data-ttu-id="6fa8e-144">Содержит методы для операций перемещения данных в объекте хранилища.</span><span class="sxs-lookup"><span data-stu-id="6fa8e-144">Contains methods for data transfer operations on a storage object.</span></span>                                                                                                                                                                                                                                                |
| [<span data-ttu-id="6fa8e-145">**IMDSPObject2**</span><span class="sxs-lookup"><span data-stu-id="6fa8e-145">**IMDSPObject2**</span></span>](/windows/desktop/api/mswmdm/nn-mswmdm-imdspobject2)                   | <span data-ttu-id="6fa8e-146">Расширяет **имдспобжект** , предоставляя более эффективную передачу данных с поддержкой DRM.</span><span class="sxs-lookup"><span data-stu-id="6fa8e-146">Extends **IMDSPObject** by providing more efficient transmission of DRM-enabled data.</span></span>                                                                                                                                                                                                                             |
| [<span data-ttu-id="6fa8e-147">**имдспобжектинфо**</span><span class="sxs-lookup"><span data-stu-id="6fa8e-147">**IMDSPObjectInfo**</span></span>](/windows/desktop/api/mswmdm/nn-mswmdm-imdspobjectinfo)             | <span data-ttu-id="6fa8e-148">Задает или возвращает длину воспроизведения, позиции воспроизведения, смещения воспроизведения или общей длины объектов на носителе.</span><span class="sxs-lookup"><span data-stu-id="6fa8e-148">Sets or gets play length, play position, play offset, or total length of playable objects on a storage medium.</span></span>                                                                                                                                                                                                    |
| [<span data-ttu-id="6fa8e-149">**имдспревокед**</span><span class="sxs-lookup"><span data-stu-id="6fa8e-149">**IMDSPRevoked**</span></span>](/windows/desktop/api/mswmdm/nn-mswmdm-imdsprevoked)                   | <span data-ttu-id="6fa8e-150">Извлекает URL-адрес, из которого можно скачать обновленные компоненты.</span><span class="sxs-lookup"><span data-stu-id="6fa8e-150">Retrieves the URL from which updated components can be downloaded.</span></span>                                                                                                                                                                                                                                                |
| [<span data-ttu-id="6fa8e-151">**имдспстораже**</span><span class="sxs-lookup"><span data-stu-id="6fa8e-151">**IMDSPStorage**</span></span>](/windows/desktop/api/mswmdm/nn-mswmdm-imdspstorage)                   | <span data-ttu-id="6fa8e-152">Предоставляет связь на основе экземпляра с носителем хранилища на устройстве.</span><span class="sxs-lookup"><span data-stu-id="6fa8e-152">Provides an instanced-based association with a storage medium on a device.</span></span> <span data-ttu-id="6fa8e-153">Этот интерфейс создает объекты хранилища, получает сведения о них и предоставляет доступ к интерфейсу **имдспенумстораже** для перечисления вложенных папок, размещенных в текущем хранилище.</span><span class="sxs-lookup"><span data-stu-id="6fa8e-153">This interface creates storage objects, retrieves information about them, and provides access to the **IMDSPEnumStorage** interface for enumerating subfolders nested within the current storage.</span></span>                                      |
| [<span data-ttu-id="6fa8e-154">**IMDSPStorage2**</span><span class="sxs-lookup"><span data-stu-id="6fa8e-154">**IMDSPStorage2**</span></span>](/windows/desktop/api/mswmdm/nn-mswmdm-imdspstorage2)                 | <span data-ttu-id="6fa8e-155">Расширяет **имдспстораже** , получая и устанавливая расширенные атрибуты и делая возможным получение указателя на хранилище из его имени.</span><span class="sxs-lookup"><span data-stu-id="6fa8e-155">Extends **IMDSPStorage** by getting and setting extended attributes and making it possible to get a pointer to storage from its name.</span></span>                                                                                                                                                                             |
| [<span data-ttu-id="6fa8e-156">**IMDSPStorage3**</span><span class="sxs-lookup"><span data-stu-id="6fa8e-156">**IMDSPStorage3**</span></span>](/windows/desktop/api/mswmdm/nn-mswmdm-imdspstorage3)                 | <span data-ttu-id="6fa8e-157">Расширяет **IMDSPStorage2** посредством поддержки метаданных.</span><span class="sxs-lookup"><span data-stu-id="6fa8e-157">Extends **IMDSPStorage2** by supporting metadata.</span></span>                                                                                                                                                                                                                                                                 |
| [<span data-ttu-id="6fa8e-158">**IMDSPStorage4**</span><span class="sxs-lookup"><span data-stu-id="6fa8e-158">**IMDSPStorage4**</span></span>](/windows/desktop/api/mswmdm/nn-mswmdm-imdspstorage4)                 | <span data-ttu-id="6fa8e-159">Расширяет **IMDSPStorage3** посредством поддержки объектов списков воспроизведения.</span><span class="sxs-lookup"><span data-stu-id="6fa8e-159">Extends **IMDSPStorage3** by supporting playlist objects.</span></span>                                                                                                                                                                                                                                                         |
| [<span data-ttu-id="6fa8e-160">**имдспсторажеглобалс**</span><span class="sxs-lookup"><span data-stu-id="6fa8e-160">**IMDSPStorageGlobals**</span></span>](/windows/desktop/api/mswmdm/nn-mswmdm-imdspstorageglobals)     | <span data-ttu-id="6fa8e-161">Извлекает глобальные сведения о носителе хранилища, например объем свободного пространства и общее число файлов.</span><span class="sxs-lookup"><span data-stu-id="6fa8e-161">Retrieves global information about a storage medium, such as the amount of free space and the total number of files.</span></span>                                                                                                                                                                                              |



 

<span data-ttu-id="6fa8e-162">На следующей схеме показано, как получить различные интерфейсы, реализованные поставщиком служб.</span><span class="sxs-lookup"><span data-stu-id="6fa8e-162">The following diagram shows how to get the various interfaces implemented by a service provider.</span></span> <span data-ttu-id="6fa8e-163">На этой схеме производные интерфейсы отображаются в одном теге для сжатия, поэтому Имдсервицепровидер/2/3 будет представлять три интерфейса: **имдсервицепровидер**, **IMDServiceProvider2** и **IMDServiceProvider3**.</span><span class="sxs-lookup"><span data-stu-id="6fa8e-163">In this diagram, derived interfaces are displayed in the same tag for compactness, so IMDServiceProvider/2/3 would represent three interfaces: **IMDServiceProvider**, **IMDServiceProvider2**, and **IMDServiceProvider3**.</span></span> <span data-ttu-id="6fa8e-164">Показанные методы расширены только одним из этих интерфейсов.</span><span class="sxs-lookup"><span data-stu-id="6fa8e-164">Methods shown are extended by only one of these interfaces.</span></span> <span data-ttu-id="6fa8e-165">Производные интерфейсы получаются путем вызова **QueryInterface** в базовом интерфейсе созданного объекта.</span><span class="sxs-lookup"><span data-stu-id="6fa8e-165">Derived interfaces are obtained by calling **QueryInterface** on the base interface of the created object.</span></span>

![Схема, показывающая, как диспетчер устройств Windows Media планирует получить интерфейсы от поставщика услуг.](images/wmdm-sp-interfaces.gif)

## <a name="related-topics"></a><span data-ttu-id="6fa8e-167">См. также</span><span class="sxs-lookup"><span data-stu-id="6fa8e-167">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="6fa8e-168">**Справочник по программированию**</span><span class="sxs-lookup"><span data-stu-id="6fa8e-168">**Programming Reference**</span></span>](programming-reference.md)
</dt> <dt>

[<span data-ttu-id="6fa8e-169">**Интерфейсы DRM-Implemented Windows Media**</span><span class="sxs-lookup"><span data-stu-id="6fa8e-169">**Windows Media DRM-Implemented Interfaces**</span></span>](windows-media-drm-implemented-interfaces.md)
</dt> </dl>

 

 




