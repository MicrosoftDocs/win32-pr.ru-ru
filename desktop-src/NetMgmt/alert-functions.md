---
title: Функции предупреждений
description: Функции оповещений управления сетью уведомляют программы сетевой службы и приложения сетевых событий.
ms.assetid: e131191b-7413-45ff-84cd-b3a873d33ca1
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 80fde863b27bebc8bf815c939f7edf96cd998442
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/20/2020
ms.locfileid: "104487941"
---
# <a name="alert-functions"></a><span data-ttu-id="8aea9-103">Функции предупреждений</span><span class="sxs-lookup"><span data-stu-id="8aea9-103">Alert Functions</span></span>

<span data-ttu-id="8aea9-104">\[Функции предупреждений не поддерживаются в Windows Vista, так как служба оповещений и службы сообщений не поддерживаются.\]</span><span class="sxs-lookup"><span data-stu-id="8aea9-104">\[The alert functions are not supported as of Windows Vista because the alerter and messenger services are not supported.\]</span></span>

<span data-ttu-id="8aea9-105">Функции оповещений управления сетью уведомляют программы сетевой службы и приложения сетевых событий.</span><span class="sxs-lookup"><span data-stu-id="8aea9-105">The network management alert functions notify network service programs and applications of network events.</span></span> <span data-ttu-id="8aea9-106">*Событие* — это конкретный экземпляр процесса, экземпляра или состояния оборудования, определенный приложением.</span><span class="sxs-lookup"><span data-stu-id="8aea9-106">An *event* is a particular instance of a process, occurrence, or state of hardware as defined by an application.</span></span> <span data-ttu-id="8aea9-107">Функции предупреждений позволяют приложениям указывать время возникновения предопределенных событий.</span><span class="sxs-lookup"><span data-stu-id="8aea9-107">The alert functions allow applications to indicate when predefined events occur.</span></span>

<span data-ttu-id="8aea9-108">**Windows Server 2003:** Службы оповещений и сообщений по умолчанию отключены в Windows Server 2003.</span><span class="sxs-lookup"><span data-stu-id="8aea9-108">**Windows Server 2003:** The alerter and messenger services are disabled by default on Windows Server 2003.</span></span> <span data-ttu-id="8aea9-109">Необходимо повторно включить службы перед вызовом функций предупреждений управления сетью или [функций сообщений](message-functions.md)управления сетью.</span><span class="sxs-lookup"><span data-stu-id="8aea9-109">You must re-enable the services before calling the network management Alert functions or the network management [Message functions](message-functions.md).</span></span>

<span data-ttu-id="8aea9-110">Ниже перечислены функции предупреждений.</span><span class="sxs-lookup"><span data-stu-id="8aea9-110">The alert functions are listed following.</span></span>



| <span data-ttu-id="8aea9-111">Функция</span><span class="sxs-lookup"><span data-stu-id="8aea9-111">Function</span></span>                                   | <span data-ttu-id="8aea9-112">Описание</span><span class="sxs-lookup"><span data-stu-id="8aea9-112">Description</span></span>                                                                                                                                                                                            |
|--------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="8aea9-113">**неталертраисе**</span><span class="sxs-lookup"><span data-stu-id="8aea9-113">**NetAlertRaise**</span></span>](/windows/desktop/api/Lmalert/nf-lmalert-netalertraise)     | <span data-ttu-id="8aea9-114">Уведомляет всех зарегистрированных клиентов о том, что произошло определенное событие.</span><span class="sxs-lookup"><span data-stu-id="8aea9-114">Notifies all registered clients that a particular event has occurred.</span></span>                                                                                                                                  |
| [<span data-ttu-id="8aea9-115">**неталертраисикс**</span><span class="sxs-lookup"><span data-stu-id="8aea9-115">**NetAlertRaiseEx**</span></span>](/windows/desktop/api/Lmalert/nf-lmalert-netalertraiseex) | <span data-ttu-id="8aea9-116">Упрощает уведомление зарегистрированных клиентов о том, что произошло определенное событие, поскольку, в отличие от **неталертраисе**, **Неталертраисикс** не требует стандартных структур [**\_ предупреждений**](/windows/desktop/api/Lmalert/ns-lmalert-std_alert) .</span><span class="sxs-lookup"><span data-stu-id="8aea9-116">Simplifies notifying registered clients that a particular event has occurred, because, unlike **NetAlertRaise**, **NetAlertRaiseEx** does not require a [**STD\_ALERT**](/windows/desktop/api/Lmalert/ns-lmalert-std_alert) structure.</span></span> |



 

<span data-ttu-id="8aea9-117">При вызове функции **неталертраисе** или функции **неталертраисикс** на клиентском компьютере должна быть запущена служба оповещения.</span><span class="sxs-lookup"><span data-stu-id="8aea9-117">The alerter service must be running on the client computer when you call the **NetAlertRaise** function or the **NetAlertRaiseEx** function.</span></span> <span data-ttu-id="8aea9-118">Если служба не запущена, функции завершаются с ошибкой, **но \_ файл \_ не \_ найден**.</span><span class="sxs-lookup"><span data-stu-id="8aea9-118">If the service is not running, the functions fail with **ERROR\_FILE\_NOT\_FOUND**.</span></span> <span data-ttu-id="8aea9-119">Служба оповещения на клиенте вызывает функцию [**нетмессажебуфферсенд**](/windows/desktop/api/Lmmsg/nf-lmmsg-netmessagebuffersend) для отправки сведений получателям.</span><span class="sxs-lookup"><span data-stu-id="8aea9-119">The alerter service on the client calls the [**NetMessageBufferSend**](/windows/desktop/api/Lmmsg/nf-lmmsg-netmessagebuffersend) function to send information to recipients.</span></span>

<span data-ttu-id="8aea9-120">Приложения, сетевые службы и компоненты внутренней сети используют функции оповещений управления сетью для создания предупреждения, уведомления различных приложений или пользователей при возникновении определенного типа события.</span><span class="sxs-lookup"><span data-stu-id="8aea9-120">Applications, network services, and internal network components use the network management alert functions to raise an alert, notifying various applications or users when a particular type of event occurs.</span></span> <span data-ttu-id="8aea9-121">Функции категории предупреждений, типы данных, структуры и константы определяются в ЛМКОНС. H, ЛМЕРР. H и ЛМАЛЕРТ. Файлы заголовков H.</span><span class="sxs-lookup"><span data-stu-id="8aea9-121">The alert category functions, data types, structures, and constants are defined in the LMCONS.H, LMERR.H, and LMALERT.H header files.</span></span> <span data-ttu-id="8aea9-122">Чтобы получить доступ к этим определениям, определите константы, включая \_ нетеррорс и \_ , включая неталерт, и включите заголовочный файл LM. H.</span><span class="sxs-lookup"><span data-stu-id="8aea9-122">To access these definitions, define the constants INCL\_NETERRORS and INCL\_NETALERT, and include the header file LM.H.</span></span>

<span data-ttu-id="8aea9-123">ЛМАЛЕРТ. H-файл определяет следующие классы предупреждений (типы сетевых событий) для отправки предупреждений:</span><span class="sxs-lookup"><span data-stu-id="8aea9-123">The LMALERT.H file predefines the following alert classes (types of network events) for sending alerts:</span></span>

-   <span data-ttu-id="8aea9-124">Сетевые события, нуждающиеся в помощи администратора</span><span class="sxs-lookup"><span data-stu-id="8aea9-124">Network events requiring administrative assistance</span></span>
-   <span data-ttu-id="8aea9-125">Добавление записи в файл журнала ошибок</span><span class="sxs-lookup"><span data-stu-id="8aea9-125">Addition of an entry to an error log file</span></span>
-   <span data-ttu-id="8aea9-126">Получение широковещательного сообщения пользователем или приложением</span><span class="sxs-lookup"><span data-stu-id="8aea9-126">Reception of a broadcast message by a user or an application</span></span>
-   <span data-ttu-id="8aea9-127">Завершение задания печати</span><span class="sxs-lookup"><span data-stu-id="8aea9-127">Completion of a print job</span></span>
-   <span data-ttu-id="8aea9-128">Использование определенных приложений или ресурсов пользователями</span><span class="sxs-lookup"><span data-stu-id="8aea9-128">Use of certain applications or resources by users</span></span>

<span data-ttu-id="8aea9-129">При необходимости можно определить другие классы предупреждений для сетевых приложений.</span><span class="sxs-lookup"><span data-stu-id="8aea9-129">You can define other classes of alerts for network applications as needed.</span></span> <span data-ttu-id="8aea9-130">Например, если приложение на сервере часто записывает большие объемы данных на диск, приложение выполняет риск заполнения диска.</span><span class="sxs-lookup"><span data-stu-id="8aea9-130">For example, if an application on a server routinely writes large amounts of data to a disk drive, the application runs the risk of filling the disk.</span></span> <span data-ttu-id="8aea9-131">В этом случае может потребоваться добавить событие "нет свободного места на диске", чтобы активировать оповещение, уведомляющее приложение о приостановке или завершении процесса, заполняющего диск.</span><span class="sxs-lookup"><span data-stu-id="8aea9-131">In this case, you might want to add the event "no free disk space' to trigger an alert that notifies the application to pause or to terminate the process that is filling the disk.</span></span> <span data-ttu-id="8aea9-132">Имя события для предупреждения может быть любой текстовой строкой.</span><span class="sxs-lookup"><span data-stu-id="8aea9-132">The event name for an alert can be any text string.</span></span>

<span data-ttu-id="8aea9-133">Когда вы создаете предупреждение с помощью вызова функции [**неталертраисе**](/windows/desktop/api/Lmalert/nf-lmalert-netalertraise) , данные сообщения должны состоять из одной структуры заголовков [**\_ предупреждений**](/windows/desktop/api/Lmalert/ns-lmalert-std_alert) , за которой следуют дополнительные данные фиксированной длины, относящиеся к предупреждениям, в одной [**\_ другой \_ информации**](/windows/desktop/api/Lmalert/ns-lmalert-admin_other_info), [**ERRLOG \_ другой \_ информации**](/windows/desktop/api/Lmalert/ns-lmalert-errlog_other_info), [**распечатать \_ другие \_ сведения**](/windows/desktop/api/Lmalert/ns-lmalert-print_other_info)или [**\_ другую \_ информационную структуру пользователя**](/windows/desktop/api/Lmalert/ns-lmalert-user_other_info) .</span><span class="sxs-lookup"><span data-stu-id="8aea9-133">When you raise an alert with a call to the [**NetAlertRaise**](/windows/desktop/api/Lmalert/nf-lmalert-netalertraise) function, the message data should consist of one [**STD\_ALERT**](/windows/desktop/api/Lmalert/ns-lmalert-std_alert) header structure, followed by additional fixed-length data that is alert-specific in one [**ADMIN\_OTHER\_INFO**](/windows/desktop/api/Lmalert/ns-lmalert-admin_other_info), [**ERRLOG\_OTHER\_INFO**](/windows/desktop/api/Lmalert/ns-lmalert-errlog_other_info), [**PRINT\_OTHER\_INFO**](/windows/desktop/api/Lmalert/ns-lmalert-print_other_info), or [**USER\_OTHER\_INFO**](/windows/desktop/api/Lmalert/ns-lmalert-user_other_info) structure.</span></span> <span data-ttu-id="8aea9-134">Дополнительные данные переменной длины могут следовать за структурой, относящейся к предупреждению.</span><span class="sxs-lookup"><span data-stu-id="8aea9-134">Additional variable-length data can follow the alert-specific structure.</span></span> <span data-ttu-id="8aea9-135">(Для вызовов функции [**неталертраисикс**](/windows/desktop/api/Lmalert/nf-lmalert-netalertraiseex) не требуется **Стандартная структура \_ предупреждений** .) Вызывающее приложение должно выделить память для всех структур и данных переменной длины и освободить память после возврата вызова.</span><span class="sxs-lookup"><span data-stu-id="8aea9-135">(Calls to the [**NetAlertRaiseEx**](/windows/desktop/api/Lmalert/nf-lmalert-netalertraiseex) function do not require a **STD\_ALERT** structure.) The calling application must allocate the memory for all structures and variable-length data, and free the memory after the call returns.</span></span>

<span data-ttu-id="8aea9-136">Для использования с буферами данных предупреждений доступны следующие макросы.</span><span class="sxs-lookup"><span data-stu-id="8aea9-136">The following macros are available for use with alert data buffers.</span></span>



| <span data-ttu-id="8aea9-137">Макрос</span><span class="sxs-lookup"><span data-stu-id="8aea9-137">Macro</span></span>                                          | <span data-ttu-id="8aea9-138">Описание</span><span class="sxs-lookup"><span data-stu-id="8aea9-138">Description</span></span>                                                                                               |
|------------------------------------------------|-----------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="8aea9-139">**\_другие \_ сведения о предупреждении**</span><span class="sxs-lookup"><span data-stu-id="8aea9-139">**ALERT\_OTHER\_INFO**</span></span>](/windows/desktop/api/Lmalert/nf-lmalert-alert_other_info) | <span data-ttu-id="8aea9-140">Возвращает указатель на данные фиксированной длины, которые следуют за структурой **стандартных \_ предупреждений** в предупредительном сообщении.</span><span class="sxs-lookup"><span data-stu-id="8aea9-140">Returns a pointer to the fixed-length data that follows the **STD\_ALERT** structure in an alert message.</span></span> |
| [<span data-ttu-id="8aea9-141">**\_данные var \_ предупреждения**</span><span class="sxs-lookup"><span data-stu-id="8aea9-141">**ALERT\_VAR\_DATA**</span></span>](/windows/desktop/api/Lmalert/nf-lmalert-alert_var_data)     | <span data-ttu-id="8aea9-142">Возвращает указатель на данные переменной длины, которые следуют за данными, зависящими от предупреждения, в сообщении с предупреждением.</span><span class="sxs-lookup"><span data-stu-id="8aea9-142">Returns a pointer to the variable-length data that follows the alert-specific data in an alert message.</span></span>   |



 

<span data-ttu-id="8aea9-143">Вместо использования функций оповещений управления сетью вы можете использовать пакет SDK инструментарий управления Windows (WMI) (WMI) для уведомления о событии.</span><span class="sxs-lookup"><span data-stu-id="8aea9-143">Instead of using the network management alert functions, you may be able to use the Windows Management Instrumentation (WMI) SDK for event notification.</span></span> <span data-ttu-id="8aea9-144">Дополнительные сведения о платформах, поддерживающих модель событий WMI, см. в разделе [WMI Infrastructure](/windows/desktop/WmiSdk/wmi-infrastructure) and [Monitoring Events](/windows/desktop/WmiSdk/monitoring-events) в документации по инструментарию WMI.</span><span class="sxs-lookup"><span data-stu-id="8aea9-144">For more information about the platforms that support the WMI event model, see [WMI Infrastructure](/windows/desktop/WmiSdk/wmi-infrastructure) and [Monitoring Events](/windows/desktop/WmiSdk/monitoring-events) in the WMI documentation.</span></span>

 

 