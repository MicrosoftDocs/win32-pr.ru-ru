---
Description: Ниже приведены параметры защиты памяти. При выделении или защите страницы в памяти необходимо указать одно из следующих значений. Атрибуты защиты нельзя присвоить части страницы; они могут быть назначены только целой странице.
ms.assetid: 09839db7-2118-4a7d-a707-a08c92bd600c
title: Константы защиты памяти (WinNT. h)
ms.topic: reference
ms.custom: snippet-project
ms.date: 07/27/2020
ms.openlocfilehash: 641fab68024d9db96f50327f7c78d51f3f9bca01
ms.sourcegitcommit: c8ec1ded1ffffc364d3c4f560bb2171da0dc5040
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/22/2021
ms.locfileid: "105665294"
---
# <a name="memory-protection-constants"></a><span data-ttu-id="71554-104">Константы защиты памяти</span><span class="sxs-lookup"><span data-stu-id="71554-104">Memory Protection Constants</span></span>

<span data-ttu-id="71554-105">Ниже приведены параметры защиты памяти. При выделении или защите страницы в памяти необходимо указать одно из следующих значений.</span><span class="sxs-lookup"><span data-stu-id="71554-105">The following are the memory-protection options; you must specify one of the following values when allocating or protecting a page in memory.</span></span> <span data-ttu-id="71554-106">Атрибуты защиты нельзя присвоить части страницы; они могут быть назначены только целой странице.</span><span class="sxs-lookup"><span data-stu-id="71554-106">Protection attributes cannot be assigned to a portion of a page; they can only be assigned to a whole page.</span></span>

## <a name="example"></a><span data-ttu-id="71554-107">Пример</span><span class="sxs-lookup"><span data-stu-id="71554-107">Example</span></span>

```cpp
STDMETHODIMP CExtBuffer::FInit
    (
    ULONG cItemMax,     //@parm IN | Maximum number of items ever
    ULONG cbItem,       //@parm IN | Size of each item, in bytes
    ULONG cbPage        //@parm IN | Size of system page size (from SysInfo)
    )
{
    BYTE  *pb;

    m_cbReserved = ((cbItem *cItemMax) / cbPage + 1) *cbPage;
    m_rgItem = (BYTE *) VirtualAlloc( NULL, m_cbReserved, MEM_RESERVE, PAGE_READWRITE );

    if (m_rgItem == NULL)
        return ResultFromScode( E_OUTOFMEMORY );

    m_cbItem  = cbItem;
    m_dbAlloc = (cbItem / cbPage + 1) *cbPage;
    pb = (BYTE *) VirtualAlloc( m_rgItem, m_dbAlloc, MEM_COMMIT, PAGE_READWRITE );
    if (pb == NULL)
        {
        VirtualFree((VOID *) m_rgItem, 0, MEM_RELEASE );
        m_rgItem = NULL;
        return ResultFromScode( E_OUTOFMEMORY );
        }

    m_cbAlloc = m_dbAlloc;
    return ResultFromScode( S_OK );
}
```
<span data-ttu-id="71554-108">Пример из [классической выборки Windows](https://github.com/microsoft/Windows-classic-samples/blob/1d363ff4bd17d8e20415b92e2ee989d615cc0d91/Samples/Win7Samples/dataaccess/oledb/sampprov/extbuff.cpp) на сайте GitHub.</span><span class="sxs-lookup"><span data-stu-id="71554-108">Example it from [Windows classic samples](https://github.com/microsoft/Windows-classic-samples/blob/1d363ff4bd17d8e20415b92e2ee989d615cc0d91/Samples/Win7Samples/dataaccess/oledb/sampprov/extbuff.cpp) on GitHub.</span></span>

## <a name="constants"></a><span data-ttu-id="71554-109">Константы</span><span class="sxs-lookup"><span data-stu-id="71554-109">Constants</span></span>


| <span data-ttu-id="71554-110">Константа/значение</span><span class="sxs-lookup"><span data-stu-id="71554-110">Constant/value</span></span>                                                                                                                                                                                                                                             | <span data-ttu-id="71554-111">Описание</span><span class="sxs-lookup"><span data-stu-id="71554-111">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
|:-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span id="PAGE_EXECUTE"></span><span id="page_execute"></span><dl> <span data-ttu-id="71554-112"><dt>**Страница \_ ВЫПОЛНИТЬ**</dt> <dt>0x10</dt></span><span class="sxs-lookup"><span data-stu-id="71554-112"><dt>**PAGE\_EXECUTE**</dt> <dt>0x10</dt></span></span> </dl>                                       | <span data-ttu-id="71554-113">Разрешает выполнение доступа к зафиксированной области страниц.</span><span class="sxs-lookup"><span data-stu-id="71554-113">Enables execute access to the committed region of pages.</span></span> <span data-ttu-id="71554-114">Попытка записи в зафиксированную область приводит к нарушению прав доступа.</span><span class="sxs-lookup"><span data-stu-id="71554-114">An attempt to write to the committed region results in an access violation.</span></span><br/> <span data-ttu-id="71554-115">Этот флаг не поддерживается функцией [**CreateFileMapping**](/windows/desktop/api/WinBase/nf-winbase-createfilemappinga) .</span><span class="sxs-lookup"><span data-stu-id="71554-115">This flag is not supported by the [**CreateFileMapping**](/windows/desktop/api/WinBase/nf-winbase-createfilemappinga) function.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| <span id="PAGE_EXECUTE_READ"></span><span id="page_execute_read"></span><dl> <span data-ttu-id="71554-116"><dt>**Страница \_ ВЫПОЛНЕНИЕ \_ Read**</dt> <dt>0x20</dt></span><span class="sxs-lookup"><span data-stu-id="71554-116"><dt>**PAGE\_EXECUTE\_READ**</dt> <dt>0x20</dt></span></span> </dl>                       | <span data-ttu-id="71554-117">Разрешает выполнение или доступ только для чтения к зафиксированной области страниц.</span><span class="sxs-lookup"><span data-stu-id="71554-117">Enables execute or read-only access to the committed region of pages.</span></span> <span data-ttu-id="71554-118">Попытка записи в зафиксированную область приводит к нарушению прав доступа.</span><span class="sxs-lookup"><span data-stu-id="71554-118">An attempt to write to the committed region results in an access violation.</span></span><br/> <span data-ttu-id="71554-119">**Windows Server 2003 и Windows XP:** Этот атрибут не поддерживается функцией [**CreateFileMapping**](/windows/desktop/api/WinBase/nf-winbase-createfilemappinga) до выхода Windows XP с пакетом обновления 2 (SP2) и windows Server 2003 с пакетом обновления 1 (SP1).</span><span class="sxs-lookup"><span data-stu-id="71554-119">**Windows Server 2003 and Windows XP:** This attribute is not supported by the [**CreateFileMapping**](/windows/desktop/api/WinBase/nf-winbase-createfilemappinga) function until Windows XP with SP2 and Windows Server 2003 with SP1.</span></span><br/>                                                                                                                                                                                                                                                                                                                                |
| <span id="PAGE_EXECUTE_READWRITE"></span><span id="page_execute_readwrite"></span><dl> <span data-ttu-id="71554-120"><dt>**Страница \_ ВЫПОЛНЕНИЕ \_ ReadWrite**</dt> <dt>0x40</dt></span><span class="sxs-lookup"><span data-stu-id="71554-120"><dt>**PAGE\_EXECUTE\_READWRITE**</dt> <dt>0x40</dt></span></span> </dl>        | <span data-ttu-id="71554-121">Разрешает выполнение, доступ только для чтения или чтение и запись для зафиксированной области страниц.</span><span class="sxs-lookup"><span data-stu-id="71554-121">Enables execute, read-only, or read/write access to the committed region of pages.</span></span><br/> <span data-ttu-id="71554-122">**Windows Server 2003 и Windows XP:** Этот атрибут не поддерживается функцией [**CreateFileMapping**](/windows/desktop/api/WinBase/nf-winbase-createfilemappinga) до выхода Windows XP с пакетом обновления 2 (SP2) и windows Server 2003 с пакетом обновления 1 (SP1).</span><span class="sxs-lookup"><span data-stu-id="71554-122">**Windows Server 2003 and Windows XP:** This attribute is not supported by the [**CreateFileMapping**](/windows/desktop/api/WinBase/nf-winbase-createfilemappinga) function until Windows XP with SP2 and Windows Server 2003 with SP1.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                               |
| <span id="PAGE_EXECUTE_WRITECOPY"></span><span id="page_execute_writecopy"></span><dl> <span data-ttu-id="71554-123"><dt>**Страница \_ ВЫПОЛНЕНИЕ \_ вритекопи**</dt> <dt>0x80</dt></span><span class="sxs-lookup"><span data-stu-id="71554-123"><dt>**PAGE\_EXECUTE\_WRITECOPY**</dt> <dt>0x80</dt></span></span> </dl>        | <span data-ttu-id="71554-124">Разрешает выполнение, доступ только для чтения или копирование при записи в сопоставленное представление объекта сопоставления файлов.</span><span class="sxs-lookup"><span data-stu-id="71554-124">Enables execute, read-only, or copy-on-write access to a mapped view of a file mapping object.</span></span> <span data-ttu-id="71554-125">Попытка записи в зафиксированную страницу копирования при записи приводит к получению закрытой копии страницы, выполняемой для процесса.</span><span class="sxs-lookup"><span data-stu-id="71554-125">An attempt to write to a committed copy-on-write page results in a private copy of the page being made for the process.</span></span> <span data-ttu-id="71554-126">Частная страница помечается как **Страница \_ Execute \_ ReadWrite**, а изменение записывается на новую страницу.</span><span class="sxs-lookup"><span data-stu-id="71554-126">The private page is marked as **PAGE\_EXECUTE\_READWRITE**, and the change is written to the new page.</span></span><br/> <span data-ttu-id="71554-127">Этот флаг не поддерживается функциями [**VirtualAlloc**](/windows/win32/api/memoryapi/nf-memoryapi-virtualalloc) или [**виртуалаллоцекс**](/windows/win32/api/memoryapi/nf-memoryapi-virtualallocex) .</span><span class="sxs-lookup"><span data-stu-id="71554-127">This flag is not supported by the [**VirtualAlloc**](/windows/win32/api/memoryapi/nf-memoryapi-virtualalloc) or [**VirtualAllocEx**](/windows/win32/api/memoryapi/nf-memoryapi-virtualallocex) functions.</span></span> <span data-ttu-id="71554-128">Windows **Vista, Windows Server 2003 и Windows XP:** Этот атрибут не поддерживается функцией [**CreateFileMapping**](/windows/desktop/api/WinBase/nf-winbase-createfilemappinga) до Windows Vista с пакетом обновления 1 (SP1) и windows Server 2008.</span><span class="sxs-lookup"><span data-stu-id="71554-128">**Windows Vista, Windows Server 2003 and Windows XP:** This attribute is not supported by the [**CreateFileMapping**](/windows/desktop/api/WinBase/nf-winbase-createfilemappinga) function until Windows Vista with SP1 and Windows Server 2008.</span></span><br/> <br/> |
| <span id="PAGE_NOACCESS"></span><span id="page_noaccess"></span><dl> <span data-ttu-id="71554-129"><dt>**Страница \_ Недоступно**</dt> <dt>0x01</dt></span><span class="sxs-lookup"><span data-stu-id="71554-129"><dt>**PAGE\_NOACCESS**</dt> <dt>0x01</dt></span></span> </dl>                                    | <span data-ttu-id="71554-130">Отключает доступ к зафиксированной области страниц.</span><span class="sxs-lookup"><span data-stu-id="71554-130">Disables all access to the committed region of pages.</span></span> <span data-ttu-id="71554-131">Попытка чтения, записи или выполнения зафиксированной области приводит к нарушению прав доступа.</span><span class="sxs-lookup"><span data-stu-id="71554-131">An attempt to read from, write to, or execute the committed region results in an access violation.</span></span><br/> <span data-ttu-id="71554-132">Этот флаг не поддерживается функцией [**CreateFileMapping**](/windows/desktop/api/WinBase/nf-winbase-createfilemappinga) .</span><span class="sxs-lookup"><span data-stu-id="71554-132">This flag is not supported by the [**CreateFileMapping**](/windows/desktop/api/WinBase/nf-winbase-createfilemappinga) function.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| <span id="PAGE_READONLY"></span><span id="page_readonly"></span><dl> <span data-ttu-id="71554-133"><dt>**Страница \_ ТОЛЬКО для чтения**</dt> <dt>0x02</dt></span><span class="sxs-lookup"><span data-stu-id="71554-133"><dt>**PAGE\_READONLY**</dt> <dt>0x02</dt></span></span> </dl>                                    | <span data-ttu-id="71554-134">Разрешает доступ только для чтения к зафиксированной области страниц.</span><span class="sxs-lookup"><span data-stu-id="71554-134">Enables read-only access to the committed region of pages.</span></span> <span data-ttu-id="71554-135">Попытка записи в зафиксированную область приводит к нарушению прав доступа.</span><span class="sxs-lookup"><span data-stu-id="71554-135">An attempt to write to the committed region results in an access violation.</span></span> <span data-ttu-id="71554-136">Если включено [предотвращение выполнения данных](data-execution-prevention.md) , попытка выполнить код в зафиксированной области приведет к нарушению прав доступа.</span><span class="sxs-lookup"><span data-stu-id="71554-136">If [Data Execution Prevention](data-execution-prevention.md) is enabled, an attempt to execute code in the committed region results in an access violation.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                            |
| <span id="PAGE_READWRITE"></span><span id="page_readwrite"></span><dl> <span data-ttu-id="71554-137"><dt>**Страница \_**</dt> <dt>0x04</dt> ReadWrite</span><span class="sxs-lookup"><span data-stu-id="71554-137"><dt>**PAGE\_READWRITE**</dt> <dt>0x04</dt></span></span> </dl>                                 | <span data-ttu-id="71554-138">Включает доступ только для чтения или чтение и запись для зафиксированной области страниц.</span><span class="sxs-lookup"><span data-stu-id="71554-138">Enables read-only or read/write access to the committed region of pages.</span></span> <span data-ttu-id="71554-139">Если включено [предотвращение выполнения данных](data-execution-prevention.md) , попытка выполнить код в зафиксированной области приведет к нарушению прав доступа.</span><span class="sxs-lookup"><span data-stu-id="71554-139">If [Data Execution Prevention](data-execution-prevention.md) is enabled, attempting to execute code in the committed region results in an access violation.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| <span id="PAGE_WRITECOPY"></span><span id="page_writecopy"></span><dl> <span data-ttu-id="71554-140"><dt>**Страница \_ ВРИТЕКОПИ**</dt> <dt>0x08</dt></span><span class="sxs-lookup"><span data-stu-id="71554-140"><dt>**PAGE\_WRITECOPY**</dt> <dt>0x08</dt></span></span> </dl>                                 | <span data-ttu-id="71554-141">Разрешает доступ только для чтения или копирование при записи в сопоставленное представление объекта сопоставления файлов.</span><span class="sxs-lookup"><span data-stu-id="71554-141">Enables read-only or copy-on-write access to a mapped view of a file mapping object.</span></span> <span data-ttu-id="71554-142">Попытка записи в зафиксированную страницу копирования при записи приводит к получению закрытой копии страницы, выполняемой для процесса.</span><span class="sxs-lookup"><span data-stu-id="71554-142">An attempt to write to a committed copy-on-write page results in a private copy of the page being made for the process.</span></span> <span data-ttu-id="71554-143">Частная страница помечается как **\_ ReadWrite** с добавлением в страницу, а изменение записывается на новую страницу.</span><span class="sxs-lookup"><span data-stu-id="71554-143">The private page is marked as **PAGE\_READWRITE**, and the change is written to the new page.</span></span> <span data-ttu-id="71554-144">Если включено [предотвращение выполнения данных](data-execution-prevention.md) , попытка выполнить код в зафиксированной области приведет к нарушению прав доступа.</span><span class="sxs-lookup"><span data-stu-id="71554-144">If [Data Execution Prevention](data-execution-prevention.md) is enabled, attempting to execute code in the committed region results in an access violation.</span></span><br/> <span data-ttu-id="71554-145">Этот флаг не поддерживается функциями [**VirtualAlloc**](/windows/win32/api/memoryapi/nf-memoryapi-virtualalloc) или [**виртуалаллоцекс**](/windows/win32/api/memoryapi/nf-memoryapi-virtualallocex) .</span><span class="sxs-lookup"><span data-stu-id="71554-145">This flag is not supported by the [**VirtualAlloc**](/windows/win32/api/memoryapi/nf-memoryapi-virtualalloc) or [**VirtualAllocEx**](/windows/win32/api/memoryapi/nf-memoryapi-virtualallocex) functions.</span></span><br/>                                                                               |
| <span id="PAGE_TARGETS_INVALID"></span><span id="page_targets_invalid"></span><dl> <span data-ttu-id="71554-146"><dt>**Страница \_ ЦЕЛЕВые объекты \_ недопустимы**</dt> <dt>0x40000000</dt></span><span class="sxs-lookup"><span data-stu-id="71554-146"><dt>**PAGE\_TARGETS\_INVALID**</dt> <dt>0x40000000</dt></span></span> </dl>        | <span data-ttu-id="71554-147">Задает все расположения на страницах в качестве недопустимых целевых объектов для CFG.</span><span class="sxs-lookup"><span data-stu-id="71554-147">Sets all locations in the pages as invalid targets for CFG.</span></span> <span data-ttu-id="71554-148">Используется вместе с любой защитой выполнения страницы, такой как **\_ выполнение страницы**, **\_ \_ чтение страницы**, выполнение **страницы \_ \_** и выполнение **\_ \_ вритекопи**.</span><span class="sxs-lookup"><span data-stu-id="71554-148">Used along with any execute page protection like **PAGE\_EXECUTE**, **PAGE\_EXECUTE\_READ**, **PAGE\_EXECUTE\_READWRITE** and **PAGE\_EXECUTE\_WRITECOPY**.</span></span> <span data-ttu-id="71554-149">Любой непрямой вызов мест на этих страницах приведет к сбою проверки CFG, и процесс будет завершен.</span><span class="sxs-lookup"><span data-stu-id="71554-149">Any indirect call to locations in those pages will fail CFG checks and the process will be terminated.</span></span> <span data-ttu-id="71554-150">По умолчанию выделенные исполняемые страницы должны быть помечены как допустимые цели вызова для CFG.</span><span class="sxs-lookup"><span data-stu-id="71554-150">The default behavior for executable pages allocated is to be marked valid call targets for CFG.</span></span><br/> <span data-ttu-id="71554-151">Этот флаг не поддерживается функциями [**VirtualProtect**](/windows/win32/api/memoryapi/nf-memoryapi-virtualprotect) и [**CreateFileMapping**](/windows/desktop/api/WinBase/nf-winbase-createfilemappinga) .</span><span class="sxs-lookup"><span data-stu-id="71554-151">This flag is not supported by the [**VirtualProtect**](/windows/win32/api/memoryapi/nf-memoryapi-virtualprotect) or [**CreateFileMapping**](/windows/desktop/api/WinBase/nf-winbase-createfilemappinga) functions.</span></span><br/>                                                                                                              |
| <span id="PAGE_TARGETS_NO_UPDATE"></span><span id="page_targets_no_update"></span><dl> <span data-ttu-id="71554-152"><dt>**Страница \_ ЦЕЛЕВые объекты \_ без \_ обновления**</dt> <dt>0x40000000</dt></span><span class="sxs-lookup"><span data-stu-id="71554-152"><dt>**PAGE\_TARGETS\_NO\_UPDATE**</dt> <dt>0x40000000</dt></span></span> </dl> | <span data-ttu-id="71554-153">При изменении защиты для [**VirtualProtect**](/windows/win32/api/memoryapi/nf-memoryapi-virtualprotect)страницы в регионе не будут обновлять сведения о cfg.</span><span class="sxs-lookup"><span data-stu-id="71554-153">Pages in the region will not have their CFG information updated while the protection changes for [**VirtualProtect**](/windows/win32/api/memoryapi/nf-memoryapi-virtualprotect).</span></span> <span data-ttu-id="71554-154">Например, если страницы в регионе были выделены с помощью **\_ \_ недопустимых целей страницы**, то при изменении защиты страницы будут поддерживаться недопустимые данные.</span><span class="sxs-lookup"><span data-stu-id="71554-154">For example, if the pages in the region was allocated using **PAGE\_TARGETS\_INVALID**, then the invalid information will be maintained while the page protection changes.</span></span> <span data-ttu-id="71554-155">Этот флаг допустим только в том случае, если защита изменяется на тип исполняемого файла, например **\_ выполнение страницы**, **\_ \_ чтение страницы выполнение**, **Страница \_ выполнение \_ ReadWrite** и **Страница \_ Execute \_ вритекопи**.</span><span class="sxs-lookup"><span data-stu-id="71554-155">This flag is only valid when the protection changes to an executable type like **PAGE\_EXECUTE**, **PAGE\_EXECUTE\_READ**, **PAGE\_EXECUTE\_READWRITE** and **PAGE\_EXECUTE\_WRITECOPY**.</span></span> <span data-ttu-id="71554-156">Поведение по умолчанию для **VirtualProtect** защиты от изменения до исполняемого файла заключается в пометке всех расположений как допустимых целевых объектов вызова для cfg.</span><span class="sxs-lookup"><span data-stu-id="71554-156">The default behavior for **VirtualProtect** protection change to executable is to mark all locations as valid call targets for CFG.</span></span> <br/>                                           |



<span data-ttu-id="71554-157">Ниже приведены модификаторы, которые можно использовать в дополнение к параметрам, приведенным в предыдущей таблице, за исключением указанных.</span><span class="sxs-lookup"><span data-stu-id="71554-157">The following are modifiers that can be used in addition to the options provided in the previous table, except as noted.</span></span>



| <span data-ttu-id="71554-158">Константа/значение</span><span class="sxs-lookup"><span data-stu-id="71554-158">Constant/value</span></span>                                                                                                                                                                                                                       | <span data-ttu-id="71554-159">Описание</span><span class="sxs-lookup"><span data-stu-id="71554-159">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
|:-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span id="PAGE_GUARD"></span><span id="page_guard"></span><dl> <span data-ttu-id="71554-160"><dt>**Страница \_ ПРЕДОХРАНИТЕЛЬ**</dt> <dt>0x100</dt></span><span class="sxs-lookup"><span data-stu-id="71554-160"><dt>**PAGE\_GUARD**</dt> <dt>0x100</dt></span></span> </dl>                      | <span data-ttu-id="71554-161">Страницы в регионе становятся защищенными страницами.</span><span class="sxs-lookup"><span data-stu-id="71554-161">Pages in the region become guard pages.</span></span> <span data-ttu-id="71554-162">Любая попытка доступа к странице защиты приводит к тому, что система вызывает исключение **\_ \_ \_ нарушения страницы состояния** и отключает состояние страницы защиты.</span><span class="sxs-lookup"><span data-stu-id="71554-162">Any attempt to access a guard page causes the system to raise a **STATUS\_GUARD\_PAGE\_VIOLATION** exception and turn off the guard page status.</span></span> <span data-ttu-id="71554-163">Таким образом, страницы защиты действуют как однократный сигнал доступа.</span><span class="sxs-lookup"><span data-stu-id="71554-163">Guard pages thus act as a one-time access alarm.</span></span> <span data-ttu-id="71554-164">Дополнительные сведения см. в разделе [Creating Guard Pages](creating-guard-pages.md).</span><span class="sxs-lookup"><span data-stu-id="71554-164">For more information, see [Creating Guard Pages](creating-guard-pages.md).</span></span><br/> <span data-ttu-id="71554-165">Если попытка доступа приводит к отключению состояния страницы защиты, то защита базовой страницы продолжается.</span><span class="sxs-lookup"><span data-stu-id="71554-165">When an access attempt leads the system to turn off guard page status, the underlying page protection takes over.</span></span><br/> <span data-ttu-id="71554-166">Если исключение страницы защиты возникает во время системной службы, служба обычно возвращает индикатор состояния сбоя.</span><span class="sxs-lookup"><span data-stu-id="71554-166">If a guard page exception occurs during a system service, the service typically returns a failure status indicator.</span></span><br/> <span data-ttu-id="71554-167">Это значение нельзя использовать с **\_ недоступностью страницы**.</span><span class="sxs-lookup"><span data-stu-id="71554-167">This value cannot be used with **PAGE\_NOACCESS**.</span></span><br/> <span data-ttu-id="71554-168">Этот флаг не поддерживается функцией [**CreateFileMapping**](/windows/desktop/api/WinBase/nf-winbase-createfilemappinga) .</span><span class="sxs-lookup"><span data-stu-id="71554-168">This flag is not supported by the [**CreateFileMapping**](/windows/desktop/api/WinBase/nf-winbase-createfilemappinga) function.</span></span><br/>                                                                                                                                                                                                                              |
| <span id="PAGE_NOCACHE"></span><span id="page_nocache"></span><dl> <span data-ttu-id="71554-169"><dt>**Страница \_**</dt> <dt>0X200</dt> с кэшем</span><span class="sxs-lookup"><span data-stu-id="71554-169"><dt>**PAGE\_NOCACHE**</dt> <dt>0x200</dt></span></span> </dl>                | <span data-ttu-id="71554-170">Задает все страницы, не являющиеся кэшируемые.</span><span class="sxs-lookup"><span data-stu-id="71554-170">Sets all pages to be non-cachable.</span></span> <span data-ttu-id="71554-171">Приложения не должны использовать этот атрибут, за исключением случаев, когда явно требуется для устройства.</span><span class="sxs-lookup"><span data-stu-id="71554-171">Applications should not use this attribute except when explicitly required for a device.</span></span> <span data-ttu-id="71554-172">Использование блокируемых функций с памятью, сопоставленной с **\_ кэшем sec** , может привести к **исключению \_ недопустимых \_ инструкций** .</span><span class="sxs-lookup"><span data-stu-id="71554-172">Using the interlocked functions with memory that is mapped with **SEC\_NOCACHE** can result in an **EXCEPTION\_ILLEGAL\_INSTRUCTION** exception.</span></span><br/> <span data-ttu-id="71554-173">Флаг **\_ некэширования страницы** не может использоваться со флагами **Page \_ Guard**, **\_ unaccess** или Page **\_ вритекомбине** .</span><span class="sxs-lookup"><span data-stu-id="71554-173">The **PAGE\_NOCACHE** flag cannot be used with the **PAGE\_GUARD**, **PAGE\_NOACCESS**, or **PAGE\_WRITECOMBINE** flags.</span></span><br/> <span data-ttu-id="71554-174">Флаг **\_ кэширования страницы** можно использовать только при выделении частной памяти с помощью функций [**VirtualAlloc**](/windows/win32/api/memoryapi/nf-memoryapi-virtualalloc), [**виртуалаллоцекс**](/windows/win32/api/memoryapi/nf-memoryapi-virtualallocex)или [**виртуалаллоцекснума**](/windows/win32/api/memoryapi/nf-memoryapi-virtualallocexnuma) .</span><span class="sxs-lookup"><span data-stu-id="71554-174">The **PAGE\_NOCACHE** flag can be used only when allocating private memory with the [**VirtualAlloc**](/windows/win32/api/memoryapi/nf-memoryapi-virtualalloc), [**VirtualAllocEx**](/windows/win32/api/memoryapi/nf-memoryapi-virtualallocex), or [**VirtualAllocExNuma**](/windows/win32/api/memoryapi/nf-memoryapi-virtualallocexnuma) functions.</span></span> <span data-ttu-id="71554-175">Чтобы включить доступ к некэшированной памяти для общей памяти, укажите **флаг \_ SEC в секунду** при вызове функции [**CreateFileMapping**](/windows/desktop/api/WinBase/nf-winbase-createfilemappinga) .</span><span class="sxs-lookup"><span data-stu-id="71554-175">To enable non-cached memory access for shared memory, specify the **SEC\_NOCACHE** flag when calling the [**CreateFileMapping**](/windows/desktop/api/WinBase/nf-winbase-createfilemappinga) function.</span></span><br/>                                                                                                                                                   |
| <span id="PAGE_WRITECOMBINE"></span><span id="page_writecombine"></span><dl> <span data-ttu-id="71554-176"><dt>**Страница \_ ВРИТЕКОМБИНЕ**</dt> <dt>0x400</dt></span><span class="sxs-lookup"><span data-stu-id="71554-176"><dt>**PAGE\_WRITECOMBINE**</dt> <dt>0x400</dt></span></span> </dl> | <span data-ttu-id="71554-177">Задает совместную запись всех страниц.</span><span class="sxs-lookup"><span data-stu-id="71554-177">Sets all pages to be write-combined.</span></span> <br/> <span data-ttu-id="71554-178">Приложения не должны использовать этот атрибут, за исключением случаев, когда явно требуется для устройства.</span><span class="sxs-lookup"><span data-stu-id="71554-178">Applications should not use this attribute except when explicitly required for a device.</span></span> <span data-ttu-id="71554-179">Использование блокируемых функций с памятью, сопоставленной как Объединенная запись, может привести к **исключению \_ недопустимых \_ инструкций** .</span><span class="sxs-lookup"><span data-stu-id="71554-179">Using the interlocked functions with memory that is mapped as write-combined can result in an **EXCEPTION\_ILLEGAL\_INSTRUCTION** exception.</span></span> <br/> <span data-ttu-id="71554-180">Флаг **\_ вритекомбинеа страницы** не может быть указан с ФЛАГами **\_ недоступности страницы**, Application **\_ Guard** и **\_ кэша страницы** .</span><span class="sxs-lookup"><span data-stu-id="71554-180">The **PAGE\_WRITECOMBINE** flag cannot be specified with the **PAGE\_NOACCESS**, **PAGE\_GUARD**, and **PAGE\_NOCACHE** flags.</span></span> <br/> <span data-ttu-id="71554-181">Флаг **Page \_ вритекомбине** можно использовать только при выделении частной памяти с помощью функций [**VirtualAlloc**](/windows/win32/api/memoryapi/nf-memoryapi-virtualalloc), [**виртуалаллоцекс**](/windows/win32/api/memoryapi/nf-memoryapi-virtualallocex)или [**виртуалаллоцекснума**](/windows/win32/api/memoryapi/nf-memoryapi-virtualallocexnuma) .</span><span class="sxs-lookup"><span data-stu-id="71554-181">The **PAGE\_WRITECOMBINE** flag can be used only when allocating private memory with the [**VirtualAlloc**](/windows/win32/api/memoryapi/nf-memoryapi-virtualalloc), [**VirtualAllocEx**](/windows/win32/api/memoryapi/nf-memoryapi-virtualallocex), or [**VirtualAllocExNuma**](/windows/win32/api/memoryapi/nf-memoryapi-virtualallocexnuma) functions.</span></span> <span data-ttu-id="71554-182">Чтобы включить совместное использование памяти для общей памяти, укажите флаг **\_ Вритекомбине в секунду** при вызове функции [**CreateFileMapping**](/windows/desktop/api/WinBase/nf-winbase-createfilemappinga) .</span><span class="sxs-lookup"><span data-stu-id="71554-182">To enable write-combined memory access for shared memory, specify the **SEC\_WRITECOMBINE** flag when calling the [**CreateFileMapping**](/windows/desktop/api/WinBase/nf-winbase-createfilemappinga) function.</span></span><br/> <span data-ttu-id="71554-183">**Windows Server 2003 и Windows XP:** Этот флаг не поддерживается до Windows Server 2003 с пакетом обновления 1 (SP1).</span><span class="sxs-lookup"><span data-stu-id="71554-183">**Windows Server 2003 and Windows XP:** This flag is not supported until Windows Server 2003 with SP1.</span></span><br/> |



<span data-ttu-id="71554-184">Следующие константы можно использовать с функцией [**лоаденклаведата**](/windows/desktop/api/enclaveapi/nf-enclaveapi-loadenclavedata) только при указании анклава с архитектурой Intel Software Guard Extensions (SGX).</span><span class="sxs-lookup"><span data-stu-id="71554-184">The following constants can only be used with the [**LoadEnclaveData**](/windows/desktop/api/enclaveapi/nf-enclaveapi-loadenclavedata) function when you specify an enclave that has the Intel Software Guard Extensions (SGX) architecture.</span></span>



| <span data-ttu-id="71554-185">Константа</span><span class="sxs-lookup"><span data-stu-id="71554-185">Constant</span></span>                                                                                                                                                                                                  | <span data-ttu-id="71554-186">Описание</span><span class="sxs-lookup"><span data-stu-id="71554-186">Description</span></span>                                                                                                                                 |
|:----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:--------------------------------------------------------------------------------------------------------------------------------------------|
| <span id="PAGE_ENCLAVE_THREAD_CONTROL"></span><span id="page_enclave_thread_control"></span><dl> <span data-ttu-id="71554-187"><dt>**\_ \_ элемент управления ПОТОКОМ анклава страницы \_**</dt></span><span class="sxs-lookup"><span data-stu-id="71554-187"><dt>**PAGE\_ENCLAVE\_THREAD\_CONTROL**</dt></span></span> </dl> | <span data-ttu-id="71554-188">Страница содержит структуру управления потоком (TCS).</span><span class="sxs-lookup"><span data-stu-id="71554-188">The page contains a thread control structure (TCS).</span></span><br/>                                                                              |
| <span id="PAGE_ENCLAVE_UNVALIDATED"></span><span id="page_enclave_unvalidated"></span><dl> <span data-ttu-id="71554-189"><dt>**Страница \_ анклава не \_ проверена**</dt></span><span class="sxs-lookup"><span data-stu-id="71554-189"><dt>**PAGE\_ENCLAVE\_UNVALIDATED**</dt></span></span> </dl>           | <span data-ttu-id="71554-190">Предоставляемое содержимое страницы исключается из измерения с помощью инструкции ИКСТЕНД модели программирования Intel SGX.</span><span class="sxs-lookup"><span data-stu-id="71554-190">The page contents that you supply are excluded from measurement with the EEXTEND instruction of the Intel SGX programming model.</span></span><br/> |



## <a name="requirements"></a><span data-ttu-id="71554-191">Требования</span><span class="sxs-lookup"><span data-stu-id="71554-191">Requirements</span></span>



| <span data-ttu-id="71554-192">Требование</span><span class="sxs-lookup"><span data-stu-id="71554-192">Requirement</span></span> | <span data-ttu-id="71554-193">Значение</span><span class="sxs-lookup"><span data-stu-id="71554-193">Value</span></span> |
|-------------------------------------|--------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="71554-194">Минимальная версия клиента</span><span class="sxs-lookup"><span data-stu-id="71554-194">Minimum supported client</span></span><br/> | <span data-ttu-id="71554-195">Только для \[ классических приложений Windows XP\]</span><span class="sxs-lookup"><span data-stu-id="71554-195">Windows XP \[desktop apps only\]</span></span><br/>                                                            |
| <span data-ttu-id="71554-196">Минимальная версия сервера</span><span class="sxs-lookup"><span data-stu-id="71554-196">Minimum supported server</span></span><br/> | <span data-ttu-id="71554-197">\[Только для настольных приложений Windows Server 2003\]</span><span class="sxs-lookup"><span data-stu-id="71554-197">Windows Server 2003 \[desktop apps only\]</span></span><br/>                                                   |
| <span data-ttu-id="71554-198">Header</span><span class="sxs-lookup"><span data-stu-id="71554-198">Header</span></span><br/>                   | <dl> <span data-ttu-id="71554-199"><dt>Файл WinNT. h (включая Windows. h)</dt></span><span class="sxs-lookup"><span data-stu-id="71554-199"><dt>WinNT.h (include Windows.h)</dt></span></span> </dl> |



## <a name="see-also"></a><span data-ttu-id="71554-200">См. также раздел</span><span class="sxs-lookup"><span data-stu-id="71554-200">See also</span></span>

<dl> <dt>

[<span data-ttu-id="71554-201">**CreateFileMapping**</span><span class="sxs-lookup"><span data-stu-id="71554-201">**CreateFileMapping**</span></span>](/windows/desktop/api/WinBase/nf-winbase-createfilemappinga)
</dt> <dt>

[<span data-ttu-id="71554-202">Защита памяти</span><span class="sxs-lookup"><span data-stu-id="71554-202">Memory Protection</span></span>](memory-protection.md)
</dt> <dt>

[<span data-ttu-id="71554-203">**VirtualAlloc**</span><span class="sxs-lookup"><span data-stu-id="71554-203">**VirtualAlloc**</span></span>](/windows/win32/api/memoryapi/nf-memoryapi-virtualalloc)
</dt> <dt>

[<span data-ttu-id="71554-204">**виртуалаллоцекс**</span><span class="sxs-lookup"><span data-stu-id="71554-204">**VirtualAllocEx**</span></span>](/windows/win32/api/memoryapi/nf-memoryapi-virtualallocex)
</dt> <dt>

[<span data-ttu-id="71554-205">**лоаденклаведата**</span><span class="sxs-lookup"><span data-stu-id="71554-205">**LoadEnclaveData**</span></span>](/windows/desktop/api/enclaveapi/nf-enclaveapi-loadenclavedata)
</dt> </dl>

 

 
