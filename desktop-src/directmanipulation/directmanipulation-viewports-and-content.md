---
description: При непосредственной манипуляции используются окна просмотра, содержимое и контакты для описания интерактивных элементов пользовательского интерфейса.
ms.assetid: 1564F6F2-844F-4392-9EB5-AA46059D514C
title: Окна просмотра и содержимое
ms.topic: article
ms.date: 02/03/2020
ms.openlocfilehash: 9cda367067ea860ce6a42a16e81d38393937276a
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/06/2021
ms.locfileid: "104563745"
---
# <a name="viewports-and-content"></a><span data-ttu-id="1f6cc-103">Окна просмотра и содержимое</span><span class="sxs-lookup"><span data-stu-id="1f6cc-103">Viewports and content</span></span>

<span data-ttu-id="1f6cc-104">При [непосредственной манипуляции](direct-manipulation-portal.md) используются *окна просмотра*, *содержимое* и *Контакты* для описания интерактивных элементов пользовательского интерфейса.</span><span class="sxs-lookup"><span data-stu-id="1f6cc-104">[Direct Manipulation](direct-manipulation-portal.md) uses *viewports*, *contents* and *contacts* to describe the interactive elements of the UI.</span></span>

- [<span data-ttu-id="1f6cc-105">Настройка окна просмотра</span><span class="sxs-lookup"><span data-stu-id="1f6cc-105">Configuring a viewport</span></span>](#configuring-a-viewport)
- [<span data-ttu-id="1f6cc-106">Точки привязки и границы</span><span class="sxs-lookup"><span data-stu-id="1f6cc-106">Snap points and boundaries</span></span>](#snap-points-and-boundaries)
- [<span data-ttu-id="1f6cc-107">Сценарии смещения точек привязки и RTL</span><span class="sxs-lookup"><span data-stu-id="1f6cc-107">Snap point offset and RTL scenarios</span></span>](#snap-point-offset-and-rtl-scenarios)
- [<span data-ttu-id="1f6cc-108">Расширения функциональности</span><span class="sxs-lookup"><span data-stu-id="1f6cc-108">Behaviors</span></span>](#behaviors)
- [<span data-ttu-id="1f6cc-109">Система координат</span><span class="sxs-lookup"><span data-stu-id="1f6cc-109">Coordinate system</span></span>](#coordinate-system)
- [<span data-ttu-id="1f6cc-110">Преобразования</span><span class="sxs-lookup"><span data-stu-id="1f6cc-110">Transforms</span></span>](#transforms)
- [<span data-ttu-id="1f6cc-111">Состояние окна просмотра</span><span class="sxs-lookup"><span data-stu-id="1f6cc-111">Viewport state</span></span>](#viewport-state)
- [<span data-ttu-id="1f6cc-112">См. также</span><span class="sxs-lookup"><span data-stu-id="1f6cc-112">Related topics</span></span>](#related-topics)

<span data-ttu-id="1f6cc-113">Окно *просмотра* — это область внутри окна, которая может принимать и обрабатывать ввод данных при взаимодействии с пользователем.</span><span class="sxs-lookup"><span data-stu-id="1f6cc-113">A *viewport* is a region within a window that can receive and process input from user interactions.</span></span> <span data-ttu-id="1f6cc-114">Окно просмотра представляет область содержимого, которая может быть видна конечному пользователю в определенное время (также называемую клипом содержимого).</span><span class="sxs-lookup"><span data-stu-id="1f6cc-114">The viewport represents the region of the content that can be seen by the end-user at a given time (also called the content clip).</span></span> <span data-ttu-id="1f6cc-115">Окно просмотра имеет несколько функций:</span><span class="sxs-lookup"><span data-stu-id="1f6cc-115">The viewport has several functions:</span></span>

- <span data-ttu-id="1f6cc-116">Он управляет состоянием взаимодействия (например, когда содержимое готово к управлению, когда содержимое находится в процессе обработки, когда содержимое находится в анимации инерции) и сопоставляет входные преобразования с выходными преобразованиями.</span><span class="sxs-lookup"><span data-stu-id="1f6cc-116">It manages the interaction state (for example, when the content is ready to be manipulated, when content is undergoing manipulation, when content is in inertia animation) and maps input to output transforms.</span></span>
- <span data-ttu-id="1f6cc-117">Он содержит содержимое, которое перемещается в ответ на взаимодействие с пользователем.</span><span class="sxs-lookup"><span data-stu-id="1f6cc-117">It contains content that moves in response to the user interaction.</span></span> <span data-ttu-id="1f6cc-118">Это может быть элемент HTML div (прокрутка), список с поддержкой панорамы (начальный экран Windows 8) или всплывающее меню для элемента управления Select.</span><span class="sxs-lookup"><span data-stu-id="1f6cc-118">This might be an HTML div element (scrolling), a pan-able list (the Windows 8 Start screen), or the pop-up menu for a select control.</span></span>

<span data-ttu-id="1f6cc-119">Окно просмотра создается путем вызова [**креатевиевпорт**](/windows/win32/api/DirectManipulation/nf-directmanipulation-idirectmanipulationmanager-createviewport).</span><span class="sxs-lookup"><span data-stu-id="1f6cc-119">A viewport is created by calling [**CreateViewport**](/windows/win32/api/DirectManipulation/nf-directmanipulation-idirectmanipulationmanager-createviewport).</span></span> <span data-ttu-id="1f6cc-120">В одном окне можно создать несколько окон просмотра для создания разнообразных ИНТЕРФЕЙСов.</span><span class="sxs-lookup"><span data-stu-id="1f6cc-120">Multiple viewports can be created in a single window to produce a rich UI experience.</span></span>

<span data-ttu-id="1f6cc-121">*Содержимое* представляет элемент, который преобразуется в ответ на взаимодействие.</span><span class="sxs-lookup"><span data-stu-id="1f6cc-121">*Content* represents the element that gets transformed in response to an interaction.</span></span> <span data-ttu-id="1f6cc-122">Иными словами, содержимое перемещается или масштабируется по мере движения пользователем или сжатия.</span><span class="sxs-lookup"><span data-stu-id="1f6cc-122">In other words, the content is what moves or scales as the user pans or pinches.</span></span> <span data-ttu-id="1f6cc-123">Существует два типа содержимого:</span><span class="sxs-lookup"><span data-stu-id="1f6cc-123">There are two types of content:</span></span>

- <span data-ttu-id="1f6cc-124">*Первичное содержимое* — это единственный встроенный элемент в окне просмотра, реагирующий на входные манипуляции и инерцию.</span><span class="sxs-lookup"><span data-stu-id="1f6cc-124">*Primary content* is the single, intrinsic element within a viewport that responds to input manipulations and inertia.</span></span> <span data-ttu-id="1f6cc-125">Основное содержимое создается одновременно с окном просмотра и не может быть добавлено или удалено из окна просмотра.</span><span class="sxs-lookup"><span data-stu-id="1f6cc-125">Primary content is created at the same time as the viewport and cannot be added or removed from a viewport.</span></span> <span data-ttu-id="1f6cc-126">Поведение основного содержимого можно настроить с помощью точек привязки (рассматривается позже).</span><span class="sxs-lookup"><span data-stu-id="1f6cc-126">You can customize behavior of primary content using snap points (discussed later).</span></span>
- <span data-ttu-id="1f6cc-127">*Вторичное содержимое* перемещается относительно движения основного содержимого.</span><span class="sxs-lookup"><span data-stu-id="1f6cc-127">*Secondary content* moves relative to the motion of primary content.</span></span> <span data-ttu-id="1f6cc-128">Дополнительное содержимое создается отдельно от окна просмотра и может быть добавлено или удалено из окна просмотра.</span><span class="sxs-lookup"><span data-stu-id="1f6cc-128">Secondary content is created separately from the viewport and can be added or removed from a viewport.</span></span> <span data-ttu-id="1f6cc-129">Все вторичные преобразования содержимого рассчитываются на основе преобразования основного содержимого.</span><span class="sxs-lookup"><span data-stu-id="1f6cc-129">All secondary content transforms are calculated based on the primary content’s transform.</span></span> <span data-ttu-id="1f6cc-130">Для изменения способа вычисления преобразования на основе назначения элемента, идентифицируемого его идентификатором CLSID во время создания, можно применить определенные правила.</span><span class="sxs-lookup"><span data-stu-id="1f6cc-130">Specific rules can be applied to change how the transform is calculated based on the intended purpose of the element, identified by its CLSID during creation.</span></span>

<span data-ttu-id="1f6cc-131">На схеме, показанной до и после панорамы, для сдвига основного содержимого использовался один контакт.</span><span class="sxs-lookup"><span data-stu-id="1f6cc-131">In this diagram showing before and after a pan, a single contact has been used to pan primary content.</span></span> <span data-ttu-id="1f6cc-132">Несмотря на то, что пользователь не взаимодействует с индикатором панорамирования (дополнительное содержимое), вторичное содержимое перемещается, как основное содержимое — сдвигаемых.</span><span class="sxs-lookup"><span data-stu-id="1f6cc-132">Even though the user isn't directly interacting with the panning indicator (secondary content), the secondary content moves as the primary content is panned.</span></span> <span data-ttu-id="1f6cc-133">Это обеспечивает визуальные подсказки о том, как у пользователя есть сдвигаемых.</span><span class="sxs-lookup"><span data-stu-id="1f6cc-133">This provides visual cues for how far the user has panned.</span></span>

![Диаграмма, показывающая до и после сдвига](images/dm-art-2.png)

## <a name="configuring-a-viewport"></a><span data-ttu-id="1f6cc-135">Настройка окна просмотра</span><span class="sxs-lookup"><span data-stu-id="1f6cc-135">Configuring a viewport</span></span>

<span data-ttu-id="1f6cc-136">После создания окна просмотра.</span><span class="sxs-lookup"><span data-stu-id="1f6cc-136">After you've created the viewport.</span></span> <span data-ttu-id="1f6cc-137">Настройте его поведение с помощью *конфигурации взаимодействия*.</span><span class="sxs-lookup"><span data-stu-id="1f6cc-137">configure its behavior using an *interaction configuration*.</span></span> <span data-ttu-id="1f6cc-138">Конфигурация взаимодействия определяет, какие манипуляции, такие как панорамирование, поддерживаются.</span><span class="sxs-lookup"><span data-stu-id="1f6cc-138">The interaction configuration specifies which manipulations, like panning, are supported.</span></span>

<span data-ttu-id="1f6cc-139">*Панорамирование* изменяет расположение содержимого на горизонтальной или вертикальной оси или в обоих случаях как пользовательское панорамирование.</span><span class="sxs-lookup"><span data-stu-id="1f6cc-139">*Panning* changes the position of the content along either the horizontal or vertical axis or both as a user pans.</span></span> <span data-ttu-id="1f6cc-140">При настройке перевода по обеим осям содержимое перемещается в любом направлении.</span><span class="sxs-lookup"><span data-stu-id="1f6cc-140">When you configure translation on both axes, the content moves freely in any direction.</span></span>

<span data-ttu-id="1f6cc-141">Чтобы ограничить движение содержимого, настройте *границы* как обычно на горизонтальной, так и вертикальной оси.</span><span class="sxs-lookup"><span data-stu-id="1f6cc-141">To constrain the motion of content, configure *rails*, typically on both the horizontal and vertical axis.</span></span> <span data-ttu-id="1f6cc-142">Если взаимодействие с пользователем выполняется преимущественно на одной оси (представленной синими регионами на следующей схеме), Pan становится перемещаемым и содержимое перемещается только по *оси с* границей.</span><span class="sxs-lookup"><span data-stu-id="1f6cc-142">If a user’s interaction is primarily along a single axis (represented by the blue regions in the next diagram), the pan becomes *railed* and the content only moves along the railed axis.</span></span> <span data-ttu-id="1f6cc-143">Если у пользователя есть сдвигаемых, и в настоящее время он работает и выполняет вторую операцию сдвига, а содержимое находится в инерции, новое панорамирование по-новому остается под границей.</span><span class="sxs-lookup"><span data-stu-id="1f6cc-143">If the user has panned and is currently railed and performs a second pan while the content is in inertia, the new pan continues to be railed.</span></span>

![Схема, показывающая содержимое в окне просмотра в области с заданной границей](images/dm-art-3.png)

<span data-ttu-id="1f6cc-145">Пример. окно просмотра настроено для горизонтального и вертикального панорамирования.</span><span class="sxs-lookup"><span data-stu-id="1f6cc-145">Example: A viewport is configured for horizontal and vertical panning.</span></span> <span data-ttu-id="1f6cc-146">В первом кадре контакт переходит в недоступное окно.</span><span class="sxs-lookup"><span data-stu-id="1f6cc-146">In the first frame, the contact comes down.</span></span> <span data-ttu-id="1f6cc-147">Во втором инициируется вертикальное панорамирование, и контакт блокируется по вертикальной границе.</span><span class="sxs-lookup"><span data-stu-id="1f6cc-147">In the second, a vertical pan is initiated and the contact is locked to the vertical rail.</span></span> <span data-ttu-id="1f6cc-148">Наконец, после того, как панорамный сдвиг установлен, для перемещения содержимого используется только вертикальный компонент в диагональном панораме.</span><span class="sxs-lookup"><span data-stu-id="1f6cc-148">Finally, once the pan is railed, only the vertical component of a diagonal pan is used to move the content.</span></span>

<span data-ttu-id="1f6cc-149">Если пользователь пройдет по диагонали так, чтобы они не находятся в регионах обнаружения салазок (белые регионы), Pan не *помещается, а содержимое* будет свободно перемещаться по обеим осям.</span><span class="sxs-lookup"><span data-stu-id="1f6cc-149">If the user pans diagonally in a way that they are not in the rails detection regions (the white regions), the pan is *unrailed* and the content will move freely in both axes.</span></span>

![Диаграмма, показывающая содержимое, перемещенное в неграницную панораму](images/dm-art-4.png)

<span data-ttu-id="1f6cc-151">При *масштабировании* изменяется коэффициент масштабирования содержимого по мере сжатия или растяжения пользователя.</span><span class="sxs-lookup"><span data-stu-id="1f6cc-151">*Zooming* changes the scale factor of the content as a user pinches or stretches.</span></span> <span data-ttu-id="1f6cc-152">Точка, вокруг которой масштабируется содержимое (называется центром масштабирования), находится в центре контактов.</span><span class="sxs-lookup"><span data-stu-id="1f6cc-152">The point around which the content is scaled (called the zoom center) is at the center of the contacts.</span></span> <span data-ttu-id="1f6cc-153">Если задать горизонтальное или вертикальное выравнивание, центр масштабирования изменится для сохранения выравнивания.</span><span class="sxs-lookup"><span data-stu-id="1f6cc-153">If you've set horizontal or vertical alignment, the zoom center changes to preserve alignment.</span></span>

![Диаграмма, показывающая масштаб содержимого с указанным выравниванием](images/dm-art-5.png)

<span data-ttu-id="1f6cc-155">Это поведение можно переопределить, указав центр Unlock, который задает центр масштабирования в центре контактов.</span><span class="sxs-lookup"><span data-stu-id="1f6cc-155">You can override this behavior by specifying unlock center, which sets the zoom center at the center of the contacts.</span></span>

![Схема, показывающая масштаб содержимого с разблокированным центром масштабирования](images/dm-art-6.png)

<span data-ttu-id="1f6cc-157">*Инерция* — это постепенное замедление манипуляции, сдвига и увеличение масштаба после того, как все контакты были удалены (в случае касания) или после ввода с клавиатуры или с помощью мыши (например, при щелчке полосы прокрутки или нажатии клавиш со стрелками).</span><span class="sxs-lookup"><span data-stu-id="1f6cc-157">*Inertia* is the gradual deceleration of a manipulation, both panning and zooming, after all contacts have been lifted (in the case of touch) or after keyboard/mouse input (such as clicking a scroll bar, or pressing the arrow keys).</span></span> <span data-ttu-id="1f6cc-158">Когда пользователь манипулирует содержимым, манипуляции не прекращаются немедленно после того, как контакт ликвидируется.</span><span class="sxs-lookup"><span data-stu-id="1f6cc-158">When a user manipulates the content, the manipulation does not immediately stop after the contact is lifted.</span></span> <span data-ttu-id="1f6cc-159">Вместо этого содержимое сохраняется в текущем направлении и скорости, постепенно замедлится до завершения.</span><span class="sxs-lookup"><span data-stu-id="1f6cc-159">Instead, the content continues in the current direction and velocity, slowing gradually to a stop.</span></span>

## <a name="snap-points-and-boundaries"></a><span data-ttu-id="1f6cc-160">Точки привязки и границы</span><span class="sxs-lookup"><span data-stu-id="1f6cc-160">Snap points and boundaries</span></span>

<span data-ttu-id="1f6cc-161">Анимация инерции выполняется после завершения манипуляции в результате движения пальцем экрана (в случае касания) или в результате действий клавиатуры или мыши (например, клавиш со стрелками, перемещения страницы вверх/вниз, прокрутки колесика мыши и т. д.).</span><span class="sxs-lookup"><span data-stu-id="1f6cc-161">An inertia animation takes place after the manipulation ends as result of a finger being lifted off the screen (in the case of touch) or as a result of a keyboard/mouse action (such as arrow keys, page up/down, mouse wheel scrolling, etc).</span></span>

<span data-ttu-id="1f6cc-162">Анимация инерции определяется двумя фрагментами данных:</span><span class="sxs-lookup"><span data-stu-id="1f6cc-162">There are two pieces of information that define the inertia animation:</span></span>

- <span data-ttu-id="1f6cc-163">Точка RESTful анимации — конечная конечная позиция конкретного компонента преобразования.</span><span class="sxs-lookup"><span data-stu-id="1f6cc-163">The rest point of the animation – the final ending position of the particular transform component.</span></span>
- <span data-ttu-id="1f6cc-164">Длительность анимации, кривая, скорость — определяются типом точки RESTful.</span><span class="sxs-lookup"><span data-stu-id="1f6cc-164">The animation duration, curve, velocity – these are determined by the type of the rest point.</span></span>

<span data-ttu-id="1f6cc-165">На анимацию инерции влияют точки привязки и границы.</span><span class="sxs-lookup"><span data-stu-id="1f6cc-165">The inertia animation is affected by snap-points and boundaries.</span></span> <span data-ttu-id="1f6cc-166">Границы определяют максимальную и минимальную точки для содержимого.</span><span class="sxs-lookup"><span data-stu-id="1f6cc-166">Boundaries specify the maximum and minimum rest points for content.</span></span> <span data-ttu-id="1f6cc-167">Если содержимое достигает границы во время инерции, будет применена анимация границы.</span><span class="sxs-lookup"><span data-stu-id="1f6cc-167">If content reaches a boundary during inertia, a boundary animation will be applied.</span></span> <span data-ttu-id="1f6cc-168">Точки привязки определяются в основном содержимом, чтобы изменить точку RESTful и изменить саму кривую анимации инерции.</span><span class="sxs-lookup"><span data-stu-id="1f6cc-168">Snap points are defined on the primary content to modify the rest point and modify the inertia animation curve itself.</span></span>

<span data-ttu-id="1f6cc-169">Вы определяете точки привязки с помощью [**сетснапинтервал**](/windows/win32/api/DirectManipulation/nf-directmanipulation-idirectmanipulationprimarycontent-setsnapinterval) , когда содержимое регулярно заполняется или [**сетснаппоинтс**](/windows/win32/api/DirectManipulation/nf-directmanipulation-idirectmanipulationprimarycontent-setsnappoints) , когда содержимое неравномерно размещается в пространстве.</span><span class="sxs-lookup"><span data-stu-id="1f6cc-169">You define snap points with [**SetSnapInterval**](/windows/win32/api/DirectManipulation/nf-directmanipulation-idirectmanipulationprimarycontent-setsnapinterval) when the content is regularly spaced or with [**SetSnapPoints**](/windows/win32/api/DirectManipulation/nf-directmanipulation-idirectmanipulationprimarycontent-setsnappoints) when the content is unevenly spaced.</span></span> <span data-ttu-id="1f6cc-170">Ниже приведен пример точек привязки.</span><span class="sxs-lookup"><span data-stu-id="1f6cc-170">Here is an example of snap points:</span></span>

![Диаграмма, показывающая, как точки привязки, заданные в содержимом, влияют на панорамирование](images/dm-snappoint-states-3.png)

<span data-ttu-id="1f6cc-172">На схеме имеется часть содержимого с рядом блоков вложенного содержимого — новостных элементов в приложении или элементах типа "читатель" в виде сетки.</span><span class="sxs-lookup"><span data-stu-id="1f6cc-172">In the diagram, there is a piece of content with a series of sub-content blocks – news items in a news-reader type app or items in a Grid View.</span></span> <span data-ttu-id="1f6cc-173">Целью является привязка левого края элемента к левому краю окна просмотра после завершения инерции.</span><span class="sxs-lookup"><span data-stu-id="1f6cc-173">The intent is to snap an item’s left edge onto the viewport’s left edge after inertia has ended.</span></span>

<span data-ttu-id="1f6cc-174">Существует две группы типов точек привязки:</span><span class="sxs-lookup"><span data-stu-id="1f6cc-174">There are two groups of snap point types:</span></span>

- <span data-ttu-id="1f6cc-175">*Необязательный и* обязательный: необязательная точка привязки привязывает анимацию инерции только в том случае, если точка RESTful находится ближе к точке привязки.</span><span class="sxs-lookup"><span data-stu-id="1f6cc-175">*Optional vs. Mandatory*: An optional snap point snaps the inertia animation only if the inertia rest point is near the snap point.</span></span> <span data-ttu-id="1f6cc-176">Обязательная точка привязки всегда привязывает анимацию инерции к указанной точке привязки.</span><span class="sxs-lookup"><span data-stu-id="1f6cc-176">A mandatory snap point always snaps the inertia animation to a specified snap point.</span></span>
- <span data-ttu-id="1f6cc-177">*Сравнение одиночного и множественного*: с помощью нескольких типов точек привязки содержимое перемещается за последние несколько точек привязки, прежде чем переходить к остальной точке привязки ближе к естественной точке RESTful.</span><span class="sxs-lookup"><span data-stu-id="1f6cc-177">*Single vs. Multiple*: A multiple snap point type allows the content to move past many snap points before coming to a rest at a snap point close to its natural rest point.</span></span> <span data-ttu-id="1f6cc-178">Один тип точки привязки выбирает следующую ближайшую точку привязки в качестве точки остальной для анимации инерции.</span><span class="sxs-lookup"><span data-stu-id="1f6cc-178">A single snap point type chooses the next nearest snap point as the rest point for the inertia animation.</span></span>

<span data-ttu-id="1f6cc-179">На следующей схеме показано, как типы точек привязки изменяют положение анимации инерции в оставшейся части.</span><span class="sxs-lookup"><span data-stu-id="1f6cc-179">The next diagram demonstrates how snap point types modify the rest position of the inertia animation.</span></span>

![Диаграмма, показывающая взаимодействие инерции и точек привязки](images/dm-snappoint-states-1.png)

<span data-ttu-id="1f6cc-181">На этой диаграмме начальная точка инерции помечена как Start и естественная конечная позиция инерции в отсутствии точек привязки как End.</span><span class="sxs-lookup"><span data-stu-id="1f6cc-181">In this diagram, the inertia start point is labeled as ‘Start’ and the natural inertia end position in the absence of snap points as ‘End’.</span></span> <span data-ttu-id="1f6cc-182">Вертикальные линии помечают различные точки привязки.</span><span class="sxs-lookup"><span data-stu-id="1f6cc-182">The vertical lines mark the various snap points.</span></span> <span data-ttu-id="1f6cc-183">В этой таблице описывается, как каждый тип точки привязки влияет на конечное положение анимации.</span><span class="sxs-lookup"><span data-stu-id="1f6cc-183">This table describes how each type of snap point will affect the end position of the animation.</span></span>

| <span data-ttu-id="1f6cc-184">Тип точки</span><span class="sxs-lookup"><span data-stu-id="1f6cc-184">Point type</span></span>         | <span data-ttu-id="1f6cc-185">Описание</span><span class="sxs-lookup"><span data-stu-id="1f6cc-185">Description</span></span>                                                                                |
|--------------------|--------------------------------------------------------------------------------------------|
| <span data-ttu-id="1f6cc-186">Обязательное одно</span><span class="sxs-lookup"><span data-stu-id="1f6cc-186">Mandatory single</span></span>   | <span data-ttu-id="1f6cc-187">Выбрана точка привязки P1, так как это первая точка привязки в направлении инерции</span><span class="sxs-lookup"><span data-stu-id="1f6cc-187">Snap point P1 is chosen because it is the first snap point in the direction of inertia</span></span>     |
| <span data-ttu-id="1f6cc-188">Несколько обязательных</span><span class="sxs-lookup"><span data-stu-id="1f6cc-188">Mandatory multiple</span></span> | <span data-ttu-id="1f6cc-189">Выбрана точка привязки P2, так как она находится ближе к конечной точке в направлении инерции</span><span class="sxs-lookup"><span data-stu-id="1f6cc-189">Snap point P2 is chosen because it is closest to the end point in the direction of inertia</span></span> |
| <span data-ttu-id="1f6cc-190">Необязательное единственное</span><span class="sxs-lookup"><span data-stu-id="1f6cc-190">Optional single</span></span>    | <span data-ttu-id="1f6cc-191">Выбрана точка привязки P1, так как это первая точка привязки, обнаруженная во время инерции</span><span class="sxs-lookup"><span data-stu-id="1f6cc-191">Snap point P1 is chosen because it is the first snap point encountered during inertia</span></span>      |
| <span data-ttu-id="1f6cc-192">Несколько необязательных</span><span class="sxs-lookup"><span data-stu-id="1f6cc-192">Optional multiple</span></span>  | <span data-ttu-id="1f6cc-193">Выбрана точка привязки P2, так как находится ближе к естественной конечной точке</span><span class="sxs-lookup"><span data-stu-id="1f6cc-193">Snap point P2 is chosen because it is near the natural end point</span></span>                           |

## <a name="snap-point-offset-and-rtl-scenarios"></a><span data-ttu-id="1f6cc-194">Сценарии смещения точек привязки и RTL</span><span class="sxs-lookup"><span data-stu-id="1f6cc-194">Snap point offset and RTL scenarios</span></span>

![Схема, демонстрирующая использование точки привязки RTL](images/dm-snappoint-states-2.png)

<span data-ttu-id="1f6cc-196">Вы применяете смещение точки привязки и систему координат с помощью API [**сетснапкурдинате**](/windows/win32/api/DirectManipulation/nf-directmanipulation-idirectmanipulationprimarycontent-setsnapcoordinate) , который смещает все точки привязки или интервалы привязки с помощью заданной системы координат или координаты.</span><span class="sxs-lookup"><span data-stu-id="1f6cc-196">You apply the snap point offset and coordinate system using the [**SetSnapCoordinate**](/windows/win32/api/DirectManipulation/nf-directmanipulation-idirectmanipulationprimarycontent-setsnapcoordinate) API – which offsets all the snap points or snap-intervals using the specified offset/coordinate system.</span></span>

<span data-ttu-id="1f6cc-197">Система координат очень полезна в сценариях RTL, где необходимо описать точки привязки от левого края содержимого в обратном направлении.</span><span class="sxs-lookup"><span data-stu-id="1f6cc-197">The coordinate system is very useful in RTL scenarios, where you want to describe snap points from the left-edge of the content in the reverse direction.</span></span> <span data-ttu-id="1f6cc-198">На предыдущей схеме [**сетснапкурдинате**](/windows/win32/api/DirectManipulation/nf-directmanipulation-idirectmanipulationprimarycontent-setsnapcoordinate) используется с флагом **директманипулатион \_ Motion \_ TRANSLATEX** и **директманипулатион \_ координаты \_ отражения** , который автоматически смещает точки привязки от левого края содержимого и предоставляет их в порядке справа налево: S1 находится в 0px, S2 — в 50px (и т. д.).</span><span class="sxs-lookup"><span data-stu-id="1f6cc-198">In the previous diagram, [**SetSnapCoordinate**](/windows/win32/api/DirectManipulation/nf-directmanipulation-idirectmanipulationprimarycontent-setsnapcoordinate) is used with the **DIRECTMANIPULATION\_MOTION\_TRANSLATEX** and **DIRECTMANIPULATION\_COORDINATE\_MIRRORED** flag, which automatically offsets the snap points from the left-edge of the content and supplies them in right-to-left order: S1 is at 0px, S2 is at 50px (and so on).</span></span> <span data-ttu-id="1f6cc-199">Любое смещение, заданное с помощью **сетснапкурдинате** , будет автоматически смещено от этого левого края содержимого, включая правильный масштабный коэффициент.</span><span class="sxs-lookup"><span data-stu-id="1f6cc-199">Any offset set using **SetSnapCoordinate** will further offset from this left-edge of the content automatically, including the correct scale-factor.</span></span>

<span data-ttu-id="1f6cc-200">Почти всегда будет использоваться [**сетснапкурдинате**](/windows/win32/api/DirectManipulation/nf-directmanipulation-idirectmanipulationprimarycontent-setsnapcoordinate) с набором параметров *Origin* , чтобы не задавать точки привязки за пределами области содержимого.</span><span class="sxs-lookup"><span data-stu-id="1f6cc-200">You will almost always use [**SetSnapCoordinate**](/windows/win32/api/DirectManipulation/nf-directmanipulation-idirectmanipulationprimarycontent-setsnapcoordinate) with the *origin* parameter set to avoid setting snap points outside of the content area.</span></span>

<span data-ttu-id="1f6cc-201">Например, если окно просмотра — 200x200, а содержимое — 1000x200, а интерфейс — RTL, то окно просмотра будет иметь его левый конец в x = 800 при первом представлении окна просмотра.</span><span class="sxs-lookup"><span data-stu-id="1f6cc-201">For example, if the viewport is 200x200 and the content is 1000x200, and the interface is RTL, the viewport will have it's left edge at x=800 when the viewport is first presented.</span></span> <span data-ttu-id="1f6cc-202">Вызовите [**сетснапкурдинате**](/windows/win32/api/DirectManipulation/nf-directmanipulation-idirectmanipulationprimarycontent-setsnapcoordinate) с, `SetSnapCoordinate(DIRECTMANIPULATION_MOTION_TRANSLATEX, DIRECTMANIPULATION_COORDINATE_MIRRORED, 1000.0)` чтобы указать, что точки привязки должны рассчитываться справа налево, начиная с правого края содержимого.</span><span class="sxs-lookup"><span data-stu-id="1f6cc-202">Call [**SetSnapCoordinate**](/windows/win32/api/DirectManipulation/nf-directmanipulation-idirectmanipulationprimarycontent-setsnapcoordinate) with `SetSnapCoordinate(DIRECTMANIPULATION_MOTION_TRANSLATEX, DIRECTMANIPULATION_COORDINATE_MIRRORED, 1000.0)` to specify that the snap points should be calculated from right to left order starting from the RIGHT edge of the content.</span></span>

## <a name="behaviors"></a><span data-ttu-id="1f6cc-203">Расширения функциональности</span><span class="sxs-lookup"><span data-stu-id="1f6cc-203">Behaviors</span></span>

<span data-ttu-id="1f6cc-204">*Поведение* — это объект, который можно присоединить к области просмотра, чтобы изменить [порядок обработки](direct-manipulation-portal.md) выходного преобразования основного или дополнительного содержимого окна просмотра.</span><span class="sxs-lookup"><span data-stu-id="1f6cc-204">A *behavior* is an object that can be attached to a viewport in order to modify how [Direct Manipulation](direct-manipulation-portal.md) handles the output transform of a viewport's primary or secondary content.</span></span> <span data-ttu-id="1f6cc-205">Объект поведения может влиять на один или несколько аспектов манипуляции, таких как обработка входных данных или применение анимации инерции.</span><span class="sxs-lookup"><span data-stu-id="1f6cc-205">A behavior object may affect one or more aspects of a manipulation, such as how input is processed or how the inertia animation is applied.</span></span> <span data-ttu-id="1f6cc-206">Например, поведение прокрутки влияет на анимацию инерции путем выполнения анимации с прокруткой к одному концу основного содержимого.</span><span class="sxs-lookup"><span data-stu-id="1f6cc-206">For example, an autoscroll behavior affects the inertia animation by performing a scrolling animation toward one end of the primary content.</span></span> <span data-ttu-id="1f6cc-207">Поведение конфигурации между слайдами влияет на обработку ввода прямого манипуляции, которая обнаруживает, когда выполняется действие между слайдами.</span><span class="sxs-lookup"><span data-stu-id="1f6cc-207">A cross-slide configuration behavior affects Direct Manipulation input processing which detects when a cross-slide action is being performed.</span></span>

<span data-ttu-id="1f6cc-208">Объект поведения создается путем вызова [**креатебехавиор**](/windows/win32/api/DirectManipulation/nf-directmanipulation-idirectmanipulationmanager2-createbehavior), добавленного в окно просмотра, а затем его поведение настраивается асинхронно.</span><span class="sxs-lookup"><span data-stu-id="1f6cc-208">A behavior object is created by calling [**CreateBehavior**](/windows/win32/api/DirectManipulation/nf-directmanipulation-idirectmanipulationmanager2-createbehavior), added to a viewport and then its behavior is configured asynchronously.</span></span> <span data-ttu-id="1f6cc-209">Удаление поведения из окна просмотра приведет к удалению его эффектов.</span><span class="sxs-lookup"><span data-stu-id="1f6cc-209">Removing the behavior from the viewport removes its effects.</span></span>

## <a name="coordinate-system"></a><span data-ttu-id="1f6cc-210">Система координат</span><span class="sxs-lookup"><span data-stu-id="1f6cc-210">Coordinate system</span></span>

<span data-ttu-id="1f6cc-211">Существует три основные системы координат, используемые [непосредственно в управлении](direct-manipulation-portal.md):</span><span class="sxs-lookup"><span data-stu-id="1f6cc-211">There are three main coordinate systems employed by [Direct Manipulation](direct-manipulation-portal.md):</span></span>

- <span data-ttu-id="1f6cc-212">Клиентская система координат — описывает прямоугольник окна клиента.</span><span class="sxs-lookup"><span data-stu-id="1f6cc-212">Client coordinate system - describes the rectangle of the client window.</span></span> <span data-ttu-id="1f6cc-213">Единицы находятся в пикселях.</span><span class="sxs-lookup"><span data-stu-id="1f6cc-213">Units are in pixels.</span></span>
- <span data-ttu-id="1f6cc-214">Система координат окна просмотра — описывает прямоугольник области внутри клиента, который может обрабатывать входные данные.</span><span class="sxs-lookup"><span data-stu-id="1f6cc-214">Viewport coordinate system - describes the rectangle of a region within the client that can process input.</span></span> <span data-ttu-id="1f6cc-215">Единицы измерения определяются приложением (с помощью [**сетвиевпортрект**](/windows/win32/api/DirectManipulation/nf-directmanipulation-idirectmanipulationviewport-setviewportrect)).</span><span class="sxs-lookup"><span data-stu-id="1f6cc-215">Units are application-defined (using [**SetViewportRect**](/windows/win32/api/DirectManipulation/nf-directmanipulation-idirectmanipulationviewport-setviewportrect)).</span></span>
- <span data-ttu-id="1f6cc-216">Система координат содержимого — описывает прямоугольник или размер основного содержимого.</span><span class="sxs-lookup"><span data-stu-id="1f6cc-216">Content coordinate system - describes the rectangle or size of primary content.</span></span> <span data-ttu-id="1f6cc-217">Единицы измерения определяются приложением (с помощью [**сетконтентрект**](/windows/win32/api/DirectManipulation/nf-directmanipulation-idirectmanipulationcontent-setcontentrect)).</span><span class="sxs-lookup"><span data-stu-id="1f6cc-217">Units are application-defined (using [**SetContentRect**](/windows/win32/api/DirectManipulation/nf-directmanipulation-idirectmanipulationcontent-setcontentrect)).</span></span>

<span data-ttu-id="1f6cc-218">Для всех трех систем координаты определяются относительно их соответствующего верхнего левого источника, и они становятся положительными.</span><span class="sxs-lookup"><span data-stu-id="1f6cc-218">For all three systems, coordinates are defined relative to their respective top-left origin, and are positive increasing to the right and down.</span></span> <span data-ttu-id="1f6cc-219">Эти системы координат показаны на следующей схеме.</span><span class="sxs-lookup"><span data-stu-id="1f6cc-219">These coordinate systems are illustrated in the next diagram.</span></span> <span data-ttu-id="1f6cc-220">Только раздел содержимого в пределах прямоугольника окна просмотра может просматриваться и обрабатываться конечным пользователем.</span><span class="sxs-lookup"><span data-stu-id="1f6cc-220">Only the section of the content within the viewport rectangle can be seen or manipulated by the end-user.</span></span>

![Диаграмма, показывающая взаимодействие содержимого, клиента и окна просмотра](images/dm-art-7.png)

## <a name="transforms"></a><span data-ttu-id="1f6cc-222">Преобразования</span><span class="sxs-lookup"><span data-stu-id="1f6cc-222">Transforms</span></span>

<span data-ttu-id="1f6cc-223">[Непосредственная манипуляция](direct-manipulation-portal.md) поддерживает несколько различных преобразований, которые вносят вклад в общие отображаемые выходные данные.</span><span class="sxs-lookup"><span data-stu-id="1f6cc-223">[Direct Manipulation](direct-manipulation-portal.md) maintains several different transforms that contribute to the overall displayed output.</span></span>

- <span data-ttu-id="1f6cc-224">*Преобразование содержимого* — начальное преобразование, вычисленное путем [непосредственной манипуляции](direct-manipulation-portal.md) на основе манипуляций или инерции.</span><span class="sxs-lookup"><span data-stu-id="1f6cc-224">*Content transform* – the initial transform computed by [Direct Manipulation](direct-manipulation-portal.md) based on a manipulation or inertia.</span></span> <span data-ttu-id="1f6cc-225">Он фиксирует эффекты точек привязки, закрепления, по умолчанию оверпан (манипуляции), переbounce (инерции) по умолчанию и анимации Зумторект.</span><span class="sxs-lookup"><span data-stu-id="1f6cc-225">It captures the effects of snap points, railing, default overpan (manipulation), default overbounce (inertia), and ZoomToRect animations.</span></span>
- <span data-ttu-id="1f6cc-226">*Выходное преобразование* — окончательный визуальный элемент или преобразование "выход".</span><span class="sxs-lookup"><span data-stu-id="1f6cc-226">*Output transform* - the final visual or output transform.</span></span> <span data-ttu-id="1f6cc-227">Это сочетание как содержимого, так и преобразований синхронизации.</span><span class="sxs-lookup"><span data-stu-id="1f6cc-227">It is the combination of both the content as well as the sync transforms.</span></span>
- <span data-ttu-id="1f6cc-228">*Преобразование синхронизации* — вычисляются при вызове [**синкконтенттрансформ**](/windows/win32/api/DirectManipulation/nf-directmanipulation-idirectmanipulationcontent-synccontenttransform).</span><span class="sxs-lookup"><span data-stu-id="1f6cc-228">*Sync transform* – computed when you call [**SyncContentTransform**](/windows/win32/api/DirectManipulation/nf-directmanipulation-idirectmanipulationcontent-synccontenttransform).</span></span> <span data-ttu-id="1f6cc-229">Она помогает [напрямую управлять](direct-manipulation-portal.md) применением нового преобразования содержимого, предоставленного приложением, а также сохранением существующего преобразования выходных данных.</span><span class="sxs-lookup"><span data-stu-id="1f6cc-229">It helps [Direct Manipulation](direct-manipulation-portal.md) apply a new content transform supplied by the application while also maintaining the existing output transform.</span></span>
- <span data-ttu-id="1f6cc-230">*Отображаемое преобразование* — применяется приложением в процессе последующей обработки.</span><span class="sxs-lookup"><span data-stu-id="1f6cc-230">*Display transform* – applied by the application as part of post-processing.</span></span> <span data-ttu-id="1f6cc-231">Дополнительные сведения см. в разделе [**синкдисплайтрансформ**](/windows/win32/api/DirectManipulation/nf-directmanipulation-idirectmanipulationviewport-syncdisplaytransform) .</span><span class="sxs-lookup"><span data-stu-id="1f6cc-231">See [**SyncDisplayTransform**](/windows/win32/api/DirectManipulation/nf-directmanipulation-idirectmanipulationviewport-syncdisplaytransform) for more details.</span></span>

<span data-ttu-id="1f6cc-232">Так как выходное преобразование предназначено для визуального смещения поверхности на экране, [прямое управление](direct-manipulation-portal.md) выполняет необходимое округление для компонентов преобразования выходных данных, чтобы текст и другое содержимое всегда отображались и были совмещены в пределах целой точки.</span><span class="sxs-lookup"><span data-stu-id="1f6cc-232">Because the output transform is intended to offset a surface visually on the screen, [Direct Manipulation](direct-manipulation-portal.md) performs the necessary rounding on the output transform components so that text and other content are always rendered/composited at an integral pixel boundary.</span></span> <span data-ttu-id="1f6cc-233">Механизм округления зависит от нескольких факторов, включая скорость движения и присутствие удаленный рабочий стол.</span><span class="sxs-lookup"><span data-stu-id="1f6cc-233">The rounding mechanism depends upon multiple factors, including the velocity of the motion and the presence of Remote Desktop.</span></span> <span data-ttu-id="1f6cc-234">Механизм округления для дополнительного содержимого соответствует основному содержимому, при этом учитывается разница в движении между ними.</span><span class="sxs-lookup"><span data-stu-id="1f6cc-234">The rounding mechanism for secondary content matches that of the primary content, while taking into account the difference in the motion between the two.</span></span> <span data-ttu-id="1f6cc-235">Клиенты [**жетаутпуттрансформ**](/windows/win32/api/DirectManipulation/nf-directmanipulation-idirectmanipulationcontent-getoutputtransform) не должны зависеть от точного механизма округления выходного преобразования, так как на него влияют различные факторы.</span><span class="sxs-lookup"><span data-stu-id="1f6cc-235">Clients of [**GetOutputTransform**](/windows/win32/api/DirectManipulation/nf-directmanipulation-idirectmanipulationcontent-getoutputtransform) should not depend on the exact rounding mechanism of the output transform, as various factors affect it.</span></span>

> [!Note]
>
> <span data-ttu-id="1f6cc-236">Это означает, что компоненты преобразования содержимого не могут быть целыми и могут содержать смещения в виде вложенных точек.</span><span class="sxs-lookup"><span data-stu-id="1f6cc-236">This means that the components of a content transform may not be integral and may contain sub-pixel offsets.</span></span> <span data-ttu-id="1f6cc-237">Клиенты, использующие [прямую манипуляцию](direct-manipulation-portal.md) , должны использовать [**жетаутпуттрансформ**](/windows/win32/api/DirectManipulation/nf-directmanipulation-idirectmanipulationcontent-getoutputtransform) для расчета правильного визуального преобразования, применяемого к содержимому при использовании режима ручного обновления.</span><span class="sxs-lookup"><span data-stu-id="1f6cc-237">Clients using [Direct Manipulation](direct-manipulation-portal.md) are encouraged to use the [**GetOutputTransform**](/windows/win32/api/DirectManipulation/nf-directmanipulation-idirectmanipulationcontent-getoutputtransform) to compute the correct visual transform to apply on the content when using manual update mode.</span></span> <span data-ttu-id="1f6cc-238">При использовании режима автоматического обновления с помощью встроенного компоновщика Непосредственная манипуляция автоматически применяет это преобразование от имени клиента.</span><span class="sxs-lookup"><span data-stu-id="1f6cc-238">When using automatic update mode using the built in compositor, Direct Manipulation automatically applies this transform on the client’s behalf.</span></span> <span data-ttu-id="1f6cc-239">Это преобразование создается путем непосредственной манипуляции, чтобы обеспечить визуальную привлекательность результатов при создании визуальных выходных данных.</span><span class="sxs-lookup"><span data-stu-id="1f6cc-239">This transform is generated by Direct Manipulation to ensure visually pleasing results when composing the visual output.</span></span>

## <a name="viewport-state"></a><span data-ttu-id="1f6cc-240">Состояние окна просмотра</span><span class="sxs-lookup"><span data-stu-id="1f6cc-240">Viewport state</span></span>

<span data-ttu-id="1f6cc-241">По мере обработки входных данных окно просмотра управляет состоянием взаимодействия и сопоставлением входных данных с преобразованиями выходных данных.</span><span class="sxs-lookup"><span data-stu-id="1f6cc-241">As input is processed the viewport manages the interaction state and mapping of input to output transforms.</span></span> <span data-ttu-id="1f6cc-242">Проверьте состояние взаимодействия окна просмотра, [**вызвав метод**](/windows/win32/api/DirectManipulation/nf-directmanipulation-idirectmanipulationviewport-getstatus)"вызов метода".</span><span class="sxs-lookup"><span data-stu-id="1f6cc-242">Check the interaction state of the viewport by calling [**GetStatus**](/windows/win32/api/DirectManipulation/nf-directmanipulation-idirectmanipulationviewport-getstatus).</span></span>

![Схема, показывающая состояния взаимодействия директманипулатион](images/dm-states-diagram.png)

- <span data-ttu-id="1f6cc-244">Сборка — окно просмотра создается и пока не может обрабатывать входные данные.</span><span class="sxs-lookup"><span data-stu-id="1f6cc-244">Building – the viewport is being created and is not yet able to process input.</span></span> <span data-ttu-id="1f6cc-245">Для обработки входных данных вызовите метод [**идиректманипулатионвиевпорт:: enable**](/windows/win32/api/DirectManipulation/nf-directmanipulation-idirectmanipulationviewport-enable).</span><span class="sxs-lookup"><span data-stu-id="1f6cc-245">In order to process input, call [**IDirectManipulationViewport::Enable**](/windows/win32/api/DirectManipulation/nf-directmanipulation-idirectmanipulationviewport-enable).</span></span> <span data-ttu-id="1f6cc-246">Если параметр **Enable** не вызван, окно просмотра переходит в состояние отключено.</span><span class="sxs-lookup"><span data-stu-id="1f6cc-246">If **Enable** is not called, the viewport goes to the Disabled state.</span></span>

    > [!Note]  
    > <span data-ttu-id="1f6cc-247">Это начальное состояние взаимодействия.</span><span class="sxs-lookup"><span data-stu-id="1f6cc-247">This is the initial state of the interaction.</span></span>

- <span data-ttu-id="1f6cc-248">Включено — окно просмотра готово к обработке входных данных.</span><span class="sxs-lookup"><span data-stu-id="1f6cc-248">Enabled – the viewport is ready to process input.</span></span> <span data-ttu-id="1f6cc-249">Когда отключается контакт ([**сетконтакт**](/windows/win32/api/DirectManipulation/nf-directmanipulation-idirectmanipulationviewport-setcontact) вызывается) и обнаруживается манипуляция, окно просмотра переходит в режим «выполняется».</span><span class="sxs-lookup"><span data-stu-id="1f6cc-249">When a contact comes down ([**SetContact**](/windows/win32/api/DirectManipulation/nf-directmanipulation-idirectmanipulationviewport-setcontact) is called) and a manipulation is detected, the viewport transitions to Running.</span></span>

- <span data-ttu-id="1f6cc-250">Выполняется — окно просмотра в настоящее время обрабатывает входные данные и обновляет содержимое.</span><span class="sxs-lookup"><span data-stu-id="1f6cc-250">Running – the viewport is currently processing input and updating content.</span></span> <span data-ttu-id="1f6cc-251">Когда контакт ликвидируется, окно просмотра переходит в режим инерции, если он настроен.</span><span class="sxs-lookup"><span data-stu-id="1f6cc-251">When the contact is lifted, the viewport transitions to Inertia, if configured.</span></span>

- <span data-ttu-id="1f6cc-252">Инерция — содержимое перемещается в анимацию инерции.</span><span class="sxs-lookup"><span data-stu-id="1f6cc-252">Inertia – the content is moving in an inertia animation.</span></span> <span data-ttu-id="1f6cc-253">После завершения инерции окно просмотра будет переведено в состояние готовности.</span><span class="sxs-lookup"><span data-stu-id="1f6cc-253">Once inertia is complete, the viewport will transition to Ready.</span></span> <span data-ttu-id="1f6cc-254">Если в окне просмотра было задано автоматическое отключение, оно переходит от инерции к готовому, а затем к отключению.</span><span class="sxs-lookup"><span data-stu-id="1f6cc-254">If auto-disable has been set on the viewport, it will transition from Inertia to Ready, and then to Disabled.</span></span>

- <span data-ttu-id="1f6cc-255">Готово — окно просмотра готово к обработке входных данных.</span><span class="sxs-lookup"><span data-stu-id="1f6cc-255">Ready – the viewport is ready to process input.</span></span> <span data-ttu-id="1f6cc-256">Когда отключается контакт ([**сетконтакт**](/windows/win32/api/DirectManipulation/nf-directmanipulation-idirectmanipulationviewport-setcontact) вызывается) и обнаруживается манипуляция, окно просмотра переходит в режим «выполняется».</span><span class="sxs-lookup"><span data-stu-id="1f6cc-256">When a contact comes down ([**SetContact**](/windows/win32/api/DirectManipulation/nf-directmanipulation-idirectmanipulationviewport-setcontact) is called) and a manipulation is detected, the viewport transitions to Running.</span></span>

- <span data-ttu-id="1f6cc-257">Suspended — окно просмотра может быть приостановлено, если его входные данные были перевышены до родителя в цепочке [**сетконтакт**](/windows/win32/api/DirectManipulation/nf-directmanipulation-idirectmanipulationviewport-setcontact) .</span><span class="sxs-lookup"><span data-stu-id="1f6cc-257">Suspended – the viewport may become Suspended when its input has been promoted to a parent in the [**SetContact**](/windows/win32/api/DirectManipulation/nf-directmanipulation-idirectmanipulationviewport-setcontact) chain.</span></span> <span data-ttu-id="1f6cc-258">Это более подробно рассматривается в [нескольких окнах просмотра: Проверка нажатия и иерархия просмотра](directmanipulation-multiple-vieports.md).</span><span class="sxs-lookup"><span data-stu-id="1f6cc-258">This is discussed in greater detail in [Multiple viewports: hit testing and viewport hierarchy](directmanipulation-multiple-vieports.md).</span></span>

- <span data-ttu-id="1f6cc-259">Disabled — окно просмотра не будет обрабатывать ввод или выполнять обратные вызовы.</span><span class="sxs-lookup"><span data-stu-id="1f6cc-259">Disabled – the viewport will not process input or make callbacks.</span></span> <span data-ttu-id="1f6cc-260">Окно просмотра можно отключить из различных состояний, вызвав [**идиректманипулатионвиевпорт::D**](/windows/win32/api/DirectManipulation/nf-directmanipulation-idirectmanipulationviewport-disable).</span><span class="sxs-lookup"><span data-stu-id="1f6cc-260">A viewport may be disabled from various states by calling [**IDirectManipulationViewport::Disable**](/windows/win32/api/DirectManipulation/nf-directmanipulation-idirectmanipulationviewport-disable).</span></span> <span data-ttu-id="1f6cc-261">Если в окне просмотра было задано автоматическое отключение, оно будет автоматически переведено в состояние отключено после обработки манипуляции.</span><span class="sxs-lookup"><span data-stu-id="1f6cc-261">If auto-disable has been set on the viewport, it will transition automatically to Disabled after a manipulation is processed.</span></span> <span data-ttu-id="1f6cc-262">Чтобы повторно включить отключенное окно просмотра, вызовите метод [**идиректманипулатионвиевпорт:: enable**](/windows/win32/api/DirectManipulation/nf-directmanipulation-idirectmanipulationviewport-enable).</span><span class="sxs-lookup"><span data-stu-id="1f6cc-262">To re-enable a disabled viewport, call [**IDirectManipulationViewport::Enable**](/windows/win32/api/DirectManipulation/nf-directmanipulation-idirectmanipulationviewport-enable).</span></span>

## <a name="related-topics"></a><span data-ttu-id="1f6cc-263">См. также</span><span class="sxs-lookup"><span data-stu-id="1f6cc-263">Related topics</span></span>

<span data-ttu-id="1f6cc-264">[Несколько окон просмотра: проверка попадания и иерархия окна просмотра](directmanipulation-multiple-vieports.md), [**активатеконфигуратион**](/windows/win32/api/DirectManipulation/nf-directmanipulation-idirectmanipulationviewport-activateconfiguration), [**жетаутпуттрансформ**](/windows/win32/api/DirectManipulation/nf-directmanipulation-idirectmanipulationcontent-getoutputtransform), [**синкдисплайтрансформ**](/windows/win32/api/DirectManipulation/nf-directmanipulation-idirectmanipulationviewport-syncdisplaytransform)</span><span class="sxs-lookup"><span data-stu-id="1f6cc-264">[Multiple viewports: hit testing and viewport hierarchy](directmanipulation-multiple-vieports.md), [**ActivateConfiguration**](/windows/win32/api/DirectManipulation/nf-directmanipulation-idirectmanipulationviewport-activateconfiguration), [**GetOutputTransform**](/windows/win32/api/DirectManipulation/nf-directmanipulation-idirectmanipulationcontent-getoutputtransform), [**SyncDisplayTransform**](/windows/win32/api/DirectManipulation/nf-directmanipulation-idirectmanipulationviewport-syncdisplaytransform)</span></span>
