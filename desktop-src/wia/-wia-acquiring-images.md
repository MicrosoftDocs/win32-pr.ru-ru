---
description: После выбора образа приложение использует интерфейс Ивиадататрансфер (для приложений, работающих в Windows XP или более ранней версии) или интерфейс Ивиатрансфер (для приложений, работающих в Windows Vista или более поздней версии) для перемещения данных образа из устройств обработки изображений. Дополнительные сведения см. в статье передача данных изображения в WIA 1,0 или передача данных изображения в WIA 2,0.
ms.assetid: cf76e526-d63b-4ee5-ba3c-871f2051a82c
title: Получение образов
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: d062cb370327311ad0c7d4f883344c05bb776f6a
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "105693092"
---
# <a name="acquiring-images"></a><span data-ttu-id="1aff5-104">Получение образов</span><span class="sxs-lookup"><span data-stu-id="1aff5-104">Acquiring Images</span></span>

<span data-ttu-id="1aff5-105">После выбора образа приложение использует интерфейс [**ивиадататрансфер**](/windows/desktop/api/wia_xp/nn-wia_xp-iwiadatatransfer) (для приложений, работающих в Windows XP или более ранней версии) или интерфейс [**ивиатрансфер**](-wia-iwiatransfer.md) (для приложений, работающих в Windows Vista или более поздней версии) для перемещения данных образа из устройств обработки изображений.</span><span class="sxs-lookup"><span data-stu-id="1aff5-105">After an image has been selected, an application uses the [**IWiaDataTransfer**](/windows/desktop/api/wia_xp/nn-wia_xp-iwiadatatransfer) interface (for applications running in Windows XP or earlier) or the [**IWiaTransfer**](-wia-iwiatransfer.md) interface (for applications running in Windows Vista or later) to transfer image data from imaging devices.</span></span> <span data-ttu-id="1aff5-106">Дополнительные сведения см. в статье [Передача данных изображения в wia 1,0](-wia-transferring-image-data.md) или [Передача данных изображения в WIA 2,0](-wia-transferring-image-data-in-wia2.md) .</span><span class="sxs-lookup"><span data-stu-id="1aff5-106">See either [Transfering Image Data in WIA 1.0](-wia-transferring-image-data.md) or [Transferring Image Data in WIA 2.0](-wia-transferring-image-data-in-wia2.md) for details.</span></span>

<span data-ttu-id="1aff5-107">После выбора устройства приложение использует метод [**ивиаитем::D евицедлг**](/windows/desktop/api/wia_xp/nf-wia_xp-iwiaitem-devicedlg) интерфейса [**ивиаитем**](/windows/desktop/api/wia_xp/nn-wia_xp-iwiaitem) или [**IWiaItem2**](-wia-iwiaitem2.md) (корневой элемент), чтобы выбрать образ из указанного устройства для получения образа Windows (WIA).</span><span class="sxs-lookup"><span data-stu-id="1aff5-107">After a device has been selected, an application uses the [**IWiaItem::DeviceDlg**](/windows/desktop/api/wia_xp/nf-wia_xp-iwiaitem-devicedlg) method of the [**IWiaItem**](/windows/desktop/api/wia_xp/nn-wia_xp-iwiaitem) or [**IWiaItem2**](-wia-iwiaitem2.md) interface of the device (the root item) to select an image from a specified Windows Image Acquisition (WIA) device.</span></span> <span data-ttu-id="1aff5-108">Метод [**ивиадевмгр:: жетимажедлг**](/windows/desktop/api/wia_xp/nf-wia_xp-iwiadevmgr-getimagedlg) отображает диалоговое окно, позволяющее пользователю выбрать изображение с указанного устройства и перенести его в имя файла, выбранное пользователем.</span><span class="sxs-lookup"><span data-stu-id="1aff5-108">The [**IWiaDevMgr::GetImageDlg**](/windows/desktop/api/wia_xp/nf-wia_xp-iwiadevmgr-getimagedlg) method displays a dialog box that allows a user to select an image from a specified device, and transfers the image to a file name selected by the user.</span></span> <span data-ttu-id="1aff5-109">Он также позволяет пользователю при необходимости указать устройство.</span><span class="sxs-lookup"><span data-stu-id="1aff5-109">It also allows the user to specify a device if necessary.</span></span> <span data-ttu-id="1aff5-110">Дополнительные сведения см. [в разделе Выбор устройства](-wia-selecting-a-device.md) .</span><span class="sxs-lookup"><span data-stu-id="1aff5-110">For more information, see [Selecting a Device](-wia-selecting-a-device.md)</span></span>

<span data-ttu-id="1aff5-111">Обратите внимание, что пользователю не нужно выбирать изображение с помощью метода выше.</span><span class="sxs-lookup"><span data-stu-id="1aff5-111">Note that it is not necessary for a user to select an image using the above method.</span></span> <span data-ttu-id="1aff5-112">Приложение может получить указатель на элемент изображения непосредственно из дерева элементов устройства.</span><span class="sxs-lookup"><span data-stu-id="1aff5-112">An application can obtain a pointer to an image item directly from a device's item tree.</span></span> <span data-ttu-id="1aff5-113">Инструкции см. в разделе [Навигация по дереву элементов](-wia-navigating-an-item-tree.md).</span><span class="sxs-lookup"><span data-stu-id="1aff5-113">For instructions, see [Navigating an Item Tree](-wia-navigating-an-item-tree.md).</span></span>

<span data-ttu-id="1aff5-114">После выбора элемента WIA, представляющего нужный образ, приложение, работающее в Windows XP или более ранней версии, запрашивает интерфейс [**ивиаитем**](/windows/desktop/api/wia_xp/nn-wia_xp-iwiaitem) этого элемента для указателя на его интерфейс [**ивиадататрансфер**](/windows/desktop/api/wia_xp/nn-wia_xp-iwiadatatransfer) .</span><span class="sxs-lookup"><span data-stu-id="1aff5-114">Once the WIA item that represents the desired image has been selected, an application running on Windows XP or earlier queries the [**IWiaItem**](/windows/desktop/api/wia_xp/nn-wia_xp-iwiaitem) interface of that item for a pointer to its [**IWiaDataTransfer**](/windows/desktop/api/wia_xp/nn-wia_xp-iwiadatatransfer) interface.</span></span> <span data-ttu-id="1aff5-115">Приложение, работающее в Windows Vista или более поздней версии, запрашивает интерфейс [**IWiaItem2**](-wia-iwiaitem2.md) для указателя на его интерфейс [**ивиатрансфер**](-wia-iwiatransfer.md) .</span><span class="sxs-lookup"><span data-stu-id="1aff5-115">An application running on Windows Vista or later queries the [**IWiaItem2**](-wia-iwiaitem2.md) interface for a pointer to its [**IWiaTransfer**](-wia-iwiatransfer.md) interface.</span></span>

<span data-ttu-id="1aff5-116">Затем приложение может использовать методы интерфейса [**ивиадататрансфер**](/windows/desktop/api/wia_xp/nn-wia_xp-iwiadatatransfer) (или [**ивиатрансфер**](-wia-iwiatransfer.md)) для пересылки данных изображения в приложение.</span><span class="sxs-lookup"><span data-stu-id="1aff5-116">The application can then uses the methods of the [**IWiaDataTransfer**](/windows/desktop/api/wia_xp/nn-wia_xp-iwiadatatransfer) (or [**IWiaTransfer**](-wia-iwiatransfer.md)) interface to transfer the image data to the application.</span></span>

<span data-ttu-id="1aff5-117">Если устройство обработки изображений является сканером, [**ивиадататрансфер:: идтжетдата**](/windows/desktop/api/wia_xp/nf-wia_xp-iwiadatatransfer-idtgetdata)или другими методами интерфейса [**ивиадататрансфер**](/windows/desktop/api/wia_xp/nn-wia_xp-iwiadatatransfer) , запускает операцию просмотра, а затем передает полученные данные изображения.</span><span class="sxs-lookup"><span data-stu-id="1aff5-117">If the imaging device is a scanner, [**IWiaDataTransfer::idtGetData**](/windows/desktop/api/wia_xp/nf-wia_xp-iwiadatatransfer-idtgetdata), or other methods of the [**IWiaDataTransfer**](/windows/desktop/api/wia_xp/nn-wia_xp-iwiadatatransfer) interface, triggers a scan operation, and then transfers the resulting image data.</span></span> <span data-ttu-id="1aff5-118">Если устройство является камерой, данные образа просто передаются из камеры в приложение.</span><span class="sxs-lookup"><span data-stu-id="1aff5-118">If the device is a camera, the image data is simply transferred from the camera to the application.</span></span>

 

 



