---
title: Шаблон элемента управления также TextEdit
description: Содержит рекомендации и соглашения для реализации Итекстедитпровидер, включая сведения о свойствах и методах.
ms.assetid: AA9E04AC-1AC0-6434-ADEF-9FF82ADA7CD9
keywords:
- Модель автоматизации пользовательского интерфейса, реализация шаблона элемента управления также TextEdit
- Модель автоматизации пользовательского интерфейса, шаблон элемента управления также TextEdit
- шаблоны элементов управления, также TextEdit
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: bdf8512db4f676a263bf46bdbdfea7b6b7eaba11
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/20/2020
ms.locfileid: "104339092"
---
# <a name="textedit-control-pattern"></a>Шаблон элемента управления также TextEdit

Содержит рекомендации и соглашения для реализации [**итекстедитпровидер**](/windows/desktop/api/uiautomationcore/nn-uiautomationcore-itexteditprovider), включая сведения о свойствах и методах. Шаблон элемента управления **также TextEdit** используется для программного доступа к элементу управления, изменяющему текст, например элемент управления, выполняющий автоматическое исправление или обеспечивающий входную композицию.

> [!Note]  
> Примечания по реализации в этом разделе относятся к интерфейсам API, которые поступают из платформы текстовых служб (TSF). Дополнительные сведения о TSF и Справочнике по API см. в разделе [Платформа текстовых служб](/windows/desktop/TSF/text-services-framework).

 

## <a name="required-members-for-itexteditprovider"></a>Обязательные члены для **итекстедитпровидер**

Эти свойства и методы необходимы для реализации интерфейса [**итекстедитпровидер**](/windows/desktop/api/uiautomationcore/nn-uiautomationcore-itexteditprovider) .



| Обязательные члены                                                              | Тип члена | Примечания                                                                                                                                                                                                                                                                                   |
|-------------------------------------------------------------------------------|-------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**жетактивекомпоситион**](/windows/desktop/api/UIAutomationCore/nf-uiautomationcore-itexteditprovider-getactivecomposition) | Метод      | Возвращает диапазон текущего преобразования (нет, если преобразование отсутствует). Возвращает активную композицию (в TSF это диапазон, помеченный **\_ \_ компоновкой свойств GUID**). Например, для японского редактора методов ввода (IME) Microsoft это будет полный подчеркнутый текст. |
| [**жетконверсионтаржет**](/windows/desktop/api/UIAutomationCore/nf-uiautomationcore-itexteditprovider-getconversiontarget)   | Метод      | Возвращает текущий диапазон целей преобразования (нет, если преобразование отсутствует). В TSF это диапазон символов, помеченных как **tf \_ attr \_ Target \_ нотконвертед** или **tf \_ attr Target, \_ \_ преобразованный** из структуры **tf \_ дисплайаттрибуте** .                                               |



 

События **текстедиттекстчанжед** и **конверсионтаржетчанжед** должны вызываться ЭЛЕМЕНТАМИ модели автоматизации пользовательского интерфейса Майкрософт, поддерживающими шаблон **также TextEdit** .

### <a name="textedittextchanged"></a>**текстедиттекстчанжед**

-   Используйте функцию [**уиараисетекстедиттекстчанжедевент**](/windows/desktop/api/UIAutomationCoreApi/nf-uiautomationcoreapi-uiaraisetextedittextchangedevent) для вызова события **текстедиттекстчанжед** .
-   В следующей таблице перечислены случаи, когда следует вызывать событие и параметры [**уиараисетекстедиттекстчанжедевент**](/windows/desktop/api/UIAutomationCoreApi/nf-uiautomationcoreapi-uiaraisetextedittextchangedevent) для использования.



| текстедитчанжетипе                                            | Полезные данные события                                | Примечания                                                                                                                                                                                                                                                                                                                                                                                        |
|---------------------------------------------------------------|----------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**Задать**](/windows/desktop/api/UIAutomationCore/ne-uiautomationcore-texteditchangetype)          | Новая исправленная строка                         | Вызывается, когда элемент управления выполнил автоматическое исправление. Или всякий раз, когда замена выполняется с помощью TSF, а диапазон имеет **идентификатор GUID \_ prop \_ ТКБ \_** , **\_ \_ \_ применяемый** в качестве альтернативного значения ТКБ.<br/>                                                                                                                                                                   |
| [**Композиция**](/windows/desktop/api/UIAutomationCore/ne-uiautomationcore-texteditchangetype)          | Обновленная строка                           | Полезная нагрузка должна включать только измененные символы (не отправляйте всю строку композиции). Возникает при замене композиции. В TSF замена композиции определяется как замена с установленным флагом " **\_ prop \_** " набора GUID. Элементы управления редактирования, реализующие TSF, могут отслеживать эти изменения с помощью уведомления **онендедит** .<br/>         |
| [**компоситионфинализед**](/windows/desktop/api/UIAutomationCore/ne-uiautomationcore-texteditchangetype) | Окончательная строка композиции (см. примечания) | В TSF строка преобразования, для которой выполняется финализация, определяется с помощью флага формирования **GUID \_ \_** , удаляемого из композиции. Элементы управления редактирования, реализующие TSF, должны определить окончательную строку из **ендкомпоситион** и вызвать событие при вызове **онендедит** .<br/> Окончательная строка композиции может быть пустой, если композиция была отменена или удалена.<br/> |



 

### <a name="conversiontargetchanged"></a>**конверсионтаржетчанжед**

-   **Конверсионтаржетчанжед** возникает при изменении целевого объекта преобразования с одного целевого объекта на другой.
-   Используйте функцию [**уиараисеаутоматионевент**](/windows/desktop/api/UIAutomationCoreApi/nf-uiautomationcoreapi-uiaraiseautomationevent) для вызова события **конверсионтаржетчанжед** (передайте идентификатор события [**UIA \_ также TextEdit \_ конверсионтаржетчанжедевентид**](https://www.bing.com/search?q=**UIA\_TextEdit\_ConversionTargetChangedEventId**) ).
-   **Конверсионтаржетчанжед** не следует вызывать при изменении содержимого целевого объекта. Если целевое изменение происходит одновременно с изменением композиции, то событие изменения целевого объекта должно быть вызвано после того, как все события композиции уже созданы.
-   В TSF цель преобразования определяется значением параметра **tf \_ attr \_ Target, \_ преобразованным** из структуры **tf \_ дисплайаттрибуте** . Изменения можно отслеживать с помощью **онендедит**.

## <a name="related-topics"></a>См. также

<dl> <dt>

**Зрения**
</dt> <dt>

[Типы элементов управления и поддерживаемые ими шаблоны элементов управления](uiauto-controlpatternmapping.md)
</dt> <dt>

[Общие сведения о шаблонах элементов управления модели автоматизации пользовательского интерфейса](uiauto-controlpatternsoverview.md)
</dt> <dt>

[Общие сведения о дереве модели автоматизации пользовательского интерфейса](uiauto-treeoverview.md)
</dt> </dl>

 

