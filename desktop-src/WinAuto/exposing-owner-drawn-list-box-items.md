---
title: Предоставление Owner-Drawn элементов списка
description: Разработчикам приложений не требуется реализовывать IAccessible, чтобы предоставить элементы в списке, нарисованном владельцем, с стилем ФУНТа \_ хасстрингс, так как Microsoft Active Accessibility предоставляет элементы в списках с этим стилем.
ms.assetid: d54ce297-ce8a-46c0-a86d-4acffa1eda27
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 2fbb72285f55796a285cd6e1a8838a629218659b
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/20/2020
ms.locfileid: "104413423"
---
# <a name="exposing-owner-drawn-list-box-items"></a>Предоставление Owner-Drawn элементов списка

Разработчикам приложений не требуется реализовывать [**IAccessible**](/windows/desktop/api/oleacc/nn-oleacc-iaccessible) , чтобы предоставить элементы в списке, нарисованном владельцем, с стилем **фунта \_ Хасстрингс** , так как Microsoft Active Accessibility предоставляет элементы в списках с этим стилем. Элементы в списке, рисуемом владельцем, с стилем **фунта \_ хасстрингс** отображаются в виде текста. Однако этот стиль также используется с пользовательскими списками, в которых не отображается текст, чтобы элементы списка были предоставлены Microsoft Active Accessibility.

Чтобы разрешить Microsoft Active Accessibility предоставлять элементы в списке, рисуемом владельцем, который не отображает текст:

-   При создании списка используйте стиль **фунта \_ хасстрингс** .
-   Создайте текстовый аналог, названный или описывающий каждый элемент в списке.
-   При добавлении элементов в список, рисуемый владельцем, используйте сообщение [ \_ ADDSTRING балансировки нагрузки](../controls/lb-addstring.md) , чтобы добавить текст, который будет предоставляться Microsoft Active Accessibility. Этот текст не отображается, поэтому он не является частью рисуемых владельцем данных. Добавьте данные элемента, рисуемого владельцем, с помощью сообщения [ \_ сетитемдата балансировки нагрузки](../controls/lb-setitemdata.md) .

При использовании приведенного выше метода обратите внимание на следующее.

-   Если используется стиль **\_ сортировки фунтов** , список сортируется с использованием предоставляемых строк, а не процедуры обратного вызова [WM \_ компареитем](../controls/wm-compareitem.md) .
-   При наличии списков переменных, рисуемых владельцем, созданных со стилем **фунта \_ овнердраввариабле**, используйте глобальную переменную или другой механизм, чтобы отследить, когда **итемдата элемент** [меасуреитемструкт](/windows/win32/api/winuser/ns-winuser-measureitemstruct) является допустимым. Глобальная переменная необходима, так как система отправляет сообщение [WM \_ меасуреитем](../controls/wm-measureitem.md) сразу после добавления строки, но перед присоединением данных элемента, и на данном этапе элемент **итемдата** является недопустимым.
-   Чтобы изменить строку для элемента в поле со списком в стиле **фунта \_ хасстрингс** , удалите элемент с сообщением [ \_ делетестринг фунтов](../controls/lb-deletestring.md) и добавьте новую строку с \_ сообщением ADDSTRINGа фунтов.

 

 