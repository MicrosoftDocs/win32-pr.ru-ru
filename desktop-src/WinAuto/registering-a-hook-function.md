---
title: Регистрация функции-обработчика
description: Клиентские приложения получают Виневентс в функции обратного вызова Виневентпрок. Действия, выполняемые функцией обратного вызова, определяются приложением, но синтаксис должен быть указан в прототипе.
ms.assetid: 7e999335-6a41-4d22-82ef-1a8dd6cb656e
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: b5b1f39a535b366af72b1034cc9344171d253ea0
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/16/2019
ms.locfileid: "103888015"
---
# <a name="registering-a-hook-function"></a>Регистрация функции-обработчика

Клиентские приложения получают Виневентс в функции обратного вызова [*виневентпрок*](/windows/desktop/api/Winuser/nc-winuser-wineventproc) . Действия, выполняемые функцией обратного вызова, определяются приложением, но синтаксис должен быть указан в прототипе.

Прежде чем он сможет получать события, необходимо зарегистрировать функцию, вызвав [**сетвиневенсук**](/windows/desktop/api/Winuser/nf-winuser-setwineventhook). Клиент может вызвать **сетвиневенсук** несколько раз, чтобы зарегистрировать различные функции-обработчики, или задать дополнительные события для ранее зарегистрированной функции обработчика.

При вызове [**сетвиневенсук**](/windows/desktop/api/Winuser/nf-winuser-setwineventhook) клиент указывает, какие события должны быть получены, и как их получить. Клиент может выбрать:

-   Получение всех событий или определенного набора событий.
-   Получение событий из всех потоков или из определенного потока.
-   Получение событий из всех процессов или из определенного процесса.
-   Обработка событий в процессе или вне процесса.

При создании события, удовлетворяющего заданным критериям, система вызывает функцию обратного вызова [*виневентпрок*](/windows/desktop/api/Winuser/nc-winuser-wineventproc) клиента (или "процедура обработчика"). Параметры, получаемые функцией-обработчиком, сообщают клиенту о окне, объекте и возможном дочернем элементе, создавшем событие. Клиент использует эти параметры в вызове получения объекта, например [**акцессиблеобжектфромевент**](/windows/desktop/api/Oleacc/nf-oleacc-accessibleobjectfromevent).

 

 




