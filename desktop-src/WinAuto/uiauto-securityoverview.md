---
title: Вопросы безопасности для вспомогательных технологий
description: Специальные технологии — это приложения, работающие на рабочем столе Windows и помогающие пользователям с поддержкой специальных возможностей взаимодействовать с операционной системой и другими приложениями, работающими на компьютере, включая приложения в новом пользовательском интерфейсе Windows.
ms.assetid: 0c3689e1-2124-4142-b0bd-233e95ee1285
f1_keywords:
- vs.debug.error.launch_elevation_requirements
keywords:
- атрибут uiAccess
- Модель автоматизации пользовательского интерфейса, атрибут uiAccess
- безопасность, атрибут uiAccess
- Тег requestedExecutionLevel
- Модель автоматизации пользовательского интерфейса, тег requestedExecutionLevel
- Модель автоматизации пользовательского интерфейса, вопросы безопасности
- Модель автоматизации пользовательского интерфейса, файлы манифеста
- файлы манифеста
- контроль учетных записей пользователей
- безопасность, контроль учетных записей
- безопасность, файлы манифеста
- безопасность, тег requestedExecutionLevel
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 12f2f5cf006c0adaf9b170a4ed11abd9afd52012
ms.sourcegitcommit: 4e4f9e7c90d25af0774deec1d44bd49fa9b6daa9
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/16/2020
ms.locfileid: "105691707"
---
# <a name="security-considerations-for-assistive-technologies"></a>Вопросы безопасности для вспомогательных технологий

Специальные технологии — это приложения, работающие на рабочем столе Windows и помогающие пользователям специальных возможностей взаимодействовать с операционной системой и другими приложениями, работающими на компьютере, включая приложения в новом пользовательском интерфейсе Windows. Вспомогательные технологические приложения работают путем извлечения информации из операционной системы и других приложений, а затем представляют информацию в виде, доступном пользователю. Приложение с поддержкой специальных возможностей также может программно «заменять» операционную систему и другие приложения на основе входных данных пользователя.

Природа вспомогательных технологических приложений требует, чтобы они перекрестно обрабатывали границы процессов и имели доступ к процессам, выполняемым на более высоком уровне целостности (IL), чем сами по себе. (Приложение со специальными технологическими технологиями работает со средним IL.) Например, когда пользователь пытается выполнить задачу, для которой требуются права администратора, Windows выводит диалоговое окно, предлагающее пользователю подтвердить продолжение. Это диалоговое окно работает с более высоким IL, чтобы защитить его от межпроцессного взаимодействия, чтобы вредоносная программа не могла имитировать ввод данных пользователем. Аналогичным образом экран входа в систему работает на более высоком IL, чтобы предотвратить доступ других процессов к нему.

Приложениям с поддержкой специальных возможностей обычно требуется доступ к защищенным элементам пользовательского интерфейса системы или другим процессам, которые могут выполняться на более высоком уровне привилегий. Таким образом, приложения с поддержкой специальных возможностей должны быть доверенными для системы и должны запускаться с особыми привилегиями.

Чтобы получить доступ к более высоким процессам IL, приложение вспомогательной технологии должно установить флаг UIAccess в манифесте приложения и запустить пользователь с правами администратора.

> [!NOTE]
> Права доступа ограничены следующим образом.
>
> - Приложение, не имеющее UIAccess в манифесте, начинается с среднего IL и не может получить доступ к пользовательскому интерфейсу процесса с повышенными правами ("Medium +").
> - Приложение, которое имеет UIAccess в манифесте и запускается пользователем, не входящим в группу "Администраторы", запускается как "средний +" IL и не может получить доступ к пользовательскому интерфейсу с повышенными правами (не работает как "высокий" IL, например приложения, запускаемые с помощью **правой кнопки мыши > Запуск от имени администратора**).
> - Приложение имеет доступ к пользовательскому интерфейсу и запускается пользователем-администратором, запускается как "высокий" IL и может получить доступ к пользовательскому интерфейсу с повышенными правами, так как он имеет тот же IL.
>
> UIAccess недостаточно для перемещения процесса через границу IL.

Помимо доступа к процессам с более высоким IL, вспомогательное приложение с этими привилегиями может выполняться в качестве самого верхнего приложения в z-порядке в любое время, что означает, что вспомогательное приложение может быть видимым и доступным в любой момент, когда оно потребуется пользователю.

> [!Important]
> Ни один из перечисленных выше сценариев не предоставляет доступ к пользовательскому интерфейсу, выполняющемуся в системе IL. Это возможно только в том случае, если процесс запускается в рабочем столе контроля учетных записей (UAC) в разделе SYSTEM (и System IL). В этом случае установка UIAccess не оказывает никакого влияния.

## <a name="uiaccess-requirements-for-assistive-technology-applications"></a>Требования к UIAccess для приложений вспомогательной технологии

Приложение с поддержкой специальных возможностей — это классическое приложение Windows Windows, которое взаимодействует с другими процессами, запущенными на рабочем столе, и в новом пользовательском интерфейсе Windows для получения информации из системы и приложений. Затем приложение вспомогательной технологии может предоставить сведения пользователям специальных возможностей.

Приложение вспомогательной технологии получает доступ к другим процессам, устанавливая флаг UIAccess в манифесте приложения. Чтобы использовать флаг UIAccess, приложение вспомогательной технологии должно соответствовать следующим требованиям.

-   Требуется для отображения, взаимодействия с или отражения данных из другого приложения для предоставления сведений о сценарии специальных возможностей и (или)
-   Для получения или вывода этих сведений требуется запуск в качестве верхнего окна.

Чтобы использовать UIAccess, приложение вспомогательной технологии должно:

-   Подписываться сертификатом для взаимодействия с приложениями, работающими на более высоком уровне привилегий.
-   Быть доверенным для системы. Приложение должно быть установлено в безопасном месте, требующем запроса контроля учетных записей (UAC) для доступа. Например, папка Program Files.
-   Сборка с помощью файла манифеста, включающего флаг uiAccess.

Не следует использовать UIAccess:

-   Приложениями, не поддерживающими специальные технологии.
-   Вспомогательными технологическими приложениями, которые отображают информацию или пользовательский интерфейс, не относящиеся к используемому сценарию доступности.
-   Приложениями, которые должны отображаться над другими приложениями в новом пользовательском интерфейсе Windows.
    > [!Note]  
    > Приложения, разработанные для нового пользовательского интерфейса Windows, не имеют UIAccess в качестве доступного варианта.

     

## <a name="setting-uiaccess-in-the-application-manifest-file"></a>Настройка UIAccess в файле манифеста приложения

Чтобы получить доступ к защищенному системному ИНТЕРФЕЙСу, приложения должны быть построены с помощью файла манифеста, содержащего специальный атрибут в файле манифеста. Этот атрибут **UIAccess** включен в тег **requestedExecutionLevel** , как показано в следующем примере кода.


```XML
<trustInfo xmlns="urn:schemas-microsoft-com:asm.v3"> 
    <security> 
        <requestedPrivileges> 
        <requestedExecutionLevel 
            level="highestAvailable" 
            uiAccess="true" /> 
        </requestedPrivileges> 
    </security> 
</trustInfo> 
```



Значение атрибута **Level** в этом коде является только примером.

По умолчанию **UIAccess** имеет значение false. Если атрибут пропущен или отсутствует манифест, приложение не сможет получить доступ к защищенному пользовательскому интерфейсу.

Дополнительные сведения о безопасности Windows, о подписывании приложений, а также о создании манифестов см. в [статье Windows Vista и Windows Server 2008 для разработчиков. требования к разработке приложений Windows Vista для управления учетными записями пользователей (UAC)](/previous-versions/aa905330(v=msdn.10)) на сайте MSDN.

## <a name="related-topics"></a>См. также

<dl> <dt>

[Основы модели автоматизации пользовательского интерфейса](entry-uiautocore-overview.md)
</dt> </dl>

 

 