---
title: Новые возможности API сервера HTTP версии 2,0
description: В API сервера HTTP версии 2,0 доступны следующие функции.
ms.assetid: 236fdbb0-dead-4b73-9ef6-be2d502b5243
keywords:
- Новые возможности API сервера HTTP версии 2,0
- API сервера HTTP версии 2,0, новые возможности
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 932a27a45768d0cb00cde4cb89fc4e5d424d1f94
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/16/2019
ms.locfileid: "104067591"
---
# <a name="whats-new-for-http-server-version-20-api"></a><span data-ttu-id="29657-105">Новые возможности API сервера HTTP версии 2,0</span><span class="sxs-lookup"><span data-stu-id="29657-105">What's New for HTTP Server Version 2.0 API</span></span>

<span data-ttu-id="29657-106">API-интерфейс версии 2,0 сервера HTTP добавляет объекты конфигурации свойств и расширенные возможности управления очередями запросов.</span><span class="sxs-lookup"><span data-stu-id="29657-106">The HTTP Server version 2.0 API adds property configuration objects and advanced request queue management.</span></span> <span data-ttu-id="29657-107">Дополнительные сведения и полный список функций см. в [справочном разделе по HTTP-серверу версии 2,0](http-server-api-version-2-0-reference.md) .</span><span class="sxs-lookup"><span data-stu-id="29657-107">For more information and a complete list of functions, see the [HTTP Server Version 2.0 Reference](http-server-api-version-2-0-reference.md) topic.</span></span> <span data-ttu-id="29657-108">В API сервера HTTP версии 2,0 доступны следующие функции.</span><span class="sxs-lookup"><span data-stu-id="29657-108">The following features are available in the HTTP Server version 2.0 API.</span></span>

## <a name="configuration-objects"></a><span data-ttu-id="29657-109">Объекты конфигурации</span><span class="sxs-lookup"><span data-stu-id="29657-109">Configuration Objects</span></span>

<span data-ttu-id="29657-110">Объекты конфигурации сеанса сервера и группы URL-адресов позволяют приложениям настраивать службу HTTP.</span><span class="sxs-lookup"><span data-stu-id="29657-110">The server session and URL group configuration objects enable applications to configure the HTTP service.</span></span> <span data-ttu-id="29657-111">Сеанс сервера — это объект конфигурации верхнего уровня, который переопределяет параметры по умолчанию API HTTP-сервера для всех групп URL-адресов, созданных в этом сеансе.</span><span class="sxs-lookup"><span data-stu-id="29657-111">The server session is the top-level configuration object that overrides the HTTP Server API default settings for all the URL groups created under the session.</span></span> <span data-ttu-id="29657-112">Группа URL-адресов, созданная в сеансе сервера, поддерживает набор URL-адресов, получающих параметры конфигурации для группы.</span><span class="sxs-lookup"><span data-stu-id="29657-112">The URL group, created under a server session, maintains a set of URLs that receive the configuration settings for the group.</span></span> <span data-ttu-id="29657-113">Дополнительные сведения см. в разделе [архитектура HTTP версии 2,0](http-version-2-0-architecture.md) .</span><span class="sxs-lookup"><span data-stu-id="29657-113">For more information, see the [HTTP Version 2.0 Architecture](http-version-2-0-architecture.md) topic.</span></span>

## <a name="property-configuration-in-version-20"></a><span data-ttu-id="29657-114">Конфигурация свойства в версии 2,0</span><span class="sxs-lookup"><span data-stu-id="29657-114">Property Configuration in Version 2.0</span></span>

<span data-ttu-id="29657-115">Настройка выполняется в сеансе сервера или в объектах группы URL-адресов.</span><span class="sxs-lookup"><span data-stu-id="29657-115">Configuration is performed on the server session, or URL group objects.</span></span> <span data-ttu-id="29657-116">Конфигурации на уровне сервера задаются в объекте конфигурации сеанса сервера.</span><span class="sxs-lookup"><span data-stu-id="29657-116">Server-wide configurations are set on the server session configuration object.</span></span> <span data-ttu-id="29657-117">Группы URL-адресов, созданные в сеансе сервера, наследуют конфигурации сеансов сервера.</span><span class="sxs-lookup"><span data-stu-id="29657-117">The URL groups, created under the server session, inherit the server session configurations.</span></span> <span data-ttu-id="29657-118">Конфигурации, заданные для группы URL-адресов, переопределяют конфигурации сеанса сервера.</span><span class="sxs-lookup"><span data-stu-id="29657-118">Configurations set on the URL group override the server session configurations.</span></span> <span data-ttu-id="29657-119">Настройки, которые могут быть установлены приложением, включают время ожидания подключения, ограничения подключений, проверку подлинности и ведение журнала.</span><span class="sxs-lookup"><span data-stu-id="29657-119">Configurations that can be set by the application include connection timeouts, connections limits, authentication, and logging.</span></span> <span data-ttu-id="29657-120">Дополнительные сведения см. в разделе [Настройка свойств в HTTP версии 2,0](configuring-properties-in-http-version-2-0.md) .</span><span class="sxs-lookup"><span data-stu-id="29657-120">For more information, see the [Configuring Properties in HTTP Version 2.0](configuring-properties-in-http-version-2-0.md) topic.</span></span>

## <a name="process-isolation-on-request-queues"></a><span data-ttu-id="29657-121">Изоляция процессов в очередях запросов</span><span class="sxs-lookup"><span data-stu-id="29657-121">Process Isolation on Request Queues</span></span>

<span data-ttu-id="29657-122">Очередь запросов версии 2,0 поддерживает изоляцию процессов, позволяя нескольким рабочим процессам выполнять операции ввода-вывода в очереди запросов.</span><span class="sxs-lookup"><span data-stu-id="29657-122">The version 2.0 request queue supports process isolation, allowing multiple worker processes to perform IO on the request queue.</span></span> <span data-ttu-id="29657-123">Свойства конфигурации, заданные в очереди запросов, позволяют приложениям иметь больший контроль над службой.</span><span class="sxs-lookup"><span data-stu-id="29657-123">Configuration properties set on the request queue allow applications to have more control over the service.</span></span> <span data-ttu-id="29657-124">Функция именованной очереди запросов позволяет приложениям создавать очереди запросов и защищать их с помощью списков управления доступом (ACL).</span><span class="sxs-lookup"><span data-stu-id="29657-124">The named request queue feature allows applications to create request queues and secure them with Access Control Lists (ACL).</span></span> <span data-ttu-id="29657-125">Приложения, работающие под учетными записями пользователей, отличными от учетной записи, создавшей очередь запросов, могут открывать очередь запросов, получать запросы и отправлять ответы.</span><span class="sxs-lookup"><span data-stu-id="29657-125">Applications operating under user accounts other than the account that created the request queue are able to open the request queue, receive requests, and send responses.</span></span> <span data-ttu-id="29657-126">Дополнительные сведения см. в разделе [изоляция процессов](process-isolation.md) .</span><span class="sxs-lookup"><span data-stu-id="29657-126">For more information, see the [Process Isolation](process-isolation.md) topic.</span></span>

## <a name="full-kernel-mode-ssl"></a><span data-ttu-id="29657-127">Полный режим ядра SSL</span><span class="sxs-lookup"><span data-stu-id="29657-127">Full Kernel Mode SSL</span></span>

<span data-ttu-id="29657-128">Безопасность SSL в режиме ядра включена по умолчанию. также поддерживаются клиентские сертификаты для взаимной проверки подлинности.</span><span class="sxs-lookup"><span data-stu-id="29657-128">Kernel mode SSL security is enabled by default; client certificates for mutual authentication are also supported.</span></span> <span data-ttu-id="29657-129">Производительность увеличивается за счет выполнения операций SSL в режиме ядра, что сокращает количество переходов между режимами ядра и пользователя.</span><span class="sxs-lookup"><span data-stu-id="29657-129">Performance is increased by completing SSL operations in kernel mode, thus reducing transitions between kernel and user mode.</span></span> <span data-ttu-id="29657-130">Дополнительные сведения см. в разделе, посвященном [режиму ядра SSL](kernel-mode-ssl.md) .</span><span class="sxs-lookup"><span data-stu-id="29657-130">For more information, see the [Kernel Mode SSL](kernel-mode-ssl.md) topic.</span></span>

## <a name="kernel-mode-response-cache"></a><span data-ttu-id="29657-131">Кэш ответов режима ядра</span><span class="sxs-lookup"><span data-stu-id="29657-131">Kernel mode response cache</span></span>

<span data-ttu-id="29657-132">Ответы со статическим содержимым можно кэшировать в режиме ядра, обеспечивая более высокую производительность кэша пользовательского режима.</span><span class="sxs-lookup"><span data-stu-id="29657-132">Responses with static content can be cached in kernel mode providing increased performance over the user mode cache.</span></span> <span data-ttu-id="29657-133">Структура политики кэша отправляется вместе с ответом.</span><span class="sxs-lookup"><span data-stu-id="29657-133">The cache policy structure is sent with the response.</span></span> <span data-ttu-id="29657-134">Дополнительные сведения см. в разделе [кэш режима ядра в HTTP 2,0](kernel-mode-cache-in-http-2-0.md) .</span><span class="sxs-lookup"><span data-stu-id="29657-134">For more information, see the [Kernel Mode Cache in HTTP 2.0](kernel-mode-cache-in-http-2-0.md) topic.</span></span>

## <a name="authentication"></a><span data-ttu-id="29657-135">Аутентификация</span><span class="sxs-lookup"><span data-stu-id="29657-135">Authentication</span></span>

<span data-ttu-id="29657-136">Структуры HTTP- \_ ответа и HTTP- \_ запросов обновляются для включения сведений о проверке подлинности.</span><span class="sxs-lookup"><span data-stu-id="29657-136">The HTTP\_RESPONSE and HTTP\_REQUEST structures are updated to include authentication information.</span></span> <span data-ttu-id="29657-137">Проверка подлинности на стороне сервера поддерживается для следующих схем: Negotiate, NTLM, Basic и Digest.</span><span class="sxs-lookup"><span data-stu-id="29657-137">Server-side authentication is supported for the following schemes: Negotiate, NTLM, Basic, and Digest.</span></span> <span data-ttu-id="29657-138">Приложения могут указывать Поддерживаемые схемы проверки подлинности и задавать порядок предпочтения для этих схем.</span><span class="sxs-lookup"><span data-stu-id="29657-138">Applications can specify the supported authentication schemes and set the order of preference for those schemes.</span></span>

## <a name="object-scoped-versioning"></a><span data-ttu-id="29657-139">Управление версиями с областью действия объекта</span><span class="sxs-lookup"><span data-stu-id="29657-139">Object Scoped Versioning</span></span>

<span data-ttu-id="29657-140">API-интерфейс версии 1,0 сервера HTTP передал сведения о версии в вызове Хттпинитиализе.</span><span class="sxs-lookup"><span data-stu-id="29657-140">The HTTP Server version 1.0 API passed version information in the call to HTTPInitialize.</span></span> <span data-ttu-id="29657-141">Версия задана глобально для всех приложений в том же процессе.</span><span class="sxs-lookup"><span data-stu-id="29657-141">The version was set globally for all applications in the same process.</span></span> <span data-ttu-id="29657-142">В API-интерфейсе версии 2,0 сервера HTTP информация о версии указывается при создании объекта.</span><span class="sxs-lookup"><span data-stu-id="29657-142">In the HTTP Server version 2.0 API, the version information is supplied when the object is created.</span></span> <span data-ttu-id="29657-143">Дополнительные сведения см. [в разделе Управление версиями в API сервера HTTP версии 2,0](versioning-in-http-2-0.md).</span><span class="sxs-lookup"><span data-stu-id="29657-143">For more information, see [Versioning in HTTP Server Version 2.0 API](versioning-in-http-2-0.md).</span></span>

## <a name="logging"></a><span data-ttu-id="29657-144">Ведение журнала</span><span class="sxs-lookup"><span data-stu-id="29657-144">Logging</span></span>

<span data-ttu-id="29657-145">Начиная с версии 2,0, ведение журнала можно настроить с помощью API сервера HTTP.</span><span class="sxs-lookup"><span data-stu-id="29657-145">Starting with version 2.0, logging is configurable through the HTTP Server API.</span></span> <span data-ttu-id="29657-146">Ведение журнала включено в сеансе сервера служит централизованной формой ведения журнала для службы.</span><span class="sxs-lookup"><span data-stu-id="29657-146">Logging enabled on a server session serves as centralized form of logging for the service.</span></span> <span data-ttu-id="29657-147">Ведение журнала также можно включить в группе URL-адресов для отдельных файлов журналов.</span><span class="sxs-lookup"><span data-stu-id="29657-147">Logging can also be enabled on a URL group for individualized log files.</span></span> <span data-ttu-id="29657-148">Приложение определяет формат файлов журнала, а также поля, регистрируемые в журнале на наличие ошибок и успешных транзакций.</span><span class="sxs-lookup"><span data-stu-id="29657-148">The application specifies the format for the log files as well as the fields that are logged for errors and successful transactions.</span></span>

## <a name="graceful-request-queue-shutdown"></a><span data-ttu-id="29657-149">Завершение очереди корректного запроса</span><span class="sxs-lookup"><span data-stu-id="29657-149">Graceful Request Queue Shutdown</span></span>

<span data-ttu-id="29657-150">Приложения могут завершить работу очереди запросов и корректно обработать необработанные запросы в очереди, прежде чем завершать процесс очереди запросов.</span><span class="sxs-lookup"><span data-stu-id="29657-150">Applications can shut down the request queue and gracefully handle outstanding requests in the queue before terminating the request queue process.</span></span> <span data-ttu-id="29657-151">Когда очередь запросов завершает работу, API сервера HTTP останавливает запросы очереди и перенаправляет необработанные запросы в очередь запросов.</span><span class="sxs-lookup"><span data-stu-id="29657-151">When the request queue is shutdown, the HTTP Server API stops queuing requests and re-routes outstanding requests in the request queue.</span></span>

## <a name="demand-start-on-a-request-queue"></a><span data-ttu-id="29657-152">Запуск запроса в очереди запросов</span><span class="sxs-lookup"><span data-stu-id="29657-152">Demand Start on a Request Queue</span></span>

<span data-ttu-id="29657-153">Функция Demand Start в очереди запросов позволяет приложению контроллера отложить создание экземпляра рабочего процесса до тех пор, пока первый запрос не поступит в очередь запросов.</span><span class="sxs-lookup"><span data-stu-id="29657-153">The demand start feature on the request queue allows the controller application to delay worker process instantiation until the first request arrives on the request queue.</span></span> <span data-ttu-id="29657-154">Поэтому приложения могут избежать использования ресурсов, пока они не потребуются.</span><span class="sxs-lookup"><span data-stu-id="29657-154">Thus, applications can avoid consuming resources until they are required.</span></span> <span data-ttu-id="29657-155">Дополнительные сведения см. в разделе [запросы на запуск по запросу версии 2,0](demand-start-on-version-2-0-request-queues.md) .</span><span class="sxs-lookup"><span data-stu-id="29657-155">For more information, see the [Demand Start on Version 2.0 Request Queues](demand-start-on-version-2-0-request-queues.md) topic.</span></span>

## <a name="port-sharing"></a><span data-ttu-id="29657-156">Совместное использование портов</span><span class="sxs-lookup"><span data-stu-id="29657-156">Port Sharing</span></span>

<span data-ttu-id="29657-157">Приложения на основе API HTTP-сервера автоматически совместно используют пространство прослушивания IP-адресов с другими приложениями на основе API сервера, отличными от HTTP, на компьютере; список прослушивания IP-адресов больше не требуется.</span><span class="sxs-lookup"><span data-stu-id="29657-157">HTTP Server API-based applications automatically share the IP listen space with other non-HTTP Server API-based applications on the computer; the IP listen list is no longer required.</span></span> <span data-ttu-id="29657-158">Когда приложение регистрирует URL-адрес, API сервера HTTP прослушивает только указанный IP-адрес и пару портов.</span><span class="sxs-lookup"><span data-stu-id="29657-158">When the application registers a URL, the HTTP Server API listens only on the specified IP address and port pair.</span></span>

## <a name="etw-support"></a><span data-ttu-id="29657-159">Поддержка ETW</span><span class="sxs-lookup"><span data-stu-id="29657-159">ETW Support</span></span>

<span data-ttu-id="29657-160">Расширенная трассировка с помощью средства трассировки событий Windows (ETW) позволяет приложениям использовать более широкие возможности диагностики.</span><span class="sxs-lookup"><span data-stu-id="29657-160">Advanced tracing using the Event Tracing for Windows (ETW) allows applications greater diagnostic abilities.</span></span> <span data-ttu-id="29657-161">Трассировка событий доступна для регистрации и резервирования URL-адресов, настройки свойств, событий кэша, проверки подлинности и ведения журнала для нескольких имен.</span><span class="sxs-lookup"><span data-stu-id="29657-161">Event tracing is available for URL registrations and reservations, property configuration, cache events, authentication, and logging to name a few.</span></span>

## <a name="performance-counters"></a><span data-ttu-id="29657-162">Счетчики производительности</span><span class="sxs-lookup"><span data-stu-id="29657-162">Performance Counters</span></span>

<span data-ttu-id="29657-163">Средство счетчика производительности позволяет приложениям получать счетчики служб и диагностировать производительность службы.</span><span class="sxs-lookup"><span data-stu-id="29657-163">The performance counter tool allows applications to retrieve service counters and diagnose service performance.</span></span> <span data-ttu-id="29657-164">Глобальные счетчики отслеживание производительности для службы, счетчики сайтов, которые записывают производительность группы URL-адресов, а счетчики очереди запросов отслеживаниют производительность очереди запросов.</span><span class="sxs-lookup"><span data-stu-id="29657-164">Global counters track performance for the service, site counters track URL group performance, and request queue counters track performance of the request queue.</span></span>

## <a name="international-domain-names-idn"></a><span data-ttu-id="29657-165">Международные доменные имена (IDN)</span><span class="sxs-lookup"><span data-stu-id="29657-165">International Domain Names (IDN)</span></span>

<span data-ttu-id="29657-166">Международные части URL-адреса узла и пути позволяют регистрировать доменные имена и пути, отличные от ASCII.</span><span class="sxs-lookup"><span data-stu-id="29657-166">Internationalized host and path portions of the URL allow registration of non-ASCII domain names and paths.</span></span> <span data-ttu-id="29657-167">API сервера HTTP обрабатывает URL-адреса в Юникоде для соответствия стандартам IDN.</span><span class="sxs-lookup"><span data-stu-id="29657-167">The HTTP Server API processes Unicode URLs to comply with IDN standards.</span></span>

## <a name="netsh-extensions"></a><span data-ttu-id="29657-168">Расширения NetSH</span><span class="sxs-lookup"><span data-stu-id="29657-168">NetSH Extensions</span></span>

<span data-ttu-id="29657-169">Служебная программа netsh заменяет средство HttpCfg.exe, доступное в Windows Server 2003 и Windows XP с пакетом обновления 2 (SP2).</span><span class="sxs-lookup"><span data-stu-id="29657-169">The netsh utility replaces the HttpCfg.exe tool available in Windows Server 2003 and Windows XP with Service Pack 2 (SP2).</span></span> <span data-ttu-id="29657-170">Расширение Netsh предоставляет средства управления, диагностики и настройки службы HTTP.</span><span class="sxs-lookup"><span data-stu-id="29657-170">The netsh extension provides a means of managing, diagnosing, and configuring the HTTP service.</span></span> <span data-ttu-id="29657-171">Администраторы могут запрашивать и настраивать параметры на уровне сервера, такие как регистрация пространства имен и SSL-сертификаты.</span><span class="sxs-lookup"><span data-stu-id="29657-171">Administrators can query and configure server-wide settings such as namespace registrations and SSL certificates.</span></span>

 

 




