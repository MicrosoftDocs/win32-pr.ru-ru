---
title: Ведение журнала W3C
description: Расширенное ведение журнала W3C — это тип ведения журнала на стороне сервера, который может быть включен в сеансе сервера или группе URL-адресов.
ms.assetid: a08b8f9e-2247-43c6-b253-81f72001d8d2
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: b253daebae22a2b99e152451cff360c7b633ca64
ms.sourcegitcommit: ebd3ce6908ff865f1ef66f2fc96769be0aad82e1
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/19/2020
ms.locfileid: "103789774"
---
# <a name="w3c-logging"></a><span data-ttu-id="f3387-103">Ведение журнала W3C</span><span class="sxs-lookup"><span data-stu-id="f3387-103">W3C Logging</span></span>

<span data-ttu-id="f3387-104">Расширенное ведение журнала W3C — это тип ведения журнала на стороне сервера, который может быть включен в сеансе сервера или группе URL-адресов.</span><span class="sxs-lookup"><span data-stu-id="f3387-104">W3C extended logging is type of server side logging that can be enabled on the server session or URL group.</span></span> <span data-ttu-id="f3387-105">Если ведение журнала W3C включено в группе URL-адресов, ведение журнала выполняется только для запросов, направляемых в группу URL-адресов.</span><span class="sxs-lookup"><span data-stu-id="f3387-105">When W3C logging is enabled on a URL group, logging is performed only on requests that are routed to the URL Group.</span></span> <span data-ttu-id="f3387-106">Для каждой группы URL-адресов, настроенной для включения ведения журнала W3C, создается отдельный файл журнала.</span><span class="sxs-lookup"><span data-stu-id="f3387-106">A separate log file is created for each URL group configured to enable W3C logging.</span></span>

<span data-ttu-id="f3387-107">Если ведение журнала W3C включено в сеансе сервера, оно работает как централизованная форма ведения журнала для всех групп URL-адресов в сеансе сервера.</span><span class="sxs-lookup"><span data-stu-id="f3387-107">When W3C logging is enabled on the server session it functions as centralized form of logging for all the URL groups under the server session.</span></span> <span data-ttu-id="f3387-108">Для всех групп URL-адресов в сеансе сервера поддерживается один файл журнала.</span><span class="sxs-lookup"><span data-stu-id="f3387-108">A single log file is maintained for all of the URL groups in the server session.</span></span>

<span data-ttu-id="f3387-109">В следующей таблице перечислены поля, которые могут регистрироваться с помощью API-интерфейса сервера HTTP.</span><span class="sxs-lookup"><span data-stu-id="f3387-109">The following table lists the fields that can be logged by the HTTP Server API.</span></span> <span data-ttu-id="f3387-110">Таблица содержит подмножество констант [**\_ \_ поля журнала HTTP**](http-log-field--constants.md) .</span><span class="sxs-lookup"><span data-stu-id="f3387-110">The table contains a subset of the [**HTTP\_LOG\_FIELD**](http-log-field--constants.md) constants.</span></span> <span data-ttu-id="f3387-111">Некоторые из перечисленных ниже полей автоматически создаются API HTTP-сервера внутренним образом и не содержатся в структуре [**\_ \_ \_ данных полей журнала HTTP**](/windows/desktop/api/Http/ns-http-http_log_fields_data) .</span><span class="sxs-lookup"><span data-stu-id="f3387-111">Some of the fields listed below are auto generated by HTTP Server API internally and therefore not contained in the [**HTTP\_LOG\_FIELDS\_DATA**](/windows/desktop/api/Http/ns-http-http_log_fields_data) structure.</span></span> <span data-ttu-id="f3387-112">Столбец «выглядит как» содержит текст, который отображается в файле журнала.</span><span class="sxs-lookup"><span data-stu-id="f3387-112">The "Appears As" column contains the text that appears in the log file.</span></span> <span data-ttu-id="f3387-113">Данные в таблице находятся в порядке возникновения в записи файла журнала.</span><span class="sxs-lookup"><span data-stu-id="f3387-113">The data in the table is in the order of occurrence in the log file record.</span></span>

<span data-ttu-id="f3387-114">Поля, не помеченные как "HTTP-интерфейс API сервера", должны передаваться внутри структуры [**\_ \_ \_ данных полей журнала HTTP**](/windows/desktop/api/Http/ns-http-http_log_fields_data) приложением.</span><span class="sxs-lookup"><span data-stu-id="f3387-114">Fields that are not marked "HTTP Server API generated" have to be passed inside [**HTTP\_LOG\_FIELDS\_DATA**](/windows/desktop/api/Http/ns-http-http_log_fields_data) structure by application.</span></span> <span data-ttu-id="f3387-115">Приложение может создать эти поля из переданной структуры [**HTTP- \_ запроса**](/previous-versions/windows/desktop/legacy/aa364545(v=vs.85)) .</span><span class="sxs-lookup"><span data-stu-id="f3387-115">Application could generate those fields from the [**HTTP\_REQUEST**](/previous-versions/windows/desktop/legacy/aa364545(v=vs.85)) structure passed to it.</span></span>



| <span data-ttu-id="f3387-116">Поле</span><span class="sxs-lookup"><span data-stu-id="f3387-116">Field</span></span>                            | <span data-ttu-id="f3387-117">Отображается как</span><span class="sxs-lookup"><span data-stu-id="f3387-117">Appears As</span></span>      | <span data-ttu-id="f3387-118">Описание</span><span class="sxs-lookup"><span data-stu-id="f3387-118">Description</span></span>                                                                                                                                | <span data-ttu-id="f3387-119">\_ \_ Элемент данных полей журнала HTTP \_</span><span class="sxs-lookup"><span data-stu-id="f3387-119">HTTP\_LOG\_FIELDS\_DATA Member</span></span> | <span data-ttu-id="f3387-120">\_ \_ Константы для полей журнала HTTP</span><span class="sxs-lookup"><span data-stu-id="f3387-120">HTTP\_LOG\_FIELDS constants</span></span>      |
|----------------------------------|-----------------|--------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------|----------------------------------|
| <span data-ttu-id="f3387-121">Дата</span><span class="sxs-lookup"><span data-stu-id="f3387-121">Date</span></span>                             | <span data-ttu-id="f3387-122">дата</span><span class="sxs-lookup"><span data-stu-id="f3387-122">date</span></span>            | <span data-ttu-id="f3387-123">Дата, когда произошло действие.</span><span class="sxs-lookup"><span data-stu-id="f3387-123">The date on which the activity occurred.</span></span>                                                                                                   | <span data-ttu-id="f3387-124">API HTTP-сервера создан.</span><span class="sxs-lookup"><span data-stu-id="f3387-124">HTTP Server API generated.</span></span>     | <span data-ttu-id="f3387-125">\_ \_ Дата поля журнала \_ http</span><span class="sxs-lookup"><span data-stu-id="f3387-125">HTTP\_LOG\_FIELD\_DATE</span></span>           |
| <span data-ttu-id="f3387-126">Время</span><span class="sxs-lookup"><span data-stu-id="f3387-126">Time</span></span>                             | <span data-ttu-id="f3387-127">time</span><span class="sxs-lookup"><span data-stu-id="f3387-127">time</span></span>            | <span data-ttu-id="f3387-128">Время, в течение которого произошло действие, в формате UTC.</span><span class="sxs-lookup"><span data-stu-id="f3387-128">The time, in coordinated universal time (UTC), at which the activity occurred.</span></span>                                                             | <span data-ttu-id="f3387-129">API HTTP-сервера создан.</span><span class="sxs-lookup"><span data-stu-id="f3387-129">HTTP Server API generated.</span></span>     | <span data-ttu-id="f3387-130">\_время для \_ поля \_ журнала HTTP</span><span class="sxs-lookup"><span data-stu-id="f3387-130">HTTP\_LOG\_FIELD\_TIME</span></span>           |
| <span data-ttu-id="f3387-131">Имя службы и номер экземпляра</span><span class="sxs-lookup"><span data-stu-id="f3387-131">Service Name and Instance Number</span></span> | <span data-ttu-id="f3387-132">s-sitename</span><span class="sxs-lookup"><span data-stu-id="f3387-132">s-sitename</span></span>      | <span data-ttu-id="f3387-133">Имя службы Интернета и номер экземпляра, запущенные на клиенте.</span><span class="sxs-lookup"><span data-stu-id="f3387-133">The Internet service name and instance number that was running on the client.</span></span>                                                              | <span data-ttu-id="f3387-134">ServiceName</span><span class="sxs-lookup"><span data-stu-id="f3387-134">ServiceName</span></span>                    | <span data-ttu-id="f3387-135">\_ \_ имя сайта для поля журнала \_ HTTP \_</span><span class="sxs-lookup"><span data-stu-id="f3387-135">HTTP\_LOG\_FIELD\_SITE\_NAME</span></span>     |
| <span data-ttu-id="f3387-136">Server Name (Имя сервера)</span><span class="sxs-lookup"><span data-stu-id="f3387-136">Server Name</span></span>                      | <span data-ttu-id="f3387-137">s-ComputerName</span><span class="sxs-lookup"><span data-stu-id="f3387-137">s-computername</span></span>  | <span data-ttu-id="f3387-138">Имя сервера, на котором была создана запись файла журнала.</span><span class="sxs-lookup"><span data-stu-id="f3387-138">The name of the server on which the log file entry was generated.</span></span>                                                                          | <span data-ttu-id="f3387-139">ServerName</span><span class="sxs-lookup"><span data-stu-id="f3387-139">ServerName</span></span>                     | <span data-ttu-id="f3387-140">\_ \_ имя компьютера для поля журнала \_ HTTP \_</span><span class="sxs-lookup"><span data-stu-id="f3387-140">HTTP\_LOG\_FIELD\_COMPUTER\_NAME</span></span> |
| <span data-ttu-id="f3387-141">IP-адрес сервера</span><span class="sxs-lookup"><span data-stu-id="f3387-141">Server IP Address</span></span>                | <span data-ttu-id="f3387-142">s — IP-адрес</span><span class="sxs-lookup"><span data-stu-id="f3387-142">s-ip</span></span>            | <span data-ttu-id="f3387-143">IP-адрес сервера, на котором была создана запись файла журнала.</span><span class="sxs-lookup"><span data-stu-id="f3387-143">The IP address of the server on which the log file entry was generated.</span></span>                                                                    | <span data-ttu-id="f3387-144">ServerIp</span><span class="sxs-lookup"><span data-stu-id="f3387-144">ServerIp</span></span>                       | <span data-ttu-id="f3387-145">\_ \_ \_ \_ IP-адрес сервера для поля журнала HTTP</span><span class="sxs-lookup"><span data-stu-id="f3387-145">HTTP\_LOG\_FIELD\_SERVER\_IP</span></span>     |
| <span data-ttu-id="f3387-146">Метод</span><span class="sxs-lookup"><span data-stu-id="f3387-146">Method</span></span>                           | <span data-ttu-id="f3387-147">CS-Method</span><span class="sxs-lookup"><span data-stu-id="f3387-147">cs-method</span></span>       | <span data-ttu-id="f3387-148">Запрашиваемая команда, например метод GET.</span><span class="sxs-lookup"><span data-stu-id="f3387-148">The requested verb, for example, a GET method.</span></span>                                                                                             | <span data-ttu-id="f3387-149">Метод</span><span class="sxs-lookup"><span data-stu-id="f3387-149">Method</span></span>                         | <span data-ttu-id="f3387-150">\_ \_ метод поля журнала \_ http</span><span class="sxs-lookup"><span data-stu-id="f3387-150">HTTP\_LOG\_FIELD\_METHOD</span></span>         |
| <span data-ttu-id="f3387-151">Ресурс URI</span><span class="sxs-lookup"><span data-stu-id="f3387-151">URI Stem</span></span>                         | <span data-ttu-id="f3387-152">CS-URI — ресурс</span><span class="sxs-lookup"><span data-stu-id="f3387-152">cs-uri-stem</span></span>     | <span data-ttu-id="f3387-153">Целевой объект команды, например Default.htm.</span><span class="sxs-lookup"><span data-stu-id="f3387-153">The target of the verb, for example, Default.htm.</span></span>                                                                                          | <span data-ttu-id="f3387-154">UriStem</span><span class="sxs-lookup"><span data-stu-id="f3387-154">UriStem</span></span>                        | <span data-ttu-id="f3387-155">\_ресурс- \_ \_ URI поля журнала HTTP \_</span><span class="sxs-lookup"><span data-stu-id="f3387-155">HTTP\_LOG\_FIELD\_URI\_STEM</span></span>      |
| <span data-ttu-id="f3387-156">Запрос URI</span><span class="sxs-lookup"><span data-stu-id="f3387-156">URI Query</span></span>                        | <span data-ttu-id="f3387-157">CS-URI-запрос</span><span class="sxs-lookup"><span data-stu-id="f3387-157">cs-uri-query</span></span>    | <span data-ttu-id="f3387-158">Запрос, если таковой имеется, который клиент пытался выполнить.</span><span class="sxs-lookup"><span data-stu-id="f3387-158">The query, if any, that the client was trying to perform.</span></span> <span data-ttu-id="f3387-159">Запрос универсального кода ресурса (URI) требуется только для динамических страниц.</span><span class="sxs-lookup"><span data-stu-id="f3387-159">A Universal Resource Identifier (URI) query is necessary only for dynamic pages.</span></span> | <span data-ttu-id="f3387-160">UriQuery</span><span class="sxs-lookup"><span data-stu-id="f3387-160">UriQuery</span></span>                       | <span data-ttu-id="f3387-161">\_ \_ запрос URI для поля журнала \_ HTTP \_</span><span class="sxs-lookup"><span data-stu-id="f3387-161">HTTP\_LOG\_FIELD\_URI\_QUERY</span></span>     |
| <span data-ttu-id="f3387-162">Порт сервера</span><span class="sxs-lookup"><span data-stu-id="f3387-162">Server Port</span></span>                      | <span data-ttu-id="f3387-163">s-Port</span><span class="sxs-lookup"><span data-stu-id="f3387-163">s-port</span></span>          | <span data-ttu-id="f3387-164">Номер порта сервера, настроенного для службы.</span><span class="sxs-lookup"><span data-stu-id="f3387-164">The server port number that is configured for the service.</span></span>                                                                                 | <span data-ttu-id="f3387-165">ServerPort</span><span class="sxs-lookup"><span data-stu-id="f3387-165">ServerPort</span></span>                     | <span data-ttu-id="f3387-166">\_ \_ \_ порт сервера полей журнала \_ http</span><span class="sxs-lookup"><span data-stu-id="f3387-166">HTTP\_LOG\_FIELD\_SERVER\_PORT</span></span>   |
| <span data-ttu-id="f3387-167">Имя пользователя</span><span class="sxs-lookup"><span data-stu-id="f3387-167">User Name</span></span>                        | <span data-ttu-id="f3387-168">CS-username</span><span class="sxs-lookup"><span data-stu-id="f3387-168">cs-username</span></span>     | <span data-ttu-id="f3387-169">Имя пользователя, прошедшего проверку подлинности, который получил доступ к серверу.</span><span class="sxs-lookup"><span data-stu-id="f3387-169">The name of the authenticated user that accessed the server.</span></span> <span data-ttu-id="f3387-170">Анонимные пользователи обозначаются дефисом.</span><span class="sxs-lookup"><span data-stu-id="f3387-170">Anonymous users are indicated by a hyphen.</span></span>                                    | <span data-ttu-id="f3387-171">Имя пользователя</span><span class="sxs-lookup"><span data-stu-id="f3387-171">UserName</span></span>                       | <span data-ttu-id="f3387-172">\_ \_ имя пользователя для поля журнала \_ HTTP \_</span><span class="sxs-lookup"><span data-stu-id="f3387-172">HTTP\_LOG\_FIELD\_USER\_NAME</span></span>     |
| <span data-ttu-id="f3387-173">IP-адрес клиента</span><span class="sxs-lookup"><span data-stu-id="f3387-173">Client IP Address</span></span>                | <span data-ttu-id="f3387-174">c-ip</span><span class="sxs-lookup"><span data-stu-id="f3387-174">c-ip</span></span>            | <span data-ttu-id="f3387-175">IP-адрес отправившего запрос клиента.</span><span class="sxs-lookup"><span data-stu-id="f3387-175">The IP address of the client that made the request.</span></span>                                                                                        | <span data-ttu-id="f3387-176">ClientIp</span><span class="sxs-lookup"><span data-stu-id="f3387-176">ClientIp</span></span>                       | <span data-ttu-id="f3387-177">\_ \_ \_ \_ IP-адрес клиента для поля журнала HTTP</span><span class="sxs-lookup"><span data-stu-id="f3387-177">HTTP\_LOG\_FIELD\_CLIENT\_IP</span></span>     |
| <span data-ttu-id="f3387-178">Версия протокола</span><span class="sxs-lookup"><span data-stu-id="f3387-178">Protocol Version</span></span>                 | <span data-ttu-id="f3387-179">CS-Version</span><span class="sxs-lookup"><span data-stu-id="f3387-179">cs-version</span></span>      | <span data-ttu-id="f3387-180">Версия протокола HTTP, используемая клиентом.</span><span class="sxs-lookup"><span data-stu-id="f3387-180">The HTTP protocol version that the client used.</span></span>                                                                                            | <span data-ttu-id="f3387-181">API HTTP-сервера создан.</span><span class="sxs-lookup"><span data-stu-id="f3387-181">HTTP Server API generated.</span></span>     | <span data-ttu-id="f3387-182">\_ \_ версия поля журнала \_ http</span><span class="sxs-lookup"><span data-stu-id="f3387-182">HTTP\_LOG\_FIELD\_VERSION</span></span>        |
| <span data-ttu-id="f3387-183">Агент пользователя</span><span class="sxs-lookup"><span data-stu-id="f3387-183">User Agent</span></span>                       | <span data-ttu-id="f3387-184">CS (User-Agent)</span><span class="sxs-lookup"><span data-stu-id="f3387-184">cs(User-Agent)</span></span>  | <span data-ttu-id="f3387-185">Тип браузера, используемый клиентом.</span><span class="sxs-lookup"><span data-stu-id="f3387-185">The browser type that the client used.</span></span>                                                                                                     | <span data-ttu-id="f3387-186">UserAgent</span><span class="sxs-lookup"><span data-stu-id="f3387-186">UserAgent</span></span>                      | <span data-ttu-id="f3387-187">\_ \_ Агент пользователя для поля журнала \_ HTTP \_</span><span class="sxs-lookup"><span data-stu-id="f3387-187">HTTP\_LOG\_FIELD\_USER\_AGENT</span></span>    |
| <span data-ttu-id="f3387-188">Куки-файл</span><span class="sxs-lookup"><span data-stu-id="f3387-188">Cookie</span></span>                           | <span data-ttu-id="f3387-189">CS (файл cookie)</span><span class="sxs-lookup"><span data-stu-id="f3387-189">cs(Cookie)</span></span>      | <span data-ttu-id="f3387-190">Содержимое отправленного или полученного файла cookie, если таковое имеется.</span><span class="sxs-lookup"><span data-stu-id="f3387-190">The content of the cookie sent or received, if any.</span></span>                                                                                        | <span data-ttu-id="f3387-191">Куки-файл</span><span class="sxs-lookup"><span data-stu-id="f3387-191">Cookie</span></span>                         | <span data-ttu-id="f3387-192">\_ \_ файл cookie поля журнала HTTP \_</span><span class="sxs-lookup"><span data-stu-id="f3387-192">HTTP\_LOG\_FIELD\_COOKIE</span></span>         |
| <span data-ttu-id="f3387-193">Referrer</span><span class="sxs-lookup"><span data-stu-id="f3387-193">Referrer</span></span>                         | <span data-ttu-id="f3387-194">CS (Источник ссылки)</span><span class="sxs-lookup"><span data-stu-id="f3387-194">cs(Referrer)</span></span>    | <span data-ttu-id="f3387-195">Сайт, который последний раз посещал пользователь.</span><span class="sxs-lookup"><span data-stu-id="f3387-195">The site that the user last visited.</span></span> <span data-ttu-id="f3387-196">Этот сайт предоставил ссылку на текущий сайт.</span><span class="sxs-lookup"><span data-stu-id="f3387-196">This site provided a link to the current site.</span></span>                                                        | <span data-ttu-id="f3387-197">Referrer</span><span class="sxs-lookup"><span data-stu-id="f3387-197">Referrer</span></span>                       | <span data-ttu-id="f3387-198">\_ \_ Источник ссылки для поля журнала HTTP \_</span><span class="sxs-lookup"><span data-stu-id="f3387-198">HTTP\_LOG\_FIELD\_REFERRER</span></span>       |
| <span data-ttu-id="f3387-199">Узел</span><span class="sxs-lookup"><span data-stu-id="f3387-199">Host</span></span>                             | <span data-ttu-id="f3387-200">CS-Host</span><span class="sxs-lookup"><span data-stu-id="f3387-200">cs-host</span></span>         | <span data-ttu-id="f3387-201">Имя заголовка узла, если оно есть.</span><span class="sxs-lookup"><span data-stu-id="f3387-201">The host header name, if any.</span></span>                                                                                                              | <span data-ttu-id="f3387-202">Узел</span><span class="sxs-lookup"><span data-stu-id="f3387-202">Host</span></span>                           | <span data-ttu-id="f3387-203">\_ \_ узел поля журнала \_ http</span><span class="sxs-lookup"><span data-stu-id="f3387-203">HTTP\_LOG\_FIELD\_HOST</span></span>           |
| <span data-ttu-id="f3387-204">Состояние HTTP</span><span class="sxs-lookup"><span data-stu-id="f3387-204">HTTP Status</span></span>                      | <span data-ttu-id="f3387-205">SC — состояние</span><span class="sxs-lookup"><span data-stu-id="f3387-205">sc-status</span></span>       | <span data-ttu-id="f3387-206">Код состояния HTTP.</span><span class="sxs-lookup"><span data-stu-id="f3387-206">The HTTP status code.</span></span>                                                                                                                      | <span data-ttu-id="f3387-207">ProtocolStatus</span><span class="sxs-lookup"><span data-stu-id="f3387-207">ProtocolStatus</span></span>                 | <span data-ttu-id="f3387-208">\_ \_ состояние поля журнала \_ http</span><span class="sxs-lookup"><span data-stu-id="f3387-208">HTTP\_LOG\_FIELD\_STATUS</span></span>         |
| <span data-ttu-id="f3387-209">Подсостояние протокола</span><span class="sxs-lookup"><span data-stu-id="f3387-209">Protocol Substatus</span></span>               | <span data-ttu-id="f3387-210">SC — подсостояние</span><span class="sxs-lookup"><span data-stu-id="f3387-210">sc-substatus</span></span>    | <span data-ttu-id="f3387-211">Код ошибки подсостояния.</span><span class="sxs-lookup"><span data-stu-id="f3387-211">The substatus error code.</span></span>                                                                                                                  | <span data-ttu-id="f3387-212">SubStatus</span><span class="sxs-lookup"><span data-stu-id="f3387-212">SubStatus</span></span>                      | <span data-ttu-id="f3387-213">\_подсостояние \_ поля \_ журнала \_ http</span><span class="sxs-lookup"><span data-stu-id="f3387-213">HTTP\_LOG\_FIELD\_SUB\_STATUS</span></span>    |
| <span data-ttu-id="f3387-214">Состояние Win32</span><span class="sxs-lookup"><span data-stu-id="f3387-214">Win32 Status</span></span>                     | <span data-ttu-id="f3387-215">SC-Win32-Status</span><span class="sxs-lookup"><span data-stu-id="f3387-215">sc-win32-status</span></span> | <span data-ttu-id="f3387-216">Код состояния Windows.</span><span class="sxs-lookup"><span data-stu-id="f3387-216">The Windows status code.</span></span>                                                                                                                   | <span data-ttu-id="f3387-217">Win32Status</span><span class="sxs-lookup"><span data-stu-id="f3387-217">Win32Status</span></span>                    | <span data-ttu-id="f3387-218">\_Поле журнала \_ HTTP \_ \_ состояние Win32</span><span class="sxs-lookup"><span data-stu-id="f3387-218">HTTP\_LOG\_FIELD\_WIN32\_STATUS</span></span>  |
| <span data-ttu-id="f3387-219">Отправлено байт</span><span class="sxs-lookup"><span data-stu-id="f3387-219">Bytes Sent</span></span>                       | <span data-ttu-id="f3387-220">SC — байты</span><span class="sxs-lookup"><span data-stu-id="f3387-220">sc-bytes</span></span>        | <span data-ttu-id="f3387-221">Число байт, отправленных сервером.</span><span class="sxs-lookup"><span data-stu-id="f3387-221">The number of bytes sent by the server.</span></span>                                                                                                    | <span data-ttu-id="f3387-222">API HTTP-сервера создан.</span><span class="sxs-lookup"><span data-stu-id="f3387-222">HTTP Server API generated.</span></span>     | <span data-ttu-id="f3387-223">\_ \_ \_ Отправлено байт для поля журнала \_ http</span><span class="sxs-lookup"><span data-stu-id="f3387-223">HTTP\_LOG\_FIELD\_BYTES\_SENT</span></span>    |
| <span data-ttu-id="f3387-224">Получено байт</span><span class="sxs-lookup"><span data-stu-id="f3387-224">Bytes Received</span></span>                   | <span data-ttu-id="f3387-225">CS-байт</span><span class="sxs-lookup"><span data-stu-id="f3387-225">cs-bytes</span></span>        | <span data-ttu-id="f3387-226">Число байтов, полученных и обработанных сервером.</span><span class="sxs-lookup"><span data-stu-id="f3387-226">The number of bytes received and processed by the server.</span></span>                                                                                  | <span data-ttu-id="f3387-227">API HTTP-сервера создан.</span><span class="sxs-lookup"><span data-stu-id="f3387-227">HTTP Server API generated.</span></span>     | <span data-ttu-id="f3387-228">\_байтов для \_ поля журнала HTTP \_ \_ recv</span><span class="sxs-lookup"><span data-stu-id="f3387-228">HTTP\_LOG\_FIELD\_BYTES\_RECV</span></span>    |
| <span data-ttu-id="f3387-229">Затраченное время</span><span class="sxs-lookup"><span data-stu-id="f3387-229">Time Taken</span></span>                       | <span data-ttu-id="f3387-230">время съемки</span><span class="sxs-lookup"><span data-stu-id="f3387-230">time-taken</span></span>      | <span data-ttu-id="f3387-231">Количество времени, затраченное на выполнение действия (в миллисекундах).</span><span class="sxs-lookup"><span data-stu-id="f3387-231">The length of time that the action took, in milliseconds.</span></span>                                                                                  | <span data-ttu-id="f3387-232">API HTTP-сервера создан.</span><span class="sxs-lookup"><span data-stu-id="f3387-232">HTTP Server API generated.</span></span>     | <span data-ttu-id="f3387-233">\_ \_ \_ затраченное время для поля журнала \_ http</span><span class="sxs-lookup"><span data-stu-id="f3387-233">HTTP\_LOG\_FIELD\_TIME\_TAKEN</span></span>    |
| <span data-ttu-id="f3387-234">Идентификатор потока</span><span class="sxs-lookup"><span data-stu-id="f3387-234">Stream ID</span></span>                      | <span data-ttu-id="f3387-235">streamid</span><span class="sxs-lookup"><span data-stu-id="f3387-235">streamid</span></span>          | <span data-ttu-id="f3387-236">Идентификатор потока.</span><span class="sxs-lookup"><span data-stu-id="f3387-236">The Stream Id.</span></span>                                                                                  | <span data-ttu-id="f3387-237">API HTTP-сервера создан.</span><span class="sxs-lookup"><span data-stu-id="f3387-237">HTTP Server API generated.</span></span>     | <span data-ttu-id="f3387-238">\_ \_ \_ идентификатор потока полей журнала \_ http</span><span class="sxs-lookup"><span data-stu-id="f3387-238">HTTP\_LOG\_FIELD\_STREAM\_ID</span></span>       |



 

<span data-ttu-id="f3387-239">Файл журнала — это настраиваемый текстовый формат ASCII.</span><span class="sxs-lookup"><span data-stu-id="f3387-239">The log file is a customizable ASCII text-based format.</span></span> <span data-ttu-id="f3387-240">Префиксы полей в файле определяются следующим образом.</span><span class="sxs-lookup"><span data-stu-id="f3387-240">The field prefixes in the file are defined as follows:</span></span>

|     |                           |
|-----|---------------------------|
| <span data-ttu-id="f3387-241">s</span><span class="sxs-lookup"><span data-stu-id="f3387-241">s</span></span>   | <span data-ttu-id="f3387-242">Действия сервера.</span><span class="sxs-lookup"><span data-stu-id="f3387-242">Server actions.</span></span>           |
| <span data-ttu-id="f3387-243">c</span><span class="sxs-lookup"><span data-stu-id="f3387-243">c</span></span>   | <span data-ttu-id="f3387-244">Действия клиента.</span><span class="sxs-lookup"><span data-stu-id="f3387-244">Client actions.</span></span>           |
| <span data-ttu-id="f3387-245">SC</span><span class="sxs-lookup"><span data-stu-id="f3387-245">sc</span></span>  | <span data-ttu-id="f3387-246">Действия "сервер-клиент".</span><span class="sxs-lookup"><span data-stu-id="f3387-246">Server-to-Client actions.</span></span> |
| <span data-ttu-id="f3387-247">cs</span><span class="sxs-lookup"><span data-stu-id="f3387-247">cs</span></span>  | <span data-ttu-id="f3387-248">Действия "клиент-сервер".</span><span class="sxs-lookup"><span data-stu-id="f3387-248">Client-to-Server actions.</span></span> |



 

<span data-ttu-id="f3387-249">Приложение может выбрать один или несколько полей расширенного файла журнала W3C, однако не все поля будут содержать сведения.</span><span class="sxs-lookup"><span data-stu-id="f3387-249">The application can select one or more of the W3C Extended log file fields, however, not all fields will contain information.</span></span> <span data-ttu-id="f3387-250">Для выбранных полей, для которых нет сведений, в качестве заполнителя отображается дефис (-).</span><span class="sxs-lookup"><span data-stu-id="f3387-250">For fields that are selected but for which there is no information, a hyphen (-) appears as a placeholder.</span></span> <span data-ttu-id="f3387-251">Если поле содержит непечатный символ, API сервера HTTP заменяет его знаком «плюс» (+) для сохранения формата файла журнала.</span><span class="sxs-lookup"><span data-stu-id="f3387-251">If a field contains a nonprintable character, the HTTP Server API replaces it with a plus sign (+) to preserve the log file format.</span></span> <span data-ttu-id="f3387-252">Обычно это происходит при атаках с вирусами, например, когда злоумышленник отправляет символы возврата каретки и перевода строки, которые, если они не заменяются знаком плюс (+), приведут к нарушению формата файла журнала.</span><span class="sxs-lookup"><span data-stu-id="f3387-252">This typically occurs with virus attacks, when, for example, a malicious user sends carriage returns and line feeds that, if not replaced with the plus sign (+), would break the log file format.</span></span> <span data-ttu-id="f3387-253">Поля разделяются пробелами.</span><span class="sxs-lookup"><span data-stu-id="f3387-253">Fields are separated by spaces.</span></span>

<span data-ttu-id="f3387-254">Если поле включено в группе URL-адресов или сеансе сервера, но не выбрано для запроса, он появится в файле журнала с дефисом (-) в качестве заполнителя.</span><span class="sxs-lookup"><span data-stu-id="f3387-254">If a field is enabled by the URL group or server session, but not selected for the request, it appears in the log file with a hyphen (-) as a placeholder.</span></span>

<span data-ttu-id="f3387-255">Файлы журнала создаются при поступлении первого запроса в группу URL-адресов или сеанс сервера, при настройке ведения журнала они не создаются.</span><span class="sxs-lookup"><span data-stu-id="f3387-255">Log files are created when the first request arrives on the URL Group or server session, they are not created when logging is configured.</span></span> <span data-ttu-id="f3387-256">В следующем примере показана первая запись файла журнала W3C с IP-адресом клиента, именем пользователя, IP-адресом сервера, портом сервера, методом, ресурсом URI, запросом URI, состоянием и агентом пользователя.</span><span class="sxs-lookup"><span data-stu-id="f3387-256">The following example shows the first log file entry for a W3C log file with the Client IP, Username, Server IP, Server Port, Method, URI Stem, URI Query, Status, and User Agent fields enabled:</span></span>

``` syntax
#Software: Microsoft HTTP Server API 2.0  
#Version: 1.0   // the log file version as it's described by "https://www.w3.org/TR/WD-logfile".
#Date: 2002-05-02 17:42:15  // when the first log file entry was recorded, which is when the entire log file was created.
#Fields: date time c-ip cs-username s-ip s-port cs-method cs-uri-stem cs-uri-query sc-status cs(User-Agent)
2002-05-02 17:42:15 172.22.255.255 - 172.30.255.255 80 GET /images/picture.jpg - 200 Mozilla/4.0+(compatible;MSIE+5.5;+Windows+2000+Server)
```

<span data-ttu-id="f3387-257">Поле с временным временем инициализируется, когда API HTTP-сервера получает первый байт перед синтаксическим анализом запроса.</span><span class="sxs-lookup"><span data-stu-id="f3387-257">The time-taken field is initialized when the HTTP Server API receives the first byte, before the request is parsed.</span></span> <span data-ttu-id="f3387-258">Штамп времени, когда происходит Последнее завершение отправки, останавливается.</span><span class="sxs-lookup"><span data-stu-id="f3387-258">The time-taken timestamp is stopped when the last send completion occurs.</span></span> <span data-ttu-id="f3387-259">Время ожидания не отражает время по сети.</span><span class="sxs-lookup"><span data-stu-id="f3387-259">Time-taken does not reflect time across the network.</span></span> <span data-ttu-id="f3387-260">Первый запрос к сайту показывает немного больше времени, чем другие аналогичные запросы, так как API сервера HTTP открывает файл журнала с первым запросом.</span><span class="sxs-lookup"><span data-stu-id="f3387-260">The first request to the site shows a slightly longer time taken than other similar requests because the HTTP Server API opens the log file with the first request.</span></span>

 

 