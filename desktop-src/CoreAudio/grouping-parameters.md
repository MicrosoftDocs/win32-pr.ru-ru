---
description: Группирование параметров
ms.assetid: 088156f7-fb75-4fcf-b928-87e97b13bdab
title: Группирование параметров
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: ecfb674d4349f351ce36fe1e236d1ecd3b265d8e
ms.sourcegitcommit: c7add10d695482e1ceb72d62b8a4ebd84ea050f7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "103807438"
---
# <a name="grouping-parameters"></a><span data-ttu-id="c76c6-103">Группирование параметров</span><span class="sxs-lookup"><span data-stu-id="c76c6-103">Grouping Parameters</span></span>

<span data-ttu-id="c76c6-104">Параметр группирования определяет коллекцию [звуковых сеансов](audio-sessions.md) , которые управляются одним элементом управления громкостью в программе системного управления громкостью, сндвол.</span><span class="sxs-lookup"><span data-stu-id="c76c6-104">A grouping parameter identifies a collection of [audio sessions](audio-sessions.md) that are all controlled by a single volume control in the system volume-control program, Sndvol.</span></span> <span data-ttu-id="c76c6-105">Параметр GROUPING — это идентификатор GUID, который однозначно определяет коллекцию в области действия компьютера.</span><span class="sxs-lookup"><span data-stu-id="c76c6-105">The grouping parameter is a GUID that uniquely identifies the collection within the scope of the computer.</span></span>

<span data-ttu-id="c76c6-106">Назначение параметра группирования аналогично идентификатору GUID сеанса для межпроцессного сеанса.</span><span class="sxs-lookup"><span data-stu-id="c76c6-106">The purpose of a grouping parameter is similar to that of the session GUID for a cross-process session.</span></span> <span data-ttu-id="c76c6-107">То есть параметр GROUPING позволяет пользователю управлять коллекцией потоков из любого количества процессов как единое целое.</span><span class="sxs-lookup"><span data-stu-id="c76c6-107">That is, the grouping parameter enables the user to control a collection of streams from any number of processes as a single unit.</span></span> <span data-ttu-id="c76c6-108">Однако параметр Group служит для выполнения этой задачи в случаях, когда межпроцессные сеансы не могут предоставить решение.</span><span class="sxs-lookup"><span data-stu-id="c76c6-108">However, the grouping parameter serves this purpose in circumstances in which cross-process sessions cannot provide a solution.</span></span>

<span data-ttu-id="c76c6-109">Если несколько клиентов присваивают своим потокам отдельные сеансы, но каждому из них назначен один и тот же параметр группирования, Сндвол отображает один регулятор громкости для этих сеансов.</span><span class="sxs-lookup"><span data-stu-id="c76c6-109">If several clients assign their respective streams to separate sessions but assign the same grouping parameter to all of the sessions, Sndvol displays a single volume control for these sessions.</span></span> <span data-ttu-id="c76c6-110">Чтобы обеспечить поддержку группирования параметров, Сндвол или любое аналогичное приложение управления томами должно выполнить следующие действия.</span><span class="sxs-lookup"><span data-stu-id="c76c6-110">To provide support for grouping parameters, Sndvol or any similar volume-control application must do the following:</span></span>

-   <span data-ttu-id="c76c6-111">Перед отображением элементов управления громкостью проверьте параметры группирования всех активных сеансов.</span><span class="sxs-lookup"><span data-stu-id="c76c6-111">Before displaying the volume controls, check the grouping parameters of all the active sessions.</span></span> <span data-ttu-id="c76c6-112">Группировать вместе с одним томом управляет всеми сеансами с одинаковым параметром группирования.</span><span class="sxs-lookup"><span data-stu-id="c76c6-112">Group together under a single volume control all sessions that have the same grouping parameter.</span></span>
-   <span data-ttu-id="c76c6-113">Когда пользователь изменяет параметр в элементе управления "Громкость" для определенного параметра группирования, обновите уровни громкости всех сеансов, которые совместно используют этот параметр группирования.</span><span class="sxs-lookup"><span data-stu-id="c76c6-113">When the user changes the setting on a volume control for a particular grouping parameter, update the volume levels of all of the sessions that share that grouping parameter.</span></span>

<span data-ttu-id="c76c6-114">Группирование параметров позволяет сократить количество элементов управления громкостью, отображаемых Сндвол.</span><span class="sxs-lookup"><span data-stu-id="c76c6-114">Grouping parameters help to reduce the number of volume controls that are displayed by Sndvol.</span></span> <span data-ttu-id="c76c6-115">Пользователи могут перепутаться, если Сндвол перестают отображать слишком много элементов управления.</span><span class="sxs-lookup"><span data-stu-id="c76c6-115">Users might become confused if Sndvol clutters its display with too many controls.</span></span> <span data-ttu-id="c76c6-116">Без поддержки группирования параметров Сндвол всегда будет отображать отдельный регулятор громкости для каждого сеанса, что может оказаться неприемлемым во всех обстоятельствах.</span><span class="sxs-lookup"><span data-stu-id="c76c6-116">Without support for grouping parameters, Sndvol would always display a separate volume control for each session, which might not be appropriate in all circumstances.</span></span> <span data-ttu-id="c76c6-117">Кроме того, параметры группировки предоставляют удобный способ, позволяющий легко установить один уровень громкости для сеансов, которые содержат похожие типы аудио-содержимого.</span><span class="sxs-lookup"><span data-stu-id="c76c6-117">In addition, grouping parameters provide a convenient way to ensure that sessions that contain similar types of audio content can easily be set to the same volume level.</span></span>

<span data-ttu-id="c76c6-118">Как упоминалось ранее, аудио API более высокого уровня обычно применяют свои потоки к сеансу конкретного процесса по умолчанию (определяемому идентификатором GUID сеанса GUID \_ null).</span><span class="sxs-lookup"><span data-stu-id="c76c6-118">As explained previously, higher-level audio APIs typically assign their streams to the default, process-specific session (identified by the session GUID value GUID\_NULL).</span></span> <span data-ttu-id="c76c6-119">Это значение по умолчанию позволяет Сндвол отображать отдельный регулятор громкости для каждого процесса клиентского приложения, что часто является необходимым поведением.</span><span class="sxs-lookup"><span data-stu-id="c76c6-119">This default enables Sndvol to display a separate volume control for each client application process, which is frequently the desired behavior.</span></span> <span data-ttu-id="c76c6-120">Более того, если несколько экземпляров одного и того же клиента выполняются в отдельных процессах, но требуется один общий элемент управления томами, клиенты могут просто назначить свои потоки в один и тот же сеанс между процессами.</span><span class="sxs-lookup"><span data-stu-id="c76c6-120">Furthermore, if several instances of the same client run in separate processes but require a single, shared volume control, the clients can simply assign their streams to the same cross-process session.</span></span> <span data-ttu-id="c76c6-121">Ни один из этих вариантов не требует использования параметров группирования.</span><span class="sxs-lookup"><span data-stu-id="c76c6-121">Neither of these cases requires the use of grouping parameters.</span></span> <span data-ttu-id="c76c6-122">Однако в одном из важных случаев, как содержащиеся в Microsoft Internet Explorer, требуется использование параметров группирования для достижения желаемого поведения.</span><span class="sxs-lookup"><span data-stu-id="c76c6-122">However, one important case, as exemplified by Microsoft Internet Explorer, does require the use of grouping parameters to achieve the desired behavior.</span></span>

<span data-ttu-id="c76c6-123">Internet Explorer позволяет пользователям открывать несколько окон браузера, и эти окна могут не работать в одном процессе.</span><span class="sxs-lookup"><span data-stu-id="c76c6-123">Internet Explorer allows users to open multiple browser windows, and these windows might not all run in the same process.</span></span> <span data-ttu-id="c76c6-124">Пользователи могут стать запутанными, если Сндвол отображает отдельный регулятор громкости для каждого экземпляра приложения, у которого одна и та же метка — Internet Explorer.</span><span class="sxs-lookup"><span data-stu-id="c76c6-124">Users might become confused if Sndvol displayed a separate volume control for each application instance, all of which had the same label, "Internet Explorer."</span></span> <span data-ttu-id="c76c6-125">Межпроцессный сеанс не является разумным решением в этом случае. Если несколько экземпляров Internet Explorer выполняются в разных процессах, они не смогут назначить все свои звуковые потоки одному сеансу между процессами.</span><span class="sxs-lookup"><span data-stu-id="c76c6-125">A cross-process session is not a feasible solution in this case—if several instances of Internet Explorer run in different processes, they might be unable to assign all of their audio streams to a single cross-process session.</span></span> <span data-ttu-id="c76c6-126">Причина заключается в том, что окна Internet Explorer могут работать с экземплярами проигрывателя Windows Media или другим подключаемым модулем мультимедиа, использующим API аудио более высокого уровня для воспроизведения своих звуковых потоков.</span><span class="sxs-lookup"><span data-stu-id="c76c6-126">The reason is that the Internet Explorer windows might be running instances of Windows Media Player or some other multimedia plug-in that uses a higher-level audio API to play its audio streams.</span></span> <span data-ttu-id="c76c6-127">Эти интерфейсы API обычно назначают потоки в процессе по умолчанию, сеансу конкретного процесса.</span><span class="sxs-lookup"><span data-stu-id="c76c6-127">These APIs typically assign the streams in a process to a default, process-specific session.</span></span> <span data-ttu-id="c76c6-128">Internet Explorer не контролирует назначение этих потоков сеансам.</span><span class="sxs-lookup"><span data-stu-id="c76c6-128">Internet Explorer has no control over the assignment of these streams to sessions.</span></span>

<span data-ttu-id="c76c6-129">ВАСАПИ решает эту проблему, позволяя каждому экземпляру Internet Explorer получать доступ к элементам управления сеанса по умолчанию, сеансу конкретного процесса и назначить параметр группирования этому сеансу.</span><span class="sxs-lookup"><span data-stu-id="c76c6-129">WASAPI solves this problem by enabling each instance of Internet Explorer to access the session controls for its default, process-specific session and to assign a grouping parameter to that session.</span></span> <span data-ttu-id="c76c6-130">Если всем экземплярам Internet Explorer назначен один и тот же параметр группирования во всех своих звуковых сеансах, Сндвол будет отображать один регулятор громкости для этих сеансов.</span><span class="sxs-lookup"><span data-stu-id="c76c6-130">If all instances of Internet Explorer assign the same grouping parameter to all of their audio sessions, then Sndvol will display a single volume control for these sessions.</span></span>

<span data-ttu-id="c76c6-131">По умолчанию сеанс не принадлежит ни к одной группировке.</span><span class="sxs-lookup"><span data-stu-id="c76c6-131">By default, a session does not belong to any grouping.</span></span> <span data-ttu-id="c76c6-132">Если клиент явно не назначает сеанс группирования, Сндвол отображает выделенный элемент управления громкостью для этого сеанса.</span><span class="sxs-lookup"><span data-stu-id="c76c6-132">If a client does not explicitly assign a session to a grouping, then Sndvol displays a dedicated volume control for that session.</span></span> <span data-ttu-id="c76c6-133">Значение параметра группирования GUID \_ null указывает, что сеанс не принадлежит ни одной группе группирования.</span><span class="sxs-lookup"><span data-stu-id="c76c6-133">The grouping parameter value GUID\_NULL indicates that a session does not belong to any grouping.</span></span> <span data-ttu-id="c76c6-134">Если ни один клиент явно не назначил параметр группирования для сеанса, значение параметра группирования для этого сеанса \_ по умолчанию равно GUID null.</span><span class="sxs-lookup"><span data-stu-id="c76c6-134">If no client has explicitly assigned a grouping parameter to a session, then the grouping parameter value for that session is GUID\_NULL by default.</span></span>

<span data-ttu-id="c76c6-135">Клиент может динамически изменять группирование, к которому назначен сеанс.</span><span class="sxs-lookup"><span data-stu-id="c76c6-135">A client can dynamically change the grouping to which a session is assigned.</span></span>

<span data-ttu-id="c76c6-136">Группирование может включать любое сочетание межпроцессных сеансов и сеансов, зависящих от процесса, на [устройстве конечной точки звука](audio-endpoint-devices.md).</span><span class="sxs-lookup"><span data-stu-id="c76c6-136">A grouping can include any combination of cross-process sessions and process-specific sessions on an [audio endpoint device](audio-endpoint-devices.md).</span></span>

<span data-ttu-id="c76c6-137">Пользовательский интерфейс Сндвол позволяет пользователю отображать регуляторы громкости только для одного устройства звуковой конечной точки за раз.</span><span class="sxs-lookup"><span data-stu-id="c76c6-137">The Sndvol user interface allows the user to display the volume controls for only one audio endpoint device at a time.</span></span> <span data-ttu-id="c76c6-138">Когда пользователь корректирует элементы управления громкостью для определенного устройства, это не повлияет на уровни громкости сеансов, подключающихся к другим устройствам.</span><span class="sxs-lookup"><span data-stu-id="c76c6-138">When the user adjusts the volume controls for a particular device, the volume levels of sessions that connect to other devices are not affected.</span></span> <span data-ttu-id="c76c6-139">В частности, элемент управления "Громкость" для определенного параметра группирования влияет только на сеансы, которые совместно используют параметр группирования и подключены к текущему выбранному устройству.</span><span class="sxs-lookup"><span data-stu-id="c76c6-139">In particular, a volume control for a particular grouping parameter affects only sessions that share the grouping parameter and are connected to the currently selected device.</span></span> <span data-ttu-id="c76c6-140">В сеансе, который имеет идентичный параметр группирования, но он подключен к другому устройству, не влияет.</span><span class="sxs-lookup"><span data-stu-id="c76c6-140">A session that happens to have an identical grouping parameter but is connected to another device is not affected.</span></span>

<span data-ttu-id="c76c6-141">Как было сказано ранее, Сндвол помечает каждый элемент управления громкостью, который отображается с отображаемым именем и значком.</span><span class="sxs-lookup"><span data-stu-id="c76c6-141">As described previously, Sndvol labels each volume control that it displays with a display name and icon.</span></span> <span data-ttu-id="c76c6-142">В случае с элементом управления громкостью для группирования Сндвол произвольно выбирает один из сеансов в группе в качестве источника для отображаемого имени и значка, который отображается с помощью регулятора громкости.</span><span class="sxs-lookup"><span data-stu-id="c76c6-142">In the case of a volume control for a grouping, Sndvol arbitrarily selects one of the sessions in the grouping as the source for the display name and icon that it displays with the volume control.</span></span> <span data-ttu-id="c76c6-143">Таким же, чтобы гарантировать, что Сндвол всегда отображает одно и то же отображаемое имя и значок для группы, все экземпляры приложения, которые назначают сеансы этой группе, должны убедиться, что соответствующие сеансы имеют одинаковое отображаемое имя и значок.</span><span class="sxs-lookup"><span data-stu-id="c76c6-143">Thus, to ensure that Sndvol always displays the same display name and icon for a grouping, all application instances that assign sessions to that grouping should ensure that their respective sessions have the same display name and icon.</span></span> <span data-ttu-id="c76c6-144">Дополнительные сведения о отображаемых именах и значках см. в статье о [звуковых сеансах](audio-sessions.md).</span><span class="sxs-lookup"><span data-stu-id="c76c6-144">For more information about display names and icons, see [Audio Sessions](audio-sessions.md).</span></span>

<span data-ttu-id="c76c6-145">Приложение, например Сндвол, может зарегистрироваться для получения уведомлений при изменении параметра группирования для сеанса.</span><span class="sxs-lookup"><span data-stu-id="c76c6-145">An application such as Sndvol can register itself to receive notifications when the grouping parameter for a session changes.</span></span> <span data-ttu-id="c76c6-146">Такие уведомления могут быть полезны, если приложение кэширует сведения о назначении сеансов для группирования параметров.</span><span class="sxs-lookup"><span data-stu-id="c76c6-146">Such notifications might be useful if the application caches information about the assignment of sessions to grouping parameters.</span></span> <span data-ttu-id="c76c6-147">Уведомление информирует приложение о том, что кэшированные данные могут стать недействительными.</span><span class="sxs-lookup"><span data-stu-id="c76c6-147">A notification informs the application that the cached information might no longer be valid.</span></span>

<span data-ttu-id="c76c6-148">Чтобы назначить параметр группирования для сеанса, вызовите метод [**иаудиосессионконтрол:: сетграупингпарам**](/windows/desktop/api/Audiopolicy/nf-audiopolicy-iaudiosessioncontrol-setgroupingparam) .</span><span class="sxs-lookup"><span data-stu-id="c76c6-148">To assign a grouping parameter to a session, call the [**IAudioSessionControl::SetGroupingParam**](/windows/desktop/api/Audiopolicy/nf-audiopolicy-iaudiosessioncontrol-setgroupingparam) method.</span></span> <span data-ttu-id="c76c6-149">Чтобы получить параметр группирования, назначенный сеансу, вызовите метод [**иаудиосессионконтрол:: жетграупингпарам**](/windows/desktop/api/Audiopolicy/nf-audiopolicy-iaudiosessioncontrol-getgroupingparam) .</span><span class="sxs-lookup"><span data-stu-id="c76c6-149">To obtain the grouping parameter that is assigned to a session, call the [**IAudioSessionControl::GetGroupingParam**](/windows/desktop/api/Audiopolicy/nf-audiopolicy-iaudiosessioncontrol-getgroupingparam) method.</span></span>

## <a name="related-topics"></a><span data-ttu-id="c76c6-150">См. также</span><span class="sxs-lookup"><span data-stu-id="c76c6-150">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="c76c6-151">Сеансы аудио</span><span class="sxs-lookup"><span data-stu-id="c76c6-151">Audio Sessions</span></span>](audio-sessions.md)
</dt> </dl>

 

 



