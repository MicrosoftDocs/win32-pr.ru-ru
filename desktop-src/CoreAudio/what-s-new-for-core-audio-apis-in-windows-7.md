---
description: Основные API-интерфейсы аудиоподсистемы появились в Windows Vista, предоставили новый набор звуковых компонентов пользовательского режима, которые клиентское приложение может использовать для отображения или записи звуковых потоков с улучшенными возможностями аудио.
ms.assetid: eb99c266-16d2-4a14-bc1d-059a0a94db13
title: Новые возможности для основных API-интерфейсов аудиоподсистемы в Windows 7
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: b3c87a4daa9e645587253239082475e59fd1563c
ms.sourcegitcommit: c7add10d695482e1ceb72d62b8a4ebd84ea050f7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "105655870"
---
# <a name="whats-new-for-core-audio-apis-in-windows-7"></a><span data-ttu-id="be07f-103">Новые возможности для основных API-интерфейсов аудиоподсистемы в Windows 7</span><span class="sxs-lookup"><span data-stu-id="be07f-103">What's New for Core Audio APIs in Windows 7</span></span>

<span data-ttu-id="be07f-104">Основные API-интерфейсы аудиоподсистемы появились в Windows Vista, предоставили новый набор звуковых компонентов пользовательского режима, которые клиентское приложение может использовать для отображения или записи звуковых потоков с улучшенными возможностями аудио.</span><span class="sxs-lookup"><span data-stu-id="be07f-104">The Core Audio APIs were introduced in Windows Vista, which provided a new set of user-mode audio components that a client application can use to render or capture audio streams with improved audio capabilities.</span></span> <span data-ttu-id="be07f-105">Общие сведения об этом наборе API см. в статье [о Windows Core Audio API](about-the-windows-core-audio-apis.md).</span><span class="sxs-lookup"><span data-stu-id="be07f-105">For a general overview of this API set, see [About the Windows Core Audio APIs](about-the-windows-core-audio-apis.md).</span></span>

<span data-ttu-id="be07f-106">В Windows 7 были улучшены основные API аудио.</span><span class="sxs-lookup"><span data-stu-id="be07f-106">The Core Audio APIs have been improved in Windows 7.</span></span> <span data-ttu-id="be07f-107">В следующей таблице перечислены новые функции и усовершенствования основных API-интерфейсов аудио.</span><span class="sxs-lookup"><span data-stu-id="be07f-107">The following table summarizes the new features and the improvements to the Core Audio APIs:</span></span>



<table>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header">
<th><span data-ttu-id="be07f-108">Функция</span><span class="sxs-lookup"><span data-stu-id="be07f-108">Feature</span></span></th>
<th><span data-ttu-id="be07f-109">Описание</span><span class="sxs-lookup"><span data-stu-id="be07f-109">Description</span></span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><span data-ttu-id="be07f-110">Универсальные усовершенствования</span><span class="sxs-lookup"><span data-stu-id="be07f-110">Generic improvements</span></span></td>
<td><span data-ttu-id="be07f-111">В Windows 7 были улучшены следующие возможности:</span><span class="sxs-lookup"><span data-stu-id="be07f-111">The following features have been improved in Windows 7:</span></span>
<ul>
<li><span data-ttu-id="be07f-112">В потоках в режиме "общий доступ" Windows 7 выполняется в <em>режиме с низкой задержкой</em>.</span><span class="sxs-lookup"><span data-stu-id="be07f-112">In Windows 7 share mode streams run in <em>low-latency mode</em>.</span></span> <span data-ttu-id="be07f-113">Обработчик аудио работает в режиме опроса с значительным снижением задержки.</span><span class="sxs-lookup"><span data-stu-id="be07f-113">The audio engine runs in pull mode with a significant reduction in latency.</span></span> <span data-ttu-id="be07f-114">Это очень полезно для коммуникационных приложений, требующих низкой задержки аудиопотока для ускорения потоковой передачи.</span><span class="sxs-lookup"><span data-stu-id="be07f-114">This is very useful for communication applications that require low audio stream latency for faster streaming.</span></span></li>
<li><span data-ttu-id="be07f-115">Windows 7 обеспечивает лучшее обнаружение роли устройства при добавлении нового устройства в систему.</span><span class="sxs-lookup"><span data-stu-id="be07f-115">Windows 7 provides better device role detection when a new device is added to the system.</span></span> <span data-ttu-id="be07f-116">Дополнительные сведения см. в разделе <a href="device-roles-in-windows-vista.md">Работа с ролями устройств</a>.</span><span class="sxs-lookup"><span data-stu-id="be07f-116">For more information, see <a href="device-roles-in-windows-vista.md">Working with Device Roles</a>.</span></span></li>
<li><span data-ttu-id="be07f-117">В Windows 7 вы можете слушать музыку из портативного проигрывателя мультимедиа через динамики компьютера.</span><span class="sxs-lookup"><span data-stu-id="be07f-117">In Windows 7 you can listen to music from your portable media player through your computer speakers.</span></span> <span data-ttu-id="be07f-118">Эту функцию монитора записи можно использовать, подключив портативный проигрыватель мультимедиа к компьютеру с помощью аналогового звукового кабеля.</span><span class="sxs-lookup"><span data-stu-id="be07f-118">You can use this Capture Monitor feature by plugging a portable media player into your computer with an analog audio cable.</span></span> <span data-ttu-id="be07f-119">В прошлом некоторые поставщики вычислительной техники предоставили эту функцию в аудио драйвер с помощью аппаратного замыкания на себя.</span><span class="sxs-lookup"><span data-stu-id="be07f-119">In the past some OEMs have provided this functionality in the audio driver by using a hardware loopback.</span></span> <span data-ttu-id="be07f-120">В Windows 7 Эта функция добавлена в операционную систему.</span><span class="sxs-lookup"><span data-stu-id="be07f-120">In Windows 7, this functionality has been added to the operating system.</span></span> <span data-ttu-id="be07f-121">Так как он находится в системе, а не в драйвере, его можно использовать для любого другого устройства, подключенного к системе, например гарнитуры USB.</span><span class="sxs-lookup"><span data-stu-id="be07f-121">Because this is in the system and not the driver, you can use this for any other device connected to the system, such as a USB headset.</span></span></li>
<li><span data-ttu-id="be07f-122">В Windows 7 улучшена аудиосистема HDMI, которая обеспечивает поддержку формата с высокой скоростью.</span><span class="sxs-lookup"><span data-stu-id="be07f-122">HDMI audio has been enhanced in Windows 7, which provides support for high-bit-rate format.</span></span> <span data-ttu-id="be07f-123">С помощью этого улучшения вы можете поддерживать многоканальные аудио и сжатые звуковые форматы с помощью соединителя HDMI для звукового приемника.</span><span class="sxs-lookup"><span data-stu-id="be07f-123">With this improvement, you can support multichannel audio and compressed audio formats over an HDMI connector to an audio receiver.</span></span></li>
<li><span data-ttu-id="be07f-124">В Windows Vista проигрыватель Windows Media воспроизводит музыку только через звуковое устройство по умолчанию, которое не может быть изменено пользователем.</span><span class="sxs-lookup"><span data-stu-id="be07f-124">In Windows Vista, Windows Media Player plays music only through the default audio device, which cannot be changed by the user.</span></span> <span data-ttu-id="be07f-125">Чтобы проигрыватель Windows Media отображал звук на конкретном устройстве, необходимо изменить устройство по умолчанию на панели управления " <strong>звуки</strong> ".</span><span class="sxs-lookup"><span data-stu-id="be07f-125">For Windows Media Player to render audio to a particular device, the default device must be changed in the <strong>Sounds</strong> control panel.</span></span> <span data-ttu-id="be07f-126">В Windows 7 проигрыватель Windows Media предоставляет интерфейсы API, позволяющие приложению визуализироваться на любое устройство, выбранное пользователем, а не только на устройство по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="be07f-126">In Windows 7, Windows Media Player provides APIs that enable an application to render to any device selected by the user and not just the default device.</span></span></li>
<li><span data-ttu-id="be07f-127">В Windows Vista, если компьютер, воспроизводящий звук, переключается в режим энергосбережения, компьютер блокируется, и если пользователь хочет прервать воспроизведение, пользователь должен войти в систему и нажать клавишу остановить, чтобы остановить воспроизведение.</span><span class="sxs-lookup"><span data-stu-id="be07f-127">In Windows Vista, if a computer that is playing audio switches to the power-save mode, the computer is locked, and if the user wants to interrupt the playback, the user must log on and press the stop key to stop the playback.</span></span> <span data-ttu-id="be07f-128">В Windows 7, если компьютер заблокирован, вы по-прежнему можете управлять воспроизведением с помощью элемента управления HID на клавиатуре.</span><span class="sxs-lookup"><span data-stu-id="be07f-128">In Windows 7, if the computer is locked, you can still control the playback by using the HID control on the keyboard.</span></span></li>
<li><span data-ttu-id="be07f-129">Windows 7 сокращает энергопотребление любого приложения, использующего DirectSound и DirectShow для визуализации мультимедиа.</span><span class="sxs-lookup"><span data-stu-id="be07f-129">Windows 7 reduces power consumption for any application that uses DirectSound and DirectShow to render media.</span></span> <span data-ttu-id="be07f-130">Кроме того, служба планировщика классов мультимедиа позволяет использовать устойчивость к сбоях и уменьшает энергопотребление при создании звуковых образцов.</span><span class="sxs-lookup"><span data-stu-id="be07f-130">In addition, the Multimedia Class Scheduler Service enables glitch-resilient audio and uses less power while the audio samples are being generated.</span></span></li>
</ul></td>
</tr>
<tr class="even">
<td><span data-ttu-id="be07f-131">Коммуникационное устройство (новое)</span><span class="sxs-lookup"><span data-stu-id="be07f-131">Communication device (New)</span></span></td>
<td><span data-ttu-id="be07f-132">В этом выпуске новый тип устройства добавлен в панель управления " <strong>звуки</strong> ": устройство <strong>связи</strong> .</span><span class="sxs-lookup"><span data-stu-id="be07f-132">In this release a new device type has been added to the <strong>Sounds</strong> control panel: <strong>Communications</strong> device.</span></span> <span data-ttu-id="be07f-133">Это устройство используется в основном для обмена данными, то есть для размещения или приема телефонных звонков на компьютере.</span><span class="sxs-lookup"><span data-stu-id="be07f-133">This device is used primarily for communications, that is, to place or receive phone calls on the computer.</span></span> <span data-ttu-id="be07f-134">Приложение для обмена данными может использовать основные компоненты аудиоподсистемы для получения ссылки на конечную точку устройства связи по умолчанию и прорисовки звуковых потоков для обмена данными.</span><span class="sxs-lookup"><span data-stu-id="be07f-134">A communication application can use Core Audio components to get a reference to the endpoint of the default communication device and render audio streams for communication purposes.</span></span> <span data-ttu-id="be07f-135">Операционная система считает, что поток, Открытый на коммуникационном устройстве, является потоком связи.</span><span class="sxs-lookup"><span data-stu-id="be07f-135">The operating system considers the stream opened on a communication device to be a communication stream.</span></span> <span data-ttu-id="be07f-136">Операции ВАСАПИ в потоке связи похожи на любой другой аудиопоток.</span><span class="sxs-lookup"><span data-stu-id="be07f-136">The WASAPI operations on a communication stream are similar to any other audio stream.</span></span> <span data-ttu-id="be07f-137">Дополнительные сведения см. в разделе <a href="device-roles-in-windows-vista.md">Работа с ролями устройств</a>.</span><span class="sxs-lookup"><span data-stu-id="be07f-137">For more information, see <a href="device-roles-in-windows-vista.md">Working with Device Roles</a>.</span></span></td>
</tr>
<tr class="odd">
<td><span data-ttu-id="be07f-138">Затухание потока или аудио дуккинг (новое)</span><span class="sxs-lookup"><span data-stu-id="be07f-138">Stream attenuation or audio ducking (New)</span></span></td>
<td><span data-ttu-id="be07f-139">Автоматическое дуккинг или <a href="stream-attenuation.md">затухание потока</a> — это новая функция Windows 7, предназначенная для VoIP и Объединенных коммуникационных приложений.</span><span class="sxs-lookup"><span data-stu-id="be07f-139">Automatic ducking or <a href="stream-attenuation.md">Stream Attenuation</a> is a new feature in Windows 7 that is intended for VoIP and Unified Communication applications.</span></span> <span data-ttu-id="be07f-140">По умолчанию операционная система сокращает интенсивность аудиопотока, когда поток обмена данными, например телефонный звонок, получается на коммуникационном устройстве через компьютер.</span><span class="sxs-lookup"><span data-stu-id="be07f-140">By default, the operating system reduces the intensity of an audio stream when a communication stream, such as a phone call, is received on the communication device through the computer.</span></span> <span data-ttu-id="be07f-141">Параметры тома задаются пользователем на панели управления <strong>звуком</strong> .</span><span class="sxs-lookup"><span data-stu-id="be07f-141">The volume options are set by the user in the <strong>Sound</strong> control panel.</span></span> <span data-ttu-id="be07f-142">В Windows SDK были добавлены новые API, позволяющие приложениям заменять поведение дуккинг по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="be07f-142">New APIs have been added in the Windows SDK that enable applications to replace the default ducking behavior.</span></span> <span data-ttu-id="be07f-143">Дополнительные сведения о реализации пользовательской функции дуккинг см. в разделе <a href="providing-a-custom-ducking-experience.md">предоставление пользовательского поведения дуккинг</a>.</span><span class="sxs-lookup"><span data-stu-id="be07f-143">For more information about implementing a custom ducking feature, see <a href="providing-a-custom-ducking-experience.md">Providing a Custom Ducking Behavior</a>.</span></span> <br/></td>
</tr>
<tr class="even">
<td><span data-ttu-id="be07f-144">Потоковая маршрутизация (Новая)</span><span class="sxs-lookup"><span data-stu-id="be07f-144">Stream routing (New)</span></span></td>
<td><span data-ttu-id="be07f-145">В Windows 7 Основные API аудио были улучшены для беспрепятственного перенаправления звукового потока с существующего устройства на новую конечную точку звука по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="be07f-145">In Windows 7, the Core Audio APIs have been improved to transfer an audio stream seamlessly from an existing device to a new default audio endpoint.</span></span> <span data-ttu-id="be07f-146">Высокоуровневые наборы API аудио, использующие основные API-интерфейсы, такие как Media Foundation, DirectSound и WAVE API, реализуют функцию маршрутизации потоков.</span><span class="sxs-lookup"><span data-stu-id="be07f-146">High-level audio API sets that use Core Audio APIs, such as Media Foundation, DirectSound, and WAVE APIs, implement the stream routing feature.</span></span> <span data-ttu-id="be07f-147">Приложения мультимедиа, использующие эти наборы API для воспроизведения или записи потока, используют реализацию по умолчанию и не требуется изменять приложение.</span><span class="sxs-lookup"><span data-stu-id="be07f-147">Media applications that use these API sets to play or capture a stream use the default implementation and do not have to modify the application.</span></span> <span data-ttu-id="be07f-148">Однако если приложение мультимедиа использует API-интерфейсы Core Audio напрямую, приложение должно предоставить реализацию маршрутизации потоков.</span><span class="sxs-lookup"><span data-stu-id="be07f-148">However, if your media application uses Core Audio APIs directly, the application needs to provide the stream routing implementation.</span></span> <span data-ttu-id="be07f-149">Для этого приложение должно выполнить обработку новых событий, которые были добавлены для уведомления клиента ВАСАПИ о том, что устройство по умолчанию подключено или удалено.</span><span class="sxs-lookup"><span data-stu-id="be07f-149">To do so, the application must handle new events that have been added that notify a WASAPI client when the default device is connected or removed.</span></span> <span data-ttu-id="be07f-150">Дополнительные сведения об этой функции см. в статье <a href="stream-routing.md">потоковая маршрутизация</a>.</span><span class="sxs-lookup"><span data-stu-id="be07f-150">For more information about this feature, see <a href="stream-routing.md">Stream Routing</a>.</span></span></td>
</tr>
<tr class="odd">
<td><span data-ttu-id="be07f-151">Звук защищенного режима пользователя (PUMA) (улучшено)</span><span class="sxs-lookup"><span data-stu-id="be07f-151">Protected User Mode Audio (PUMA) (Improved)</span></span></td>
<td><span data-ttu-id="be07f-152">PUMA был обновлен для Windows 7, чтобы предоставить следующие возможности:</span><span class="sxs-lookup"><span data-stu-id="be07f-152">PUMA has been updated for Windows 7 to provide the following features:</span></span>
<ul>
<li><span data-ttu-id="be07f-153">Установка битов системы управления последовательного копирования (СКМС) в конечных точках S/PDIF и высокоскоростных цифровых Защита содержимого (HDCP) на конечных точках High-Definitionного интерфейса (HDMI).</span><span class="sxs-lookup"><span data-stu-id="be07f-153">Setting Serial Copying Management System (SCMS) bits on S/PDIF endpoints and High-bandwidth Digital Content Protection (HDCP) bits on High-Definition Multimedia Interface (HDMI) endpoints.</span></span></li>
<li><span data-ttu-id="be07f-154">Включение элементов управления защиты СКМС и HDMI за пределами защищенной среды (PE).</span><span class="sxs-lookup"><span data-stu-id="be07f-154">Enabling SCMS and HDMI protection controls outside of a Protected Environment (PE).</span></span></li>
</ul>
<span data-ttu-id="be07f-155">Дополнительные сведения об улучшениях см. в разделе <a href="protected-user-mode-audio--puma-.md">Защита звука в режиме защищенного пользователя (Puma)</a>.</span><span class="sxs-lookup"><span data-stu-id="be07f-155">For more information about the improvements, see <a href="protected-user-mode-audio--puma-.md">Protected User Mode Audio (PUMA)</a>.</span></span><br/></td>
</tr>
<tr class="even">
<td><span data-ttu-id="be07f-156">Структура <strong>вавеформатекстенсибле</strong> была расширена до структуры <strong>WAVEFORMATEXTENSIBLE_IEC61937</strong> (Новая)</span><span class="sxs-lookup"><span data-stu-id="be07f-156">The <strong>WAVEFORMATEXTENSIBLE</strong> structure has been extended to the <strong>WAVEFORMATEXTENSIBLE_IEC61937</strong> structure (New)</span></span></td>
<td><span data-ttu-id="be07f-157">В Windows 7 добавлена новая структура для поддержки передачи данных IEC 61937.</span><span class="sxs-lookup"><span data-stu-id="be07f-157">In Windows 7, a new structure has been added to support IEC 61937 transmissions.</span></span> <span data-ttu-id="be07f-158"><strong>WAVEFORMATEXTENSIBLE_IEC61937</strong> расширяет структуру <strong>вавеформатекстенсибле</strong> для хранения двух наборов характеристик звукового потока: закодированный аудио формат перед передачей и характеристиками звукового потока после декодирования.</span><span class="sxs-lookup"><span data-stu-id="be07f-158"><strong>WAVEFORMATEXTENSIBLE_IEC61937</strong> extends the <strong>WAVEFORMATEXTENSIBLE</strong> structure to store two sets of audio stream characteristics: the encoded audio format before transmission and characteristics of the audio stream after it has been decoded.</span></span> <span data-ttu-id="be07f-159">Новая структура явно указывает фактическое количество каналов, размер выборки и скорость передачи данных в формате, не являющемся форматом PCM.</span><span class="sxs-lookup"><span data-stu-id="be07f-159">The new structure explicitly specifies the effective number of channels, sample size, and data rate of a non-PCM format.</span></span> <span data-ttu-id="be07f-160">С помощью этих сведений приложение может определить уровень качества потока, не являющегося потоком PCM, после его распаковки и воспроизведения.</span><span class="sxs-lookup"><span data-stu-id="be07f-160">With this information, an application can infer the quality level of the non-PCM stream after it is decompressed and played.</span></span> <span data-ttu-id="be07f-161">Дополнительные сведения см. в разделе <a href="representing-formats-for-iec-61937-transmissions.md">представление форматов для передач IEC 61937</a>.</span><span class="sxs-lookup"><span data-stu-id="be07f-161">For more information, see <a href="representing-formats-for-iec-61937-transmissions.md">Representing Formats for IEC 61937 Transmissions</a>.</span></span><br/></td>
</tr>
<tr class="odd">
<td><span data-ttu-id="be07f-162"><a href="/windows/desktop/api/Audioclient/nf-audioclient-iaudioclient-initialize"><strong>Иаудиоклиент:: Initialize</strong></a> (улучшено)</span><span class="sxs-lookup"><span data-stu-id="be07f-162"><a href="/windows/desktop/api/Audioclient/nf-audioclient-iaudioclient-initialize"><strong>IAudioClient::Initialize</strong></a> (Improved)</span></span></td>
<td><span data-ttu-id="be07f-163">Метод <a href="/windows/desktop/api/Audioclient/nf-audioclient-iaudioclient-initialize"><strong>иаудиоклиент:: Initialize</strong></a> был улучшен для указания конкретных ошибок, которые могут возникнуть при открытии аудиопотока.</span><span class="sxs-lookup"><span data-stu-id="be07f-163">The <a href="/windows/desktop/api/Audioclient/nf-audioclient-iaudioclient-initialize"><strong>IAudioClient::Initialize</strong></a> method has been improved to indicate specific errors that might occur while opening an audio stream.</span></span> <span data-ttu-id="be07f-164">Новые коды ошибок:</span><span class="sxs-lookup"><span data-stu-id="be07f-164">The new error codes are:</span></span>
<ul>
<li><span data-ttu-id="be07f-165">AUDCLNT_E_BUFFER_SIZE_NOT_ALIGNED</span><span class="sxs-lookup"><span data-stu-id="be07f-165">AUDCLNT_E_BUFFER_SIZE_NOT_ALIGNED</span></span></li>
<li><span data-ttu-id="be07f-166">AUDCLNT_E_BUFFER_SIZE_ERROR</span><span class="sxs-lookup"><span data-stu-id="be07f-166">AUDCLNT_E_BUFFER_SIZE_ERROR</span></span></li>
<li><span data-ttu-id="be07f-167">AUDCLNT_E_INVALID_DEVICE_PERIOD</span><span class="sxs-lookup"><span data-stu-id="be07f-167">AUDCLNT_E_INVALID_DEVICE_PERIOD</span></span></li>
</ul>
<span data-ttu-id="be07f-168">Дополнительные сведения об этих ошибках см. в разделе "возвращаемое значение" в <a href="/windows/desktop/api/Audioclient/nf-audioclient-iaudioclient-initialize"><strong>иаудиоклиент:: Initialize</strong></a>.</span><span class="sxs-lookup"><span data-stu-id="be07f-168">For more information about these errors, see the Return Value section in <a href="/windows/desktop/api/Audioclient/nf-audioclient-iaudioclient-initialize"><strong>IAudioClient::Initialize</strong></a>.</span></span><br/></td>
</tr>
<tr class="even">
<td><span data-ttu-id="be07f-169"><a href="/windows/desktop/api/Audioclient/nf-audioclient-iaudiocaptureclient-getbuffer"><strong>Иаудиокаптуреклиент::-buffer</strong></a> и <a href="/windows/desktop/api/Audioclient/nf-audioclient-iaudiorenderclient-getbuffer"><strong>иаудиорендерклиент::-buffer</strong></a> (улучшено)</span><span class="sxs-lookup"><span data-stu-id="be07f-169"><a href="/windows/desktop/api/Audioclient/nf-audioclient-iaudiocaptureclient-getbuffer"><strong>IAudioCaptureClient::GetBuffer</strong></a> and <a href="/windows/desktop/api/Audioclient/nf-audioclient-iaudiorenderclient-getbuffer"><strong>IAudioRenderClient::GetBuffer</strong></a> (Improved)</span></span></td>
<td><span data-ttu-id="be07f-170">Методы <a href="/windows/desktop/api/Audioclient/nf-audioclient-iaudiocaptureclient-getbuffer"><strong>иаудиокаптуреклиент::</strong></a> Иаудиорендерклиент и <a href="/windows/desktop/api/Audioclient/nf-audioclient-iaudiorenderclient-getbuffer"><strong>::</strong></a> noreturn были улучшены, чтобы возвращался AUDCLNT_E_BUFFER_ERROR код ошибки, указывающий, что буфер конечной точки в монопольном режиме не был получен.</span><span class="sxs-lookup"><span data-stu-id="be07f-170"><a href="/windows/desktop/api/Audioclient/nf-audioclient-iaudiocaptureclient-getbuffer"><strong>IAudioCaptureClient::GetBuffer</strong></a> and <a href="/windows/desktop/api/Audioclient/nf-audioclient-iaudiorenderclient-getbuffer"><strong>IAudioRenderClient::GetBuffer</strong></a> methods have been improved to return the AUDCLNT_E_BUFFER_ERROR error code that indicates that the endpoint buffer in the exclusive mode was not retrieved.</span></span> <span data-ttu-id="be07f-171">Дополнительные сведения см. в разделе remarks in <a href="/windows/desktop/api/Audioclient/nf-audioclient-iaudiocaptureclient-getbuffer"><strong>иаудиокаптуреклиент::</strong></a> Иаудиорендерклиент и <a href="/windows/desktop/api/Audioclient/nf-audioclient-iaudiorenderclient-getbuffer"><strong>:: buffer</strong></a>.</span><span class="sxs-lookup"><span data-stu-id="be07f-171">For more information, see Remarks in <a href="/windows/desktop/api/Audioclient/nf-audioclient-iaudiocaptureclient-getbuffer"><strong>IAudioCaptureClient::GetBuffer</strong></a> and <a href="/windows/desktop/api/Audioclient/nf-audioclient-iaudiorenderclient-getbuffer"><strong>IAudioRenderClient::GetBuffer</strong></a>.</span></span></td>
</tr>
<tr class="odd">
<td><span data-ttu-id="be07f-172">Возможность обнаружения разъемов (улучшенная)</span><span class="sxs-lookup"><span data-stu-id="be07f-172">Jack detection capability (Improved)</span></span></td>
<td><span data-ttu-id="be07f-173">Новый интерфейс в Windows 7, <a href="/windows/desktop/api/Devicetopology/nn-devicetopology-iksjackdescription2"><strong>IKsJackDescription2</strong></a>, расширяет <a href="/windows/desktop/api/Devicetopology/nn-devicetopology-iksjackdescription"><strong>иксжаккдескриптион</strong></a>.</span><span class="sxs-lookup"><span data-stu-id="be07f-173">A new interface in Windows 7, <a href="/windows/desktop/api/Devicetopology/nn-devicetopology-iksjackdescription2"><strong>IKsJackDescription2</strong></a>, extends <a href="/windows/desktop/api/Devicetopology/nn-devicetopology-iksjackdescription"><strong>IKsJackDescription</strong></a>.</span></span> <span data-ttu-id="be07f-174">С помощью нового интерфейса звуковой стек или приложение могут получить дополнительные сведения о гнезде.</span><span class="sxs-lookup"><span data-stu-id="be07f-174">By using the new interface, the audio stack or an application can get additional jack information.</span></span> <span data-ttu-id="be07f-175">Сюда входит возможность обнаружения розетки и возможность динамического изменения формата устройства.</span><span class="sxs-lookup"><span data-stu-id="be07f-175">This includes the jack's detection capability and whether the format of the device has changed dynamically.</span></span></td>
</tr>
<tr class="even">
<td><span data-ttu-id="be07f-176">Образцы Windows (новые)</span><span class="sxs-lookup"><span data-stu-id="be07f-176">Windows Samples (New)</span></span></td>
<td><span data-ttu-id="be07f-177">В Windows SDK были добавлены новые примеры, демонстрирующие использование основных API аудио.</span><span class="sxs-lookup"><span data-stu-id="be07f-177">New samples have been added to the Windows SDK that demonstrate the use of the Core Audio APIs.</span></span> <span data-ttu-id="be07f-178">Дополнительные сведения см. <a href="sdk-samples-that-use-the-core-audio-apis.md">в статье примеры пакетов SDK, в которых используются основные API аудио</a>.</span><span class="sxs-lookup"><span data-stu-id="be07f-178">For more information, see <a href="sdk-samples-that-use-the-core-audio-apis.md">SDK Samples That Use the Core Audio APIs</a>.</span></span></td>
</tr>
</tbody>
</table>



 

## <a name="major-new-interfaces"></a><span data-ttu-id="be07f-179">Основные новые интерфейсы</span><span class="sxs-lookup"><span data-stu-id="be07f-179">Major New Interfaces</span></span>

<span data-ttu-id="be07f-180">Следующие интерфейсы являются новыми для Windows 7:</span><span class="sxs-lookup"><span data-stu-id="be07f-180">The following interfaces are new for Windows 7:</span></span>

-   [<span data-ttu-id="be07f-181">**IAudioClock2**</span><span class="sxs-lookup"><span data-stu-id="be07f-181">**IAudioClock2**</span></span>](/windows/desktop/api/audioclient/nn-audioclient-iaudioclock2)
-   [<span data-ttu-id="be07f-182">**иаудиоклоккаджустмент**</span><span class="sxs-lookup"><span data-stu-id="be07f-182">**IAudioClockAdjustment**</span></span>](/windows/desktop/api/audioclient/nn-audioclient-iaudioclockadjustment)
-   [<span data-ttu-id="be07f-183">**иаудиоендпоинтволумикс**</span><span class="sxs-lookup"><span data-stu-id="be07f-183">**IAudioEndpointVolumeEx**</span></span>](/windows/desktop/api/Endpointvolume/nn-endpointvolume-iaudioendpointvolumeex)
-   [<span data-ttu-id="be07f-184">**IAudioSessionManager2**</span><span class="sxs-lookup"><span data-stu-id="be07f-184">**IAudioSessionManager2**</span></span>](/windows/desktop/api/audiopolicy/nn-audiopolicy-iaudiosessionmanager2)
-   [<span data-ttu-id="be07f-185">**IAudioSessionControl2**</span><span class="sxs-lookup"><span data-stu-id="be07f-185">**IAudioSessionControl2**</span></span>](/windows/desktop/api/audiopolicy/nn-audiopolicy-iaudiosessioncontrol2)
-   [<span data-ttu-id="be07f-186">**иаудиосессионенумератор**</span><span class="sxs-lookup"><span data-stu-id="be07f-186">**IAudioSessionEnumerator**</span></span>](/windows/desktop/api/audiopolicy/nn-audiopolicy-iaudiosessionenumerator)
-   [<span data-ttu-id="be07f-187">**иаудиосессионнотификатион**</span><span class="sxs-lookup"><span data-stu-id="be07f-187">**IAudioSessionNotification**</span></span>](/windows/desktop/api/audiopolicy/nn-audiopolicy-iaudiosessionnotification)
-   [<span data-ttu-id="be07f-188">**иаудиоволумедуккнотификатион**</span><span class="sxs-lookup"><span data-stu-id="be07f-188">**IAudioVolumeDuckNotification**</span></span>](/windows/desktop/api/AudioPolicy/nn-audiopolicy-iaudiovolumeducknotification)
-   [<span data-ttu-id="be07f-189">**IKsJackDescription2**</span><span class="sxs-lookup"><span data-stu-id="be07f-189">**IKsJackDescription2**</span></span>](/windows/desktop/api/Devicetopology/nn-devicetopology-iksjackdescription2)
-   [<span data-ttu-id="be07f-190">**иксжакксинкинформатион**</span><span class="sxs-lookup"><span data-stu-id="be07f-190">**IKsJackSinkInformation**</span></span>](/windows/desktop/api/Devicetopology/nn-devicetopology-iksjacksinkinformation)

## <a name="related-topics"></a><span data-ttu-id="be07f-191">См. также</span><span class="sxs-lookup"><span data-stu-id="be07f-191">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="be07f-192">Об API аудио Windows Core</span><span class="sxs-lookup"><span data-stu-id="be07f-192">About the Windows Core Audio APIs</span></span>](about-the-windows-core-audio-apis.md)
</dt> </dl>

 

 




