---
description: API Девицетопологи
ms.assetid: 051311ef-dd29-4014-bb9c-4cdccf7ce7de
title: API Девицетопологи
ms.topic: article
ms.date: 05/31/2018
ms.custom: project-verbatim
ms.openlocfilehash: 472c02cd59ca0cadd922cbe398a768c97cfab73a
ms.sourcegitcommit: af120ad5c30da2fc5eb717ca2a1c4c45878efd71
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/20/2021
ms.locfileid: "105656833"
---
# <a name="devicetopology-api"></a><span data-ttu-id="55f9a-103">API Девицетопологи</span><span class="sxs-lookup"><span data-stu-id="55f9a-103">DeviceTopology API</span></span>

<span data-ttu-id="55f9a-104">См. [пример с высококачественным голосовым захватом (Майкрософт](https://github.com/microsoft/Windows-classic-samples/tree/master/Samples/Win7Samples/multimedia/audio/aecmicarray)).</span><span class="sxs-lookup"><span data-stu-id="55f9a-104">See the [Microsoft high quality voice capture DMO sample](https://github.com/microsoft/Windows-classic-samples/tree/master/Samples/Win7Samples/multimedia/audio/aecmicarray).</span></span>

<span data-ttu-id="55f9a-105">API Девицетопологи предоставляет клиентским приложениям возможность перемещаться по функциональным топологиям аппаратного обеспечения для отрисовки аудио-данных и устройств записи.</span><span class="sxs-lookup"><span data-stu-id="55f9a-105">The DeviceTopology API provides client applications with the ability to traverse the functional hardware topologies of audio rendering and capture devices.</span></span> <span data-ttu-id="55f9a-106">С помощью интерфейсов и методов в API Девицетопологи клиенты могут обнаруживать функциональные подединицы (например, регулятор громкости), которые находятся в путях данных, ведущих к [устройствам конечных точек аудио](audio-endpoint-devices.md).</span><span class="sxs-lookup"><span data-stu-id="55f9a-106">Through the interfaces and methods in the DeviceTopology API, clients can discover the functional subunits (for example, volume control) that lie along the data paths that lead to and from [audio endpoint devices](audio-endpoint-devices.md).</span></span> <span data-ttu-id="55f9a-107">Клиенты могут перемещаться по внутренним топологиям устройств звуковых адаптеров и устройств аудио конечных точек, а также выполнять по шагам подключения, связывающие одно устройство с другим.</span><span class="sxs-lookup"><span data-stu-id="55f9a-107">Clients can traverse the internal topologies of both audio adapter devices and audio endpoint devices and step across the connections that link one device to another.</span></span> <span data-ttu-id="55f9a-108">Дополнительные сведения см. в разделе [топологии устройств](device-topologies.md).</span><span class="sxs-lookup"><span data-stu-id="55f9a-108">For more information, see [Device Topologies](device-topologies.md).</span></span>

<span data-ttu-id="55f9a-109">Файл заголовка Девицетопологи. h определяет интерфейсы в API Девицетопологи.</span><span class="sxs-lookup"><span data-stu-id="55f9a-109">Header file Devicetopology.h defines the interfaces in the DeviceTopology API.</span></span>

<span data-ttu-id="55f9a-110">Чтобы получить доступ к интерфейсам API Девицетопологи, клиент сначала получает ссылку на интерфейс [**идевицетопологи**](/windows/desktop/api/Devicetopology/nn-devicetopology-idevicetopology) для устройства конечной точки аудио, выполнив следующие действия.</span><span class="sxs-lookup"><span data-stu-id="55f9a-110">To access the DeviceTopology API interfaces, a client first obtains a reference to the [**IDeviceTopology**](/windows/desktop/api/Devicetopology/nn-devicetopology-idevicetopology) interface for an audio endpoint device by following these steps:</span></span>

1.  <span data-ttu-id="55f9a-111">Используя один из методов, описанных в [**интерфейсе иммдевице**](/windows/desktop/api/Mmdeviceapi/nn-mmdeviceapi-immdevice), получите ссылку на интерфейс **иммдевице** для устройства конечной точки аудио.</span><span class="sxs-lookup"><span data-stu-id="55f9a-111">By using one of the techniques described in [**IMMDevice Interface**](/windows/desktop/api/Mmdeviceapi/nn-mmdeviceapi-immdevice), obtain a reference to the **IMMDevice** interface for an audio endpoint device.</span></span>
2.  <span data-ttu-id="55f9a-112">Вызовите метод [**иммдевице:: Activate**](/windows/desktop/api/Mmdeviceapi/nf-mmdeviceapi-immdevice-activate) с параметром *IID* , равным **рефиид** IID \_ идевицетопологи.</span><span class="sxs-lookup"><span data-stu-id="55f9a-112">Call the [**IMMDevice::Activate**](/windows/desktop/api/Mmdeviceapi/nf-mmdeviceapi-immdevice-activate) method with parameter *iid* set to **REFIID** IID\_IDeviceTopology.</span></span>

<span data-ttu-id="55f9a-113">Клиент может получить ссылки на другие интерфейсы в API Девицетопологи, вызвав методы в интерфейсе [**идевицетопологи**](/windows/desktop/api/Devicetopology/nn-devicetopology-idevicetopology) .</span><span class="sxs-lookup"><span data-stu-id="55f9a-113">The client can obtain references to the other interfaces in the DeviceTopology API by calling the methods in the [**IDeviceTopology**](/windows/desktop/api/Devicetopology/nn-devicetopology-idevicetopology) interface.</span></span>

<span data-ttu-id="55f9a-114">API Девицетопологи реализует следующие интерфейсы.</span><span class="sxs-lookup"><span data-stu-id="55f9a-114">The DeviceTopology API implements the following interfaces.</span></span>



| <span data-ttu-id="55f9a-115">Интерфейс</span><span class="sxs-lookup"><span data-stu-id="55f9a-115">Interface</span></span>                                                  | <span data-ttu-id="55f9a-116">Описание</span><span class="sxs-lookup"><span data-stu-id="55f9a-116">Description</span></span>                                                                                                                                                                                                               |
|------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="55f9a-117">**иаудиоаутогаинконтрол**</span><span class="sxs-lookup"><span data-stu-id="55f9a-117">**IAudioAutoGainControl**</span></span>](/windows/desktop/api/Devicetopology/nn-devicetopology-iaudioautogaincontrol)     | <span data-ttu-id="55f9a-118">Предоставляет доступ к оборудованию автоматического усиления контроля (АГК).</span><span class="sxs-lookup"><span data-stu-id="55f9a-118">Provides access to a hardware automatic gain control (AGC).</span></span>                                                                                                                                                               |
| [<span data-ttu-id="55f9a-119">**иаудиобасс**</span><span class="sxs-lookup"><span data-stu-id="55f9a-119">**IAudioBass**</span></span>](/windows/win32/api/devicetopology/nn-devicetopology-iaudiobass)                           | <span data-ttu-id="55f9a-120">Предоставляет доступ к аппаратному контролю уровня басов.</span><span class="sxs-lookup"><span data-stu-id="55f9a-120">Provides access to a hardware bass-level control.</span></span>                                                                                                                                                                         |
| [<span data-ttu-id="55f9a-121">**иаудиочаннелконфиг**</span><span class="sxs-lookup"><span data-stu-id="55f9a-121">**IAudioChannelConfig**</span></span>](/windows/desktop/api/Devicetopology/nn-devicetopology-iaudiochannelconfig)         | <span data-ttu-id="55f9a-122">Предоставляет доступ к элементу управления конфигурацией аппаратного канала.</span><span class="sxs-lookup"><span data-stu-id="55f9a-122">Provides access to a hardware channel-configuration control.</span></span>                                                                                                                                                              |
| [<span data-ttu-id="55f9a-123">**иаудиоинпутселектор**</span><span class="sxs-lookup"><span data-stu-id="55f9a-123">**IAudioInputSelector**</span></span>](/windows/desktop/api/Devicetopology/nn-devicetopology-iaudioinputselector)         | <span data-ttu-id="55f9a-124">Предоставляет доступ к элементу управления аппаратным мультиплексором (селектор ввода).</span><span class="sxs-lookup"><span data-stu-id="55f9a-124">Provides access to a hardware multiplexer control (input selector).</span></span>                                                                                                                                                       |
| [<span data-ttu-id="55f9a-125">**иаудиолауднесс**</span><span class="sxs-lookup"><span data-stu-id="55f9a-125">**IAudioLoudness**</span></span>](/windows/desktop/api/Devicetopology/nn-devicetopology-iaudioloudness)                   | <span data-ttu-id="55f9a-126">Предоставляет доступ к элементу управления компенсацией "громкости".</span><span class="sxs-lookup"><span data-stu-id="55f9a-126">Provides access to a "loudness" compensation control.</span></span>                                                                                                                                                                     |
| [<span data-ttu-id="55f9a-127">**иаудиомидранже**</span><span class="sxs-lookup"><span data-stu-id="55f9a-127">**IAudioMidrange**</span></span>](/windows/win32/api/devicetopology/nn-devicetopology-iaudiomidrange)                   | <span data-ttu-id="55f9a-128">Предоставляет доступ к аппаратному управлению на уровне средний уровень.</span><span class="sxs-lookup"><span data-stu-id="55f9a-128">Provides access to a hardware midrange-level control.</span></span>                                                                                                                                                                     |
| [<span data-ttu-id="55f9a-129">**иаудиомуте**</span><span class="sxs-lookup"><span data-stu-id="55f9a-129">**IAudioMute**</span></span>](/windows/desktop/api/Devicetopology/nn-devicetopology-iaudiomute)                           | <span data-ttu-id="55f9a-130">Предоставляет доступ к аппаратному отключению управления.</span><span class="sxs-lookup"><span data-stu-id="55f9a-130">Provides access to a hardware mute control.</span></span>                                                                                                                                                                               |
| [<span data-ttu-id="55f9a-131">**иаудиуутпутселектор**</span><span class="sxs-lookup"><span data-stu-id="55f9a-131">**IAudioOutputSelector**</span></span>](/windows/desktop/api/Devicetopology/nn-devicetopology-iaudiooutputselector)       | <span data-ttu-id="55f9a-132">Предоставляет доступ к элементу управления аппаратным средством демультиплексирования (Селектор вывода).</span><span class="sxs-lookup"><span data-stu-id="55f9a-132">Provides access to a hardware demultiplexer control (output selector).</span></span>                                                                                                                                                    |
| [<span data-ttu-id="55f9a-133">**иаудиопеакметер**</span><span class="sxs-lookup"><span data-stu-id="55f9a-133">**IAudioPeakMeter**</span></span>](/windows/desktop/api/Devicetopology/nn-devicetopology-iaudiopeakmeter)                 | <span data-ttu-id="55f9a-134">Предоставляет доступ к оборудованию с пиковым контролем использования оборудования.</span><span class="sxs-lookup"><span data-stu-id="55f9a-134">Provides access to a hardware peak-meter control.</span></span>                                                                                                                                                                         |
| [<span data-ttu-id="55f9a-135">**иаудиотребле**</span><span class="sxs-lookup"><span data-stu-id="55f9a-135">**IAudioTreble**</span></span>](/windows/win32/api/devicetopology/nn-devicetopology-iaudiotreble)                       | <span data-ttu-id="55f9a-136">Предоставляет доступ к аппаратному контролю уровня высоких частот.</span><span class="sxs-lookup"><span data-stu-id="55f9a-136">Provides access to a hardware treble-level control.</span></span>                                                                                                                                                                       |
| [<span data-ttu-id="55f9a-137">**иаудиоволумелевел**</span><span class="sxs-lookup"><span data-stu-id="55f9a-137">**IAudioVolumeLevel**</span></span>](/windows/win32/api/devicetopology/nn-devicetopology-iaudiovolumelevel)             | <span data-ttu-id="55f9a-138">Предоставляет доступ к аппаратному регулятору громкости.</span><span class="sxs-lookup"><span data-stu-id="55f9a-138">Provides access to a hardware volume control.</span></span>                                                                                                                                                                             |
| [<span data-ttu-id="55f9a-139">**иконнектор**</span><span class="sxs-lookup"><span data-stu-id="55f9a-139">**IConnector**</span></span>](/windows/desktop/api/Devicetopology/nn-devicetopology-iconnector)                           | <span data-ttu-id="55f9a-140">Представляет точку соединения между компонентами.</span><span class="sxs-lookup"><span data-stu-id="55f9a-140">Represents a point of connection between components.</span></span>                                                                                                                                                                      |
| [<span data-ttu-id="55f9a-141">**иконтролинтерфаце**</span><span class="sxs-lookup"><span data-stu-id="55f9a-141">**IControlInterface**</span></span>](/windows/desktop/api/Devicetopology/nn-devicetopology-icontrolinterface)             | <span data-ttu-id="55f9a-142">Представляет интерфейс элемента управления в части (подединице или соединителе).</span><span class="sxs-lookup"><span data-stu-id="55f9a-142">Represents a control interface on a part (subunit or connector).</span></span>                                                                                                                                                          |
| [<span data-ttu-id="55f9a-143">**идевицеспеЦификпроперти**</span><span class="sxs-lookup"><span data-stu-id="55f9a-143">**IDeviceSpecificProperty**</span></span>](/windows/desktop/api/Devicetopology/nn-devicetopology-idevicespecificproperty) | <span data-ttu-id="55f9a-144">Представляет свойство соединителя или подединицы для конкретного устройства.</span><span class="sxs-lookup"><span data-stu-id="55f9a-144">Represents a device-specific property of a connector or subunit.</span></span>                                                                                                                                                          |
| [<span data-ttu-id="55f9a-145">**идевицетопологи**</span><span class="sxs-lookup"><span data-stu-id="55f9a-145">**IDeviceTopology**</span></span>](/windows/desktop/api/Devicetopology/nn-devicetopology-idevicetopology)                 | <span data-ttu-id="55f9a-146">Предоставляет доступ к топологии звукового устройства.</span><span class="sxs-lookup"><span data-stu-id="55f9a-146">Provides access to the topology of an audio device.</span></span>                                                                                                                                                                       |
| [<span data-ttu-id="55f9a-147">**иксформатсуппорт**</span><span class="sxs-lookup"><span data-stu-id="55f9a-147">**IKsFormatSupport**</span></span>](/windows/desktop/api/Devicetopology/nn-devicetopology-iksformatsupport)               | <span data-ttu-id="55f9a-148">Предоставляет сведения о форматах звуковых данных, поддерживаемых программно настроенным подключением ввода-вывода (обычно это канал DMA) между звуковым устройством и системной памятью.</span><span class="sxs-lookup"><span data-stu-id="55f9a-148">Provides information about the audio data formats that are supported by a software-configured I/O connection (typically a DMA channel) between the audio device and system memory.</span></span>                                        |
| [<span data-ttu-id="55f9a-149">**иксжаккдескриптион**</span><span class="sxs-lookup"><span data-stu-id="55f9a-149">**IKsJackDescription**</span></span>](/windows/desktop/api/Devicetopology/nn-devicetopology-iksjackdescription)           | <span data-ttu-id="55f9a-150">Содержит сведения о гнездах или внутренних соединителях, обеспечивающих физическое подключение между устройством на звуковом адаптере и внешним или внутренним устройством конечной точки (например, микрофон или проигрыватель компакт-дисков).</span><span class="sxs-lookup"><span data-stu-id="55f9a-150">Provides information about the jacks or internal connectors that provide a physical connection between a device on an audio adapter and an external or internal endpoint device (for example, a microphone or CD player).</span></span> |
| [<span data-ttu-id="55f9a-151">**ипарт**</span><span class="sxs-lookup"><span data-stu-id="55f9a-151">**IPart**</span></span>](/windows/desktop/api/Devicetopology/nn-devicetopology-ipart)                                     | <span data-ttu-id="55f9a-152">Представляет часть (соединитель или подединицу) топологии устройства.</span><span class="sxs-lookup"><span data-stu-id="55f9a-152">Represents a part (connector or subunit) of a device topology.</span></span>                                                                                                                                                            |
| [<span data-ttu-id="55f9a-153">**ипартслист**</span><span class="sxs-lookup"><span data-stu-id="55f9a-153">**IPartsList**</span></span>](/windows/desktop/api/Devicetopology/nn-devicetopology-ipartslist)                           | <span data-ttu-id="55f9a-154">Представляет список частей (соединителей и подразделений).</span><span class="sxs-lookup"><span data-stu-id="55f9a-154">Represents a list of parts (connectors and subunits).</span></span>                                                                                                                                                                     |
| [<span data-ttu-id="55f9a-155">**иперчаннелдблевел**</span><span class="sxs-lookup"><span data-stu-id="55f9a-155">**IPerChannelDbLevel**</span></span>](/windows/desktop/api/Devicetopology/nn-devicetopology-iperchanneldblevel)           | <span data-ttu-id="55f9a-156">Представляет универсальный интерфейс управления подединицей, который обеспечивает управление на уровне громкости для каждого канала (в децибел) звукового потока или частотной полосы в потоке аудио.</span><span class="sxs-lookup"><span data-stu-id="55f9a-156">Represents a generic subunit control interface that provides per-channel control over the volume level, in decibels, of an audio stream or of a frequency band in an audio stream.</span></span>                                        |
| [<span data-ttu-id="55f9a-157">**исубунит**</span><span class="sxs-lookup"><span data-stu-id="55f9a-157">**ISubunit**</span></span>](/windows/win32/api/devicetopology/nn-devicetopology-isubunit)                               | <span data-ttu-id="55f9a-158">Представляет подразделение оборудования (например, управление на уровне тома), которое находится в пути данных между клиентом и устройством конечной точки аудио.</span><span class="sxs-lookup"><span data-stu-id="55f9a-158">Represents a hardware subunit (for example, a volume-level control) that lies in the data path between a client and an audio endpoint device.</span></span>                                                                             |



 

<span data-ttu-id="55f9a-159">Клиенты API Девицетопологи, которым требуются уведомления о событиях управления изменениями в соединителях и подразделениях, должны реализовать следующий интерфейс.</span><span class="sxs-lookup"><span data-stu-id="55f9a-159">DeviceTopology API clients that require notification of control-change events in connectors and subunits should implement the following interface.</span></span>



| <span data-ttu-id="55f9a-160">Интерфейс</span><span class="sxs-lookup"><span data-stu-id="55f9a-160">Interface</span></span>                                            | <span data-ttu-id="55f9a-161">Описание</span><span class="sxs-lookup"><span data-stu-id="55f9a-161">Description</span></span>                                                                      |
|------------------------------------------------------|----------------------------------------------------------------------------------|
| [<span data-ttu-id="55f9a-162">**иконтролчанженотифи**</span><span class="sxs-lookup"><span data-stu-id="55f9a-162">**IControlChangeNotify**</span></span>](/windows/desktop/api/Devicetopology/nn-devicetopology-icontrolchangenotify) | <span data-ttu-id="55f9a-163">Предоставляет уведомления при изменении состояния части (соединителя или подединицы).</span><span class="sxs-lookup"><span data-stu-id="55f9a-163">Provides notifications when the status of a part (connector or subunit) changes.</span></span> |



 

## <a name="related-topics"></a><span data-ttu-id="55f9a-164">См. также</span><span class="sxs-lookup"><span data-stu-id="55f9a-164">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="55f9a-165">Топологии устройств</span><span class="sxs-lookup"><span data-stu-id="55f9a-165">Device Topologies</span></span>](device-topologies.md)
</dt> <dt>

[<span data-ttu-id="55f9a-166">**Справочник по программированию**</span><span class="sxs-lookup"><span data-stu-id="55f9a-166">**Programming Reference**</span></span>](programming-reference.md)
</dt> </dl>

 

 
