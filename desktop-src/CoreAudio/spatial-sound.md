---
description: Пространственный звук Майкрософт — это решение на уровне платформы для поддержки пространственного звука в Xbox, Windows и HoloLens 2, обеспечивающее как окружающие, так и повышенные звуковые подсказки (выше или ниже прослушивателя).
ms.assetid: 4F962F1A-CA4A-4018-BA97-516EA3519650
title: 'Spatial Sound для разработчиков '
ms.custom: contperf-fy21q1
ms.topic: article
ms.date: 09/18/2020
ms.openlocfilehash: 9db3614ea7932af874da351e7a92980d51b90011
ms.sourcegitcommit: f374b50b37160b683da16b59ac9340282a8f50a5
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/04/2021
ms.locfileid: "104560851"
---
# <a name="spatial-sound-for-developers"></a><span data-ttu-id="7004a-103">Spatial Sound для разработчиков </span><span class="sxs-lookup"><span data-stu-id="7004a-103">Spatial Sound for Developers</span></span>
> [!Note] 
> <span data-ttu-id="7004a-104">Эта документация предназначена для аудитории разработчиков.</span><span class="sxs-lookup"><span data-stu-id="7004a-104">This documentation is targeted for a developer audience.</span></span> <span data-ttu-id="7004a-105">Сведения о поддержке конечных пользователей для включения пространственного звука на устройстве см. [в статье Включение пространственного звука в Windows 10](https://support.microsoft.com/help/4563140/how-to-turn-on-spatial-sound-in-windows-10).</span><span class="sxs-lookup"><span data-stu-id="7004a-105">For end-user support for enabling spatial sound on your device, see [How to turn on spatial sound in Windows 10](https://support.microsoft.com/help/4563140/how-to-turn-on-spatial-sound-in-windows-10).</span></span>

<span data-ttu-id="7004a-106">Пространственный звук Майкрософт — это решение на уровне платформы для поддержки пространственного звука в Xbox, Windows и HoloLens 2, обеспечивающее как окружающие, так и повышенные звуковые подсказки (выше или ниже прослушивателя). Пространственный звук можно использовать в приложениях Windows Desktop (Win32), а также в приложениях универсальная платформа Windows (UWP) на поддерживаемых платформах.</span><span class="sxs-lookup"><span data-stu-id="7004a-106">Microsoft Spatial Sound is Microsoft’s platform-level solution for spatial sound support on Xbox, Windows and HoloLens 2, enabling both surround and elevation (above or below the listener) audio cues. Spatial sound can be leveraged by Windows desktop (Win32) apps as well as Universal Windows Platform (UWP) apps on supported platforms.</span></span> <span data-ttu-id="7004a-107">API-интерфейсы пространственного звука позволяют разработчикам создавать звуковые объекты, которые выдают звук из положения в трехмерном пространстве.</span><span class="sxs-lookup"><span data-stu-id="7004a-107">The spatial sound APIs allow developers to create audio objects that emit audio from positions in 3D space.</span></span> <span data-ttu-id="7004a-108">Динамические объекты Audio позволяют выдавать звук из произвольного места в пространстве, что может меняться со временем.</span><span class="sxs-lookup"><span data-stu-id="7004a-108">Dynamic audio objects allow you to emit audio from an arbitrary position in space, which can change over time.</span></span> <span data-ttu-id="7004a-109">Также можно указать, что звуковые объекты выдают звук с одного из 17 стандартных статических каналов (8.1.4.4), которые могут представлять реальные или виртуализованные динамики.</span><span class="sxs-lookup"><span data-stu-id="7004a-109">You can also specify that audio objects emit sound from one of 17 pre-defined static channels (8.1.4.4) that can represent real or virtualized speakers.</span></span> <span data-ttu-id="7004a-110">Текущий выходной формат выбирается пользователем и может быть абстрактным от реализаций пространственного звука Майкрософт. звук будет представлен существующим докладчикам, наушникам и получателям домашнего кинотеатра без изменения кода или содержимого.</span><span class="sxs-lookup"><span data-stu-id="7004a-110">The actual output format is selected by the user, and can be abstracted from Microsoft Spatial Sound implementations; audio will be presented to existing speakers, headphones, and home theater receivers without needing any code or content changes.</span></span> <span data-ttu-id="7004a-111">Платформа полностью поддерживает кодировку Dolby атмос в режиме реального времени для выходных и стереофонических наушников, DTS: X для наушников и кодирование Windows Sonic для наушников для стерео-наушников.</span><span class="sxs-lookup"><span data-stu-id="7004a-111">The platform fully supports real-time Dolby Atmos encoding for both HDMI and stereo headphone output, DTS:X for Headphones, and Windows Sonic for Headphones encoding for stereo headphones.</span></span> <span data-ttu-id="7004a-112">Наконец, пространственные звуковые приложения Майкрософт придерживается политики смешанного смешения системы, и их звук также будет смешиваться с приложениями, не поддерживающими пространственное использование.</span><span class="sxs-lookup"><span data-stu-id="7004a-112">Finally, Microsoft Spatial Sound apps abide by the system mixing policy, and their audio will also be mixed with non-spatially aware apps.</span></span> <span data-ttu-id="7004a-113">Поддержка пространственного звука Майкрософт также интегрирована в Media Foundation; приложения, использующие Media Foundation, могут успешно воспроизводить содержимое Dolby атмос без дополнительной реализации.</span><span class="sxs-lookup"><span data-stu-id="7004a-113">Microsoft Spatial Sound support is also integrated into Media Foundation; apps that use media foundation can successfully play Dolby Atmos content with no additional implementation.</span></span>

<span data-ttu-id="7004a-114">Пространственный звук с пространственным звуковым сопровождением Майкрософт поддерживает телевизоры, Домашние кинотеатры и звуковые панели, поддерживающие Dolby атмос.</span><span class="sxs-lookup"><span data-stu-id="7004a-114">Spatial sound with Microsoft Spatial Sound supports TVs, home theaters, and sound bars that support Dolby Atmos.</span></span> <span data-ttu-id="7004a-115">Пространственный звук можно также использовать с любой парой наушников, которыми может владеть потребитель, с помощью аудио, отображаемой платформой, с использованием Windows Sonic для наушников, Dolby атмос для наушников или служб DTS: X.</span><span class="sxs-lookup"><span data-stu-id="7004a-115">Spatial sound can also be used with any pair of headphones the consumer may own, with audio rendered by the platform using Windows Sonic for Headphones, Dolby Atmos for Headphones, or DTS Headphone:X.</span></span>


## <a name="enabling-microsoft-spatial-sound"></a><span data-ttu-id="7004a-116">Включение пространственного звука Майкрософт</span><span class="sxs-lookup"><span data-stu-id="7004a-116">Enabling Microsoft Spatial Sound</span></span>

<span data-ttu-id="7004a-117">Независимо от того, как разработчик или потребитель, пользователь должен включить Пространственный звук Майкрософт на устройстве, чтобы прослушать Пространственный звук.</span><span class="sxs-lookup"><span data-stu-id="7004a-117">Whether as a developer or a consumer, a user must enable Microsoft Spatial Sound on their device in order to hear spatialized sound.</span></span>

### <a name="windows"></a><span data-ttu-id="7004a-118">Windows</span><span class="sxs-lookup"><span data-stu-id="7004a-118">Windows</span></span>
<span data-ttu-id="7004a-119">На компьютерах с Windows это делается через страницу свойств для заданного звукового устройства вывода.</span><span class="sxs-lookup"><span data-stu-id="7004a-119">On Windows PCs, this is done via the properties page for a given sound output device.</span></span> <span data-ttu-id="7004a-120">На панели управления **звуком** выберите выходное устройство и щелкните **Свойства устройства**.</span><span class="sxs-lookup"><span data-stu-id="7004a-120">From the **Sound** control panel, select an output device and click **Device properties**.</span></span> <span data-ttu-id="7004a-121">В разделе " **Пространственный звук** " страницы, если устройство поддерживает Пространственный звук, можно выбрать один из доступных форматов в раскрывающемся списке **пространственный звуковой формат** .</span><span class="sxs-lookup"><span data-stu-id="7004a-121">In the **Spatial sound** section of the page, if the device supports spatial sound, you can select one of the available formats from the **Spatial sound format** dropdown.</span></span>

![Включение пространственного звука на панели управления звуком](images/spatialsoundsettingswindows1.png)

<span data-ttu-id="7004a-123">Можно также включить Пространственный звук Майкрософт, щелкнув правой кнопкой мыши значок **тома** на панели задач.</span><span class="sxs-lookup"><span data-stu-id="7004a-123">You can also enable Microsoft Spatial Sound by right-clicking the **Volume** icon in the taskbar.</span></span>

![Включение пространственного звука с панели задач](images/spatialsoundsettingswindows2.png)

### <a name="xbox-one"></a><span data-ttu-id="7004a-125">Xbox One</span><span class="sxs-lookup"><span data-stu-id="7004a-125">Xbox One</span></span>
<span data-ttu-id="7004a-126">На Xbox One функции пространственного звука Microsoft всегда доступны для потребителя и доступны через приложение "Параметры" в разделе **Общие — > том & звуковые выходные данные**.</span><span class="sxs-lookup"><span data-stu-id="7004a-126">On Xbox One, Microsoft Spatial Sound capabilities are always available for the consumer, and are enabled via the Settings App under **General -> Volume & audio output**.</span></span>


![<span data-ttu-id="7004a-127">Включение пространственного звука на Xbox One в приложении "Параметры"</span><span class="sxs-lookup"><span data-stu-id="7004a-127">enable spatial sound on xbox one in the settings app</span></span> ](images/audiosettingsbitstream.png)

<span data-ttu-id="7004a-128">После того как Dolby атмос для домашнего кинотеатра выбран в качестве формата битовый поток, поддержка этого формата проверяется с помощью расширенных отображаемых идентификационных данных HDMI (EDID).</span><span class="sxs-lookup"><span data-stu-id="7004a-128">After Dolby Atmos for home theater is selected as a “Bitstream format”, support for this format is checked via HDMI Extended Display Identification Data (EDID).</span></span> <span data-ttu-id="7004a-129">Если устройство HDMI не поддерживает этот формат, пользователю выводится сообщение об ошибке.</span><span class="sxs-lookup"><span data-stu-id="7004a-129">If the HDMI device does not support the format, an error message is displayed to the user.</span></span> <span data-ttu-id="7004a-130">Обратите внимание, что при первом выборе этого параметра пользователю необходимо скачать приложение Dolby Access.</span><span class="sxs-lookup"><span data-stu-id="7004a-130">Note that selecting this option the first time requires the user download the Dolby Access app.</span></span>

<span data-ttu-id="7004a-131">Если для **аудиоустройства HDMI** выбран формат, отличный от "битовый поток Out", раскрывающийся список **формата битовый поток** отключен.</span><span class="sxs-lookup"><span data-stu-id="7004a-131">If a format other than "Bitstream out" is selected for **HDMI audio** then the **Bitstream format** dropdown is disabled.</span></span>

![<span data-ttu-id="7004a-132">Пространственный звук отключен на Xbox One в приложении "Параметры"</span><span class="sxs-lookup"><span data-stu-id="7004a-132">spatial sound disabled on xbox one in the settings app</span></span> ](images/audiosettingsplain.png)

<span data-ttu-id="7004a-133">Выберите Dolby атмос для наушников, DTS Наушники: X или Windows Sonic для наушников в раскрывающемся списке в **формате гарнитуры** в поле **Аудио гарнитура**</span><span class="sxs-lookup"><span data-stu-id="7004a-133">Select Dolby Atmos for Headphones, DTS Headphone:X, or Windows Sonic for Headphones from the **Headset format** dropdown under **Headset audio**</span></span>

![<span data-ttu-id="7004a-134">Включение пространственного звука для наушников на Xbox One в приложении "Параметры"</span><span class="sxs-lookup"><span data-stu-id="7004a-134">enable spatial sound for headphones on xbox one in the settings app</span></span> ](images/audiosettingsheadphone.png)

<span data-ttu-id="7004a-135">Если Пространственный звук Майкрософт недоступен (например, при воспроизведении на встроенных стереодинамиках ноутбука или если пользователь явно не включил Пространственный звук Майкрософт в указанное выше поле), число доступных динамических объектов, возвращаемых функцией [**испатиалаудиоклиент:: жетмаксдинамикобжекткаунт**](/windows/desktop/api/spatialaudioclient/nf-spatialaudioclient-ispatialaudioclient-getmaxdynamicobjectcount) в приложение, будет равно 0.</span><span class="sxs-lookup"><span data-stu-id="7004a-135">When Microsoft Spatial Sound is not available (for instance, when playing to embedded laptop stereo speakers, or if the user has not explicitly enabled Microsoft Spatial Sound per above), the number of available dynamic objects returned by [**ISpatialAudioClient::GetMaxDynamicObjectCount**](/windows/desktop/api/spatialaudioclient/nf-spatialaudioclient-ispatialaudioclient-getmaxdynamicobjectcount) to an application will be 0.</span></span>

### <a name="hololens-2"></a><span data-ttu-id="7004a-136">HoloLens 2</span><span class="sxs-lookup"><span data-stu-id="7004a-136">HoloLens 2</span></span>

<span data-ttu-id="7004a-137">В HoloLens 2 Пространственный звук Майкрософт включен по умолчанию и использует разгрузку DSP оборудования, разработанную специально для Windows Sonic для наушников.</span><span class="sxs-lookup"><span data-stu-id="7004a-137">On HoloLens 2, Microsoft Spatial Sound is enabled by default and uses hardware DSP offload designed specifically for Windows Sonic for Headphones.</span></span>

## <a name="microsoft-spatial-sound-and-audio-middleware"></a><span data-ttu-id="7004a-138">По промежуточного звукового и звукового по (Майкрософт)</span><span class="sxs-lookup"><span data-stu-id="7004a-138">Microsoft Spatial Sound and Audio Middleware</span></span>

<span data-ttu-id="7004a-139">Многие разработчики приложений и игр используют сторонние решения для обработки аудио, которые часто включают в себя сложные средства разработки и аудитионинг.</span><span class="sxs-lookup"><span data-stu-id="7004a-139">Many app and game developers use third party audio rendering engine solutions, which often include sophisticated authoring and auditioning tools.</span></span> <span data-ttu-id="7004a-140">Корпорация Майкрософт сотрудничает с несколькими из этих поставщиков решений для реализации пространственного звука Майкрософт в существующих средах разработки.</span><span class="sxs-lookup"><span data-stu-id="7004a-140">Microsoft has partnered with several of these solution providers to implement Microsoft Spatial Sound in their existing authoring environments.</span></span> <span data-ttu-id="7004a-141">Это часто означает, что интерфейсы API, обсуждаемые здесь, являются абстрактными в представлении приложения. они упаковываются в виде подключаемых модулей для обработки цифровых сигналов (DSP), которые могут создавать экземпляры приложения, и которые могут использоваться разработчиком звука приложения для смешения с субмиксом Microsoft пространственного звукового канала, а также для передачи отдельных голосов в подключаемые модули динамического экземпляра объекта по мере необходимости.</span><span class="sxs-lookup"><span data-stu-id="7004a-141">This will frequently mean the APIs discussed here are abstracted from the app’s view; they are wrapped as digital signal processing (DSP) plug-ins that the app can instantiate, and which the app’s audio implementer can use to mix to a Microsoft Spatial Sound channel bed, submix, or send individual voices to dynamic object instance plug-ins as desired.</span></span> <span data-ttu-id="7004a-142">Свяжитесь с поставщиком решений по промежуточного слоя для своего уровня поддержки для пространственного звука Майкрософт.</span><span class="sxs-lookup"><span data-stu-id="7004a-142">Consult with your audio middleware solution provider for their level of support for Microsoft Spatial Sound.</span></span>

## <a name="microsoft-spatial-sound-for-audio-renderers"></a><span data-ttu-id="7004a-143">Пространственный звук для модулей подготовки звука (Майкрософт)</span><span class="sxs-lookup"><span data-stu-id="7004a-143">Microsoft Spatial Sound for Audio Renderers</span></span>

<span data-ttu-id="7004a-144">Многие модули подготовки звука нацелены на конечную точку [**Иаудиоклиент**](/windows/desktop/api/Audioclient/nn-audioclient-iaudioclient) Windows Audio Session API (васапи), где буферы каналов приложений смешанных и форматных звуковых данных передаются в приемник аудио васапи. затем доставленные буферы используются для смешивания с другими клиентами, окончательной обработки на уровне системы и отрисовки.</span><span class="sxs-lookup"><span data-stu-id="7004a-144">Many audio renderers target a Windows Audio Session API (WASAPI) [**IAudioClient**](/windows/desktop/api/Audioclient/nn-audioclient-iaudioclient) endpoint, where the application feeds buffers of mixed and format-conformed audio data to a WASAPI audio sink; the delivered buffers are then consumed for mixing with other clients, final system-level processing, and rendering.</span></span>

<span data-ttu-id="7004a-145">Пространственные конечные точки Microsoft Пространственный звук реализуются как [**испатиалаудиоклиент**](/windows/desktop/api/spatialaudioclient/nn-spatialaudioclient-ispatialaudioclient), что имеет много сходства с **иаудиоклиент**.</span><span class="sxs-lookup"><span data-stu-id="7004a-145">Microsoft Spatial Sound spatial endpoints are implemented as [**ISpatialAudioClient**](/windows/desktop/api/spatialaudioclient/nn-spatialaudioclient-ispatialaudioclient), which has many similarities to **IAudioClient**.</span></span> <span data-ttu-id="7004a-146">Он поддерживает *статические* звуковые объекты, формирующие плату каналов, с поддержкой до 8.1.4.4 каналов (8 каналов вокруг прослушивателя, слева, справа, центром, слева, сбоку справа, сзади слева, справа и сзади); 1 канал эффектов с низкой частотой; 4 канала выше прослушивателя, 4 канала ниже прослушивателя).</span><span class="sxs-lookup"><span data-stu-id="7004a-146">It supports *static* sound objects forming a channel bed, with support for up to 8.1.4.4 channels (8 channels around the listener – Left, Right, Center, Side Left, Side Right, Back Left, Back Right, and Back Center; 1 low frequency effects channel; 4 channels above the listener; 4 channels below the listener).</span></span> <span data-ttu-id="7004a-147">Он поддерживает *динамические* объекты Sound, которые можно произвольно размещать в трехмерном пространстве.</span><span class="sxs-lookup"><span data-stu-id="7004a-147">And it supports *dynamic* sound objects, which can be arbitrarily positioned in 3D space.</span></span>

<span data-ttu-id="7004a-148">Общий шаблон написания кода реализации для **испатиалаудиоклиент** :</span><span class="sxs-lookup"><span data-stu-id="7004a-148">The general implementation coding pattern for **ISpatialAudioClient** is:</span></span>

-   <span data-ttu-id="7004a-149">Создание статических и (или) динамических звуковых объектов.</span><span class="sxs-lookup"><span data-stu-id="7004a-149">Create static and/or dynamic audio objects.</span></span>
-   <span data-ttu-id="7004a-150">Передавать звуковой буфер каждого объекта каждому кадру, чтобы система могла их визуализировать.</span><span class="sxs-lookup"><span data-stu-id="7004a-150">Feed each object’s audio buffer each frame so the system can render it.</span></span>
-   <span data-ttu-id="7004a-151">Обновляйте трехмерные позиции динамических объектов по запросу — как часто (или редко) в качестве спроса на приложения.</span><span class="sxs-lookup"><span data-stu-id="7004a-151">Update dynamic objects’ 3D positions on demand – as frequently (or infrequently) as the app desires.</span></span>

<span data-ttu-id="7004a-152">Обратите внимание, что текущий формат вывода (динамики или Наушники; Windows Sonic для наушников, Dolby атмос или наушников DTS: X) является абстрактным по отношению к приведенной выше реализации. разработчик приложения может сосредоточиться на пространственном звуковом уровне, не выполняя сведение на основе формата.</span><span class="sxs-lookup"><span data-stu-id="7004a-152">Note that the current output format (speakers or headphones; Windows Sonic for Headphones, Dolby Atmos, or DTS Headphone:X) is abstracted from the above implementation – the app developer can focus on spatial sound without needing to pivot based on format.</span></span> <span data-ttu-id="7004a-153">Приложения, которые должны быть расходятся на основе формата вывода, могут запрашивать используемый формат, но абстракция означает, что приложение не обязательно должно работать с этими форматами.</span><span class="sxs-lookup"><span data-stu-id="7004a-153">Apps that do want their behavior to diverge based on output format can query the format in use, but the abstraction means an app is not required to handle these formats.</span></span>

## <a name="microsoft-spatial-sound-integration-with-audio-renderers"></a><span data-ttu-id="7004a-154">Интеграция с пространственными звуками (Майкрософт) с модулями подготовки звука</span><span class="sxs-lookup"><span data-stu-id="7004a-154">Microsoft Spatial Sound Integration with Audio Renderers</span></span>

<span data-ttu-id="7004a-155">Так как [**испатиалаудиоклиент**](/windows/desktop/api/spatialaudioclient/nn-spatialaudioclient-ispatialaudioclient) — это приемник звука, использующий данные, модуль подготовки звука имеет несколько вариантов взаимодействия с и доставки звуковых данных.</span><span class="sxs-lookup"><span data-stu-id="7004a-155">Because [**ISpatialAudioClient**](/windows/desktop/api/spatialaudioclient/nn-spatialaudioclient-ispatialaudioclient) is an audio sink that consumes data, an audio renderer has several options for how to interact with and deliver audio data to it.</span></span> <span data-ttu-id="7004a-156">Существует три часто используемых метода интеграции (и для заголовков, использующих по промежуточного слоя звука, на основе этих параметров могут быть доступны эквивалентные подключаемые модули):</span><span class="sxs-lookup"><span data-stu-id="7004a-156">There are three commonly used integration techniques (and for titles using audio middleware, you may see equivalent plug-ins made available based on these options):</span></span>

-   <span data-ttu-id="7004a-157">**7.1.4 паннерс и Главная речь**: модули подготовки, которые уже поддерживают конечные точки 7,1, могут просто добавить поддержку четырех дополнительных каналов высоты, поддерживаемых микропрограммой **испатиалаудиоклиент** static Channel.</span><span class="sxs-lookup"><span data-stu-id="7004a-157">**7.1.4 panners and mastering voice**: Renderers that already support 7.1 endpoints may opt to simply add support for the four additional height channels that the **ISpatialAudioClient** static channel bed supports.</span></span> <span data-ttu-id="7004a-158">Любые прокрутки канала, которые ранее были выполнены (вероятно, уже использовали координаты x, y, z), можно обновить, чтобы они включали эти каналы высоты.</span><span class="sxs-lookup"><span data-stu-id="7004a-158">Any channel panning they previously did (likely already leveraging x,y, z coordinates) can be updated to now include these height channels.</span></span> <span data-ttu-id="7004a-159">Это часто обеспечивает наименьший перерыв в работе с потоками операций визуализации и воспроизведения аудио, сигналов, потоков и элементов управления Mix.</span><span class="sxs-lookup"><span data-stu-id="7004a-159">This often offers the least disruption to renderer and app audio workflows, signal, flow, and mix control.</span></span> <span data-ttu-id="7004a-160">На наушниках Обратите внимание, что полная комбинация приложений будет пространственной, поэтому даже стереосистема может рассматриваться как "внешнее" от прослушивателя.</span><span class="sxs-lookup"><span data-stu-id="7004a-160">Over headphones, note that the full app mix will be spatialized – so even stereo music may be perceived as “externalized” from the listener.</span></span>
-   <span data-ttu-id="7004a-161">**Поддержка существующей конечной точки, а также добавление шины 7.1.4 (и паннерс)**. Некоторые названия могут поддерживать две конечные точки: их существующую стереосистему стерео васапи (для содержимого "Direct to ушки", которое не должно быть пространственно) наряду с **испатиалаудиоклиент** статическим каналом, поддерживающим 7.1.4 (или даже до 8.1.4.4).</span><span class="sxs-lookup"><span data-stu-id="7004a-161">**Maintain existing endpoint, plus add a 7.1.4 bus (and panners)**: Some titles may choose to maintain two endpoints: their existing stereo WASAPI endpoint (for “direct to ears” content not meant to be spatialized) alongside an **ISpatialAudioClient** static channel bed supporting 7.1.4 (or even up to 8.1.4.4).</span></span> <span data-ttu-id="7004a-162">Конечно, управление взаимодействием между двумя наборами предоставляет дополнительные трудности создателям содержимого, хотя синхронизация поддерживается, так как экземпляры ВАСАПИ и Исак активны в определенный момент времени, используют один и тот же размер буфера и часы для обработки.</span><span class="sxs-lookup"><span data-stu-id="7004a-162">Of course, managing interactions between two mixes presents additional challenges to content creators, though synchronization is maintained, as both WASAPI and ISAC instances active at a given time do use the same buffer size and clock for processing.</span></span>
-   <span data-ttu-id="7004a-163">**Использование динамических звуковых объектов для определенных голосов или** поднаборов: предложение, возможно, наиболее подробное или точное позиционирование, но потенциальное создание непрозрачности Mix, этот метод предполагает использование динамических звуковых объектов **испатиалаудиоклиент** .</span><span class="sxs-lookup"><span data-stu-id="7004a-163">**Use dynamic sound objects for certain voices or submixes**: Offering perhaps the most detailed/accurate positioning, but potentially creating mix opacity, this technique involves using **ISpatialAudioClient** dynamic sound objects.</span></span> <span data-ttu-id="7004a-164">Обратите внимание, что метаданные и звуковой буфер доставляются в модуль подготовки отчетов, поэтому эти звуки будут непрозрачны для остальной части набора приложений.</span><span class="sxs-lookup"><span data-stu-id="7004a-164">Note that the metadata plus audio buffer is delivered to the renderer, so these sounds will be opaque to the rest of the app mix.</span></span> <span data-ttu-id="7004a-165">Кроме того, поскольку существует ограниченное количество доступных динамических звуковых объектов, модулю подготовки отчетов необходимо рассмотреть методы определения приоритетов: отбора, совместное размещение звука, смешивание с помощью статического канала и т. д.</span><span class="sxs-lookup"><span data-stu-id="7004a-165">Additionally, since there are a limited number of available dynamic sound objects, the renderer will need to consider implementing prioritization techniques – culling, sound co-location, blending to the static channel bed, and so on.</span></span> <span data-ttu-id="7004a-166">Игры часто использовали этот метод для отдельных heroных звуков, таких как хеликоптер, который перемещается над прослушивателем.</span><span class="sxs-lookup"><span data-stu-id="7004a-166">Games have frequently used this technique for individual “hero” sounds, such as a helicopter that will move around above the listener.</span></span>

<span data-ttu-id="7004a-167">Модули подготовки отчетов также могут смешивать и сопоставлять эти подходы.</span><span class="sxs-lookup"><span data-stu-id="7004a-167">Renderers can also mix and match between these approaches.</span></span>

## <a name="microsoft-spatial-sound-runtime-resource-implications"></a><span data-ttu-id="7004a-168">Влияние на ресурсы среды выполнения пространственных звуков Майкрософт</span><span class="sxs-lookup"><span data-stu-id="7004a-168">Microsoft Spatial Sound Runtime Resource Implications</span></span>

<span data-ttu-id="7004a-169">В Windows и Xbox количество доступных голосов зависит от используемого формата.</span><span class="sxs-lookup"><span data-stu-id="7004a-169">On Windows and Xbox, the number of available voices varies based on the format in use.</span></span> <span data-ttu-id="7004a-170">Форматы Dolby атмос поддерживают 32 общего числа активных объектов (например, если используется 7.1.4 канала), то могут быть активны 20 дополнительных динамических звуковых объектов.</span><span class="sxs-lookup"><span data-stu-id="7004a-170">Dolby Atmos formats support 32 total active objects (so if a 7.1.4 channel bed is in use, 20 additional dynamic sound objects can be active).</span></span> <span data-ttu-id="7004a-171">Windows Sonic для наушников поддерживает 128 общего числа активных объектов, при этом канал с низкими частотами (НИЗКОЧАСТОТный) не считается объектом, поэтому при использовании 8.1.4.4 канала 112 динамические звуковые объекты могут быть активными.</span><span class="sxs-lookup"><span data-stu-id="7004a-171">Windows Sonic for Headphones supports 128 total active objects, with the Low Frequency Effects (LFE) channel not actually being counted as an object -- so when an 8.1.4.4 channel bed is in use, 112 dynamic sound objects can be active.</span></span>

<span data-ttu-id="7004a-172">Для универсальная платформа Windows приложений, работающих на одной игровой консоли Xbox, кодирование в реальном времени (для Dolby атмос для домашнего кинотеатра, Dolby атмос для наушников, наушники для служб DTS: X и Windows Sonic для наушников) выполняется в аппаратном обеспечении без затрат на ЦП.</span><span class="sxs-lookup"><span data-stu-id="7004a-172">For Universal Windows Platform apps running on Xbox One game consoles, realtime encode (for Dolby Atmos for home theater, Dolby Atmos for Headphones, DTS Headphone:X, and Windows Sonic for Headphones) is performed in hardware at no CPU cost.</span></span>

| <span data-ttu-id="7004a-173">Формат</span><span class="sxs-lookup"><span data-stu-id="7004a-173">Format</span></span>                       | <span data-ttu-id="7004a-174">Максимальное число статических объектов (канал каналов)</span><span class="sxs-lookup"><span data-stu-id="7004a-174">Max Static Objects (Channel Bed)</span></span> | <span data-ttu-id="7004a-175">Максимальное число динамических объектов</span><span class="sxs-lookup"><span data-stu-id="7004a-175">Max Dynamic Objects</span></span> <br> <span data-ttu-id="7004a-176">Xbox One</span><span class="sxs-lookup"><span data-stu-id="7004a-176">Xbox One</span></span> | <span data-ttu-id="7004a-177">Максимальное число динамических объектов</span><span class="sxs-lookup"><span data-stu-id="7004a-177">Max Dynamic Objects</span></span> <br> <span data-ttu-id="7004a-178">Windows</span><span class="sxs-lookup"><span data-stu-id="7004a-178">Windows</span></span> | <span data-ttu-id="7004a-179">Максимальное число динамических объектов</span><span class="sxs-lookup"><span data-stu-id="7004a-179">Max Dynamic Objects</span></span> <br> <span data-ttu-id="7004a-180">HoloLens 2</span><span class="sxs-lookup"><span data-stu-id="7004a-180">HoloLens 2</span></span>
|------------------------------|----------------------------------|-------------------------------------------|------------------------------------------|------------------------------------------|
| <span data-ttu-id="7004a-181">Dolby атмос (HDMI)</span><span class="sxs-lookup"><span data-stu-id="7004a-181">Dolby Atmos (HDMI)</span></span>           | <span data-ttu-id="7004a-182">12 (7.1.4)</span><span class="sxs-lookup"><span data-stu-id="7004a-182">12 (7.1.4)</span></span>                       | <span data-ttu-id="7004a-183">20</span><span class="sxs-lookup"><span data-stu-id="7004a-183">20</span></span>                                        | <span data-ttu-id="7004a-184">20</span><span class="sxs-lookup"><span data-stu-id="7004a-184">20</span></span>                                       | <span data-ttu-id="7004a-185">Н/Д</span><span class="sxs-lookup"><span data-stu-id="7004a-185">NA</span></span> |
| <span data-ttu-id="7004a-186">Dolby атмос (наушники & встроенные динамики)</span><span class="sxs-lookup"><span data-stu-id="7004a-186">Dolby Atmos (Headphones & Built-in Speakers)</span></span>     | <span data-ttu-id="7004a-187">17 (8.1.4.4)</span><span class="sxs-lookup"><span data-stu-id="7004a-187">17 (8.1.4.4)</span></span>                     | <span data-ttu-id="7004a-188">16</span><span class="sxs-lookup"><span data-stu-id="7004a-188">16</span></span>                                        | <span data-ttu-id="7004a-189">16</span><span class="sxs-lookup"><span data-stu-id="7004a-189">16</span></span>                                       | <span data-ttu-id="7004a-190">Н/Д</span><span class="sxs-lookup"><span data-stu-id="7004a-190">NA</span></span> |
| <span data-ttu-id="7004a-191">Наушники служб DTS: X (наушники)</span><span class="sxs-lookup"><span data-stu-id="7004a-191">DTS Headphone:X (Headphones)</span></span> | <span data-ttu-id="7004a-192">17 (8.1.4.4)</span><span class="sxs-lookup"><span data-stu-id="7004a-192">17 (8.1.4.4)</span></span>        | <span data-ttu-id="7004a-193">16</span><span class="sxs-lookup"><span data-stu-id="7004a-193">16</span></span>                                        | <span data-ttu-id="7004a-194">32</span><span class="sxs-lookup"><span data-stu-id="7004a-194">32</span></span>                                      | <span data-ttu-id="7004a-195">Н/Д</span><span class="sxs-lookup"><span data-stu-id="7004a-195">NA</span></span> |
| <span data-ttu-id="7004a-196">Windows Sonic для наушников</span><span class="sxs-lookup"><span data-stu-id="7004a-196">Windows Sonic for Headphones</span></span> | <span data-ttu-id="7004a-197">17 (8.1.4.4)</span><span class="sxs-lookup"><span data-stu-id="7004a-197">17 (8.1.4.4)</span></span>        | <span data-ttu-id="7004a-198">15</span><span class="sxs-lookup"><span data-stu-id="7004a-198">15</span></span>                                        | <span data-ttu-id="7004a-199">112</span><span class="sxs-lookup"><span data-stu-id="7004a-199">112</span></span>                                      | <span data-ttu-id="7004a-200">31</span><span class="sxs-lookup"><span data-stu-id="7004a-200">31</span></span> |


<span data-ttu-id="7004a-201">Приложения также должны учитывать следующие аспекты ресурсов:</span><span class="sxs-lookup"><span data-stu-id="7004a-201">Apps should also consider the following resource implications:</span></span>

-   <span data-ttu-id="7004a-202">**Пропускная способность хранилища и диска**. линейное содержимое, предварительно созданное в 7.1.4, обычно составляет более 7,1 линейного содержимого (хотя искусственного кодеки уже часто используют преимущества корреляции каналов, чтобы сделать это гораздо меньше 50% более реальных каналов аудиоданных).</span><span class="sxs-lookup"><span data-stu-id="7004a-202">**Storage/disc bandwidth**: Linear content pre-authored to 7.1.4 will typically be larger than 7.1 linear content (though perceptual codecs already often take advantage of channel correlation to make this far less than the 50% more actual channels of audio data)</span></span>
-   <span data-ttu-id="7004a-203">**Другие затраты на обработку цифровых сигналов**. Теперь некоторые ранее глобальные эффекты могут быть экземплярами для каждого динамического звукового объекта.</span><span class="sxs-lookup"><span data-stu-id="7004a-203">**Other digital signal processing costs**: Some previously global effects may now become instanced per dynamic sound object.</span></span> <span data-ttu-id="7004a-204">Кроме того, некоторым создателям содержимого может потребоваться обновить некоторые эффекты DSP для поддержки дополнительных каналов или их уникального использования.</span><span class="sxs-lookup"><span data-stu-id="7004a-204">Additionally, some content creators may wish to update some DSP effects to support additional channels or use them uniquely.</span></span>

## <a name="microsoft-spatial-sound-and-sound-spatialization-cues"></a><span data-ttu-id="7004a-205">Подсказки по пространственному звуку и звуку в Microsoft</span><span class="sxs-lookup"><span data-stu-id="7004a-205">Microsoft Spatial Sound and Sound Spatialization Cues</span></span>

<span data-ttu-id="7004a-206">Пространственный звук Майкрософт фокусируется на моделировании положения звука в идеальной сфере, окружающей прослушиватель.</span><span class="sxs-lookup"><span data-stu-id="7004a-206">Microsoft Spatial Sound is focused on sound positioning simulation on an idealized sphere around the listener.</span></span> <span data-ttu-id="7004a-207">Windows Sonic для наушников, наушники служб DTS: X и Dolby атмос реализуют сопоставление и виртуализацию динамиков с наушниками, но обратите внимание, что многие другие аспекты пространственного моделирования, уже как правило, реализованы в способах создания содержимого, остаются доступными для существующих ядер.</span><span class="sxs-lookup"><span data-stu-id="7004a-207">Windows Sonic for Headphones, DTS Headphone:X, and Dolby Atmos implement speaker mapping and virtualization to headphones, but note that many other aspects of sound spatial simulation, already typically implemented in content creator-enabled ways, are left to existing engines.</span></span> <span data-ttu-id="7004a-208">Авторы содержимого продолжают использовать существующие инструменты игры и процессы, которые ранее использовались для таких пространственных подсказок, как Doppler, ослабление и фильтрация на основе расстояния, а также перекрытия и препятствий, а также ревербератион окружающей среды.</span><span class="sxs-lookup"><span data-stu-id="7004a-208">Content creators continue to use the existing game tools and processes they’ve previously had for such spatial cues as Doppler, distance-based attenuation and filtering, occlusion and obstruction, and environmental reverberation.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="7004a-209">Дополнительные ресурсы</span><span class="sxs-lookup"><span data-stu-id="7004a-209">Additional Resources</span></span>

-   [<span data-ttu-id="7004a-210">Репозиторий Microsoft для выборки пространственных звука GitHub</span><span class="sxs-lookup"><span data-stu-id="7004a-210">Microsoft Spatial Sound samples github repository</span></span>](https://github.com/Microsoft/Xbox-ATG-Samples/tree/master/UWPSamples/Audio)
-   <span data-ttu-id="7004a-211">Dolby предлагает ряд ресурсов поддержки, касающихся Dolby атмос и приложения Dolby Access в <https://developer.dolby.com> .</span><span class="sxs-lookup"><span data-stu-id="7004a-211">Dolby offers a number of support resources relating to Dolby Atmos and the Dolby Access app at <https://developer.dolby.com>.</span></span>

## <a name="spatial-sound-interfaces"></a><span data-ttu-id="7004a-212">Интерфейсы пространственного звука</span><span class="sxs-lookup"><span data-stu-id="7004a-212">Spatial Sound Interfaces</span></span>



| <span data-ttu-id="7004a-213">Интерфейс</span><span class="sxs-lookup"><span data-stu-id="7004a-213">Interface</span></span>                                                                              | <span data-ttu-id="7004a-214">Описание</span><span class="sxs-lookup"><span data-stu-id="7004a-214">Description</span></span>                                                                                                                    |
|----------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="7004a-215">**испатиалаудиоклиент**</span><span class="sxs-lookup"><span data-stu-id="7004a-215">**ISpatialAudioClient**</span></span>](/windows/desktop/api/spatialaudioclient/nn-spatialaudioclient-ispatialaudioclient)                                     | <span data-ttu-id="7004a-216">Позволяет клиенту создавать звуковые потоки, которые выдают звук из расположения в трехмерном пространстве.</span><span class="sxs-lookup"><span data-stu-id="7004a-216">Enables a client to create audio streams that emit audio from a position in 3D space.</span></span>                                          |
| [<span data-ttu-id="7004a-217">**испатиалаудиубжект**</span><span class="sxs-lookup"><span data-stu-id="7004a-217">**ISpatialAudioObject**</span></span>](/windows/desktop/api/spatialaudioclient/nn-spatialaudioclient-ispatialaudioobject)                                     | <span data-ttu-id="7004a-218">Представляет объект, предоставляющий звуковые данные, отображаемые из положения в трехмерном пространстве относительно пользователя.</span><span class="sxs-lookup"><span data-stu-id="7004a-218">Represents an object that provides audio data to be rendered from a position in 3D space, relative to the user.</span></span>                |
| [<span data-ttu-id="7004a-219">**испатиалаудиубжектрендерстреам**</span><span class="sxs-lookup"><span data-stu-id="7004a-219">**ISpatialAudioObjectRenderStream**</span></span>](/windows/desktop/api/spatialaudioclient/nn-spatialaudioclient-ispatialaudioobjectrenderstream)             | <span data-ttu-id="7004a-220">Предоставляет методы для управления объектом пространственного звукового потока визуализации, включая запуск, остановку и сброс потока.</span><span class="sxs-lookup"><span data-stu-id="7004a-220">Provides methods for controlling a spatial audio object render stream, including starting, stopping, and resetting the stream.</span></span> |
| [<span data-ttu-id="7004a-221">**испатиалаудиубжектрендерстреамнотифи**</span><span class="sxs-lookup"><span data-stu-id="7004a-221">**ISpatialAudioObjectRenderStreamNotify**</span></span>](/windows/desktop/api/spatialaudioclient/nn-spatialaudioclient-ispatialaudioobjectrenderstreamnotify) | <span data-ttu-id="7004a-222">Предоставляет уведомления для клиентов пространственных аудио, чтобы реагировать на изменения в состоянии Испатиалаудиубжектрендерстреам.</span><span class="sxs-lookup"><span data-stu-id="7004a-222">Provides notifications for spatial audio clients to respond to changes in the state of an ISpatialAudioObjectRenderStream.</span></span>     |



 

> [!Note]  
> <span data-ttu-id="7004a-223">При использовании интерфейсов [**испатиалаудиоклиент**](/windows/desktop/api/spatialaudioclient/nn-spatialaudioclient-ispatialaudioclient) в заголовке Xbox One Development Kit (XDK) сначала необходимо вызвать **енаблеспатиалаудио** перед вызовом [**Иммдевицеенумератор:: Енумаудиоендпоинтс**](/windows/desktop/api/Mmdeviceapi/nf-mmdeviceapi-immdeviceenumerator-enumaudioendpoints) или [**иммдевицеенумератор:: GetDefaultAudioEndpoint**](/windows/desktop/api/Mmdeviceapi/nf-mmdeviceapi-immdeviceenumerator-getdefaultaudioendpoint).</span><span class="sxs-lookup"><span data-stu-id="7004a-223">When using the [**ISpatialAudioClient**](/windows/desktop/api/spatialaudioclient/nn-spatialaudioclient-ispatialaudioclient) interfaces on an Xbox One Development Kit (XDK) title, you must first call **EnableSpatialAudio** before calling [**IMMDeviceEnumerator::EnumAudioEndpoints**](/windows/desktop/api/Mmdeviceapi/nf-mmdeviceapi-immdeviceenumerator-enumaudioendpoints) or [**IMMDeviceEnumerator::GetDefaultAudioEndpoint**](/windows/desktop/api/Mmdeviceapi/nf-mmdeviceapi-immdeviceenumerator-getdefaultaudioendpoint).</span></span> <span data-ttu-id="7004a-224">Несоблюдение этого действия приведет к тому, что при \_ вызове функции активации будет возвращена ошибка "E Interface".</span><span class="sxs-lookup"><span data-stu-id="7004a-224">Failure to do so will result in an E\_NOINTERFACE error being returned from the call to Activate.</span></span> <span data-ttu-id="7004a-225">**Енаблеспатиалаудио** доступен только для заголовков XDK, и его не нужно вызывать для универсальная платформа Windows приложений, работающих на Xbox One, а также для устройств, не являющихся устройствами Xbox.</span><span class="sxs-lookup"><span data-stu-id="7004a-225">**EnableSpatialAudio** is only available for XDK titles, and does not need to be called for Universal Windows Platform apps running on Xbox One, nor for any non-Xbox One devices.</span></span>

 

## <a name="spatial-sound-structures"></a><span data-ttu-id="7004a-226">Пространственные звуковые структуры</span><span class="sxs-lookup"><span data-stu-id="7004a-226">Spatial Sound Structures</span></span>



| <span data-ttu-id="7004a-227">Структура</span><span class="sxs-lookup"><span data-stu-id="7004a-227">Structure</span></span>                                                                                                 | <span data-ttu-id="7004a-228">Описание</span><span class="sxs-lookup"><span data-stu-id="7004a-228">Description</span></span>                                                                  |
|-----------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------|
| [<span data-ttu-id="7004a-229">**спатиалаудиубжектрендерстреамактиватионпарамс**</span><span class="sxs-lookup"><span data-stu-id="7004a-229">**SpatialAudioObjectRenderStreamActivationParams**</span></span>](/windows/desktop/api/spatialaudioclient/ns-spatialaudioclient-spatialaudioobjectrenderstreamactivationparams) | <span data-ttu-id="7004a-230">Представляет параметры активации для потока обработки пространственных аудиозаписей.</span><span class="sxs-lookup"><span data-stu-id="7004a-230">Represents activation parameters for a spatial audio render stream.</span></span>          |
| [<span data-ttu-id="7004a-231">**спатиалаудиоклиентактиватионпарамс**</span><span class="sxs-lookup"><span data-stu-id="7004a-231">**SpatialAudioClientActivationParams**</span></span>](/windows/desktop/api/spatialaudioclient/ns-spatialaudioclient-spatialaudioclientactivationparams)                          | <span data-ttu-id="7004a-232">Представляет необязательные параметры активации для потока обработки пространственных аудиозаписей.</span><span class="sxs-lookup"><span data-stu-id="7004a-232">Represents optional activation parameters for a spatial audio render stream.</span></span> |



 

## <a name="spatial-sound-enumerations"></a><span data-ttu-id="7004a-233">Перечисления пространственных звуков</span><span class="sxs-lookup"><span data-stu-id="7004a-233">Spatial Sound Enumerations</span></span>



| <span data-ttu-id="7004a-234">Перечисление</span><span class="sxs-lookup"><span data-stu-id="7004a-234">Enumeration</span></span>                                | <span data-ttu-id="7004a-235">Описание</span><span class="sxs-lookup"><span data-stu-id="7004a-235">Description</span></span>                                   |
|--------------------------------------------|-----------------------------------------------|
| [<span data-ttu-id="7004a-236">**аудиубжекттипе**</span><span class="sxs-lookup"><span data-stu-id="7004a-236">**AudioObjectType**</span></span>](/windows/desktop/api/spatialaudioclient/ne-spatialaudioclient-audioobjecttype) | <span data-ttu-id="7004a-237">Указывает тип Испатиалаудиубжект.</span><span class="sxs-lookup"><span data-stu-id="7004a-237">Specifies the type of an ISpatialAudioObject.</span></span> |



 

 

 



