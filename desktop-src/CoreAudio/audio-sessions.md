---
description: Сеансы аудио
ms.assetid: b8a1b656-a582-4112-99e9-bd575719ebb3
title: Сеансы аудио
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 57ae67a3eafe7a76add2fad192823868304e860d
ms.sourcegitcommit: c7add10d695482e1ceb72d62b8a4ebd84ea050f7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "104142787"
---
# <a name="audio-sessions"></a><span data-ttu-id="093a1-103">Сеансы аудио</span><span class="sxs-lookup"><span data-stu-id="093a1-103">Audio Sessions</span></span>

<span data-ttu-id="093a1-104">*Сеанс звука* — это группа связанных звуковых потоков, которыми может управлять клиент васапи.</span><span class="sxs-lookup"><span data-stu-id="093a1-104">An *audio session* is a group of related audio streams that a WASAPI client can manage collectively.</span></span> <span data-ttu-id="093a1-105">Клиенты могут управлять уровнем громкости и состоянием отключения каждого отдельного сеанса.</span><span class="sxs-lookup"><span data-stu-id="093a1-105">Clients can control the volume level and muting state of each individual session.</span></span> <span data-ttu-id="093a1-106">Система применяет указанный клиентом том и постоянно выключает параметры для всех потоков в сеансе.</span><span class="sxs-lookup"><span data-stu-id="093a1-106">The system applies client-specified volume and mute settings uniformly to all of the streams in the session.</span></span>

<span data-ttu-id="093a1-107">Когда клиент инициализирует звуковой поток, он назначает звуковой поток сеансу аудио.</span><span class="sxs-lookup"><span data-stu-id="093a1-107">When a client initializes an audio stream, it assigns the audio stream to an audio session.</span></span> <span data-ttu-id="093a1-108">Дополнительные сведения см. в разделе [**иаудиоклиент:: Initialize**](/windows/desktop/api/Audioclient/nf-audioclient-iaudioclient-initialize).</span><span class="sxs-lookup"><span data-stu-id="093a1-108">For more information, see [**IAudioClient::Initialize**](/windows/desktop/api/Audioclient/nf-audioclient-iaudioclient-initialize).</span></span>

<span data-ttu-id="093a1-109">Сеанс звука содержит либо потоки отрисовки, либо потоки записи, но не оба.</span><span class="sxs-lookup"><span data-stu-id="093a1-109">An audio session contains either rendering streams or capture streams, but not both.</span></span> <span data-ttu-id="093a1-110">По умолчанию том и выключение параметров для сеанса подготовки к просмотру сохраняется во время перезагрузки системы.</span><span class="sxs-lookup"><span data-stu-id="093a1-110">By default, the volume and mute settings for a rendering session are persistent across system restarts.</span></span> <span data-ttu-id="093a1-111">Том и параметры отключения для сеанса записи не являются постоянными.</span><span class="sxs-lookup"><span data-stu-id="093a1-111">The volume and mute settings for a capture session are not persistent.</span></span> <span data-ttu-id="093a1-112">(Сеанс, содержащий потоки, работающие в режиме замыкания на себя, обрабатывается как сеанс записи.</span><span class="sxs-lookup"><span data-stu-id="093a1-112">(A session that contains streams that operate in loopback mode is treated the same as a capture session.</span></span> <span data-ttu-id="093a1-113">То есть параметры сеанса не являются постоянными.</span><span class="sxs-lookup"><span data-stu-id="093a1-113">That is, the session settings are not persistent.</span></span> <span data-ttu-id="093a1-114">Дополнительные сведения о режиме замыкания на себя см. в разделе [запись замыкания на себя](loopback-recording.md).)</span><span class="sxs-lookup"><span data-stu-id="093a1-114">For more information about loopback mode, see [Loopback Recording](loopback-recording.md).)</span></span>

<span data-ttu-id="093a1-115">Каждый поток аудио принадлежит ровно одному сеансу.</span><span class="sxs-lookup"><span data-stu-id="093a1-115">Every audio stream belongs to exactly one session.</span></span> <span data-ttu-id="093a1-116">Клиент назначает звуковой поток определенному сеансу во время инициализации объекта потока.</span><span class="sxs-lookup"><span data-stu-id="093a1-116">A client assigns an audio stream to a particular session at the time that it initializes the stream object.</span></span> <span data-ttu-id="093a1-117">Поток оставляет свое членство в сеансе в течение времени существования потока.</span><span class="sxs-lookup"><span data-stu-id="093a1-117">The stream retains its membership in the session for the lifetime of the stream.</span></span> <span data-ttu-id="093a1-118">После создания объекта Stream объект существует до тех пор, пока клиент не выпустит последнюю подсчитанную ссылку на объект, а затем объект будет удален.</span><span class="sxs-lookup"><span data-stu-id="093a1-118">After a stream object is created, the object exists until a client releases the last counted reference to the object, and then the object is deleted.</span></span>

<span data-ttu-id="093a1-119">Хотя клиент не может изменить сеанс, к которому назначен существующий поток, он может добиться аналогичного результата, удалив поток (освобождая все ссылки на него), создав новый поток для замены удаленного потока и назначив новый поток другому сеансу.</span><span class="sxs-lookup"><span data-stu-id="093a1-119">Although a client cannot change the session to which an existing stream is assigned, it can achieve a similar effect by deleting the stream (by releasing all references to it), creating a new stream to replace the deleted stream, and assigning the new stream to another session.</span></span>

<span data-ttu-id="093a1-120">Каждый сеанс отрисовки представляет собой подмножество потоков, образующих глобальный набор, который воспроизводится через определенное [устройство аудио конечных точек](audio-endpoint-devices.md).</span><span class="sxs-lookup"><span data-stu-id="093a1-120">Each rendering session represents a subset of the streams that form the global mix that plays through a particular [audio endpoint device](audio-endpoint-devices.md).</span></span> <span data-ttu-id="093a1-121">Глобальный набор объединяет все сеансы всех приложений, совместно использующих устройство.</span><span class="sxs-lookup"><span data-stu-id="093a1-121">The global mix combines all of the sessions from all of the applications that share the device.</span></span>

<span data-ttu-id="093a1-122">Часто приложение с несколькими потоками назначает все свои потоки одному сеансу.</span><span class="sxs-lookup"><span data-stu-id="093a1-122">Frequently, an application with several streams assigns all of its streams to the same session.</span></span> <span data-ttu-id="093a1-123">Однако приложение может в качестве варианта назначить различные потоки для разных сеансов.</span><span class="sxs-lookup"><span data-stu-id="093a1-123">However, the application can, as an option, assign different streams to different sessions.</span></span> <span data-ttu-id="093a1-124">Любой поток, который приложение явно не назначает сеансу, принадлежит сеансу по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="093a1-124">Any stream that the application does not explicitly assign to a session belongs to the default session.</span></span>

<span data-ttu-id="093a1-125">Обычные звуковые приложения следует избегать изменения громкости и отключения параметров сеансов.</span><span class="sxs-lookup"><span data-stu-id="093a1-125">Typical audio applications should avoid modifying the volume and mute settings for sessions.</span></span> <span data-ttu-id="093a1-126">Вместо этого пользователи управляют этими параметрами с помощью пользовательских интерфейсов управляющих программ.</span><span class="sxs-lookup"><span data-stu-id="093a1-126">Instead, users control these settings through the user interfaces of control programs.</span></span> <span data-ttu-id="093a1-127">Например, в Windows Vista системная программа, Sndvol.exe, отображает элемент управления "Громкость" и выключает управление для каждого активного или недавно активного сеанса отрисовки в системе.</span><span class="sxs-lookup"><span data-stu-id="093a1-127">For example, in Windows Vista, the system-supplied program, Sndvol.exe, displays a volume control and mute control for each active or recently active rendering session in the system.</span></span> <span data-ttu-id="093a1-128">С помощью этих элементов управления пользователи могут настраивать том и отключить параметры для всех сеансов в системе.</span><span class="sxs-lookup"><span data-stu-id="093a1-128">Through these controls, users can adjust the volume and mute settings for all of the sessions in the system.</span></span>

<span data-ttu-id="093a1-129">В настоящее время программа Сндвол отображает регуляторы громкости для отображения звуковых устройств в конечных точках.</span><span class="sxs-lookup"><span data-stu-id="093a1-129">The Sndvol program currently displays volume controls for audio-rendering endpoint devices only.</span></span> <span data-ttu-id="093a1-130">Он не отображает элементы управления громкостью для устройств записи звука.</span><span class="sxs-lookup"><span data-stu-id="093a1-130">It does not display volume controls for audio-capture devices.</span></span>

<span data-ttu-id="093a1-131">Сеанс активен, если он содержит один или несколько активных потоков.</span><span class="sxs-lookup"><span data-stu-id="093a1-131">A session is active if it contains one or more active streams.</span></span> <span data-ttu-id="093a1-132">Активный поток находится в *состоянии выполнения*.</span><span class="sxs-lookup"><span data-stu-id="093a1-132">An active stream is in the *running state*.</span></span> <span data-ttu-id="093a1-133">Неактивный поток находится в *остановленном состоянии*.</span><span class="sxs-lookup"><span data-stu-id="093a1-133">An inactive stream is in the *stopped state*.</span></span> <span data-ttu-id="093a1-134">Если первый поток станет активным, сеанс станет активным.</span><span class="sxs-lookup"><span data-stu-id="093a1-134">A session becomes active when its first stream becomes active.</span></span> <span data-ttu-id="093a1-135">Сеанс станет неактивным, когда его последний активный поток станет неактивным.</span><span class="sxs-lookup"><span data-stu-id="093a1-135">A session becomes inactive when its last active stream becomes inactive.</span></span> <span data-ttu-id="093a1-136">После неактивности сеанса в течение определенного периода времени система изменяет состояние сеанса с неактивного на срок действия.</span><span class="sxs-lookup"><span data-stu-id="093a1-136">After a session has been inactive for a period of time, the system changes the state of the session from inactive to expired.</span></span>

<span data-ttu-id="093a1-137">Сндвол отображает громкость и выключает элементы управления для всех активных и неактивных сеансов отрисовки.</span><span class="sxs-lookup"><span data-stu-id="093a1-137">Sndvol displays volume and mute controls for all active and inactive rendering sessions.</span></span> <span data-ttu-id="093a1-138">Сндвол удаляет том и выключает элементы управления для сеанса, когда состояние сеанса меняется с неактивного на истечение срока действия или когда сеанс завершается.</span><span class="sxs-lookup"><span data-stu-id="093a1-138">Sndvol removes the volume and mute controls for a session when the state of the session changes from inactive to expired, or when the session terminates.</span></span> <span data-ttu-id="093a1-139">(Сеанс завершается при удалении последнего из его потоков; то есть когда клиент освобождает итоговый счетчик ссылок на последний оставшийся объект потока в сеансе.) Единственным исключением из этого правила является звук системного уведомления.</span><span class="sxs-lookup"><span data-stu-id="093a1-139">(A session terminates when the last of its streams is deleted; that is, when a client releases the final reference count on the last remaining stream object in the session.) The one exception to this rule is for system-notification sounds.</span></span> <span data-ttu-id="093a1-140">Сндвол всегда отображает том и выключает элементы управления для звуков системного уведомления, независимо от состояния сеанса для этих звуков.</span><span class="sxs-lookup"><span data-stu-id="093a1-140">Sndvol always displays the volume and mute controls for system-notification sounds regardless of the state of the session for these sounds.</span></span>

<span data-ttu-id="093a1-141">Как правило, поток принадлежит сеансу, который охватывает только процесс, содержащий приложение, создавшее поток.</span><span class="sxs-lookup"><span data-stu-id="093a1-141">Typically, a stream belongs to a session that spans only the process that contains the application that created the stream.</span></span> <span data-ttu-id="093a1-142">Однако приложения имеют возможность определять межпроцессные сеансы, объединяющие потоки из двух или более процессов.</span><span class="sxs-lookup"><span data-stu-id="093a1-142">However, applications have the option of defining cross-process sessions that combine streams from two or more processes.</span></span>

<span data-ttu-id="093a1-143">ВАСАПИ поддерживает сеансы между процессами в основном, чтобы:</span><span class="sxs-lookup"><span data-stu-id="093a1-143">WASAPI supports cross-process sessions primarily so that:</span></span>

-   <span data-ttu-id="093a1-144">Программа Сндвол может предоставить пользователю единый регулятор громкости для управления звуком системного уведомления во всех приложениях.</span><span class="sxs-lookup"><span data-stu-id="093a1-144">The Sndvol program can present the user with a single volume control to manage system-notification sounds across all applications.</span></span>
-   <span data-ttu-id="093a1-145">Проигрыватель мультимедиа, работающий в одном процессе, может передавать защищенное содержимое в программу расшифровки, которая выполняется в другом процессе.</span><span class="sxs-lookup"><span data-stu-id="093a1-145">A media player that runs in one process can stream protected content to a decryption program that runs in another process.</span></span>

<span data-ttu-id="093a1-146">Аналогично параметрам управления для сеансов отрисовки, зависящих от процесса, параметры управления для сеансов отрисовки между процессами по умолчанию сохраняются в постоянном перезапуске системы.</span><span class="sxs-lookup"><span data-stu-id="093a1-146">Similar to the control settings for process-specific rendering sessions, the control settings for cross-process rendering sessions are, by default, persistent across system restarts.</span></span> <span data-ttu-id="093a1-147">ВАСАПИ предоставляет такое поведение в основном для преимуществ звуков уведомлений системы, которые должны хранить громкость пользователя и отключать параметры, так как набор приложений изменяется со временем.</span><span class="sxs-lookup"><span data-stu-id="093a1-147">WASAPI provides this behavior primarily for the benefit of system-notification sounds, which must retain the user's volume and mute settings as the application mix varies over time.</span></span>

<span data-ttu-id="093a1-148">Программа Сндвол помечает регулятор громкости для каждого сеанса с отображаемым именем и значком.</span><span class="sxs-lookup"><span data-stu-id="093a1-148">The Sndvol program labels the volume control for each session with a display name and an icon.</span></span> <span data-ttu-id="093a1-149">Клиент имеет возможность явно назначить отображаемое имя и значок для сеанса.</span><span class="sxs-lookup"><span data-stu-id="093a1-149">A client has the option of explicitly assigning a display name and icon to a session.</span></span> <span data-ttu-id="093a1-150">Если клиент не предоставил эти элементы, Сндвол отображает имя по умолчанию и значок по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="093a1-150">If the client does not provide these items, then Sndvol displays a default name and default icon instead.</span></span> <span data-ttu-id="093a1-151">Имя по умолчанию включает сведения, такие как заголовок окна приложения.</span><span class="sxs-lookup"><span data-stu-id="093a1-151">The default name incorporates information such as the title of the application window.</span></span> <span data-ttu-id="093a1-152">Значок по умолчанию — значок для окна приложения.</span><span class="sxs-lookup"><span data-stu-id="093a1-152">The default icon is the icon for the application window.</span></span> <span data-ttu-id="093a1-153">В случае сеансов, зависящих от процесса, эти значения по умолчанию предоставляют пользователям осмысленную информацию.</span><span class="sxs-lookup"><span data-stu-id="093a1-153">Only in the case of process-specific sessions do these defaults provide meaningful information to users.</span></span> <span data-ttu-id="093a1-154">Обратите внимание, что межпроцессный сеанс может быть связан с более чем одним приложением.</span><span class="sxs-lookup"><span data-stu-id="093a1-154">Note that a cross-process session can be associated with more than one application.</span></span> <span data-ttu-id="093a1-155">В этом случае значимыми являются только отображаемые имя и значок, предоставленные клиентом.</span><span class="sxs-lookup"><span data-stu-id="093a1-155">In this case, only a client-provided display name and icon are meaningful.</span></span>

<span data-ttu-id="093a1-156">Несмотря на то, что громкость и параметры выключения для сеанса подготовки к просмотру сохраняются, по умолчанию, сохраняемые при перезапуске системы, отображаемое имя и значок, предоставляемые клиентом, не являются.</span><span class="sxs-lookup"><span data-stu-id="093a1-156">Although the volume and mute settings for a rendering session are, by default, persistent across system restarts, the client-provided display name and icon are not.</span></span> <span data-ttu-id="093a1-157">Чтобы убедиться, что в Сндвол отображается имя и значок, предоставленные клиентом, клиент должен явно назначить имя и значок для сеанса в момент, когда клиент назначит первый поток в сеансе.</span><span class="sxs-lookup"><span data-stu-id="093a1-157">To ensure that Sndvol displays the client-provided name and icon, the client must explicitly assign the name and icon to the session at the time that the client assigns the first stream to the session.</span></span> <span data-ttu-id="093a1-158">Система оставляет отображаемое имя и значок для сеанса только до завершения сеанса.</span><span class="sxs-lookup"><span data-stu-id="093a1-158">The system retains the display name and icon for a session only until the session terminates.</span></span>

<span data-ttu-id="093a1-159">Каждый сеанс идентифицируется идентификатором GUID сеанса.</span><span class="sxs-lookup"><span data-stu-id="093a1-159">Each session is identified by a session GUID.</span></span> <span data-ttu-id="093a1-160">В момент открытия потока клиентом он назначает этот поток определенному сеансу.</span><span class="sxs-lookup"><span data-stu-id="093a1-160">At the time that a client opens a stream, the client assigns that stream to a particular session.</span></span> <span data-ttu-id="093a1-161">Клиент предоставляет следующие два фрагмента информации для обнаружения этого сеанса:</span><span class="sxs-lookup"><span data-stu-id="093a1-161">The client supplies the following two pieces of information to identify that session:</span></span>

-   <span data-ttu-id="093a1-162">Идентификатор GUID сеанса.</span><span class="sxs-lookup"><span data-stu-id="093a1-162">A session GUID.</span></span>
-   <span data-ttu-id="093a1-163">Является ли сеанс межпроцессным или зависящим от процесса. сеанс, зависящий от процесса, содержит только потоки из процесса клиента.</span><span class="sxs-lookup"><span data-stu-id="093a1-163">Whether the session is a cross-process or process-specific session—a process-specific session contains only streams from the client's process.</span></span>

<span data-ttu-id="093a1-164">Эти сведения достаточно для того, чтобы отличить определенный сеанс от всех других сеансов на том же компьютере.</span><span class="sxs-lookup"><span data-stu-id="093a1-164">This information is sufficient to distinguish a particular session from all other sessions in the same computer.</span></span> <span data-ttu-id="093a1-165">Идентификатор GUID сеанса для сеанса конкретного процесса однозначно определяет сеанс только в пределах области процесса, владеющего сеансом.</span><span class="sxs-lookup"><span data-stu-id="093a1-165">The session GUID for a process-specific session uniquely identifies the session only within the scope of the process that owns the session.</span></span> <span data-ttu-id="093a1-166">Идентификатор GUID сеанса для межпроцессного сеанса, напротив, уникален в пределах области действия всех процессов, запущенных на компьютере.</span><span class="sxs-lookup"><span data-stu-id="093a1-166">In contrast, the session GUID for a cross-process session is unique within the scope of all of the processes that are running on the computer.</span></span>

<span data-ttu-id="093a1-167">В случае сеанса конкретного процесса система использует сочетание идентификатора GUID сеанса и идентификатора процесса для уникальной идентификации сеанса в области действия компьютера.</span><span class="sxs-lookup"><span data-stu-id="093a1-167">In the case of a process-specific session, the system uses a combination of session GUID and process ID to uniquely identify the session within the scope of the computer.</span></span> <span data-ttu-id="093a1-168">Таким образом, если клиенты в двух разных процессах присваивают своим потокам два сеанса для конкретного процесса с идентичными идентификаторами GUID сеанса, система рассматривает сеансы как отдельные, так как их идентификаторы различаются.</span><span class="sxs-lookup"><span data-stu-id="093a1-168">Thus, if clients in two different processes assign their respective streams to two process-specific sessions with identical session GUIDs, the system treats the sessions as separate because their process IDs are different.</span></span> <span data-ttu-id="093a1-169">Кроме того, если межпроцессный сеанс использует тот же идентификатор GUID сеанса, что и один или несколько сеансов конкретного процесса, система рассматривает межпроцессный сеанс как отдельный от сеансов конкретного процесса, даже если они совместно используют один и тот же идентификатор GUID сеанса.</span><span class="sxs-lookup"><span data-stu-id="093a1-169">In addition, if a cross-process session uses the same session GUID as one or more process-specific sessions, the system treats the cross-process session as distinct from the process-specific sessions, even though they share the same session GUID.</span></span>

<span data-ttu-id="093a1-170">Например, в Windows Vista API-интерфейсы более высокого уровня, такие как функции **вавеауткскскс** мультимедиа Windows и DirectSound, обычно назначают потоковые потоки, которые они создают, по умолчанию, сеансы конкретного процесса, определяемые значением GUID идентификатора GUID сеанса \_ null.</span><span class="sxs-lookup"><span data-stu-id="093a1-170">For example, in Windows Vista, higher-level APIs such as the Windows multimedia **waveOutXxx** functions and DirectSound typically assign the audio streams that they create to default, process-specific sessions that are identified by the session GUID value GUID\_NULL.</span></span> <span data-ttu-id="093a1-171">Для клиентов этих API сеанс по умолчанию для каждого клиентского процесса отделен от сеансов по умолчанию для других клиентских процессов, даже если сеансы имеют идентичные идентификаторы GUID сеанса.</span><span class="sxs-lookup"><span data-stu-id="093a1-171">For clients of these APIs, the default session for each client process is separate from the default sessions for other client processes, even though the sessions have identical session GUIDs.</span></span> <span data-ttu-id="093a1-172">Кроме того, если одно или несколько приложений назначают потоки в межпроцессный сеанс, определенный ИДЕНТИФИКАТОРом GUID GUID сеанса \_ null, система рассматривает этот межпроцессный сеанс как отдельный от сеансов по умолчанию, зависящих от процесса, использующих один и тот же идентификатор GUID сеанса.</span><span class="sxs-lookup"><span data-stu-id="093a1-172">In addition, if one or more applications assign streams to the cross-process session that is identified by the session GUID value GUID\_NULL, then the system treats this cross-process session as separate from the default, process-specific sessions that share the same session GUID.</span></span> <span data-ttu-id="093a1-173">Соответственно, программа Сндвол отображает отдельный регулятор громкости для каждого сеанса, используемого по умолчанию для каждого клиента, и отображает дополнительный регулятор громкости для межпроцессного сеанса, который определяется ИДЕНТИФИКАТОРом GUID сеанса \_ null, если этот сеанс существует.</span><span class="sxs-lookup"><span data-stu-id="093a1-173">Accordingly, the Sndvol program displays a separate volume control for each client's default, process-specific session, and it displays an additional volume control for the cross-process session that is identified by the session GUID value GUID\_NULL, if that session exists.</span></span>

<span data-ttu-id="093a1-174">Каждый сеанс связан только с одним устройством звуковой конечной точки.</span><span class="sxs-lookup"><span data-stu-id="093a1-174">Each session is associated with only one audio endpoint device.</span></span> <span data-ttu-id="093a1-175">Если два сеанса имеют идентичные идентификаторы GUID сеанса и идентификаторы процессов, но связаны с разными устройствами, система рассматривает два сеанса как отдельные.</span><span class="sxs-lookup"><span data-stu-id="093a1-175">If two sessions have identical session GUIDs and process IDs but are associated with different devices, then the system treats the two sessions as separate.</span></span> <span data-ttu-id="093a1-176">Сеанс не может содержать потоки захвата и отрисовки, так как поток отслеживания может быть связан только с устройством записи, а поток отрисовки может быть связан только с устройством отрисовки.</span><span class="sxs-lookup"><span data-stu-id="093a1-176">A session can never contain both capture and rendering streams because a capture stream can be associated only with a capture device and a rendering stream can be associated only with a rendering device.</span></span>

<span data-ttu-id="093a1-177">Как упоминалось ранее, объем и параметры звука для сеанса сохраняются во время перезагрузки системы.</span><span class="sxs-lookup"><span data-stu-id="093a1-177">As mentioned previously, the volume and mute settings for a session are persistent across system restarts.</span></span> <span data-ttu-id="093a1-178">Два или более экземпляра приложения могут создавать сеансы, связанные с конкретными процессами, с идентичными идентификаторами GUID сеанса.</span><span class="sxs-lookup"><span data-stu-id="093a1-178">Two or more instances of an application can create process-specific sessions with identical session GUIDs.</span></span> <span data-ttu-id="093a1-179">С помощью программы Сндвол пользователь может выбрать другой том и отключить параметры для каждого из этих сеансов.</span><span class="sxs-lookup"><span data-stu-id="093a1-179">Through the Sndvol program, the user can select different volume and mute settings for each of these sessions.</span></span> <span data-ttu-id="093a1-180">После завершения этих сеансов система оставляет параметры управления только одного из этих сеансов — последний сеанс для завершения.</span><span class="sxs-lookup"><span data-stu-id="093a1-180">After these sessions terminate, the system retains the control settings of only one of these sessions—the last session to terminate.</span></span> <span data-ttu-id="093a1-181">Позже, если новый экземпляр приложения создает сеанс определенного процесса с тем же идентификатором GUID сеанса, что и раньше, этот сеанс наследует сохраненный ранее том и отключать параметры.</span><span class="sxs-lookup"><span data-stu-id="093a1-181">Later, if a new instance of the application creates a process-specific session with the same session GUID as before, that session inherits the previously saved volume and mute settings.</span></span>

<span data-ttu-id="093a1-182">Приложение не должно пытаться добавить поток или управлять уровнем громкости сеанса, который принадлежит другому, несвязанному приложению.</span><span class="sxs-lookup"><span data-stu-id="093a1-182">An application should not attempt to add a stream to or control the volume level of a session that is owned by another, unrelated application.</span></span> <span data-ttu-id="093a1-183">Кроме того, приложение не должно пытаться контролировать уровень громкости сеанса, управляемого системой, для звуковых уведомлений.</span><span class="sxs-lookup"><span data-stu-id="093a1-183">In addition, an application should not attempt to control the volume level of the system-managed session for notification sounds.</span></span> <span data-ttu-id="093a1-184">Однако приложение может воспроизвести звук через сеанс системы для звуков уведомлений, вызвав функцию **PlaySound** .</span><span class="sxs-lookup"><span data-stu-id="093a1-184">However, an application can play a sound through the system session for notification sounds by calling the **PlaySound** function.</span></span> <span data-ttu-id="093a1-185">Дополнительные сведения см. в разделе [звуковые оповещения для устаревших аудио приложений](notification-sounds-for-legacy-audio-applications.md).</span><span class="sxs-lookup"><span data-stu-id="093a1-185">For more information, see [Notification Sounds for Legacy Audio Applications](notification-sounds-for-legacy-audio-applications.md).</span></span>

<span data-ttu-id="093a1-186">Приложение может зарегистрироваться для получения уведомлений при изменении состояния сеанса.</span><span class="sxs-lookup"><span data-stu-id="093a1-186">An application can register to receive notifications when the state of a session changes.</span></span> <span data-ttu-id="093a1-187">Дополнительные сведения см. в разделе [события сеанса звука](audio-session-events.md).</span><span class="sxs-lookup"><span data-stu-id="093a1-187">For more information, see [Audio Session Events](audio-session-events.md).</span></span>

<span data-ttu-id="093a1-188">В редких случаях приложение, которое создает сеанс конкретного процесса, может потребовать консолидации управления сеансами конкретного процесса для двух или более экземпляров приложения в одном элементе управления "том" в Сндвол.</span><span class="sxs-lookup"><span data-stu-id="093a1-188">In rare cases, an application that creates a process-specific session might need to consolidate the control of the process-specific sessions for two or more application instances under a single volume control in Sndvol.</span></span> <span data-ttu-id="093a1-189">Дополнительные сведения см. в разделе [Группирование параметров](grouping-parameters.md).</span><span class="sxs-lookup"><span data-stu-id="093a1-189">For more information, see [Grouping Parameters](grouping-parameters.md).</span></span>

## <a name="related-topics"></a><span data-ttu-id="093a1-190">См. также</span><span class="sxs-lookup"><span data-stu-id="093a1-190">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="093a1-191">Руководство по программированию</span><span class="sxs-lookup"><span data-stu-id="093a1-191">Programming Guide</span></span>](programming-guide.md)
</dt> </dl>

 

 



