---
description: Audio-Tapered элементы управления громкостью
ms.assetid: 3b1adef5-40e9-4527-aa79-5a71f201fdfc
title: Audio-Tapered элементы управления громкостью
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 0cca0879d27d0eba3d49ca22b019442f882bf917
ms.sourcegitcommit: c7add10d695482e1ceb72d62b8a4ebd84ea050f7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "103807480"
---
# <a name="audio-tapered-volume-controls"></a><span data-ttu-id="edd26-103">Audio-Tapered элементы управления громкостью</span><span class="sxs-lookup"><span data-stu-id="edd26-103">Audio-Tapered Volume Controls</span></span>

<span data-ttu-id="edd26-104">Интерфейс [**иаудиоендпоинтволуме**](/windows/desktop/api/Endpointvolume/nn-endpointvolume-iaudioendpointvolume) управляет элементами управления громкостью, которые имеют появления звука.</span><span class="sxs-lookup"><span data-stu-id="edd26-104">The [**IAudioEndpointVolume**](/windows/desktop/api/Endpointvolume/nn-endpointvolume-iaudioendpointvolume) interface manages volume controls that are audio tapered.</span></span> <span data-ttu-id="edd26-105">Эти элементы управления хорошо подходят для приложений Windows, отображающих регуляторы громкости.</span><span class="sxs-lookup"><span data-stu-id="edd26-105">These controls are well suited to Windows applications that display volume sliders.</span></span> <span data-ttu-id="edd26-106">Для ползунка громкости, привязанного к регулятору громкости звука, каждое изменение в положении ползунка приводит к изменению воспринимаемого громкости, пропорционально расстоянию ползунка.</span><span class="sxs-lookup"><span data-stu-id="edd26-106">For a volume slider that is tied to an audio-tapered volume control, each change in the position of the slider produces a change in perceived loudness that is proportional to the distance traveled by the slider.</span></span> <span data-ttu-id="edd26-107">Для конкретного расстояния между командировками величина, на которую воспринимается или уменьшается воспринимаемая громкость, приблизительно одинакова независимо от того, происходит ли перемещение ползунка в нижней, верхней или средней части диапазона движения ползунка.</span><span class="sxs-lookup"><span data-stu-id="edd26-107">For a particular travel distance, the amount by which the perceived loudness increases or decreases is approximately the same regardless of whether the slider movement occurs in the lower, upper, or middle portion of the slider's range of movement.</span></span> <span data-ttu-id="edd26-108">Воспринимаемое громкость зависит примерно линейно с логарифмом подачи звуковых сигналов.</span><span class="sxs-lookup"><span data-stu-id="edd26-108">Perceived loudness varies approximately linearly with the logarithm of the audio signal power.</span></span>

<span data-ttu-id="edd26-109">Термин «пропорции *звука* » первоначально назывался поконусным элементом потентиометер, который используется в качестве регулятора громкости устройства.</span><span class="sxs-lookup"><span data-stu-id="edd26-109">The term *audio taper* originally referred to the tapered shape of the resistive element in a potentiometer that is used as a volume control in an audio electronics device.</span></span> <span data-ttu-id="edd26-110">Элемент, проходящий с помощью звука, имеет наибольшее значение на позиции нулевого тома и является самым узким по отношению к позиции максимального объема.</span><span class="sxs-lookup"><span data-stu-id="edd26-110">An audio-tapered resistive element is widest at the zero-volume position and narrowest at the maximum-volume position.</span></span> <span data-ttu-id="edd26-111">Потентиометер управляет уровнем напряжения звукового сигнала, который устройство воспроизводит через его динамики.</span><span class="sxs-lookup"><span data-stu-id="edd26-111">The potentiometer controls the voltage level of the audio signal that the device plays through its speakers.</span></span> <span data-ttu-id="edd26-112">Конус предназначен для создания приблизительной линейной связи между положением потентиометер ветрового стекла и воспринимаемым громкостью на динамиках.</span><span class="sxs-lookup"><span data-stu-id="edd26-112">The tapering is designed to produce an approximately linear relationship between the position of the potentiometer wiper and the perceived loudness at the speakers.</span></span> <span data-ttu-id="edd26-113">Связь между положением ветрового стекла и напряжением на динамиках является нелинейной.</span><span class="sxs-lookup"><span data-stu-id="edd26-113">The relationship between the wiper position and the voltage at the speakers is nonlinear.</span></span>

<span data-ttu-id="edd26-114">Напротив, элемент с линейным конусом имеет одинаковую ширину по сравнению с диапазоном потентиометер ветрового стекла.</span><span class="sxs-lookup"><span data-stu-id="edd26-114">In contrast, a resistive element with a linear taper has a uniform width over the potentiometer wiper's range of movement.</span></span> <span data-ttu-id="edd26-115">В результате напряжение на динамиках различается линейно с положением ветрового стекла.</span><span class="sxs-lookup"><span data-stu-id="edd26-115">As a result, the voltage at the speakers varies linearly with the wiper position.</span></span> <span data-ttu-id="edd26-116">Отношение между положением ветрового стекла и громкостью является нелинейным.</span><span class="sxs-lookup"><span data-stu-id="edd26-116">The relationship between the wiper position and loudness is nonlinear.</span></span>

<span data-ttu-id="edd26-117">Аналогичным образом приложение Windows, отображающее ползунок громкости, определяет связь между положением ползунка и выходным уровнем сигнала на динамиках.</span><span class="sxs-lookup"><span data-stu-id="edd26-117">Similarly, a Windows application that displays a volume slider defines a relationship between the slider position and the output signal level at the speakers.</span></span> <span data-ttu-id="edd26-118">Связь может быть линейной или поконусной.</span><span class="sxs-lookup"><span data-stu-id="edd26-118">The relationship can, in effect, be linear tapered or audio tapered.</span></span>

<span data-ttu-id="edd26-119">На следующей диаграмме показано сопоставление положения ползунка с выходным напряжением и наблюдаемая громкость для регулятора громкости с линейным конусом.</span><span class="sxs-lookup"><span data-stu-id="edd26-119">The following diagram shows the mapping of slider position to output voltage and to perceived loudness for a linear-tapered volume control.</span></span>

![Схема вывода для регулятора громкости с линейным конусом](images/taper1.jpg)

<span data-ttu-id="edd26-121">В левой части предыдущей диаграммы уровень выходного напряжения для аудио-цифрового преобразователя (DAC) увеличивается линейно, так как ползунок громкости переходит от минимального положения (с пометкой min) к максимальному положению (с меткой max).</span><span class="sxs-lookup"><span data-stu-id="edd26-121">On the left side of the preceding diagram, the output voltage level of the audio digital-to-analog converter (DAC) increases linearly as the volume slider moves from its minimum position (labeled Min) to its maximum position (labeled Max).</span></span> <span data-ttu-id="edd26-122">Метка V<sub>FS</sub> на вертикальной оси представляет собой полное масштабируемое выходное напряжение DAC.</span><span class="sxs-lookup"><span data-stu-id="edd26-122">The label V<sub>FS</sub> on the vertical axis represents the full-scale DAC output voltage.</span></span>

<span data-ttu-id="edd26-123">Тем не менее, воспринимаемое громкость зависит от логарифма степени звукового сигнала, как показано на правой стороне предыдущей диаграммы.</span><span class="sxs-lookup"><span data-stu-id="edd26-123">However, perceived loudness varies approximately as the logarithm of the power of the audio signal, as shown on the right side of the preceding diagram.</span></span> <span data-ttu-id="edd26-124">Таким же движением ползунка над интервалом, близким к минимальному значению, приводит к относительно большому изменению воспринимаемого громкости, но перемещение ползунка над интервалом, равным ширине около максимального значения, приводит к относительно незначительному изменению воспринимаемого громкости.</span><span class="sxs-lookup"><span data-stu-id="edd26-124">Thus, movement of the slider over an interval near the minimum setting results in a relatively large change in perceived loudness, but slider movement over an interval of the same width near the maximum setting causes a relatively small change in perceived loudness.</span></span>

<span data-ttu-id="edd26-125">В правой части предыдущей диаграммы громкость на вертикальной оси измеряется в децибел (dB) относительно параметра полной масштабируемости (в 0 децибел).</span><span class="sxs-lookup"><span data-stu-id="edd26-125">On the right side of the preceding diagram, loudness on the vertical axis is measured in decibels (dB) relative to the full-scale power setting (at 0 decibels).</span></span> <span data-ttu-id="edd26-126">Кривая громкости пересекает вертикальную ось с минусом бесконечности, но на схеме появляется только часть кривой от 0 децибел до – 96 децибел.</span><span class="sxs-lookup"><span data-stu-id="edd26-126">The loudness curve intersects the vertical axis at minus infinity, but only the portion of the curve from 0 decibels to –96 decibels appears in the diagram.</span></span> <span data-ttu-id="edd26-127">Решение о том, как показывать только эту часть кривой, является несколько произвольным, но – 96 децибел представляет мощь на уровне вывода "один к нижнему" для 16-разрядного уровня DAC относительно полной степени масштабирования.</span><span class="sxs-lookup"><span data-stu-id="edd26-127">The decision to show only this portion of the curve is somewhat arbitrary, but –96 decibels conveniently represents the power at the next-to-lowest output level of a 16-bit DAC relative to the full-scale power.</span></span> <span data-ttu-id="edd26-128">Это значение вычисляется как 20<sup>.</sup> log ₁ ₀ (1/65535).</span><span class="sxs-lookup"><span data-stu-id="edd26-128">This value is calculated as 20<sup>.</sup>log₁₀(1/65535).</span></span>

<span data-ttu-id="edd26-129">Так как небольшие изменения в положении ползунка рядом с минимальным параметром на предыдущей схеме приводят к большим изменениям громкости, пользователь может оказаться сложным в управлении этим регионом.</span><span class="sxs-lookup"><span data-stu-id="edd26-129">Because small changes in slider position near the minimum setting in the preceding diagram result in large changes in loudness, the user might find the volume difficult to control over this region.</span></span> <span data-ttu-id="edd26-130">Относительно мелкие перемещения ползунка могут помещать том выше или ниже нужного уровня.</span><span class="sxs-lookup"><span data-stu-id="edd26-130">Relatively small slider movements can push the volume well above or below the desired level.</span></span> <span data-ttu-id="edd26-131">Улучшенный регулятор громкости обеспечивает более линейную связь между положением ползунка и громкостью.</span><span class="sxs-lookup"><span data-stu-id="edd26-131">An improved volume control would provide a more linear relationship between slider position and loudness.</span></span>

<span data-ttu-id="edd26-132">На следующей диаграмме показано сопоставление положения ползунка с выходным напряжением и наблюдаемая громкость для регулятора громкости звука.</span><span class="sxs-lookup"><span data-stu-id="edd26-132">The following diagram shows the mapping of slider position to output voltage and to perceived loudness for an audio-tapered volume control.</span></span>

![Схема вывода для регулятора громкости звука](images/taper2.jpg)

<span data-ttu-id="edd26-134">Как показано в правой части предыдущей диаграммы, воспринимаемое громкость зависит примерно линейно, с изменениями в положении ползунка.</span><span class="sxs-lookup"><span data-stu-id="edd26-134">As shown on the right side of the preceding diagram, perceived loudness varies approximately linearly with changes in slider position.</span></span> <span data-ttu-id="edd26-135">Чтобы это произошло, напряжение DAC должно быть нелинейным по отношению к положению, как показано в левой части схемы.</span><span class="sxs-lookup"><span data-stu-id="edd26-135">For this to occur, the DAC voltage must vary nonlinearly with position, as shown on the left side of the diagram.</span></span> <span data-ttu-id="edd26-136">Кривая асимптотикалли приближается к 0 вольтам, когда ползунок перемещается влево от максимального значения.</span><span class="sxs-lookup"><span data-stu-id="edd26-136">The curve asymptotically approaches 0 volts as the slider moves toward the left from the maximum setting.</span></span> <span data-ttu-id="edd26-137">Напряжение в минимальном положении ползунка очень мало, но может не равняться нулю.</span><span class="sxs-lookup"><span data-stu-id="edd26-137">The voltage at the minimum slider position is very small, but it might not be exactly zero.</span></span>

<span data-ttu-id="edd26-138">Следующие методы в интерфейсе **иаудиоендпоинтволуме** используют параметры тома, измеряемые в децибел:</span><span class="sxs-lookup"><span data-stu-id="edd26-138">The following methods in the **IAudioEndpointVolume** interface use volume settings that are measured in decibels:</span></span>

-   [<span data-ttu-id="edd26-139">**Иаудиоендпоинтволуме:: Жетчаннелволумелевел**</span><span class="sxs-lookup"><span data-stu-id="edd26-139">**IAudioEndpointVolume::GetChannelVolumeLevel**</span></span>](/windows/desktop/api/Endpointvolume/nf-endpointvolume-iaudioendpointvolume-getchannelvolumelevel)
-   [<span data-ttu-id="edd26-140">**Иаудиоендпоинтволуме:: Жетмастерволумелевел**</span><span class="sxs-lookup"><span data-stu-id="edd26-140">**IAudioEndpointVolume::GetMasterVolumeLevel**</span></span>](/windows/desktop/api/Endpointvolume/nf-endpointvolume-iaudioendpointvolume-getmastervolumelevel)
-   [<span data-ttu-id="edd26-141">**Иаудиоендпоинтволуме:: Сетчаннелволумелевел**</span><span class="sxs-lookup"><span data-stu-id="edd26-141">**IAudioEndpointVolume::SetChannelVolumeLevel**</span></span>](/windows/desktop/api/Endpointvolume/nf-endpointvolume-iaudioendpointvolume-setchannelvolumelevel)
-   [<span data-ttu-id="edd26-142">**Иаудиоендпоинтволуме:: Сетмастерволумелевел**</span><span class="sxs-lookup"><span data-stu-id="edd26-142">**IAudioEndpointVolume::SetMasterVolumeLevel**</span></span>](/windows/desktop/api/Endpointvolume/nf-endpointvolume-iaudioendpointvolume-setmastervolumelevel)

<span data-ttu-id="edd26-143">Эти методы создают приблизительно линейную связь между параметром тома и наблюдаемой громкостью.</span><span class="sxs-lookup"><span data-stu-id="edd26-143">These methods produce an approximately linear relationship between volume setting and perceived loudness.</span></span> <span data-ttu-id="edd26-144">Диапазон томов в децибел элементов управления громкостью, управляемых этими методами, зависит от устройства конечной точки аудио.</span><span class="sxs-lookup"><span data-stu-id="edd26-144">The volume range in decibels of the volume controls that are managed by these methods depends on the audio endpoint device.</span></span> <span data-ttu-id="edd26-145">Чтобы определить диапазон томов для конкретного устройства, вызовите метод [**иаудиоендпоинтволуме:: жетволумеранже**](/windows/desktop/api/Endpointvolume/nf-endpointvolume-iaudioendpointvolume-getvolumerange) .</span><span class="sxs-lookup"><span data-stu-id="edd26-145">To determine the volume range for a particular device, call the [**IAudioEndpointVolume::GetVolumeRange**](/windows/desktop/api/Endpointvolume/nf-endpointvolume-iaudioendpointvolume-getvolumerange) method.</span></span>

<span data-ttu-id="edd26-146">В отличие от этого, параметры тома для следующих методов в интерфейсе **иаудиоендпоинтволуме** соответствуют более аккуратному конусу по диапазону томов:</span><span class="sxs-lookup"><span data-stu-id="edd26-146">In contrast, the volume settings for the following methods in the **IAudioEndpointVolume** interface follow a more gently tapered curve over the volume range:</span></span>

-   [<span data-ttu-id="edd26-147">**Иаудиоендпоинтволуме:: Жетчаннелволумелевелскалар**</span><span class="sxs-lookup"><span data-stu-id="edd26-147">**IAudioEndpointVolume::GetChannelVolumeLevelScalar**</span></span>](/windows/desktop/api/Endpointvolume/nf-endpointvolume-iaudioendpointvolume-getchannelvolumelevelscalar)
-   [<span data-ttu-id="edd26-148">**Иаудиоендпоинтволуме:: Жетмастерволумелевелскалар**</span><span class="sxs-lookup"><span data-stu-id="edd26-148">**IAudioEndpointVolume::GetMasterVolumeLevelScalar**</span></span>](/windows/desktop/api/Endpointvolume/nf-endpointvolume-iaudioendpointvolume-getmastervolumelevelscalar)
-   [<span data-ttu-id="edd26-149">**Иаудиоендпоинтволуме:: Сетчаннелволумелевелскалар**</span><span class="sxs-lookup"><span data-stu-id="edd26-149">**IAudioEndpointVolume::SetChannelVolumeLevelScalar**</span></span>](/windows/desktop/api/Endpointvolume/nf-endpointvolume-iaudioendpointvolume-setchannelvolumelevelscalar)
-   [<span data-ttu-id="edd26-150">**Иаудиоендпоинтволуме:: Сетмастерволумелевелскалар**</span><span class="sxs-lookup"><span data-stu-id="edd26-150">**IAudioEndpointVolume::SetMasterVolumeLevelScalar**</span></span>](/windows/desktop/api/Endpointvolume/nf-endpointvolume-iaudioendpointvolume-setmastervolumelevelscalar)
-   [<span data-ttu-id="edd26-151">**Иаудиоендпоинтволуме:: Волуместепдовн**</span><span class="sxs-lookup"><span data-stu-id="edd26-151">**IAudioEndpointVolume::VolumeStepDown**</span></span>](/windows/desktop/api/Endpointvolume/nf-endpointvolume-iaudioendpointvolume-volumestepdown)
-   [<span data-ttu-id="edd26-152">**Иаудиоендпоинтволуме:: Волуместепуп**</span><span class="sxs-lookup"><span data-stu-id="edd26-152">**IAudioEndpointVolume::VolumeStepUp**</span></span>](/windows/desktop/api/Endpointvolume/nf-endpointvolume-iaudioendpointvolume-volumestepup)

<span data-ttu-id="edd26-153">В Windows Vista эти методы используют кривую, которая является промежуточной по отношению к кривой с использованием звука, показанной на предыдущей схеме, и кривой с линейным конусом.</span><span class="sxs-lookup"><span data-stu-id="edd26-153">In Windows Vista, these methods use a curve that is intermediate between the audio-tapered curve shown in the preceding diagram and a linear-tapered curve.</span></span> <span data-ttu-id="edd26-154">Обратите внимание, что форма кривой может измениться в будущих версиях Windows.</span><span class="sxs-lookup"><span data-stu-id="edd26-154">Note that the shape of the curve might change in future versions of Windows.</span></span> <span data-ttu-id="edd26-155">Первые четыре метода в приведенном выше списке поражают уровни громкости как нормализованные значения в диапазоне от 0,0 (минимальный том) до 1,0 (максимальный том).</span><span class="sxs-lookup"><span data-stu-id="edd26-155">The first four methods in the preceding list express volume levels as normalized values in the range from 0.0 (minimum volume) to 1.0 (maximum volume).</span></span> <span data-ttu-id="edd26-156">Для двух последних методов в списке вызовите метод [**иаудиоендпоинтволуме:: жетволуместепинфо**](/windows/desktop/api/Endpointvolume/nf-endpointvolume-iaudioendpointvolume-getvolumestepinfo) , чтобы получить количество шагов в диапазоне томов.</span><span class="sxs-lookup"><span data-stu-id="edd26-156">For the last two methods in the list, call the [**IAudioEndpointVolume::GetVolumeStepInfo**](/windows/desktop/api/Endpointvolume/nf-endpointvolume-iaudioendpointvolume-getvolumestepinfo) method to obtain the number of steps in the volume range.</span></span>

<span data-ttu-id="edd26-157">Следующие интерфейсы используют кривые с линейным конусом для настройки громкости:</span><span class="sxs-lookup"><span data-stu-id="edd26-157">The following interfaces use linear-tapered curves for their volume settings:</span></span>

-   [<span data-ttu-id="edd26-158">**исимплеаудиоволуме**</span><span class="sxs-lookup"><span data-stu-id="edd26-158">**ISimpleAudioVolume**</span></span>](/windows/desktop/api/Audioclient/nn-audioclient-isimpleaudiovolume)
-   [<span data-ttu-id="edd26-159">**ичаннелаудиоволуме**</span><span class="sxs-lookup"><span data-stu-id="edd26-159">**IChannelAudioVolume**</span></span>](/windows/desktop/api/Audioclient/nn-audioclient-ichannelaudiovolume)
-   [<span data-ttu-id="edd26-160">**иаудиостреамволуме**</span><span class="sxs-lookup"><span data-stu-id="edd26-160">**IAudioStreamVolume**</span></span>](/windows/desktop/api/Audioclient/nn-audioclient-iaudiostreamvolume)

<span data-ttu-id="edd26-161">Дополнительные сведения об этих интерфейсах см. в разделе [элементы управления громкостью](session-volume-controls.md).</span><span class="sxs-lookup"><span data-stu-id="edd26-161">For more information about these interfaces, see [Session Volume Controls](session-volume-controls.md).</span></span> <span data-ttu-id="edd26-162">Дополнительные сведения о диапазонах томов и уровнях громкости по умолчанию в различных версиях Windows см. в разделе [параметры громкости по умолчанию](/windows-hardware/drivers/audio/default-audio-volume-settings).</span><span class="sxs-lookup"><span data-stu-id="edd26-162">And for information about the volume ranges and the default volume levels in the various versions of Windows, see [Default Audio Volume Settings](/windows-hardware/drivers/audio/default-audio-volume-settings).</span></span>

## <a name="related-topics"></a><span data-ttu-id="edd26-163">См. также</span><span class="sxs-lookup"><span data-stu-id="edd26-163">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="edd26-164">Регуляторы громкости</span><span class="sxs-lookup"><span data-stu-id="edd26-164">Volume Controls</span></span>](volume-controls.md)
</dt> </dl>

 

 
