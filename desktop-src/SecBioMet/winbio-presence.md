---
title: Структура WINBIO_PRESENCE (Винбио \_ types. h)
description: Содержит сведения о присутствии пользователя, чье присутствие отслеживается.
ms.assetid: 810D452E-DDFA-4AB2-AEFB-0C170C0C18D4
keywords:
- API структуры WINBIO_PRESENCE биометрическая платформа Windows
- PWINBIO_PRESENCE API биометрическая платформа Windows указателя структуры
topic_type:
- apiref
api_name:
- WINBIO_PRESENCE
api_location:
- winbio_types.h
api_type:
- HeaderDef
ms.topic: reference
ms.date: 05/31/2018
ms.openlocfilehash: 8a4a917f09f419ce8dd5eb59c9c277293261bffa
ms.sourcegitcommit: a1494c819bc5200050696e66057f1020f5b142cb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/12/2020
ms.locfileid: "104136010"
---
# <a name="winbio_presence-structure"></a>\_Структура присутствия винбио

Содержит сведения о присутствии пользователя, чье присутствие отслеживается.

## <a name="syntax"></a>Синтаксис


```C++
typedef struct _WINBIO_PRESENCE {
  WINBIO_BIOMETRIC_TYPE      Factor;
  WINBIO_BIOMETRIC_SUBTYPE   SubFactor;
  HRESULT                    Status;
  WINBIO_REJECT_DETAIL       RejectDetail;
  WINBIO_IDENTITY            Identity;
  ULONGLONG                  TrackingId;
  WINBIO_PROTECTION_TICKET   Ticket;
  WINBIO_PRESENCE_PROPERTIES Properties;
} WINBIO_PRESENCE, *PWINBIO_PRESENCE;
```



## <a name="members"></a>Члены

<dl> <dt>

**Фактор**
</dt> <dd>

Биометрический фактор, используемый для отслеживания присутствия отдельного пользователя.

</dd> <dt>

**Подфакт**
</dt> <dd>

Квалификатор биометрического показателя для биометрического коэффициента, используемый для отслеживания присутствия отдельного пользователя.

</dd> <dt>

**Состояние**
</dt> <dd>

Состояние процедуры идентификации для отдельного пользователя.

</dd> <dt>

**режектдетаил**
</dt> <dd>

Дополнительные сведения об ошибке распознавания пользователя, включая отзыв о том, как исправить ошибку.

</dd> <dt>

**Удостоверение**
</dt> <dd>

Удостоверение пользователя, чье присутствие отслеживается после определения этого лица.

</dd> <dt>

**TrackingId**
</dt> <dd>

Целое число, создаваемое адаптером и уникально идентифицирующее отдельного объекта. Идентификатор отслеживания, назначаемый адаптеру конкретному пользователю, гарантированно будет постоянным, если он остается в кадре камеры.

</dd> <dt>

**Ticket**
</dt> <dd>

Зарезервировано. Задайте значение 0 для адаптера.

</dd> <dt>

**Свойства**
</dt> <dd>

Зависящие от коэффициента сведения о положении отдельного лица.

</dd> </dl>

## <a name="remarks"></a>Комментарии

Функция [**енгинеадаптеридентифялл**](/windows/desktop/api/Winbio_adapter/nc-winbio_adapter-pibio_engine_identify_all_fn) создает массив структур **\_ присутствия винбио** и отправляет этот массив в биометрическую службу. Биометрическая служба использует массив для обновления своей внутренней модели людей, близких к компьютеру.

В зависимости от результатов этого обновления биометрическая служба может создать структуру [**\_ асинхронного \_ результата Винбио**](/windows/desktop/api/Winbio/ns-winbio-winbio_async_result) для функции [**винбиомониторпресенце**](/windows/desktop/api/winbio/nf-winbio-winbiomonitorpresence) для всех клиентов с активными мониторами присутствия. **\_ Асинхронный \_ результат винбио. Член операции** структуры содержит **винбио \_ Operations \_ Monitor \_**, а также **\_ Асинхронный результат винбио \_ . Элемент Parameters. Мониторпресенце. ChangeType** предоставляет дополнительные сведения о состоянии отдельного пользователя.

Когда один пользователь, который адаптер подсистемы связывает с определенным идентификатором отслеживания, появляется во входном потоке в первый раз, биометрическая служба создает [**винбио \_ асинхронный \_ результат**](/windows/desktop/api/Winbio/ns-winbio-winbio_async_result) на стороне клиента, **где \_ асинхронный \_ результат винбио. Член Parameters. Мониторпресенце. ChangeType** — **винбио \_ изменение \_ типа \_ изменения**. Эта структура отправляется в функцию обратного вызова приложения или в очередь сообщений приложения перед любыми другими **винбио \_ асинхронными \_** структурами результатов, где **\_ асинхронный \_ результат винбио. Parameters. Мониторпресенце. Пресенцеаррай** включает структуру **\_ присутствия винбио** с тем же значением для **присутствия винбио \_ . TrackingId**.

Следующие сочетания значений в массиве структур **\_ присутствия винбио** , которые имеют **\_ Асинхронный результат винбио \_ . Элемент Parameters. Мониторпресенце. Пресенцеаррай** указывает конкретные виды изменений в состоянии отдельного пользователя.

-   Если пользователь виден в кадре камеры, но ядро по-прежнему пытается опознать отдельного пользователя, то элементы структуры **\_ присутствия винбио** имеют значения, приведенные в следующей таблице.

    

    | Член            | Значение                                                    |
    |-------------------|----------------------------------------------------------|
    | **TrackingId**    | Целое число, определяющее отдельного обработчика. |
    | **Состояние**        | **\_ОК**                                                |
    | **Identity. Type** | **\_тип идентификатора \_ винбио \_ null**                               |

    

     

    В этом случае биометрическая служба расширяет время окончания срока действия для отдельного пользователя и не формирует структуру [**\_ асинхронных \_ результатов винбио**](/windows/desktop/api/Winbio/ns-winbio-winbio_async_result) на стороне клиента для идентификатора отслеживания, где **\_ асинхронный \_ результат винбио. Элемент Parameters. Мониторпресенце. ChangeType** имеет **винбио \_ \_ тип изменения \_**.

    В первый раз, когда [**Структура \_ асинхронного \_ результата винбио**](/windows/desktop/api/Winbio/ns-winbio-winbio_async_result) включает структуру **\_ присутствия винбио** , где элемент **Status** имеет значение **S \_ OK** , а член **Identity. Type** — **винбио \_ ID \_ Type \_ null** после того, как одна или несколько **винбио \_ асинхронных \_ результирующих вычислений** включали в себя структуру **\_ присутствия винбио** с **состоянием** **винбио \_ \_ неверная \_ запись**, монитор присутствия создает единую структуру **винбио \_ Async \_ result** для идентификатора отслеживания, где **\_ асинхронный \_ результат винбио Элемент Parameters. Мониторпресенце. ChangeType** — **винбио \_ изменить \_ тип \_**. Эта **винбио \_ асинхронная структура \_ результатов** , **где \_ асинхронный \_ результат винбио. Элемент Parameters. Мониторпресенце. ChangeType** — **винбио \_ Change \_ Type \_ Track** информирует клиента о том, что проблема, вызванная ошибкой **\_ \_ неправильного \_ захвата винбио E** , устранена. Дополнительные сведения об обстоятельствах, когда структура **\_ присутствия Винбио** имеет **состояние** элемент **винбио \_ E \_ Bad \_ Capture**, см. в описании о том, как адаптер подсистемы предоставляет пользователю отзыв об устранении ошибок распознавания позже в этих комментариях.

-   Если пользователь виден в рамке камеры, но механизм по-прежнему пытается опознать пользователя и хочет предоставить пользователю отзыв о том, как исправить ошибку распознавания, элементы структуры **\_ присутствия винбио** имеют значения, приведенные в следующей таблице.

    

    | Член                                                                                                      | Значение                                                                         |
    |-------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------|
    | **TrackingId**                                                                                              | Целое число, определяющее отдельного обработчика.                      |
    | **Состояние**                                                                                                  | **ВИНБИО \_ \_ неправильная \_ запись**                                                   |
    | **Identity. Type**                                                                                           | **\_тип идентификатора \_ винбио \_ null**                                                    |
    | **Properties. фаЦиалфеатурес. BoundingBox**, если значение параметра **factor** равно **винбио \_ функции типа \_ лица \_** | Положение лица в рамке камеры.           |
    | **Properties. IRI. BoundingBox**, если **Коэффициент** имеет значение **винбио \_ типа \_ IRI**                       | Местоположение диафрагмы или IRI отдельного лица в пределах рамки камеры. |

    

     

    В этом случае биометрическая служба расширяет время окончания срока действия для отдельного пользователя и формирует структуру [**\_ асинхронного \_ результата винбио**](/windows/desktop/api/Winbio/ns-winbio-winbio_async_result) для идентификатора отслеживания, где **\_ асинхронный \_ результат винбио. Элемент Parameters. Мониторпресенце. ChangeType** — **винбио \_ изменить \_ тип \_**.

-   Если пользователь отображается в кадре камеры, а адаптер подсистемы определяет идентификатор отдельного пользователя, элементы структуры **\_ присутствия винбио** имеют значения, приведенные в следующей таблице.

    

    | Член                        | Значение                                                    |
    |-------------------------------|----------------------------------------------------------|
    | **TrackingId**                | Целое число, определяющее отдельного обработчика. |
    | **Состояние**                    | **\_ОК**                                                |
    | **Identity. Type**             | **ИД \_ \_ безопасности типа \_ идентификатора винбио**                                |
    | **Identity. Value. AccountSid** | Идентификатор безопасности (SID) отдельного пользователя.         |

    

     

    В этом случае биометрическая служба связывает идентификатор отслеживания с идентификатором безопасности для отдельного пользователя и формирует структуру [**\_ асинхронного \_ результата винбио**](/windows/desktop/api/Winbio/ns-winbio-winbio_async_result) на стороне клиента для идентификатора отслеживания, где **\_ Асинхронный результат винбио \_ . Элемент Parameters. Мониторпресенце. ChangeType** имеет **винбио \_ \_ тип изменения \_**. Биометрическая служба не создает дополнительные структуры **\_ асинхронных \_ результатов винбио** на стороне клиента для идентификатора отслеживания, если только он не оставляет рамку камеры.

-   Если пользователь виден в кадре камеры, но адаптер подсистемы определяет, что отдельный пользователь не зарегистрирован, то элементы структуры **\_ присутствия винбио** имеют значения, приведенные в следующей таблице.

    

    | Член            | Значение                                                    |
    |-------------------|----------------------------------------------------------|
    | **TrackingId**    | Целое число, определяющее отдельного обработчика. |
    | **Состояние**        | **\_неизвестный \_ \_ идентификатор винбио E**                               |
    | **Identity. Type** | **\_тип идентификатора \_ винбио \_ null**                               |

    

     

    В этом случае биометрическая служба связывает идентификатор отслеживания отдельного пользователя с идентификатором UNKNOWN и формирует структуру [**\_ асинхронного \_ результата винбио**](/windows/desktop/api/Winbio/ns-winbio-winbio_async_result) на стороне клиента для идентификатора отслеживания, где **\_ асинхронный \_ результат винбио. Элемент Parameters. Мониторпресенце. ChangeType** имеет **винбио \_ \_ тип изменения \_**. Биометрическая служба не создает дополнительные структуры **\_ асинхронных \_ результатов винбио** на стороне клиента для идентификатора отслеживания, если только он не оставляет рамку камеры.

Когда пользователь, который адаптер подсистемы связывает с определенным идентификатором отслеживания, оставляет кадр камеры и останавливается в значениях, возвращаемых функцией [**енгинеадаптеридентифялл**](/windows/desktop/api/Winbio_adapter/nc-winbio_adapter-pibio_engine_identify_all_fn) , идентификатор отслеживания в конечном итоге истекает. По истечении срока действия идентификатора отслеживания биометрическая служба создает [**винбио \_ асинхронный \_ результат**](/windows/desktop/api/Winbio/ns-winbio-winbio_async_result) на стороне клиента, где **\_ асинхронный \_ результат винбио. Член Parameters. Мониторпресенце. ChangeType** — **винбио \_ изменение \_ типа \_ выбывают**. Адаптер подсистемы может предотвратить создание этой структуры в биометрической службе с помощью **значения \_ \_ \_ выбывают винбио Change Type** , включив в массив структуру **\_ присутствия винбио** , которая **енгинеадаптеридентифялл** возвращает, где **\_ присутствует винбио. Элемент Status** имеет **значение \_ S** и **присутствие винбио \_ . Член Identity. Type** имеет **\_ тип ID \_ винбио \_ null** , как описано выше в этих комментариях. Это действие расширяет время окончания срока действия для идентификатора отслеживания, не вызывая никаких действий на стороне клиента.

## <a name="requirements"></a>Требования



| Требование | Значение |
|-------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Минимальная версия клиента<br/> | Только для \[ настольных приложений Windows 10\]<br/>                                                                                                                              |
| Минимальная версия сервера<br/> | \[Только для настольных приложений Windows Server 2016\]<br/>                                                                                                                     |
| Header<br/>                   | <dl> <dt>Винбио \_ types. h (включите винбио. h для клиентских приложений или винбио \_ Adapters. h для адаптеров).</dt> </dl> |



## <a name="see-also"></a>См. также раздел

<dl> <dt>

[**\_асинхронный \_ результат винбио**](/windows/desktop/api/Winbio/ns-winbio-winbio_async_result)
</dt> <dt>

[**винбиомониторпресенце**](/windows/desktop/api/winbio/nf-winbio-winbiomonitorpresence)
</dt> <dt>

[**енгинеадаптеридентифялл**](/windows/desktop/api/Winbio_adapter/nc-winbio_adapter-pibio_engine_identify_all_fn)
</dt> </dl>

 

 





