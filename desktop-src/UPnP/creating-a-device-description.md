---
title: Создание описания устройства
description: Описание устройства на основе UPnP — это XML-документ, описывающий свойства устройства и иерархию вложенных в нем устройств.
ms.assetid: b2a7d342-958c-439d-8b17-b4fdc5fbad12
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: b52df95de15481c7004704b6f67cd9478083ac88
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/16/2019
ms.locfileid: "103986348"
---
# <a name="creating-a-device-description"></a><span data-ttu-id="91c4e-103">Создание описания устройства</span><span class="sxs-lookup"><span data-stu-id="91c4e-103">Creating a Device Description</span></span>

<span data-ttu-id="91c4e-104">[*Описание устройства*](d-gly.md) на основе UPnP — это XML-документ, описывающий свойства устройства и иерархию вложенных в нем устройств.</span><span class="sxs-lookup"><span data-stu-id="91c4e-104">A UPnP-based [*device description*](d-gly.md) is an XML document that describes the properties of a device and the hierarchy of nested devices within it.</span></span> <span data-ttu-id="91c4e-105">Схема для описания устройств на основе UPnP, известная как язык шаблона UPnP (УТЛ) для устройств, определяется в архитектуре UPnP-устройства.</span><span class="sxs-lookup"><span data-stu-id="91c4e-105">The schema for UPnP-based device descriptions, known as the UPnP Template Language (UTL) for devices, is defined in the UPnP device architecture.</span></span> <span data-ttu-id="91c4e-106">Описания устройств содержат ссылки на [*описания служб*](s-gly.md).</span><span class="sxs-lookup"><span data-stu-id="91c4e-106">Device descriptions contain links to [*service descriptions*](s-gly.md).</span></span> <span data-ttu-id="91c4e-107">Схема для описаний служб и УТЛ для служб также определяется в спецификации "Архитектура UPnP устройств".</span><span class="sxs-lookup"><span data-stu-id="91c4e-107">The schema for service descriptions and the UTL for services are also defined in the "UPnP Device Architecture" specification.</span></span>

> [!Note]  
> <span data-ttu-id="91c4e-108">При использовании описания службы из www.upnp.org могут возникнуть проблемы.</span><span class="sxs-lookup"><span data-stu-id="91c4e-108">There might be problems when using the service description from www.upnp.org.</span></span>

 

<span data-ttu-id="91c4e-109">Разработчик устройства должен предоставить описания устройств и служб для устройства.</span><span class="sxs-lookup"><span data-stu-id="91c4e-109">The developer of a device must provide device and service descriptions for the device.</span></span>

<span data-ttu-id="91c4e-110">Элементы описания устройства, которые должны быть предоставлены разработчиком размещенного устройства, совпадают с указанными в спецификации "Архитектура UPnP-устройств", за исключением следующих случаев.</span><span class="sxs-lookup"><span data-stu-id="91c4e-110">The elements of a device description that the developer of a hosted device must provide are the same as those defined in the "UPnP Device Architecture" specification, with the following exceptions:</span></span>

-   <span data-ttu-id="91c4e-111">Элементы **контролурл** и **евентсубурл** являются обязательными и должны быть пустыми.</span><span class="sxs-lookup"><span data-stu-id="91c4e-111">The **controlURL** and **eventSubURL** elements are required and must be empty.</span></span> <span data-ttu-id="91c4e-112">Узел устройства заполняет значения этих полей при публикации и объявлении устройства.</span><span class="sxs-lookup"><span data-stu-id="91c4e-112">The device host fills in values for these fields when the device is published and announced.</span></span>
-   <span data-ttu-id="91c4e-113">Элемент **УДН** должен содержать идентификатор, уникальный для документа описания устройства (т. е. он не должен быть глобально уникальным).</span><span class="sxs-lookup"><span data-stu-id="91c4e-113">The **UDN** element must contain an identifier that is unique to the device description document (that is, it need not be globally unique).</span></span> <span data-ttu-id="91c4e-114">Этот идентификатор используется для поиска УДН, созданного узлом устройства.</span><span class="sxs-lookup"><span data-stu-id="91c4e-114">This identifier is used to look up the UDN generated by the device host.</span></span>
-   <span data-ttu-id="91c4e-115">Элементы **скпдурл** не должны содержать URL-адреса для описания служб.</span><span class="sxs-lookup"><span data-stu-id="91c4e-115">The **SCPDURL** elements must not contain URLs to service descriptions.</span></span> <span data-ttu-id="91c4e-116">Вместо этого они должны содержать имя файла описания службы.</span><span class="sxs-lookup"><span data-stu-id="91c4e-116">Instead, they must contain the name of the service description file.</span></span> <span data-ttu-id="91c4e-117">Файл описания службы должен находиться в [*каталоге ресурсов*](r-gly.md).</span><span class="sxs-lookup"><span data-stu-id="91c4e-117">The service description file must be located in the [*resource directory*](r-gly.md).</span></span> <span data-ttu-id="91c4e-118">Расположение этого каталога должно быть предоставлено узлу устройства во время процесса регистрации, например с помощью программы установки.</span><span class="sxs-lookup"><span data-stu-id="91c4e-118">The location of this directory must be provided to the device host during the registration process, such as using a Setup program.</span></span> <span data-ttu-id="91c4e-119">Этот путь и все приведенные ниже пути являются относительными путями на основе зарегистрированного пути.</span><span class="sxs-lookup"><span data-stu-id="91c4e-119">This path and all below it are relative paths, based on the registered path.</span></span>
-   <span data-ttu-id="91c4e-120">Элемент **URL** в элементе **Icon** не должен содержать URL-адреса значков устройств.</span><span class="sxs-lookup"><span data-stu-id="91c4e-120">The **url** element within the **icon** element must not contain URLs to device icons.</span></span> <span data-ttu-id="91c4e-121">Вместо этого они должны содержать имя файла значка.</span><span class="sxs-lookup"><span data-stu-id="91c4e-121">Instead, they must contain the name of the icon file.</span></span> <span data-ttu-id="91c4e-122">Если он есть, файл значка должен находиться в каталоге ресурсов.</span><span class="sxs-lookup"><span data-stu-id="91c4e-122">If present, the icon file must be located in the resource directory.</span></span> <span data-ttu-id="91c4e-123">Этот путь и все приведенные ниже пути являются относительными путями на основе зарегистрированного пути.</span><span class="sxs-lookup"><span data-stu-id="91c4e-123">This path and all below it are relative paths, based on the registered path.</span></span>
-   <span data-ttu-id="91c4e-124">Элемент **урлбасе** не должен присутствовать.</span><span class="sxs-lookup"><span data-stu-id="91c4e-124">The **URLBase** element must not be present.</span></span>

> [!Note]  
> <span data-ttu-id="91c4e-125">Все URL-адреса, создаваемые узлом устройства, являются относительными.</span><span class="sxs-lookup"><span data-stu-id="91c4e-125">All URLs generated by the device host are relative URLs.</span></span> <span data-ttu-id="91c4e-126">URL-адреса задаются относительно расположения документа описания устройства, которое отправляется в первоначальном объявлении устройства.</span><span class="sxs-lookup"><span data-stu-id="91c4e-126">The URLs are relative to the location of the device description document, which is sent in the initial device announcement.</span></span>

 

> [!IMPORTANT]
> <span data-ttu-id="91c4e-127">Не добавляйте комментарии к документу описания устройства, так как это может привести к сбоям регистрации, когда универсальный узел самонастраивающийсяного устройства пытается проанализировать документ.</span><span class="sxs-lookup"><span data-stu-id="91c4e-127">Do not add comments to your device description document as it may cause registration failures when the Universal Plug and Play Device Host attempts to parse the document.</span></span>

 

## <a name="string-length-limitations"></a><span data-ttu-id="91c4e-128">Ограничения длины строки</span><span class="sxs-lookup"><span data-stu-id="91c4e-128">String Length Limitations</span></span>

<span data-ttu-id="91c4e-129">Следующие длины строк используются в API узла устройства с технологией UPnP:</span><span class="sxs-lookup"><span data-stu-id="91c4e-129">The following string lengths are used in the Device Host API with UPnP technology:</span></span>

-   <span data-ttu-id="91c4e-130">**типа устройства** — 64 байт</span><span class="sxs-lookup"><span data-stu-id="91c4e-130">**deviceType** – 64 bytes</span></span>
-   <span data-ttu-id="91c4e-131">**FriendlyName** — 64 байт</span><span class="sxs-lookup"><span data-stu-id="91c4e-131">**friendlyName** – 64 bytes</span></span>
-   <span data-ttu-id="91c4e-132">**производитель** — 64 байт</span><span class="sxs-lookup"><span data-stu-id="91c4e-132">**manufacturer** – 64 bytes</span></span>
-   <span data-ttu-id="91c4e-133">**моделдескриптион** — 128 байт</span><span class="sxs-lookup"><span data-stu-id="91c4e-133">**modelDescription** – 128 bytes</span></span>
-   <span data-ttu-id="91c4e-134">**modelName** — 32 байт</span><span class="sxs-lookup"><span data-stu-id="91c4e-134">**modelName** – 32 bytes</span></span>
-   <span data-ttu-id="91c4e-135">**моделнумбер** — 32 байт</span><span class="sxs-lookup"><span data-stu-id="91c4e-135">**modelNumber** – 32 bytes</span></span>
-   <span data-ttu-id="91c4e-136">**SerialNumber** — 64 байт</span><span class="sxs-lookup"><span data-stu-id="91c4e-136">**serialNumber** – 64 bytes</span></span>
-   <span data-ttu-id="91c4e-137">**UPC** – 12 байт</span><span class="sxs-lookup"><span data-stu-id="91c4e-137">**UPC** – 12 bytes</span></span>
-   <span data-ttu-id="91c4e-138">**serviceType** — 64 байт</span><span class="sxs-lookup"><span data-stu-id="91c4e-138">**serviceType** – 64 bytes</span></span>
-   <span data-ttu-id="91c4e-139">**serviceId** — 64 байт</span><span class="sxs-lookup"><span data-stu-id="91c4e-139">**serviceId** – 64 bytes</span></span>

 

 




