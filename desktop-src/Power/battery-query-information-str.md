---
description: Содержит сведения о запросе батареи.
ms.assetid: ef5466fe-7de8-48cd-ad48-5774d7a4bb46
title: Структура BATTERY_QUERY_INFORMATION (Покласс. h)
ms.topic: reference
ms.date: 05/31/2018
topic_type:
- APIRef
- kbSyntax
api_name:
- BATTERY_QUERY_INFORMATION
api_type:
- HeaderDef
api_location:
- Poclass.h
- Batclass.h
ms.openlocfilehash: 511980dd4307077b8b160550c661a15a5714b96f
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "103909703"
---
# <a name="battery_query_information-structure"></a><span data-ttu-id="b5385-103">\_ \_ Структура сведений о запросе аккумулятора</span><span class="sxs-lookup"><span data-stu-id="b5385-103">BATTERY\_QUERY\_INFORMATION structure</span></span>

<span data-ttu-id="b5385-104">Содержит сведения о запросе батареи.</span><span class="sxs-lookup"><span data-stu-id="b5385-104">Contains battery query information.</span></span> <span data-ttu-id="b5385-105">Эта структура используется с кодом управления [**\_ \_ \_ сведениями о запросе аккумулятора через батарею**](ioctl-battery-query-information.md) для указания типа возвращаемых данных.</span><span class="sxs-lookup"><span data-stu-id="b5385-105">This structure is used with the [**IOCTL\_BATTERY\_QUERY\_INFORMATION**](ioctl-battery-query-information.md) control code to specify the type of information to return.</span></span>

## <a name="syntax"></a><span data-ttu-id="b5385-106">Синтаксис</span><span class="sxs-lookup"><span data-stu-id="b5385-106">Syntax</span></span>


```C++
typedef struct _BATTERY_QUERY_INFORMATION {
  ULONG                           BatteryTag;
  BATTERY_QUERY_INFORMATION_LEVEL InformationLevel;
  LONG                            AtRate;
} BATTERY_QUERY_INFORMATION, *PBATTERY_QUERY_INFORMATION;
```



## <a name="members"></a><span data-ttu-id="b5385-107">Члены</span><span class="sxs-lookup"><span data-stu-id="b5385-107">Members</span></span>

<dl> <dt>

<span data-ttu-id="b5385-108">**баттеритаг**</span><span class="sxs-lookup"><span data-stu-id="b5385-108">**BatteryTag**</span></span>
</dt> <dd>

<span data-ttu-id="b5385-109">Текущий тег батареи для аккумулятора.</span><span class="sxs-lookup"><span data-stu-id="b5385-109">The current battery tag for the battery.</span></span> <span data-ttu-id="b5385-110">Могут быть возвращены только сведения о батарее, соответствующем тегу.</span><span class="sxs-lookup"><span data-stu-id="b5385-110">Only information for a battery matching the tag can be returned.</span></span> <span data-ttu-id="b5385-111">Если это значение не соответствует текущему тегу батареи, запрос IOCTL будет выполнен с ошибкой \_ файл \_ не \_ найден.</span><span class="sxs-lookup"><span data-stu-id="b5385-111">Whenever this value does not match the battery's current tag, the IOCTL request will be completed with ERROR\_FILE\_NOT\_FOUND.</span></span> <span data-ttu-id="b5385-112">Это указывает вызывающему объекту, что батарея, связанная с тегом, больше не существует.</span><span class="sxs-lookup"><span data-stu-id="b5385-112">This indicates to the caller that the battery associated with the tag longer exists.</span></span> <span data-ttu-id="b5385-113">Вызывающий объект может использовать операцию [**запроса IOCTL \_ аккумулятора \_ \_**](ioctl-battery-query-tag.md) для определения тега вновь установленного аккумулятора, если он существует.</span><span class="sxs-lookup"><span data-stu-id="b5385-113">The caller may opt to use the [**IOCTL\_BATTERY\_QUERY\_TAG**](ioctl-battery-query-tag.md) operation to determine the tag of the newly installed battery, if one exists.</span></span> <span data-ttu-id="b5385-114">(Дополнительные сведения см. в разделе " [теги батареи](battery-information.md) ".)</span><span class="sxs-lookup"><span data-stu-id="b5385-114">(See [Battery Tags](battery-information.md) for more information.)</span></span>

<span data-ttu-id="b5385-115">При запросе сведений о запросе это значение проверяется.</span><span class="sxs-lookup"><span data-stu-id="b5385-115">When a query information request is made, this value is verified.</span></span> <span data-ttu-id="b5385-116">Кроме того, если при изменении значения этого параметра выполняется запрос, запрос прерывается с состоянием " \_ файл \_ не \_ найден".</span><span class="sxs-lookup"><span data-stu-id="b5385-116">In addition, if the request is in progress while this value changes, the request is aborted with the status of ERROR\_FILE\_NOT\_FOUND.</span></span>

</dd> <dt>

<span data-ttu-id="b5385-117">**информатионлевел**</span><span class="sxs-lookup"><span data-stu-id="b5385-117">**InformationLevel**</span></span>
</dt> <dd>

<span data-ttu-id="b5385-118">Уровень запрашиваемой информации о батарее.</span><span class="sxs-lookup"><span data-stu-id="b5385-118">The level of the battery information being queried.</span></span> <span data-ttu-id="b5385-119">Данные, возвращаемые IOCTL, зависят от этого значения.</span><span class="sxs-lookup"><span data-stu-id="b5385-119">The data returned by the IOCTL depends on this value.</span></span> <span data-ttu-id="b5385-120">Этот элемент может принимать одно из следующих значений.</span><span class="sxs-lookup"><span data-stu-id="b5385-120">This member can be one of the following values.</span></span>



| <span data-ttu-id="b5385-121">Значение</span><span class="sxs-lookup"><span data-stu-id="b5385-121">Value</span></span>                                                                                                                                                                                                                                                                                                               | <span data-ttu-id="b5385-122">Значение</span><span class="sxs-lookup"><span data-stu-id="b5385-122">Meaning</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span id="BatteryDeviceName"></span><span id="batterydevicename"></span><span id="BATTERYDEVICENAME"></span><dl> <span data-ttu-id="b5385-123"><dt>**Баттеридевиценаме**</dt> <dt>4</dt></span><span class="sxs-lookup"><span data-stu-id="b5385-123"><dt>**BatteryDeviceName**</dt> <dt>4</dt></span></span> </dl>                                                 | <span data-ttu-id="b5385-124">Строка Юникода, заканчивающаяся нулем, которая содержит имя батареи.</span><span class="sxs-lookup"><span data-stu-id="b5385-124">Null-terminated Unicode string that contains the battery's name.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| <span id="BatteryEstimatedTime"></span><span id="batteryestimatedtime"></span><span id="BATTERYESTIMATEDTIME"></span><dl> <span data-ttu-id="b5385-125"><dt>**Баттерестиматедтиме**</dt> <dt>3</dt></span><span class="sxs-lookup"><span data-stu-id="b5385-125"><dt>**BatteryEstimatedTime**</dt> <dt>3</dt></span></span> </dl>                                     | <span data-ttu-id="b5385-126">**Ulong** , указывающая предполагаемое время выполнения аккумулятора в секундах.</span><span class="sxs-lookup"><span data-stu-id="b5385-126">A **ULONG** that specifies the estimated battery run time, in seconds.</span></span> <span data-ttu-id="b5385-127">Если скорость очистки, указанная в элементе **атрате** в структуре **\_ \_ данных запроса аккумулятора** , равна нулю, это вычисление основывается на текущей скорости очистки.</span><span class="sxs-lookup"><span data-stu-id="b5385-127">If the rate of drain provided in the **AtRate** member of the **BATTERY\_QUERY\_INFORMATION** structure is zero, this calculation is based on the present rate of drain.</span></span> <span data-ttu-id="b5385-128">Если **атрате** не равно нулю, то возвращаемое время является ожидаемым временем выполнения для заданной ставки.</span><span class="sxs-lookup"><span data-stu-id="b5385-128">If **AtRate** is nonzero, the time returned is the expected run time for the given rate.</span></span> <span data-ttu-id="b5385-129">Если расчетное время неизвестно (например, батарея не расряжается, а заданный **атрате** равен нулю), возвращается значение \_ неизвестного времени работы батареи \_ .</span><span class="sxs-lookup"><span data-stu-id="b5385-129">If the estimated time is unknown (for example, the battery is not discharging and the **AtRate** specified was zero), the return value is BATTERY\_UNKNOWN\_TIME.</span></span> <span data-ttu-id="b5385-130">Обратите внимание, что это значение не очень точное в некоторых системах работы со батареями и может сильно различаться в зависимости от текущего энергопотребления, что может повлиять на активность дисков и другие факторы.</span><span class="sxs-lookup"><span data-stu-id="b5385-130">Note that this value is not very accurate on some battery systems, and may vary widely depending on present power usage, which could be affected by disk activity and other factors.</span></span> <span data-ttu-id="b5385-131">В этом значении нет механизма уведомления об изменениях.</span><span class="sxs-lookup"><span data-stu-id="b5385-131">There is no notification mechanism for changes in this value.</span></span><br/> |
| <span id="BatteryGranularityInformation"></span><span id="batterygranularityinformation"></span><span id="BATTERYGRANULARITYINFORMATION"></span><dl> <span data-ttu-id="b5385-132"><dt>**Баттеригрануларитинформатион**</dt> <dt>1</dt></span><span class="sxs-lookup"><span data-stu-id="b5385-132"><dt>**BatteryGranularityInformation**</dt> <dt>1</dt></span></span> </dl> | <span data-ttu-id="b5385-133">Массив, соимеющий [**\_ \_ масштабные структуры отчетов батареи**](/windows/desktop/api/WinNT/ns-winnt-battery_reporting_scale) , не более четырех записей.</span><span class="sxs-lookup"><span data-stu-id="b5385-133">An array of [**BATTERY\_REPORTING\_SCALE**](/windows/desktop/api/WinNT/ns-winnt-battery_reporting_scale) structures, never more than four entries.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| <span id="BatteryInformation"></span><span id="batteryinformation"></span><span id="BATTERYINFORMATION"></span><dl> <span data-ttu-id="b5385-134"><dt>**Баттеринформатион**</dt> <dt>0</dt></span><span class="sxs-lookup"><span data-stu-id="b5385-134"><dt>**BatteryInformation**</dt> <dt>0</dt></span></span> </dl>                                             | <span data-ttu-id="b5385-135">Структура [**\_ сведений о батарее**](battery-information-str.md) .</span><span class="sxs-lookup"><span data-stu-id="b5385-135">A [**BATTERY\_INFORMATION**](battery-information-str.md) structure.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| <span id="BatteryManufactureDate"></span><span id="batterymanufacturedate"></span><span id="BATTERYMANUFACTUREDATE"></span><dl> <span data-ttu-id="b5385-136"><dt>**Баттеримануфактуредате**</dt> <dt>5</dt></span><span class="sxs-lookup"><span data-stu-id="b5385-136"><dt>**BatteryManufactureDate**</dt> <dt>5</dt></span></span> </dl>                             | <span data-ttu-id="b5385-137">Структура [**\_ \_ даты изготовления аккумулятора**](battery-manufacture-date-str.md) .</span><span class="sxs-lookup"><span data-stu-id="b5385-137">A [**BATTERY\_MANUFACTURE\_DATE**](battery-manufacture-date-str.md) structure.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| <span id="BatteryManufactureName"></span><span id="batterymanufacturename"></span><span id="BATTERYMANUFACTURENAME"></span><dl> <span data-ttu-id="b5385-138"><dt>**Баттеримануфактуренаме**</dt> <dt>6</dt></span><span class="sxs-lookup"><span data-stu-id="b5385-138"><dt>**BatteryManufactureName**</dt> <dt>6</dt></span></span> </dl>                             | <span data-ttu-id="b5385-139">Строка Юникода, заканчивающаяся нулем, которая указывает имя производителя батареи.</span><span class="sxs-lookup"><span data-stu-id="b5385-139">Null-terminated Unicode string that specifies the name of the manufacturer of the battery.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| <span id="BatterySerialNumber"></span><span id="batteryserialnumber"></span><span id="BATTERYSERIALNUMBER"></span><dl> <span data-ttu-id="b5385-140"><dt>**Баттерисериалнумбер**</dt> <dt>8</dt></span><span class="sxs-lookup"><span data-stu-id="b5385-140"><dt>**BatterySerialNumber**</dt> <dt>8</dt></span></span> </dl>                                         | <span data-ttu-id="b5385-141">Строка Юникода, заканчивающаяся нулем, которая указывает серийный номер аккумулятора.</span><span class="sxs-lookup"><span data-stu-id="b5385-141">Null-terminated Unicode string that specifies the battery's serial number.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| <span id="BatteryTemperature"></span><span id="batterytemperature"></span><span id="BATTERYTEMPERATURE"></span><dl> <span data-ttu-id="b5385-142"><dt>**Баттеритемпературе**</dt> <dt>2</dt></span><span class="sxs-lookup"><span data-stu-id="b5385-142"><dt>**BatteryTemperature**</dt> <dt>2</dt></span></span> </dl>                                             | <span data-ttu-id="b5385-143">**Ulong** , указывающая текущую температуру батареи в десятых градусах градуса Кельвина.</span><span class="sxs-lookup"><span data-stu-id="b5385-143">A **ULONG** that specifies the battery's current temperature, in 10ths of a degree Kelvin.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| <span id="BatteryUniqueID"></span><span id="batteryuniqueid"></span><span id="BATTERYUNIQUEID"></span><dl> <span data-ttu-id="b5385-144"><dt>**Баттерюникуеид**</dt> <dt>7</dt></span><span class="sxs-lookup"><span data-stu-id="b5385-144"><dt>**BatteryUniqueID**</dt> <dt>7</dt></span></span> </dl>                                                         | <span data-ttu-id="b5385-145">Строка Юникода, заканчивающаяся нулем, которая однозначно определяет батарею.</span><span class="sxs-lookup"><span data-stu-id="b5385-145">Null-terminated Unicode string that uniquely identifies the battery.</span></span> <span data-ttu-id="b5385-146">Это значение можно использовать для контроля определенного аккумулятора.</span><span class="sxs-lookup"><span data-stu-id="b5385-146">This value can be used to track a specific battery.</span></span> <span data-ttu-id="b5385-147">В случае Smart-батарей этот идентификатор будет состоять из имени изготовителя, имени устройства, даты изготовления и печатного представления серийного номера.</span><span class="sxs-lookup"><span data-stu-id="b5385-147">In the case of smart batteries, this ID would be the concatenation of the manufacturer's name, device name, date of manufacture, and a printable representation of the serial number.</span></span> <br/> <span data-ttu-id="b5385-148">Это значение не должно отображаться для пользователя.</span><span class="sxs-lookup"><span data-stu-id="b5385-148">This value is not intended to be displayed to the user.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                            |



 

</dd> <dt>

<span data-ttu-id="b5385-149">**атрате**</span><span class="sxs-lookup"><span data-stu-id="b5385-149">**AtRate**</span></span>
</dt> <dd>

<span data-ttu-id="b5385-150">Этот элемент используется, только если **информатионлевел** — баттерестиматедтиме.</span><span class="sxs-lookup"><span data-stu-id="b5385-150">This member is used only if **InformationLevel** is BatteryEstimatedTime.</span></span>

<span data-ttu-id="b5385-151">Если этот элемент не равен нулю, это скорость, которая будет использоваться для расчета времени до тех пор, пока батарея не будет выплачиваться за Баттерестиматедтиме отдельного аккумулятора.</span><span class="sxs-lookup"><span data-stu-id="b5385-151">If this member is nonzero, it is a rate of drain that will be used to calculate the time until the battery is discharged for the BatteryEstimatedTime of an individual battery.</span></span> <span data-ttu-id="b5385-152">Он должен быть указан в mW и должен быть отрицательным значением для представления скорости разрядности аккумулятора.</span><span class="sxs-lookup"><span data-stu-id="b5385-152">It must be specified in mW, and must be a negative value to represent a battery discharge rate.</span></span>

</dd> </dl>

## <a name="remarks"></a><span data-ttu-id="b5385-153">Комментарии</span><span class="sxs-lookup"><span data-stu-id="b5385-153">Remarks</span></span>

<span data-ttu-id="b5385-154">Некоторые сведения о батареях являются необязательными или могут быть бессмысленными для некоторых батарей.</span><span class="sxs-lookup"><span data-stu-id="b5385-154">Some information about batteries is optional or may be meaningless for some batteries.</span></span> <span data-ttu-id="b5385-155">Если запрошенный тип данных недоступен для текущего аккумулятора, то \_ возвращается ошибка Недопустимая \_ функция.</span><span class="sxs-lookup"><span data-stu-id="b5385-155">If the particular type of data requested is not available for the current battery, then ERROR\_INVALID\_FUNCTION is returned.</span></span>

## <a name="requirements"></a><span data-ttu-id="b5385-156">Требования</span><span class="sxs-lookup"><span data-stu-id="b5385-156">Requirements</span></span>



| <span data-ttu-id="b5385-157">Требование</span><span class="sxs-lookup"><span data-stu-id="b5385-157">Requirement</span></span> | <span data-ttu-id="b5385-158">Значение</span><span class="sxs-lookup"><span data-stu-id="b5385-158">Value</span></span> |
|-------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="b5385-159">Минимальная версия клиента</span><span class="sxs-lookup"><span data-stu-id="b5385-159">Minimum supported client</span></span><br/> | <span data-ttu-id="b5385-160">Только для \[ классических приложений Windows XP\]</span><span class="sxs-lookup"><span data-stu-id="b5385-160">Windows XP \[desktop apps only\]</span></span><br/>                                                                                                                                                                                                                         |
| <span data-ttu-id="b5385-161">Минимальная версия сервера</span><span class="sxs-lookup"><span data-stu-id="b5385-161">Minimum supported server</span></span><br/> | <span data-ttu-id="b5385-162">\[Только для настольных приложений Windows Server 2003\]</span><span class="sxs-lookup"><span data-stu-id="b5385-162">Windows Server 2003 \[desktop apps only\]</span></span><br/>                                                                                                                                                                                                                |
| <span data-ttu-id="b5385-163">Header</span><span class="sxs-lookup"><span data-stu-id="b5385-163">Header</span></span><br/>                   | <dl> <span data-ttu-id="b5385-164"><dt>Покласс. h; </dt> <dt>Баткласс. h в Windows server 2008 R2, Windows 7, Windows server 2008, Windows Vista, Windows server 2003 и Windows XP</dt></span><span class="sxs-lookup"><span data-stu-id="b5385-164"><dt>Poclass.h; </dt> <dt>Batclass.h on Windows Server 2008 R2, Windows 7, Windows Server 2008, Windows Vista, Windows Server 2003 and Windows XP</dt></span></span> </dl> |



## <a name="see-also"></a><span data-ttu-id="b5385-165">См. также раздел</span><span class="sxs-lookup"><span data-stu-id="b5385-165">See also</span></span>

<dl> <dt>

[<span data-ttu-id="b5385-166">**\_сведения о батарее**</span><span class="sxs-lookup"><span data-stu-id="b5385-166">**BATTERY\_INFORMATION**</span></span>](battery-information-str.md)
</dt> <dt>

[<span data-ttu-id="b5385-167">**\_Дата изготовления \_ аккумулятора**</span><span class="sxs-lookup"><span data-stu-id="b5385-167">**BATTERY\_MANUFACTURE\_DATE**</span></span>](battery-manufacture-date-str.md)
</dt> <dt>

[<span data-ttu-id="b5385-168">**\_ \_ масштабирование отчета батареи**</span><span class="sxs-lookup"><span data-stu-id="b5385-168">**BATTERY\_REPORTING\_SCALE**</span></span>](/windows/desktop/api/WinNT/ns-winnt-battery_reporting_scale)
</dt> <dt>

[<span data-ttu-id="b5385-169">**\_ \_ сведения о запросе от аккумулятора ioctl \_**</span><span class="sxs-lookup"><span data-stu-id="b5385-169">**IOCTL\_BATTERY\_QUERY\_INFORMATION**</span></span>](ioctl-battery-query-information.md)
</dt> <dt>

[<span data-ttu-id="b5385-170">**\_тег запроса на батарею ioctl \_ \_**</span><span class="sxs-lookup"><span data-stu-id="b5385-170">**IOCTL\_BATTERY\_QUERY\_TAG**</span></span>](ioctl-battery-query-tag.md)
</dt> </dl>

 

 




