---
title: Видимые кучи дескрипторов шейдеров
description: Видимые кучи дескрипторов шейдеров — это кучи дескрипторов, на которые могут ссылаться шейдеры через таблицы дескрипторов.
ms.assetid: 37691fd1-212d-4786-ac9c-861c1a6a4918
ms.localizationpriority: high
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: e650d324f0826e00d8ffff08348597112f6d5cc4
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/16/2019
ms.locfileid: "74105103"
---
# <a name="shader-visible-descriptor-heaps"></a>Видимые кучи дескрипторов шейдеров

Видимые кучи дескрипторов шейдеров — это кучи дескрипторов, на которые могут ссылаться шейдеры через таблицы дескрипторов.

-   [Обзор](#overview)
-   [Пример](#an-example)
-   [Связанные темы](#related-topics)

## <a name="overview"></a>Обзор

В кучах дескрипторов, на которые могут ссылаться шейдеры через таблицы дескрипторов, входят несколько разновидностей: один тип кучи, D3D12 \_ SRV \_ UAV CBV- \_ \_ куча дескрипторов \_ , может содержать представления ресурсов шейдера, неупорядоченные представления доступа и представления постоянного буфера, все смешанные. Любое заданное расположение в куче может быть одним из перечисленных типов дескрипторов. Другой тип кучи, \_ \_ образец типа кучи дескрипторов D3D12 \_ \_ , хранит только образцы, отражающие факт, что для большинства оборудования Управление пробами осуществляется отдельно от СРВС, уавс, КБВС.

Кучи дескрипторов этих типов могут запрашиваться как видимые шейдером или нет при создании кучи (последний — невидимый). может быть полезен для промежуточного хранения дескрипторов ЦП. Если запрос должен быть видимым шейдером, каждый из перечисленных выше типов кучи может иметь ограничение на размер оборудования для любого выделения отдельной кучи дескрипторов.

Приложения могут создавать любое количество куч дескрипторов, а невидимые кучи дескрипторов не ограничиваются размером. Если видимая куча дескрипторов шейдеров, созданная приложением, меньше, чем предельный размер оборудования, драйвер может выбрать подраспределение кучи дескрипторов из более крупной базовой кучи дескрипторов, чтобы в одной куче аппаратных дескрипторов поместилось несколько куч дескрипторов API. Причиной этого может быть то, что для некоторого оборудования при переключении между кучами дескрипторов оборудования во время выполнения требуется, чтобы GPU выполнял ожидание в режиме простоя (чтобы завершить работу ссылок GPU на ранее созданную кучу дескрипторов). Если все кучи дескрипторов, создаваемые приложением, соответствуют максимальной емкости аппаратной кучи, то такие ожидания не произойдет при переключении кучи дескрипторов API во время подготовки к просмотру. Однако приложения должны допускать возможность, что переключение текущей кучи дескрипторов может повлечь за собой ожидание простоя.

Чтобы избежать появления такого возможного ожидания в случае неактивности на коммутаторе кучи дескрипторов, приложения могут воспользоваться преимуществами перерывов в отрисовке, которые приведут к неактивности GPU по другим причинам, так как время ожидания простоя происходит в любом случае.

Механизм и семантика для идентификации куч дескриптора для шейдеров во время записи списка команд/пакетов описаны в справочнике по API.

## <a name="an-example"></a>Пример

На рисунке ниже показаны две кучи дескрипторов, ссылающиеся на две отдельные 2D-текстуры, которые хранятся в двух слотах большой кучи по умолчанию. Графический конвейер (включая шейдеры) может получить доступ к куче дескрипторов, которая является видимой для шейдера, и поэтому для конвейера доступна двухмерная текстура.

![видимые и невидимые кучи дескрипторов](images/descriptor-heaps.png)

> [!Note]  
> Часто существует ограничение на оборудование GPU, доступное для записи в локальную память GPU (которая называется общей памятью для записи) для куч дескрипторов. Обычно это ограничение обходится вокруг 96 МБ для всех процессов. Например, в куче дескрипторов элементов 1 000 000, в которой в дескрипторах 32byte используется 32 МБ. При необходимости драйвер будет возвращаться к системной памяти, хотя рекомендуется не создавать большое количество куч большого размера.

 

## <a name="related-topics"></a>Связанные темы

<dl> <dt>

[Кучи дескрипторов](descriptor-heaps.md)
</dt> </dl>

 

 




