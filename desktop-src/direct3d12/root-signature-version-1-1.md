---
title: Корневая подпись версии 1,1
description: Версия корневой сигнатуры 1,1 предназначена для того, чтобы приложения указывали на драйверы, когда дескрипторы в куче не изменяются или дескрипторы данных не указывают на изменения.
ms.assetid: 8FE42C1C-7F1D-4E70-A7EE-D5EC67237327
ms.localizationpriority: high
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 24d0a107b4186f164e60a6225f55c5ba3f4f06b2
ms.sourcegitcommit: f5a319899176e2df564bdb4d9eaffc32140452a2
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/14/2020
ms.locfileid: "104548996"
---
# <a name="root-signature-version-11"></a><span data-ttu-id="86e77-103">Корневая подпись версии 1,1</span><span class="sxs-lookup"><span data-stu-id="86e77-103">Root Signature Version 1.1</span></span>

<span data-ttu-id="86e77-104">Версия корневой сигнатуры 1,1 предназначена для того, чтобы приложения указывали на драйверы, когда дескрипторы в куче не изменяются или дескрипторы данных не указывают на изменения.</span><span class="sxs-lookup"><span data-stu-id="86e77-104">The purpose of Root Signature version 1.1 is to enable applications to indicate to drivers when descriptors in a descriptor heap won’t change or the data descriptors point to won’t change.</span></span> <span data-ttu-id="86e77-105">Это позволяет драйверам выполнять оптимизации, которые могут быть уверены в том, что дескриптор или память, на которую он указывает, являются статическими в течение некоторого периода времени.</span><span class="sxs-lookup"><span data-stu-id="86e77-105">This allows the option for drivers to make optimizations that might be possible knowing that a descriptor or the memory it points to is static for some period of time.</span></span>

-   [<span data-ttu-id="86e77-106">Обзор</span><span class="sxs-lookup"><span data-stu-id="86e77-106">Overview</span></span>](#overview)
-   [<span data-ttu-id="86e77-107">Статические и временные флаги</span><span class="sxs-lookup"><span data-stu-id="86e77-107">Static and Volatile Flags</span></span>](#static-and-volatile-flags)
    -   [<span data-ttu-id="86e77-108">переменные ДЕСКРИПТОРов \_</span><span class="sxs-lookup"><span data-stu-id="86e77-108">DESCRIPTORS\_VOLATILE</span></span>](#descriptors_volatile)
    -   [<span data-ttu-id="86e77-109">\_временные данные</span><span class="sxs-lookup"><span data-stu-id="86e77-109">DATA\_VOLATILE</span></span>](#data_volatile)
    -   [<span data-ttu-id="86e77-110">\_статические данные, \_ установленные во время \_ \_ \_ выполнения</span><span class="sxs-lookup"><span data-stu-id="86e77-110">DATA\_STATIC\_WHILE\_SET\_AT\_EXECUTE</span></span>](#data_static_while_set_at_execute)
    -   [<span data-ttu-id="86e77-111">\_статические данные</span><span class="sxs-lookup"><span data-stu-id="86e77-111">DATA\_STATIC</span></span>](#data_static)
    -   [<span data-ttu-id="86e77-112">Объединение флагов</span><span class="sxs-lookup"><span data-stu-id="86e77-112">Combining Flags</span></span>](#combining-flags)
    -   [<span data-ttu-id="86e77-113">Сводка флагов</span><span class="sxs-lookup"><span data-stu-id="86e77-113">Flag Summary</span></span>](#flag-summary)
-   [<span data-ttu-id="86e77-114">Сводка API версии 1,1</span><span class="sxs-lookup"><span data-stu-id="86e77-114">Version 1.1 API Summary</span></span>](#version-11-api-summary)
    -   [<span data-ttu-id="86e77-115">Перечисления</span><span class="sxs-lookup"><span data-stu-id="86e77-115">Enums</span></span>](#enums)
    -   [<span data-ttu-id="86e77-116">Структуры</span><span class="sxs-lookup"><span data-stu-id="86e77-116">Structures</span></span>](#helper-structures)
    -   [<span data-ttu-id="86e77-117">Функции</span><span class="sxs-lookup"><span data-stu-id="86e77-117">Functions</span></span>](#functions)
    -   [<span data-ttu-id="86e77-118">Методы</span><span class="sxs-lookup"><span data-stu-id="86e77-118">Methods</span></span>](#methods)
    -   [<span data-ttu-id="86e77-119">Вспомогательные структуры</span><span class="sxs-lookup"><span data-stu-id="86e77-119">Helper structures</span></span>](#helper-structures)
-   [<span data-ttu-id="86e77-120">Последствия нарушения флагов static-rvalue характеристики</span><span class="sxs-lookup"><span data-stu-id="86e77-120">Consequences of violating static-ness flags</span></span>](#consequences-of-violating-static-ness-flags)
-   [<span data-ttu-id="86e77-121">Управление версиями</span><span class="sxs-lookup"><span data-stu-id="86e77-121">Version management</span></span>](#version-management)
-   [<span data-ttu-id="86e77-122">Связанные темы</span><span class="sxs-lookup"><span data-stu-id="86e77-122">Related topics</span></span>](#related-topics)

## <a name="overview"></a><span data-ttu-id="86e77-123">Обзор</span><span class="sxs-lookup"><span data-stu-id="86e77-123">Overview</span></span>

<span data-ttu-id="86e77-124">Корневая сигнатура версии 1,0 позволяет использовать содержимое куч дескрипторов и памяти, на которые они указывают, в любое время, когда списки команд или их наборы, ссылающиеся на них, потенциально полетают на GPU.</span><span class="sxs-lookup"><span data-stu-id="86e77-124">Root Signature version 1.0 allows the contents of descriptor heaps and the memory they point at to be freely changed by applications any time that command lists / bundles referencing them are potentially in flight on the GPU.</span></span> <span data-ttu-id="86e77-125">Однако очень часто приложениям не требуется гибкость при изменении дескрипторов или памяти после того, как были записаны команды, ссылающиеся на них.</span><span class="sxs-lookup"><span data-stu-id="86e77-125">Very often, however, applications don’t actually need the flexibility to change descriptors or memory after commands that reference them have been recorded.</span></span>

<span data-ttu-id="86e77-126">Приложения часто могут выполнять следующие задачи:</span><span class="sxs-lookup"><span data-stu-id="86e77-126">Applications are often trivially able to:</span></span>

-   <span data-ttu-id="86e77-127">Настройка дескрипторов (и возможных точек памяти, на которые они указывают) перед привязкой к спискам команд или пакету.</span><span class="sxs-lookup"><span data-stu-id="86e77-127">Set up descriptors (and possible the memory they point to) before binding descriptor tables or root descriptors on a command list or bundle.</span></span>
-   <span data-ttu-id="86e77-128">Убедитесь, что эти дескрипторы не изменятся до тех пор, пока список команд/бундлес ссылки на них не завершит выполнение в последний раз.</span><span class="sxs-lookup"><span data-stu-id="86e77-128">Ensure that these descriptors will not change until the command list /bundles referencing them have finished executing for the last time.</span></span>
-   <span data-ttu-id="86e77-129">Убедитесь, что данные, на которые указывает дескрипторы, не меняются в течение одной полной длительности.</span><span class="sxs-lookup"><span data-stu-id="86e77-129">Ensure the data the descriptors point to does not change for the same full duration.</span></span>

<span data-ttu-id="86e77-130">Кроме того, приложение может только учитывать, что данные не меняются в течение более короткого периода времени.</span><span class="sxs-lookup"><span data-stu-id="86e77-130">Alternatively, an application may only be able to honor that data doesn’t change for a shorter duration in time.</span></span> <span data-ttu-id="86e77-131">В некоторых случаях данные могут быть статическими для окна во время выполнения списка команд, что привязка корневого параметра (таблица дескрипторов или корневой дескриптор) в настоящее время указывает на данные.</span><span class="sxs-lookup"><span data-stu-id="86e77-131">In particular data might be static for the window in time during command list execution that a root parameter binding (descriptor table or root descriptor) currently points to the data.</span></span> <span data-ttu-id="86e77-132">Иными словами, приложению может потребоваться выполнить на временной шкале GPU, которая обновляет некоторые данные между периодами времени, где они заданы с помощью корневого параметра, зная, что при установке он будет статическим.</span><span class="sxs-lookup"><span data-stu-id="86e77-132">In other words, an application may wish to perform execution on the GPU timeline that updates some data in between time periods where it is set via a root parameter, knowing that when it is set it will be static.</span></span>

<span data-ttu-id="86e77-133">Если дескрипторы, или дескрипторы данных указывают на, не будут изменяться, то конкретные драйверы оптимизации могут быть специфичными для поставщика оборудования, и важно, что они не изменяют поведение, что может повысить производительность.</span><span class="sxs-lookup"><span data-stu-id="86e77-133">If descriptors, or the data descriptors point to, will not change, then the specific optimizations drivers might do are hardware vendor specific, and importantly they do not change behavior other than possibly improving performance.</span></span> <span data-ttu-id="86e77-134">Сохранение как можно больше знаний о намерениях приложения не полагается на приложения.</span><span class="sxs-lookup"><span data-stu-id="86e77-134">Preserving as much knowledge about application intent as possible does not put a burden on applications.</span></span>

<span data-ttu-id="86e77-135">Одной из оптимизаций является то, что многие драйверы могут создавать более эффективный доступ к памяти с помощью шейдеров, если они узнают, что приложение может делать о статическом rvalue характеристики дескрипторов и данных.</span><span class="sxs-lookup"><span data-stu-id="86e77-135">One optimization is that many drivers can produce more efficient memory accesses by shaders if they know the promises an application can make about the static-ness of descriptors and data.</span></span> <span data-ttu-id="86e77-136">Например, драйверы могут удалить уровень косвенного обращения для доступа к дескриптору в куче, преобразуя его в корневой дескриптор, если конкретное оборудование не чувствительно к размеру корневого аргумента.</span><span class="sxs-lookup"><span data-stu-id="86e77-136">For example, drivers could remove a level of indirection for accessing a descriptor in a heap by converting it into a root descriptor if the particular hardware is not sensitive to root argument size.</span></span>

<span data-ttu-id="86e77-137">Дополнительная задача для разработчиков, использующая версию 1,1, заключается в том, чтобы изменчивости и static-rvalue характеристики данных везде, где это возможно, чтобы драйверы могли оптимизировать работу.</span><span class="sxs-lookup"><span data-stu-id="86e77-137">The additional task for developer using Version 1.1 is to make promises about the volatility and static-ness of data wherever possible, so that drivers can make the optimizations that make sense.</span></span> <span data-ttu-id="86e77-138">Разработчикам не нужно делать никаких обещаний со статическим rvalue характеристики.</span><span class="sxs-lookup"><span data-stu-id="86e77-138">Developers do not have to make any promises about static-ness.</span></span>

<span data-ttu-id="86e77-139">Корневая сигнатура версии 1,0 продолжит функционировать без изменений, хотя приложения, которые перекомпилируются корневые сигнатуры, по умолчанию будут иметь корневую подпись 1,1 (с возможностью принудительной установки версии 1,0).</span><span class="sxs-lookup"><span data-stu-id="86e77-139">Root Signature version 1.0 continues to function unchanged, though applications that recompile root signatures will default to Root Signature 1.1 now (with an option to force version 1.0 if desired).</span></span>

## <a name="static-and-volatile-flags"></a><span data-ttu-id="86e77-140">Статические и временные флаги</span><span class="sxs-lookup"><span data-stu-id="86e77-140">Static and Volatile Flags</span></span>

<span data-ttu-id="86e77-141">Следующие флаги являются частью корневой подписи, чтобы позволить драйверам выбрать стратегию оптимального обработки отдельных корневых аргументов, а также внедрить одни и те же допущения в объекты состояния конвейера (псос) при их первоначальной компиляции, так как корневая подпись является частью PSO.</span><span class="sxs-lookup"><span data-stu-id="86e77-141">The following flags are part of the root signature to allow drivers to choose a strategy for how to best handle individual root arguments when they are set, and also embed the same assumptions into Pipeline State Objects (PSOs) when they are originally compiled - since the root signature is part of a PSO.</span></span>

<span data-ttu-id="86e77-142">Следующие флаги задаются приложением и применяются к дескрипторам или данным.</span><span class="sxs-lookup"><span data-stu-id="86e77-142">The following flags are set by the app and apply to descriptors or data.</span></span>

``` syntax
typedef enum D3D12_DESCRIPTOR_RANGE_FLAGS
{
    D3D12_DESCRIPTOR_RANGE_FLAG_NONE    = 0,
    D3D12_DESCRIPTOR_RANGE_FLAG_DESCRIPTORS_VOLATILE    = 0x1,
    D3D12_DESCRIPTOR_RANGE_FLAG_DATA_VOLATILE   = 0x2,
    D3D12_DESCRIPTOR_RANGE_FLAG_DATA_STATIC_WHILE_SET_AT_EXECUTE    = 0x4,
    D3D12_DESCRIPTOR_RANGE_FLAG_DATA_STATIC = 0x8
} D3D12_DESCRIPTOR_RANGE_FLAGS;

typedef enum D3D12_ROOT_DESCRIPTOR_FLAGS
{
    D3D12_ROOT_DESCRIPTOR_FLAG_NONE = 0,
    D3D12_ROOT_DESCRIPTOR_FLAG_DATA_VOLATILE    = 0x2,
    D3D12_ROOT_DESCRIPTOR_FLAG_DATA_STATIC_WHILE_SET_AT_EXECUTE = 0x4,
    D3D12_ROOT_DESCRIPTOR_FLAG_DATA_STATIC  = 0x8
} D3D12_ROOT_DESCRIPTOR_FLAGS;
```

### <a name="descriptors_volatile"></a><span data-ttu-id="86e77-143">переменные ДЕСКРИПТОРов \_</span><span class="sxs-lookup"><span data-stu-id="86e77-143">DESCRIPTORS\_VOLATILE</span></span>

<span data-ttu-id="86e77-144">Установив этот флаг, приложение может изменить дескрипторы в куче дескрипторов, на которые указывает корневая таблица дескрипторов, за исключением случаев, когда список команд или пакеты, связывающие таблицу дескрипторов, были отправлены и не завершили выполнение.</span><span class="sxs-lookup"><span data-stu-id="86e77-144">With this flag set, the descriptors in a descriptor heap pointed to by a root descriptor table can be changed by the application any time except while the command list / bundles that bind the descriptor table have been submitted and have not finished executing.</span></span> <span data-ttu-id="86e77-145">Например, запись списка команд и последующее изменение дескрипторов в куче дескрипторов означает, что *перед* отправкой списка команд для выполнения указано допустимое значение.</span><span class="sxs-lookup"><span data-stu-id="86e77-145">For instance, recording a command list and subsequently changing descriptors in a descriptor heap it refers to *before* submitting the command list for execution is valid.</span></span> <span data-ttu-id="86e77-146">Это единственное поддерживаемое поведение для корневой сигнатуры версии 1,0.</span><span class="sxs-lookup"><span data-stu-id="86e77-146">This is the only supported behavior of Root Signature version 1.0.</span></span>

<span data-ttu-id="86e77-147">Если флаг "volatile" ДЕСКРИПТОРов \_ *не* задан, дескрипторы являются статическими.</span><span class="sxs-lookup"><span data-stu-id="86e77-147">If the DESCRIPTORS\_VOLATILE flag is *not* set then descriptors are static.</span></span> <span data-ttu-id="86e77-148">Флаг для этого режима отсутствует.</span><span class="sxs-lookup"><span data-stu-id="86e77-148">There is no flag for this mode.</span></span> <span data-ttu-id="86e77-149">Статические дескрипторы означает, что дескрипторы в куче дескрипторов, на которые указывает корневая таблица дескрипторов, были инициализированы в момент, когда таблица дескрипторов задается в списке команд или наборе (во время записи), а дескрипторы не могут быть изменены до тех пор, пока список команд не завершит выполнение в последний раз.</span><span class="sxs-lookup"><span data-stu-id="86e77-149">Static descriptors mean the descriptors in a descriptor heap pointed to by a root descriptor table have been initialized by the time the descriptor table is set on a command list / bundle (during recording), and the descriptors cannot be changed until the command list / bundle has finished executing for the last time.</span></span> <span data-ttu-id="86e77-150">*Для корневой сигнатуры версии 1,1 по умолчанию используются статические дескрипторы*, и приложение должно указать \_ ВРЕМЕНный флаг дескрипторов при необходимости.</span><span class="sxs-lookup"><span data-stu-id="86e77-150">*For Root Signature version 1.1, static descriptors are the default assumption*, and the application has to specify the DESCRIPTORS\_VOLATILE flag when needed.</span></span>

<span data-ttu-id="86e77-151">Для пакетов, использующих таблицы дескрипторов с статичными дескрипторами, дескрипторы должны быть готовы, начиная с момента записи пакета (в отличие от вызова пакета) и не изменяются до тех пор, пока пакет не завершится в последний раз.</span><span class="sxs-lookup"><span data-stu-id="86e77-151">For bundles using descriptor tables with static descriptors, the descriptors have to be ready starting at the time the bundle is recorded (as opposed to when the bundle is called), and not change until the bundle has finished executing for the last time.</span></span> <span data-ttu-id="86e77-152">Таблицы дескрипторов, указывающие на статические дескрипторы, должны быть установлены во время записи пакета и не наследуются в пакете.</span><span class="sxs-lookup"><span data-stu-id="86e77-152">Descriptor tables pointing to static descriptors have to be set during bundle recording and not inherited into the bundle.</span></span> <span data-ttu-id="86e77-153">Список команд может использоваться для использования таблицы дескрипторов со статическими дескрипторами, которые были установлены в пакете и возвращены обратно в список команд.</span><span class="sxs-lookup"><span data-stu-id="86e77-153">It is valid for a command list to use a descriptor table with static descriptors that has been set in a bundle and returned back to the command list.</span></span>

<span data-ttu-id="86e77-154">Если дескрипторы статичны, существует еще одно изменение в поведении, требующее \_ установки временного флага дескрипторов.</span><span class="sxs-lookup"><span data-stu-id="86e77-154">When descriptors are static there is another change in behavior that requires the DESCRIPTORS\_VOLATILE flag to be set.</span></span> <span data-ttu-id="86e77-155">Доступ к любым представлениям буфера (в отличие от представлений Texture1D/2D/3D/Cube) недопустимым и приводит к неопределенным результатам, в том числе к сбросу устройства, а не по значениям по умолчанию для операций чтения или удаления записей.</span><span class="sxs-lookup"><span data-stu-id="86e77-155">Out of bounds accesses to any Buffer views (as opposed to Texture1D/2D/3D/Cube views) are invalid and produce undefined results, including possible device reset, rather than returning default values for reads or dropping writes.</span></span> <span data-ttu-id="86e77-156">Цель удаления возможности использования приложений в зависимости от аппаратного обеспечения для проверки доступа заключается в том, чтобы разрешить драйверам предоставлять доступ к статическим дескрипторам с доступом к корневому дескриптору, если они будут считаться более эффективными.</span><span class="sxs-lookup"><span data-stu-id="86e77-156">The purpose for removing the ability for applications to depend on hardware out of bounds access checking is to allow drivers to choose to promote static descriptor accesses to root descriptor accesses if they deem that more efficient.</span></span> <span data-ttu-id="86e77-157">Корневые дескрипторы не поддерживают проверку недопустимых границ.</span><span class="sxs-lookup"><span data-stu-id="86e77-157">Root descriptors don’t support any out of bounds checking.</span></span>

<span data-ttu-id="86e77-158">Если приложения зависят от режима безопасного доступа к памяти при доступе к дескрипторам, им необходимо пометить диапазоны дескрипторов, которые обращаются к этим дескрипторам как к \_ переменным.</span><span class="sxs-lookup"><span data-stu-id="86e77-158">If applications depend on safe out of bounds memory access behavior when accessing descriptors, they need to mark the descriptor ranges that access those descriptors as DESCRIPTORS\_VOLATILE.</span></span>

### <a name="data_volatile"></a><span data-ttu-id="86e77-159">\_временные данные</span><span class="sxs-lookup"><span data-stu-id="86e77-159">DATA\_VOLATILE</span></span>

<span data-ttu-id="86e77-160">Если этот флаг установлен, то данные, на которые указывает дескрипторы, могут быть изменены ЦП в любое время, за исключением случаев, когда список команд или пакетов, связывающих таблицу дескрипторов, был отправлен и не завершил выполнение.</span><span class="sxs-lookup"><span data-stu-id="86e77-160">With this flag set, the data pointed to by descriptors can be changed by the CPU any time except while the command list / bundles that bind the descriptor table have been submitted and have not finished executing.</span></span> <span data-ttu-id="86e77-161">Это единственное поддерживаемое поведение для корневой сигнатуры версии 1,0.</span><span class="sxs-lookup"><span data-stu-id="86e77-161">This is the only supported behavior of Root Signature version 1.0.</span></span>

<span data-ttu-id="86e77-162">Флаг доступен как в флагах диапазона дескрипторов, так и в флагах корневого дескриптора.</span><span class="sxs-lookup"><span data-stu-id="86e77-162">The flag is available in both descriptor range flags and root descriptor flags.</span></span>

### <a name="data_static_while_set_at_execute"></a><span data-ttu-id="86e77-163">\_статические данные, \_ установленные во время \_ \_ \_ выполнения</span><span class="sxs-lookup"><span data-stu-id="86e77-163">DATA\_STATIC\_WHILE\_SET\_AT\_EXECUTE</span></span>

<span data-ttu-id="86e77-164">Если этот флаг установлен, то данные, на которые указывает дескрипторы, не могут измениться начиная с, когда базовый дескриптор или таблица дескрипторов задаются в списке команд во время выполнения на временной шкале GPU и заканчиваются, когда последующие операции рисования или отправки больше не будут ссылаться на данные.</span><span class="sxs-lookup"><span data-stu-id="86e77-164">With this flag set, the data pointed to by descriptors cannot change starting from when the underlying root descriptor or descriptor table is set on a command list / bundle during execution on the GPU timeline, and ending when subsequent draws/dispatches will no longer reference the data.</span></span>

<span data-ttu-id="86e77-165">Прежде чем для графического процессора будет задан корневой дескриптор или таблица дескрипторов, эти данные *можно* изменить даже с помощью одного списка команд или набора.</span><span class="sxs-lookup"><span data-stu-id="86e77-165">Before a root descriptor or descriptor table has been set on the GPU, this data *can* be changed even by the same command list / bundle.</span></span> <span data-ttu-id="86e77-166">Данные также могут быть изменены, в то время как корневой дескриптор или таблица дескрипторов, указывающих на нее, по-прежнему задаются в списке команд или наборе, если на него были завершены прорисовка и отправка ссылок.</span><span class="sxs-lookup"><span data-stu-id="86e77-166">The data can also be changed while a root descriptor or descriptor table pointing to it is still set on the command list / bundle, as long as draw/dispatches referencing it have completed.</span></span> <span data-ttu-id="86e77-167">Однако это требует повторной привязки таблицы дескрипторов к списку команд, прежде чем при следующем разыменовании корневого дескриптора или таблицы дескриптора.</span><span class="sxs-lookup"><span data-stu-id="86e77-167">However, doing so requires the descriptor table be rebound to the command list again before the next time the root descriptor or descriptor table is dereferenced.</span></span> <span data-ttu-id="86e77-168">Это позволяет драйверу понять, что данные, на которые указывает корневой дескриптор или таблица дескрипторов, изменились.</span><span class="sxs-lookup"><span data-stu-id="86e77-168">This allows the driver to know that data pointed to by a root descriptor or descriptor table has changed.</span></span>

<span data-ttu-id="86e77-169">Важное различие между данными, заданными \_ \_ во время выполнения и с переменными данными, \_ \_ \_ \_ не зависит от \_ типа данных. драйвер не может определить, были ли копии данных в списке команд изменили данные, на которые указывает дескриптор, без дополнительного отслеживания состояния.</span><span class="sxs-lookup"><span data-stu-id="86e77-169">The essential difference between DATA\_STATIC\_WHILE\_SET\_AT\_EXECUTE and DATA\_VOLATILE is with DATA\_VOLATILE a driver can’t tell whether data copies in a command list have changed the data pointed to by a descriptor, without doing extra state tracking.</span></span> <span data-ttu-id="86e77-170">Таким образом, если, например, драйвер может вставить в список команд любые команды предварительной выборки данных (для повышения эффективности доступа шейдера к известным данным), например, \_ статические данные, \_ \_ настроенные во время \_ \_ выполнения, позволяют драйверу узнать, что в данный момент требуется только выполнить предварительную выборку данных с помощью [**сетграфиксрутдескриптортабле**](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-setgraphicsrootdescriptortable), [**сеткомпутерутдескриптортабле**](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-setcomputerootdescriptortable) или одного из методов установки представления буфера констант, представления ресурсов шейдера или неупорядоченного представления доступа.</span><span class="sxs-lookup"><span data-stu-id="86e77-170">So if, for instance, a driver can insert any sort of data pre-fetching commands into their command list (to make shader access to known data more efficient, for example), DATA\_STATIC\_WHILE\_SET\_AT\_EXECUTE lets the driver know it only needs to perform data pre-fetching at the moment it is set via [**SetGraphicsRootDescriptorTable**](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-setgraphicsrootdescriptortable), [**SetComputeRootDescriptorTable**](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-setcomputerootdescriptortable) or one of the methods to set the constant buffer view, shader resource view, or unordered access view.</span></span>

<span data-ttu-id="86e77-171">Для пакетов, обещание, что данные статичны, а задаются на этапе выполнения, применяются уникальным образом для каждого выполнения пакета.</span><span class="sxs-lookup"><span data-stu-id="86e77-171">For bundles, the promise that data is static while set at execute applies uniquely to each execution of the bundle.</span></span>

<span data-ttu-id="86e77-172">Флаг доступен как в флагах диапазона дескрипторов, так и в флагах корневого дескриптора.</span><span class="sxs-lookup"><span data-stu-id="86e77-172">The flag is available in both descriptor range flags and root descriptor flags.</span></span>

### <a name="data_static"></a><span data-ttu-id="86e77-173">\_статические данные</span><span class="sxs-lookup"><span data-stu-id="86e77-173">DATA\_STATIC</span></span>

<span data-ttu-id="86e77-174">Если этот флаг установлен, то данные, на которые указывает дескрипторы, были инициализированы по времени, когда корневой дескриптор или таблица дескрипторов, ссылающихся на память, была задана в списке команд во время записи, и данные нельзя изменить до тех пор, пока список команд не завершит выполнение в последний раз.</span><span class="sxs-lookup"><span data-stu-id="86e77-174">If this flag is set, the data pointed to by descriptors has been initialized by the time a root descriptor or descriptor table referencing the memory has been set on a command list / bundle during recording, and the data cannot be changed until the command list / bundle has finished executing for the last time.</span></span>

<span data-ttu-id="86e77-175">Для пакетов Статическая длительность начинается в параметре корневого дескриптора или таблицы дескрипторов во время записи пакета, в отличие от записи списка вызывающих команд.</span><span class="sxs-lookup"><span data-stu-id="86e77-175">For bundles, the static duration starts at root descriptor or descriptor table setting during the recording of the bundle, as opposed to recording of a calling command list.</span></span> <span data-ttu-id="86e77-176">Кроме того, таблица дескрипторов, указывающая на статические данные, должна быть задана в пакете и не наследуется.</span><span class="sxs-lookup"><span data-stu-id="86e77-176">In addition, a descriptor table pointing to static data must be set in the bundle and not inherited.</span></span> <span data-ttu-id="86e77-177">Список команд может использовать таблицу дескрипторов, указывающую на статические данные, заданные в пакете и возвращаемые обратно в список команд.</span><span class="sxs-lookup"><span data-stu-id="86e77-177">It is valid for a command list to use a descriptor table pointing to static data that has been set in a bundle and returned back to the command list.</span></span>

<span data-ttu-id="86e77-178">Флаг доступен как в флагах диапазона дескрипторов, так и в флагах корневого дескриптора.</span><span class="sxs-lookup"><span data-stu-id="86e77-178">The flag is available in both descriptor range flags and root descriptor flags.</span></span>

### <a name="combining-flags"></a><span data-ttu-id="86e77-179">Объединение флагов</span><span class="sxs-lookup"><span data-stu-id="86e77-179">Combining Flags</span></span>

<span data-ttu-id="86e77-180">В каждый момент времени можно указать не более одного флага данных, за исключением диапазонов дескрипторов выборки, которые не поддерживают флаги данных, так как образцы не указывают на данные.</span><span class="sxs-lookup"><span data-stu-id="86e77-180">At most one of the DATA flags can be specified at a time, except for Sampler descriptor ranges which do not support DATA flags at all since samplers do not point to data.</span></span>

<span data-ttu-id="86e77-181">Отсутствие каких-либо флагов данных для диапазонов дескрипторов SRV и CBV означает, что по умолчанию \_ статические данные \_ \_ задаются во время \_ \_ выполнения.</span><span class="sxs-lookup"><span data-stu-id="86e77-181">The absence of any DATA flags for SRV and CBV descriptor ranges means a default of DATA\_STATIC\_WHILE\_SET\_AT\_EXECUTE behavior is assumed.</span></span> <span data-ttu-id="86e77-182">Причина, по которой по умолчанию выбирается вместо \_ статических данных, заключается в том, что \_ статические данные, \_ \_ настроенные \_ на этапе \_ выполнения, скорее всего, будут надежными по умолчанию в большинстве случаев, хотя при этом повышается возможность оптимизации по сравнению с \_ постоянными данными.</span><span class="sxs-lookup"><span data-stu-id="86e77-182">The reason this default is chosen rather than DATA\_STATIC is that DATA\_STATIC\_WHILE\_SET\_AT\_EXECUTE is much more likely to be a safe default for a majority of cases, while still yielding some optimization opportunity better than defaulting to DATA\_VOLATILE.</span></span>

<span data-ttu-id="86e77-183">Отсутствие флагов данных для диапазонов дескрипторов UAV означает, что по умолчанию \_ применяется временное поведение данных, в котором обычно уавс записывается в.</span><span class="sxs-lookup"><span data-stu-id="86e77-183">The absence of DATA flags for UAV descriptor ranges means a default of DATA\_VOLATILE behavior is assumed, given typically UAVs are written to.</span></span>

<span data-ttu-id="86e77-184">Переменные ДЕСКРИПТОРов \_ volatile *нельзя* сочетать с данными \_ static, но *могут* сочетаться с другими флагами данных.</span><span class="sxs-lookup"><span data-stu-id="86e77-184">DESCRIPTORS\_VOLATILE *cannot* be combined with DATA\_STATIC, but *can* be combined with the other DATA flags.</span></span> <span data-ttu-id="86e77-185">Независимые ДЕСКРИПТОРы причин \_ могут сочетаться со \_ статическими данными \_ \_ , а задаются во время выполнения. при \_ \_ этом временные дескрипторы по-прежнему нуждаются в том, что дескрипторы должны быть готовы к выполнению во время выполнения списка команд, а \_ статические данные \_ во время \_ выполнения задаются \_ только по \_ статическому rvalue характеристики внутри подмножества выполнения списка команд</span><span class="sxs-lookup"><span data-stu-id="86e77-185">The reason DESCRIPTORS\_VOLATILE can be combined with DATA\_STATIC\_WHILE\_SET\_AT\_EXECUTE is that volatile descriptors still require the descriptors be ready during command list / bundle execution, and DATA\_STATIC\_WHILE\_SET\_AT\_EXECUTE is only making promises about the static-ness within a subset of command list / bundle execution.</span></span>

### <a name="flag-summary"></a><span data-ttu-id="86e77-186">Сводка флагов</span><span class="sxs-lookup"><span data-stu-id="86e77-186">Flag Summary</span></span>

<span data-ttu-id="86e77-187">В следующих таблицах приведены сочетания флагов, которые могут быть использованы.</span><span class="sxs-lookup"><span data-stu-id="86e77-187">The following tables summarize the flag combinations that might be employed.</span></span>



|                                                                |                                                                                                                                                                                                                                                                                                                                                      |
|----------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="86e77-188">**Допустимые \_ \_ Параметры флагов диапазона ДЕСКРИПТОРов D3D12 \_**</span><span class="sxs-lookup"><span data-stu-id="86e77-188">**Valid D3D12\_DESCRIPTOR\_RANGE\_FLAGS settings**</span></span>             | <span data-ttu-id="86e77-189">**Описание**</span><span class="sxs-lookup"><span data-stu-id="86e77-189">**Description**</span></span>                                                                                                                                                                                                                                                                                                                                      |
| <span data-ttu-id="86e77-190">Флаги не заданы</span><span class="sxs-lookup"><span data-stu-id="86e77-190">No flags set</span></span>                                                   | <span data-ttu-id="86e77-191">Дескрипторы являются статическими (по умолчанию).</span><span class="sxs-lookup"><span data-stu-id="86e77-191">Descriptors are static (the default).</span></span> <span data-ttu-id="86e77-192">Допущения по умолчанию для данных: для SRV/CBV: данные \_ статические \_ \_ , при задании \_ во время \_ выполнения и для UAV: Data \_ volatile.</span><span class="sxs-lookup"><span data-stu-id="86e77-192">Default assumptions for data: for SRV/CBV: DATA\_STATIC\_WHILE\_SET\_AT\_EXECUTE, and for UAV: DATA\_VOLATILE.</span></span> <span data-ttu-id="86e77-193">Эти значения по умолчанию для SRV/CBV будут безопасно соответствовать шаблонам использования большинства корневых подписей.</span><span class="sxs-lookup"><span data-stu-id="86e77-193">These defaults for SRV/CBV will safely fit the usage patterns for the majority of root signatures.</span></span>                                                                                              |
| <span data-ttu-id="86e77-194">\_статические данные</span><span class="sxs-lookup"><span data-stu-id="86e77-194">DATA\_STATIC</span></span>                                                   | <span data-ttu-id="86e77-195">Дескрипторы и данные являются статическими.</span><span class="sxs-lookup"><span data-stu-id="86e77-195">Both descriptors and data are static.</span></span> <span data-ttu-id="86e77-196">Это позволяет максимально увеличить возможности оптимизации драйверов.</span><span class="sxs-lookup"><span data-stu-id="86e77-196">This maximizes the potential for driver optimization.</span></span>                                                                                                                                                                                                                                                          |
| <span data-ttu-id="86e77-197">\_временные данные</span><span class="sxs-lookup"><span data-stu-id="86e77-197">DATA\_VOLATILE</span></span>                                                 | <span data-ttu-id="86e77-198">Дескрипторы являются статическими, и данные являются временными.</span><span class="sxs-lookup"><span data-stu-id="86e77-198">Descriptors are static and the data is volatile.</span></span>                                                                                                                                                                                                                                                                                                     |
| <span data-ttu-id="86e77-199">\_статические данные, \_ установленные во время \_ \_ \_ выполнения</span><span class="sxs-lookup"><span data-stu-id="86e77-199">DATA\_STATIC\_WHILE\_SET\_AT\_EXECUTE</span></span>                          | <span data-ttu-id="86e77-200">Дескрипторы являются статическими, и данные статичны, если они заданы во время выполнения.</span><span class="sxs-lookup"><span data-stu-id="86e77-200">Descriptors are static and data is static while set at execute.</span></span>                                                                                                                                                                                                                                                                                      |
| <span data-ttu-id="86e77-201">переменные ДЕСКРИПТОРов \_</span><span class="sxs-lookup"><span data-stu-id="86e77-201">DESCRIPTORS\_VOLATILE</span></span>                                          | <span data-ttu-id="86e77-202">Дескрипторы являются временными и допущены по умолчанию для данных: для SRV/CBV: данные \_ статичны \_ \_ , а \_ \_ для UAV: Data \_ volatile.</span><span class="sxs-lookup"><span data-stu-id="86e77-202">Descriptors are volatile, and default assumptions are made about data: for SRV/CBV: DATA\_STATIC\_WHILE\_SET\_AT\_EXECUTE, and for UAV: DATA\_VOLATILE.</span></span>                                                                                                                                                                                              |
| <span data-ttu-id="86e77-203">переменные с \_ временными \| данными дескрипторов \_</span><span class="sxs-lookup"><span data-stu-id="86e77-203">DESCRIPTORS\_VOLATILE \| DATA\_VOLATILE</span></span>                        | <span data-ttu-id="86e77-204">Дескрипторы и данные являются временными, что эквивалентно корневой подписи 1,0.</span><span class="sxs-lookup"><span data-stu-id="86e77-204">Both descriptors and data are volatile, equivalent to Root Signature 1.0.</span></span>                                                                                                                                                                                                                                                                            |
| <span data-ttu-id="86e77-205">\_ \| статистические данные дескрипторов, \_ статические, \_ при \_ задании \_ во время \_ выполнения</span><span class="sxs-lookup"><span data-stu-id="86e77-205">DESCRIPTORS\_VOLATILE \| DATA\_STATIC\_WHILE\_SET\_AT\_EXECUTE</span></span> | <span data-ttu-id="86e77-206">Дескрипторы являются временными, но обратите внимание, что они по-прежнему не допускают изменения во время выполнения списка команд.</span><span class="sxs-lookup"><span data-stu-id="86e77-206">Descriptors are volatile, but note that still doesn’t allow them to change during command list execution.</span></span> <span data-ttu-id="86e77-207">Таким образом, можно объединить дополнительное объявление о том, что данные статичны во время установки через корневую таблицу дескрипторов во время выполнения — базовые дескрипторы фактически статичны для более длинных, чем ожидаемые для них данные.</span><span class="sxs-lookup"><span data-stu-id="86e77-207">So it is valid to combine the additional declaration that data is static while set via root descriptor table during execution – the underlying descriptors are effectively static for longer than the data is being promised to be static.</span></span> |



 



|                                                   |                                                                                                                                                                                                                   |
|---------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="86e77-208">**Допустимые \_ \_ Параметры флагов корневого ДЕСКРИПТОРа D3D12 \_**</span><span class="sxs-lookup"><span data-stu-id="86e77-208">**Valid D3D12\_ROOT\_DESCRIPTOR\_FLAGS settings**</span></span> | <span data-ttu-id="86e77-209">**Описание**</span><span class="sxs-lookup"><span data-stu-id="86e77-209">**Description**</span></span>                                                                                                                                                                                                   |
| <span data-ttu-id="86e77-210">Флаги не заданы</span><span class="sxs-lookup"><span data-stu-id="86e77-210">No flags set</span></span>                                      | <span data-ttu-id="86e77-211">Допущения по умолчанию для данных: для SRV/CBV: данные \_ статические \_ \_ , при задании \_ во время \_ выполнения и для UAV: Data \_ volatile.</span><span class="sxs-lookup"><span data-stu-id="86e77-211">Default assumptions for data: for SRV/CBV: DATA\_STATIC\_WHILE\_SET\_AT\_EXECUTE, and for UAV: DATA\_VOLATILE.</span></span> <span data-ttu-id="86e77-212">Эти значения по умолчанию для SRV/CBV будут безопасно соответствовать шаблонам использования большинства корневых подписей.</span><span class="sxs-lookup"><span data-stu-id="86e77-212">These defaults for SRV/CBV will safely fit the usage patterns for the majority of root signatures.</span></span> |
| <span data-ttu-id="86e77-213">\_статические данные</span><span class="sxs-lookup"><span data-stu-id="86e77-213">DATA\_STATIC</span></span>                                      | <span data-ttu-id="86e77-214">Данные статичны, лучший потенциал для оптимизации драйверов.</span><span class="sxs-lookup"><span data-stu-id="86e77-214">Data is static, the best potential for driver optimization.</span></span>                                                                                                                                                       |
| <span data-ttu-id="86e77-215">\_статические данные, \_ установленные во время \_ \_ \_ выполнения</span><span class="sxs-lookup"><span data-stu-id="86e77-215">DATA\_STATIC\_WHILE\_SET\_AT\_EXECUTE</span></span>             | <span data-ttu-id="86e77-216">Данные статичны, если они заданы во время выполнения.</span><span class="sxs-lookup"><span data-stu-id="86e77-216">Data is static while set at execute.</span></span>                                                                                                                                                                              |
| <span data-ttu-id="86e77-217">\_временные данные</span><span class="sxs-lookup"><span data-stu-id="86e77-217">DATA\_VOLATILE</span></span>                                    | <span data-ttu-id="86e77-218">Эквивалентно корневой сигнатуре 1,0.</span><span class="sxs-lookup"><span data-stu-id="86e77-218">Equivalent to Root Signature 1.0.</span></span>                                                                                                                                                                                 |



 

## <a name="version-11-api-summary"></a><span data-ttu-id="86e77-219">Сводка API версии 1,1</span><span class="sxs-lookup"><span data-stu-id="86e77-219">Version 1.1 API Summary</span></span>

<span data-ttu-id="86e77-220">Следующие вызовы API включают версию 1,1.</span><span class="sxs-lookup"><span data-stu-id="86e77-220">The following API calls enable version 1.1.</span></span>

### <a name="enums"></a><span data-ttu-id="86e77-221">Перечисления</span><span class="sxs-lookup"><span data-stu-id="86e77-221">Enums</span></span>

<span data-ttu-id="86e77-222">Эти перечисления содержат ключевые флаги для указания дескриптора и изменчивости данных.</span><span class="sxs-lookup"><span data-stu-id="86e77-222">These enumerations contain the key flags to specify descriptor and data volatility.</span></span>

-   <span data-ttu-id="86e77-223">[**D3D \_ \_ \_ Версия корневой сигнатуры**](/windows/desktop/api/d3d12/ne-d3d12-d3d_root_signature_version) : идентификаторы версий.</span><span class="sxs-lookup"><span data-stu-id="86e77-223">[**D3D\_ROOT\_SIGNATURE\_VERSION**](/windows/desktop/api/d3d12/ne-d3d12-d3d_root_signature_version) : version ids.</span></span>
-   <span data-ttu-id="86e77-224">[**D3D12 \_ \_ \_ Флаги диапазона дескрипторов**](/windows/desktop/api/d3d12/ne-d3d12-d3d12_descriptor_range_flags) : диапазон флагов, определяющий, являются ли дескрипторы или данные переменными или статическими.</span><span class="sxs-lookup"><span data-stu-id="86e77-224">[**D3D12\_DESCRIPTOR\_RANGE\_FLAGS**](/windows/desktop/api/d3d12/ne-d3d12-d3d12_descriptor_range_flags) : a range of flags determining if descriptors or data are volatile or static.</span></span>
-   <span data-ttu-id="86e77-225">[**D3D12 \_ \_ \_ ФЛАГи корневого дескриптора**](/windows/desktop/api/d3d12/ne-d3d12-d3d12_root_descriptor_flags) : аналогичный диапазон флагов для [**D3D12 \_ \_ \_ флагов диапазона дескрипторов**](/windows/desktop/api/d3d12/ne-d3d12-d3d12_descriptor_range_flags), за исключением того, что к корневым дескрипторам применяются только флаги данных.</span><span class="sxs-lookup"><span data-stu-id="86e77-225">[**D3D12\_ROOT\_DESCRIPTOR\_FLAGS**](/windows/desktop/api/d3d12/ne-d3d12-d3d12_root_descriptor_flags) : a similar range of flags to [**D3D12\_DESCRIPTOR\_RANGE\_FLAGS**](/windows/desktop/api/d3d12/ne-d3d12-d3d12_descriptor_range_flags), except that only data flags apply to root descriptors.</span></span>

### <a name="structures"></a><span data-ttu-id="86e77-226">Структуры</span><span class="sxs-lookup"><span data-stu-id="86e77-226">Structures</span></span>

<span data-ttu-id="86e77-227">Обновленные структуры (начиная с версии 1,0) содержат ссылки на флаги изменчивости/static.</span><span class="sxs-lookup"><span data-stu-id="86e77-227">Updated structures (from version 1.0) contain references to the volatility/static flags.</span></span>

-   <span data-ttu-id="86e77-228">[**D3D12 \_ \_ \_ Корневая \_ сигнатура данных компонента**](/windows/desktop/api/d3d12/ns-d3d12-d3d12_feature_data_root_signature) . Передайте эту структуру в [**Чеккфеатуресуппорт**](/windows/desktop/api/d3d12/nf-d3d12-id3d12device-checkfeaturesupport) , чтобы проверить поддержку корневой сигнатуры версии 1,1.</span><span class="sxs-lookup"><span data-stu-id="86e77-228">[**D3D12\_FEATURE\_DATA\_ROOT\_SIGNATURE**](/windows/desktop/api/d3d12/ns-d3d12-d3d12_feature_data_root_signature) : pass this structure to [**CheckFeatureSupport**](/windows/desktop/api/d3d12/nf-d3d12-id3d12device-checkfeaturesupport) to check for Root Signature Version 1.1 support.</span></span>
-   <span data-ttu-id="86e77-229">[**D3D12 \_ \_Корневая \_ сигнатура версии \_ DESC**](/windows/desktop/api/d3d12/ns-d3d12-d3d12_versioned_root_signature_desc) : может содержать любую версию описания корневой подписи и предназначенную для использования с функциями сериализации и десериализации, перечисленными ниже.</span><span class="sxs-lookup"><span data-stu-id="86e77-229">[**D3D12\_VERSIONED\_ROOT\_SIGNATURE\_DESC**](/windows/desktop/api/d3d12/ns-d3d12-d3d12_versioned_root_signature_desc) : can hold any version of a root signature description, and is designed to be used with the serialization/deserialization functions listed below.</span></span>
-   <span data-ttu-id="86e77-230">Эти структуры эквивалентны тем, которые используются в версии 1,0, с добавлением новых полей flags для диапазонов дескрипторов и корневых дескрипторов:</span><span class="sxs-lookup"><span data-stu-id="86e77-230">These structures are equivalent to those used in version 1.0, with the addition of new flags fields for descriptor ranges and root descriptors:</span></span>

    -   [<span data-ttu-id="86e77-231">**\_DESC1 корневая \_ подпись \_ D3D12**</span><span class="sxs-lookup"><span data-stu-id="86e77-231">**D3D12\_ROOT\_SIGNATURE\_DESC1**</span></span>](/windows/desktop/api/d3d12/ns-d3d12-d3d12_root_signature_desc1)
    -   [<span data-ttu-id="86e77-232">**\_Высокое дескриптора D3D12 \_**</span><span class="sxs-lookup"><span data-stu-id="86e77-232">**D3D12\_DESCRIPTOR\_RANGE1**</span></span>](/windows/desktop/api/d3d12/ns-d3d12-d3d12_descriptor_range1)
    -   [<span data-ttu-id="86e77-233">**\_Корневой \_ дескриптор D3D12 \_ Таблица1**</span><span class="sxs-lookup"><span data-stu-id="86e77-233">**D3D12\_ROOT\_DESCRIPTOR\_TABLE1**</span></span>](/windows/desktop/api/d3d12/ns-d3d12-d3d12_root_descriptor_table1)
    -   [<span data-ttu-id="86e77-234">**\_Корневой \_ DESCRIPTOR1 D3D12**</span><span class="sxs-lookup"><span data-stu-id="86e77-234">**D3D12\_ROOT\_DESCRIPTOR1**</span></span>](/windows/desktop/api/d3d12/ns-d3d12-d3d12_root_descriptor1)
    -   [<span data-ttu-id="86e77-235">**\_Корневой элемент \_ параметр1 D3D12**</span><span class="sxs-lookup"><span data-stu-id="86e77-235">**D3D12\_ROOT\_PARAMETER1**</span></span>](/windows/desktop/api/d3d12/ns-d3d12-d3d12_root_parameter1)

### <a name="functions"></a><span data-ttu-id="86e77-236">Функции</span><span class="sxs-lookup"><span data-stu-id="86e77-236">Functions</span></span>

<span data-ttu-id="86e77-237">Перечисленные здесь методы заменяют исходные функции [**D3D12SerializeRootSignature**](/windows/desktop/api/d3d12/nf-d3d12-d3d12serializerootsignature) и [**D3D12CreateRootSignatureDeserializer**](/windows/desktop/api/d3d12/nf-d3d12-d3d12createrootsignaturedeserializer) , так как они предназначены для работы с любой версией корневой сигнатуры.</span><span class="sxs-lookup"><span data-stu-id="86e77-237">The methods listed here supersede the original [**D3D12SerializeRootSignature**](/windows/desktop/api/d3d12/nf-d3d12-d3d12serializerootsignature) and [**D3D12CreateRootSignatureDeserializer**](/windows/desktop/api/d3d12/nf-d3d12-d3d12createrootsignaturedeserializer) functions, as they are designed to work on any version of root signature.</span></span> <span data-ttu-id="86e77-238">Сериализованная форма передается в API [**креатерутсигнатуре**](/windows/desktop/api/d3d12/nf-d3d12-id3d12device-createrootsignature) .</span><span class="sxs-lookup"><span data-stu-id="86e77-238">The serialized form is what is passed into the [**CreateRootSignature**](/windows/desktop/api/d3d12/nf-d3d12-id3d12device-createrootsignature) API.</span></span> <span data-ttu-id="86e77-239">Если шейдер был создан с помощью корневой подписи, скомпилированный шейдер уже будет содержать в нем сериализованную корневую подпись.</span><span class="sxs-lookup"><span data-stu-id="86e77-239">If a shader has been authored with a root signature in it, the compiled shader will contain a serialized root signature in it already.</span></span>

-   <span data-ttu-id="86e77-240">[**D3D12SerializeVersionedRootSignature**](/windows/desktop/api/d3d12/nf-d3d12-d3d12serializeversionedrootsignature) : Если приложение выполняет процедурную процедуру создания структуры данных [**\_ \_ корневой \_ подписи с версией D3D12**](/windows/desktop/api/d3d12/ns-d3d12-d3d12_versioned_root_signature_desc) , она должна сделать сериализованную форму с помощью этой функции.</span><span class="sxs-lookup"><span data-stu-id="86e77-240">[**D3D12SerializeVersionedRootSignature**](/windows/desktop/api/d3d12/nf-d3d12-d3d12serializeversionedrootsignature) : if an application procedurally generates the [**D3D12\_VERSIONED\_ROOT\_SIGNATURE**](/windows/desktop/api/d3d12/ns-d3d12-d3d12_versioned_root_signature_desc) data structure, it must make the serialized form using this function.</span></span>
-   <span data-ttu-id="86e77-241">[**D3D12CreateVersionedRootSignatureDeserializer**](/windows/desktop/api/d3d12/nf-d3d12-d3d12createversionedrootsignaturedeserializer) : создает интерфейс, который может возвращать десериализованную структуру данных через [**жетунконвертедрутсигнатуредеск**](/windows/desktop/api/d3d12/nf-d3d12-id3d12versionedrootsignaturedeserializer-getunconvertedrootsignaturedesc).</span><span class="sxs-lookup"><span data-stu-id="86e77-241">[**D3D12CreateVersionedRootSignatureDeserializer**](/windows/desktop/api/d3d12/nf-d3d12-d3d12createversionedrootsignaturedeserializer) : generates an interface that can return the deserialized data structure, via [**GetUnconvertedRootSignatureDesc**](/windows/desktop/api/d3d12/nf-d3d12-id3d12versionedrootsignaturedeserializer-getunconvertedrootsignaturedesc).</span></span>

### <a name="methods"></a><span data-ttu-id="86e77-242">Методы</span><span class="sxs-lookup"><span data-stu-id="86e77-242">Methods</span></span>

<span data-ttu-id="86e77-243">Интерфейс [**ID3D12VersionedRootSignatureDeserializer**](/windows/desktop/api/d3d12/nn-d3d12-id3d12versionedrootsignaturedeserializer) создается для десериализации корневой структуры данных подписи.</span><span class="sxs-lookup"><span data-stu-id="86e77-243">The [**ID3D12VersionedRootSignatureDeserializer**](/windows/desktop/api/d3d12/nn-d3d12-id3d12versionedrootsignaturedeserializer) interface is created to deserialize the root signature data structure.</span></span>

-   <span data-ttu-id="86e77-244">[**Жетрутсигнатуредескатверсион**](/windows/desktop/api/d3d12/nf-d3d12-id3d12versionedrootsignaturedeserializer-getrootsignaturedescatversion) : преобразует структуры описания корневой подписи в запрошенную версию.</span><span class="sxs-lookup"><span data-stu-id="86e77-244">[**GetRootSignatureDescAtVersion**](/windows/desktop/api/d3d12/nf-d3d12-id3d12versionedrootsignaturedeserializer-getrootsignaturedescatversion) : converts root signature description structures to a requested version.</span></span>
-   <span data-ttu-id="86e77-245">[**Жетунконвертедрутсигнатуредеск**](/windows/desktop/api/d3d12/nf-d3d12-id3d12versionedrootsignaturedeserializer-getunconvertedrootsignaturedesc) : возвращает указатель на структуру [**\_ \_ \_ \_ DESC корневой подписи с версией D3D12**](/windows/desktop/api/d3d12/ns-d3d12-d3d12_versioned_root_signature_desc) .</span><span class="sxs-lookup"><span data-stu-id="86e77-245">[**GetUnconvertedRootSignatureDesc**](/windows/desktop/api/d3d12/nf-d3d12-id3d12versionedrootsignaturedeserializer-getunconvertedrootsignaturedesc) : returns a pointer to a [**D3D12\_VERSIONED\_ROOT\_SIGNATURE\_DESC**](/windows/desktop/api/d3d12/ns-d3d12-d3d12_versioned_root_signature_desc) structure.</span></span>

### <a name="helper-structures"></a><span data-ttu-id="86e77-246">Вспомогательные структуры</span><span class="sxs-lookup"><span data-stu-id="86e77-246">Helper structures</span></span>

<span data-ttu-id="86e77-247">Добавлены вспомогательные структуры, помогающие в инициализации некоторых структур версии 1,1.</span><span class="sxs-lookup"><span data-stu-id="86e77-247">Helper structures have been added to aid in the initialization of some of the version 1.1 structures.</span></span>

-   <span data-ttu-id="86e77-248">\_Высокое дескриптора CD3DX12 \_</span><span class="sxs-lookup"><span data-stu-id="86e77-248">CD3DX12\_DESCRIPTOR\_RANGE1</span></span>
-   <span data-ttu-id="86e77-249">\_Корневой элемент \_ параметр1 CD3DX12</span><span class="sxs-lookup"><span data-stu-id="86e77-249">CD3DX12\_ROOT\_PARAMETER1</span></span>
-   <span data-ttu-id="86e77-250">CD3DX12 \_ static \_ SAMPLER1</span><span class="sxs-lookup"><span data-stu-id="86e77-250">CD3DX12\_STATIC\_SAMPLER1</span></span>
-   <span data-ttu-id="86e77-251">CD3DX12 \_ \_ корневая \_ сигнатура с \_ версией</span><span class="sxs-lookup"><span data-stu-id="86e77-251">CD3DX12\_VERSIONED\_ROOT\_SIGNATURE\_DESC</span></span>

<span data-ttu-id="86e77-252">Дополнительные сведения см. в разделе [вспомогательные структуры и функции для D3D12](helper-structures-and-functions-for-d3d12.md).</span><span class="sxs-lookup"><span data-stu-id="86e77-252">Refer to [Helper Structures and Functions for D3D12](helper-structures-and-functions-for-d3d12.md).</span></span>

## <a name="consequences-of-violating-static-ness-flags"></a><span data-ttu-id="86e77-253">Последствия нарушения флагов static-rvalue характеристики</span><span class="sxs-lookup"><span data-stu-id="86e77-253">Consequences of violating static-ness flags</span></span>

<span data-ttu-id="86e77-254">Описанные выше флаги дескриптора и данных (а также значения по умолчанию, подразумеваемые отсутствием определенных флагов) определяют обещание приложения в соответствии с драйвером о том, как он будет работать.</span><span class="sxs-lookup"><span data-stu-id="86e77-254">The descriptor and data flags described above (as well as the defaults implied by the absence of particular flags) define a promise by the application to the driver about how it is going to behave.</span></span> <span data-ttu-id="86e77-255">Если приложение нарушает обещание, это поведение является недопустимым: результаты не определены и могут отличаться в разных драйверах и оборудовании.</span><span class="sxs-lookup"><span data-stu-id="86e77-255">If an application violates the promise, this is invalid behavior: results are undefined and might be different across different drivers and hardware.</span></span>

<span data-ttu-id="86e77-256">Слой отладки имеет параметры для проверки того, что приложения учитывают свои обещания, в том числе по умолчанию, которое поставляется с использованием корневой сигнатуры версии 1,1 без установки флагов.</span><span class="sxs-lookup"><span data-stu-id="86e77-256">The debug layer has options for validating that applications honor their promises, including the default promises that come with using Root Signature version 1.1 without setting any flags.</span></span>

## <a name="version-management"></a><span data-ttu-id="86e77-257">Управление версиями</span><span class="sxs-lookup"><span data-stu-id="86e77-257">Version management</span></span>

<span data-ttu-id="86e77-258">При компиляции корневых подписей, присоединенных к шейдеру, новые компиляторы HLSL по умолчанию будут компилировать корневую подпись в версии 1,1, тогда как старые компиляторы HLSL поддерживают только 1,0.</span><span class="sxs-lookup"><span data-stu-id="86e77-258">When compiling root signatures attached to shaders, newer HLSL compilers will default to compiling the root signature at version 1.1, whereas old HLSL compilers only support 1.0.</span></span> <span data-ttu-id="86e77-259">Обратите внимание, что 1,1. корневые подписи не будут работать в ОС, которая не поддерживает корневую подпись 1,1.</span><span class="sxs-lookup"><span data-stu-id="86e77-259">Note that 1.1 root signatures will not work on OS’s that don’t support root signature 1.1.</span></span>

<span data-ttu-id="86e77-260">Версию корневой сигнатуры, скомпилированную с помощью шейдера, можно принудительно применить к определенной версии с помощью `/force_rootsig_ver <version>` .</span><span class="sxs-lookup"><span data-stu-id="86e77-260">The root signature version compiled with a shader can be forced to a particular version using `/force_rootsig_ver <version>`.</span></span> <span data-ttu-id="86e77-261">Принудительное выполнение версии завершится успешно, если компилятор может сохранить поведение корневой сигнатуры, компилируемой в принудительной версии, например путем удаления неподдерживаемых флагов в корневой подписи, которая обслуживает только для целей оптимизации, но не влияет на поведение.</span><span class="sxs-lookup"><span data-stu-id="86e77-261">Forcing the version will succeed if the compiler can preserve the behavior of the root signature being compiled at the forced version, for example by dropping unsupported flags in the root signature that serve only for optimization purposes but do not affect behavior.</span></span>

<span data-ttu-id="86e77-262">Таким образом, приложение может, например, компилировать корневую подпись 1,1 в 1,0 и 1,1 при сборке приложения и выбирать соответствующую версию во время выполнения в зависимости от уровня поддержки ОС.</span><span class="sxs-lookup"><span data-stu-id="86e77-262">This way an application can, for instance, compile a 1.1 root signature to both 1.0 and 1.1 when building the application and select the appropriate version at runtime depending on the level of OS support.</span></span> <span data-ttu-id="86e77-263">Тем не менее, для приложения можно было бы эффективно компилировать корневые подписи по отдельности (особенно если требуется несколько версий) отдельно от шейдеров.</span><span class="sxs-lookup"><span data-stu-id="86e77-263">It would be most space efficient, however, for an application to compile root signatures individually (particularly if multiple versions are needed), separately from shaders.</span></span> <span data-ttu-id="86e77-264">Даже если шейдеры не были изначально скомпилированы с присоединенной корневой подписью, преимущество проверки совместимости с корневой сигнатурой с шейдером можно сохранить с помощью `/verifyrootsignature` параметра компилятора.</span><span class="sxs-lookup"><span data-stu-id="86e77-264">Even if shaders aren’t initially compiled with a root signature attached, the benefit of compiler validation of root signature compatibility with a shader can be preserved by using the `/verifyrootsignature` compiler option.</span></span> <span data-ttu-id="86e77-265">Позже в среде выполнения псос можно создать с помощью шейдеров, которые не имеют корневых подписей при передаче требуемой корневой подписи (возможно, версия, поддерживаемая операционной системой), как отдельный параметр.</span><span class="sxs-lookup"><span data-stu-id="86e77-265">Later at runtime, PSOs can be created using shaders that don’t have root signatures in them while passing the desired root signature (perhaps the appropriate version supported by the OS) as a separate parameter.</span></span>

## <a name="related-topics"></a><span data-ttu-id="86e77-266">Связанные темы</span><span class="sxs-lookup"><span data-stu-id="86e77-266">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="86e77-267">Создание корневой подписи</span><span class="sxs-lookup"><span data-stu-id="86e77-267">Creating a Root Signature</span></span>](creating-a-root-signature.md)
</dt> <dt>

[<span data-ttu-id="86e77-268">Корневые подписи</span><span class="sxs-lookup"><span data-stu-id="86e77-268">Root Signatures</span></span>](root-signatures.md)
</dt> <dt>

[<span data-ttu-id="86e77-269">Указание корневых подписей в HLSL</span><span class="sxs-lookup"><span data-stu-id="86e77-269">Specifying Root Signatures in HLSL</span></span>](specifying-root-signatures-in-hlsl.md)
</dt> </dl>

 

 




