---
title: Конвейеры и шейдеры с Direct3D 12
description: Программируемый конвейер Direct3D 12 значительно увеличивает производительность отрисовки по сравнению с интерфейсами программирования графики предыдущих поколений.
ms.assetid: 329882F5-D2A9-4D6D-AC3B-29F370D22C97
ms.localizationpriority: high
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 3e2c392b3915443da2f287a5511f3959cbb7179f
ms.sourcegitcommit: af9983bab40fe0b042f177ce7ca79f2eb0f9d0e8
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/06/2021
ms.locfileid: "104548959"
---
# <a name="pipelines-and-shaders-with-direct3d-12"></a>Конвейеры и шейдеры с Direct3D 12

Программируемый конвейер Direct3D 12 значительно увеличивает производительность отрисовки по сравнению с интерфейсами программирования графики предыдущих поколений.

-   [Графический конвейер Direct3D 12](#direct3d-12-graphics-pipeline)
-   [Объекты состояния конвейера](#pipeline-state-objects)
-   [Конвейер вычислений Direct3D 12](#direct3d-12-compute-pipeline)
-   [Связанные темы](#related-topics)

## <a name="direct3d-12-graphics-pipeline"></a>Графический конвейер Direct3D 12

На следующей схеме показан конвейер и состояние графического процесса Direct3D 12.

![Схема, иллюстрирующая конвейер и состояние Direct3D 12](images/pipeline.png)

Графический конвейер — это последовательный поток входных и выходных данных, когда GPU визуализирует кадры. Учитывая состояние конвейера и входные данные, GPU выполняет ряд операций для создания результирующих изображений. Графический конвейер содержит шейдеры, которые выполняют программируемые эффекты отрисовки и вычисления, а операции с фиксированной функцией.

При обращении к схеме состояния конвейера Обратите внимание на следующее:

-   Таблицы дескрипторов и кучи могут быть произвольно упорядочены: СРВС, КБВС и Уавс могут ссылаться и выделяться в любом порядке.
-   Некоторые операции конвейера можно настроить. Например, выходное слияние, как правило, работает с целью чтения, изменения и записи с помощью целевого объекта прорисовки и представлений трафарета глубины. Однако конвейер можно настроить таким образом, чтобы любое из этих представлений было доступно только для чтения или только для записи.
-   Статические пробы не являются частью корневых аргументов, так как они являются статическими.

## <a name="pipeline-state-objects"></a>Объекты состояния конвейера

В Direct3D 12 появился объект состояния конвейера (PSO). Вместо того чтобы хранить и представлять состояние конвейера в большом количестве объектов высокого уровня, состояния компонентов конвейера, таких как входной ассемблер, средство прорисовки, шейдер пикселей и слияние выходных данных, хранятся в PSO. PSO — это унифицированный объект состояния конвейера, который не является изменяемым после создания. Выбранные в настоящее время PSO можно быстро и динамически изменить, а оборудование и драйверы могут напрямую преобразовывать PSO в собственные аппаратные инструкции и состояния, подготавливая графический процессор для обработки графики. Чтобы применить PSO, оборудование копирует минимальный объем предварительно вычисленного состояния непосредственно в реестры оборудования. Это устраняет издержки, вызванные тем, что драйвер графики постоянно пересматривает состояние оборудования, учитывая все применимые параметры отрисовки и конвейера. В результате значительно уменьшается нагрузка на вызовы рисования, повышенная производительность и число вызовов рисования на кадр.

В настоящее время примененные PSO определяют и соединяют все используемые шейдеры в конвейере отрисовки. [Язык шейдеров высокого уровня (Майкрософт) (HLSL)](/windows/desktop/direct3dhlsl/dx-graphics-hlsl) предварительно скомпилирован в объекты шейдера, которые затем используются во время выполнения в качестве входных для объектов состояния конвейера. Дополнительные сведения о функциях PSO в графическом конвейере см. в разделе [Управление состоянием графического конвейера в Direct3D 12](managing-graphics-pipeline-state-in-direct3d-12.md).

## <a name="direct3d-12-compute-pipeline"></a>Конвейер вычислений Direct3D 12

На следующей схеме показан конвейер вычислений Direct3D 12 и его состояние.

![Схема, на которой показан конвейер вычислений Direct3D 12.](images/compute-pipeline.png)

В этом конвейере нет единиц фиксированных функций, однако кучи дескрипторов, кучи образцов и статические пробы по-прежнему доступны в средах выполнения вычислений.

## <a name="related-topics"></a>Связанные темы

<dl> <dt>

[Отправка рабочих заданий в Direct3D 12](command-queues-and-command-lists.md)
</dt> </dl>

 

 