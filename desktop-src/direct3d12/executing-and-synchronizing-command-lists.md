---
title: Выполнение и синхронизация списков команд
description: В Microsoft Direct3D 12 режим интерпретации предыдущих версий больше не существует.
ms.assetid: D5013102-2302-4D66-8F59-079C03BA65FD
keywords:
- Список команд
- синхронизация
- выполнение
ms.localizationpriority: high
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 90d5362d0f093c7c1034e03d396ad28c40d4d600
ms.sourcegitcommit: 170bc12e9724d00cecbb96d57c7226c51e135dee
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/07/2021
ms.locfileid: "113489182"
---
# <a name="executing-and-synchronizing-command-lists"></a><span data-ttu-id="ae819-106">Выполнение и синхронизация списков команд</span><span class="sxs-lookup"><span data-stu-id="ae819-106">Executing and Synchronizing Command Lists</span></span>

<span data-ttu-id="ae819-107">В Microsoft Direct3D 12 режим интерпретации предыдущих версий больше не существует.</span><span class="sxs-lookup"><span data-stu-id="ae819-107">In Microsoft Direct3D 12, the immediate mode of previous versions is no longer present.</span></span> <span data-ttu-id="ae819-108">Вместо этого приложения создают списки команд и пакеты, а затем записывают наборы команд GPU.</span><span class="sxs-lookup"><span data-stu-id="ae819-108">Instead, apps create command lists and bundles and then record sets of GPU commands.</span></span> <span data-ttu-id="ae819-109">Очереди команд используются для отправки списков команд для выполнения.</span><span class="sxs-lookup"><span data-stu-id="ae819-109">Command queues are used to submit command lists to be executed.</span></span> <span data-ttu-id="ae819-110">Эта модель позволяет разработчикам более эффективно контролировать эффективное использование графических процессоров и ЦП.</span><span class="sxs-lookup"><span data-stu-id="ae819-110">This model allows developers to have more control over the efficient usage of both graphics processing unit (GPU) and CPU.</span></span>

-   [<span data-ttu-id="ae819-111">Общие сведения о очереди команд</span><span class="sxs-lookup"><span data-stu-id="ae819-111">Command queue overview</span></span>](#command-queue-overview)
-   [<span data-ttu-id="ae819-112">Инициализация очереди команд</span><span class="sxs-lookup"><span data-stu-id="ae819-112">Initializing a command queue</span></span>](#initializing-a-command-queue)
-   [<span data-ttu-id="ae819-113">Выполняя списки команд</span><span class="sxs-lookup"><span data-stu-id="ae819-113">Executing command Lists</span></span>](#executing-command-lists)
-   [<span data-ttu-id="ae819-114">Доступ к ресурсам из нескольких командных очередей</span><span class="sxs-lookup"><span data-stu-id="ae819-114">Accessing resources from multiple command queues</span></span>](#accessing-resources-from-multiple-command-queues)
-   [<span data-ttu-id="ae819-115">Синхронизация выполнения списка команд с помощью ограждений очереди команд</span><span class="sxs-lookup"><span data-stu-id="ae819-115">Synchronizing command list execution using command queue fences</span></span>](#synchronizing-command-list-execution-using-command-queue-fences)
-   [<span data-ttu-id="ae819-116">Синхронизация ресурсов, к которым обращаются очереди команд</span><span class="sxs-lookup"><span data-stu-id="ae819-116">Synchronizing resources accessed by command queues</span></span>](#synchronizing-resources-accessed-by-command-queues)
-   [<span data-ttu-id="ae819-117">Поддержка очереди команд для мозаичных ресурсов</span><span class="sxs-lookup"><span data-stu-id="ae819-117">Command queue support for tiled resources</span></span>](#command-queue-support-for-tiled-resources)
-   [<span data-ttu-id="ae819-118">См. также</span><span class="sxs-lookup"><span data-stu-id="ae819-118">Related topics</span></span>](#related-topics)

## <a name="command-queue-overview"></a><span data-ttu-id="ae819-119">Общие сведения о очереди команд</span><span class="sxs-lookup"><span data-stu-id="ae819-119">Command queue overview</span></span>

<span data-ttu-id="ae819-120">Командная очередь Direct3D 12 заменяет синхронизацию среды выполнения и драйвера для отправки работы в режиме интерпретации, ранее недоступную разработчику, с интерфейсами API для явного управления параллелизмом, параллелизмом и синхронизацией.</span><span class="sxs-lookup"><span data-stu-id="ae819-120">Direct3D 12 command queues replace runtime and driver synchronization of immediate mode work submission, previously not-exposed to the developer, with APIs for explicitly managing concurrency, parallelism and synchronization.</span></span> <span data-ttu-id="ae819-121">Очереди команд предоставляют разработчикам следующие усовершенствования.</span><span class="sxs-lookup"><span data-stu-id="ae819-121">Command queues provide the following improvements for developers:</span></span>

-   <span data-ttu-id="ae819-122">Позволяет разработчикам избежать случайных неэффективностей, вызванных непредвиденной синхронизацией.</span><span class="sxs-lookup"><span data-stu-id="ae819-122">Allows developers to avoid accidental inefficiencies caused by unexpected synchronization.</span></span>
-   <span data-ttu-id="ae819-123">Позволяет разработчикам создавать синхронизацию на более высоком уровне, где требуемая синхронизация может быть определена более эффективно и точнее.</span><span class="sxs-lookup"><span data-stu-id="ae819-123">Allows developers to introduce synchronization at a higher level where the required synchronization can be determined more efficiently and accurately.</span></span> <span data-ttu-id="ae819-124">Это означает, что среда выполнения и графический драйвер будут тратить меньше времени на интерактивное проектирование параллелизма.</span><span class="sxs-lookup"><span data-stu-id="ae819-124">This means the runtime and the graphics driver will spend less time reactively engineering parallelism.</span></span>
-   <span data-ttu-id="ae819-125">Делает дорогостоящие операции более явными.</span><span class="sxs-lookup"><span data-stu-id="ae819-125">Makes expensive operations more explicit.</span></span>

<span data-ttu-id="ae819-126">Эти улучшения включают или улучшают следующие сценарии:</span><span class="sxs-lookup"><span data-stu-id="ae819-126">These improvements enable or enhance the following scenarios:</span></span>

-   <span data-ttu-id="ae819-127">Повышенный параллелизм. приложения могут использовать более глубокие очереди для фоновых рабочих нагрузок, таких как декодирование видео, если они имеют отдельные очереди для выполнения задач переднего плана.</span><span class="sxs-lookup"><span data-stu-id="ae819-127">Increased parallelism - Applications can use deeper queues for background workloads, such as video decoding, when they have separate queues for foreground work.</span></span>
-   <span data-ttu-id="ae819-128">Работа GPU с асинхронным и низким приоритетом. модель очереди команд обеспечивает параллельное выполнение работы GPU с низким приоритетом и атомарных операций, позволяющих одному потоку GPU использовать результаты другого несинхронизированного потока без блокировки.</span><span class="sxs-lookup"><span data-stu-id="ae819-128">Asynchronous and low-priority GPU work - The command queue model enables concurrent execution of low-priority GPU work and atomic operations that enable one GPU thread to consume the results of another unsynchronized thread without blocking.</span></span>
-   <span data-ttu-id="ae819-129">Высокоприоритетная вычислительная работа. Эта схема позволяет выполнять сценарии, требующие прерывания трехмерной отрисовки для выполнения небольшого объема вычислительных операций с высоким приоритетом, чтобы результат можно было получить на ранней стадии для дополнительной обработки ЦП.</span><span class="sxs-lookup"><span data-stu-id="ae819-129">High-priority compute work - This design enables scenarios that require interrupting 3D rendering to do a small amount of high-priority compute work so that the result can be obtained early for additional processing on the CPU.</span></span>

## <a name="initializing-a-command-queue"></a><span data-ttu-id="ae819-130">Инициализация очереди команд</span><span class="sxs-lookup"><span data-stu-id="ae819-130">Initializing a command queue</span></span>

<span data-ttu-id="ae819-131">Очереди команд можно создать путем вызова [**ID3D12Device:: креатекоммандкуеуе**](/windows/desktop/api/d3d12/nf-d3d12-id3d12device-createcommandqueue).</span><span class="sxs-lookup"><span data-stu-id="ae819-131">Command queues can be created by calling [**ID3D12Device::CreateCommandQueue**](/windows/desktop/api/d3d12/nf-d3d12-id3d12device-createcommandqueue).</span></span> <span data-ttu-id="ae819-132">Этот метод принимает [**\_ \_ список команд \_ D3D12**](/windows/desktop/api/d3d12/ne-d3d12-d3d12_command_list_type) , указывающий тип создаваемой очереди, и, следовательно, тип команд, которые могут быть переданы в эту очередь.</span><span class="sxs-lookup"><span data-stu-id="ae819-132">This method takes a [**D3D12\_COMMAND\_LIST\_TYPE**](/windows/desktop/api/d3d12/ne-d3d12-d3d12_command_list_type) indicating what type of queue should be created, and therefore, what type of commands can be submitted to that queue.</span></span> <span data-ttu-id="ae819-133">Помните, что пакеты могут вызываться только из списков прямых команд и не могут быть переданы непосредственно в очередь.</span><span class="sxs-lookup"><span data-stu-id="ae819-133">Remember that bundles can only be called from direct command lists and can't be submitted directly to a queue.</span></span> <span data-ttu-id="ae819-134">Поддерживаются следующие типы очереди:</span><span class="sxs-lookup"><span data-stu-id="ae819-134">The supported queue types are:</span></span>

-   [<span data-ttu-id="ae819-135">**\_ \_ Тип списка команд \_ D3D12 \_ Direct**</span><span class="sxs-lookup"><span data-stu-id="ae819-135">**D3D12\_COMMAND\_LIST\_TYPE\_DIRECT**</span></span>](/windows/desktop/api/d3d12/ne-d3d12-d3d12_command_list_type)
-   [<span data-ttu-id="ae819-136">**\_ \_ \_ Вычисление типа списка команд D3D12 \_**</span><span class="sxs-lookup"><span data-stu-id="ae819-136">**D3D12\_COMMAND\_LIST\_TYPE\_COMPUTE**</span></span>](/windows/desktop/api/d3d12/ne-d3d12-d3d12_command_list_type)
-   [<span data-ttu-id="ae819-137">**\_ \_ \_ Копирование типа списка команд \_ D3D12**</span><span class="sxs-lookup"><span data-stu-id="ae819-137">**D3D12\_COMMAND\_LIST\_TYPE\_COPY**</span></span>](/windows/desktop/api/d3d12/ne-d3d12-d3d12_command_list_type)

<span data-ttu-id="ae819-138">В общем случае прямые очереди и списки команд принимают любые команды, вычисляют очереди и списки команд принимают команды COMPUTE и Copy, а копии очередей и команд принимают только команды Copy.</span><span class="sxs-lookup"><span data-stu-id="ae819-138">In general, DIRECT queues and command lists accept any command, COMPUTE queues and command lists accept compute and copy related commands, and COPY queues and command lists accept only copy commands.</span></span>

## <a name="executing-command-lists"></a><span data-ttu-id="ae819-139">Выполняя списки команд</span><span class="sxs-lookup"><span data-stu-id="ae819-139">Executing command Lists</span></span>

<span data-ttu-id="ae819-140">После того как вы записали список команд и извлекли очередь команд по умолчанию или создали новую, вы выполните списки команд, вызвав [**ID3D12CommandQueue:: ексекутекоммандлистс**](/windows/desktop/api/d3d12/nf-d3d12-id3d12commandqueue-executecommandlists).</span><span class="sxs-lookup"><span data-stu-id="ae819-140">After you have recorded a command list and either retrieved the default command queue or created a new one, you execute command lists by calling [**ID3D12CommandQueue::ExecuteCommandLists**](/windows/desktop/api/d3d12/nf-d3d12-id3d12commandqueue-executecommandlists).</span></span>

<span data-ttu-id="ae819-141">Приложения могут отправлять списки команд в любую очередь команд из нескольких потоков.</span><span class="sxs-lookup"><span data-stu-id="ae819-141">Applications can submit command lists to any command queue from multiple threads.</span></span> <span data-ttu-id="ae819-142">Среда выполнения будет выполнять работу по сериализации этих запросов в порядке их отправки.</span><span class="sxs-lookup"><span data-stu-id="ae819-142">The runtime will perform the work of serializing these requests in the order of submission.</span></span>

<span data-ttu-id="ae819-143">Среда выполнения проверит отправленный список команд и удалит вызов [**ексекутекоммандлистс**](/windows/desktop/api/d3d12/nf-d3d12-id3d12commandqueue-executecommandlists) , если нарушены какие либо ограничения.</span><span class="sxs-lookup"><span data-stu-id="ae819-143">The runtime will validate the submitted command list and will drop the call to [**ExecuteCommandLists**](/windows/desktop/api/d3d12/nf-d3d12-id3d12commandqueue-executecommandlists) if any of the restrictions are violated.</span></span> <span data-ttu-id="ae819-144">Вызовы будут удалены по следующим причинам:</span><span class="sxs-lookup"><span data-stu-id="ae819-144">Calls will be dropped for the following reasons:</span></span>

-   <span data-ttu-id="ae819-145">Указанный список команд — это набор, а не прямой список команд.</span><span class="sxs-lookup"><span data-stu-id="ae819-145">The supplied command list is a bundle, not a direct command list.</span></span>
-   <span data-ttu-id="ae819-146">[**ID3D12GraphicsCommandList:: Close**](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-close) не был вызван в списке предоставленных команд для завершения записи.</span><span class="sxs-lookup"><span data-stu-id="ae819-146">[**ID3D12GraphicsCommandList::Close**](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-close) has not been called on the supplied command list to complete recording.</span></span>
-   <span data-ttu-id="ae819-147">[**ID3D12CommandAllocator:: Reset**](/windows/desktop/api/d3d12/nf-d3d12-id3d12commandallocator-reset) был вызван для распределителя команд, связанного с списком команд, так как он записан.</span><span class="sxs-lookup"><span data-stu-id="ae819-147">[**ID3D12CommandAllocator::Reset**](/windows/desktop/api/d3d12/nf-d3d12-id3d12commandallocator-reset) has been called on the command allocator associated with the command list since it was recorded.</span></span> <span data-ttu-id="ae819-148">Дополнительные сведения о распределителях команд см. в разделе [Создание и запись списков команд и пакетов](recording-command-lists-and-bundles.md).</span><span class="sxs-lookup"><span data-stu-id="ae819-148">For more information about command allocators, see [Creating and recording command lists and bundles](recording-command-lists-and-bundles.md).</span></span>
-   <span data-ttu-id="ae819-149">Граница очереди команд указывает на то, что предыдущее выполнение списка команд еще не завершено.</span><span class="sxs-lookup"><span data-stu-id="ae819-149">The command queue fence indicates that a previous execution of the command list has not yet completed.</span></span> <span data-ttu-id="ae819-150">Границы очереди команд подробно описаны ниже.</span><span class="sxs-lookup"><span data-stu-id="ae819-150">Command queue fences are discussed in detail below.</span></span>
-   <span data-ttu-id="ae819-151">Состояния запросов "до" и "после", установленные с вызовами [**ID3D12GraphicsCommandList:: бегинкуери**](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-beginquery) и [**ID3D12GraphicsCommandList:: ендкуери**](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-endquery), не будут правильно сопоставлены.</span><span class="sxs-lookup"><span data-stu-id="ae819-151">The before and after states of queries, set with calls to [**ID3D12GraphicsCommandList::BeginQuery**](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-beginquery) and [**ID3D12GraphicsCommandList::EndQuery**](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-endquery), are not matched properly.</span></span>
-   <span data-ttu-id="ae819-152">Состояния "до" и "после" барьеров переключения ресурсов не совпадают должным образом.</span><span class="sxs-lookup"><span data-stu-id="ae819-152">The before and after states of resource transition barriers are not matched properly.</span></span> <span data-ttu-id="ae819-153">Дополнительные сведения см. [в статье использование барьеров ресурсов для синхронизации состояний ресурсов](using-resource-barriers-to-synchronize-resource-states-in-direct3d-12.md).</span><span class="sxs-lookup"><span data-stu-id="ae819-153">For more information, see [Using resource barriers to synchronize resource states](using-resource-barriers-to-synchronize-resource-states-in-direct3d-12.md).</span></span>

## <a name="accessing-resources-from-multiple-command-queues"></a><span data-ttu-id="ae819-154">Доступ к ресурсам из нескольких командных очередей</span><span class="sxs-lookup"><span data-stu-id="ae819-154">Accessing resources from multiple command queues</span></span>

<span data-ttu-id="ae819-155">Существует несколько правил, установленных средой выполнения, которые ограничивают доступ к ресурсам из нескольких командных очередей.</span><span class="sxs-lookup"><span data-stu-id="ae819-155">There are a couple of rules imposed by the runtime that restrict the access of resources from multiple command queues.</span></span> <span data-ttu-id="ae819-156">Ниже приведены эти правила.</span><span class="sxs-lookup"><span data-stu-id="ae819-156">These rules are as follows:</span></span>

1. <span data-ttu-id="ae819-157">Невозможно одновременно записать ресурс из нескольких командных очередей.</span><span class="sxs-lookup"><span data-stu-id="ae819-157">A resource cannot be written to from multiple command queues simultaneously.</span></span> <span data-ttu-id="ae819-158">Когда ресурс переходит в состояние, записываемый в очередь, он считается монопольно принадлежащим этой очереди и должен переходить в режим чтения или общего состояния (см. [**D3D12_RESOURCE_STATES**](/windows/desktop/api/d3d12/ne-d3d12-d3d12_resource_states)), прежде чем доступ к нему может получить другая очередь.</span><span class="sxs-lookup"><span data-stu-id="ae819-158">When a resource has transitioned to a writeable state on a queue, it is considered exclusively owned by that queue, and must transition to a read or COMMON state (refer to [**D3D12_RESOURCE_STATES**](/windows/desktop/api/d3d12/ne-d3d12-d3d12_resource_states)) before it can be accessed by another queue.</span></span>

2. <span data-ttu-id="ae819-159">Когда находится в состоянии Read, ресурс может быть считан из нескольких командных очередей одновременно, в том числе между процессами, в зависимости от состояния чтения.</span><span class="sxs-lookup"><span data-stu-id="ae819-159">When in a read state, a resource can be read from multiple command queues simultaneously, including across processes, based on its read state.</span></span>

<span data-ttu-id="ae819-160">Дополнительные сведения об ограничениях доступа к ресурсам и использовании барьеров ресурсов для синхронизации доступа к ресурсам см. в статье [использование барьеров ресурсов для синхронизации состояний ресурсов](using-resource-barriers-to-synchronize-resource-states-in-direct3d-12.md).</span><span class="sxs-lookup"><span data-stu-id="ae819-160">For more information about resource access restrictions and using resource barriers to synchronize access to resources, see [Using resource barriers to synchronize resource states](using-resource-barriers-to-synchronize-resource-states-in-direct3d-12.md).</span></span>

## <a name="synchronizing-command-list-execution-using-command-queue-fences"></a><span data-ttu-id="ae819-161">Синхронизация выполнения списка команд с помощью ограждений очереди команд</span><span class="sxs-lookup"><span data-stu-id="ae819-161">Synchronizing command list execution using command queue fences</span></span>

<span data-ttu-id="ae819-162">Поддержка нескольких очередей параллельных команд в Direct3D 12 обеспечивает более гибкое и управляемое определение приоритетов асинхронной работы на GPU.</span><span class="sxs-lookup"><span data-stu-id="ae819-162">The support for multiple parallel command queues in Direct3D 12 gives you more flexibility and control over the prioritization of asynchronous work on the GPU.</span></span> <span data-ttu-id="ae819-163">Такая схема также означает, что приложения должны явно управлять синхронизацией работы, особенно если списки команд в одной очереди зависят от ресурсов, на которые осуществляется другая очередь команд.</span><span class="sxs-lookup"><span data-stu-id="ae819-163">This design also means that apps need to explicitly manage the synchronization of work, especially when the command lists in one queue depend on resources that are being operated on by another command queue.</span></span> <span data-ttu-id="ae819-164">Некоторые примеры включают ожидание завершения операции в очереди вычислений, чтобы результат можно было использовать для операции отрисовки в трехмерной очереди, и ожидание завершения трехмерной операции, чтобы операция в очереди вычислений могла получить доступ к ресурсу для записи.</span><span class="sxs-lookup"><span data-stu-id="ae819-164">Some examples of this include waiting for an operation on a compute queue to complete so that the result can be used for a rendering operation on the 3D queue, and waiting for a 3D operation to complete so that an operation on the compute queue can access a resource for writing.</span></span> <span data-ttu-id="ae819-165">Чтобы обеспечить синхронизацию работы между очередями, Direct3D 12 использует концепцию ограждений, которые представлены в API интерфейсом [**ID3D12Fence**](/windows/desktop/api/d3d12/nn-d3d12-id3d12fence) .</span><span class="sxs-lookup"><span data-stu-id="ae819-165">To enable the synchronization of work between queues, Direct3D 12 uses the concept of fences, which are represented in the API by the [**ID3D12Fence**](/windows/desktop/api/d3d12/nn-d3d12-id3d12fence) interface.</span></span>

<span data-ttu-id="ae819-166">Ограждение — это целое число, представляющее текущую обрабатываемую единицу работы.</span><span class="sxs-lookup"><span data-stu-id="ae819-166">A fence is an integer that represents the current unit of work being processed.</span></span> <span data-ttu-id="ae819-167">Когда приложение перемещает ограждение, вызывая [**ID3D12CommandQueue:: Signal**](/windows/desktop/api/d3d12/nf-d3d12-id3d12commandqueue-signal), целое число обновляется.</span><span class="sxs-lookup"><span data-stu-id="ae819-167">When the app advances the fence, by calling [**ID3D12CommandQueue::Signal**](/windows/desktop/api/d3d12/nf-d3d12-id3d12commandqueue-signal), the integer is updated.</span></span> <span data-ttu-id="ae819-168">Приложения могут проверить значение ограждения и определить, была ли выполнена работающая единица, чтобы решить, можно запустить последующую операцию.</span><span class="sxs-lookup"><span data-stu-id="ae819-168">Apps can check the value of a fence and determine if a unit of work has been completed in order to decide whether a subsequent operation can be started.</span></span>

## <a name="synchronizing-resources-accessed-by-command-queues"></a><span data-ttu-id="ae819-169">Синхронизация ресурсов, к которым обращаются очереди команд</span><span class="sxs-lookup"><span data-stu-id="ae819-169">Synchronizing resources accessed by command queues</span></span>

<span data-ttu-id="ae819-170">В Direct3D 12 Синхронизация состояния некоторых ресурсов реализуется с помощью барьеров ресурсов.</span><span class="sxs-lookup"><span data-stu-id="ae819-170">In Direct3D 12, synchronizing the state of some resources is implemented with resource barriers.</span></span> <span data-ttu-id="ae819-171">В каждом барьере ресурсов приложение объявляет состояния ресурса до и после.</span><span class="sxs-lookup"><span data-stu-id="ae819-171">At each resource barrier, an app declares the before and after states of a resource.</span></span> <span data-ttu-id="ae819-172">Распространенный пример: ресурс для перехода между представлением ресурсов шейдера в представление целевого объекта прорисовки.</span><span class="sxs-lookup"><span data-stu-id="ae819-172">A common example is for a resource to transition between a shader resource view to a render target view.</span></span> <span data-ttu-id="ae819-173">Для большей части эти барьеры ресурсов управляются в списках команд.</span><span class="sxs-lookup"><span data-stu-id="ae819-173">For the most part, these resource barriers are managed within command lists.</span></span> <span data-ttu-id="ae819-174">Если отладочные слои включены, система принудительно применяет все состояния до и после всех соответствующих ресурсов, гарантируя, что ресурс находится в правильном состоянии для определенной операции при переходе барьера.</span><span class="sxs-lookup"><span data-stu-id="ae819-174">When the debug layers are enabled, the system enforces that the before and after states of all resources match up, guaranteeing that the resource is in the correct state for a particular operation at a barrier transition.</span></span>

<span data-ttu-id="ae819-175">Дополнительные сведения о синхронизации состояния ресурсов см. в статье [использование барьеров ресурсов для синхронизации состояний ресурсов](using-resource-barriers-to-synchronize-resource-states-in-direct3d-12.md).</span><span class="sxs-lookup"><span data-stu-id="ae819-175">For more information about synchronizing resource state, see [Using resource barriers to synchronize resource states](using-resource-barriers-to-synchronize-resource-states-in-direct3d-12.md).</span></span>

## <a name="command-queue-support-for-tiled-resources"></a><span data-ttu-id="ae819-176">Поддержка очереди команд для мозаичных ресурсов</span><span class="sxs-lookup"><span data-stu-id="ae819-176">Command queue support for tiled resources</span></span>

<span data-ttu-id="ae819-177">Методы управления мозаичными ресурсами, которые были доступны через интерфейс [**ID3D11DeviceContext2**](/windows/desktop/api/d3d11_2/nn-d3d11_2-id3d11devicecontext2) в Direct3D 11, предоставляются интерфейсом [**ID3D12CommandQueue**](/windows/desktop/api/d3d12/nn-d3d12-id3d12commandqueue) в Direct3D 12.</span><span class="sxs-lookup"><span data-stu-id="ae819-177">Methods for managing tiled resources, which were exposed through the [**ID3D11DeviceContext2**](/windows/desktop/api/d3d11_2/nn-d3d11_2-id3d11devicecontext2) interface in Direct3D 11, are provided by the [**ID3D12CommandQueue**](/windows/desktop/api/d3d12/nn-d3d12-id3d12commandqueue) interface in Direct3D 12.</span></span> <span data-ttu-id="ae819-178">Эти способы включают перечисленные ниже.</span><span class="sxs-lookup"><span data-stu-id="ae819-178">These methods include:</span></span>



| <span data-ttu-id="ae819-179">Метод</span><span class="sxs-lookup"><span data-stu-id="ae819-179">Method</span></span>                                                              | <span data-ttu-id="ae819-180">Описание</span><span class="sxs-lookup"><span data-stu-id="ae819-180">Description</span></span>                                                                                              |
|---------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="ae819-181">**CopyTileMappings**</span><span class="sxs-lookup"><span data-stu-id="ae819-181">**CopyTileMappings**</span></span>](/windows/desktop/api/d3d12/nf-d3d12-id3d12commandqueue-copytilemappings)     | <span data-ttu-id="ae819-182">Копирует сопоставления из исходного мозаичного ресурса в целевой мозаичный ресурс.</span><span class="sxs-lookup"><span data-stu-id="ae819-182">Copies mappings from a source tiled resource to a destination tiled resource.</span></span><br/>                 |
| [<span data-ttu-id="ae819-183">**UpdateTileMappings**</span><span class="sxs-lookup"><span data-stu-id="ae819-183">**UpdateTileMappings**</span></span>](/windows/desktop/api/d3d12/nf-d3d12-id3d12commandqueue-updatetilemappings) | <span data-ttu-id="ae819-184">Обновляет сопоставления расположений плиток в мозаичных ресурсах в местах памяти в куче ресурсов.</span><span class="sxs-lookup"><span data-stu-id="ae819-184">Updates mappings of tile locations in tiled resources to memory locations in a resource heap.</span></span><br/> |



 

<span data-ttu-id="ae819-185">Дополнительные сведения об использовании мозаичных ресурсов в приложениях Direct3D 12 см. в разделе [Direct3D11 мозаичные ресурсы](/windows/desktop/direct3d11/tiled-resources).</span><span class="sxs-lookup"><span data-stu-id="ae819-185">For more information about using tiled resources in Direct3D 12 apps, refer to [Direct3D11 Tiled Resources](/windows/desktop/direct3d11/tiled-resources).</span></span>

## <a name="related-topics"></a><span data-ttu-id="ae819-186">Связанные темы</span><span class="sxs-lookup"><span data-stu-id="ae819-186">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="ae819-187">Отправка работы в Direct3D 12</span><span class="sxs-lookup"><span data-stu-id="ae819-187">Work Submission in Direct3D 12</span></span>](command-queues-and-command-lists.md)
</dt> </dl>

 

