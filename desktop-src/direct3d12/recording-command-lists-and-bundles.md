---
title: Создание и запись списков команд и пакетов
description: В этом разделе описывается запись списков команд и пакетов в приложениях Direct3D 12. Список команд позволяет приложениям записывать вызовы рисования или изменения состояния для последующего выполнения в графическом процессоре (GPU).
ms.assetid: 0074B796-33A4-4AA1-A4E7-48A2A63F25B7
ms.localizationpriority: high
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: d5ef2b54138cf3a08b85e3e8cc31f97cbe66abf6
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/20/2020
ms.locfileid: "104549003"
---
# <a name="creating-and-recording-command-lists-and-bundles"></a><span data-ttu-id="a5a56-104">Создание и запись списков команд и пакетов</span><span class="sxs-lookup"><span data-stu-id="a5a56-104">Creating and recording command lists and bundles</span></span>

<span data-ttu-id="a5a56-105">В этом разделе описывается запись списков команд и пакетов в приложениях Direct3D 12.</span><span class="sxs-lookup"><span data-stu-id="a5a56-105">This topic describes recording command lists and bundles in Direct3D 12 apps.</span></span> <span data-ttu-id="a5a56-106">Список команд позволяет приложениям записывать вызовы рисования или изменения состояния для последующего выполнения в графическом процессоре (GPU).</span><span class="sxs-lookup"><span data-stu-id="a5a56-106">Command lists and bundles both allow apps to record drawing or state-changing calls for later execution on the graphics processing unit (GPU).</span></span>

<span data-ttu-id="a5a56-107">Помимо списков команд, функциональные возможности API используются в оборудовании GPU путем добавления второго уровня списков команд, которые называются *пакетами*.</span><span class="sxs-lookup"><span data-stu-id="a5a56-107">Beyond command lists, the API exploits functionality present in GPU hardware by adding a second level of command lists, which are referred to as *bundles*.</span></span> <span data-ttu-id="a5a56-108">Назначение пакетов заключается в том, чтобы позволить приложениям группировать небольшое количество команд API для последующего выполнения.</span><span class="sxs-lookup"><span data-stu-id="a5a56-108">The purpose of bundles is to allow apps to group a small number of API commands together for later execution.</span></span> <span data-ttu-id="a5a56-109">Во время создания пакета драйвер будет выполнять как можно более предварительную обработку, чтобы эти дешевые выполнялись позже.</span><span class="sxs-lookup"><span data-stu-id="a5a56-109">At bundle creation time, the driver will perform as much pre-processing as is possible to make these cheap to execute later.</span></span> <span data-ttu-id="a5a56-110">Пакеты предназначены для использования и повторного использования в любое количество раз.</span><span class="sxs-lookup"><span data-stu-id="a5a56-110">Bundles are designed to be used and re-used any number of times.</span></span> <span data-ttu-id="a5a56-111">Списки команд, с другой стороны, обычно выполняются только один раз.</span><span class="sxs-lookup"><span data-stu-id="a5a56-111">Command lists, on the other hand, are typically executed only a single time.</span></span> <span data-ttu-id="a5a56-112">Однако список команд *может* выполняться несколько раз (если приложение гарантирует, что предыдущие выполнения будут завершены перед отправкой новых выполнений).</span><span class="sxs-lookup"><span data-stu-id="a5a56-112">However, a command list *can* be executed multiple times (as long as the application ensures that the previous executions have completed before submitting new executions).</span></span>

<span data-ttu-id="a5a56-113">Как правило, сборка вызовов API в пакеты, вызовы API и пакеты в списки команд и списки команд в одном кадре показана на следующей схеме, что означает повторное использование **пакета 1** из **списка команд 1** и **списка команд 2** и то, что имена методов API на схеме являются так же, как и примеры, можно использовать множество различных вызовов API.</span><span class="sxs-lookup"><span data-stu-id="a5a56-113">Typically though, the build up of API calls into bundles, and API calls and bundles into command lists, and command lists into a single frame, is shown in the following diagram, noting the reuse of **Bundle 1** in **Command list 1** and **Command list 2**, and that the API method names in the diagram are just as examples, many different API calls can be used.</span></span>

![Создание команд, пакетов и списков команд в кадрах](images/gpu-workitems.png)

<span data-ttu-id="a5a56-115">Существуют различные ограничения для создания и выполнения пакетов и прямых списков команд, и эти различия отмечены в этом разделе.</span><span class="sxs-lookup"><span data-stu-id="a5a56-115">There are different restrictions for creating and executing bundles and direct command lists, and these differences are noted throughout this topic.</span></span>

## <a name="creating-command-lists"></a><span data-ttu-id="a5a56-116">Создание списков команд</span><span class="sxs-lookup"><span data-stu-id="a5a56-116">Creating command lists</span></span>

<span data-ttu-id="a5a56-117">Списки прямых команд и пакетов создаются путем вызова [**ID3D12Device:: креатекоммандлист**](/windows/win32/api/d3d12/nf-d3d12-id3d12device-createcommandlist) или [**ID3D12Device4:: CreateCommandList1**](/windows/win32/api/d3d12/nf-d3d12-id3d12device4-createcommandlist1).</span><span class="sxs-lookup"><span data-stu-id="a5a56-117">Direct command lists and bundles are created by calling [**ID3D12Device::CreateCommandList**](/windows/win32/api/d3d12/nf-d3d12-id3d12device-createcommandlist) or [**ID3D12Device4::CreateCommandList1**](/windows/win32/api/d3d12/nf-d3d12-id3d12device4-createcommandlist1).</span></span>

<span data-ttu-id="a5a56-118">Используйте [**ID3D12Device4:: CreateCommandList1**](/windows/win32/api/d3d12/nf-d3d12-id3d12device4-createcommandlist1) , чтобы создать список закрытых команд, а не создавать новый список и сразу же закрывать его.</span><span class="sxs-lookup"><span data-stu-id="a5a56-118">Use [**ID3D12Device4::CreateCommandList1**](/windows/win32/api/d3d12/nf-d3d12-id3d12device4-createcommandlist1) to create a closed command list, rather than creating a new list and immediately closing it.</span></span> <span data-ttu-id="a5a56-119">Это позволяет избежать неэффективного создания списка с распределительом и PSO, но не использует их.</span><span class="sxs-lookup"><span data-stu-id="a5a56-119">This avoids the inefficiency of creating a list with an allocator and PSO but not using them.</span></span>

<span data-ttu-id="a5a56-120">[**ID3D12Device:: креатекоммандлист**](/windows/win32/api/d3d12/nf-d3d12-id3d12device-createcommandlist) принимает в качестве входных данных следующие параметры:</span><span class="sxs-lookup"><span data-stu-id="a5a56-120">[**ID3D12Device::CreateCommandList**](/windows/win32/api/d3d12/nf-d3d12-id3d12device-createcommandlist) takes the following parameters as input:</span></span>

### <a name="d3d12_command_list_type"></a><span data-ttu-id="a5a56-121">\_ \_ Тип списка команд \_ D3D12</span><span class="sxs-lookup"><span data-stu-id="a5a56-121">D3D12\_COMMAND\_LIST\_TYPE</span></span>

<span data-ttu-id="a5a56-122">Перечисление [**\_ \_ \_ типов списка команд D3D12**](/windows/win32/api/d3d12/ne-d3d12-d3d12_command_list_type) указывает тип создаваемого списка команд.</span><span class="sxs-lookup"><span data-stu-id="a5a56-122">The [**D3D12\_COMMAND\_LIST\_TYPE**](/windows/win32/api/d3d12/ne-d3d12-d3d12_command_list_type) enumeration indicates the type of command list that is being created.</span></span> <span data-ttu-id="a5a56-123">Это может быть прямой список команд, пакет, список команд для вычислений или список команд копирования.</span><span class="sxs-lookup"><span data-stu-id="a5a56-123">It can be a direct command list, a bundle, a compute command list, or a copy command list.</span></span>

### <a name="id3d12commandallocator"></a><span data-ttu-id="a5a56-124">ID3D12CommandAllocator</span><span class="sxs-lookup"><span data-stu-id="a5a56-124">ID3D12CommandAllocator</span></span>

<span data-ttu-id="a5a56-125">Распределитель команд позволяет приложению управлять памятью, выделенной для списков команд.</span><span class="sxs-lookup"><span data-stu-id="a5a56-125">A command allocator allows the app to manage the memory that is allocated for command lists.</span></span> <span data-ttu-id="a5a56-126">Распределитель команд создается путем вызова [**креатекоммандаллокатор**](/windows/win32/api/d3d12/nf-d3d12-id3d12device-createcommandallocator).</span><span class="sxs-lookup"><span data-stu-id="a5a56-126">The command allocator is created by calling [**CreateCommandAllocator**](/windows/win32/api/d3d12/nf-d3d12-id3d12device-createcommandallocator).</span></span> <span data-ttu-id="a5a56-127">При создании списка команд тип списка команд распределителя, заданный [**\_ \_ \_ типом списка команд D3D12**](/windows/win32/api/d3d12/ne-d3d12-d3d12_command_list_type), должен соответствовать типу создаваемого списка команд.</span><span class="sxs-lookup"><span data-stu-id="a5a56-127">When creating a command list, the command list type of the allocator, specified by [**D3D12\_COMMAND\_LIST\_TYPE**](/windows/win32/api/d3d12/ne-d3d12-d3d12_command_list_type), must match the type of command list being created.</span></span> <span data-ttu-id="a5a56-128">Данный распределитель может быть связан не более чем с одним в *текущий момент* списком команд одновременно, хотя для создания любого числа объектов [**графикскоммандлист**](/windows/win32/api/d3d12/nn-d3d12-id3d12graphicscommandlist) можно использовать один распределитель команд.</span><span class="sxs-lookup"><span data-stu-id="a5a56-128">A given allocator can be associated with no more than one *currently recording* command list at a time, though one command allocator can be used to create any number of [**GraphicsCommandList**](/windows/win32/api/d3d12/nn-d3d12-id3d12graphicscommandlist) objects.</span></span>

<span data-ttu-id="a5a56-129">Чтобы освободить память, выделенную распределителем команд, приложение вызывает [**ID3D12CommandAllocator:: Reset**](/windows/win32/api/d3d12/nf-d3d12-id3d12commandallocator-reset).</span><span class="sxs-lookup"><span data-stu-id="a5a56-129">To reclaim the memory allocated by a command allocator, an app calls [**ID3D12CommandAllocator::Reset**](/windows/win32/api/d3d12/nf-d3d12-id3d12commandallocator-reset).</span></span> <span data-ttu-id="a5a56-130">Это позволяет повторно использовать распределитель для нового команды, но не уменьшает его базовый размер.</span><span class="sxs-lookup"><span data-stu-id="a5a56-130">This allows the allocator to be reused for new commmands, but won't reduce its underlying size.</span></span> <span data-ttu-id="a5a56-131">Но перед этим приложение должно убедиться, что GPU больше не выполняет все списки команд, связанные с распределителем. в противном случае вызов завершится ошибкой.</span><span class="sxs-lookup"><span data-stu-id="a5a56-131">But before doing so, the app must make sure that the GPU is no longer executing any command lists which are associated with the allocator; otherwise, the call will fail.</span></span> <span data-ttu-id="a5a56-132">Кроме того, обратите внимание, что этот API не является потокобезопасным и, следовательно, не может быть вызван в одном распределителе одновременно из нескольких потоков.</span><span class="sxs-lookup"><span data-stu-id="a5a56-132">Also, note that this API is not free-threaded and therefore can't be called on the same allocator at the same time from multiple threads.</span></span>

### <a name="id3d12pipelinestate"></a><span data-ttu-id="a5a56-133">ID3D12PipelineState</span><span class="sxs-lookup"><span data-stu-id="a5a56-133">ID3D12PipelineState</span></span>

<span data-ttu-id="a5a56-134">Начальное состояние конвейера для списка команд.</span><span class="sxs-lookup"><span data-stu-id="a5a56-134">The initial pipeline state for the command list.</span></span> <span data-ttu-id="a5a56-135">В Microsoft Direct3D 12 большинство состояний графического конвейера задаются в списке команд с помощью объекта [**ID3D12PipelineState**](/windows/win32/api/d3d12/nn-d3d12-id3d12pipelinestate) .</span><span class="sxs-lookup"><span data-stu-id="a5a56-135">In Microsoft Direct3D 12, most graphics pipeline state is set within a command list using the [**ID3D12PipelineState**](/windows/win32/api/d3d12/nn-d3d12-id3d12pipelinestate) object.</span></span> <span data-ttu-id="a5a56-136">Приложение создает большое количество таких объектов, как правило, во время инициализации приложения, а затем обновляет состояние, изменяя текущее привязанное состояние с помощью [**ID3D12GraphicsCommandList:: сетпипелинестате**](/windows/win32/api/d3d12/nf-d3d12-id3d12graphicscommandlist-setpipelinestate).</span><span class="sxs-lookup"><span data-stu-id="a5a56-136">An app will create a large number of these, typically during app initialization, and then the state is updated by changing the currently bound state object using [**ID3D12GraphicsCommandList::SetPipelineState**](/windows/win32/api/d3d12/nf-d3d12-id3d12graphicscommandlist-setpipelinestate).</span></span> <span data-ttu-id="a5a56-137">Дополнительные сведения об объектах состояния конвейера см. [в разделе Управление состоянием графического конвейера в Direct3D 12](managing-graphics-pipeline-state-in-direct3d-12.md).</span><span class="sxs-lookup"><span data-stu-id="a5a56-137">For more information about pipeline state objects, see [Managing graphics pipeline state in Direct3D 12](managing-graphics-pipeline-state-in-direct3d-12.md).</span></span>

<span data-ttu-id="a5a56-138">Обратите внимание, что пакеты не наследуют состояние конвейера, установленное предыдущими вызовами в списках прямых команд, являющихся родительскими.</span><span class="sxs-lookup"><span data-stu-id="a5a56-138">Note that bundles don't inherit the pipeline state set by previous calls in direct command lists that are their parents.</span></span>

<span data-ttu-id="a5a56-139">Если этот параметр имеет значение NULL, используется состояние по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="a5a56-139">If this parameter is NULL, a default state is used.</span></span>

## <a name="recording-command-lists"></a><span data-ttu-id="a5a56-140">Запись списков команд</span><span class="sxs-lookup"><span data-stu-id="a5a56-140">Recording command lists</span></span>

<span data-ttu-id="a5a56-141">Сразу после создания списки команд находятся в состоянии записи.</span><span class="sxs-lookup"><span data-stu-id="a5a56-141">Immediately after being created, command lists are in the recording state.</span></span> <span data-ttu-id="a5a56-142">Можно также повторно использовать существующий список команд, вызвав I [**D3D12GraphicsCommandList:: Reset**](/windows/win32/api/d3d12/nf-d3d12-id3d12graphicscommandlist-reset), который также оставляет список команд в состоянии записи.</span><span class="sxs-lookup"><span data-stu-id="a5a56-142">You can also re-use an existing command list by calling I [**D3D12GraphicsCommandList::Reset**](/windows/win32/api/d3d12/nf-d3d12-id3d12graphicscommandlist-reset), which also leaves the command list in the recording state.</span></span> <span data-ttu-id="a5a56-143">В отличие от [**ID3D12CommandAllocator:: Reset**](/windows/win32/api/d3d12/nf-d3d12-id3d12commandallocator-reset), можно вызвать **Reset** , пока список команд еще выполняется.</span><span class="sxs-lookup"><span data-stu-id="a5a56-143">Unlike [**ID3D12CommandAllocator::Reset**](/windows/win32/api/d3d12/nf-d3d12-id3d12commandallocator-reset), you can call **Reset** while the command list is still being executed.</span></span> <span data-ttu-id="a5a56-144">Типичный шаблон — отправить список команд и сразу же сбросить его, чтобы повторно использовать выделенную память для другого списка команд.</span><span class="sxs-lookup"><span data-stu-id="a5a56-144">A typical pattern is to submit a command list and then immediately reset it to reuse the allocated memory for another command list.</span></span> <span data-ttu-id="a5a56-145">Обратите внимание, что один список команд, связанный с каждым распределителем команд, может находиться в состоянии записи одновременно.</span><span class="sxs-lookup"><span data-stu-id="a5a56-145">Note that only one command list associated with each command allocator may be in a recording state at one time.</span></span>

<span data-ttu-id="a5a56-146">Когда список команд находится в состоянии записи, просто вызывайте методы интерфейса [**ID3D12GraphicsCommandList**](/windows/win32/api/d3d12/nn-d3d12-id3d12graphicscommandlist) , чтобы добавить команды в список.</span><span class="sxs-lookup"><span data-stu-id="a5a56-146">Once a command list is in the recording state, you simply call methods of the [**ID3D12GraphicsCommandList**](/windows/win32/api/d3d12/nn-d3d12-id3d12graphicscommandlist) interface to add commands to the list.</span></span> <span data-ttu-id="a5a56-147">Многие из этих методов позволяют реализовать общие функции Direct3D, которые будут знакомы разработчикам Microsoft Direct3D 11; другие интерфейсы API являются новыми для Direct3D 12.</span><span class="sxs-lookup"><span data-stu-id="a5a56-147">Many of these methods enable common Direct3D functionality that will be familiar to Microsoft Direct3D 11 developers; other APIs are new for Direct3D 12.</span></span>

<span data-ttu-id="a5a56-148">После добавления команд в список команд можно перевести список команд из состояния записи, вызвав [**Close**](/windows/win32/api/d3d12/nf-d3d12-id3d12graphicscommandlist-close).</span><span class="sxs-lookup"><span data-stu-id="a5a56-148">After adding commands to the command list, you transition the command list out of the recording state by calling [**Close**](/windows/win32/api/d3d12/nf-d3d12-id3d12graphicscommandlist-close).</span></span>

<span data-ttu-id="a5a56-149">Распределитель команд может увеличиваться, но не сжимать пулы и повторно использовать распределительы, чтобы максимально повысить эффективность работы приложения.</span><span class="sxs-lookup"><span data-stu-id="a5a56-149">Command allocators can grow but don't shrink - pooling and reusing allocators should be considered to maximise your app's efficiency.</span></span> <span data-ttu-id="a5a56-150">Можно записать несколько списков в один распределитель, прежде чем он будет сброшен, при условии, что только один список записывается в данный распределитель одновременно.</span><span class="sxs-lookup"><span data-stu-id="a5a56-150">You can record multiple lists to the same allocator before it is reset, provided only one list is recording to a given allocator at one time.</span></span> <span data-ttu-id="a5a56-151">Можно визуализировать каждый список как владеющий частью распределителя, который указывает, что будет выполняться [**ID3D12CommandQueue:: ексекутекоммандлистс**](/windows/win32/api/d3d12/nf-d3d12-id3d12commandqueue-executecommandlists) .</span><span class="sxs-lookup"><span data-stu-id="a5a56-151">You can visualise each list as owning a portion of the allocator which indicates what [**ID3D12CommandQueue::ExecuteCommandLists**](/windows/win32/api/d3d12/nf-d3d12-id3d12commandqueue-executecommandlists) will execute.</span></span>

<span data-ttu-id="a5a56-152">Простая стратегия пула распределителя должна быть ориентирована на примерно `numCommandLists * MaxFrameLatency` распределительы.</span><span class="sxs-lookup"><span data-stu-id="a5a56-152">A simple allocator pooling strategy should aim for approximately `numCommandLists * MaxFrameLatency` allocators.</span></span> <span data-ttu-id="a5a56-153">Например, если вы записываете 6 списков и допускаете до 3 скрытых кадров, вы можете рассчитывать на 18-20 распределителя.</span><span class="sxs-lookup"><span data-stu-id="a5a56-153">For example, if you record 6 lists and allow up to 3 latent frames, you could reasonably expect 18-20 allocators.</span></span> <span data-ttu-id="a5a56-154">Более сложная стратегия объединения в пул, которая повторно использует распределителя для нескольких списков в одном потоке, может быть предпринята для `numRecordingThreads * MaxFrameLatency` распределительов.</span><span class="sxs-lookup"><span data-stu-id="a5a56-154">A more advanced pooling strategy, which reuses allocators for multiple lists on the same thread, could aim for `numRecordingThreads * MaxFrameLatency` allocators.</span></span> <span data-ttu-id="a5a56-155">В предыдущем примере, если два списка были записаны в поток а, 2 в потоке B, 1 в потоке C и 1 в потоке D, можно было бы реалистично приступать к 12-14 распределителя.</span><span class="sxs-lookup"><span data-stu-id="a5a56-155">Using the prior example, if 2 lists were recorded on thread A, 2 on thread B, 1 on thread C, and 1 on thread D, you could realistically aim for 12-14 allocators.</span></span>

<span data-ttu-id="a5a56-156">Используйте ограждение, чтобы определить, когда можно повторно использовать данный распределитель.</span><span class="sxs-lookup"><span data-stu-id="a5a56-156">Use a fence to determine when a given allocator is able to be reused.</span></span>

<span data-ttu-id="a5a56-157">Так как списки команд можно сразу же сбросить после выполнения, они могут быть тривиальны в пул, добавляя их обратно в пул после каждого вызова [**ID3D12CommandQueue:: ексекутекоммандлистс**](/windows/win32/api/d3d12/nf-d3d12-id3d12commandqueue-executecommandlists).</span><span class="sxs-lookup"><span data-stu-id="a5a56-157">As command lists can immediately be reset after execution, they can be trivially pooled, adding them back to the pool after each call to [**ID3D12CommandQueue::ExecuteCommandLists**](/windows/win32/api/d3d12/nf-d3d12-id3d12commandqueue-executecommandlists).</span></span>

## <a name="example"></a><span data-ttu-id="a5a56-158">Пример</span><span class="sxs-lookup"><span data-stu-id="a5a56-158">Example</span></span>

<span data-ttu-id="a5a56-159">В следующих фрагментах кода показано создание и запись списка команд.</span><span class="sxs-lookup"><span data-stu-id="a5a56-159">The following code snippets illustrate the creation and recording of a command list.</span></span> <span data-ttu-id="a5a56-160">Обратите внимание, что этот пример включает следующие функции Direct3D 12:</span><span class="sxs-lookup"><span data-stu-id="a5a56-160">Note that this example includes the following Direct3D 12 features:</span></span>

-   <span data-ttu-id="a5a56-161">Объекты состояния конвейера — используются для установки большинства параметров состояния конвейера отрисовки из списка команд.</span><span class="sxs-lookup"><span data-stu-id="a5a56-161">Pipeline state objects - These are used to set most of the state parameters of the render pipeline from within a command list.</span></span> <span data-ttu-id="a5a56-162">Дополнительные сведения см. [в разделе Управление состоянием графического конвейера в Direct3D 12](managing-graphics-pipeline-state-in-direct3d-12.md).</span><span class="sxs-lookup"><span data-stu-id="a5a56-162">For more information, see [Managing graphics pipeline state in Direct3D 12](managing-graphics-pipeline-state-in-direct3d-12.md).</span></span>
-   <span data-ttu-id="a5a56-163">Куча дескрипторов. приложения используют кучи дескрипторов для управления привязкой конвейера к ресурсам памяти.</span><span class="sxs-lookup"><span data-stu-id="a5a56-163">Descriptor heap - Apps use descriptor heaps to manage pipeline binding to memory resources.</span></span>
-   <span data-ttu-id="a5a56-164">Барьер ресурсов — используется для управления переходом ресурсов из одного состояния в другое, например из представления целевого объекта прорисовки в представление ресурсов шейдера.</span><span class="sxs-lookup"><span data-stu-id="a5a56-164">Resource barrier - This is used to manage the transition of resources from one state to another, such as from a render target view to a shader resource view.</span></span> <span data-ttu-id="a5a56-165">Дополнительные сведения см. [в статье использование барьеров ресурсов для синхронизации состояний ресурсов](using-resource-barriers-to-synchronize-resource-states-in-direct3d-12.md).</span><span class="sxs-lookup"><span data-stu-id="a5a56-165">For more information, see [Using resource barriers to synchronize resource states](using-resource-barriers-to-synchronize-resource-states-in-direct3d-12.md).</span></span>

<span data-ttu-id="a5a56-166">Например,</span><span class="sxs-lookup"><span data-stu-id="a5a56-166">For example,</span></span>


```C++
void D3D12HelloTriangle::LoadAssets()
{
    // Create an empty root signature.
    {
        CD3DX12_ROOT_SIGNATURE_DESC rootSignatureDesc;
        rootSignatureDesc.Init(0, nullptr, 0, nullptr, D3D12_ROOT_SIGNATURE_FLAG_ALLOW_INPUT_ASSEMBLER_INPUT_LAYOUT);

        ComPtr<ID3DBlob> signature;
        ComPtr<ID3DBlob> error;
        ThrowIfFailed(D3D12SerializeRootSignature(&rootSignatureDesc, D3D_ROOT_SIGNATURE_VERSION_1, &signature, &error));
        ThrowIfFailed(m_device->CreateRootSignature(0, signature->GetBufferPointer(), signature->GetBufferSize(), IID_PPV_ARGS(&m_rootSignature)));
    }

    // Create the pipeline state, which includes compiling and loading shaders.
    {
        ComPtr<ID3DBlob> vertexShader;
        ComPtr<ID3DBlob> pixelShader;

#if defined(_DEBUG)
        // Enable better shader debugging with the graphics debugging tools.
        UINT compileFlags = D3DCOMPILE_DEBUG | D3DCOMPILE_SKIP_OPTIMIZATION;
#else
        UINT compileFlags = 0;
#endif

        ThrowIfFailed(D3DCompileFromFile(GetAssetFullPath(L"shaders.hlsl").c_str(), nullptr, nullptr, "VSMain", "vs_5_0", compileFlags, 0, &vertexShader, nullptr));
        ThrowIfFailed(D3DCompileFromFile(GetAssetFullPath(L"shaders.hlsl").c_str(), nullptr, nullptr, "PSMain", "ps_5_0", compileFlags, 0, &pixelShader, nullptr));

        // Define the vertex input layout.
        D3D12_INPUT_ELEMENT_DESC inputElementDescs[] =
        {
            { "POSITION", 0, DXGI_FORMAT_R32G32B32_FLOAT, 0, 0, D3D12_INPUT_CLASSIFICATION_PER_VERTEX_DATA, 0 },
            { "COLOR", 0, DXGI_FORMAT_R32G32B32A32_FLOAT, 0, 12, D3D12_INPUT_CLASSIFICATION_PER_VERTEX_DATA, 0 }
        };

        // Describe and create the graphics pipeline state object (PSO).
        D3D12_GRAPHICS_PIPELINE_STATE_DESC psoDesc = {};
        psoDesc.InputLayout = { inputElementDescs, _countof(inputElementDescs) };
        psoDesc.pRootSignature = m_rootSignature.Get();
        psoDesc.VS = { reinterpret_cast<UINT8*>(vertexShader->GetBufferPointer()), vertexShader->GetBufferSize() };
        psoDesc.PS = { reinterpret_cast<UINT8*>(pixelShader->GetBufferPointer()), pixelShader->GetBufferSize() };
        psoDesc.RasterizerState = CD3DX12_RASTERIZER_DESC(D3D12_DEFAULT);
        psoDesc.BlendState = CD3DX12_BLEND_DESC(D3D12_DEFAULT);
        psoDesc.DepthStencilState.DepthEnable = FALSE;
        psoDesc.DepthStencilState.StencilEnable = FALSE;
        psoDesc.SampleMask = UINT_MAX;
        psoDesc.PrimitiveTopologyType = D3D12_PRIMITIVE_TOPOLOGY_TYPE_TRIANGLE;
        psoDesc.NumRenderTargets = 1;
        psoDesc.RTVFormats[0] = DXGI_FORMAT_R8G8B8A8_UNORM;
        psoDesc.SampleDesc.Count = 1;
        ThrowIfFailed(m_device->CreateGraphicsPipelineState(&psoDesc, IID_PPV_ARGS(&m_pipelineState)));
    }

    // Create the command list.
    ThrowIfFailed(m_device->CreateCommandList(0, D3D12_COMMAND_LIST_TYPE_DIRECT, m_commandAllocator.Get(), m_pipelineState.Get(), IID_PPV_ARGS(&m_commandList)));

    // Command lists are created in the recording state, but there is nothing
    // to record yet. The main loop expects it to be closed, so close it now.
    ThrowIfFailed(m_commandList->Close());

    // Create the vertex buffer.
    {
        // Define the geometry for a triangle.
        Vertex triangleVertices[] =
        {
            { { 0.0f, 0.25f * m_aspectRatio, 0.0f }, { 1.0f, 0.0f, 0.0f, 1.0f } },
            { { 0.25f, -0.25f * m_aspectRatio, 0.0f }, { 0.0f, 1.0f, 0.0f, 1.0f } },
            { { -0.25f, -0.25f * m_aspectRatio, 0.0f }, { 0.0f, 0.0f, 1.0f, 1.0f } }
        };

        const UINT vertexBufferSize = sizeof(triangleVertices);

        // Note: using upload heaps to transfer static data like vert buffers is not 
        // recommended. Every time the GPU needs it, the upload heap will be marshalled 
        // over. Please read up on Default Heap usage. An upload heap is used here for 
        // code simplicity and because there are very few verts to actually transfer.
        ThrowIfFailed(m_device->CreateCommittedResource(
            &CD3DX12_HEAP_PROPERTIES(D3D12_HEAP_TYPE_UPLOAD),
            D3D12_HEAP_FLAG_NONE,
            &CD3DX12_RESOURCE_DESC::Buffer(vertexBufferSize),
            D3D12_RESOURCE_STATE_GENERIC_READ,
            nullptr,
            IID_PPV_ARGS(&m_vertexBuffer)));

        // Copy the triangle data to the vertex buffer.
        UINT8* pVertexDataBegin;
        CD3DX12_RANGE readRange(0, 0);        // We do not intend to read from this resource on the CPU.
        ThrowIfFailed(m_vertexBuffer->Map(0, &readRange, reinterpret_cast<void**>(&pVertexDataBegin)));
        memcpy(pVertexDataBegin, triangleVertices, sizeof(triangleVertices));
        m_vertexBuffer->Unmap(0, nullptr);

        // Initialize the vertex buffer view.
        m_vertexBufferView.BufferLocation = m_vertexBuffer->GetGPUVirtualAddress();
        m_vertexBufferView.StrideInBytes = sizeof(Vertex);
        m_vertexBufferView.SizeInBytes = vertexBufferSize;
    }

    // Create synchronization objects and wait until assets have been uploaded to the GPU.
    {
        ThrowIfFailed(m_device->CreateFence(0, D3D12_FENCE_FLAG_NONE, IID_PPV_ARGS(&m_fence)));
        m_fenceValue = 1;

        // Create an event handle to use for frame synchronization.
        m_fenceEvent = CreateEvent(nullptr, FALSE, FALSE, nullptr);
        if (m_fenceEvent == nullptr)
        {
            ThrowIfFailed(HRESULT_FROM_WIN32(GetLastError()));
        }

        // Wait for the command list to execute; we are reusing the same command 
        // list in our main loop but for now, we just want to wait for setup to 
        // complete before continuing.
        WaitForPreviousFrame();
    }
}
```



<span data-ttu-id="a5a56-167">После создания и записи списка команд его можно выполнить с помощью очереди команд.</span><span class="sxs-lookup"><span data-stu-id="a5a56-167">After a command list has been created and recorded, it can be executed using a command queue.</span></span> <span data-ttu-id="a5a56-168">Дополнительные сведения см. в разделе [исполнение и синхронизация списков команд](executing-and-synchronizing-command-lists.md).</span><span class="sxs-lookup"><span data-stu-id="a5a56-168">For more information, see [Executing and synchronizing command lists](executing-and-synchronizing-command-lists.md).</span></span>

## <a name="reference-counting"></a><span data-ttu-id="a5a56-169">Подсчет ссылок</span><span class="sxs-lookup"><span data-stu-id="a5a56-169">Reference counting</span></span>

<span data-ttu-id="a5a56-170">Большинство API D3D12 по-прежнему используют подсчет ссылок в соответствии с соглашениями COM.</span><span class="sxs-lookup"><span data-stu-id="a5a56-170">Most D3D12 APIs continue to use reference counting following COM conventions.</span></span> <span data-ttu-id="a5a56-171">Важным исключением является интерфейс API списка команд D3D12 Graphics.</span><span class="sxs-lookup"><span data-stu-id="a5a56-171">A notable exception to this is the D3D12 graphics command list APIs.</span></span> <span data-ttu-id="a5a56-172">Все API-интерфейсы в [**ID3D12GraphicsCommandList**](/windows/win32/api/d3d12/nn-d3d12-id3d12graphicscommandlist) не содержат ссылок на объекты, передаваемые в эти API.</span><span class="sxs-lookup"><span data-stu-id="a5a56-172">All APIs on [**ID3D12GraphicsCommandList**](/windows/win32/api/d3d12/nn-d3d12-id3d12graphicscommandlist) do not hold references to the objects passed into those APIs.</span></span> <span data-ttu-id="a5a56-173">Это означает, что приложения несут ответственность за то, чтобы список команд никогда не отправлялся для выполнения, который ссылается на уничтоженный ресурс.</span><span class="sxs-lookup"><span data-stu-id="a5a56-173">This means applications are responsible for ensuring that a command list is never submitted for execution that references a destroyed resource.</span></span>

## <a name="command-list-errors"></a><span data-ttu-id="a5a56-174">Ошибки списка команд</span><span class="sxs-lookup"><span data-stu-id="a5a56-174">Command list errors</span></span>

<span data-ttu-id="a5a56-175">Большинство API-интерфейсов в [**ID3D12GraphicsCommandList**](/windows/win32/api/d3d12/nn-d3d12-id3d12graphicscommandlist) не возвращают ошибки.</span><span class="sxs-lookup"><span data-stu-id="a5a56-175">Most APIs on [**ID3D12GraphicsCommandList**](/windows/win32/api/d3d12/nn-d3d12-id3d12graphicscommandlist) do not return errors.</span></span> <span data-ttu-id="a5a56-176">Ошибки, обнаруженные при создании списка команд, откладываются до [**ID3D12GraphicsCommandList:: Close**](/windows/win32/api/d3d12/nf-d3d12-id3d12graphicscommandlist-close).</span><span class="sxs-lookup"><span data-stu-id="a5a56-176">Errors encountered during command list creation are deferred until [**ID3D12GraphicsCommandList::Close**](/windows/win32/api/d3d12/nf-d3d12-id3d12graphicscommandlist-close).</span></span> <span data-ttu-id="a5a56-177">Единственным исключением является \_ \_ Удаление устройства с ошибкой DXGI \_ , которое откладывается еще дальше.</span><span class="sxs-lookup"><span data-stu-id="a5a56-177">The one exception is DXGI\_ERROR\_DEVICE\_REMOVED, which is deferred even further.</span></span> <span data-ttu-id="a5a56-178">Обратите внимание, что это отличается от D3D11, где многие ошибки проверки параметров автоматически удаляются и никогда не возвращаются вызывающему.</span><span class="sxs-lookup"><span data-stu-id="a5a56-178">Note that this is different from D3D11, where many parameter validation errors are silently dropped and never returned to the caller.</span></span>

<span data-ttu-id="a5a56-179">Приложения могут видеть \_ ошибки удаленных устройств DXGI \_ в следующих вызовах API:</span><span class="sxs-lookup"><span data-stu-id="a5a56-179">Applications can expect to see DXGI\_DEVICE\_REMOVED errors in the following API calls:</span></span>

-   <span data-ttu-id="a5a56-180">Любой метод создания ресурсов</span><span class="sxs-lookup"><span data-stu-id="a5a56-180">Any resource creation method</span></span>
-   [<span data-ttu-id="a5a56-181">**ID3D12Resource:: Map**</span><span class="sxs-lookup"><span data-stu-id="a5a56-181">**ID3D12Resource::Map**</span></span>](/windows/win32/api/d3d12/nf-d3d12-id3d12resource-map)
-   [<span data-ttu-id="a5a56-182">**IDXGISwapChain1::Present1**</span><span class="sxs-lookup"><span data-stu-id="a5a56-182">**IDXGISwapChain1::Present1**</span></span>](/windows/win32/api/dxgi1_2/nf-dxgi1_2-idxgiswapchain1-present1)
-   [<span data-ttu-id="a5a56-183">**жетдевицеремоведреасон**</span><span class="sxs-lookup"><span data-stu-id="a5a56-183">**GetDeviceRemovedReason**</span></span>](/windows/win32/api/d3d12/nf-d3d12-id3d12device-getdeviceremovedreason)

## <a name="command-list-api-restrictions"></a><span data-ttu-id="a5a56-184">Ограничения API списка команд</span><span class="sxs-lookup"><span data-stu-id="a5a56-184">Command list API Restrictions</span></span>

<span data-ttu-id="a5a56-185">Некоторые API-интерфейсы списка команд могут вызываться только для определенных типов списков команд.</span><span class="sxs-lookup"><span data-stu-id="a5a56-185">Some command list APIs can only be called on certain types of command lists.</span></span> <span data-ttu-id="a5a56-186">В таблице ниже показано, какие интерфейсы API списка команд допустимы для вызова для каждого типа списка команд.</span><span class="sxs-lookup"><span data-stu-id="a5a56-186">The table below shows which command list APIs are valid to call on each type of command list.</span></span> <span data-ttu-id="a5a56-187">Он также показывает, какие интерфейсы API являются допустимыми для вызова в [**ходе D3D12 подготовки к просмотру**](./direct3d-12-render-passes.md).</span><span class="sxs-lookup"><span data-stu-id="a5a56-187">It also shows which APIs are valid to call in a [**D3D12 render pass**](./direct3d-12-render-passes.md).</span></span> 

| <span data-ttu-id="a5a56-188">Имя API</span><span class="sxs-lookup"><span data-stu-id="a5a56-188">API Name</span></span>                                         | <span data-ttu-id="a5a56-189">Графика</span><span class="sxs-lookup"><span data-stu-id="a5a56-189">Graphics</span></span> | <span data-ttu-id="a5a56-190">Вычисления</span><span class="sxs-lookup"><span data-stu-id="a5a56-190">Compute</span></span> | <span data-ttu-id="a5a56-191">Копировать</span><span class="sxs-lookup"><span data-stu-id="a5a56-191">Copy</span></span> | <span data-ttu-id="a5a56-192">Bundle</span><span class="sxs-lookup"><span data-stu-id="a5a56-192">Bundle</span></span> | <span data-ttu-id="a5a56-193">В ходе подготовки к просмотру</span><span class="sxs-lookup"><span data-stu-id="a5a56-193">In Render Pass</span></span> |
|--------------------------------------------------|:--------:|:-------:|:----:|:------:|:--------------:|
| <span data-ttu-id="a5a56-194">атомиккопибуфферуинт</span><span class="sxs-lookup"><span data-stu-id="a5a56-194">AtomicCopyBufferUINT</span></span>                             | <span data-ttu-id="a5a56-195">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-195">✓</span></span>        | <span data-ttu-id="a5a56-196">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-196">✓</span></span>       | <span data-ttu-id="a5a56-197">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-197">✓</span></span>    |        |                |
| <span data-ttu-id="a5a56-198">AtomicCopyBufferUINT64</span><span class="sxs-lookup"><span data-stu-id="a5a56-198">AtomicCopyBufferUINT64</span></span>                           | <span data-ttu-id="a5a56-199">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-199">✓</span></span>        | <span data-ttu-id="a5a56-200">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-200">✓</span></span>       | <span data-ttu-id="a5a56-201">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-201">✓</span></span>    |        |                |
| <span data-ttu-id="a5a56-202">бегинкуери</span><span class="sxs-lookup"><span data-stu-id="a5a56-202">BeginQuery</span></span>                                       | <span data-ttu-id="a5a56-203">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-203">✓</span></span>        |         |      |        | <span data-ttu-id="a5a56-204">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-204">✓</span></span>              |
| <span data-ttu-id="a5a56-205">бегинрендерпасс</span><span class="sxs-lookup"><span data-stu-id="a5a56-205">BeginRenderPass</span></span>                                  | <span data-ttu-id="a5a56-206">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-206">✓</span></span>        |         |      |        |                |
| <span data-ttu-id="a5a56-207">буилдрайтраЦингакцелератионструктуре</span><span class="sxs-lookup"><span data-stu-id="a5a56-207">BuildRaytracingAccelerationStructure</span></span>             | <span data-ttu-id="a5a56-208">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-208">✓</span></span>        | <span data-ttu-id="a5a56-209">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-209">✓</span></span>       |      |        |                |
| <span data-ttu-id="a5a56-210">ClearDepthStencilView</span><span class="sxs-lookup"><span data-stu-id="a5a56-210">ClearDepthStencilView</span></span>                            | <span data-ttu-id="a5a56-211">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-211">✓</span></span>        |         |      |        |                |
| <span data-ttu-id="a5a56-212">ClearRenderTargetView</span><span class="sxs-lookup"><span data-stu-id="a5a56-212">ClearRenderTargetView</span></span>                            | <span data-ttu-id="a5a56-213">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-213">✓</span></span>        |         |      |        |                |
| <span data-ttu-id="a5a56-214">клеарстате</span><span class="sxs-lookup"><span data-stu-id="a5a56-214">ClearState</span></span>                                       | <span data-ttu-id="a5a56-215">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-215">✓</span></span>        | <span data-ttu-id="a5a56-216">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-216">✓</span></span>       |      |        |                |
| <span data-ttu-id="a5a56-217">клеарунордередакцессвиевфлоат</span><span class="sxs-lookup"><span data-stu-id="a5a56-217">ClearUnorderedAccessViewFloat</span></span>                    | <span data-ttu-id="a5a56-218">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-218">✓</span></span>        | <span data-ttu-id="a5a56-219">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-219">✓</span></span>       |      |        |                |
| <span data-ttu-id="a5a56-220">клеарунордередакцессвиевуинт</span><span class="sxs-lookup"><span data-stu-id="a5a56-220">ClearUnorderedAccessViewUint</span></span>                     | <span data-ttu-id="a5a56-221">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-221">✓</span></span>        | <span data-ttu-id="a5a56-222">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-222">✓</span></span>       |      |        |                |
| <span data-ttu-id="a5a56-223">копибуфферрегион</span><span class="sxs-lookup"><span data-stu-id="a5a56-223">CopyBufferRegion</span></span>                                 | <span data-ttu-id="a5a56-224">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-224">✓</span></span>        | <span data-ttu-id="a5a56-225">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-225">✓</span></span>       | <span data-ttu-id="a5a56-226">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-226">✓</span></span>    |        |                |
| <span data-ttu-id="a5a56-227">копирайтраЦингакцелератионструктуре</span><span class="sxs-lookup"><span data-stu-id="a5a56-227">CopyRaytracingAccelerationStructure</span></span>              | <span data-ttu-id="a5a56-228">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-228">✓</span></span>        | <span data-ttu-id="a5a56-229">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-229">✓</span></span>       |      |        |                |
| <span data-ttu-id="a5a56-230">копиресаурце</span><span class="sxs-lookup"><span data-stu-id="a5a56-230">CopyResource</span></span>                                     | <span data-ttu-id="a5a56-231">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-231">✓</span></span>        | <span data-ttu-id="a5a56-232">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-232">✓</span></span>       | <span data-ttu-id="a5a56-233">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-233">✓</span></span>    |        |                |
| <span data-ttu-id="a5a56-234">копитекстуререгион</span><span class="sxs-lookup"><span data-stu-id="a5a56-234">CopyTextureRegion</span></span>                                | <span data-ttu-id="a5a56-235">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-235">✓</span></span>        | <span data-ttu-id="a5a56-236">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-236">✓</span></span>       | <span data-ttu-id="a5a56-237">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-237">✓</span></span>    |        |                |
| <span data-ttu-id="a5a56-238">копитилес</span><span class="sxs-lookup"><span data-stu-id="a5a56-238">CopyTiles</span></span>                                        | <span data-ttu-id="a5a56-239">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-239">✓</span></span>        | <span data-ttu-id="a5a56-240">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-240">✓</span></span>       | <span data-ttu-id="a5a56-241">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-241">✓</span></span>    |        |                |
| <span data-ttu-id="a5a56-242">дискардресаурце</span><span class="sxs-lookup"><span data-stu-id="a5a56-242">DiscardResource</span></span>                                  | <span data-ttu-id="a5a56-243">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-243">✓</span></span>        | <span data-ttu-id="a5a56-244">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-244">✓</span></span>       |      |        |                |
| <span data-ttu-id="a5a56-245">Dispatch</span><span class="sxs-lookup"><span data-stu-id="a5a56-245">Dispatch</span></span>                                         | <span data-ttu-id="a5a56-246">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-246">✓</span></span>        | <span data-ttu-id="a5a56-247">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-247">✓</span></span>       |      | <span data-ttu-id="a5a56-248">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-248">✓</span></span>      |                |
| <span data-ttu-id="a5a56-249">диспатчрайс</span><span class="sxs-lookup"><span data-stu-id="a5a56-249">DispatchRays</span></span>                                     | <span data-ttu-id="a5a56-250">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-250">✓</span></span>        | <span data-ttu-id="a5a56-251">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-251">✓</span></span>       |      | <span data-ttu-id="a5a56-252">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-252">✓</span></span>      |                |
| <span data-ttu-id="a5a56-253">дравиндексединстанцед</span><span class="sxs-lookup"><span data-stu-id="a5a56-253">DrawIndexedInstanced</span></span>                             | <span data-ttu-id="a5a56-254">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-254">✓</span></span>        |         |      | <span data-ttu-id="a5a56-255">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-255">✓</span></span>      | <span data-ttu-id="a5a56-256">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-256">✓</span></span>              |
| <span data-ttu-id="a5a56-257">дравинстанцед</span><span class="sxs-lookup"><span data-stu-id="a5a56-257">DrawInstanced</span></span>                                    | <span data-ttu-id="a5a56-258">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-258">✓</span></span>        |         |      | <span data-ttu-id="a5a56-259">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-259">✓</span></span>      | <span data-ttu-id="a5a56-260">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-260">✓</span></span>              |
| <span data-ttu-id="a5a56-261">емитрайтраЦингакцелератионструктурепостбуилдинфо</span><span class="sxs-lookup"><span data-stu-id="a5a56-261">EmitRaytracingAccelerationStructurePostbuildInfo</span></span> | <span data-ttu-id="a5a56-262">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-262">✓</span></span>        | <span data-ttu-id="a5a56-263">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-263">✓</span></span>       |      |        |                |
| <span data-ttu-id="a5a56-264">ендкуери</span><span class="sxs-lookup"><span data-stu-id="a5a56-264">EndQuery</span></span>                                         | <span data-ttu-id="a5a56-265">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-265">✓</span></span>        | <span data-ttu-id="a5a56-266">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-266">✓</span></span>       | <span data-ttu-id="a5a56-267">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-267">✓</span></span>    |        | <span data-ttu-id="a5a56-268">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-268">✓</span></span>              |
| <span data-ttu-id="a5a56-269">ендрендерпасс</span><span class="sxs-lookup"><span data-stu-id="a5a56-269">EndRenderPass</span></span>                                    | <span data-ttu-id="a5a56-270">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-270">✓</span></span>        |         |      |        | <span data-ttu-id="a5a56-271">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-271">✓</span></span>              |
| <span data-ttu-id="a5a56-272">ексекутебундле</span><span class="sxs-lookup"><span data-stu-id="a5a56-272">ExecuteBundle</span></span>                                    | <span data-ttu-id="a5a56-273">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-273">✓</span></span>        |         |      |        | <span data-ttu-id="a5a56-274">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-274">✓</span></span>              |
| <span data-ttu-id="a5a56-275">ексекутеиндирект</span><span class="sxs-lookup"><span data-stu-id="a5a56-275">ExecuteIndirect</span></span>                                  | <span data-ttu-id="a5a56-276">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-276">✓</span></span>        | <span data-ttu-id="a5a56-277">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-277">✓</span></span>       |      | <span data-ttu-id="a5a56-278">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-278">✓</span></span>      | <span data-ttu-id="a5a56-279">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-279">✓</span></span>              |
| <span data-ttu-id="a5a56-280">ексекутеметакомманд</span><span class="sxs-lookup"><span data-stu-id="a5a56-280">ExecuteMetaCommand</span></span>                               | <span data-ttu-id="a5a56-281">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-281">✓</span></span>        | <span data-ttu-id="a5a56-282">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-282">✓</span></span>       |      |        |                |
| <span data-ttu-id="a5a56-283">иасетиндексбуффер</span><span class="sxs-lookup"><span data-stu-id="a5a56-283">IASetIndexBuffer</span></span>                                 | <span data-ttu-id="a5a56-284">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-284">✓</span></span>        |         |      | <span data-ttu-id="a5a56-285">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-285">✓</span></span>      | <span data-ttu-id="a5a56-286">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-286">✓</span></span>              |
| <span data-ttu-id="a5a56-287">иасетпримитиветопологи</span><span class="sxs-lookup"><span data-stu-id="a5a56-287">IASetPrimitiveTopology</span></span>                           | <span data-ttu-id="a5a56-288">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-288">✓</span></span>        |         |      | <span data-ttu-id="a5a56-289">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-289">✓</span></span>      | <span data-ttu-id="a5a56-290">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-290">✓</span></span>              |
| <span data-ttu-id="a5a56-291">иасетвертексбуфферс</span><span class="sxs-lookup"><span data-stu-id="a5a56-291">IASetVertexBuffers</span></span>                               | <span data-ttu-id="a5a56-292">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-292">✓</span></span>        |         |      | <span data-ttu-id="a5a56-293">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-293">✓</span></span>      | <span data-ttu-id="a5a56-294">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-294">✓</span></span>              |
| <span data-ttu-id="a5a56-295">инитиализеметакомманд</span><span class="sxs-lookup"><span data-stu-id="a5a56-295">InitializeMetaCommand</span></span>                            | <span data-ttu-id="a5a56-296">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-296">✓</span></span>        | <span data-ttu-id="a5a56-297">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-297">✓</span></span>       |      |        |                |
| <span data-ttu-id="a5a56-298">омсетблендфактор</span><span class="sxs-lookup"><span data-stu-id="a5a56-298">OMSetBlendFactor</span></span>                                 | <span data-ttu-id="a5a56-299">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-299">✓</span></span>        |         |      | <span data-ttu-id="a5a56-300">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-300">✓</span></span>      | <span data-ttu-id="a5a56-301">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-301">✓</span></span>              |
| <span data-ttu-id="a5a56-302">омсетдепсбаундс</span><span class="sxs-lookup"><span data-stu-id="a5a56-302">OMSetDepthBounds</span></span>                                 | <span data-ttu-id="a5a56-303">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-303">✓</span></span>        |         |      | <span data-ttu-id="a5a56-304">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-304">✓</span></span>      | <span data-ttu-id="a5a56-305">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-305">✓</span></span>              |
| <span data-ttu-id="a5a56-306">омсетрендертаржетс</span><span class="sxs-lookup"><span data-stu-id="a5a56-306">OMSetRenderTargets</span></span>                               | <span data-ttu-id="a5a56-307">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-307">✓</span></span>        |         |      |        |                |
| <span data-ttu-id="a5a56-308">омсетстенЦилреф</span><span class="sxs-lookup"><span data-stu-id="a5a56-308">OMSetStencilRef</span></span>                                  | <span data-ttu-id="a5a56-309">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-309">✓</span></span>        |         |      | <span data-ttu-id="a5a56-310">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-310">✓</span></span>      | <span data-ttu-id="a5a56-311">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-311">✓</span></span>              |
| <span data-ttu-id="a5a56-312">ресолвекуеридата</span><span class="sxs-lookup"><span data-stu-id="a5a56-312">ResolveQueryData</span></span>                                 | <span data-ttu-id="a5a56-313">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-313">✓</span></span>        | <span data-ttu-id="a5a56-314">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-314">✓</span></span>       | <span data-ttu-id="a5a56-315">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-315">✓</span></span>    |        |                |
| <span data-ttu-id="a5a56-316">ресолвесубресаурце</span><span class="sxs-lookup"><span data-stu-id="a5a56-316">ResolveSubresource</span></span>                               | <span data-ttu-id="a5a56-317">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-317">✓</span></span>        |         |      |        |                |
| <span data-ttu-id="a5a56-318">ресолвесубресаурцерегион</span><span class="sxs-lookup"><span data-stu-id="a5a56-318">ResolveSubresourceRegion</span></span>                         | <span data-ttu-id="a5a56-319">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-319">✓</span></span>        |         |      |        |                |
| <span data-ttu-id="a5a56-320">ресаурцебарриер</span><span class="sxs-lookup"><span data-stu-id="a5a56-320">ResourceBarrier</span></span>                                  | <span data-ttu-id="a5a56-321">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-321">✓</span></span>        | <span data-ttu-id="a5a56-322">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-322">✓</span></span>       | <span data-ttu-id="a5a56-323">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-323">✓</span></span>    |        | <span data-ttu-id="a5a56-324">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-324">✓</span></span>              |
| <span data-ttu-id="a5a56-325">рссетсЦиссорректс</span><span class="sxs-lookup"><span data-stu-id="a5a56-325">RSSetScissorRects</span></span>                                | <span data-ttu-id="a5a56-326">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-326">✓</span></span>        |         |      |        | <span data-ttu-id="a5a56-327">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-327">✓</span></span>              |
| <span data-ttu-id="a5a56-328">рссетшадинграте</span><span class="sxs-lookup"><span data-stu-id="a5a56-328">RSSetShadingRate</span></span>                                 | <span data-ttu-id="a5a56-329">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-329">✓</span></span>        |         |      | <span data-ttu-id="a5a56-330">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-330">✓</span></span>      | <span data-ttu-id="a5a56-331">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-331">✓</span></span>              |
| <span data-ttu-id="a5a56-332">рссетшадингратеимаже</span><span class="sxs-lookup"><span data-stu-id="a5a56-332">RSSetShadingRateImage</span></span>                            | <span data-ttu-id="a5a56-333">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-333">✓</span></span>        |         |      | <span data-ttu-id="a5a56-334">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-334">✓</span></span>      | <span data-ttu-id="a5a56-335">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-335">✓</span></span>              |
| <span data-ttu-id="a5a56-336">рссетвиевпортс</span><span class="sxs-lookup"><span data-stu-id="a5a56-336">RSSetViewports</span></span>                                   | <span data-ttu-id="a5a56-337">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-337">✓</span></span>        |         |      |        | <span data-ttu-id="a5a56-338">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-338">✓</span></span>              |
| <span data-ttu-id="a5a56-339">SetComputeRoot32BitConstant</span><span class="sxs-lookup"><span data-stu-id="a5a56-339">SetComputeRoot32BitConstant</span></span>                      | <span data-ttu-id="a5a56-340">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-340">✓</span></span>        | <span data-ttu-id="a5a56-341">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-341">✓</span></span>       |      | <span data-ttu-id="a5a56-342">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-342">✓</span></span>      | <span data-ttu-id="a5a56-343">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-343">✓</span></span>              |
| <span data-ttu-id="a5a56-344">SetComputeRoot32BitConstants</span><span class="sxs-lookup"><span data-stu-id="a5a56-344">SetComputeRoot32BitConstants</span></span>                     | <span data-ttu-id="a5a56-345">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-345">✓</span></span>        | <span data-ttu-id="a5a56-346">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-346">✓</span></span>       |      | <span data-ttu-id="a5a56-347">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-347">✓</span></span>      | <span data-ttu-id="a5a56-348">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-348">✓</span></span>              |
| <span data-ttu-id="a5a56-349">сеткомпутерутконстантбуффервиев</span><span class="sxs-lookup"><span data-stu-id="a5a56-349">SetComputeRootConstantBufferView</span></span>                 | <span data-ttu-id="a5a56-350">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-350">✓</span></span>        | <span data-ttu-id="a5a56-351">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-351">✓</span></span>       |      | <span data-ttu-id="a5a56-352">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-352">✓</span></span>      | <span data-ttu-id="a5a56-353">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-353">✓</span></span>              |
| <span data-ttu-id="a5a56-354">сеткомпутерутдескриптортабле</span><span class="sxs-lookup"><span data-stu-id="a5a56-354">SetComputeRootDescriptorTable</span></span>                    | <span data-ttu-id="a5a56-355">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-355">✓</span></span>        | <span data-ttu-id="a5a56-356">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-356">✓</span></span>       |      | <span data-ttu-id="a5a56-357">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-357">✓</span></span>      | <span data-ttu-id="a5a56-358">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-358">✓</span></span>              |
| <span data-ttu-id="a5a56-359">сеткомпутерутшадерресаурцевиев</span><span class="sxs-lookup"><span data-stu-id="a5a56-359">SetComputeRootShaderResourceView</span></span>                 | <span data-ttu-id="a5a56-360">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-360">✓</span></span>        | <span data-ttu-id="a5a56-361">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-361">✓</span></span>       |      | <span data-ttu-id="a5a56-362">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-362">✓</span></span>      | <span data-ttu-id="a5a56-363">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-363">✓</span></span>              |
| <span data-ttu-id="a5a56-364">сеткомпутерутсигнатуре</span><span class="sxs-lookup"><span data-stu-id="a5a56-364">SetComputeRootSignature</span></span>                          | <span data-ttu-id="a5a56-365">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-365">✓</span></span>        | <span data-ttu-id="a5a56-366">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-366">✓</span></span>       |      | <span data-ttu-id="a5a56-367">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-367">✓</span></span>      | <span data-ttu-id="a5a56-368">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-368">✓</span></span>              |
| <span data-ttu-id="a5a56-369">сеткомпутерутунордередакцессвиев</span><span class="sxs-lookup"><span data-stu-id="a5a56-369">SetComputeRootUnorderedAccessView</span></span>                | <span data-ttu-id="a5a56-370">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-370">✓</span></span>        | <span data-ttu-id="a5a56-371">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-371">✓</span></span>       |      | <span data-ttu-id="a5a56-372">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-372">✓</span></span>      | <span data-ttu-id="a5a56-373">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-373">✓</span></span>              |
| <span data-ttu-id="a5a56-374">сетдескрипторхеапс</span><span class="sxs-lookup"><span data-stu-id="a5a56-374">SetDescriptorHeaps</span></span>                               | <span data-ttu-id="a5a56-375">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-375">✓</span></span>        | <span data-ttu-id="a5a56-376">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-376">✓</span></span>       |      | <span data-ttu-id="a5a56-377">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-377">✓</span></span>      | <span data-ttu-id="a5a56-378">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-378">✓</span></span>              |
| <span data-ttu-id="a5a56-379">SetGraphicsRoot32BitConstant</span><span class="sxs-lookup"><span data-stu-id="a5a56-379">SetGraphicsRoot32BitConstant</span></span>                     | <span data-ttu-id="a5a56-380">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-380">✓</span></span>        |         |      | <span data-ttu-id="a5a56-381">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-381">✓</span></span>      | <span data-ttu-id="a5a56-382">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-382">✓</span></span>              |
| <span data-ttu-id="a5a56-383">SetGraphicsRoot32BitConstants</span><span class="sxs-lookup"><span data-stu-id="a5a56-383">SetGraphicsRoot32BitConstants</span></span>                    | <span data-ttu-id="a5a56-384">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-384">✓</span></span>        |         |      | <span data-ttu-id="a5a56-385">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-385">✓</span></span>      | <span data-ttu-id="a5a56-386">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-386">✓</span></span>              |
| <span data-ttu-id="a5a56-387">сетграфиксрутконстантбуффервиев</span><span class="sxs-lookup"><span data-stu-id="a5a56-387">SetGraphicsRootConstantBufferView</span></span>                | <span data-ttu-id="a5a56-388">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-388">✓</span></span>        |         |      | <span data-ttu-id="a5a56-389">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-389">✓</span></span>      | <span data-ttu-id="a5a56-390">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-390">✓</span></span>              |
| <span data-ttu-id="a5a56-391">сетграфиксрутдескриптортабле</span><span class="sxs-lookup"><span data-stu-id="a5a56-391">SetGraphicsRootDescriptorTable</span></span>                   | <span data-ttu-id="a5a56-392">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-392">✓</span></span>        |         |      | <span data-ttu-id="a5a56-393">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-393">✓</span></span>      | <span data-ttu-id="a5a56-394">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-394">✓</span></span>              |
| <span data-ttu-id="a5a56-395">сетграфиксрутшадерресаурцевиев</span><span class="sxs-lookup"><span data-stu-id="a5a56-395">SetGraphicsRootShaderResourceView</span></span>                | <span data-ttu-id="a5a56-396">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-396">✓</span></span>        |         |      | <span data-ttu-id="a5a56-397">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-397">✓</span></span>      | <span data-ttu-id="a5a56-398">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-398">✓</span></span>              |
| <span data-ttu-id="a5a56-399">сетграфиксрутсигнатуре</span><span class="sxs-lookup"><span data-stu-id="a5a56-399">SetGraphicsRootSignature</span></span>                         | <span data-ttu-id="a5a56-400">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-400">✓</span></span>        |         |      | <span data-ttu-id="a5a56-401">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-401">✓</span></span>      | <span data-ttu-id="a5a56-402">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-402">✓</span></span>              |
| <span data-ttu-id="a5a56-403">сетграфиксрутунордередакцессвиев</span><span class="sxs-lookup"><span data-stu-id="a5a56-403">SetGraphicsRootUnorderedAccessView</span></span>               | <span data-ttu-id="a5a56-404">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-404">✓</span></span>        |         |      | <span data-ttu-id="a5a56-405">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-405">✓</span></span>      | <span data-ttu-id="a5a56-406">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-406">✓</span></span>              |
| <span data-ttu-id="a5a56-407">сетпипелинестате</span><span class="sxs-lookup"><span data-stu-id="a5a56-407">SetPipelineState</span></span>                                 | <span data-ttu-id="a5a56-408">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-408">✓</span></span>        | <span data-ttu-id="a5a56-409">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-409">✓</span></span>       |      | <span data-ttu-id="a5a56-410">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-410">✓</span></span>      | <span data-ttu-id="a5a56-411">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-411">✓</span></span>              |
| <span data-ttu-id="a5a56-412">SetPipelineState1</span><span class="sxs-lookup"><span data-stu-id="a5a56-412">SetPipelineState1</span></span>                                | <span data-ttu-id="a5a56-413">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-413">✓</span></span>        | <span data-ttu-id="a5a56-414">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-414">✓</span></span>       |      | <span data-ttu-id="a5a56-415">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-415">✓</span></span>      |                |
| <span data-ttu-id="a5a56-416">сетпредикатион</span><span class="sxs-lookup"><span data-stu-id="a5a56-416">SetPredication</span></span>                                   | <span data-ttu-id="a5a56-417">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-417">✓</span></span>        | <span data-ttu-id="a5a56-418">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-418">✓</span></span>       |      |        | <span data-ttu-id="a5a56-419">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-419">✓</span></span>              |
| <span data-ttu-id="a5a56-420">сетпротектедресаурцесессион</span><span class="sxs-lookup"><span data-stu-id="a5a56-420">SetProtectedResourceSession</span></span>                      | <span data-ttu-id="a5a56-421">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-421">✓</span></span>        | <span data-ttu-id="a5a56-422">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-422">✓</span></span>       | <span data-ttu-id="a5a56-423">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-423">✓</span></span>    |        |                |
| <span data-ttu-id="a5a56-424">сетсамплепоситионс</span><span class="sxs-lookup"><span data-stu-id="a5a56-424">SetSamplePositions</span></span>                               | <span data-ttu-id="a5a56-425">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-425">✓</span></span>        |         |      | <span data-ttu-id="a5a56-426">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-426">✓</span></span>      | <span data-ttu-id="a5a56-427">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-427">✓</span></span>              |
| <span data-ttu-id="a5a56-428">сетвиевинстанцемаск</span><span class="sxs-lookup"><span data-stu-id="a5a56-428">SetViewInstanceMask</span></span>                              | <span data-ttu-id="a5a56-429">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-429">✓</span></span>        |         |      | <span data-ttu-id="a5a56-430">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-430">✓</span></span>      | <span data-ttu-id="a5a56-431">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-431">✓</span></span>              |
| <span data-ttu-id="a5a56-432">сосеттаржетс</span><span class="sxs-lookup"><span data-stu-id="a5a56-432">SOSetTargets</span></span>                                     | <span data-ttu-id="a5a56-433">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-433">✓</span></span>        |         |      |        | <span data-ttu-id="a5a56-434">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-434">✓</span></span>              |
| <span data-ttu-id="a5a56-435">вритебуффериммедиате</span><span class="sxs-lookup"><span data-stu-id="a5a56-435">WriteBufferImmediate</span></span>                             | <span data-ttu-id="a5a56-436">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-436">✓</span></span>        | <span data-ttu-id="a5a56-437">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-437">✓</span></span>       | <span data-ttu-id="a5a56-438">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-438">✓</span></span>    | <span data-ttu-id="a5a56-439">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-439">✓</span></span>      | <span data-ttu-id="a5a56-440">✓</span><span class="sxs-lookup"><span data-stu-id="a5a56-440">✓</span></span>              |

## <a name="bundle-restrictions"></a><span data-ttu-id="a5a56-441">Ограничения пакета</span><span class="sxs-lookup"><span data-stu-id="a5a56-441">Bundle restrictions</span></span>

<span data-ttu-id="a5a56-442">Ограничения позволяют драйверам Direct3D 12 выполнять большую часть работы, связанную с пакетами во время записи, тем самым позволяя запускать API [**ексекутебундле**](/windows/win32/api/d3d12/nf-d3d12-id3d12graphicscommandlist-executebundle) с низкими издержками.</span><span class="sxs-lookup"><span data-stu-id="a5a56-442">Restrictions enable Direct3D 12 drivers to do most of the work associated with bundles at record time, thus enabling the [**ExecuteBundle**](/windows/win32/api/d3d12/nf-d3d12-id3d12graphicscommandlist-executebundle) API to be run with low overhead.</span></span> <span data-ttu-id="a5a56-443">Все объекты состояния конвейера, на которые ссылается пакет, должны иметь одинаковые форматы целевого объекта рендеринга, формат буфера глубины и примеры описаний.</span><span class="sxs-lookup"><span data-stu-id="a5a56-443">All pipeline state objects referenced by a bundle must have the same render target formats, depth buffer format, and sample descriptions.</span></span>

<span data-ttu-id="a5a56-444">Следующие команды API не допускаются для списков команд, созданных с помощью типа: D3D12 \_ \_ \_ набор типов списка команд \_ :</span><span class="sxs-lookup"><span data-stu-id="a5a56-444">The following command list API calls are not allowed on command lists created with type: D3D12\_COMMAND\_LIST\_TYPE\_BUNDLE:</span></span>

-   <span data-ttu-id="a5a56-445">Любой метод Clear</span><span class="sxs-lookup"><span data-stu-id="a5a56-445">Any Clear method</span></span>
-   <span data-ttu-id="a5a56-446">Любой метод Copy</span><span class="sxs-lookup"><span data-stu-id="a5a56-446">Any Copy method</span></span>
-   [<span data-ttu-id="a5a56-447">**дискардресаурце**</span><span class="sxs-lookup"><span data-stu-id="a5a56-447">**DiscardResource**</span></span>](/windows/win32/api/d3d12/nf-d3d12-id3d12graphicscommandlist-discardresource)
-   [<span data-ttu-id="a5a56-448">**ексекутебундле**</span><span class="sxs-lookup"><span data-stu-id="a5a56-448">**ExecuteBundle**</span></span>](/windows/win32/api/d3d12/nf-d3d12-id3d12graphicscommandlist-executebundle)
-   [<span data-ttu-id="a5a56-449">**ресаурцебарриер**</span><span class="sxs-lookup"><span data-stu-id="a5a56-449">**ResourceBarrier**</span></span>](/windows/win32/api/d3d12/nf-d3d12-id3d12graphicscommandlist-resourcebarrier)
-   [<span data-ttu-id="a5a56-450">**ресолвесубресаурце**</span><span class="sxs-lookup"><span data-stu-id="a5a56-450">**ResolveSubresource**</span></span>](/windows/win32/api/d3d12/nf-d3d12-id3d12graphicscommandlist-resolvesubresource)
-   [<span data-ttu-id="a5a56-451">**сетпредикатион**</span><span class="sxs-lookup"><span data-stu-id="a5a56-451">**SetPredication**</span></span>](/windows/win32/api/d3d12/nf-d3d12-id3d12graphicscommandlist-setpredication)
-   [<span data-ttu-id="a5a56-452">**бегинкуери**</span><span class="sxs-lookup"><span data-stu-id="a5a56-452">**BeginQuery**</span></span>](/windows/win32/api/d3d12/nf-d3d12-id3d12graphicscommandlist-beginquery)
-   [<span data-ttu-id="a5a56-453">**ендкуери**</span><span class="sxs-lookup"><span data-stu-id="a5a56-453">**EndQuery**</span></span>](/windows/win32/api/d3d12/nf-d3d12-id3d12graphicscommandlist-endquery)
-   [<span data-ttu-id="a5a56-454">**сосеттаржетс**</span><span class="sxs-lookup"><span data-stu-id="a5a56-454">**SOSetTargets**</span></span>](/windows/win32/api/d3d12/nf-d3d12-id3d12graphicscommandlist-sosettargets)
-   [<span data-ttu-id="a5a56-455">**омсетрендертаржетс**</span><span class="sxs-lookup"><span data-stu-id="a5a56-455">**OMSetRenderTargets**</span></span>](/windows/win32/api/d3d12/nf-d3d12-id3d12graphicscommandlist-omsetrendertargets)
-   [<span data-ttu-id="a5a56-456">**рссетвиевпортс**</span><span class="sxs-lookup"><span data-stu-id="a5a56-456">**RSSetViewports**</span></span>](/windows/win32/api/d3d12/nf-d3d12-id3d12graphicscommandlist-rssetviewports)
-   [<span data-ttu-id="a5a56-457">**рссетсЦиссорректс**</span><span class="sxs-lookup"><span data-stu-id="a5a56-457">**RSSetScissorRects**</span></span>](/windows/win32/api/d3d12/nf-d3d12-id3d12graphicscommandlist-rssetscissorrects)

<span data-ttu-id="a5a56-458">[**Сетдескрипторхеапс**](/windows/win32/api/d3d12/nf-d3d12-id3d12graphicscommandlist-setdescriptorheaps) можно вызывать для пакета, но кучи дескрипторов наборов должны соответствовать куче дескрипторов списка команд.</span><span class="sxs-lookup"><span data-stu-id="a5a56-458">[**SetDescriptorHeaps**](/windows/win32/api/d3d12/nf-d3d12-id3d12graphicscommandlist-setdescriptorheaps) can be called on a bundle, but the bundle descriptor heaps must match the calling command list descriptor heap.</span></span>

<span data-ttu-id="a5a56-459">Если какой-либо из этих интерфейсов API вызывается в пакете, среда выполнения удаляет вызов.</span><span class="sxs-lookup"><span data-stu-id="a5a56-459">If any of these APIs are called on a bundle, the runtime will drop the call.</span></span> <span data-ttu-id="a5a56-460">При возникновении этой ошибки отладочный слой выдаст ошибку.</span><span class="sxs-lookup"><span data-stu-id="a5a56-460">The debug layer will issue an error whenever this occurs.</span></span>

## <a name="related-topics"></a><span data-ttu-id="a5a56-461">Связанные темы</span><span class="sxs-lookup"><span data-stu-id="a5a56-461">Related topics</span></span>

[<span data-ttu-id="a5a56-462">Отправка рабочих заданий в Direct3D 12</span><span class="sxs-lookup"><span data-stu-id="a5a56-462">Work Submission in Direct3D 12</span></span>](command-queues-and-command-lists.md)