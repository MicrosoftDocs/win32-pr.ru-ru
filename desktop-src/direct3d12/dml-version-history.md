---
title: Журнал версий DirectML
description: директмл распространяется как системный компонент Windows 10 и доступен в составе Windows 10 операционной системы (ос) в Windows 10 версии 1903 (10,0; Сборка 18362) и более поздние версии.
ms.localizationpriority: high
ms.topic: article
ms.date: 11/05/2020
ms.openlocfilehash: 0a2524faf077b6e4198810395e4aef8da56780af
ms.sourcegitcommit: 0b93de98c4afc79a6801a113bc91adbc89e835b9
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/03/2021
ms.locfileid: "113282573"
---
# <a name="directml-version-history"></a><span data-ttu-id="27f28-103">Журнал версий DirectML</span><span class="sxs-lookup"><span data-stu-id="27f28-103">DirectML version history</span></span>

<span data-ttu-id="27f28-104">директмл распространяется как системный компонент Windows 10 и доступен в составе Windows 10 операционной системы (ос) в Windows 10 версии 1903 (10,0; Сборка 18362) и более поздние версии.</span><span class="sxs-lookup"><span data-stu-id="27f28-104">DirectML is distributed as a system component of Windows 10, and is available as part of the Windows 10 operating system (OS) in Windows 10, version 1903 (10.0; Build 18362), and newer.</span></span>

<span data-ttu-id="27f28-105">Начиная с версии Директмл 1.4.0, Директмл также доступен в виде автономного распространяемого пакета (см [. Microsoft. AI. директмл](https://www.nuget.org/packages/Microsoft.AI.DirectML/)), который полезен для приложений, которые хотят использовать фиксированную версию директмл или при работе в более ранних версиях Windows 10.</span><span class="sxs-lookup"><span data-stu-id="27f28-105">Starting with DirectML version 1.4.0, DirectML is also available as a standalone redistributable package (see [Microsoft.AI.DirectML](https://www.nuget.org/packages/Microsoft.AI.DirectML/)), which is useful for applications that wish to use a fixed version of DirectML, or when running on older versions of Windows 10.</span></span>

<span data-ttu-id="27f28-106">Директмл соответствует соглашениям об [семантическом управлении версиями](https://semver.org/) .</span><span class="sxs-lookup"><span data-stu-id="27f28-106">DirectML follows the [semantic versioning](https://semver.org/) conventions.</span></span> <span data-ttu-id="27f28-107">Это значит, что номера версий соответствуют форме `major.minor.patch` .</span><span class="sxs-lookup"><span data-stu-id="27f28-107">That is, version numbers follow the form `major.minor.patch`.</span></span> <span data-ttu-id="27f28-108">В первом выпуске Директмл есть версия 1.0.0.</span><span class="sxs-lookup"><span data-stu-id="27f28-108">The first release of DirectML has a version of 1.0.0.</span></span>

## <a name="version-table"></a><span data-ttu-id="27f28-109">Таблица версий</span><span class="sxs-lookup"><span data-stu-id="27f28-109">Version table</span></span>

|<span data-ttu-id="27f28-110">Версия Директмл</span><span class="sxs-lookup"><span data-stu-id="27f28-110">DirectML version</span></span>|<span data-ttu-id="27f28-111">Поддерживаемый уровень компонентов (см. [Журнал уровня функций директмл](./dml-feature-level-history.md))</span><span class="sxs-lookup"><span data-stu-id="27f28-111">Feature level supported (see [DirectML feature level history](./dml-feature-level-history.md))</span></span>|<span data-ttu-id="27f28-112">DML_TARGET_VERSION</span><span class="sxs-lookup"><span data-stu-id="27f28-112">DML_TARGET_VERSION</span></span>|<span data-ttu-id="27f28-113">Первый доступ в</span><span class="sxs-lookup"><span data-stu-id="27f28-113">First available in</span></span>|<span data-ttu-id="27f28-114">Первый доступный в (распространяемый)</span><span class="sxs-lookup"><span data-stu-id="27f28-114">First available in (Redistributable)</span></span>|
|-|-|-|-|-|
|<span data-ttu-id="27f28-115">1.6.0</span><span class="sxs-lookup"><span data-stu-id="27f28-115">1.6.0</span></span>|<span data-ttu-id="27f28-116">DML_FEATURE_LEVEL_4_0</span><span class="sxs-lookup"><span data-stu-id="27f28-116">DML_FEATURE_LEVEL_4_0</span></span>|`0x4000`|<span data-ttu-id="27f28-117">Недоступно</span><span class="sxs-lookup"><span data-stu-id="27f28-117">N/A</span></span>|[<span data-ttu-id="27f28-118">Директмл — 1.6.0</span><span class="sxs-lookup"><span data-stu-id="27f28-118">DirectML-1.6.0</span></span>](https://www.nuget.org/packages/Microsoft.AI.DirectML/1.6.0)|
|<span data-ttu-id="27f28-119">1.5.0</span><span class="sxs-lookup"><span data-stu-id="27f28-119">1.5.0</span></span>|<span data-ttu-id="27f28-120">DML_FEATURE_LEVEL_3_1</span><span class="sxs-lookup"><span data-stu-id="27f28-120">DML_FEATURE_LEVEL_3_1</span></span>|`0x3100`|<span data-ttu-id="27f28-121">Недоступно</span><span class="sxs-lookup"><span data-stu-id="27f28-121">N/A</span></span>|[<span data-ttu-id="27f28-122">Директмл — 1.5.0</span><span class="sxs-lookup"><span data-stu-id="27f28-122">DirectML-1.5.0</span></span>](https://www.nuget.org/packages/Microsoft.AI.DirectML/1.5.0)|
|<span data-ttu-id="27f28-123">1.4.0<sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="27f28-123">1.4.0<sup>1</sup></span></span>|<span data-ttu-id="27f28-124">DML_FEATURE_LEVEL_3_0</span><span class="sxs-lookup"><span data-stu-id="27f28-124">DML_FEATURE_LEVEL_3_0</span></span>|`0x3000`|<span data-ttu-id="27f28-125">Недоступно</span><span class="sxs-lookup"><span data-stu-id="27f28-125">N/A</span></span>|[<span data-ttu-id="27f28-126">Директмл — 1.4.0</span><span class="sxs-lookup"><span data-stu-id="27f28-126">DirectML-1.4.0</span></span>](https://www.nuget.org/packages/Microsoft.AI.DirectML/1.4.0)|
|<span data-ttu-id="27f28-127">1.1.0</span><span class="sxs-lookup"><span data-stu-id="27f28-127">1.1.0</span></span>|<span data-ttu-id="27f28-128">DML_FEATURE_LEVEL_2_0</span><span class="sxs-lookup"><span data-stu-id="27f28-128">DML_FEATURE_LEVEL_2_0</span></span>|`0x2000`|<span data-ttu-id="27f28-129">Windows 10, версия 2004 (10,0; сборка 19041) (Windows 10 может 2020 обновление).</span><span class="sxs-lookup"><span data-stu-id="27f28-129">Windows 10, version 2004 (10.0; Build 19041) (Windows 10 May 2020 Update).</span></span> <span data-ttu-id="27f28-130">Так называемый "20H1".</span><span class="sxs-lookup"><span data-stu-id="27f28-130">Aka "20H1".</span></span>|<span data-ttu-id="27f28-131">Недоступно</span><span class="sxs-lookup"><span data-stu-id="27f28-131">N/A</span></span>|
|<span data-ttu-id="27f28-132">1.0.0</span><span class="sxs-lookup"><span data-stu-id="27f28-132">1.0.0</span></span>|<span data-ttu-id="27f28-133">DML_FEATURE_LEVEL_1_0</span><span class="sxs-lookup"><span data-stu-id="27f28-133">DML_FEATURE_LEVEL_1_0</span></span>|`0x1000`|<span data-ttu-id="27f28-134">Windows 10, версия 1903 (10,0; сборка 18362) (обновление Windows 10 за май 2019 г.).</span><span class="sxs-lookup"><span data-stu-id="27f28-134">Windows 10, version 1903 (10.0; Build 18362) (Windows 10 May 2019 Update).</span></span> <span data-ttu-id="27f28-135">Так называемый "19H1".</span><span class="sxs-lookup"><span data-stu-id="27f28-135">Aka "19H1".</span></span>|<span data-ttu-id="27f28-136">Недоступно</span><span class="sxs-lookup"><span data-stu-id="27f28-136">N/A</span></span>|

<span data-ttu-id="27f28-137"><sup>1</sup> 1.2.0 и 1.3.0 промежуточные выпуски директмл не были широко доступны.</span><span class="sxs-lookup"><span data-stu-id="27f28-137"><sup>1</sup> The 1.2.0 and 1.3.0 intermediate releases of DirectML weren't made widely available.</span></span>

## <a name="selecting-a-directml-target-version"></a><span data-ttu-id="27f28-138">Выбор целевой версии Директмл</span><span class="sxs-lookup"><span data-stu-id="27f28-138">Selecting a DirectML target version</span></span>

<span data-ttu-id="27f28-139">Для удобства некоторые функции в `DirectML.h` файле заголовка объявляются условно на основе значения `DML_TARGET_VERSION` макроса.</span><span class="sxs-lookup"><span data-stu-id="27f28-139">For convenience, certain features in the `DirectML.h` header file are declared conditionally based on the value of the `DML_TARGET_VERSION` macro.</span></span> <span data-ttu-id="27f28-140">Установив `DML_TARGET_VERSION` для макроса определенные значения, можно исключить части `DirectML.h` из приложения.</span><span class="sxs-lookup"><span data-stu-id="27f28-140">By setting the `DML_TARGET_VERSION` macro to certain values, you can exclude parts of `DirectML.h` from your application.</span></span>

<span data-ttu-id="27f28-141">Это может быть полезно, если вы используете более новую копию `DirectML.h` , но вы используете более раннюю версию двоичного файла директмл, так как гарантируется, что любая попытка использовать компоненты, выходящие за рамки выбранного целевого уровня, не будет компилироваться.</span><span class="sxs-lookup"><span data-stu-id="27f28-141">That can be helpful if you're using a newer copy of `DirectML.h`, but you're targeting a lower version of the DirectML binary, because it ensures that any attempt to use features beyond the chosen target level won't compile.</span></span> <span data-ttu-id="27f28-142">Этот механизм аналогичен `NTDDI_VERSION` макросу (см. [макросы для условных объявлений](../winprog/using-the-windows-headers.md#macros-for-conditional-declarations)).</span><span class="sxs-lookup"><span data-stu-id="27f28-142">This mechanism is similar to the `NTDDI_VERSION` macro (see [Macros for conditional declarations](../winprog/using-the-windows-headers.md#macros-for-conditional-declarations)).</span></span>

<span data-ttu-id="27f28-143">Ниже приведены допустимые значения для `DML_TARGET_VERSION` макроса.</span><span class="sxs-lookup"><span data-stu-id="27f28-143">Here are the valid values for the `DML_TARGET_VERSION` macro.</span></span>

|<span data-ttu-id="27f28-144">DML_TARGET_VERSION</span><span class="sxs-lookup"><span data-stu-id="27f28-144">DML_TARGET_VERSION</span></span>|<span data-ttu-id="27f28-145">Действие</span><span class="sxs-lookup"><span data-stu-id="27f28-145">Effect</span></span>|
|-|-|
|`0x4000`|<span data-ttu-id="27f28-146">Все функции, которым требуется версия Директмл более поздней, чем **1.6.0** , исключаются из `DirectML.h` .</span><span class="sxs-lookup"><span data-stu-id="27f28-146">Any features that require a version of DirectML newer than **1.6.0** are excluded from `DirectML.h`.</span></span>|
|`0x3000`|<span data-ttu-id="27f28-147">Все функции, которым требуется версия Директмл более поздней, чем **1.4.0** , исключаются из `DirectML.h` .</span><span class="sxs-lookup"><span data-stu-id="27f28-147">Any features that require a version of DirectML newer than **1.4.0** are excluded from `DirectML.h`.</span></span>|
|`0x2000`|<span data-ttu-id="27f28-148">Все функции, которым требуется версия Директмл более поздней, чем **1.1.0** , исключаются из `DirectML.h` .</span><span class="sxs-lookup"><span data-stu-id="27f28-148">Any features that require a version of DirectML newer than **1.1.0** are excluded from `DirectML.h`.</span></span>|
|`0x1000`|<span data-ttu-id="27f28-149">Все функции, для которых требуется версия Директмл новее **1.0.0** , исключаются из `DirectML.h` .</span><span class="sxs-lookup"><span data-stu-id="27f28-149">Any features that require a version of DirectML newer than **1.0.0** are excluded from `DirectML.h`.</span></span>|
|<span data-ttu-id="27f28-150">*Не задано*</span><span class="sxs-lookup"><span data-stu-id="27f28-150">*Not set*</span></span>|<span data-ttu-id="27f28-151">Целевая версия выбирается автоматически.</span><span class="sxs-lookup"><span data-stu-id="27f28-151">The target version is selected automatically for you.</span></span> <span data-ttu-id="27f28-152">Дополнительные сведения см. далее.</span><span class="sxs-lookup"><span data-stu-id="27f28-152">See below for details.</span></span>|

<span data-ttu-id="27f28-153">Если `DML_TARGET_VERSION` параметр не установлен, он выбирается автоматически следующим.</span><span class="sxs-lookup"><span data-stu-id="27f28-153">If `DML_TARGET_VERSION` is not set, then it is selected automatically by the following.</span></span>

* <span data-ttu-id="27f28-154">Если `DML_TARGET_VERSION_USE_LATEST` макрос определен, выбирается последняя целевая версия.</span><span class="sxs-lookup"><span data-stu-id="27f28-154">If the `DML_TARGET_VERSION_USE_LATEST` macro is defined, then the latest target version is selected.</span></span>
* <span data-ttu-id="27f28-155">В противном случае целевая версия выбирается в зависимости от значения `NTDDI_VERSION` макроса.</span><span class="sxs-lookup"><span data-stu-id="27f28-155">Otherwise, the target version is selected based on the value of the `NTDDI_VERSION` macro.</span></span>
  *  <span data-ttu-id="27f28-156">`NTDDI_WIN10_CO` результатом является Целевая версия `0x4000` .</span><span class="sxs-lookup"><span data-stu-id="27f28-156">`NTDDI_WIN10_CO` results in a target version of `0x4000`.</span></span>
  *  <span data-ttu-id="27f28-157">`NTDDI_WIN10_FE` результатом является Целевая версия `0x3000` .</span><span class="sxs-lookup"><span data-stu-id="27f28-157">`NTDDI_WIN10_FE` results in a target version of `0x3000`.</span></span>
  *  <span data-ttu-id="27f28-158">`NTDDI_WIN10_VB` результатом является Целевая версия `0x2000` .</span><span class="sxs-lookup"><span data-stu-id="27f28-158">`NTDDI_WIN10_VB` results in a target version of `0x2000`.</span></span>
  *  <span data-ttu-id="27f28-159">`NTDDI_WIN10_19H1` результатом является Целевая версия `0x1000` .</span><span class="sxs-lookup"><span data-stu-id="27f28-159">`NTDDI_WIN10_19H1` results in a target version of `0x1000`.</span></span>
  *  <span data-ttu-id="27f28-160">Если `NTDDI_VERSION` параметр не определен, выбирается последняя целевая версия (как если `DML_TARGET_VERSION_USE_LATEST` бы была указана).</span><span class="sxs-lookup"><span data-stu-id="27f28-160">If `NTDDI_VERSION` is not defined, then the latest target version is selected (as if `DML_TARGET_VERSION_USE_LATEST` were specified).</span></span>

### <a name="example"></a><span data-ttu-id="27f28-161">Пример</span><span class="sxs-lookup"><span data-stu-id="27f28-161">Example</span></span>

<span data-ttu-id="27f28-162">рассмотрим приложение, использующее версию 10.0.19041.0 (Windows 10, версию 2004) Windows пакета средств разработки программного обеспечения (SDK).</span><span class="sxs-lookup"><span data-stu-id="27f28-162">Consider an application using version 10.0.19041.0 (Windows 10, version 2004) of the Windows Software Development Kit (SDK).</span></span> <span data-ttu-id="27f28-163">В таблице выше версия Директмл, которая соответствует этому параметру, — 1.1.0, а соответствующий `DML_TARGET_VERSION` — `0x2000` .</span><span class="sxs-lookup"><span data-stu-id="27f28-163">From the table above, the version of DirectML that this corresponds to is 1.1.0, and the corresponding `DML_TARGET_VERSION` is `0x2000`.</span></span>

<span data-ttu-id="27f28-164">Если не задать `DML_TARGET_VERSION` ни `NTDDI_VERSION` макрос, ни, выбранная Целевая версия будет по умолчанию `0x2000` иметь значение, а все в `DirectML.h` будет доступно для использования.</span><span class="sxs-lookup"><span data-stu-id="27f28-164">If you don't set either the `DML_TARGET_VERSION` nor the `NTDDI_VERSION` macros, then the selected target version will default to `0x2000`, and everything in `DirectML.h` will be available for use.</span></span>

<span data-ttu-id="27f28-165">если вы хотите, чтобы приложение могло работать на Windows 10, версия 1903 (10,0; Сборка 18362), то можно было бы `#define DML_TARGET_VERSION 0x1000` исключить все содержимое в `DirectML.h` , которое не поддерживается директмл версии 1.0.0.</span><span class="sxs-lookup"><span data-stu-id="27f28-165">If you want your application to be able to run on Windows 10, version 1903 (10.0; Build 18362), then you could `#define DML_TARGET_VERSION 0x1000`, which will exclude all content in `DirectML.h` that isn't supported by DirectML version 1.0.0.</span></span> <span data-ttu-id="27f28-166">Это гарантирует, что любая попытка использовать функциональные возможности, для которых требуется более поздняя версия, не будет компилироваться.</span><span class="sxs-lookup"><span data-stu-id="27f28-166">This ensures that any attempt to use functionality that requires a greater version will fail to compile.</span></span>

## <a name="directml-version-versus-feature-level"></a><span data-ttu-id="27f28-167">Версия Директмл и уровень компонентов</span><span class="sxs-lookup"><span data-stu-id="27f28-167">DirectML version versus feature level</span></span>

<span data-ttu-id="27f28-168">Версия Директмл (например, 1.0.0 или 1.4.0) описывает определенный выпуск Директмл, включая соответствующий `DirectML.h` файл заголовка и `.lib` файл.</span><span class="sxs-lookup"><span data-stu-id="27f28-168">The DirectML version (for example, 1.0.0, or 1.4.0) describes a particular release of DirectML, including its associated `DirectML.h` header file and `.lib` file.</span></span>

<span data-ttu-id="27f28-169">Уровень компонентов (например, `DML_FEATURE_LEVEL_1_0` или `DML_FEATURE_LEVEL_2_0` ) описывает возможность базовой реализации API, которая может отличаться от `DirectML.h` используемой версии.</span><span class="sxs-lookup"><span data-stu-id="27f28-169">The feature level (for example, `DML_FEATURE_LEVEL_1_0`, or `DML_FEATURE_LEVEL_2_0`) describes the capability of the underlying implementation of the API, which can vary from the version of `DirectML.h` used.</span></span>

<span data-ttu-id="27f28-170">например, приложение, создающее более новый пакет sdk, но работающее на более ранней версии Windows, может (в среде выполнения) увидеть более низкий поддерживаемый уровень функций, даже если он компилируется с последним пакетом sdk.</span><span class="sxs-lookup"><span data-stu-id="27f28-170">For example, an application building against a newer SDK, but running on an older version of Windows, might (at runtime) see a lower supported feature level, even if it's compiled against the latest SDK.</span></span>

## <a name="see-also"></a><span data-ttu-id="27f28-171">См. также</span><span class="sxs-lookup"><span data-stu-id="27f28-171">See also</span></span>

* [<span data-ttu-id="27f28-172">Журнал уровня компонентов DirectML</span><span class="sxs-lookup"><span data-stu-id="27f28-172">DirectML feature level history</span></span>](./dml-feature-level-history.md)
* [<span data-ttu-id="27f28-173">Перечисление DML_FEATURE_LEVEL</span><span class="sxs-lookup"><span data-stu-id="27f28-173">DML_FEATURE_LEVEL enumeration</span></span>](/windows/win32/api/directml/ne-directml-dml_feature_level)
* [<span data-ttu-id="27f28-174">Распространяемый пакет Microsoft. AI. Директмл</span><span class="sxs-lookup"><span data-stu-id="27f28-174">Microsoft.AI.DirectML redistributable package</span></span>](https://www.nuget.org/packages/Microsoft.AI.DirectML/)