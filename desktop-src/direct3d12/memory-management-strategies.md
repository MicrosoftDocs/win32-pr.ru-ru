---
title: Стратегии управления памятью
description: Диспетчер памяти для Direct3D 12 может очень усложнить работу со всеми различными уровнями поддержки, для сетевых карт, а также с существенным спектром различий в архитектуре между адаптерами GPU. Рекомендуемой стратегией для управления памятью Direct3D 12, описанной в этом разделе, является \ 0034; классификация, бюджет и поток \ 0034;.
ms.assetid: BC9894F7-D496-46F2-A5C3-C7CA31FD4BA8
ms.localizationpriority: high
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: dad04055a5acdeeeaead3a56f0bd04e64aa90fe0
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/20/2020
ms.locfileid: "104548981"
---
# <a name="memory-management-strategies"></a><span data-ttu-id="387b7-103">Стратегии управления памятью</span><span class="sxs-lookup"><span data-stu-id="387b7-103">Memory Management Strategies</span></span>

<span data-ttu-id="387b7-104">Диспетчер памяти для Direct3D 12 может очень усложнить работу со всеми различными уровнями поддержки, для сетевых карт, а также с существенным спектром различий в архитектуре между адаптерами GPU.</span><span class="sxs-lookup"><span data-stu-id="387b7-104">A memory manager for Direct3D 12 could get very complicated quickly with all the different tiers of support, for UMA or discrete (non-UMA) adapters, and with a considerable range of architecture differences between GPU adapters.</span></span>

<span data-ttu-id="387b7-105">Рекомендуемой стратегией для управления памятью Direct3D 12, описанной в этом разделе, является классификация, бюджет и поток.</span><span class="sxs-lookup"><span data-stu-id="387b7-105">The recommended strategy for Direct3D 12 memory management , described in this section, is "classify, budget and stream".</span></span>

-   [<span data-ttu-id="387b7-106">Типы ресурсов</span><span class="sxs-lookup"><span data-stu-id="387b7-106">Resource types</span></span>](#resource-types)
-   [<span data-ttu-id="387b7-107">Бюджет памяти</span><span class="sxs-lookup"><span data-stu-id="387b7-107">Memory budget</span></span>](#memory-budget)
-   [<span data-ttu-id="387b7-108">Стратегия классификации</span><span class="sxs-lookup"><span data-stu-id="387b7-108">Classification strategy</span></span>](#classification-strategy)
-   [<span data-ttu-id="387b7-109">Связанные темы</span><span class="sxs-lookup"><span data-stu-id="387b7-109">Related topics</span></span>](#related-topics)

## <a name="resource-types"></a><span data-ttu-id="387b7-110">Типы ресурсов</span><span class="sxs-lookup"><span data-stu-id="387b7-110">Resource types</span></span>

<span data-ttu-id="387b7-111">Основная концепция «выделенного ресурса» (создание как виртуальных, так и физических адресных пространств, инициализированных в управляемой физической памяти) была выполнена с момента Direct3D 9, хотя виртуальная адресация (ва) и физическая адресация могут быть теаседы в Direct3D 12, что позволяет приложению аккуратно управлять физической памятью.</span><span class="sxs-lookup"><span data-stu-id="387b7-111">The basic concept of a "committed resource" (creating both virtual and physical address spaces initialized in managed physical memory) has been around since Direct3D 9, though the virtual addressing (VA) and physical addressing can be teased apart in Direct3D 12 to allow the app to carefully manage physical memory.</span></span>

<span data-ttu-id="387b7-112">Помимо зафиксированных ресурсов, конструкция кучи Direct3D 12 включает два других типа ресурсов: "помещено" и "зарезервировано".</span><span class="sxs-lookup"><span data-stu-id="387b7-112">In addition to committed resources, the heap construct of Direct3D 12 enables two other types of resource: "placed" and "reserved".</span></span> <span data-ttu-id="387b7-113">В Direct3D 11 «зарезервированный» ресурс назывался «мозаичным ресурсом».</span><span class="sxs-lookup"><span data-stu-id="387b7-113">In Direct3D 11 a "reserved" resource was known as a "tiled resource".</span></span>

<span data-ttu-id="387b7-114">Зарезервированные ресурсы отличаются от размещенных ресурсов в том, что зарезервированные ресурсы имеют собственное уникальное виртуальное адресное пространство GPU.</span><span class="sxs-lookup"><span data-stu-id="387b7-114">Reserved resources differ from placed resources in that reserved resources have their own unique GPU virtual address space.</span></span> <span data-ttu-id="387b7-115">Это позволяет получить большой объем пространства на сервере, а затем включает сопоставление страниц ва с определенными частями кучи, и приложение перестраивает размещение в режиме реального времени.</span><span class="sxs-lookup"><span data-stu-id="387b7-115">This allows a large allocation of VA space up front and then enables mapping of VA pages to certain sections of the heap later, and the application reconfigures the arrangement on the fly.</span></span> <span data-ttu-id="387b7-116">Неупорядоченное пространство является непрерывным, и его можно разреженно сопоставить с.</span><span class="sxs-lookup"><span data-stu-id="387b7-116">The VA space is contiguous, and can be sparsely mapped to.</span></span>

<span data-ttu-id="387b7-117">Зарезервированный ресурс можно создать для ссылок на регионы в куче с помощью вызовов API, таких как [**упдатетилемаппингс**](/windows/desktop/api/d3d12/nf-d3d12-id3d12commandqueue-updatetilemappings) , и их можно сделать резидентными в приложении, обновив таблицы страниц в режиме реального времени.</span><span class="sxs-lookup"><span data-stu-id="387b7-117">The reserved resource can be made to reference regions in the heap with API calls such as [**UpdateTileMappings**](/windows/desktop/api/d3d12/nf-d3d12-id3d12commandqueue-updatetilemappings) and they can be made resident by the app by updating page tables on the fly.</span></span> <span data-ttu-id="387b7-118">Если диапазон номеров ва сопоставлен со значением NULL или нерезидентной кучей, эта часть ресурса считается нерезидентной.</span><span class="sxs-lookup"><span data-stu-id="387b7-118">When a VA range is mapped to NULL or a non-resident heap, that portion of the resource is considered non-resident.</span></span> <span data-ttu-id="387b7-119">Когда диапазон ва сопоставляется с резидентной кучей, эта часть ресурса считается резидентной.</span><span class="sxs-lookup"><span data-stu-id="387b7-119">When a VA range is mapped to a resident heap, that portion of the resource is considered resident.</span></span> <span data-ttu-id="387b7-120">Кучи выводятся после создания.</span><span class="sxs-lookup"><span data-stu-id="387b7-120">Heaps are resident upon creation.</span></span>

<span data-ttu-id="387b7-121">Размещенные ресурсы — это гораздо более простой проект, который просто является указателем на определенную область кучи (например, 1 МБ для текстуры в куче размером 5 МБ).</span><span class="sxs-lookup"><span data-stu-id="387b7-121">Placed resources are a much simpler design, being simply a pointer to a certain region of a heap (for example, a 1Mb region for a texture in a 5Mb heap).</span></span> <span data-ttu-id="387b7-122">Барьеры с псевдонимами позволяют использовать пересекающиеся размещенные ресурсы (см. [**креатеплацедресаурце**](/windows/desktop/api/d3d12/nf-d3d12-id3d12device-createplacedresource) и [**ресаурцебарриер**](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-resourcebarrier)).</span><span class="sxs-lookup"><span data-stu-id="387b7-122">Aliasing barriers enable the use of overlapping placed resources (refer to [**CreatePlacedResource**](/windows/desktop/api/d3d12/nf-d3d12-id3d12device-createplacedresource) and [**ResourceBarrier**](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-resourcebarrier)).</span></span>

<span data-ttu-id="387b7-123">Зарезервированные ресурсы доступны не на всех устройствах с Direct3D 12, а размещенные ресурсы являются разумным резервом, хотя размещенные ресурсы должны быть непрерывными и не могут быть частично резидентными.</span><span class="sxs-lookup"><span data-stu-id="387b7-123">Reserved resources are not available on all Direct3D 12 hardware, and placed resources are a reasonable fallback, though placed resources must be contiguous and cannot be partially resident.</span></span>

## <a name="memory-budget"></a><span data-ttu-id="387b7-124">Бюджет памяти</span><span class="sxs-lookup"><span data-stu-id="387b7-124">Memory budget</span></span>

<span data-ttu-id="387b7-125">В Direct3D 12 при выделении кучи вы создаете аспект физической памяти выделенного ресурса.</span><span class="sxs-lookup"><span data-stu-id="387b7-125">In Direct3D 12 when you allocate a heap you are creating the physical memory aspect of a committed resource.</span></span> <span data-ttu-id="387b7-126">Более явный выбор сегмента памяти доступен в Direct3D 12 (выбор между видео и системной памятью).</span><span class="sxs-lookup"><span data-stu-id="387b7-126">More explicit memory segment choice is available in Direct3D 12 (choosing between video and system memory).</span></span> <span data-ttu-id="387b7-127">Адаптеры с памятью имеют только один сегмент памяти, системную память.</span><span class="sxs-lookup"><span data-stu-id="387b7-127">UMA adapters only have a single memory segment, system memory.</span></span>

<span data-ttu-id="387b7-128">Графические процессоры не поддерживают сбои страниц, поэтому разработчики должны понимать, что они не зафиксированы, особенно в системах, скажем, всего 1 ГБ системной памяти.</span><span class="sxs-lookup"><span data-stu-id="387b7-128">GPUs do not support page faulting, so developers must be conscious that they do not over commit, especially to systems say with only 1Gb of system memory.</span></span> <span data-ttu-id="387b7-129">Если приложение выполняет принудительную фиксацию, операционная система использует планирование процессов с недетализированным распределением по требованию к физической памяти.</span><span class="sxs-lookup"><span data-stu-id="387b7-129">If an app does over commit, then the OS uses coarser-grained scheduling of processes by their demand on physical memory.</span></span> <span data-ttu-id="387b7-130">Планировщик будет заморозить процессы переднего плана и, по сути, страницу в фоновом процессе, который требуется выполнить.</span><span class="sxs-lookup"><span data-stu-id="387b7-130">The scheduler will freeze foreground processes and essentially page some of it out, in order to page-in a background process that wants to run.</span></span> <span data-ttu-id="387b7-131">Доступная физическая память может значительно варьироваться в зависимости от того, что делает пользователь в фоновом режиме (например, запуск браузера или просмотр видео).</span><span class="sxs-lookup"><span data-stu-id="387b7-131">Available physical memory can vary considerably depending on what the user is doing in the background (such as running a browser or watching a video).</span></span>

<span data-ttu-id="387b7-132">API для бюджета памяти — [**куеривидеомеморинфо**](/windows/desktop/api/dxgi1_4/nf-dxgi1_4-idxgiadapter3-queryvideomemoryinfo).</span><span class="sxs-lookup"><span data-stu-id="387b7-132">The API for memory budget is [**QueryVideoMemoryInfo**](/windows/desktop/api/dxgi1_4/nf-dxgi1_4-idxgiadapter3-queryvideomemoryinfo).</span></span> <span data-ttu-id="387b7-133">Для дискретных адаптеров "локальным" является видеопамять, а "Нелокальная" — системная память.</span><span class="sxs-lookup"><span data-stu-id="387b7-133">For discrete adapters "local" is video memory, "non-local" is system memory.</span></span> <span data-ttu-id="387b7-134">Для адаптеров с областью памяти, не являющимся локальным, всегда равен нулю.</span><span class="sxs-lookup"><span data-stu-id="387b7-134">For UMA adapters non-local is always zero.</span></span> <span data-ttu-id="387b7-135">Один вопрос проектирования заключается в том, будет ли модуль управлять бюджетом или только локальным бюджетом.</span><span class="sxs-lookup"><span data-stu-id="387b7-135">One design question is whether your engine will manage both budgets or just the local budget.</span></span> <span data-ttu-id="387b7-136">Управлять только локальным бюджетом проще, но имеет несколько предостережений. Например, предположим, что существует максимальный локальный бюджет, равный 1 ГБ, а все кучи поступают от этого 1 ГБ в системе с областью памяти, и нет переполнения системной память (очевидно, что нет).</span><span class="sxs-lookup"><span data-stu-id="387b7-136">Managing only the local budget is simpler but has some caveats; for example say there is a maximum local budget of 1Gb, then all heaps will come from that 1Gb in a UMA system and there is no overflow to system memory (clearly, as there is none).</span></span>

<span data-ttu-id="387b7-137">Так как управляемая память Direct3D11 для приложений, неиспользуемые ресурсы, по сути, будут выдаваться из страницы.</span><span class="sxs-lookup"><span data-stu-id="387b7-137">Since Direct3D11 managed memory for applications, unused resources would essentially be paged out.</span></span>

<span data-ttu-id="387b7-138">Выберите наиболее подходящие размеры ресурсов.</span><span class="sxs-lookup"><span data-stu-id="387b7-138">Choose the most appropriate resource dimensions.</span></span> <span data-ttu-id="387b7-139">Определите, подходит ли размер ресурса для ситуации, когда приложение фактически выполняется в.</span><span class="sxs-lookup"><span data-stu-id="387b7-139">Consider whether the size of a resource is appropriate for the situation the application is actually running in.</span></span> <span data-ttu-id="387b7-140">Некоторые пользователи могут запускать приложение в окне или с разрешением экрана 800x600.</span><span class="sxs-lookup"><span data-stu-id="387b7-140">Some users may run the application in a window or with a screen resolution of 800x600.</span></span>

## <a name="classification-strategy"></a><span data-ttu-id="387b7-141">Стратегия классификации</span><span class="sxs-lookup"><span data-stu-id="387b7-141">Classification strategy</span></span>

<span data-ttu-id="387b7-142">Чтобы эффективно управлять ресурсами в сценариях, связанных с памятью, рассмотрите возможность классификации ресурсов в следующих целях:</span><span class="sxs-lookup"><span data-stu-id="387b7-142">In order to manage resources effectively in memory bound scenarios, consider classifying resources into the following:</span></span>



| <span data-ttu-id="387b7-143">Классификация</span><span class="sxs-lookup"><span data-stu-id="387b7-143">Classification</span></span>      | <span data-ttu-id="387b7-144">Примеры</span><span class="sxs-lookup"><span data-stu-id="387b7-144">Examples</span></span>                                                                                         | <span data-ttu-id="387b7-145">Объекты и функции API</span><span class="sxs-lookup"><span data-stu-id="387b7-145">Objects and API features</span></span>                                                                                           | <span data-ttu-id="387b7-146">Примечания по управлению</span><span class="sxs-lookup"><span data-stu-id="387b7-146">Management notes</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
|---------------------|--------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="387b7-147">Критически важно</span><span class="sxs-lookup"><span data-stu-id="387b7-147">Critical</span></span>            | <span data-ttu-id="387b7-148">Пользовательский интерфейс игры</span><span class="sxs-lookup"><span data-stu-id="387b7-148">Game UI</span></span>                                                                                          | <span data-ttu-id="387b7-149">Распределитель команд, очереди команд, кучи запросов, ресурсы и кучи ресурсов.</span><span class="sxs-lookup"><span data-stu-id="387b7-149">Command allocator, command queues, query heaps, resources and resource heaps.</span></span>                                      | <span data-ttu-id="387b7-150">Эти элементы должны находиться в нестраничном или постоянно выделенном объеме памяти.</span><span class="sxs-lookup"><span data-stu-id="387b7-150">These elements should go in non-pageable/always committed memory.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| <span data-ttu-id="387b7-151">Масштабированный/необязательный</span><span class="sxs-lookup"><span data-stu-id="387b7-151">Scaled/ Optional</span></span>    | <span data-ttu-id="387b7-152">Модели и текстуры для конкретных уровней, цепочки подкачки, небесные поля, модели символов первого исполнителя</span><span class="sxs-lookup"><span data-stu-id="387b7-152">Level-specific models and textures, swap chains, sky boxes, first-person player character models</span></span> | <span data-ttu-id="387b7-153">Ресурсы и кучи.</span><span class="sxs-lookup"><span data-stu-id="387b7-153">Resources and heaps.</span></span> <span data-ttu-id="387b7-154">Зафиксированные ресурсы, но также размещенные и зарезервированные ресурсы могут работать так же.</span><span class="sxs-lookup"><span data-stu-id="387b7-154">Committed resources, but also placed and reserved resources might work just as well.</span></span>          | <span data-ttu-id="387b7-155">Интеграция местонахождение памяти бюджетирование в алгоритмы подготовки к просмотру.</span><span class="sxs-lookup"><span data-stu-id="387b7-155">Integrate memory residency budgeting into the rendering algorithms.</span></span> <span data-ttu-id="387b7-156">Выберите соответствующий уровень доступности и повторно оцените его менее одного кадра.</span><span class="sxs-lookup"><span data-stu-id="387b7-156">Choose the appropriate level of available detail and re-evaluate less than once per-frame.</span></span> <span data-ttu-id="387b7-157">Методы включают использование ресурсов переменного размера и масштабирование цепочки буферов.</span><span class="sxs-lookup"><span data-stu-id="387b7-157">Techniques include using variable-sized resources and swap chain scaling.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                 |
| <span data-ttu-id="387b7-158">Повторно используемые ресурсы</span><span class="sxs-lookup"><span data-stu-id="387b7-158">Re-used Resources</span></span>   | <span data-ttu-id="387b7-159">Теневые буферы, ресурсы отложенной отрисовки, пост-обработка ресурсов, кэши данных освещения</span><span class="sxs-lookup"><span data-stu-id="387b7-159">Shadow buffers, deferred rendering resources, post-processing resources, lighting data caches</span></span>    | <span data-ttu-id="387b7-160">Ресурсы и кучи.</span><span class="sxs-lookup"><span data-stu-id="387b7-160">Resources and heaps.</span></span> <span data-ttu-id="387b7-161">Перекрывающиеся ресурсы, размещенные в кучах и барьерах.</span><span class="sxs-lookup"><span data-stu-id="387b7-161">Overlapping placed resources on heaps and aliasing barriers.</span></span>                                  | <span data-ttu-id="387b7-162">Повторно используйте большие ресурсы или области кучи в кадре, чтобы выделять все требования для всего фрейма.</span><span class="sxs-lookup"><span data-stu-id="387b7-162">Reuse large resources or heap regions within a frame to cut-down on requirements for the entire frame.</span></span> <span data-ttu-id="387b7-163">Используйте метод повторного использования памяти внутри фрейма.</span><span class="sxs-lookup"><span data-stu-id="387b7-163">Use the technique of intra-frame memory reuse.</span></span> <span data-ttu-id="387b7-164">В Direct3D 11 приложения могут повторно использовать ресурсы с одинаковым типом и, возможно, иметь достаточно большой размер.</span><span class="sxs-lookup"><span data-stu-id="387b7-164">In Direct3D 11, applications could only reuse resources with the same type and potentially large enough dimensions.</span></span> <span data-ttu-id="387b7-165">Кучи Direct3D 12 позволяют перекрывать ресурсы для более простого и многократного использования.</span><span class="sxs-lookup"><span data-stu-id="387b7-165">Direct3D 12 heaps allow overlapping resources for much simpler and greater reuse.</span></span><br/>                                                                                                                                                                                                                              |
| <span data-ttu-id="387b7-166">Ресурсы потоковой передачи</span><span class="sxs-lookup"><span data-stu-id="387b7-166">Streaming Resources</span></span> | <span data-ttu-id="387b7-167">Ландшафта, замкнутый и геометрический текстуры</span><span class="sxs-lookup"><span data-stu-id="387b7-167">Terrain, open-world textures and geometry</span></span>                                                        | <span data-ttu-id="387b7-168">Ресурсы и кучи.</span><span class="sxs-lookup"><span data-stu-id="387b7-168">Resources and heaps.</span></span> <span data-ttu-id="387b7-169">Создание свободных потоков ЦП и списков с очередями и списками команд в фоновом режиме.</span><span class="sxs-lookup"><span data-stu-id="387b7-169">Free-threaded creation, background CPU threads, and background copy command queues and lists.</span></span> | <span data-ttu-id="387b7-170">Частичная местонахождение, обычно основанная на видимости (с использованием представления-фрустум или оценки на основе расстояния) и повторное вычисление местонахождение требует каждого кадра.</span><span class="sxs-lookup"><span data-stu-id="387b7-170">Partial residency, commonly based on visibility (using the view-frustum or distance-based evaluation) and re-evaluate residency needs every frame.</span></span><br/> <span data-ttu-id="387b7-171">Метод использования частичного управления местонахождение для отдельных плиток и повторного использования между кадрами доступен, когда адаптер GPU поддерживает зарезервированные ресурсы в кучах.</span><span class="sxs-lookup"><span data-stu-id="387b7-171">The technique of using a per-tile partial residency management and inter-frame reuse is available when the GPU adapter supports reserved resources within heaps.</span></span><br/> <span data-ttu-id="387b7-172">Используя метод повторного использования памяти в кадрах, можно выполнить частичное местонахождение подресурса, но он является менее оптимальным.</span><span class="sxs-lookup"><span data-stu-id="387b7-172">Using the technique of using inter-frame memory re-use, partial subresource residency can be accomplished, but is less optimal.</span></span> <span data-ttu-id="387b7-173">Размещенные ресурсы с кучами должны обеспечить более быстрый перезапуск, но зафиксированные ресурсы можно использовать в качестве резервного.</span><span class="sxs-lookup"><span data-stu-id="387b7-173">Placed resources with heaps should enable faster recycling, but committed resources can be used as a fallback.</span></span><br/> |



 

<span data-ttu-id="387b7-174">Чем больше приложений гравитате потоковые ресурсы для большей части работы, тем больше они будут использовать размещенные и зарезервированные ресурсы, что позволит максимально увеличить объем памяти между этими четырьмя классификациями.</span><span class="sxs-lookup"><span data-stu-id="387b7-174">The more applications gravitate to streaming resources for most of the work, the more they will leverage placed and reserved resources, which will maximize memory re-use between these four classifications.</span></span> <span data-ttu-id="387b7-175">Чем больше поток приложений, тем больше бюджет и тем более приоритетна пропускная способность.</span><span class="sxs-lookup"><span data-stu-id="387b7-175">The more applications stream, the more they budget and prioritize bandwidth.</span></span>

<span data-ttu-id="387b7-176">Обычно с модулями обработки графики Direct3D 12 необходимо учитывать более разнообразный и динамический бюджет, а также делать это более строго, чем раньше.</span><span class="sxs-lookup"><span data-stu-id="387b7-176">Typically with Direct3D 12 graphics engines need to honor a more diverse and dynamic budget, and do it more strictly than they did in the past.</span></span> <span data-ttu-id="387b7-177">Лучшие приложения будут размещать все четыре категории в бюджете, указанном в процессе, и масштабировать игру из фонового мобильного приложения в полноэкранные дискретные бюджеты.</span><span class="sxs-lookup"><span data-stu-id="387b7-177">The best applications will locate all four categories into the budget given to the process, scaling the game play from background mobile app to full-screen discrete budgets.</span></span> <span data-ttu-id="387b7-178">Но многие приложения, скорее всего, будут испытывать трудности, начиная с слишком большого числа критических типов ресурсов.</span><span class="sxs-lookup"><span data-stu-id="387b7-178">But, many applications will likely struggle by starting with too many critical category types of resources.</span></span> <span data-ttu-id="387b7-179">Ресурсы с поддержкой Direct3D 11 должны быть анонимно созданы и занимать критическое состояние без влияния на производительность.</span><span class="sxs-lookup"><span data-stu-id="387b7-179">Direct3D 11 enabled resources to be anonymously created and occupy critical status without impacting performance.</span></span> <span data-ttu-id="387b7-180">Однако для Direct3D 12 разработчики должны тщательно искать ресурсы, созданные случайным образом, на основе их механизма и по промежуточного слоя, а затем повторно назначать их одной из других категорий.</span><span class="sxs-lookup"><span data-stu-id="387b7-180">However, for Direct3D 12, developers must diligently search for randomly created resources throughout their engine and middleware and re-assign them to one of the other categories.</span></span>

<span data-ttu-id="387b7-181">Другими проблемными областями являются компоненты по промежуточного слоя, пользовательские элементы управления и потоковая передача внутри фрейма.</span><span class="sxs-lookup"><span data-stu-id="387b7-181">Other problem areas are middleware components, user controls, and intra-frame streaming.</span></span> <span data-ttu-id="387b7-182">Компоненты по промежуточного слоя могут быть недоступными для бюджета и не должны работать тесно вместе.</span><span class="sxs-lookup"><span data-stu-id="387b7-182">Middleware components may not be exposed to a budget, nor have to work tightly together.</span></span> <span data-ttu-id="387b7-183">Компоненты по промежуточного слоя, вероятно, могут предоставлять функции как методы отрисовки; и приложение может полагаться на предоставление параметров по промежуточного слоя и подсистемы.</span><span class="sxs-lookup"><span data-stu-id="387b7-183">Middleware components likely could expose features as rendering techniques; and the application could rely on exposing middleware and engine settings.</span></span> <span data-ttu-id="387b7-184">Разработчики могут использовать Direct3D 11 для разбиения на страницы и достижения правильного темпа кадров.</span><span class="sxs-lookup"><span data-stu-id="387b7-184">Developers could rely on Direct3D 11 to do the paging and achieve the right frame rate.</span></span> <span data-ttu-id="387b7-185">В некоторых случаях приложения Direct3D 11 могут быть помещены в содержимое каждого кадра и постранично. и это привело к приемлемым частоте кадров для пользователя.</span><span class="sxs-lookup"><span data-stu-id="387b7-185">In some cases, Direct3D 11 applications may have been paging resource contents in and out every frame; and it resulted in acceptable frame rates for the user.</span></span> <span data-ttu-id="387b7-186">Большинство ядер просто потокируют данные ресурсов как фоновые действия, где они не имеют корректного перехода к потоковой передаче с высоким приоритетом внутри фрейма.</span><span class="sxs-lookup"><span data-stu-id="387b7-186">Most engines only stream resource data as a background activity, where it has no graceful fallback to high-priority intra-frame streaming.</span></span> <span data-ttu-id="387b7-187">Попросите обработчиков реализовать, который будет разрушить часть ресурсов ЦП, которые они хотят найти, переместив на Direct3D 12.</span><span class="sxs-lookup"><span data-stu-id="387b7-187">Asking engines to implement that will erode some of the CPU overhead gains they are seeking by moving to Direct3D 12.</span></span> <span data-ttu-id="387b7-188">Разработчики подсистемы могут рассмотреть возможность шутки их кадров в этапы, чтобы предоставить больше возможностей для повторного использования ресурсов. и, вероятно, работают с поставщиками по промежуточного слоя для поддержки размещенных ресурсов и куч для повторного использования памяти внутри фрейма.</span><span class="sxs-lookup"><span data-stu-id="387b7-188">Engine developers could consider teasing their frames into phases to provide more opportunity for re-usable resources; and likely work with middleware vendors to support placed resources and heaps for intra-frame memory re-use.</span></span>

## <a name="related-topics"></a><span data-ttu-id="387b7-189">Связанные темы</span><span class="sxs-lookup"><span data-stu-id="387b7-189">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="387b7-190">**креатекоммиттедресаурце**</span><span class="sxs-lookup"><span data-stu-id="387b7-190">**CreateCommittedResource**</span></span>](/windows/desktop/api/d3d12/nf-d3d12-id3d12device-createcommittedresource)
</dt> <dt>

[<span data-ttu-id="387b7-191">**креатересерведресаурце**</span><span class="sxs-lookup"><span data-stu-id="387b7-191">**CreateReservedResource**</span></span>](/windows/desktop/api/d3d12/nf-d3d12-id3d12device-createreservedresource)
</dt> <dt>

[<span data-ttu-id="387b7-192">Руководство по программированию для Direct3D 12</span><span class="sxs-lookup"><span data-stu-id="387b7-192">Direct3D 12 Programming Guide</span></span>](directx-12-programming-guide.md)
</dt> <dt>

[<span data-ttu-id="387b7-193">Управление памятью</span><span class="sxs-lookup"><span data-stu-id="387b7-193">Memory Management</span></span>](memory-management.md)
</dt> <dt>

[<span data-ttu-id="387b7-194">Привязка ресурсов</span><span class="sxs-lookup"><span data-stu-id="387b7-194">Resource Binding</span></span>](resource-binding.md)
</dt> </dl>

 

