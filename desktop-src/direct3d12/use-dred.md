---
title: Использование НАПРАВЛЯТЬ для диагностики ошибок GPU
description: Устройство удалило Расширенные данные (НАПРАВЛЯТЬ) — это развивающийся набор диагностических функций, позволяющих определить причину непредвиденных ошибок при удалении устройства.
ms.custom: 19H1
ms.localizationpriority: high
ms.topic: article
ms.date: 04/19/2019
ms.openlocfilehash: bbc754239210899e804d41a294e8c9f47967fb25
ms.sourcegitcommit: 780d4b1601c45658ef0b799b80d13f45a53d808d
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/26/2020
ms.locfileid: "104548955"
---
# <a name="use-dred-to-diagnose-gpu-faults"></a><span data-ttu-id="29a2a-103">Использование НАПРАВЛЯТЬ для диагностики ошибок GPU</span><span class="sxs-lookup"><span data-stu-id="29a2a-103">Use DRED to diagnose GPU faults</span></span>
<span data-ttu-id="29a2a-104">НАПРАВЛЯТЬ означает, что устройство удалило Расширенные данные.</span><span class="sxs-lookup"><span data-stu-id="29a2a-104">DRED stands for Device Removed Extended Data.</span></span> <span data-ttu-id="29a2a-105">НАПРАВЛЯТЬ — это развивающийся набор функций диагностики, позволяющий определить причину непредвиденных ошибок при удалении устройства.</span><span class="sxs-lookup"><span data-stu-id="29a2a-105">DRED is an evolving set of diagnostic features designed to help you to identify the cause of unexpected device removal errors.</span></span> <span data-ttu-id="29a2a-106">На оборудовании, которое поддерживает необходимые функции (как определено ниже), НАПРАВЛЯТЬ предоставляет автоматические панели навигации, а также отчеты о сбоях страниц GPU.</span><span class="sxs-lookup"><span data-stu-id="29a2a-106">On hardware that supports the necessary features (as defined below), DRED delivers automatic breadcrumbs as well as GPU page fault reporting.</span></span>

## <a name="auto-breadcrumbs"></a><span data-ttu-id="29a2a-107">Автоматические строки перехода</span><span class="sxs-lookup"><span data-stu-id="29a2a-107">Auto-breadcrumbs</span></span>
<span data-ttu-id="29a2a-108">Чтобы задать сцену для автоматической адресной строки, сначала следует упомянуть о разнообразных возможностях.</span><span class="sxs-lookup"><span data-stu-id="29a2a-108">To set the scene for auto-breadcrumbs, let's first mention the manual variety.</span></span> <span data-ttu-id="29a2a-109">В то же время, как [Обнаружение и восстановление времени ожидания (ТДР)](/windows-hardware/drivers/display/timeout-detection-and-recovery), можно использовать [метод ID3D12GraphicsCommandList2:: вритебуффериммедиате](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist2-writebufferimmediate) , чтобы поместить в поток команд GPU *иерархическую* последовательность для отслеживания хода выполнения GPU.</span><span class="sxs-lookup"><span data-stu-id="29a2a-109">In anticipation of the eventuality of a [Timeout Detection and Recovery (TDR)](/windows-hardware/drivers/display/timeout-detection-and-recovery), you can use the [ID3D12GraphicsCommandList2::WriteBufferImmediate method](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist2-writebufferimmediate) to place *breadcrumbs* into the GPU command stream, in order to track GPU progress.</span></span>

<span data-ttu-id="29a2a-110">Это разумный подход, если вы хотите создать пользовательскую реализацию с низкими затратами.</span><span class="sxs-lookup"><span data-stu-id="29a2a-110">This is a reasonable approach if you want to create a custom, low-overhead implementation.</span></span> <span data-ttu-id="29a2a-111">Но в нем могут отсутствовать некоторые универсальности стандартизированного решения, такие как расширения отладчика, или отчеты с помощью [отчеты об ошибках Windows (WER)](/windows/desktop/wer/windows-error-reporting) (также известной как Watson).</span><span class="sxs-lookup"><span data-stu-id="29a2a-111">But it may lack some of the versatility of a standardized solution, such as debugger extensions, or reporting via [Windows Error Reporting (WER)](/windows/desktop/wer/windows-error-reporting) (also known as Watson).</span></span>

<span data-ttu-id="29a2a-112">Таким образом, автоматическая иерархия НАПРАВЛЯТЬ вызывает **вритебуффериммедиате** для размещения счетчиков хода выполнения в поток команд GPU.</span><span class="sxs-lookup"><span data-stu-id="29a2a-112">So, DRED's auto-breadcrumbs call **WriteBufferImmediate** to place progress counters into the GPU command stream.</span></span> <span data-ttu-id="29a2a-113">НАПРАВЛЯТЬ вставляет навигатор после каждой операции *подготовки к просмотру*, что &mdash; означает каждую операцию, которая приводит к работе GPU (например, **прорисовка**, **Отправка**, **копирование**, **разрешение** и др.).</span><span class="sxs-lookup"><span data-stu-id="29a2a-113">DRED inserts a breadcrumb after each *render op*&mdash;which means every operation that results in GPU work (for example, **Draw**, **Dispatch**, **Copy**, **Resolve**, and others).</span></span> <span data-ttu-id="29a2a-114">Если устройство удаляется в середине рабочей нагрузки GPU, то значение иерархического НАПРАВЛЯТЬ по сути является коллекцией операций рендеринга, которые были завершены до возникновения ошибки.</span><span class="sxs-lookup"><span data-stu-id="29a2a-114">If the device is removed in the middle of a GPU workload, then the DRED breadcrumb value is essentially a collection of the render ops that completed�before�the error.</span></span>

<span data-ttu-id="29a2a-115">Буфер кольцевого буфера журнала содержит до 64KiB операций в указанном списке команд.</span><span class="sxs-lookup"><span data-stu-id="29a2a-115">The breadcrumb history ring buffer retains up to 64KiB operations in a given command list.</span></span> <span data-ttu-id="29a2a-116">Если в списке команд содержится более 65536 операций, то сначала сохраняются только последние операции 64KiB &mdash; .</span><span class="sxs-lookup"><span data-stu-id="29a2a-116">If there are more than 65536 operations in a command list, then only the last 64KiB operations are stored&mdash;overwriting the oldest operations first.</span></span> <span data-ttu-id="29a2a-117">Тем не менее, значение счетчика навигатор по мере необходимости будет равно `UINT_MAX` .</span><span class="sxs-lookup"><span data-stu-id="29a2a-117">However, the breadcrumb counter value continues to count up to `UINT_MAX`.</span></span> <span data-ttu-id="29a2a-118">Поэтому Ластопиндекс = (Бреадкрумбкаунт-1) %65536.</span><span class="sxs-lookup"><span data-stu-id="29a2a-118">Therefore, LastOpIndex = (BreadcrumbCount - 1) % 65536.</span></span>

<span data-ttu-id="29a2a-119">НАПРАВЛЯТЬ 1,0 впервые была доступна в Windows 10, версия 1809 (обновление Windows 10 октября 2018), и она обладает элементарными автонавигаторами.</span><span class="sxs-lookup"><span data-stu-id="29a2a-119">DRED 1.0 was first available in Windows 10, version 1809 (Windows 10 October 2018 Update), and it exposed rudimentary auto-breadcrumbs.</span></span> <span data-ttu-id="29a2a-120">Однако для него не было интерфейсов API, и единственным способом включения направлять 1,0 было использование **центра обратной связи** для записи ТДР воспроизведения (воспроизвести) для **приложений & игры** \> **производительность и совместимость** игр.</span><span class="sxs-lookup"><span data-stu-id="29a2a-120">However, there were no APIs for it, and the only way to enable DRED 1.0 was to use **Feedback Hub** to capture a TDR reproduction (repro) for **Apps & Games** \> **Game Performance and Compatibility**.</span></span> <span data-ttu-id="29a2a-121">Основная цель НАПРАВЛЯТЬ 1,0 — помочь избежать сбоев игр с помощью отзывов клиентов.</span><span class="sxs-lookup"><span data-stu-id="29a2a-121">The primary purpose for DRED 1.0 was to help to root-cause-analyze game crashes via customer feedback.</span></span>
### <a name="caveats"></a><span data-ttu-id="29a2a-122">Предупреждения</span><span class="sxs-lookup"><span data-stu-id="29a2a-122">Caveats</span></span>
- <span data-ttu-id="29a2a-123">Так как GPU сильно конвейерен, нет никакой гарантии, что счетчик навигаторов указывает на точную операцию, которая завершилась ошибкой.</span><span class="sxs-lookup"><span data-stu-id="29a2a-123">Because a GPU is heavily pipelined, there's no guarantee that the breadcrumb counter indicates the exact operation that failed.</span></span> <span data-ttu-id="29a2a-124">На самом деле, на некоторых отложенных устройствах отрисовки на основе плиток можно сделать так, чтобы счетчик иерархии был полным ресурсом или барьером неупорядоченного представления доступа (UAV), который находится за ходом выполнения фактического GPU.</span><span class="sxs-lookup"><span data-stu-id="29a2a-124">In fact, on some tile-based deferred render devices, it's possible for the breadcrumb counter to be a full resource or unordered access view (UAV) barrier behind the actual GPU progress.</span></span>
- <span data-ttu-id="29a2a-125">Драйвер экрана может изменять порядок команд, предварительно выполняя выборку из памяти ресурса, прежде чем выполнять команду или очищать кэшированную память после завершения команды.</span><span class="sxs-lookup"><span data-stu-id="29a2a-125">A display driver can reorder commands, pre-fetch from resource memory well before executing a command, or flush cached memory well-after completion of a command.</span></span> <span data-ttu-id="29a2a-126">Любой из них может вызвать ошибку GPU.</span><span class="sxs-lookup"><span data-stu-id="29a2a-126">Any of these can produce a GPU error.</span></span> <span data-ttu-id="29a2a-127">В таких случаях счетчики автоматической иерархии могут оказаться менее полезными или неверно.</span><span class="sxs-lookup"><span data-stu-id="29a2a-127">In such cases, the auto-breadcrumb counters may be less helpful, or misleading.</span></span>
### <a name="performance"></a><span data-ttu-id="29a2a-128">Производительность</span><span class="sxs-lookup"><span data-stu-id="29a2a-128">Performance</span></span>
<span data-ttu-id="29a2a-129">Несмотря на то, что автоматические переходы не изменяются, они не освобождаются.</span><span class="sxs-lookup"><span data-stu-id="29a2a-129">Although auto-breadcrumbs are designed to be low-overhead, they are not free.</span></span> <span data-ttu-id="29a2a-130">В измерении "стандартные измерения" показано снижение производительности в 2-5% на типичном ядре игровой игры на Direct3D 12.</span><span class="sxs-lookup"><span data-stu-id="29a2a-130">Empirical measurements show 2-5% performance loss on a typical AAA Direct3D 12 graphics game engine.</span></span> <span data-ttu-id="29a2a-131">По этой причине по умолчанию автоматическая строка навигации отключена.</span><span class="sxs-lookup"><span data-stu-id="29a2a-131">For this reason, auto-breadcrumbs are off by default.</span></span>
### <a name="hardware-requirements"></a><span data-ttu-id="29a2a-132">Требования к оборудованию</span><span class="sxs-lookup"><span data-stu-id="29a2a-132">Hardware requirements</span></span>
<span data-ttu-id="29a2a-133">Поскольку значения счетчика навигации должны сохраняться после удаления устройства, ресурс, содержащий строки навигации, должен существовать в системной памяти и должен сохраняться в случае удаления устройства.</span><span class="sxs-lookup"><span data-stu-id="29a2a-133">Because the breadcrumb counter values must be preserved after device removal, the resource that contains breadcrumbs must exist in system memory, and it must persist in the event of device removal.</span></span> <span data-ttu-id="29a2a-134">Это означает, что драйверу экрана требуется поддержка [**D3D12_FEATURE_EXISTING_HEAPS**](/windows/desktop/api/d3d12/ne-d3d12-d3d12_feature).</span><span class="sxs-lookup"><span data-stu-id="29a2a-134">This means that the display driver needs to support [**D3D12_FEATURE_EXISTING_HEAPS**](/windows/desktop/api/d3d12/ne-d3d12-d3d12_feature).</span></span> <span data-ttu-id="29a2a-135">К счастью, это так для большинства видеодрайверов Direct3D 12 в Windows 10, версия 1903.</span><span class="sxs-lookup"><span data-stu-id="29a2a-135">Fortunately, this is the case for most Direct3D 12 display drivers on Windows 10, version 1903.</span></span>
## <a name="gpu-page-fault-reporting"></a><span data-ttu-id="29a2a-136">Отчеты о сбоях страниц GPU</span><span class="sxs-lookup"><span data-stu-id="29a2a-136">GPU page fault reporting</span></span>
<span data-ttu-id="29a2a-137">Новая функция для НАПРАВЛЯТЬ 1,1 — НАПРАВЛЯТЬ отчеты о сбоях страниц GPU.</span><span class="sxs-lookup"><span data-stu-id="29a2a-137">A feature that's new for DRED 1.1 is DRED GPU page fault reporting.</span></span> <span data-ttu-id="29a2a-138">Ошибка страницы GPU обычно возникает в одном из этих условий.</span><span class="sxs-lookup"><span data-stu-id="29a2a-138">A GPU page fault commonly occurs under one of these conditions.</span></span>

1. <span data-ttu-id="29a2a-139">Приложение по ошибке выполняет работу на GPU, который ссылается на удаленный объект.</span><span class="sxs-lookup"><span data-stu-id="29a2a-139">An application mistakenly executes work on the GPU that references a deleted object.</span></span> <span data-ttu-id="29a2a-140">Это одна из основных причин непредвиденного удаления устройства.</span><span class="sxs-lookup"><span data-stu-id="29a2a-140">This is one of the top reasons for an unexpected device removal.</span></span>
2. <span data-ttu-id="29a2a-141">Приложение по ошибке выполняет работу на GPU, который обращается к удаленному ресурсу, или к нерезидентной плитке.</span><span class="sxs-lookup"><span data-stu-id="29a2a-141">An application mistakenly executes work on the GPU that accesses an evicted resource, or a non-resident tile.</span></span>
3. <span data-ttu-id="29a2a-142">Шейдер ссылается на неинициализированный или устаревший дескриптор.</span><span class="sxs-lookup"><span data-stu-id="29a2a-142">A shader references an uninitialized or stale descriptor.</span></span>
3. <span data-ttu-id="29a2a-143">Индексы шейдера выходят за границы корневой привязки.</span><span class="sxs-lookup"><span data-stu-id="29a2a-143">A shader indexes beyond the end of a root binding.</span></span>

<span data-ttu-id="29a2a-144">НАПРАВЛЯТЬ пытается устранить некоторые из этих сценариев, сообщая имена и типы существующих или недавно освобожденных объектов API, которые соответствуют виртуальному адресу (ва) ошибки страницы, о которой сообщили GPU.</span><span class="sxs-lookup"><span data-stu-id="29a2a-144">DRED attempts to address some of these scenarios by reporting the names and types of any existing or recently freed API objects that match the virtual address (VA) of the GPU-reported page fault.</span></span>

### <a name="caveat"></a><span data-ttu-id="29a2a-145">Пояснение</span><span class="sxs-lookup"><span data-stu-id="29a2a-145">Caveat</span></span>
<span data-ttu-id="29a2a-146">Не все GPU поддерживают ошибки страниц (хотя и многие из них).</span><span class="sxs-lookup"><span data-stu-id="29a2a-146">Not all GPUs support page faults (although, many do).</span></span> <span data-ttu-id="29a2a-147">Некоторые GPU отвечают на ошибки памяти путем записи битовых блоков. чтение смоделированных данных (например, нулей); или просто зависает.</span><span class="sxs-lookup"><span data-stu-id="29a2a-147">Some GPUs respond to memory faults by: bit-bucket writes; reading simulated data (for example,�zeros); or by simply hanging.</span></span> <span data-ttu-id="29a2a-148">К сожалению, в случаях, когда GPU не зависает, [Обнаружение и восстановление времени ожидания (ТДР)](/windows-hardware/drivers/display/timeout-detection-and-recovery) может произойти позже в канале, что еще больше затрудняет обнаружение основной причины.</span><span class="sxs-lookup"><span data-stu-id="29a2a-148">Unfortunately, in cases where the GPU doesn't immediately hang, a [Timeout Detection and Recovery (TDR)](/windows-hardware/drivers/display/timeout-detection-and-recovery) can happen later in the pipe, making it even harder to locate the root cause.</span></span>

### <a name="performance"></a><span data-ttu-id="29a2a-149">Производительность</span><span class="sxs-lookup"><span data-stu-id="29a2a-149">Performance</span></span>
<span data-ttu-id="29a2a-150">Среда выполнения Direct3D 12 должна активно проявлять коллекцию существующих и недавно удаленных объектов API, индексируемых по виртуальному адресу (ва).</span><span class="sxs-lookup"><span data-stu-id="29a2a-150">The Direct3D 12 runtime must actively curate a collection of existing and recently-deleted API objects indexable by virtual address (VA).</span></span> <span data-ttu-id="29a2a-151">Это увеличивает нагрузку на системную память и создает небольшое снижение производительности при создании и уничтожении объектов.</span><span class="sxs-lookup"><span data-stu-id="29a2a-151">This increases the system memory overhead, and introduces a small performance hit to object creation and destruction.</span></span> <span data-ttu-id="29a2a-152">По этой причине это поведение отключено по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="29a2a-152">For that reason, this behavior is off by default.</span></span>

### <a name="hardware-requirements"></a><span data-ttu-id="29a2a-153">Требования к оборудованию</span><span class="sxs-lookup"><span data-stu-id="29a2a-153">Hardware requirements</span></span>
<span data-ttu-id="29a2a-154">Графический процессор, который не поддерживает ошибки страниц, по-прежнему может воспользоваться функцией автоматической адресной строки.</span><span class="sxs-lookup"><span data-stu-id="29a2a-154">A GPU that doesn't support page faulting can still benefit from the auto-breadcrumbs feature.</span></span>

## <a name="setting-up-dred-in-code"></a><span data-ttu-id="29a2a-155">Настройка НАПРАВЛЯТЬ в коде</span><span class="sxs-lookup"><span data-stu-id="29a2a-155">Setting up DRED in code</span></span>
<span data-ttu-id="29a2a-156">Параметры НАПРАВЛЯТЬ являются глобальными для процесса, и их необходимо настроить перед созданием устройства Direct3D 12.</span><span class="sxs-lookup"><span data-stu-id="29a2a-156">DRED settings are global to the process, and you must configure them prior to creating a Direct3D 12 Device.</span></span> <span data-ttu-id="29a2a-157">Для этого вызовите функцию [**D3D12GetDebugInterface**](/windows/desktop/api/d3d12/nf-d3d12-d3d12getdebuginterface) , чтобы получить [**ID3D12DeviceRemovedExtendedDataSettings**](/windows/desktop/api/d3d12/nn-d3d12-id3d12deviceremovedextendeddatasettings).</span><span class="sxs-lookup"><span data-stu-id="29a2a-157">To do so, call the [**D3D12GetDebugInterface**](/windows/desktop/api/d3d12/nf-d3d12-d3d12getdebuginterface) function to retrieve an [**ID3D12DeviceRemovedExtendedDataSettings**](/windows/desktop/api/d3d12/nn-d3d12-id3d12deviceremovedextendeddatasettings).</span></span>

```cpp
CComPtr<ID3D12DeviceRemovedExtendedDataSettings> pDredSettings;
VERIFY_SUCCEEDED(D3D12GetDebugInterface(IID_PPV_ARGS(&pDredSettings)));

// Turn on auto-breadcrumbs and page fault reporting.
pDredSettings->SetAutoBreadcrumbsEnablement(D3D12_DRED_ENABLEMENT_FORCED_ON);
pDredSettings->SetPageFaultEnablement(D3D12_DRED_ENABLEMENT_FORCED_ON);
```

> [!NOTE]
> <span data-ttu-id="29a2a-158">Изменения параметров НАПРАВЛЯТЬ не влияют на уже созданные устройства.</span><span class="sxs-lookup"><span data-stu-id="29a2a-158">Modifications to DRED settings have no effect on devices already created.</span></span> <span data-ttu-id="29a2a-159">Но последующие вызовы [**D3D12CreateDevice**](/windows/desktop/api/d3d12/nf-d3d12-d3d12createdevice) используют самые последние параметры направлять.</span><span class="sxs-lookup"><span data-stu-id="29a2a-159">But subsequent calls to [**D3D12CreateDevice**](/windows/desktop/api/d3d12/nf-d3d12-d3d12createdevice) use the most recent DRED settings.</span></span>

## <a name="accessing-dred-data-in-code"></a><span data-ttu-id="29a2a-160">Доступ к данным НАПРАВЛЯТЬ в коде</span><span class="sxs-lookup"><span data-stu-id="29a2a-160">Accessing DRED data in code</span></span>
<span data-ttu-id="29a2a-161">После обнаружения удаления устройства (например, **Present** возвращает [**DXGI_ERROR_DEVICE_REMOVED**](/windows/desktop/com/com-error-codes-10)) используйте методы интерфейса [**ID3D12DEVICEREMOVEDEXTENDEDDATA**](/windows/desktop/api/d3d12/nn-d3d12-id3d12deviceremovedextendeddata) для доступа к данным направлять для удаленного устройства.</span><span class="sxs-lookup"><span data-stu-id="29a2a-161">After device removal has been detected (for example, **Present** returns [**DXGI_ERROR_DEVICE_REMOVED**](/windows/desktop/com/com-error-codes-10)), use the methods of the [**ID3D12DeviceRemovedExtendedData**](/windows/desktop/api/d3d12/nn-d3d12-id3d12deviceremovedextendeddata) interface to access the DRED data for the removed device.</span></span>

<span data-ttu-id="29a2a-162">Чтобы получить интерфейс **ID3D12DeviceRemovedExtendedData** , вызовите метод [QueryInterface](/windows/desktop/api/unknwn/nf-unknwn-iunknown-queryinterface(refiid_void)) в интерфейсе [ID3D12Device](/windows/win32/api/d3d12/nn-d3d12-id3d12device) (или производном), передав идентификатор интерфейса (IID) **ID3D12DeviceRemovedExtendedData**.</span><span class="sxs-lookup"><span data-stu-id="29a2a-162">To retrieve the **ID3D12DeviceRemovedExtendedData** interface, call [QueryInterface](/windows/desktop/api/unknwn/nf-unknwn-iunknown-queryinterface(refiid_void)) on an [ID3D12Device](/windows/win32/api/d3d12/nn-d3d12-id3d12device) (or derived) interface, passing the interface identifier (IID) of **ID3D12DeviceRemovedExtendedData**.</span></span>

```cpp
void MyDeviceRemovedHandler(ID3D12Device * pDevice)
{
    CComPtr<ID3D12DeviceRemovedExtendedData> pDred;
    VERIFY_SUCCEEDED(pDevice->QueryInterface(IID_PPV_ARGS(&pDred)));
    D3D12_DRED_AUTO_BREADCRUMBS_OUTPUT DredAutoBreadcrumbsOutput;
    D3D12_DRED_PAGE_FAULT_OUTPUT DredPageFaultOutput;
    VERIFY_SUCCEEDED(pDred->GetAutoBreadcrumbsOutput(&DredAutoBreadcrumbsOutput));
    VERIFY_SUCCEEDED(pDred->GetPageFaultAllocationOutput(&DredPageFaultOutput));
    // Custom processing of DRED data can be done here.
    // Produce telemetry...
    // Log information to console...
    // break into a debugger...
}
```

## <a name="debugger-access-to-dred"></a><span data-ttu-id="29a2a-163">Доступ отладчика к НАПРАВЛЯТЬ</span><span class="sxs-lookup"><span data-stu-id="29a2a-163">Debugger access to DRED</span></span>
<span data-ttu-id="29a2a-164">Отладчики имеют доступ к данным НАПРАВЛЯТЬ через **d3d12!** Экспорт данных D3D12DeviceRemovedExtendedData.</span><span class="sxs-lookup"><span data-stu-id="29a2a-164">Debuggers have access to the DRED data via the **d3d12!D3D12DeviceRemovedExtendedData** data export.</span></span>

## <a name="dred-telemetry"></a><span data-ttu-id="29a2a-165">НАПРАВЛЯТЬ телеметрии</span><span class="sxs-lookup"><span data-stu-id="29a2a-165">DRED telemetry</span></span>
<span data-ttu-id="29a2a-166">Приложение может использовать API НАПРАВЛЯТЬ для управления функциями НАПРАВЛЯТЬ и сбора данных телеметрии для облегчения анализа проблем.</span><span class="sxs-lookup"><span data-stu-id="29a2a-166">Your application can use the DRED APIs to control DRED features, and to collect telemetry to help analyze problems.</span></span> <span data-ttu-id="29a2a-167">Это дает вам более широкие возможности для перехвата этих Тдрс.</span><span class="sxs-lookup"><span data-stu-id="29a2a-167">This gives you a much broader net for catching those hard-to-reproduce TDRs.</span></span>

<span data-ttu-id="29a2a-168">Начиная с Windows 10 версии 1903, все события, удаленные в пользовательском режиме, передаются в [отчеты об ошибках Windows (WER)](/windows/desktop/wer/windows-error-reporting), также известном как Watson.</span><span class="sxs-lookup"><span data-stu-id="29a2a-168">As of Windows 10, version 1903, all user-mode device-removed events are reported to [Windows Error Reporting (WER)](/windows/desktop/wer/windows-error-reporting), also known as Watson.</span></span> <span data-ttu-id="29a2a-169">Если конкретное сочетание приложения, GPU и видеодрайвера создает достаточное количество событий, удаленных устройством, возможно, НАПРАВЛЯТЬ будет временно включен для клиентов, запускающих то же приложение в аналогичной конфигурации.</span><span class="sxs-lookup"><span data-stu-id="29a2a-169">If a particular combination of application, GPU, and display driver generates a sufficient number of device-removed events, then it's possible that DRED will be temporarily enabled for customers launching the same application on a similar configuration.</span></span>
