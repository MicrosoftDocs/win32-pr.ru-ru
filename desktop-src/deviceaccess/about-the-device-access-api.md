---
title: Сведения об API доступа к устройствам
description: API доступа к устройствам предназначен для разработчиков на C++, создающих приложение Магазина Windows для взаимодействия с специализированными устройствами в Windows 8.
ms.assetid: DDF115A2-A811-450A-80F7-AAFB0EEA4037
ms.topic: article
ms.date: 02/11/2020
ms.openlocfilehash: 213c7ecc618e4b183ee879d23db3b2c0eca35397
ms.sourcegitcommit: 3d718d8f69d3f86eaecf94c5705d761c5a9ef4a1
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/20/2020
ms.locfileid: "104339597"
---
# <a name="about-the-device-access-api"></a><span data-ttu-id="91510-103">Сведения об API доступа к устройствам</span><span class="sxs-lookup"><span data-stu-id="91510-103">About the Device Access API</span></span>

<span data-ttu-id="91510-104">API доступа к устройствам предназначен для разработчиков на C++, создающих приложение Магазина Windows для взаимодействия с специализированными устройствами в Windows 8.</span><span class="sxs-lookup"><span data-stu-id="91510-104">The Device Access API is for C++ developers who are creating a Windows Store app to interact with specialized devices in Windows 8.</span></span> <span data-ttu-id="91510-105">В этом разделе описываются сценарии, к которым применяется API доступа к устройствам.</span><span class="sxs-lookup"><span data-stu-id="91510-105">This topic describes the scenarios that the Device Access API applies to.</span></span> <span data-ttu-id="91510-106">В нем также объясняется, как API доступа к устройствам применяет правила безопасности для приложений Магазина Windows в Windows 8.</span><span class="sxs-lookup"><span data-stu-id="91510-106">It also explains how the Device Access API applies security rules for Windows Store apps in Windows 8.</span></span>

- [<span data-ttu-id="91510-107">Включение настраиваемой функциональности устройства в приложениях для устройств магазина Windows</span><span class="sxs-lookup"><span data-stu-id="91510-107">Enabling custom device functionality in Windows Store device apps</span></span>](#enabling-custom-device-functionality-in-windows-store-device-apps)

## <a name="enabling-custom-device-functionality-in-windows-store-device-apps"></a><span data-ttu-id="91510-108">Включение настраиваемой функциональности устройства в приложениях для устройств магазина Windows</span><span class="sxs-lookup"><span data-stu-id="91510-108">Enabling custom device functionality in Windows Store device apps</span></span>

<span data-ttu-id="91510-109">Разработчики независимых поставщиков оборудования (IHV) и OEM-производители могут создать приложение Магазина Windows, связанное с устройством и автоматически получаемое при установке устройства.</span><span class="sxs-lookup"><span data-stu-id="91510-109">Developers for independent hardware vendors (IHVs) and OEMs can build a Windows Store app that's paired with their device and automatically acquired when the device is installed.</span></span> <span data-ttu-id="91510-110">Это приложение, известное как приложение для устройств магазина Windows, может предоставлять уникальные функциональные возможности устройства.</span><span class="sxs-lookup"><span data-stu-id="91510-110">This app, known as a Windows Store device app, can provide unique device functionality.</span></span>

<span data-ttu-id="91510-111">Устройства, у которых нет встроенных драйверов классов или интерфейсов API среда выполнения Windows для взаимодействия с устройством в Windows 8, называются *специализированными устройствами*.</span><span class="sxs-lookup"><span data-stu-id="91510-111">Devices that don't have built-in class drivers or Windows Runtime APIs for communicating with the device in Windows 8 are known as *specialized devices*.</span></span> <span data-ttu-id="91510-112">Для этих устройств может потребоваться пользовательский драйвер.</span><span class="sxs-lookup"><span data-stu-id="91510-112">These devices might require a custom driver.</span></span> <span data-ttu-id="91510-113">Дополнительные сведения о типах устройств, для которых требуются пользовательские драйверы, см. в статье Руководство по проектированию приложений для устройств магазина Windows для специализированных устройств.</span><span class="sxs-lookup"><span data-stu-id="91510-113">For more information about the types of devices that require custom drivers, see the Windows Store device app design guide for specialized devices .</span></span>

<span data-ttu-id="91510-114">Приложение для устройств магазина Windows для специализированного устройства, которое должно взаимодействовать с пользовательским драйвером устройства, не может использовать интерфейсы API Microsoft Win32, такие как [**DeviceIoControl**](/windows/win32/api/ioapiset/nf-ioapiset-deviceiocontrol) и [**CreateFile**](/windows/win32/api/fileapi/nf-fileapi-createfilea) , для отправки IOCTL на устройство.</span><span class="sxs-lookup"><span data-stu-id="91510-114">The Windows Store device app for a specialized device that must communicate with a device's custom driver can't use Microsoft Win32 APIs like [**DeviceIoControl**](/windows/win32/api/ioapiset/nf-ioapiset-deviceiocontrol) and [**CreateFile**](/windows/win32/api/fileapi/nf-fileapi-createfilea) to send IOCTLs to the device.</span></span> <span data-ttu-id="91510-115">В ограниченной среде безопасности, в которой выполняются приложения для устройств магазина Windows, требуется использовать API доступа к устройству для взаимодействия с пользовательским драйвером из приложения Магазина Windows.</span><span class="sxs-lookup"><span data-stu-id="91510-115">The restricted security environment where Windows Store device apps run require that you use the Device Access API to communicate with your custom driver from a Windows Store app.</span></span>

<span data-ttu-id="91510-116">Разработчик настраиваемого устройства предоставляет доступ к утвержденным, привилегированным приложениям.</span><span class="sxs-lookup"><span data-stu-id="91510-116">The developer of a custom device restricts access to approved, privileged applications.</span></span> <span data-ttu-id="91510-117">Например, изготовителю устройства Media Player может потребоваться, чтобы пользователи воспроизводили музыку только с помощью музыкального приложения, предоставленного IHV, и ограничивают приложение конкурентов синхронизацией носителя с устройства.</span><span class="sxs-lookup"><span data-stu-id="91510-117">For instance, the manufacturer of a media-player device might want users to play music only through the IHV-provided music app and restrict any competitor's app from syncing media from the device.</span></span> <span data-ttu-id="91510-118">При создании драйвера устройства в параметре Information (INF) филето указывается, что доступ к устройству могут получить только привилегированные приложения.</span><span class="sxs-lookup"><span data-stu-id="91510-118">When you're building the device driver, you set a property in the information (INF) fileto specify that only privileged apps can access the device.</span></span> <span data-ttu-id="91510-119">Метаданные на самом устройстве указывает идентификаторы пакетов для набора утвержденных приложений.</span><span class="sxs-lookup"><span data-stu-id="91510-119">Metadata on the device itself specifies the package IDs for the set of approved apps.</span></span> <span data-ttu-id="91510-120">Дополнительные сведения о настройке этих метаданных на устройстве см. в статье [приложения устройства UWP для внутренних устройств](/windows-hardware/drivers/devapps/uwp-device-apps-for-specialized-devices) .</span><span class="sxs-lookup"><span data-stu-id="91510-120">See [UWP device apps for internal devices](/windows-hardware/drivers/devapps/uwp-device-apps-for-specialized-devices) for more detail on the process of setting this metadata on your device.</span></span>

## <a name="related-topics"></a><span data-ttu-id="91510-121">См. также</span><span class="sxs-lookup"><span data-stu-id="91510-121">Related topics</span></span>

<span data-ttu-id="91510-122">[Пример пользовательского доступа к драйверу](https://github.com/microsoftarchive/msdn-code-gallery-microsoft/tree/411c271e537727d737a53fa2cbe99eaecac00cc0/Official%20Windows%20Platform%20Sample/Custom%20driver%20access%20sample), [приложения для устройств UWP для внутренних устройств](/windows-hardware/drivers/devapps/uwp-device-apps-for-specialized-devices), [центр разработки оборудования](/windows-hardware/drivers/)</span><span class="sxs-lookup"><span data-stu-id="91510-122">[Custom Driver Access Sample](https://github.com/microsoftarchive/msdn-code-gallery-microsoft/tree/411c271e537727d737a53fa2cbe99eaecac00cc0/Official%20Windows%20Platform%20Sample/Custom%20driver%20access%20sample), [UWP device apps for internal devices](/windows-hardware/drivers/devapps/uwp-device-apps-for-specialized-devices), [Hardware Dev Center](/windows-hardware/drivers/)</span></span>