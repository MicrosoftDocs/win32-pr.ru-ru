---
title: Стадия шейдера вершин
description: Стадия вершинного шейдера (VS) обрабатывает вершины из входного ассемблера, выполняя операции на вершину, такие как преобразования, обложки, трансформация и освещение на вершинах.
ms.assetid: C6A39F48-A243-4049-8AED-0B521BEDFA76
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: b19a291b4abed572da54f9a2616ce19e926e1c6f
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/20/2020
ms.locfileid: "104070032"
---
# <a name="vertex-shader-stage"></a><span data-ttu-id="5397c-103">Стадия шейдера вершин</span><span class="sxs-lookup"><span data-stu-id="5397c-103">Vertex Shader Stage</span></span>

<span data-ttu-id="5397c-104">Стадия вершинного шейдера (VS) обрабатывает вершины из входного ассемблера, выполняя операции на вершину, такие как преобразования, обложки, трансформация и освещение на вершинах.</span><span class="sxs-lookup"><span data-stu-id="5397c-104">The vertex-shader (VS) stage processes vertices from the input assembler, performing per-vertex operations such as transformations, skinning, morphing, and per-vertex lighting.</span></span> <span data-ttu-id="5397c-105">Шейдеры вершин всегда работают с одной входной вершиной и создают одну выходную вершину.</span><span class="sxs-lookup"><span data-stu-id="5397c-105">Vertex shaders always operate on a single input vertex and produce a single output vertex.</span></span> <span data-ttu-id="5397c-106">Для выполнения конвейера этап шейдера вершин должен всегда быть активен.</span><span class="sxs-lookup"><span data-stu-id="5397c-106">The vertex shader stage must always be active for the pipeline to execute.</span></span> <span data-ttu-id="5397c-107">Если изменение или преобразование вершин не требуется, необходимо создать сквозной шейдер вершин и установить его в конвейере.</span><span class="sxs-lookup"><span data-stu-id="5397c-107">If no vertex modification or transformation is required, a pass-through vertex shader must be created and set to the pipeline.</span></span>

## <a name="the-vertex-shader"></a><span data-ttu-id="5397c-108">Шейдер вершин</span><span class="sxs-lookup"><span data-stu-id="5397c-108">The Vertex Shader</span></span>

<span data-ttu-id="5397c-109">Каждая входная вершина шейдера вершин может состоять из до 16 32-битных векторов (до 4 компонентов), а каждая вершина вывода может состоять максимум с 16 32-бит 4-компонентными векторами.</span><span class="sxs-lookup"><span data-stu-id="5397c-109">Each vertex shader input vertex can be comprised of up to 16 32-bit vectors (up to 4 components each) and each output vertex can be comprised of as many as 16 32-bit 4-component vectors.</span></span> <span data-ttu-id="5397c-110">Все шейдеры вершин должны иметь как минимум один вход и один выход, который может представлять собой даже одно-единственное скалярное значение.</span><span class="sxs-lookup"><span data-stu-id="5397c-110">All vertex shaders must have a minimum of one input and one output, which can be as little as one scalar value.</span></span>

<span data-ttu-id="5397c-111">На этапе вершинного шейдера можно использовать два сформированных системой значения из входного ассемблера: Вертексид и InstanceID (см. раздел системные значения и семантика).</span><span class="sxs-lookup"><span data-stu-id="5397c-111">The vertex-shader stage can consume two system generated values from the input assembler: VertexID and InstanceID (see System Values and Semantics).</span></span> <span data-ttu-id="5397c-112">Поскольку и VertexID, и InstanceID являются значимыми на уровне вершины, а формируемые оборудованием идентификаторы могут подаваться на вход только первого этапа, которому они понятны, эти значения идентификаторов могут подаваться только на вход этапа шейдера вершин.</span><span class="sxs-lookup"><span data-stu-id="5397c-112">Since VertexID and InstanceID are both meaningful at a vertex level, and IDs generated by hardware can only be fed into the first stage that understands them, these ID values can only be fed into the vertex-shader stage.</span></span>

<span data-ttu-id="5397c-113">Шейдеры вершин всегда выполняются над всеми вершинами, включая смежные вершины во входных топологиях примитивов со смежностью.</span><span class="sxs-lookup"><span data-stu-id="5397c-113">Vertex shaders are always run on all vertices, including adjacent vertices in input primitive topologies with adjacency.</span></span> <span data-ttu-id="5397c-114">Число раз выполнения шейдера вершин можно запросить у ЦП с помощью статистики конвейера VSInvocations.</span><span class="sxs-lookup"><span data-stu-id="5397c-114">The number of times that the vertex shader has been executed can be queried from the CPU using the VSInvocations pipeline statistic.</span></span>

<span data-ttu-id="5397c-115">Шейдер вершин может выполнять операции загрузки и дискретизации текстур, когда производные экранного пространства не требуются (с использованием встроенных функций HLSL: [Sample (объект текстуры DirectX HLSL)](/windows/desktop/direct3dhlsl/dx-graphics-hlsl-to-sample), [SampleCmpLevelZero (объект текстуры DirectX HLSL)](/windows/desktop/direct3dhlsl/dx-graphics-hlsl-to-samplecmplevelzero) и [SampleGrad (объект текстуры DirectX HLSL)](/windows/desktop/direct3dhlsl/dx-graphics-hlsl-to-samplegrad)).</span><span class="sxs-lookup"><span data-stu-id="5397c-115">A vertex shader can perform load and texture sampling operations where screen-space derivatives are not required (using HLSL intrinsic functions: [Sample (DirectX HLSL Texture Object)](/windows/desktop/direct3dhlsl/dx-graphics-hlsl-to-sample), [SampleCmpLevelZero (DirectX HLSL Texture Object)](/windows/desktop/direct3dhlsl/dx-graphics-hlsl-to-samplecmplevelzero), and [SampleGrad (DirectX HLSL Texture Object)](/windows/desktop/direct3dhlsl/dx-graphics-hlsl-to-samplegrad)).</span></span>

## <a name="related-topics"></a><span data-ttu-id="5397c-116">См. также</span><span class="sxs-lookup"><span data-stu-id="5397c-116">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="5397c-117">Графический конвейер</span><span class="sxs-lookup"><span data-stu-id="5397c-117">Graphics Pipeline</span></span>](overviews-direct3d-11-graphics-pipeline.md)
</dt> <dt>

[<span data-ttu-id="5397c-118">Этапы конвейера (Direct3D 10)</span><span class="sxs-lookup"><span data-stu-id="5397c-118">Pipeline Stages (Direct3D 10)</span></span>](/windows/desktop/direct3d10/d3d10-graphics-programming-guide-pipeline-stages)
</dt> </dl>

 

 