---
title: Заданное значение ссылки на набор элементов в шейдере (графика Direct3D 11)
description: Включение шейдера пикселей для вывода значения ссылки на набор элементов вместо использования указанного API-интерфейса обеспечивает очень точный контроль над операциями с набором элементов.
ms.assetid: 6E336623-9746-4872-ADC1-C5489F53D7AE
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 65a089ec8ab56a1cf00021f97bb40cf86fe42f04
ms.sourcegitcommit: 8fa6614b715bddf14648cce36d2df22e5232801a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/10/2020
ms.locfileid: "104340005"
---
# <a name="shader-specified-stencil-reference-value-direct3d-11-graphics"></a>Заданное значение ссылки на набор элементов в шейдере (графика Direct3D 11)

Включение шейдера пикселей для вывода значения ссылки на набор элементов вместо использования указанного API-интерфейса обеспечивает очень точный контроль над операциями с набором элементов.

Заданное значение шейдера заменяет значение *ссылки на набор элементов* , ЗАданное API, для этого вызова. Это означает, что изменение влияет как на тест шаблона, так и при замене набора элементов D3D11 трафарета "трафарет" \_ \_ \_ (один член из [**D3D11 \_ набора \_**](/windows/desktop/api/D3D11/ne-d3d11-d3d11_stencil_op)элементов) используется для записи ссылочного значения в буфер шаблона.

В более ранних версиях D3D11 значение ссылки на набор элементов может быть задано только методом [**ссылку ID3D11DeviceContext:: омсетдепсстенЦилстате**](/windows/desktop/api/D3D11/nf-d3d11-id3d11devicecontext-omsetdepthstencilstate) . Это означает, что это значение может быть определено только для детализации по отрисовке. Эта функция D3D 11.3 позволяет разработчикам считывать и использовать значение ссылки на набор элементов ( `SV_StencilRef` ), выводимое из шейдера пикселей, что означает, что его можно указать на уровне гранулярности на пиксель или выборку.

Эта функция необязательна в D3D 11.3. Чтобы проверить его поддержку, проверьте `PSSpecifiedStencilRefSupported` логическое поле [**D3D11 \_ \_ данных функции \_ D3D11 \_ OPTIONS2**](/windows/desktop/api/D3D11/ns-d3d11-d3d11_feature_data_d3d11_options2) с помощью [**ID3D11Device:: чеккфеатуресуппорт**](/windows/desktop/api/D3D11/nf-d3d11-id3d11device-checkfeaturesupport) .

Ниже приведен пример использования `SV_StencilRef` в шейдере пикселей.

``` syntax
uint main2(float4 c : COORD) : SV_StencilRef
{
    return uint(c.x);
}
```

## <a name="related-topics"></a>См. также

<dl> <dt>

[Функции Direct3D 11,3](direct3d-11-3-features.md)
</dt> <dt>

[Модель шейдера 5,1](/windows/desktop/direct3dhlsl/shader-model-5-1)
</dt> </dl>

 

 
