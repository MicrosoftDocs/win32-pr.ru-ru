---
title: Эффекты (Direct3D 11)
description: DirectX-действие — это коллекция состояний конвейера, задается выражениями, написанными в HLSL, и синтаксисом, характерным для платформы Effect.
ms.assetid: d52a2cad-eac9-4442-9ee5-114bebe0f245
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 8952a35e1212f7d50956cc54e7a046db9f87b3b6
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/20/2020
ms.locfileid: "103792450"
---
# <a name="effects-direct3d-11"></a><span data-ttu-id="4a74d-103">Эффекты (Direct3D 11)</span><span class="sxs-lookup"><span data-stu-id="4a74d-103">Effects (Direct3D 11)</span></span>

<span data-ttu-id="4a74d-104">DirectX-действие — это коллекция состояний конвейера, задается выражениями, написанными в [HLSL](/windows/desktop/direct3dhlsl/dx-graphics-hlsl-reference) , и синтаксисом, характерным для платформы Effect.</span><span class="sxs-lookup"><span data-stu-id="4a74d-104">A DirectX effect is a collection of pipeline state, set by expressions written in [HLSL](/windows/desktop/direct3dhlsl/dx-graphics-hlsl-reference) and some syntax that is specific to the effect framework.</span></span>

<span data-ttu-id="4a74d-105">После компиляции результата используйте API-интерфейсы платформы эффектов для подготовки к просмотру.</span><span class="sxs-lookup"><span data-stu-id="4a74d-105">After compiling an effect, use the effect framework APIs to render.</span></span> <span data-ttu-id="4a74d-106">Функциональность эффектов может варьироваться от чего-нибудь простого, как шейдер вершин, который преобразует геометрию, и шейдер пикселей, который выводит сплошной цвет, на метод отрисовки, требующий несколько проходов, использует каждый этап конвейера графики и управляет состоянием шейдера, а также состоянием конвейера, не связанным с программируемыми шейдерами.</span><span class="sxs-lookup"><span data-stu-id="4a74d-106">Effect functionality can range from something as simple as a vertex shader that transforms geometry and a pixel shader that outputs a solid color, to a rendering technique that requires multiple passes, uses every stage of the graphics pipeline, and manipulates shader state as well as the pipeline state not associated with the programmable shaders.</span></span>

<span data-ttu-id="4a74d-107">Первым шагом является упорядочение состояния, управление которым должно выполняться в результате.</span><span class="sxs-lookup"><span data-stu-id="4a74d-107">The first step is to organize the state you want to control in an effect.</span></span> <span data-ttu-id="4a74d-108">К ним относятся состояние шейдера (вершина, поверхности, домен, геометрия, пиксельные шейдеры), состояние текстуры и образца, используемое шейдерами, и другое непрограммируемое состояние конвейера.</span><span class="sxs-lookup"><span data-stu-id="4a74d-108">This includes shader state (vertex, hull, domain, geometry, pixel and compute shaders), texture and sampler state used by the shaders, and other non-programmable pipeline state.</span></span> <span data-ttu-id="4a74d-109">В памяти можно создавать эффекты в виде текстовой строки, но, как правило, размер становится достаточно большим, чтобы сохранить состояние воздействия в файле эффектов (текстовом файле, который заканчивается расширением. FX).</span><span class="sxs-lookup"><span data-stu-id="4a74d-109">You can create an effect in memory as a text string, but typically, the size gets large enough that it is handy to store effect state in an effect file (a text file that ends in a .fx extension).</span></span> <span data-ttu-id="4a74d-110">Чтобы использовать этот результат, необходимо скомпилировать его (для проверки синтаксиса HLSL, а также синтаксиса инфраструктуры), инициализировать состояние эффектов через вызовы API и изменить цикл рендеринга для вызова API-интерфейсов отрисовки.</span><span class="sxs-lookup"><span data-stu-id="4a74d-110">To use an effect, you must compile it (to check HLSL syntax as well as effect framework syntax), initialize effect state through API calls, and modify your render loop to call the rendering APIs.</span></span>

<span data-ttu-id="4a74d-111">Действие инкапсулирует все состояние отрисовки, необходимое для конкретного действия, в одну функцию отрисовки, называемую методом.</span><span class="sxs-lookup"><span data-stu-id="4a74d-111">An effect encapsulates all of the render state required by a particular effect into a single rendering function called a technique.</span></span> <span data-ttu-id="4a74d-112">Проход — это подмножество метода, которое содержит состояние визуализации.</span><span class="sxs-lookup"><span data-stu-id="4a74d-112">A pass is a sub-set of a technique, that contains render state.</span></span> <span data-ttu-id="4a74d-113">Чтобы реализовать несколько проходных эффектов отрисовки, реализуйте один или несколько проходов внутри метода.</span><span class="sxs-lookup"><span data-stu-id="4a74d-113">To implement a multiple pass rendering effect, implement one or more passes within a technique.</span></span> <span data-ttu-id="4a74d-114">Например, предположим, что требуется отобразить некоторую геометрию с одним набором буферов глубины или шаблона, а затем нарисовать некоторые спрайты поверх этого.</span><span class="sxs-lookup"><span data-stu-id="4a74d-114">For example, say you wanted to render some geometry with one set of depth/stencil buffers, and then draw some sprites on top of that.</span></span> <span data-ttu-id="4a74d-115">Можно реализовать отрисовку геометрии в первом проходе, а рисование спрайта во втором проходе.</span><span class="sxs-lookup"><span data-stu-id="4a74d-115">You could implement the geometry rendering in the first pass, and the sprite drawing in the second pass.</span></span> <span data-ttu-id="4a74d-116">Для визуализации этого результата в цикле рендеринга просто отображается оба прохода.</span><span class="sxs-lookup"><span data-stu-id="4a74d-116">To render the effect, you simply render both passes in your render loop.</span></span> <span data-ttu-id="4a74d-117">В результате можно реализовать любое количество приемов.</span><span class="sxs-lookup"><span data-stu-id="4a74d-117">You can implement any number of techniques in an effect.</span></span> <span data-ttu-id="4a74d-118">Разумеется, чем больше количество методов, тем больше время компиляции для этого результата.</span><span class="sxs-lookup"><span data-stu-id="4a74d-118">Of course, the greater the number of techniques, the greater the compile time for the effect.</span></span> <span data-ttu-id="4a74d-119">Одним из способов использования этой функции является создание эффектов с помощью методов, предназначенных для работы на различных устройствах.</span><span class="sxs-lookup"><span data-stu-id="4a74d-119">One way to exploit this functionality is to create effects with techniques that are designed to run on different hardware.</span></span> <span data-ttu-id="4a74d-120">Это позволяет приложению корректно понизить производительность в зависимости от обнаруженных возможностей оборудования.</span><span class="sxs-lookup"><span data-stu-id="4a74d-120">This allows an application to gracefully downgrade performance based on the hardware capabilities detected.</span></span>

<span data-ttu-id="4a74d-121">Набор методов можно сгруппировать в группу (в которой используется синтаксис "фксграуп").</span><span class="sxs-lookup"><span data-stu-id="4a74d-121">A set of techniques can be grouped in a group (which uses the syntax "fxgroup").</span></span> <span data-ttu-id="4a74d-122">Методы можно группировать любым способом.</span><span class="sxs-lookup"><span data-stu-id="4a74d-122">Techniques can be grouped in any way.</span></span> <span data-ttu-id="4a74d-123">Например, можно создать несколько групп, по одному на каждый материал; Каждый материал может иметь методику для каждого уровня оборудования. Каждый прием будет иметь набор проходов, которые определяют материал на конкретном оборудовании.</span><span class="sxs-lookup"><span data-stu-id="4a74d-123">For example, multiple groups could be created, one per material; each material could have a technique for each hardware level; each technique would have a set of passes which define the material on the particular hardware.</span></span>

## <a name="in-this-section"></a><span data-ttu-id="4a74d-124">В этом разделе</span><span class="sxs-lookup"><span data-stu-id="4a74d-124">In this section</span></span>



| <span data-ttu-id="4a74d-125">Раздел</span><span class="sxs-lookup"><span data-stu-id="4a74d-125">Topic</span></span>                                                                                                                | <span data-ttu-id="4a74d-126">Описание</span><span class="sxs-lookup"><span data-stu-id="4a74d-126">Description</span></span>                                                                                                                                                         |
|----------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="4a74d-127">Упорядочение состояния в результате</span><span class="sxs-lookup"><span data-stu-id="4a74d-127">Organizing State in an Effect</span></span>](d3d11-graphics-programming-guide-effects-organize.md)<br/>                    | <span data-ttu-id="4a74d-128">При использовании Direct3D 11 состояние воздействия для определенных стадий конвейера упорядочивается по структурам.</span><span class="sxs-lookup"><span data-stu-id="4a74d-128">With Direct3D 11, effect state for certain pipeline stages is organized by structures.</span></span><br/>                                                                   |
| [<span data-ttu-id="4a74d-129">Воздействие системных интерфейсов</span><span class="sxs-lookup"><span data-stu-id="4a74d-129">Effect System Interfaces</span></span>](d3d11-graphics-programming-guide-effects-interfaces.md)<br/>                       | <span data-ttu-id="4a74d-130">Система эффектов определяет несколько интерфейсов для управления состоянием эффектов.</span><span class="sxs-lookup"><span data-stu-id="4a74d-130">The effect system defines several interfaces for managing effect state.</span></span><br/>                                                                                  |
| [<span data-ttu-id="4a74d-131">Специализирующиеся интерфейсы</span><span class="sxs-lookup"><span data-stu-id="4a74d-131">Specializing Interfaces</span></span>](d3d11-graphics-reference-effect-specializing.md)<br/>                               | <span data-ttu-id="4a74d-132">[**ID3DX11EffectVariable**](id3dx11effectvariable.md) имеет ряд методов для приведения интерфейса к нужному типу интерфейса.</span><span class="sxs-lookup"><span data-stu-id="4a74d-132">[**ID3DX11EffectVariable**](id3dx11effectvariable.md) has a number of methods for casting the interface into the particular type of interface you need.</span></span><br/> |
| [<span data-ttu-id="4a74d-133">Интерфейсы и классы в эффектах</span><span class="sxs-lookup"><span data-stu-id="4a74d-133">Interfaces and Classes in Effects</span></span>](d3d11-graphics-programming-guide-effects-interfaces-and-classes.md)<br/>  | <span data-ttu-id="4a74d-134">Существует множество способов использования классов и интерфейсов в влиянии 11.</span><span class="sxs-lookup"><span data-stu-id="4a74d-134">There are many ways to use classes and interfaces in Effects 11.</span></span><br/>                                                                                         |
| [<span data-ttu-id="4a74d-135">Отрисовка результата</span><span class="sxs-lookup"><span data-stu-id="4a74d-135">Rendering an Effect</span></span>](d3d11-graphics-programming-guide-effects-render.md)<br/>                                | <span data-ttu-id="4a74d-136">Можно использовать для хранения информации или для отрисовки с помощью группы состояний.</span><span class="sxs-lookup"><span data-stu-id="4a74d-136">An effect can be used to store information, or to render using a group of state.</span></span><br/>                                                                         |
| [<span data-ttu-id="4a74d-137">Клонирование результата</span><span class="sxs-lookup"><span data-stu-id="4a74d-137">Cloning an Effect</span></span>](d3d11-graphics-programming-guide-effects-cloning.md)<br/>                                 | <span data-ttu-id="4a74d-138">При клонировании действия создается вторая, почти идентичная копия этого результата.</span><span class="sxs-lookup"><span data-stu-id="4a74d-138">Cloning an effect creates a second, almost identical copy of the effect.</span></span><br/>                                                                                 |
| [<span data-ttu-id="4a74d-139">Синтаксис потока Out</span><span class="sxs-lookup"><span data-stu-id="4a74d-139">Stream Out Syntax</span></span>](d3d11-graphics-reference-effect-streamout.md)<br/>                                        | <span data-ttu-id="4a74d-140">Шейдер геометрии с потоком out объявляется с определенным синтаксисом.</span><span class="sxs-lookup"><span data-stu-id="4a74d-140">A geometry shader with stream out is declared with a particular syntax.</span></span><br/>                                                                                  |
| [<span data-ttu-id="4a74d-141">Различия между эффектами 10 и Effects 11</span><span class="sxs-lookup"><span data-stu-id="4a74d-141">Differences Between Effects 10 and Effects 11</span></span>](d3d11-graphics-programming-guide-effects-differences.md)<br/> | <span data-ttu-id="4a74d-142">В этом разделе показаны различия между эффектами 10 и 11.</span><span class="sxs-lookup"><span data-stu-id="4a74d-142">This topic shows the differences between Effects 10 and Effects 11.</span></span><br/>                                                                                      |



 

## <a name="related-topics"></a><span data-ttu-id="4a74d-143">См. также</span><span class="sxs-lookup"><span data-stu-id="4a74d-143">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="4a74d-144">Руководство по программированию для Direct3D 11</span><span class="sxs-lookup"><span data-stu-id="4a74d-144">Programming Guide for Direct3D 11</span></span>](dx-graphics-overviews.md)
</dt> </dl>

 

