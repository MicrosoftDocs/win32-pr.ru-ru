---
title: Общие сведения о ресурсе в Direct3D 11
description: В этом разделе представлены ресурсы Direct3D, такие как буферы и текстуры.
ms.assetid: 9e991ab0-9648-484a-9a2c-5391ee5abf20
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: cb466883991795a66eec0ba1b99f5c989fa33c1f
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/20/2020
ms.locfileid: "104413291"
---
# <a name="introduction-to-a-resource-in-direct3d-11"></a><span data-ttu-id="86f19-103">Общие сведения о ресурсе в Direct3D 11</span><span class="sxs-lookup"><span data-stu-id="86f19-103">Introduction to a Resource in Direct3D 11</span></span>

<span data-ttu-id="86f19-104">Ресурсы являются стандартными блоками сцены.</span><span class="sxs-lookup"><span data-stu-id="86f19-104">Resources are the building blocks of your scene.</span></span> <span data-ttu-id="86f19-105">Они содержат большую часть данных, которые Direct3D использует для интерпретации и визуализации сцены.</span><span class="sxs-lookup"><span data-stu-id="86f19-105">They contain most of the data that Direct3D uses to interpret and render your scene.</span></span> <span data-ttu-id="86f19-106">Ресурсы — это области памяти, к которым можно получить доступ с помощью конвейера Direct3D.</span><span class="sxs-lookup"><span data-stu-id="86f19-106">Resources are areas in memory that can be accessed by the Direct3D pipeline.</span></span> <span data-ttu-id="86f19-107">Ресурсы содержат следующие типы данных: геометрию, текстуры, данные шейдера.</span><span class="sxs-lookup"><span data-stu-id="86f19-107">Resources contain the following types of data: geometry, textures, shader data.</span></span> <span data-ttu-id="86f19-108">В этом разделе представлены ресурсы Direct3D, такие как буферы и текстуры.</span><span class="sxs-lookup"><span data-stu-id="86f19-108">This topic introduces Direct3D resources such as buffers and textures.</span></span>

<span data-ttu-id="86f19-109">Можно создать строго типизированные или нетипизированные ресурсы. Вы можете контролировать, имеют ли ресурсы доступ на чтение и запись; ресурсы можно сделать доступными только для ЦП, GPU или и того, и другого.</span><span class="sxs-lookup"><span data-stu-id="86f19-109">You can create resources that are strongly typed or typeless; you can control whether resources have both read and write access; you can make resources accessible to only the CPU, GPU, or both.</span></span> <span data-ttu-id="86f19-110">На каждом этапе конвейера может быть активно до 128 ресурсов.</span><span class="sxs-lookup"><span data-stu-id="86f19-110">Up to 128 resources can be active for each pipeline stage.</span></span>

<span data-ttu-id="86f19-111">Direct3D гарантирует возврат нуля для любого ресурса, доступ к которому осуществляется вне границ.</span><span class="sxs-lookup"><span data-stu-id="86f19-111">Direct3D guarantees to return zero for any resource that is accessed out of bounds.</span></span>

<span data-ttu-id="86f19-112">Жизненный цикл ресурса Direct3D:</span><span class="sxs-lookup"><span data-stu-id="86f19-112">The lifecycle of a Direct3D resource is:</span></span>

-   <span data-ttu-id="86f19-113">Создайте ресурс с помощью одного из методов create интерфейса [**ID3D11Device**](/windows/desktop/api/D3D11/nn-d3d11-id3d11device) .</span><span class="sxs-lookup"><span data-stu-id="86f19-113">Create a resource using one of the create methods of the [**ID3D11Device**](/windows/desktop/api/D3D11/nn-d3d11-id3d11device) interface.</span></span>
-   <span data-ttu-id="86f19-114">Привяжите ресурс к конвейеру, используя контекст и один из методов Set интерфейса [**ссылку ID3D11DeviceContext**](/windows/desktop/api/D3D11/nn-d3d11-id3d11devicecontext) .</span><span class="sxs-lookup"><span data-stu-id="86f19-114">Bind a resource to the pipeline using a context and one of the set methods of the [**ID3D11DeviceContext**](/windows/desktop/api/D3D11/nn-d3d11-id3d11devicecontext) interface.</span></span>
-   <span data-ttu-id="86f19-115">Освобождение ресурса путем вызова метода [**Release**](/windows/desktop/api/unknwn/nf-unknwn-iunknown-release) интерфейса ресурсов.</span><span class="sxs-lookup"><span data-stu-id="86f19-115">Deallocate a resource by calling the [**Release**](/windows/desktop/api/unknwn/nf-unknwn-iunknown-release) method of the resource interface.</span></span>

<span data-ttu-id="86f19-116">В этом разделе рассматриваются следующие вопросы.</span><span class="sxs-lookup"><span data-stu-id="86f19-116">This section contains the following topics:</span></span>

-   [<span data-ttu-id="86f19-117">Строгая и слабая типизация</span><span class="sxs-lookup"><span data-stu-id="86f19-117">Strong vs Weak Typing</span></span>](#strong-vs-weak-typing)
-   [<span data-ttu-id="86f19-118">Представления ресурсов</span><span class="sxs-lookup"><span data-stu-id="86f19-118">Resource Views</span></span>](#resource-views)
-   [<span data-ttu-id="86f19-119">Необработанные представления буферов</span><span class="sxs-lookup"><span data-stu-id="86f19-119">Raw Views of Buffers</span></span>](#raw-views-of-buffers)
-   [<span data-ttu-id="86f19-120">См. также</span><span class="sxs-lookup"><span data-stu-id="86f19-120">Related topics</span></span>](#related-topics)

## <a name="strong-vs-weak-typing"></a><span data-ttu-id="86f19-121">Строгая и слабая типизация</span><span class="sxs-lookup"><span data-stu-id="86f19-121">Strong vs Weak Typing</span></span>

<span data-ttu-id="86f19-122">Указать макет ресурса (тип размещения в памяти) можно двумя способами.</span><span class="sxs-lookup"><span data-stu-id="86f19-122">There are two ways to fully specify the layout (or memory footprint) of a resource:</span></span>

-   <span data-ttu-id="86f19-123">Типизированный — полностью укажите тип при создании ресурса.</span><span class="sxs-lookup"><span data-stu-id="86f19-123">Typed - fully specify the type when the resource is created.</span></span>
-   <span data-ttu-id="86f19-124">Без типа — полностью укажите тип, если ресурс привязан к конвейеру.</span><span class="sxs-lookup"><span data-stu-id="86f19-124">Typeless - fully specify the type when the resource is bound to the pipeline.</span></span>

<span data-ttu-id="86f19-125">При создании полностью типизированного ресурса он может использовать только тот формат, с которым был создан.</span><span class="sxs-lookup"><span data-stu-id="86f19-125">Creating a fully-typed resource restricts the resource to the format it was created with.</span></span> <span data-ttu-id="86f19-126">Это позволяет среде выполнения оптимизировать доступ, особенно если ресурс создается с флагами, указывающими, что приложение не может его сопоставить.</span><span class="sxs-lookup"><span data-stu-id="86f19-126">This enables the runtime to optimize access, especially if the resource is created with flags indicating that it cannot be mapped by the application.</span></span> <span data-ttu-id="86f19-127">Ресурсы, созданные с помощью определенного типа, не могут быть повторно интерпретированы с использованием механизма представления, если только этот ресурс не был создан с \_ \_ \_ флагом Present привязки DDI D3D10.</span><span class="sxs-lookup"><span data-stu-id="86f19-127">Resources created with a specific type cannot be reinterpreted using the view mechanism unless the resource was created with the D3D10\_DDI\_BIND\_PRESENT flag.</span></span> <span data-ttu-id="86f19-128">Если установлена \_ Привязка DDI D3D10, \_ \_ то на этих ресурсах можно создать представления ресурсов рендеринга или целевого объекта, используя любой из полностью типизированных членов соответствующего семейства, даже если исходный ресурс был создан как полностью типизированный.</span><span class="sxs-lookup"><span data-stu-id="86f19-128">If D3D10\_DDI\_BIND\_PRESENT is set render-target or shader resource views can be created on these resources using any of the fully typed members of the appropriate family, even if the original resource was created as fully typed.</span></span>

<span data-ttu-id="86f19-129">В ресурсе типа less тип данных неизвестен при первом создании ресурса.</span><span class="sxs-lookup"><span data-stu-id="86f19-129">In a type less resource, the data type is unknown when the resource is first created.</span></span> <span data-ttu-id="86f19-130">Приложение должно выбирать из доступных форматов меньшего числа (см. [**раздел \_ Формат DXGI**](/windows/desktop/api/dxgiformat/ne-dxgiformat-dxgi_format)).</span><span class="sxs-lookup"><span data-stu-id="86f19-130">The application must choose from the available type less formats (see [**DXGI\_FORMAT**](/windows/desktop/api/dxgiformat/ne-dxgiformat-dxgi_format)).</span></span> <span data-ttu-id="86f19-131">Вам следует указать размер выделяемой области памяти и то, потребуется ли среде выполнения создать подтекстуры в MIP-карте.</span><span class="sxs-lookup"><span data-stu-id="86f19-131">You must specify the size of the memory to allocate and whether the runtime will need to generate the subtextures in a mipmap.</span></span> <span data-ttu-id="86f19-132">Однако точный формат данных (если память будет интерпретироваться как целые числа, значения с плавающей запятой, целые числа без знака и т. д.) не определяется до тех пор, пока ресурс не будет привязан к конвейеру с [представлением ресурсов](#resource-views).</span><span class="sxs-lookup"><span data-stu-id="86f19-132">However, the exact data format (whether the memory will be interpreted as integers, floating point values, unsigned integers etc.) is not determined until the resource is bound to the pipeline with a [resource view](#resource-views).</span></span> <span data-ttu-id="86f19-133">Так как формат текстуры остается произвольным до привязки текстуры к конвейеру, ресурс называется хранилищем с нестрогой типизацией.</span><span class="sxs-lookup"><span data-stu-id="86f19-133">As the texture format remains flexible until the texture is bound to the pipeline, the resource is referred to as weakly typed storage.</span></span> <span data-ttu-id="86f19-134">Слабо типизированное хранилище имеет преимущество, что его можно повторно использовать или интерпретировать в другом формате, если количество компонентов и число бит каждого компонента одинаковы в обоих форматах.</span><span class="sxs-lookup"><span data-stu-id="86f19-134">Weakly typed storage has the advantage that it can be reused or reinterpreted in another format as long as the number of components and the bit count of each component are the same in both formats.</span></span>

<span data-ttu-id="86f19-135">Один ресурс можно привязать к нескольким этапам конвейера, если у каждой из них есть уникального представление, которое полностью квалифицирует форматы в каждом расположении.</span><span class="sxs-lookup"><span data-stu-id="86f19-135">A single resource can be bound to multiple pipeline stages as long as each has a unique view, which fully qualifies the formats at each location.</span></span> <span data-ttu-id="86f19-136">Например, ресурс, созданный с форматом \_ \_ R32G32B32A32 \_ типа "нетипизированный", можно использовать в качестве \_ формата DXGI \_ R32G32B32A32 \_ float и в \_ формате DXGI \_ R32G32B32A32 \_ uint в разных местах конвейера одновременно.</span><span class="sxs-lookup"><span data-stu-id="86f19-136">For example, a resource created with the format DXGI\_FORMAT\_R32G32B32A32\_TYPELESS could be used as a DXGI\_FORMAT\_R32G32B32A32\_FLOAT and a DXGI\_FORMAT\_R32G32B32A32\_UINT at different locations in the pipeline simultaneously.</span></span>

## <a name="resource-views"></a><span data-ttu-id="86f19-137">Представления ресурсов</span><span class="sxs-lookup"><span data-stu-id="86f19-137">Resource Views</span></span>

<span data-ttu-id="86f19-138">Ресурсы можно хранить в форматах памяти общего назначения, чтобы их можно было совместно использовать на нескольких стадиях конвейера.</span><span class="sxs-lookup"><span data-stu-id="86f19-138">Resources can be stored in general purpose memory formats so that they can be shared by multiple pipeline stages.</span></span> <span data-ttu-id="86f19-139">На этапе конвейера данные ресурсов обрабатываются с помощью представления.</span><span class="sxs-lookup"><span data-stu-id="86f19-139">A pipeline stage interprets resource data using a view.</span></span> <span data-ttu-id="86f19-140">Представление ресурсов концептуально похоже на приведение данных ресурсов, чтобы их можно было использовать в определенном контексте.</span><span class="sxs-lookup"><span data-stu-id="86f19-140">A resource view is conceptually similar to casting the resource data so that it can be used in a particular context.</span></span>

<span data-ttu-id="86f19-141">Представление можно использовать с нетипизированным ресурсом.</span><span class="sxs-lookup"><span data-stu-id="86f19-141">A view can be used with a typeless resource.</span></span> <span data-ttu-id="86f19-142">Это значит, что можно создать ресурс во время компиляции и объявить тип данных, если ресурс привязан к конвейеру.</span><span class="sxs-lookup"><span data-stu-id="86f19-142">That is, you can create a resource at compile time and declare the data type when the resource is bound to the pipeline.</span></span> <span data-ttu-id="86f19-143">Представление, созданное для ресурса типа, всегда имеет одинаковое количество битов на каждый компонент; способ интерпретации данных зависит от указанного формата.</span><span class="sxs-lookup"><span data-stu-id="86f19-143">A view created for a typeless resource always has the same number of bits per component; the way the data is interpreted is dependent on the format specified.</span></span> <span data-ttu-id="86f19-144">Указанный формат должен быть из того же семейства, что и формат, используемый при создании ресурса.</span><span class="sxs-lookup"><span data-stu-id="86f19-144">The format specified must be from the same family as the typeless format used when creating the resource.</span></span> <span data-ttu-id="86f19-145">Например, ресурс, созданный с R8G8B8A8 без \_ типа, нельзя просмотреть как \_ ресурс с плавающей запятой R32, даже если оба формата могут иметь одинаковый размер в памяти.</span><span class="sxs-lookup"><span data-stu-id="86f19-145">For example, a resource created with the R8G8B8A8\_TYPELESS format cannot be viewed as a R32\_FLOAT resource even though both formats may be the same size in memory.</span></span>

<span data-ttu-id="86f19-146">Представление также предоставляет другие возможности, такие как возможность чтения поверхностей глубины или набора элементов в шейдере, создание динамического кубической карты в рамках одного прохода и одновременное отображение нескольких срезов тома.</span><span class="sxs-lookup"><span data-stu-id="86f19-146">A view also exposes other capabilities such as the ability to read back depth/stencil surfaces in a shader, generating a dynamic cubemap in a single pass, and rendering simultaneously to multiple slices of a volume.</span></span>



| <span data-ttu-id="86f19-147">Интерфейс ресурсов</span><span class="sxs-lookup"><span data-stu-id="86f19-147">Resource Interface</span></span>                                             | <span data-ttu-id="86f19-148">Описание</span><span class="sxs-lookup"><span data-stu-id="86f19-148">Description</span></span>                                                                                   |
|----------------------------------------------------------------|-----------------------------------------------------------------------------------------------|
| [<span data-ttu-id="86f19-149">**ID3D11DepthStencilView**</span><span class="sxs-lookup"><span data-stu-id="86f19-149">**ID3D11DepthStencilView**</span></span>](/windows/desktop/api/D3D11/nn-d3d11-id3d11depthstencilview)       | <span data-ttu-id="86f19-150">Доступ к ресурсу текстуры во время тестирования шаблона глубины.</span><span class="sxs-lookup"><span data-stu-id="86f19-150">Access a texture resource during depth-stencil testing.</span></span>                                       |
| [<span data-ttu-id="86f19-151">**ID3D11RenderTargetView**</span><span class="sxs-lookup"><span data-stu-id="86f19-151">**ID3D11RenderTargetView**</span></span>](/windows/desktop/api/D3D11/nn-d3d11-id3d11rendertargetview)       | <span data-ttu-id="86f19-152">Доступ к ресурсу текстуры, который используется в качестве целевого объекта рендеринга.</span><span class="sxs-lookup"><span data-stu-id="86f19-152">Access a texture resource that is used as a render-target.</span></span>                                    |
| [<span data-ttu-id="86f19-153">**ID3D11ShaderResourceView**</span><span class="sxs-lookup"><span data-stu-id="86f19-153">**ID3D11ShaderResourceView**</span></span>](/windows/desktop/api/D3D11/nn-d3d11-id3d11shaderresourceview)   | <span data-ttu-id="86f19-154">Доступ к ресурсу шейдера, такому как буфер констант, буфер текстуры, текстуру или образец.</span><span class="sxs-lookup"><span data-stu-id="86f19-154">Access a shader resource such as a constant buffer, a texture buffer, a texture or a sampler.</span></span> |
| [<span data-ttu-id="86f19-155">**ID3D11UnorderedAccessView**</span><span class="sxs-lookup"><span data-stu-id="86f19-155">**ID3D11UnorderedAccessView**</span></span>](/windows/desktop/api/D3D11/nn-d3d11-id3d11unorderedaccessview) | <span data-ttu-id="86f19-156">Доступ к неупорядоченному ресурсу с помощью шейдера пикселей или шейдера вычислений.</span><span class="sxs-lookup"><span data-stu-id="86f19-156">Access an unordered resource using a pixel shader or a compute shader.</span></span>                        |



 

## <a name="raw-views-of-buffers"></a><span data-ttu-id="86f19-157">Необработанные представления буферов</span><span class="sxs-lookup"><span data-stu-id="86f19-157">Raw Views of Buffers</span></span>

<span data-ttu-id="86f19-158">Можно представить необработанный буфер, который также может называться [буфером адресов байтов](direct3d-11-advanced-stages-cs-resources.md), как набор битов, к которому нужен доступ без использования, т. е. буфер, к которому можно получить удобный доступ через фрагменты, со4 32-разрядные значения адресов без типов.</span><span class="sxs-lookup"><span data-stu-id="86f19-158">You can think of a raw buffer, which can also be called a [byte address buffer](direct3d-11-advanced-stages-cs-resources.md), as a bag of bits to which you want raw access, that is, a buffer that you can conveniently access through chunks of one to four 32-bit typeless address values.</span></span> <span data-ttu-id="86f19-159">Вы указываете, что требуется необработанный доступ к буферу (или необработанному представлению буфера) при вызове одного из следующих методов для создания представления в буфере:</span><span class="sxs-lookup"><span data-stu-id="86f19-159">You indicate that you want raw access to a buffer (or, a raw view of a buffer) when you call one of the following methods to create a view to the buffer:</span></span>

-   <span data-ttu-id="86f19-160">Чтобы создать представление ресурсов шейдера (SRV) для буфера, вызовите [**ID3D11Device:: креатешадерресаурцевиев**](/windows/desktop/api/D3D11/nf-d3d11-id3d11device-createshaderresourceview) с флагом [**D3D11 \_ буфферекс \_ SRV \_ флагом \_ RAW**](/windows/desktop/api/D3D11/ne-d3d11-d3d11_bufferex_srv_flag).</span><span class="sxs-lookup"><span data-stu-id="86f19-160">To create a shader resource view (SRV) to the buffer, call [**ID3D11Device::CreateShaderResourceView**](/windows/desktop/api/D3D11/nf-d3d11-id3d11device-createshaderresourceview) with the flag [**D3D11\_BUFFEREX\_SRV\_FLAG\_RAW**](/windows/desktop/api/D3D11/ne-d3d11-d3d11_bufferex_srv_flag).</span></span> <span data-ttu-id="86f19-161">Этот флаг задается в элементе **flags** структуры [**D3D11 \_ буфферекс \_ SRV**](/windows/desktop/api/D3D11/ns-d3d11-d3d11_bufferex_srv) .</span><span class="sxs-lookup"><span data-stu-id="86f19-161">You specify this flag in the **Flags** member of the [**D3D11\_BUFFEREX\_SRV**](/windows/desktop/api/D3D11/ns-d3d11-d3d11_bufferex_srv) structure.</span></span> <span data-ttu-id="86f19-162">Вы настраиваете **D3D11 \_ буфферекс \_ SRV** в элементе **буфферекс** в [**\_ представлении ресурсов шейдера D3D11 \_ \_ \_ DESC**](/windows/desktop/api/d3d11/ns-d3d11-d3d11_shader_resource_view_desc) , к которому принадлежит параметр *пдеск* в **ID3D11Device:: креатешадерресаурцевиев** Points.</span><span class="sxs-lookup"><span data-stu-id="86f19-162">You set **D3D11\_BUFFEREX\_SRV** in the **BufferEx** member of the [**D3D11\_SHADER\_RESOURCE\_VIEW\_DESC**](/windows/desktop/api/d3d11/ns-d3d11-d3d11_shader_resource_view_desc) structure to which the *pDesc* parameter of **ID3D11Device::CreateShaderResourceView** points.</span></span> <span data-ttu-id="86f19-163">Вы также задаете значение [**\_ \_ \_ буфферекс SRV Dimension D3D11**](/previous-versions/windows/desktop/legacy/ff476217(v=vs.85)) в элементе **Виевдименсион** в **\_ представлении ресурсов шейдера D3D11 \_ \_ \_ DESC** , чтобы указать, что SRV является необработанным представлением.</span><span class="sxs-lookup"><span data-stu-id="86f19-163">You also set the [**D3D11\_SRV\_DIMENSION\_BUFFEREX**](/previous-versions/windows/desktop/legacy/ff476217(v=vs.85)) value in the **ViewDimension** member of **D3D11\_SHADER\_RESOURCE\_VIEW\_DESC** to indicate that the SRV is a raw view.</span></span>
-   <span data-ttu-id="86f19-164">Чтобы создать неупорядоченное представление доступа (UAV) в буфере, вызовите [**ID3D11Device:: креатеунордередакцессвиев**](/windows/desktop/api/D3D11/nf-d3d11-id3d11device-createunorderedaccessview) с флагом [**D3D11 \_ buffer \_ UAV \_ флаг \_ RAW**](/windows/desktop/api/D3D11/ne-d3d11-d3d11_buffer_uav_flag).</span><span class="sxs-lookup"><span data-stu-id="86f19-164">To create an unordered access view (UAV) to the buffer, call [**ID3D11Device::CreateUnorderedAccessView**](/windows/desktop/api/D3D11/nf-d3d11-id3d11device-createunorderedaccessview) with the flag [**D3D11\_BUFFER\_UAV\_FLAG\_RAW**](/windows/desktop/api/D3D11/ne-d3d11-d3d11_buffer_uav_flag).</span></span> <span data-ttu-id="86f19-165">Этот флаг задается в элементе **flags** структуры [**\_ \_ UAV buffer D3D11**](/windows/desktop/api/D3D11/ns-d3d11-d3d11_buffer_uav) .</span><span class="sxs-lookup"><span data-stu-id="86f19-165">You specify this flag in the **Flags** member of the [**D3D11\_BUFFER\_UAV**](/windows/desktop/api/D3D11/ns-d3d11-d3d11_buffer_uav) structure.</span></span> <span data-ttu-id="86f19-166">Значение **\_ \_ UAV буфера D3D11** задается в элементе **buffer** в [**структуре \_ \_ \_ \_ представления неупорядоченного доступа D3D11**](/windows/desktop/api/D3D11/ns-d3d11-d3d11_unordered_access_view_desc) , в которую входит параметр *пдеск* **ID3D11Device:: креатеунордередакцессвиев** Points.</span><span class="sxs-lookup"><span data-stu-id="86f19-166">You set **D3D11\_BUFFER\_UAV** in the **Buffer** member of the [**D3D11\_UNORDERED\_ACCESS\_VIEW\_DESC**](/windows/desktop/api/D3D11/ns-d3d11-d3d11_unordered_access_view_desc) structure to which the *pDesc* parameter of **ID3D11Device::CreateUnorderedAccessView** points.</span></span> <span data-ttu-id="86f19-167">Вы также задаете значение [**\_ \_ \_ буфера измерения D3D11 UAV**](/windows/desktop/api/D3D11/ne-d3d11-d3d11_uav_dimension) в элементе **виевдименсион** **D3D11 \_ неупорядоченного \_ представления доступа \_ \_ DESC** , чтобы указать, что UAV является необработанным представлением.</span><span class="sxs-lookup"><span data-stu-id="86f19-167">You also set the [**D3D11\_UAV\_DIMENSION\_BUFFER**](/windows/desktop/api/D3D11/ne-d3d11-d3d11_uav_dimension) value in the **ViewDimension** member of **D3D11\_UNORDERED\_ACCESS\_VIEW\_DESC** to indicate that the UAV is a raw view.</span></span>

<span data-ttu-id="86f19-168">При работе с необработанными буферами можно использовать типы объектов HLSL [**битеаддрессбуффер**](/windows/desktop/direct3dhlsl/sm5-object-byteaddressbuffer) и [**рвбитеаддрессбуффер**](/windows/desktop/direct3dhlsl/sm5-object-rwbyteaddressbuffer) .</span><span class="sxs-lookup"><span data-stu-id="86f19-168">You can use the HLSL [**ByteAddressBuffer**](/windows/desktop/direct3dhlsl/sm5-object-byteaddressbuffer) and [**RWByteAddressBuffer**](/windows/desktop/direct3dhlsl/sm5-object-rwbyteaddressbuffer) object types when you work with raw buffers.</span></span>

<span data-ttu-id="86f19-169">Чтобы создать необработанное представление для буфера, сначала необходимо вызвать метод [**ID3D11Device:: CreateBuffer**](/windows/desktop/api/D3D11/nf-d3d11-id3d11device-createbuffer) с флагом [**D3D11 \_ ресурс \_ Прочие \_ буферы \_ Разрешить \_ необработанные \_ представления**](/windows/desktop/api/D3D11/ne-d3d11-d3d11_resource_misc_flag) , чтобы создать базовый ресурс буфера.</span><span class="sxs-lookup"><span data-stu-id="86f19-169">To create a raw view to a buffer, you must first call [**ID3D11Device::CreateBuffer**](/windows/desktop/api/D3D11/nf-d3d11-id3d11device-createbuffer) with the [**D3D11\_RESOURCE\_MISC\_BUFFER\_ALLOW\_RAW\_VIEWS**](/windows/desktop/api/D3D11/ne-d3d11-d3d11_resource_misc_flag) flag to create the underlying buffer resource.</span></span> <span data-ttu-id="86f19-170">Этот флаг задается в элементе **мискфлагс** структуры [**буфера D3D11 \_ \_ DESC**](/windows/desktop/api/D3D11/ns-d3d11-d3d11_buffer_desc) , в которую входит параметр *пдеск* **ID3D11Device:: CreateBuffer** Points.</span><span class="sxs-lookup"><span data-stu-id="86f19-170">You specify this flag in the **MiscFlags** member of the [**D3D11\_BUFFER\_DESC**](/windows/desktop/api/D3D11/ns-d3d11-d3d11_buffer_desc) structure to which the *pDesc* parameter of **ID3D11Device::CreateBuffer** points.</span></span> <span data-ttu-id="86f19-171">Нельзя объединять флаг **\_ \_ \_ \_ \_ необработанных \_ представлений в буфер D3D11** для ресурсов [**D3D11 \_ , \_ \_ \_ структурированный**](/windows/desktop/api/D3D11/ne-d3d11-d3d11_resource_misc_flag)с помощью буфера.</span><span class="sxs-lookup"><span data-stu-id="86f19-171">You can't combine the **D3D11\_RESOURCE\_MISC\_BUFFER\_ALLOW\_RAW\_VIEWS** flag with [**D3D11\_RESOURCE\_MISC\_BUFFER\_STRUCTURED**](/windows/desktop/api/D3D11/ne-d3d11-d3d11_resource_misc_flag).</span></span> <span data-ttu-id="86f19-172">Кроме того, при указании [**\_ \_ \_ буфера константы D3D11 BIND**](/windows/desktop/api/D3D11/ne-d3d11-d3d11_bind_flag) в **биндфлагс** из **D3D11 \_ буфера \_ DESC** вы также не сможете указать **D3D11 \_ Resource \_ buffer, \_ \_ разрешающие \_ необработанные \_ представления** в **мискфлагс**.</span><span class="sxs-lookup"><span data-stu-id="86f19-172">Also, if you specify [**D3D11\_BIND\_CONSTANT\_BUFFER**](/windows/desktop/api/D3D11/ne-d3d11-d3d11_bind_flag) in **BindFlags** of **D3D11\_BUFFER\_DESC**, you can't also specify **D3D11\_RESOURCE\_MISC\_BUFFER\_ALLOW\_RAW\_VIEWS** in **MiscFlags**.</span></span> <span data-ttu-id="86f19-173">Это не ограничение только необработанных представлений, так как буферы констант уже имеют ограничение, которое невозможно объединить с любым другим представлением.</span><span class="sxs-lookup"><span data-stu-id="86f19-173">This is not a limitation of just raw views because constant buffers already have a constraint that they can't be combined with any other view.</span></span>

<span data-ttu-id="86f19-174">В отличие от предыдущих недопустимых вариантов, при создании буфера с [**D3D11 \_ ресурсов \_ в \_ буфере \_ разрешаются \_ необработанные \_ представления**](/windows/desktop/api/D3D11/ne-d3d11-d3d11_resource_misc_flag), но не ограничены функциональные возможности и не заданы **\_ \_ буферы D3D11 ресурсов \_ \_ разрешают \_ необработанные \_ представления**.</span><span class="sxs-lookup"><span data-stu-id="86f19-174">Other than the preceding invalid cases, when you create a buffer with [**D3D11\_RESOURCE\_MISC\_BUFFER\_ALLOW\_RAW\_VIEWS**](/windows/desktop/api/D3D11/ne-d3d11-d3d11_resource_misc_flag), you aren't limited in functionality versus not setting **D3D11\_RESOURCE\_MISC\_BUFFER\_ALLOW\_RAW\_VIEWS**.</span></span> <span data-ttu-id="86f19-175">Это значит, что можно использовать такой буфер для доступа без необработанных данных в любом ряде способов, которые возможны при использовании Direct3D.</span><span class="sxs-lookup"><span data-stu-id="86f19-175">That is, you can use such a buffer for non-raw access in any number of ways that are possible with Direct3D.</span></span> <span data-ttu-id="86f19-176">При указании флага **D3D11 для \_ ресурсов \_ \_ буфера \_ разрешать \_ необработанные \_ представления** увеличивается только доступная функциональность.</span><span class="sxs-lookup"><span data-stu-id="86f19-176">If you specify the **D3D11\_RESOURCE\_MISC\_BUFFER\_ALLOW\_RAW\_VIEWS** flag, you only increase the available functionality.</span></span>

## <a name="related-topics"></a><span data-ttu-id="86f19-177">См. также</span><span class="sxs-lookup"><span data-stu-id="86f19-177">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="86f19-178">Ресурсы</span><span class="sxs-lookup"><span data-stu-id="86f19-178">Resources</span></span>](overviews-direct3d-11-resources.md)
</dt> <dt>

[<span data-ttu-id="86f19-179">Новые типы ресурсов</span><span class="sxs-lookup"><span data-stu-id="86f19-179">New Resource Types</span></span>](direct3d-11-advanced-stages-cs-resources.md)
</dt> </dl>

 

 