---
title: Общие сведения о текстурах в Direct3D 11
description: Текстурный ресурс — это структурированный набор данных, предназначенный для хранения текселей.
ms.assetid: d745093e-2d51-4d45-a88a-caa0ca58b2ba
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 71fcafdfb9caf53a27e60956c8182ae3ef95008e
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/16/2019
ms.locfileid: "103888659"
---
# <a name="introduction-to-textures-in-direct3d-11"></a><span data-ttu-id="d507c-103">Общие сведения о текстурах в Direct3D 11</span><span class="sxs-lookup"><span data-stu-id="d507c-103">Introduction To Textures in Direct3D 11</span></span>

<span data-ttu-id="d507c-104">Текстурный ресурс — это структурированный набор данных, предназначенный для хранения текселей.</span><span class="sxs-lookup"><span data-stu-id="d507c-104">A texture resource is a structured collection of data designed to store texels.</span></span> <span data-ttu-id="d507c-105">Тексель представляет собой наименьший элемент текстуры, который может использоваться конвейером для чтения или записи.</span><span class="sxs-lookup"><span data-stu-id="d507c-105">A texel represents the smallest unit of a texture that can be read or written to by the pipeline.</span></span> <span data-ttu-id="d507c-106">В отличие от буферов текстуры можно фильтровать по дискретизаторам текстур во время их считывания блоками шейдера.</span><span class="sxs-lookup"><span data-stu-id="d507c-106">Unlike buffers, textures can be filtered by texture samplers as they are read by shader units.</span></span> <span data-ttu-id="d507c-107">Тип текстуры влияет на способ ее фильтрации.</span><span class="sxs-lookup"><span data-stu-id="d507c-107">The type of texture impacts how the texture is filtered.</span></span> <span data-ttu-id="d507c-108">Каждый шаг текселя содержит от 1 до 4 компонентов, расположенных в одном из форматов DXGI, определенных \_ перечислением в формате DXGI.</span><span class="sxs-lookup"><span data-stu-id="d507c-108">Each texel contains 1 to 4 components, arranged in one of the DXGI formats defined by the DXGI\_FORMAT enumeration.</span></span>

<span data-ttu-id="d507c-109">Текстуры создаются как структурированные ресурсы с известным размером.</span><span class="sxs-lookup"><span data-stu-id="d507c-109">Textures are created as a structured resource with a known size.</span></span> <span data-ttu-id="d507c-110">Однако каждая текстура может быть типизированной или не иметь типа при создании ресурса, если тип полностью задается с помощью представления при привязке текстуры к конвейеру.</span><span class="sxs-lookup"><span data-stu-id="d507c-110">However, each texture may be typed or typeless when the resource is created as long as the type is fully specified using a view when the texture is bound to the pipeline.</span></span>

## <a name="texture-types"></a><span data-ttu-id="d507c-111">Типы текстур</span><span class="sxs-lookup"><span data-stu-id="d507c-111">Texture Types</span></span>

<span data-ttu-id="d507c-112">Существует несколько типов текстур: одно-, двух-, и трехмерный; каждый из них может быть создан с использованием MIP-карт и без них.</span><span class="sxs-lookup"><span data-stu-id="d507c-112">There are several types of textures: 1D, 2D, 3D, each of which can be created with or without mipmaps.</span></span> <span data-ttu-id="d507c-113">Direct3D 11 также поддерживает массивы текстур и Многовыборочные текстуры.</span><span class="sxs-lookup"><span data-stu-id="d507c-113">Direct3D 11 also supports texture arrays and multisampled textures.</span></span>

-   [<span data-ttu-id="d507c-114">Одномерные текстуры</span><span class="sxs-lookup"><span data-stu-id="d507c-114">1D Textures</span></span>](#1d-textures)
-   [<span data-ttu-id="d507c-115">Массивы текстур 1D</span><span class="sxs-lookup"><span data-stu-id="d507c-115">1D Texture Arrays</span></span>](#1d-texture-arrays)
-   [<span data-ttu-id="d507c-116">2D-текстуры и массивы 2D-текстур</span><span class="sxs-lookup"><span data-stu-id="d507c-116">2D Textures and 2D Texture Arrays</span></span>](#2d-textures-and-2d-texture-arrays)
-   [<span data-ttu-id="d507c-117">Трехмерные текстуры</span><span class="sxs-lookup"><span data-stu-id="d507c-117">3D Textures</span></span>](#3d-textures)

### <a name="1d-textures"></a><span data-ttu-id="d507c-118">Одномерные текстуры</span><span class="sxs-lookup"><span data-stu-id="d507c-118">1D Textures</span></span>

<span data-ttu-id="d507c-119">Одномерная текстура в самом простом своем виде содержит данные текстуры, к которым можно обращаться по одной координате текстуры; ее можно отобразить как массив текселей, как показано на следующем рисунке.</span><span class="sxs-lookup"><span data-stu-id="d507c-119">A 1D texture in its simplest form contains texture data that can be addressed with a single texture coordinate; it can be visualized as an array of texels, as shown in the following illustration.</span></span> <span data-ttu-id="d507c-120">неодномерные текстуры представлены интерфейсом [**ID3D11Texture1D**](/windows/desktop/api/D3D11/nn-d3d11-id3d11texture1d) .</span><span class="sxs-lookup"><span data-stu-id="d507c-120">1D textures are represented by the [**ID3D11Texture1D**](/windows/desktop/api/D3D11/nn-d3d11-id3d11texture1d) interface.</span></span>

![иллюстрация одномерной текстуры](images/d3d10-1d-texture.png)

<span data-ttu-id="d507c-122">Каждый тексель содержит несколько цветовых компонентов в зависимости от формата хранимых данных.</span><span class="sxs-lookup"><span data-stu-id="d507c-122">Each texel contains a number of color components depending on the format of the data stored.</span></span> <span data-ttu-id="d507c-123">Повышая сложность, можно создать одномерную текстуру с уровнями MIP-карт, как показано на следующем рисунке.</span><span class="sxs-lookup"><span data-stu-id="d507c-123">Adding more complexity, you can create a 1D texture with mipmap levels, as shown in the following illustration.</span></span>

![иллюстрация одномерной текстуры с уровнями MIP-карт](images/d3d10-resource-texture1d.png)

<span data-ttu-id="d507c-125">Уровень MIP-карты — это текстура, которая меньше вышестоящего уровня на число, соответствующее степени двух.</span><span class="sxs-lookup"><span data-stu-id="d507c-125">A mipmap level is a texture that is a power-of-two smaller than the level above it.</span></span> <span data-ttu-id="d507c-126">Самый верхний уровень наиболее детализирован, а каждый последующий уровень содержит меньше деталей.</span><span class="sxs-lookup"><span data-stu-id="d507c-126">The topmost level contains the most detail, each subsequent level is smaller.</span></span> <span data-ttu-id="d507c-127">В одномерной MIP-карте самый нижний уровень содержит один тексель.</span><span class="sxs-lookup"><span data-stu-id="d507c-127">For a 1D mipmap, the smallest level contains one texel.</span></span> <span data-ttu-id="d507c-128">Кроме того, уровни MIP всегда уменьшаются до 1:1.</span><span class="sxs-lookup"><span data-stu-id="d507c-128">Furthermore, MIP levels always reduce down to 1:1.</span></span> <span data-ttu-id="d507c-129">При создании MIP-карт для текстуры с нечетным значением размера более низкий уровень всегда имеет четное значение размера (за исключением низшего уровня, достигающего 1).</span><span class="sxs-lookup"><span data-stu-id="d507c-129">When mipmaps are generated for an odd sized texture, the next lower level is always even size (except when the lowest level reaches 1).</span></span> <span data-ttu-id="d507c-130">Например, на схеме показана текстура 5 x 1, следующий низкий уровень которой является текстурой 2 x 1, а следующим (и последним) уровнем MIP является текстура размером 1 x 1.</span><span class="sxs-lookup"><span data-stu-id="d507c-130">For example, the diagram illustrates a 5x1 texture whose next lowest level is a 2x1 texture, whose next (and last) mip level is a 1x1 sized texture.</span></span> <span data-ttu-id="d507c-131">Уровни идентифицируются с помощью индекса, называемого LOD (уровень детализации), который используется для доступа к более мелким текстурам при отрисовке геометрии, находящейся не так близко к камере.</span><span class="sxs-lookup"><span data-stu-id="d507c-131">The levels are identified by an index called a LOD (level-of-detail) which is used to access the smaller texture when rendering geometry that is not as close to the camera.</span></span>

### <a name="1d-texture-arrays"></a><span data-ttu-id="d507c-132">Массивы одномерных текстур</span><span class="sxs-lookup"><span data-stu-id="d507c-132">1D Texture Arrays</span></span>

<span data-ttu-id="d507c-133">Direct3D 11 также поддерживает массивы текстур.</span><span class="sxs-lookup"><span data-stu-id="d507c-133">Direct3D 11 also supports arrays of textures.</span></span> <span data-ttu-id="d507c-134">Массив одномерной текстуры также представлен интерфейсом [**ID3D11Texture1D**](/windows/desktop/api/D3D11/nn-d3d11-id3d11texture1d) .</span><span class="sxs-lookup"><span data-stu-id="d507c-134">A 1D texture array is also represented by the [**ID3D11Texture1D**](/windows/desktop/api/D3D11/nn-d3d11-id3d11texture1d) interface.</span></span> <span data-ttu-id="d507c-135">Массив одномерных текстур концептуально выглядит как на следующем рисунке.</span><span class="sxs-lookup"><span data-stu-id="d507c-135">An array of 1D textures looks conceptually like the following illustration.</span></span>

![Иллюстрация массива одномерной текстуры](images/d3d10-resource-texture1darray.png)

<span data-ttu-id="d507c-137">Этот массив текстур содержит три текстуры.</span><span class="sxs-lookup"><span data-stu-id="d507c-137">This texture array contains three textures.</span></span> <span data-ttu-id="d507c-138">Ширина всех трех текстур равна 5 (это число элементов на первом уровне).</span><span class="sxs-lookup"><span data-stu-id="d507c-138">Each of the three textures has a texture width of 5 (which is the number of elements in the first layer).</span></span> <span data-ttu-id="d507c-139">Каждая текстура также содержит трехслойную MIP-карту.</span><span class="sxs-lookup"><span data-stu-id="d507c-139">Each texture also contains a 3 layer mipmap.</span></span>

<span data-ttu-id="d507c-140">Все массивы текстур в Direct3D однородные, это означает, что у каждой текстуры в массиве должна быть одинаковый формат данных и размер (в том числе ширина текстуры и количество уровней MIP).</span><span class="sxs-lookup"><span data-stu-id="d507c-140">All texture arrays in Direct3D are a homogeneous array of textures; this means that every texture in a texture array must have the same data format and size (including texture width and number of mipmap levels).</span></span> <span data-ttu-id="d507c-141">Вы можете создавать массивы текстур различных размеров при условии, что все текстуры в отдельном массиве соответствуют друг другу по размеру.</span><span class="sxs-lookup"><span data-stu-id="d507c-141">You may create texture arrays of different sizes, as long as all the textures in each array match in size.</span></span>

### <a name="2d-textures-and-2d-texture-arrays"></a><span data-ttu-id="d507c-142">Двумерные текстуры и массивы двумерных текстур</span><span class="sxs-lookup"><span data-stu-id="d507c-142">2D Textures and 2D Texture Arrays</span></span>

<span data-ttu-id="d507c-143">Ресурс Texture2D содержит двухмерную сетку текселей.</span><span class="sxs-lookup"><span data-stu-id="d507c-143">A Texture2D resource contains a 2D grid of texels.</span></span> <span data-ttu-id="d507c-144">На каждый тексель указывает вектор u, v.</span><span class="sxs-lookup"><span data-stu-id="d507c-144">Each texel is addressable by a u, v vector.</span></span> <span data-ttu-id="d507c-145">Поскольку это текстурный ресурс, он может содержать уровни MIP и вложенные ресурсы.</span><span class="sxs-lookup"><span data-stu-id="d507c-145">Since it is a texture resource, it may contain mipmap levels, and subresources.</span></span> <span data-ttu-id="d507c-146">Двумерные текстуры представлены интерфейсом [**ID3D11Texture2D**](/windows/desktop/api/D3D11/nn-d3d11-id3d11texture2d) .</span><span class="sxs-lookup"><span data-stu-id="d507c-146">2D textures are represented by the [**ID3D11Texture2D**](/windows/desktop/api/D3D11/nn-d3d11-id3d11texture2d) interface.</span></span> <span data-ttu-id="d507c-147">Полностью заполненный ресурс двухмерных текстур соответствует изображению на следующем рисунке.</span><span class="sxs-lookup"><span data-stu-id="d507c-147">A fully populated 2D texture resource looks like the following illustration.</span></span>

![иллюстрация ресурса двухмерной текстуры](images/d3d10-resource-texture2d.png)

<span data-ttu-id="d507c-149">Этот текстурный ресурс содержит одну текстуру 3 x 5 с тремя уровнями MIP.</span><span class="sxs-lookup"><span data-stu-id="d507c-149">This texture resource contains a single 3x5 texture with three mipmap levels.</span></span>

<span data-ttu-id="d507c-150">Ресурс массива двумерных текстур — это однородный массив двумерных текстур; то есть все текстуры имеют одинаковый формат данных и размеры (в том числе уровни MIP).</span><span class="sxs-lookup"><span data-stu-id="d507c-150">A 2D texture array resource is a homogeneous array of 2D textures; that is, each texture has the same data format and dimensions (including mipmap levels).</span></span> <span data-ttu-id="d507c-151">Массив 2D-текстур также представлен интерфейсом [**ID3D11Texture2D**](/windows/desktop/api/D3D11/nn-d3d11-id3d11texture2d) .</span><span class="sxs-lookup"><span data-stu-id="d507c-151">A 2D texture array is also represented by the [**ID3D11Texture2D**](/windows/desktop/api/D3D11/nn-d3d11-id3d11texture2d) interface.</span></span> <span data-ttu-id="d507c-152">Он имеет аналогичный массиву одномерных текстур макет за исключением того, что теперь текстуры содержат двумерные данных, как показано на следующем рисунке.</span><span class="sxs-lookup"><span data-stu-id="d507c-152">It has a similar layout as the 1D texture array except that the textures now contain 2D data, as shown in the following illustration.</span></span>

![Иллюстрация массива двумерных текстур](images/d3d10-resource-texture2darray.png)

<span data-ttu-id="d507c-154">Этот массив текстур содержит три текстуры; каждая текстура имеет размер 3 x 5 и два уровня MIP.</span><span class="sxs-lookup"><span data-stu-id="d507c-154">This texture array contains three textures; each texture is 3x5 with two mipmap levels.</span></span>

### <a name="using-a-2d-texture-array-as-a-texture-cube"></a><span data-ttu-id="d507c-155">Использование массива двумерных текстур как куба текстур</span><span class="sxs-lookup"><span data-stu-id="d507c-155">Using a 2D Texture Array as a Texture Cube</span></span>

<span data-ttu-id="d507c-156">Куб текстур — это массив двухмерных текстур, содержащий 6 текстур, по одной на каждую грань куба.</span><span class="sxs-lookup"><span data-stu-id="d507c-156">A texture cube is a 2D texture array that contains 6 textures, one for each face of the cube.</span></span> <span data-ttu-id="d507c-157">Полностью заполненный куб текстур выглядит, как изображение на следующем рисунке.</span><span class="sxs-lookup"><span data-stu-id="d507c-157">A fully populated texture cube looks like the following illustration.</span></span>

![Иллюстрация массива двумерных текстур, представляющих куб текстуры](images/d3d10-resource-texturecube.png)

<span data-ttu-id="d507c-159">Чтение массива двухмерных текстур, содержащего 6 текстур, может производиться из шейдеров со встроенными функциями карт куба, после их привязки к конвейеру с представлением кубической текстуры.</span><span class="sxs-lookup"><span data-stu-id="d507c-159">A 2D texture array that contains 6 textures may be read from within shaders with the cube map intrinsic functions, after they are bound to the pipeline with a cube-texture view.</span></span> <span data-ttu-id="d507c-160">Обращение к кубам текстур производится из шейдера с трехмерным вектором, направленным от центра куба текстур.</span><span class="sxs-lookup"><span data-stu-id="d507c-160">Texture cubes are addressed from the shader with a 3D vector pointing out from the center of the texture cube.</span></span>

> [!Note]  
> <span data-ttu-id="d507c-161">Устройства, созданные с помощью [**10 \_ 1 уровня компонентов**](/windows/desktop/api/D3DCommon/ne-d3dcommon-d3d_feature_level) и выше, могут поддерживать массивы текстур текстуры, в которых число текстур равно количеству текстур текстуры в массиве, равное шести.</span><span class="sxs-lookup"><span data-stu-id="d507c-161">Devices that you create with [**10\_1 feature level**](/windows/desktop/api/D3DCommon/ne-d3dcommon-d3d_feature_level) and above can support arrays of texture cubes in which the number of textures is equal to the number of texture cubes in an array times six.</span></span> <span data-ttu-id="d507c-162">Устройства, созданные на [**уровне 10 \_ 0**](/windows/desktop/api/D3DCommon/ne-d3dcommon-d3d_feature_level) , поддерживают только один куб текстуры, сопоставленный шести сторон.</span><span class="sxs-lookup"><span data-stu-id="d507c-162">Devices that you create with [**10\_0 feature level**](/windows/desktop/api/D3DCommon/ne-d3dcommon-d3d_feature_level) support only a single texture cube of six faces.</span></span> <span data-ttu-id="d507c-163">Кроме того, Direct3D 11 не поддерживает частичное кубемапс.</span><span class="sxs-lookup"><span data-stu-id="d507c-163">Also, Direct3D 11 does not support partial cubemaps.</span></span>

 

### <a name="3d-textures"></a><span data-ttu-id="d507c-164">Трехмерные текстуры</span><span class="sxs-lookup"><span data-stu-id="d507c-164">3D Textures</span></span>

<span data-ttu-id="d507c-165">Ресурс трехмерной текстуры (также известной как объемная текстура) содержит трехмерный объем текселей.</span><span class="sxs-lookup"><span data-stu-id="d507c-165">A 3D texture resource (also known as a volume texture) contains a 3D volume of texels.</span></span> <span data-ttu-id="d507c-166">Поскольку это текстурный ресурс, он может содержать уровни MIP.</span><span class="sxs-lookup"><span data-stu-id="d507c-166">Because it is a texture resource, it may contain mipmap levels.</span></span> <span data-ttu-id="d507c-167">Трехмерные текстуры представлены интерфейсом [**ID3D11Texture3D**](/windows/desktop/api/D3D11/nn-d3d11-id3d11texture3d) .</span><span class="sxs-lookup"><span data-stu-id="d507c-167">3D textures are represented by the [**ID3D11Texture3D**](/windows/desktop/api/D3D11/nn-d3d11-id3d11texture3d) interface.</span></span> <span data-ttu-id="d507c-168">Полностью заполненная трехмерная текстура выглядит, как изображение на следующем рисунке.</span><span class="sxs-lookup"><span data-stu-id="d507c-168">A fully populated 3D texture looks like the following illustration.</span></span>

![иллюстрация ресурса трехмерной текстуры](images/d3d10-resource-texture3d.png)

<span data-ttu-id="d507c-170">При привязке фрагмента MIP-карты трехмерной текстуры в качестве целевых выходных данных отрисовки (с использованием представления целевого объекта отрисовки) трехмерная текстура ведет себя аналогично массиву двухмерных текстур с n фрагментами.</span><span class="sxs-lookup"><span data-stu-id="d507c-170">When a 3D texture mipmap slice is bound as a render target output (with a render-target view), the 3D texture behaves identically to a 2D texture array with n slices.</span></span> <span data-ttu-id="d507c-171">Конкретный срез прорисовки выбирается на этапе геометрического шейдера путем объявления скалярного компонента выходных данных в качестве \_ системного значения SV рендертаржетаррайиндекс.</span><span class="sxs-lookup"><span data-stu-id="d507c-171">The particular render slice is chosen from the geometry-shader stage, by declaring a scalar component of output data as the SV\_RenderTargetArrayIndex system-value.</span></span>

<span data-ttu-id="d507c-172">Понятие массива трехмерных текстур не существует, соответственно, подресурс трехмерной текстуры — это один уровень MIP-карты.</span><span class="sxs-lookup"><span data-stu-id="d507c-172">There is no concept of a 3D texture array; therefore a 3D texture subresource is a single mipmap level.</span></span>

## <a name="related-topics"></a><span data-ttu-id="d507c-173">См. также</span><span class="sxs-lookup"><span data-stu-id="d507c-173">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="d507c-174">Текстуры</span><span class="sxs-lookup"><span data-stu-id="d507c-174">Textures</span></span>](overviews-direct3d-11-resources-textures.md)
</dt> </dl>

 

 




