---
title: Отрисовка результата (Direct3D 11)
description: Можно использовать для хранения информации или для отрисовки с помощью группы состояний.
ms.assetid: 7af239de-812d-4295-b599-b9deb371b01b
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 1c99aef9f83cdf286e86ca843e57315d9ab88619
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/20/2020
ms.locfileid: "104413203"
---
# <a name="rendering-an-effect-direct3d-11"></a><span data-ttu-id="e6056-103">Отрисовка результата (Direct3D 11)</span><span class="sxs-lookup"><span data-stu-id="e6056-103">Rendering an Effect (Direct3D 11)</span></span>

<span data-ttu-id="e6056-104">Можно использовать для хранения информации или для отрисовки с помощью группы состояний.</span><span class="sxs-lookup"><span data-stu-id="e6056-104">An effect can be used to store information, or to render using a group of state.</span></span> <span data-ttu-id="e6056-105">Каждый метод задает некоторый набор шейдеров вершин, шейдеры поверхности, шейдеры доменов, шейдеры Geometry, шейдеры пикселей, шейдеры вычислений, состояние шейдера, выборку и состояние текстуры, неупорядоченное состояние представления доступа и другое состояние конвейера.</span><span class="sxs-lookup"><span data-stu-id="e6056-105">Each technique specifies some set of vertex shaders, hull shaders, domain shaders, geometry shaders, pixel shaders, compute shaders, shader state, sampler and texture state, unordered access view state and other pipeline state.</span></span> <span data-ttu-id="e6056-106">Таким образом, после упорядочения состояния в результате можно инкапсулировать результат, полученный из этого состояния, путем создания и отрисовки этого результата.</span><span class="sxs-lookup"><span data-stu-id="e6056-106">So once you have organized state into an effect, you can encapsulate the rendering effect that results from that state by creating and rendering the effect.</span></span>

<span data-ttu-id="e6056-107">Для подготовки к отрисовке эффектов следует выполнить несколько действий.</span><span class="sxs-lookup"><span data-stu-id="e6056-107">There are a few steps for preparing an effect for rendering.</span></span> <span data-ttu-id="e6056-108">Первый — это компиляция, которая проверяет HLSL, например код, в соответствии с синтаксисом языка HLSL и правилами платформы влияния.</span><span class="sxs-lookup"><span data-stu-id="e6056-108">The first is compiling, which checks the HLSL like code against the HLSL language syntax and the effect framework rules.</span></span> <span data-ttu-id="e6056-109">Вы можете компилировать результат из приложения с помощью вызовов API или компилировать результат в автономном режиме с помощью служебной программы компилятора эффектов [fxc.exe](/windows/desktop/direct3dtools/fxc).</span><span class="sxs-lookup"><span data-stu-id="e6056-109">You can compile an effect from your application using API calls or you can compile an effect offline using the effect compiler utility [fxc.exe](/windows/desktop/direct3dtools/fxc).</span></span> <span data-ttu-id="e6056-110">После успешной компиляции результата создайте его, вызвав другой (но очень похожий) набор интерфейсов API.</span><span class="sxs-lookup"><span data-stu-id="e6056-110">Once your effect has successfully compiled, create it by calling a different (but very similar) set of APIs.</span></span>

<span data-ttu-id="e6056-111">После создания этого действия существуют два оставшихся шага для его использования.</span><span class="sxs-lookup"><span data-stu-id="e6056-111">After the effect is created, there are two remaining steps for using it.</span></span> <span data-ttu-id="e6056-112">Во-первых, необходимо инициализировать значения состояний эффектов (значения переменных эффектов), используя ряд методов для настройки состояния, если они не инициализированы в HLSL.</span><span class="sxs-lookup"><span data-stu-id="e6056-112">First, you must initialize the effect state values (the values of the effect variables) using a number of methods for setting state if they are not initialized in HLSL.</span></span> <span data-ttu-id="e6056-113">Для некоторых переменных это можно сделать один раз при создании результата. другие необходимо обновлять каждый раз, когда приложение вызывает цикл визуализации.</span><span class="sxs-lookup"><span data-stu-id="e6056-113">For some variables this can be done once when an effect is created; others must be updated each time your application calls the render loop.</span></span> <span data-ttu-id="e6056-114">После установки переменных эффектов вы указываете среде выполнения, что она должна визуализировать результат, применяя метод.</span><span class="sxs-lookup"><span data-stu-id="e6056-114">Once the effect variables are set, you tell the runtime to render the effect by applying a technique.</span></span> <span data-ttu-id="e6056-115">Эти разделы подробно обсуждаются ниже.</span><span class="sxs-lookup"><span data-stu-id="e6056-115">These topics are all discussed in further detail below.</span></span>

<span data-ttu-id="e6056-116">Естественно, существуют соображения по производительности при использовании эффектов.</span><span class="sxs-lookup"><span data-stu-id="e6056-116">Naturally there are performance considerations for using effects.</span></span> <span data-ttu-id="e6056-117">Эти рекомендации в основном одинаковы, если не применяется ни один из эффектов.</span><span class="sxs-lookup"><span data-stu-id="e6056-117">These considerations are largely the same if you are not using an effect.</span></span> <span data-ttu-id="e6056-118">Такие вещи, как минимизация объема изменений состояния и упорядочение переменных по частоте обновления.</span><span class="sxs-lookup"><span data-stu-id="e6056-118">Things like minimizing the amount of state changes and organizing the variables by frequency of update.</span></span> <span data-ttu-id="e6056-119">Эти приемы используются для того, чтобы максимально сокращать объем данных, которые необходимо отправить с ЦП на графический процессор, и, следовательно, сокращать потенциальные проблемы синхронизации.</span><span class="sxs-lookup"><span data-stu-id="e6056-119">These tactics are used to minimize the amount of data that needs to be sent from the CPU to the GPU, and therefore minimize potential synchronization problems.</span></span>

## <a name="in-this-section"></a><span data-ttu-id="e6056-120">В этом разделе</span><span class="sxs-lookup"><span data-stu-id="e6056-120">In this section</span></span>



| <span data-ttu-id="e6056-121">Раздел</span><span class="sxs-lookup"><span data-stu-id="e6056-121">Topic</span></span>                                                                                        | <span data-ttu-id="e6056-122">Описание</span><span class="sxs-lookup"><span data-stu-id="e6056-122">Description</span></span>                                                                                                                                                                                                                                                                                                               |
|----------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="e6056-123">Компиляция результата</span><span class="sxs-lookup"><span data-stu-id="e6056-123">Compile an Effect</span></span>](d3d11-graphics-programming-guide-effects-compile.md)<br/>         | <span data-ttu-id="e6056-124">После создания результата необходимо скомпилировать код для проверки синтаксических ошибок.</span><span class="sxs-lookup"><span data-stu-id="e6056-124">After an effect has been authored, the next step is to compile the code to check for syntax problems.</span></span><br/>                                                                                                                                                                                                          |
| [<span data-ttu-id="e6056-125">Создание результата</span><span class="sxs-lookup"><span data-stu-id="e6056-125">Create an Effect</span></span>](d3d11-graphics-programming-guide-effects-create.md)<br/>           | <span data-ttu-id="e6056-126">Эффект создается путем загрузки байт-кода скомпилированного эффекта в платформу Effects.</span><span class="sxs-lookup"><span data-stu-id="e6056-126">An effect is created by loading the compiled effect bytecode into the effects framework.</span></span> <span data-ttu-id="e6056-127">В отличие от эффектов 10, результат должен быть скомпилирован перед созданием эффекта.</span><span class="sxs-lookup"><span data-stu-id="e6056-127">Unlike Effects 10, the effect must be compiled before creating the effect.</span></span> <span data-ttu-id="e6056-128">Эффекты, загруженные в память, можно создать путем вызова [**D3DX11CreateEffectFromMemory**](d3dx11createeffectfrommemory.md).</span><span class="sxs-lookup"><span data-stu-id="e6056-128">Effects loaded into memory can be created by calling [**D3DX11CreateEffectFromMemory**](d3dx11createeffectfrommemory.md).</span></span><br/>                 |
| [<span data-ttu-id="e6056-129">Задать состояние действия</span><span class="sxs-lookup"><span data-stu-id="e6056-129">Set Effect State</span></span>](d3d11-graphics-programming-guide-effects-set-state.md)<br/>        | <span data-ttu-id="e6056-130">Некоторые константы эффектов необходимо инициализировать.</span><span class="sxs-lookup"><span data-stu-id="e6056-130">Some effect constants only need to be initialized.</span></span> <span data-ttu-id="e6056-131">После инициализации состояние воздействия устанавливается на устройство для всего цикла подготовки к просмотру.</span><span class="sxs-lookup"><span data-stu-id="e6056-131">Once initialized, the effect state is set to the device for the entire render loop.</span></span> <span data-ttu-id="e6056-132">Другие переменные необходимо обновлять каждый раз при вызове цикла визуализации.</span><span class="sxs-lookup"><span data-stu-id="e6056-132">Other variables need to be updated each time the render loop is called.</span></span> <span data-ttu-id="e6056-133">Базовый код для установки переменных эффектов показан ниже для каждого типа переменных.</span><span class="sxs-lookup"><span data-stu-id="e6056-133">The basic code for setting effect variables is shown below, for each of the types of variables.</span></span><br/> |
| [<span data-ttu-id="e6056-134">Применение методики</span><span class="sxs-lookup"><span data-stu-id="e6056-134">Apply a Technique</span></span>](d3d11-graphics-programming-guide-effects-apply-technique.md)<br/> | <span data-ttu-id="e6056-135">Когда константы, текстуры и состояние шейдера объявлены и инициализированы, осталось только установить состояние воздействия на устройстве.</span><span class="sxs-lookup"><span data-stu-id="e6056-135">With the constants, textures, and shader state declared and initialized, the only thing left to do is to set the effect state in the device.</span></span><br/>                                                                                                                                                                   |



 

## <a name="related-topics"></a><span data-ttu-id="e6056-136">См. также</span><span class="sxs-lookup"><span data-stu-id="e6056-136">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="e6056-137">Эффекты (Direct3D 11)</span><span class="sxs-lookup"><span data-stu-id="e6056-137">Effects (Direct3D 11)</span></span>](d3d11-graphics-programming-guide-effects.md)
</dt> </dl>

 

