---
description: Защищенное хранилище предоставляет приложениям интерфейс для хранения пользовательских данных, которые должны храниться в безопасном или свободном для изменения.
ms.assetid: 85c1a009-c4f7-4b5a-ad96-6845a4e80de9
title: PStore
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 8c9d291b911c351cce10827b7937c6a474b7c570
ms.sourcegitcommit: c7add10d695482e1ceb72d62b8a4ebd84ea050f7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "105662065"
---
# <a name="pstore"></a><span data-ttu-id="f1a9e-103">PStore</span><span class="sxs-lookup"><span data-stu-id="f1a9e-103">PStore</span></span>

<span data-ttu-id="f1a9e-104">\[Защищенное хранилище (PStore) доступно для использования в Windows Server 2003 и Windows XP.</span><span class="sxs-lookup"><span data-stu-id="f1a9e-104">\[Protected Storage (Pstore) is available for use in Windows Server 2003 and Windows XP.</span></span> <span data-ttu-id="f1a9e-105">Она доступна только для операций чтения в Windows Server 2008 и Windows Vista, но может быть недоступна в последующих версиях.</span><span class="sxs-lookup"><span data-stu-id="f1a9e-105">It is only available for read-only operations in Windows Server 2008 and Windows Vista, but may be unavailable in subsequent versions.</span></span> <span data-ttu-id="f1a9e-106">PStore использует старую реализацию защиты данных.</span><span class="sxs-lookup"><span data-stu-id="f1a9e-106">Pstore uses an older implementation of data protection.</span></span> <span data-ttu-id="f1a9e-107">Разработчикам настоятельно рекомендуется использовать преимущества более надежной защиты данных, предоставляемые функциями [**CryptProtectData**](/windows/win32/api/dpapi/nf-dpapi-cryptprotectdata) и [**CryptUnprotectData**](/windows/win32/api/dpapi/nf-dpapi-cryptunprotectdata) .\]</span><span class="sxs-lookup"><span data-stu-id="f1a9e-107">Developers are strongly encouraged to take advantage of the stronger data protection provided by the [**CryptProtectData**](/windows/win32/api/dpapi/nf-dpapi-cryptprotectdata) and [**CryptUnprotectData**](/windows/win32/api/dpapi/nf-dpapi-cryptunprotectdata) functions.\]</span></span>

<span data-ttu-id="f1a9e-108">Защищенное хранилище предоставляет приложениям интерфейс для хранения пользовательских данных, которые должны храниться в безопасном или свободном для изменения.</span><span class="sxs-lookup"><span data-stu-id="f1a9e-108">Protected Storage provides applications with an interface to store user data that must be kept secure or free from modification.</span></span>

<span data-ttu-id="f1a9e-109">Единицы хранения данных называются элементами.</span><span class="sxs-lookup"><span data-stu-id="f1a9e-109">Units of data stored are called Items.</span></span> <span data-ttu-id="f1a9e-110">Структура и содержимое сохраненных данных непрозрачны для защищенной системы хранения.</span><span class="sxs-lookup"><span data-stu-id="f1a9e-110">The structure and content of the stored data is opaque to the Protected Storage system.</span></span> <span data-ttu-id="f1a9e-111">Доступ к элементам подлежит подтверждению в соответствии с определяемым пользователем стилем безопасности, который указывает, какое подтверждение требуется для доступа к данным, например, требуется ли пароль.</span><span class="sxs-lookup"><span data-stu-id="f1a9e-111">Access to Items is subject to confirmation according to a user-defined Security Style, which specifies what confirmation is required to access the data, such as whether a password is required.</span></span> <span data-ttu-id="f1a9e-112">Кроме того, доступ к элементам подчиняется набору правил доступа.</span><span class="sxs-lookup"><span data-stu-id="f1a9e-112">In addition, access to Items is subject to an Access rule set.</span></span> <span data-ttu-id="f1a9e-113">Существует правило доступа для каждого режима доступа: например, для чтения и записи.</span><span class="sxs-lookup"><span data-stu-id="f1a9e-113">There is an Access rule for each Access Mode: for example, read/write.</span></span> <span data-ttu-id="f1a9e-114">Наборы правил доступа состоят из предложений доступа.</span><span class="sxs-lookup"><span data-stu-id="f1a9e-114">Access rule sets are composed of Access Clauses.</span></span> <span data-ttu-id="f1a9e-115">В настоящее время поддерживаются два типа предложений доступа: Authenticode и двоичная проверка вызывающего объекта.</span><span class="sxs-lookup"><span data-stu-id="f1a9e-115">Two kinds of Access Clauses are currently supported: Authenticode and Binary Check of caller.</span></span> <span data-ttu-id="f1a9e-116">Как правило, во время установки приложения предусмотрен механизм, позволяющий новому приложению запрашивать доступ к элементам, которые могли быть созданы ранее другим приложением.</span><span class="sxs-lookup"><span data-stu-id="f1a9e-116">Typically at application setup time, a mechanism is provided to allow a new application to request from the user access to Items that may have been created previously by another application.</span></span>

<span data-ttu-id="f1a9e-117">Элементы уникально идентифицируются сочетанием ключа, типа, подтипа и имени.</span><span class="sxs-lookup"><span data-stu-id="f1a9e-117">Items are uniquely identified by the combination of a Key, Type, Subtype, and Name.</span></span> <span data-ttu-id="f1a9e-118">Ключ — это константа, указывающая, является ли элемент глобальным для данного компьютера или связан только с этим пользователем.</span><span class="sxs-lookup"><span data-stu-id="f1a9e-118">The Key is a constant that specifies whether the Item is global to this computer or associated only with this user.</span></span> <span data-ttu-id="f1a9e-119">Имя представляет собой строку, обычно выбранную пользователем.</span><span class="sxs-lookup"><span data-stu-id="f1a9e-119">The Name is a string, generally chosen by the user.</span></span> <span data-ttu-id="f1a9e-120">Тип и подтип — это **GUID** s, обычно задаваемые приложением.</span><span class="sxs-lookup"><span data-stu-id="f1a9e-120">Type and Subtype are **GUID** s, generally specified by the application.</span></span> <span data-ttu-id="f1a9e-121">Дополнительные сведения о типах и подтипах хранятся в системном реестре и включают атрибуты, такие как отображаемое имя и подсказки пользовательского интерфейса.</span><span class="sxs-lookup"><span data-stu-id="f1a9e-121">Additional information about Types and Subtypes is kept in the system registry and include attributes such as Display Name and UI hints.</span></span> <span data-ttu-id="f1a9e-122">Для подтипов родительский тип является фиксированным и включается в системный реестр как атрибут.</span><span class="sxs-lookup"><span data-stu-id="f1a9e-122">For Subtypes, the parent Type is fixed and included in the system registry as an attribute.</span></span> <span data-ttu-id="f1a9e-123">Элементы группы типов используются для общего назначения: например, для оплаты или идентификации.</span><span class="sxs-lookup"><span data-stu-id="f1a9e-123">The Type group Items is used for a common purpose: for example, Payment or Identification.</span></span> <span data-ttu-id="f1a9e-124">Элементы группы подтипов имеют общий формат данных.</span><span class="sxs-lookup"><span data-stu-id="f1a9e-124">The Subtype group Items share a common data format.</span></span>

## <a name="in-this-section"></a><span data-ttu-id="f1a9e-125">Содержание раздела</span><span class="sxs-lookup"><span data-stu-id="f1a9e-125">In this section</span></span>

-   [<span data-ttu-id="f1a9e-126">**иенумпстореитемс**</span><span class="sxs-lookup"><span data-stu-id="f1a9e-126">**IEnumPStoreItems**</span></span>](ienumpstoreitems.md)
-   [<span data-ttu-id="f1a9e-127">**иенумпсторепровидерс**</span><span class="sxs-lookup"><span data-stu-id="f1a9e-127">**IEnumPStoreProviders**</span></span>](ienumpstoreproviders.md)
-   [<span data-ttu-id="f1a9e-128">**иенумпсторетипес**</span><span class="sxs-lookup"><span data-stu-id="f1a9e-128">**IEnumPStoreTypes**</span></span>](ienumpstoretypes.md)
-   [<span data-ttu-id="f1a9e-129">**ипсторе**</span><span class="sxs-lookup"><span data-stu-id="f1a9e-129">**IPStore**</span></span>](ipstore.md)
-   [<span data-ttu-id="f1a9e-130">**псторекреатеинстанце**</span><span class="sxs-lookup"><span data-stu-id="f1a9e-130">**PStoreCreateInstance**</span></span>](pstorecreateinstance.md)
-   [<span data-ttu-id="f1a9e-131">**псторинумпровидерс**</span><span class="sxs-lookup"><span data-stu-id="f1a9e-131">**PStoreEnumProviders**</span></span>](pstoreenumproviders.md)
-   [<span data-ttu-id="f1a9e-132">**Константы PStore**</span><span class="sxs-lookup"><span data-stu-id="f1a9e-132">**PStore Constants**</span></span>](pstore-constants.md)
-   [<span data-ttu-id="f1a9e-133">**Типы PStore**</span><span class="sxs-lookup"><span data-stu-id="f1a9e-133">**PStore Types**</span></span>](pstore-types.md)

 

 
