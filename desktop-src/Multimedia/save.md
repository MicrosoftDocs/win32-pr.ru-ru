---
title: Команда "Сохранить"
description: Команда Save сохраняет файл MCI. Эта команда распознает видео-наложение и аудио-изображения. Несмотря на то, что Цифровые видеоустройства и технологии MIDI также распознают эту команду, они не поддерживаются драйверами МЦИАВИ и МЦИСЕК.
ms.assetid: cae199b3-4ac4-49e0-9213-12d816b2f865
keywords:
- команда "сохранить" Windows мультимедиа
topic_type:
- apiref
api_name:
- save
api_type:
- NA
ms.topic: reference
ms.date: 05/31/2018
ms.openlocfilehash: a0c7b4fb75f78f8468a204217f5a4fa1593a1c50d5db541a83070a7faed41cc5
ms.sourcegitcommit: e6600f550f79bddfe58bd4696ac50dd52cb03d7e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "120037484"
---
# <a name="save-command"></a>Команда "Сохранить"

Команда Save сохраняет файл MCI. Эта команда распознает видео-наложение и аудио-изображения. Несмотря на то, что Цифровые видеоустройства и технологии MIDI также распознают эту команду, они не поддерживаются драйверами МЦИАВИ и МЦИСЕК.

Чтобы отправить эту команду, вызовите функцию [**mciSendString**](/previous-versions//dd757161(v=vs.85)) с заданным параметром *лпсзкомманд* , как показано ниже.

``` syntax
_stprintf_s(
  lpszCommand, 
  TEXT("save %s %s %s"), 
  lpszDeviceID, 
  lpszFilename, 
  lpszFlags
); 
```

## <a name="parameters"></a>Параметры

<dl> <dt>

<span id="lpszDeviceID"></span><span id="lpszdeviceid"></span><span id="LPSZDEVICEID"></span>*лпсздевицеид*
</dt> <dd>

Идентификатор устройства MCI. Этот идентификатор или псевдоним назначается при открытии устройства.

</dd> <dt>

<span id="lpszFilename"></span><span id="lpszfilename"></span><span id="LPSZFILENAME"></span>*лпсзфиленаме*
</dt> <dd>

Флаг, указывающий имя сохраняемого файла и, дополнительно, дополнительные флаги, изменяющие операцию сохранения. В следующей таблице перечислены типы устройств, которые распознают команду **Save** , и флаги, используемые каждым типом.



| Значение        | Значение              | Значение               |
|--------------|----------------------|-----------------------|
| дигиталвидео | прервать в *прямоугольнике* | *имя файла* кипресерве |
| overlay      | в *прямоугольнике*       | *filename*            |
| sequencer    | *filename*           |                       |
| вавеаудио    | *filename*           |                       |



 

В следующей таблице перечислены флаги, которые могут быть указаны в параметре **лпсзфиленаме** , и их значения.



| Значение          | Значение                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
|----------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| abort          | Останавливает операцию **сохранения** . При использовании этого элемента должен быть только текущий элемент.                                                                                                                                                                                                                                                                                                                                                                                                                 |
| в *прямоугольнике* | Задает прямоугольник относительно исходного буфера фрейма. *Прямоугольник* задается как *x1 Y1 x2 Y2*. Координаты *x1 Y1* определяют левый верхний угол, а координаты *x2 Y2* определяют ширину и высоту. Для устройств с цифровыми видео команда [записи](capture.md) используется для записи содержимого буфера кадров.<br/>                                                                                                                                               |
| *filename*     | Указывает имя файла, присваиваемого файлу данных. Если путь не указан, файл будет помещен на диск и в каталог, ранее указанный в команде Explicit или Implicit [Reserve](reserve.md) . Если **резерв** не был выдан, диск и каталог по умолчанию связаны с задачей приложения. Если указан путь, устройство может потребовать, чтобы оно было на диске, указанном явным или неявным **резервом**. Этот флаг является обязательным. |
| кипресерве    | Указывает, что неиспользуемое место на диске, оставшееся до исходной команды **Reserve** , не освобождается.                                                                                                                                                                                                                                                                                                                                                                                                 |



 

</dd> <dt>

<span id="lpszFlags"></span><span id="lpszflags"></span><span id="LPSZFLAGS"></span>*лпсзфлагс*
</dt> <dd>

Может иметь значение "Wait", "notify" или и то, и другое. Для устройств с цифровыми видео и ВИДЕОМАГНИТОФОНА можно также указать "Test". Дополнительные сведения об этих флагах см. [в разделе Флаги ожидания, уведомления и проверки](the-wait-notify-and-test-flags.md).

</dd> </dl>

## <a name="return-value"></a>Возвращаемое значение

Возвращает нуль в случае успеха или ошибку в противном случае.

## <a name="remarks"></a>Remarks

Переменная *filename* является обязательной, если устройство было открыто с помощью идентификатора устройства "New".

## <a name="examples"></a>Примеры

Следующая команда сохраняет весь буфер видео в файл с именем ВКАПФИЛЕ. TGA.

``` syntax
save vboard c:\vcap\vcapfile.tga
```

## <a name="requirements"></a>Требования



| Требование | Значение |
|-------------------------------------|------------------------------------------------------------|
| Минимальная версия клиента<br/> | Windows 2000 Professional \[только классические приложения\]<br/> |
| Минимальная версия сервера<br/> | Windows 2000 Server \[только классические приложения\]<br/>       |



## <a name="see-also"></a>См. также раздел

<dl> <dt>

[MCI](mci.md)
</dt> <dt>

[Строки команд MCI](mci-command-strings.md)
</dt> <dt>

[выделяем](capture.md)
</dt> <dt>

[предназначен](reserve.md)
</dt> </dl>

 

