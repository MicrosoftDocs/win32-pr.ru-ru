---
title: Службы ВИДЕОМАГНИТОФОНА
description: Службы ВИДЕОМАГНИТОФОНА
ms.assetid: 140220f7-df7b-46e2-8374-e1200d873f3b
keywords:
- Архитектура системы управления видео (ВИСКА)
- ВИСКА (архитектура управления видеоподсистемой)
- Драйвер MCI ВИСКА
- Драйвер ВИСКА
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 77d884c38d224182db7eef8db0f0cd80b14e3a08
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/16/2019
ms.locfileid: "103888787"
---
# <a name="vcr-services"></a><span data-ttu-id="7170d-107">Службы ВИДЕОМАГНИТОФОНА</span><span class="sxs-lookup"><span data-stu-id="7170d-107">VCR Services</span></span>

<span data-ttu-id="7170d-108">Windows предоставляет службы ВИДЕОМАГНИТОФОНА через драйвер устройства, основанный на наборе команд MCI для видеомагнитофонов.</span><span class="sxs-lookup"><span data-stu-id="7170d-108">Windows provides VCR services through a device driver that is based on the MCI command set for VCRs.</span></span> <span data-ttu-id="7170d-109">В этом разделе описывается драйвер ВИСКА (архитектура управления видеосистемой MCI) и объясняется, как использовать его для управления ВИДЕОМАГНИТОФОНА.</span><span class="sxs-lookup"><span data-stu-id="7170d-109">This section describes the MCI Video System Control Architecture (VISCA) driver and explains how to use it to control a VCR.</span></span>

<span data-ttu-id="7170d-110">Тип устройства *видеомагнитофона* управляет видеомагнитофонами.</span><span class="sxs-lookup"><span data-stu-id="7170d-110">The *vcr* device type controls VCRs.</span></span> <span data-ttu-id="7170d-111">Список команд MCI, распознаваемых устройствами ВИДЕОМАГНИТОФОНА, см. в разделе [набор команд видеомагнитофона](vcr-command-set.md).</span><span class="sxs-lookup"><span data-stu-id="7170d-111">For a list of the MCI commands recognized by VCR devices, see [VCR Command Set](vcr-command-set.md).</span></span>

## <a name="the-mci-visca-driver"></a><span data-ttu-id="7170d-112">Драйвер MCI ВИСКА</span><span class="sxs-lookup"><span data-stu-id="7170d-112">The MCI VISCA Driver</span></span>

<span data-ttu-id="7170d-113">Драйвер MCI ВИСКА управляет видеомагнитофоном, совместимым с ВИСКА, например КВД-1000 Вдекк.</span><span class="sxs-lookup"><span data-stu-id="7170d-113">The MCI VISCA driver controls Sony VISCA-compatible VCRs, such as the CVD-1000 VDeck.</span></span> <span data-ttu-id="7170d-114">Драйвер ВИСКА управляет транспортировкой ленты, тюнерами каналов и входными и выходными каналами ВИДЕОМАГНИТОФОНА.</span><span class="sxs-lookup"><span data-stu-id="7170d-114">The VISCA driver controls the tape transport, channel tuners, and VCR input and output channels.</span></span>

## <a name="searching-and-positioning-with-a-vcr"></a><span data-ttu-id="7170d-115">Поиск и позиционирование с помощью ВИДЕОМАГНИТОФОНА</span><span class="sxs-lookup"><span data-stu-id="7170d-115">Searching and Positioning with a VCR</span></span>

<span data-ttu-id="7170d-116">Драйвер ВИСКА использует два метода для мониторинга движения видеокассет в пределах ленты ВИДЕОМАГНИТОФОНА: *сведения о* времени и *счетчики ленты*.</span><span class="sxs-lookup"><span data-stu-id="7170d-116">The VISCA driver uses two methods to track videotape movement within the VCR tape transport: *timecode information* and *tape counters*.</span></span> <span data-ttu-id="7170d-117">Сведения о времени выполнения — это сведения о синхронизации, записанные на видеокассете.</span><span class="sxs-lookup"><span data-stu-id="7170d-117">Timecode information is timing information that has been recorded on the videotape.</span></span> <span data-ttu-id="7170d-118">Большинство видеомагнитофонов позволяют записывать коды времени без разрушения аудио и видеодорожек.</span><span class="sxs-lookup"><span data-stu-id="7170d-118">Most VCRs allow timecodes to be recorded without destroying audio and video tracks.</span></span> <span data-ttu-id="7170d-119">Счетчики ленты оценивают объем видеокассеты, которая перемещается за пределы заголовка видеокассеты для получения позиции.</span><span class="sxs-lookup"><span data-stu-id="7170d-119">Tape counters estimate the amount of videotape that travels past the videotape head to obtain a position.</span></span>

<span data-ttu-id="7170d-120">Сведения о времени и счетчиках ленты увеличиваются по мере перемещения ленты с начала до конца.</span><span class="sxs-lookup"><span data-stu-id="7170d-120">Both timecode information and tape counters increase as the videotape moves from beginning to end.</span></span> <span data-ttu-id="7170d-121">Из-за его точности использование данных с кодом времени для размещения видеокассет практически всегда предпочтительнее использования счетчиков ленты.</span><span class="sxs-lookup"><span data-stu-id="7170d-121">Because of its accuracy, using timecode information to position a videotape is almost always preferable to using tape counters.</span></span>

<span data-ttu-id="7170d-122">Флаги команды MCI для указания сведений о размещении выражаются в виде зависимостей времени: "формат времени", "Длительность", "от", "до" и "Поиск".</span><span class="sxs-lookup"><span data-stu-id="7170d-122">The MCI command flags for specifying positioning information are expressed as time dependencies: "time format", "duration", "from", "to", and "seek".</span></span> <span data-ttu-id="7170d-123">(Кроме того, команда [**Status**](status.md) "позиционировать" возвращает значение времени в текущем формате времени.)</span><span class="sxs-lookup"><span data-stu-id="7170d-123">(Also, the [**status**](status.md) "position" command returns its time value in the current time format.)</span></span>

<span data-ttu-id="7170d-124">Драйвер ВИСКА использует команду " [**задать**](set.md) режим времени" для выбора типа позиционирования, используемого с видеокассетой.</span><span class="sxs-lookup"><span data-stu-id="7170d-124">The VISCA driver uses the [**set**](set.md) "time mode" command to select the type of positioning to use with a videotape.</span></span> <span data-ttu-id="7170d-125">Если для режима времени задано значение "Time", в командах **состояния** "расположение" и " **задать** формат времени" используется время на ленте.</span><span class="sxs-lookup"><span data-stu-id="7170d-125">When the time mode is set to "timecode", the **status** "position" and **set** "time format" commands use the timecode on the videotape.</span></span> <span data-ttu-id="7170d-126">Если для режима времени задано значение "Counter", в командах **состояния** "расположение" и " **задать** формат времени" используются счетчики.</span><span class="sxs-lookup"><span data-stu-id="7170d-126">When the time mode is set to "counter", the **status** "position" and **set** "time format" commands use counters.</span></span>

<span data-ttu-id="7170d-127">Приложение может задать для режима времени значение "обнаружить", если не имеет значения, что может быть два источника сведений о положении.</span><span class="sxs-lookup"><span data-stu-id="7170d-127">An application can set the time mode to "detect" if it doesn't matter that there might be two sources of position information.</span></span> <span data-ttu-id="7170d-128">В режиме обнаружения драйвер ВИСКА использует сведения о времени выполнения для позиционирования при выполнении любого из следующих условий.</span><span class="sxs-lookup"><span data-stu-id="7170d-128">When in detect mode, the VISCA driver uses timecode information for positioning when any of the following conditions occur:</span></span>

-   <span data-ttu-id="7170d-129">При открытии драйвера выдается информация о времени.</span><span class="sxs-lookup"><span data-stu-id="7170d-129">The timecode information is present when the driver is opened.</span></span>
-   <span data-ttu-id="7170d-130">Видеокассету можно изменить **с помощью команды "открыть** дверцу" и сведений о времени на ленте.</span><span class="sxs-lookup"><span data-stu-id="7170d-130">You change a videotape with the **set** "door open" command and timecode information is present on the videotape.</span></span>
-   <span data-ttu-id="7170d-131">Команда [**установки**](set.md) режима времени выдается повторно.</span><span class="sxs-lookup"><span data-stu-id="7170d-131">The [**set**](set.md) "time mode" command is reissued.</span></span>

<span data-ttu-id="7170d-132">Если не удается найти сведения о времени, драйвер использует счетчики ленты.</span><span class="sxs-lookup"><span data-stu-id="7170d-132">If timecode information cannot be found, the driver uses the tape counters.</span></span>

<span data-ttu-id="7170d-133">Чтобы определить текущий метод позиционирования, выдайте команду [**состояния**](status.md) "Time Type", которая возвращает значение "время начала" или "Счетчик".</span><span class="sxs-lookup"><span data-stu-id="7170d-133">To determine the current positioning method, issue the [**status**](status.md) "time type" command, which returns either "timecode" or "counter".</span></span> <span data-ttu-id="7170d-134">Можно также определить текущий режим позиционирования, используя команду **состояния** "Time Mode", которая возвращает "код времени", "Счетчик" или "Обнаружение".</span><span class="sxs-lookup"><span data-stu-id="7170d-134">You can also identify the current positioning mode by using the **status** "time mode" command, which returns "timecode", "counter", or "detect".</span></span>

<span data-ttu-id="7170d-135">Команда "Counter" **состояния** получает текущее значение счетчика ленты, независимо от текущего метода позиционирования. Однако этот счетчик можно использовать только с командой [**Set**](set.md) "Counter".</span><span class="sxs-lookup"><span data-stu-id="7170d-135">The **status** "counter" command retrieves the current tape counter value, regardless of the current positioning method; however, you can use this counter reading only with the [**set**](set.md) "counter" command.</span></span>

<span data-ttu-id="7170d-136">Драйвер ВИСКА может получить собственный формат времени в формате времени, записанный на видеокассете, используя **состояние** "тип кода времени" и команды **состояния** "частота кадров" вместе.</span><span class="sxs-lookup"><span data-stu-id="7170d-136">The VISCA driver can retrieve the native timecode format recorded on a videotape by using the **status** "timecode type" and **status** "frame rate" commands together.</span></span> <span data-ttu-id="7170d-137">Например, если тип кода времени — "SMPTE", а частота кадров — 25, собственный формат времени, записанный на ленте, — SMPTE 25.</span><span class="sxs-lookup"><span data-stu-id="7170d-137">For example, if timecode type is "smpte" and frame rate is 25, the native timecode format recorded on the videotape is SMPTE 25.</span></span>

<span data-ttu-id="7170d-138">Драйвер ВИСКА также может получить разрешение счетчиков с помощью команды **Status** "разрешение счетчика", которая возвращает "секунды" или "кадры".</span><span class="sxs-lookup"><span data-stu-id="7170d-138">The VISCA driver can also retrieve the counter resolution by using the **status** "counter resolution" command, which returns "seconds" or "frames".</span></span> <span data-ttu-id="7170d-139">Формат счетчика может быть по-прежнему установлен равным SMPTE 30, но возвращаемое значение возвращает только кадр, равный 0.</span><span class="sxs-lookup"><span data-stu-id="7170d-139">The counter format might still be set to SMPTE 30, but the return value returns only a frame of 0.</span></span> <span data-ttu-id="7170d-140">Если текущий тип времени — Counter, то это разрешение также применяется к значению, возвращенному **состоянием** "расположение".</span><span class="sxs-lookup"><span data-stu-id="7170d-140">If the current time type is counter, then this resolution applies also to the value returned by **status** "position".</span></span>

## <a name="capturing-frames"></a><span data-ttu-id="7170d-141">Запись кадров</span><span class="sxs-lookup"><span data-stu-id="7170d-141">Capturing Frames</span></span>

<span data-ttu-id="7170d-142">Команды захвата кадров обеспечивают все еще изображения для *устройства записи кадров*.</span><span class="sxs-lookup"><span data-stu-id="7170d-142">Frame-capturing commands provide still images for a *frame-capture device*.</span></span> <span data-ttu-id="7170d-143">Устройство записи кадров — это отдельный компонент оборудования, который способен читать и сохранять видеоизображение.</span><span class="sxs-lookup"><span data-stu-id="7170d-143">A frame-capture device is a separate piece of hardware capable of reading and storing the video image.</span></span> <span data-ttu-id="7170d-144">Драйвер ВИСКА поддерживает команду [**Freeze**](freeze.md) ([**\_ замораживание MCI**](mci-freeze.md)), чтобы стабилизировать все изображение для записи.</span><span class="sxs-lookup"><span data-stu-id="7170d-144">The VISCA driver supports the [**freeze**](freeze.md) ([**MCI\_FREEZE**](mci-freeze.md)) command to stabilize a still image for capturing.</span></span> <span data-ttu-id="7170d-145">Кроме того, для перезапуска ленточного транспорта с помощью команды **Freeze** можно использовать команду [**unfreeze**](unfreeze.md) ([**\_ незамораживания MCI**](mci-unfreeze.md)).</span><span class="sxs-lookup"><span data-stu-id="7170d-145">Also, the [**unfreeze**](unfreeze.md) ([**MCI\_UNFREEZE**](mci-unfreeze.md)) command can be used to restart the tape transport following a **freeze** command.</span></span>

<span data-ttu-id="7170d-146">Команда **заморозить** высококачественное, исправленное, измененное по времени изображение для устройства записи кадров.</span><span class="sxs-lookup"><span data-stu-id="7170d-146">The **freeze** command provides a high-quality, stabilized, time-base – corrected image for a frame-capture device.</span></span> <span data-ttu-id="7170d-147">Эта команда существует, так как устройство может не всегда доставлять свои выходные изображения максимального качества во время воспроизведения или при приостановке; такой образ видео не подходит для записи.</span><span class="sxs-lookup"><span data-stu-id="7170d-147">This command exists because a device might not always deliver its maximum-quality output image during playback or while paused; such a video image is not suitable for capturing.</span></span>

<span data-ttu-id="7170d-148">Команда **unfreeze** разблокирует транспорт ленты и возобновляет транспортный режим в силе перед выполнением команды **Freeze** .</span><span class="sxs-lookup"><span data-stu-id="7170d-148">The **unfreeze** command unlocks the tape transport and resumes the transport mode in effect before the **freeze** command.</span></span>

<span data-ttu-id="7170d-149">Когда приложению необходимо записать видеоизображение на ВИДЕОМАГНИТОФОН, используйте команду **заморозить** входные данные или команду [**Cue**](cue.md) (элемент [**MCI \_ Cue**](mci-cue.md)) для записи изображения.</span><span class="sxs-lookup"><span data-stu-id="7170d-149">When your application needs to record a video image on the VCR, use the **freeze** "input" command or the [**cue**](cue.md) ([**MCI\_CUE**](mci-cue.md)) command to record the image.</span></span>

## <a name="selecting-inputs"></a><span data-ttu-id="7170d-150">Выбор входных данных</span><span class="sxs-lookup"><span data-stu-id="7170d-150">Selecting Inputs</span></span>

<span data-ttu-id="7170d-151">Драйвер ВИСКА поддерживает три типа входных данных: видео, аудио и код времени.</span><span class="sxs-lookup"><span data-stu-id="7170d-151">The VISCA driver supports three input types: video, audio, and timecode.</span></span> <span data-ttu-id="7170d-152">Входные видеозаписи включают два стандартных канала (строки 1 и 2), канал Свидео, вспомогательный канал и канал из внутреннего тюнера.</span><span class="sxs-lookup"><span data-stu-id="7170d-152">The video inputs include two standard channels (lines 1 and 2), an SVideo channel, an auxiliary channel, and a channel from an internal tuner.</span></span> <span data-ttu-id="7170d-153">Входные аудио-файлы включают два стандартных канала (линии 1 и 2) и канал из внутреннего тюнера.</span><span class="sxs-lookup"><span data-stu-id="7170d-153">The audio inputs include two standard channels (lines 1 and 2) and a channel from an internal tuner.</span></span> <span data-ttu-id="7170d-154">Ввод кода времени является внутренним для ВИДЕОМАГНИТОФОНА.</span><span class="sxs-lookup"><span data-stu-id="7170d-154">The timecode input is internal to the VCR.</span></span>

<span data-ttu-id="7170d-155">Обычные выходные данные содержат выбранные входные данные при записи ВИДЕОМАГНИТОФОНА или при остановке транспорта ленты, а также содержат содержимое видеокассеты при воспроизведении или приостановке транспорта ленты.</span><span class="sxs-lookup"><span data-stu-id="7170d-155">The normal outputs carry the currently selected inputs when the VCR is recording or when the tape transport is stopped, and they carry the contents of the videotape when the tape transport is playing or paused.</span></span> <span data-ttu-id="7170d-156">Наблюдаемые выходные данные содержат те же сведения, что и обычные выходные данные, а также текущий код времени и сведения о канале.</span><span class="sxs-lookup"><span data-stu-id="7170d-156">The monitored outputs carry the same information as the normal outputs plus current timecode and channel information.</span></span>

<span data-ttu-id="7170d-157">При условии, что соответствующие внешние входные данные подключены к видеомагнитофону и вы решили, что хотите записать, можно выбрать входные данные для записи.</span><span class="sxs-lookup"><span data-stu-id="7170d-157">Assuming the appropriate external inputs are connected to your VCR and you have decided what you want to record, you can select the inputs to be recorded.</span></span> <span data-ttu-id="7170d-158">Например, для записи или просмотра видео "свидео" и входных данных "Line 1" можно использовать команды [**сетвидео**](setvideo.md) ([**MCI \_ сетвидео**](mci-setvideo.md)) и [**сетаудио**](setaudio.md) ([**MCI \_ сетаудио**](mci-setaudio.md)) для выбора этих источников входных данных.</span><span class="sxs-lookup"><span data-stu-id="7170d-158">For example, to record or view from the "svideo" video and the "line 1" audio inputs, you would use the [**setvideo**](setvideo.md) ([**MCI\_SETVIDEO**](mci-setvideo.md)) and [**setaudio**](setaudio.md) ([**MCI\_SETAUDIO**](mci-setaudio.md)) commands to select these input sources.</span></span> <span data-ttu-id="7170d-159">Эти параметры можно проверить с помощью команды [**состояние**](status.md) ([**\_ состояние MCI**](mci-status.md)).</span><span class="sxs-lookup"><span data-stu-id="7170d-159">You can verify these selections by using the [**status**](status.md) ([**MCI\_STATUS**](mci-status.md)) command.</span></span>

<span data-ttu-id="7170d-160">По умолчанию монитор отображает именно то, что отображается в качестве выходных данных.</span><span class="sxs-lookup"><span data-stu-id="7170d-160">By default, the monitor shows exactly what appears as the output.</span></span> <span data-ttu-id="7170d-161">Однако иногда может потребоваться просмотреть один источник при записи из другого.</span><span class="sxs-lookup"><span data-stu-id="7170d-161">Sometimes, however, you might want to view one source while recording from another.</span></span> <span data-ttu-id="7170d-162">Это распространенная практика использования тюнера.</span><span class="sxs-lookup"><span data-stu-id="7170d-162">This is a common practice using the tuner.</span></span> <span data-ttu-id="7170d-163">Например, при записи канала 7 может потребоваться просмотреть канал 4.</span><span class="sxs-lookup"><span data-stu-id="7170d-163">For example, you might want to watch channel 4 while you record channel 7.</span></span> <span data-ttu-id="7170d-164">В этом случае у вас есть два логических входа тюнера.</span><span class="sxs-lookup"><span data-stu-id="7170d-164">In this case, you have two logical tuner inputs.</span></span> <span data-ttu-id="7170d-165">Вы можете настроить ВИДЕОМАГНИТОФОН с помощью следующих команд:</span><span class="sxs-lookup"><span data-stu-id="7170d-165">You could set up the VCR by using the following commands:</span></span>

## <a name="to-review-one-source-while-recording-from-another"></a><span data-ttu-id="7170d-166">Проверка одного источника при записи из другого</span><span class="sxs-lookup"><span data-stu-id="7170d-166">To review one source while recording from another</span></span>

1.  <span data-ttu-id="7170d-167">Используйте команду [**сеттунер**](settuner.md) ([**MCI \_ сеттунер**](mci-settuner.md)), чтобы выбрать каналы для просмотра и записи.</span><span class="sxs-lookup"><span data-stu-id="7170d-167">Use the [**settuner**](settuner.md) ([**MCI\_SETTUNER**](mci-settuner.md)) command to select the channels to watch and record.</span></span>
2.  <span data-ttu-id="7170d-168">Чтобы выбрать источник видеозаписи, используйте команду **сетвидео** .</span><span class="sxs-lookup"><span data-stu-id="7170d-168">Use the **setvideo** command to select the video-recording source.</span></span>
3.  <span data-ttu-id="7170d-169">Чтобы выбрать источник звукозаписи, используйте команду [**сетаудио**](setaudio.md) .</span><span class="sxs-lookup"><span data-stu-id="7170d-169">Use the [**setaudio**](setaudio.md) command to select the audio-recording source.</span></span>
4.  <span data-ttu-id="7170d-170">Используйте команду [**сетвидео**](setvideo.md) , чтобы направить входные видеоданные канала 4 в отслеживаемые выходные данные, чтобы отобразить его на экране.</span><span class="sxs-lookup"><span data-stu-id="7170d-170">Use the [**setvideo**](setvideo.md) command to route the channel 4 video input to the monitored output to display it on-screen.</span></span>
5.  <span data-ttu-id="7170d-171">Используйте команду [**сетаудио**](setaudio.md) для направления входных данных канала 4 в отслеживаемые выходные данные для воспроизведения звука.</span><span class="sxs-lookup"><span data-stu-id="7170d-171">Use the [**setaudio**](setaudio.md) command to route the channel 4 audio input to the monitored output to play the audio.</span></span>
6.  <span data-ttu-id="7170d-172">Проверьте правильность выбора с помощью команды [**Status**](status.md) .</span><span class="sxs-lookup"><span data-stu-id="7170d-172">Verify your selections by using the [**status**](status.md) command.</span></span>

<span data-ttu-id="7170d-173">Драйвер ВИСКА также поддерживает Специальный тип ввода для аудио и видео с именем « *выкл*.».</span><span class="sxs-lookup"><span data-stu-id="7170d-173">The VISCA driver also supports a special input type for audio and video called *mute*.</span></span> <span data-ttu-id="7170d-174">Отключить звук, что можно использовать при записи пустого сигнала.</span><span class="sxs-lookup"><span data-stu-id="7170d-174">Mute allows the selection of "no input," which is useful when recording a blank signal.</span></span>

## <a name="selecting-recording-tracks"></a><span data-ttu-id="7170d-175">Выбор записи дорожек</span><span class="sxs-lookup"><span data-stu-id="7170d-175">Selecting Recording Tracks</span></span>

<span data-ttu-id="7170d-176">На ленте существуют три типа дорожек: видео, аудио и временные метки.</span><span class="sxs-lookup"><span data-stu-id="7170d-176">Three types of recording tracks exist on a videotape: video, audio, and timecode.</span></span> <span data-ttu-id="7170d-177">У вас есть только один видеофайл или временной код, но можно использовать несколько звуковых дорожек. При этом следует дорожку 1 основной звуковой дорожки.</span><span class="sxs-lookup"><span data-stu-id="7170d-177">You have only one video or timecode track, but you can use more than one audio track. When you do so, make track 1 the main audio track.</span></span>

<span data-ttu-id="7170d-178">Драйвер ВИСКА поддерживает два режима работы: сборка и вставка.</span><span class="sxs-lookup"><span data-stu-id="7170d-178">The VISCA driver supports two operating modes: assemble and insert.</span></span> <span data-ttu-id="7170d-179">В *режиме сборки* выбраны все дорожки для записи.</span><span class="sxs-lookup"><span data-stu-id="7170d-179">In *assemble mode*, all tracks are selected to be recorded.</span></span> <span data-ttu-id="7170d-180">В *режиме вставки* дорожки могут быть выбраны независимо для записи.</span><span class="sxs-lookup"><span data-stu-id="7170d-180">In *insert mode*, tracks can be independently selected for recording.</span></span> <span data-ttu-id="7170d-181">По умолчанию большинство видеомагнитофонов находятся в режиме сборки.</span><span class="sxs-lookup"><span data-stu-id="7170d-181">Most VCRs are in assemble mode by default.</span></span> <span data-ttu-id="7170d-182">Чтобы изменить эти режимы, используйте команду [**Set**](set.md) ([**MCI \_ Set**](mci-set.md)).</span><span class="sxs-lookup"><span data-stu-id="7170d-182">Use the [**set**](set.md) ([**MCI\_SET**](mci-set.md)) command to change these modes.</span></span>

## <a name="recording-and-editing"></a><span data-ttu-id="7170d-183">Запись и редактирование</span><span class="sxs-lookup"><span data-stu-id="7170d-183">Recording and Editing</span></span>

<span data-ttu-id="7170d-184">Команда [**записи**](record.md) ([**\_ запись MCI**](mci-record.md)) предоставляет простую запись и имеет точность приблизительно в 1 секунду от начального положения.</span><span class="sxs-lookup"><span data-stu-id="7170d-184">The [**record**](record.md) ([**MCI\_RECORD**](mci-record.md)) command provides simple recording and is accurate to approximately 1 second of the starting position.</span></span> <span data-ttu-id="7170d-185">Чтобы записать более точные данные или изменить содержимое видео при одновременном использовании нескольких колод, следует использовать команду [**Cue**](cue.md) (элемент [**MCI \_ Cue**](mci-cue.md)).</span><span class="sxs-lookup"><span data-stu-id="7170d-185">To record more accurately, or if you expect to edit the video content while simultaneously operating multiple decks, you should use the [**cue**](cue.md) ([**MCI\_CUE**](mci-cue.md)) command.</span></span>

<span data-ttu-id="7170d-186">Команда **подсказки** подготавливает устройство к записи или воспроизведению.</span><span class="sxs-lookup"><span data-stu-id="7170d-186">The **cue** command prepares the device for recording or playing.</span></span> <span data-ttu-id="7170d-187">Чтобы подготовить устройство к записи, используйте команду **подсказки** "входные данные".</span><span class="sxs-lookup"><span data-stu-id="7170d-187">Use the **cue** "input" command to prepare the device for recording.</span></span> <span data-ttu-id="7170d-188">Команда **подсказки** необходима, так как приложение должно быть известно, когда устройство готово к выполнению команды (и может занять несколько минут для подготовки к [**игре**](play.md) ([**MCI \_ Play**](mci-play.md)) или **записи** ).</span><span class="sxs-lookup"><span data-stu-id="7170d-188">The **cue** command is required because an application must know when the device is ready to perform the command (and because it can take several minutes to prepare for a [**play**](play.md) ([**MCI\_PLAY**](mci-play.md)) or **record** command).</span></span>

<span data-ttu-id="7170d-189">ВИДЕОМАГНИТОФОН подготавливается к записи или воспроизведению путем поиска *в месте*, которое является текущей позицией или позицией, указанной с помощью команды "от" **подсказки** .</span><span class="sxs-lookup"><span data-stu-id="7170d-189">The VCR prepares itself for recording or playing by seeking to the *in-point*, which is the current position or the position specified by using the **cue** "from" command.</span></span> <span data-ttu-id="7170d-190">Однако если в команде **подсказки** указан флаг "Предварительная установка", то видеомагнитофон располагает предварительно установленным расстоянием от точки.</span><span class="sxs-lookup"><span data-stu-id="7170d-190">If the "preroll" flag is specified with the **cue** command, however, the VCR positions itself the preroll distance from the in-point.</span></span> <span data-ttu-id="7170d-191">Флаг "превращение" также указывает, что ВИДЕОМАГНИТОФОН использует любой подходящий режим редактирования, поэтому важно использовать "предрулонную", особенно если требуется самая точная запись.</span><span class="sxs-lookup"><span data-stu-id="7170d-191">The "preroll" flag also indicates that the VCR uses any applicable editing mode, so it's important that you use "preroll", especially when you want the most accurate recording.</span></span> <span data-ttu-id="7170d-192">(Используйте команду [**capability**](capability.md) ([**MCI \_ жетдевкапс**](mci-getdevcaps.md)) с флагом "можно выполнить предметку", чтобы проверить, поддерживается ли режим предустановки.)</span><span class="sxs-lookup"><span data-stu-id="7170d-192">(Use the [**capability**](capability.md) ([**MCI\_GETDEVCAPS**](mci-getdevcaps.md)) command with the "can preroll" flag to check whether the preroll mode is supported.)</span></span>

> [!Note]  
> <span data-ttu-id="7170d-193">При записи с использованием позиций "от" и "до" положение "от" включается в поле "Изменить", а "в" — в позицию "в".</span><span class="sxs-lookup"><span data-stu-id="7170d-193">When you record using "from" and "to" positions, the "from" position is included in the edit, and the "to" position is not.</span></span>

 

<span data-ttu-id="7170d-194">Дополнительные сведения о записи см. в разделе [запись](recording.md).</span><span class="sxs-lookup"><span data-stu-id="7170d-194">For more information about recording, see [Recording](recording.md).</span></span>

## <a name="using-the-clock-while-editing"></a><span data-ttu-id="7170d-195">Использование часов при редактировании</span><span class="sxs-lookup"><span data-stu-id="7170d-195">Using the Clock While Editing</span></span>

<span data-ttu-id="7170d-196">При редактировании может потребоваться записать сегменты из одного ВИДЕОМАГНИТОФОНА в другой.</span><span class="sxs-lookup"><span data-stu-id="7170d-196">When editing, you might want to record segments from one VCR to another.</span></span> <span data-ttu-id="7170d-197">Вы можете начать запись в определенное время и на одном видеомагнитофоне, а другой — в то же время и на месте, указав действие (воспроизведение или запись), расположение и время для каждого ВИДЕОМАГНИТОФОНА.</span><span class="sxs-lookup"><span data-stu-id="7170d-197">You can begin recording at a specific time and position on one VCR while another begins playing at the same time and position by specifying an action (play or record), a position, and a time for each VCR.</span></span>

<span data-ttu-id="7170d-198">Оба видеомагнитофона должны использовать одни и те же часы для редактирования такого типа. Часы позволяют синхронизировать оба устройства.</span><span class="sxs-lookup"><span data-stu-id="7170d-198">Both VCRs must use the same clock for this type of editing; the clock helps synchronize both devices.</span></span> <span data-ttu-id="7170d-199">Вы можете определить, используют ли две видеомагнитофона одинаковые часы, используя команду [**состояние**](status.md) ([**\_ состояние MCI**](mci-status.md)) с флагом "Clock ID" для запроса каждого видеомагнитофона.</span><span class="sxs-lookup"><span data-stu-id="7170d-199">You can determine if two VCRs share the same clock by using the [**status**](status.md) ([**MCI\_STATUS**](mci-status.md)) command with the "clock id" flag to query each VCR.</span></span> <span data-ttu-id="7170d-200">Если идентификационные номера, возвращаемые командой **Status** , совпадают, устройства используют одинаковые часы.</span><span class="sxs-lookup"><span data-stu-id="7170d-200">If the identification numbers returned by the **status** command are the same, the devices use the same clock.</span></span> <span data-ttu-id="7170d-201">Как общий ресурс, часы могут быть подключены к нескольким видеомагнитофонам.</span><span class="sxs-lookup"><span data-stu-id="7170d-201">As a shared resource, the clock can be connected to multiple VCRs.</span></span> <span data-ttu-id="7170d-202">Драйвер ВИСКА поддерживает только один общий таймер.</span><span class="sxs-lookup"><span data-stu-id="7170d-202">The VISCA driver supports only one shared clock.</span></span>

<span data-ttu-id="7170d-203">Можно также определить разрешение часов с помощью команды **состояние** "частота приращения часов".</span><span class="sxs-lookup"><span data-stu-id="7170d-203">You can also determine clock resolution by using the **status** "clock increment rate" command.</span></span> <span data-ttu-id="7170d-204">Эта команда возвращает число инкрементов, поддерживаемое часами, в секунду.</span><span class="sxs-lookup"><span data-stu-id="7170d-204">This command returns the number of increments the clock supports per second.</span></span> <span data-ttu-id="7170d-205">Например, если часы обновляются каждую миллисекунду, команда возвращает 1000 в качестве частоты приращения часов.</span><span class="sxs-lookup"><span data-stu-id="7170d-205">For example, if the clock is updated every millisecond, the command returns 1000 as the clock increment rate.</span></span> <span data-ttu-id="7170d-206">Преимуществом использования частоты приращения является то, что ставка выражается как целое число; в противном случае инкремент будет иметь значение (с одинарной или двойной точностью) с плавающей запятой.</span><span class="sxs-lookup"><span data-stu-id="7170d-206">The advantage of using the increment rate is that the rate is expressed as an integer; otherwise, the increment would be a (single- or double-precision) floating-point value.</span></span> <span data-ttu-id="7170d-207">Как целое число, управление скоростью инкремента является простой операцией и не является уязвимой для округления ошибок.</span><span class="sxs-lookup"><span data-stu-id="7170d-207">As an integer, manipulating the increment rate is a simple operation and is not susceptible to rounding errors.</span></span> <span data-ttu-id="7170d-208">Вы можете сбросить часы с помощью команды [**Set**](set.md) ([**MCI \_ Set**](mci-set.md)) с флагом "Clock 0" (ноль).</span><span class="sxs-lookup"><span data-stu-id="7170d-208">You can reset the clock by using the [**set**](set.md) ([**MCI\_SET**](mci-set.md)) command with the "clock 0" (zero) flag.</span></span>

<span data-ttu-id="7170d-209">При выдаче команды [**воспроизведения**](play.md) ([**MCI \_ Play**](mci-play.md)), [**записи**](record.md) ([**MCI \_ Record**](mci-record.md)) или [**Seek**](seek.md) (команда [**MCI \_ Seek**](mci-seek.md)) можно указать время выполнения команды.</span><span class="sxs-lookup"><span data-stu-id="7170d-209">When issuing a [**play**](play.md) ([**MCI\_PLAY**](mci-play.md)), [**record**](record.md) ([**MCI\_RECORD**](mci-record.md)), or [**seek**](seek.md) ([**MCI\_SEEK**](mci-seek.md)) command, you can specify when the command is to be executed.</span></span> <span data-ttu-id="7170d-210">Характеристики используемой видеомагнитофона определяют, когда следует запускать каждый ВИДЕОМАГНИТОФОН.</span><span class="sxs-lookup"><span data-stu-id="7170d-210">The characteristics of the VCRs being used determine when to start each VCR.</span></span> <span data-ttu-id="7170d-211">Время должно учитывать количество предпродажных данных для каждого устройства и время, необходимое для выполнения команд MCI, используемых для настройки сеанса редактирования.</span><span class="sxs-lookup"><span data-stu-id="7170d-211">The timing must account for the amount of preroll each device requires and the amount of time needed to complete the MCI commands used to set up the edit session.</span></span> <span data-ttu-id="7170d-212">Для этого извлеките время и добавьте интервал ожидания от 5 до 10 секунд.</span><span class="sxs-lookup"><span data-stu-id="7170d-212">To do this, retrieve the clock time and add a waiting interval of 5 to 10 seconds.</span></span> <span data-ttu-id="7170d-213">(Интервал ожидания должен быть достаточно длинным, чтобы позволить выполнить преднастройку и выполнение всех необработанных команд MCI.)</span><span class="sxs-lookup"><span data-stu-id="7170d-213">(The waiting interval must be long enough to let the preroll and any outstanding MCI commands finish executing.)</span></span>

<span data-ttu-id="7170d-214">Чтобы убедиться в том, что период ожидания достаточно длинный, разместите команду **записи** в приложении последними и проверьте время непосредственно перед ним.</span><span class="sxs-lookup"><span data-stu-id="7170d-214">To ensure that the waiting period is long enough, place the **record** command last in your application and check the time immediately before it.</span></span> <span data-ttu-id="7170d-215">Если интервал слишком короткий, перезапустите команду **Play** .</span><span class="sxs-lookup"><span data-stu-id="7170d-215">If the interval is too short, restart the **play** command.</span></span> <span data-ttu-id="7170d-216">Кроме того, можно проверить время сразу после последней команды сценария, чтобы убедиться в наличии достаточного времени для отправки и выполнения всех команд.</span><span class="sxs-lookup"><span data-stu-id="7170d-216">Alternatively, you could check the time immediately after the last command of the script to verify that there is enough time to send and complete all the commands.</span></span>

 

 




