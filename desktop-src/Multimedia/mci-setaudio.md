---
title: Команда MCI_SETAUDIO (Ммсистем. h)
description: Команда MCI \_ сетаудио задает значения, связанные с воспроизведением и записью звука. Эта команда распознает устройства цифрового видео и ВИДЕОМАГНИТОФОНА.
ms.assetid: 78624596-e465-4ef1-8988-edcfe9a46f89
keywords:
- команда MCI_SETAUDIO Windows мультимедиа
topic_type:
- apiref
api_name:
- MCI_SETAUDIO
api_location:
- Mmsystem.h
api_type:
- HeaderDef
ms.topic: reference
ms.date: 05/31/2018
ms.openlocfilehash: b882209b8a9debc2c01e4f5c6f852d418c1a5cd321a764af022d19c58fe32a21
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "117803401"
---
# <a name="mci_setaudio-command"></a>\_Команда MCI сетаудио

Команда MCI \_ сетаудио задает значения, связанные с воспроизведением и записью звука. Эта команда распознает устройства цифрового видео и ВИДЕОМАГНИТОФОНА.

Чтобы отправить эту команду, вызовите функцию [**мЦисендкомманд**](/previous-versions//dd757160(v=vs.85)) со следующими параметрами.


```C++
MCIERROR mciSendCommand(
  MCIDEVICEID wDeviceID, 
  MCI_SETAUDIO, 
  DWORD dwFlags, 
  (DWORD) (LPMCI_GENERIC_PARMS) lpSetAudio
);
```



## <a name="parameters"></a>Параметры

<dl> <dt>

<span id="wDeviceID"></span><span id="wdeviceid"></span><span id="WDEVICEID"></span>*вдевицеид*
</dt> <dd>

Идентификатор устройства MCI, который должен получить командное сообщение.

</dd> <dt>

<span id="dwFlags"></span><span id="dwflags"></span><span id="DWFLAGS"></span>*dwFlags*
</dt> <dd>

\_Уведомление MCI, \_ Ожидание MCI или \_ тест MCI. Дополнительные сведения об этих флагах см. [в разделе Флаги ожидания, уведомления и проверки](the-wait-notify-and-test-flags.md).

</dd> <dt>

<span id="lpSetAudio"></span><span id="lpsetaudio"></span><span id="LPSETAUDIO"></span>*лпсетаудио*
</dt> <dd>

Указатель на [**общую структуру \_ \_ пармс MCI**](mci-generic-parms.md) . (Устройства с расширенными наборами команд могут заменить эту структуру структурой, зависящей от устройства.)

</dd> </dl>

## <a name="return-value"></a>Возвращаемое значение

Возвращает нуль в случае успеха или ошибку в противном случае.

## <a name="remarks"></a>Remarks

Следующие флаги применяются к типу устройства **дигиталвидео** :

<dl> <dt>

<span id="MCI_DGV_SETAUDIO_ALG"></span><span id="mci_dgv_setaudio_alg"></span>MCI \_ ДГВ \_ сетаудио \_ ALG
</dt> <dd>

Элемент **лпстралгорисм** структуры, идентифицируемой *лпсетаудио* , содержит адрес буфера, содержащего имя алгоритма сжатия звука. Алгоритм сжатия используется последующими командами [ \_ резервирования MCI](mci-reserve.md) или [ \_ записи MCI](mci-record.md) . Доступные алгоритмы зависят от устройства. Если алгоритм несовместим с текущим форматом файла, формат файла меняется на формат по умолчанию для алгоритма.

</dd> <dt>

<span id="MCI_DGV_SETAUDIO_CLOCKTIME"></span><span id="mci_dgv_setaudio_clocktime"></span>MCI \_ ДГВ \_ сетаудио \_ клокктиме
</dt> <dd>

Указанное время указывается в миллисекундах и является абсолютным временем при использовании MCI \_ ДГВ \_ сетаудио \_ . (На этот раз это не пошаговое воспроизведение рабочей области.)

</dd> <dt>

<span id="MCI_DGV_SETAUDIO_INPUT"></span><span id="mci_dgv_setaudio_input"></span>\_ \_ \_ входные данные сетаудио MCI ДГВ
</dt> <dd>

Изменяет флаг басов, высоких частот или громкости, чтобы он влиял на входной сигнал и изменяет записываемые данные. По возможности это значение по умолчанию при мониторинге входных данных.

</dd> <dt>

<span id="MCI_DGV_SETAUDIO_ITEM"></span><span id="mci_dgv_setaudio_item"></span>\_ \_ элемент сетаудио MCI \_ ДГВ
</dt> <dd>

Постоянная звуковая константа задается в элементе **двитем** структуры, определенной параметром *лпсетаудио*. Константа определяет заданное значение. Определены следующие константы:

</dd> <dt>

<span id="MCI_DGV_SETAUDIO_AVGBYTESPERSEC"></span><span id="mci_dgv_setaudio_avgbytespersec"></span>MCI \_ ДГВ \_ сетаудио \_ авгбитесперсек
</dt> <dd>

Среднее число байтов указывается в элементе **дввалуе** структуры, определенной параметром *лпсетаудио*. Это значение задает среднее число байт в секунду для воспроизведения или записи в форматах PCM (модуляция импульсного кода) и ADPCM (адаптивный разностный код пульса). Файл сохраняется в этом формате.

</dd> <dt>

<span id="MCI_DGV_SETAUDIO_BASS"></span><span id="mci_dgv_setaudio_bass"></span>MCI \_ ДГВ \_ сетаудио \_ НЧ
</dt> <dd>

Уровень низкой частоты звука указывается как фактор в элементе **дввалуе** структуры, идентифицируемой *лпсетаудио*.

</dd> <dt>

<span id="MCI_DGV_SETAUDIO_BITSPERSAMPLE"></span><span id="mci_dgv_setaudio_bitspersample"></span>MCI \_ ДГВ \_ сетаудио \_ битсперсампле
</dt> <dd>

Число битов на выборку указывается в элементе **дввалуе** структуры, определенной параметром *лпсетаудио*. Это значение задает число битов для каждого образца, которое воспроизводится или записывается в формате PCM. Файл сохраняется в этом формате.

</dd> <dt>

<span id="MCI_DGV_SETAUDIO_BLOCKALIGN"></span><span id="mci_dgv_setaudio_blockalign"></span>MCI \_ ДГВ \_ сетаудио \_ блоккалигн
</dt> <dd>

Выравнивание блока данных задается в элементе **дввалуе** структуры, определенной параметром *лпсетаудио*. Это значение задает выравнивание блоков данных относительно начала входных данных типа «волна».

</dd> <dt>

<span id="MCI_DGV_SETAUDIO_SAMPLESPERSEC"></span><span id="mci_dgv_setaudio_samplespersec"></span>MCI \_ ДГВ \_ сетаудио \_ самплесперсек
</dt> <dd>

Частота выборки указывается в элементе **дввалуе** структуры, определенной параметром *лпсетаудио*. Это значение задает частоту выборки для воспроизведения и записи с помощью алгоритмов PCM и ADPCM. Файл сохраняется в этом формате.

</dd> <dt>

<span id="MCI_DGV_SETAUDIO_SOURCE"></span><span id="mci_dgv_setaudio_source"></span>\_ \_ источник сетаудио MCI \_ ДГВ
</dt> <dd>

Константа, указывающая источник звукового ввода, включается в элемент **дввалуе** структуры, идентифицируемой *лпсетаудио*. Для источников входных данных аудио определены следующие константы:

\_ \_ \_ среднее значение источника сетаудио MCI ДГВ \_

Среднее значение левого и правого звуковых каналов.

\_ \_ источник СЕТАУДИО ДГВ \_ MCI \_ слева

Левый канал звука.

\_источник сетаудио ДГВ MCI ( \_ \_ \_ справа)

Правый канал звука.

\_ \_ \_ источник стерео ДГВ сетаудио \_

Розетк.

</dd> <dt>

<span id="MCI_DGV_SETAUDIO_STREAM"></span><span id="mci_dgv_setaudio_stream"></span>\_ \_ поток сетаудио MCI \_ ДГВ
</dt> <dd>

Звуковой поток указывается в элементе **дввалуе** структуры, определенной параметром *лпсетаудио*. Целочисленное значение указывает аудиопоток, воспроизводимый из рабочей области. Если поток не указан, воспроизводится первый физически чередующийся аудиопоток.

</dd> <dt>

<span id="MCI_DGV_SETAUDIO_TREBLE"></span><span id="mci_dgv_setaudio_treble"></span>MCI \_ ДГВ \_ сетаудио \_ ВЧ
</dt> <dd>

Уровень высокой частоты звука указывается как фактор в элементе **дввалуе** структуры, идентифицируемой *лпсетаудио*.

</dd> <dt>

<span id="MCI_DGV_SETAUDIO_VOLUME"></span><span id="mci_dgv_setaudio_volume"></span>\_ \_ том сетаудио MCI \_ ДГВ
</dt> <dd>

Уровень звука для одного или обоих звуковых каналов указывается как фактор в **дввалуе** члене структуры, идентифицируемой *лпсетаудио*. Если для левого и правого томов заданы разные значения, то коэффициент слева направо будет примерно не изменен.

</dd> <dt>

<span id="MCI_DGV_SETAUDIO_LEFT"></span><span id="mci_dgv_setaudio_left"></span>\_ДГВ MCI \_ сетаудио, \_ слева
</dt> <dd>

Включает левый канал звука при использовании MCI со \_ значением \_ On. Отключает левый канал звука при использовании с MCI, \_ установленным в \_ Off. Если этот флаг используется вместе с сочетанием \_ \_ значения сетаудио MCI ДГВ \_ и MCI \_ ДГВ \_ сетаудио \_ Volume, он устанавливает громкость левого звукового канала. Если этот флаг используется с \_ \_ источником ДГВ сетаудио MCI \_ , он указывает левый канал звука в качестве источника для входного дигитайзера.

</dd> <dt>

<span id="MCI_DGV_SETAUDIO_OVER"></span><span id="mci_dgv_setaudio_over"></span>MCI \_ ДГВ \_ сетаудио \_
</dt> <dd>

Параметр длины перехода включается в элемент **двовер** структуры, идентифицируемой *лпсетаудио*. Значение length указывает время (в единицах текущего формата времени), которое должно быть необходимо для внесения изменений, использующих фактор. Если этот флаг не используется, изменения происходят немедленно.

</dd> <dt>

<span id="MCI_DGV_SETAUDIO_QUALITY"></span><span id="mci_dgv_setaudio_quality"></span>\_ \_ качество сетаудио MCI \_ ДГВ
</dt> <dd>

Элемент **лпстркуалити** структуры, идентифицируемой *лпсетаудио* , содержит адрес буфера, определяющего качество звука. Текстовая строка в буфере определяет характеристики алгоритма сжатия звука.

Для \_ \_ \_ выбора дескриптора качества для указанного алгоритма можно использовать флаг ДГВ сетаудио в MCI. Если этот флаг опущен, используется текущий алгоритм.

Доступные имена алгоритмов и дескрипторов зависят от устройства. Каждое устройство предоставляет документацию по доступным алгоритмам и описание применимых имен дескрипторов. Команда [ \_ качества MCI](mci-quality.md) может определять дополнительные имена дескрипторов.

</dd> <dt>

<span id="MCI_DGV_SETAUDIO_RECORD"></span><span id="mci_dgv_setaudio_record"></span>\_ \_ запись сетаудио MCI \_ ДГВ
</dt> <dd>

Указывает, включает ли запись звуковые данные или исключает их. Если в сочетании с MCI \_ задано значение \_ , звуковые данные записываются. Если в сочетании с MCI \_ установлено значение \_ Off, звуковые данные исключаются. По умолчанию используются звуковые данные.

</dd> <dt>

<span id="MCI_DGV_SETAUDIO_RIGHT"></span><span id="mci_dgv_setaudio_right"></span>MCI \_ ДГВ \_ сетаудио \_ right
</dt> <dd>

Включает правый канал звука при использовании MCI со \_ значением \_ On. Отключает правый канал звука при использовании MCI со \_ значением \_ Off. Если этот флаг используется вместе с сочетанием \_ \_ значения сетаудио MCI ДГВ \_ и MCI \_ ДГВ \_ сетаудио \_ Volume, он устанавливает громкость правильного звукового канала.

</dd> <dt>

<span id="MCI_DGV_SETAUDIO_VALUE"></span><span id="mci_dgv_setaudio_value"></span>\_ \_ значение сетаудио MCI \_ ДГВ
</dt> <dd>

Значение задается в элементе **дввалуе** структуры, определенной параметром *лпсетаудио*. Значение значения задается константой, определенной для \_ \_ флага элемента MCI ДГВ сетаудио \_ .

</dd> <dt>

<span id="MCI_SET_OFF"></span><span id="mci_set_off"></span>MCI \_ установлен \_
</dt> <dd>

Отключает указанный канал звука.

</dd> <dt>

<span id="MCI_SET_ON"></span><span id="mci_set_on"></span>MCI \_ задан \_ на
</dt> <dd>

Включает указанный канал звука.

</dd> <dt>

<span id="MCI_SETAUDIO_OUTPUT"></span><span id="mci_setaudio_output"></span>\_ \_ выходные данные сетаудио MCI
</dt> <dd>

Изменяет флаг басов, высоких частот или громкости таким образом, чтобы он изменяет только Воспроизводимый сигнал, а не запись. По возможности это значение по умолчанию при мониторинге входных данных.

</dd> </dl>

Для устройств с цифровыми видео параметр *лпсетаудио* указывает на структуру [**MCI \_ ДГВ \_ сетаудио \_ пармс**](/windows/desktop/api/Digitalv/ns-digitalv-mci_dgv_setaudio_parmsa) .

Для типа устройства **видеомагнитофона** используются следующие дополнительные флаги:

<dl> <dt>

<span id="MCI_VCR_SETAUDIO_RECORD"></span><span id="mci_vcr_setaudio_record"></span>\_ \_ запись СЕТАУДИО видеомагнитофона \_ MCI
</dt> <dd>

Задает включение или выключение записи звука, которая используется в сочетании с одним из следующих флагов:

MCI \_ задан \_ на

Запись звука.

MCI \_ установлен \_

Запись звука отключена. Возможно, потребуется сначала отключить запись сборки (с помощью команды [MCI \_ ](mci-set.md) с установленным \_ \_ флагом сбора записей в НАБОРе видеомагнитофонов MCI, \_ \_ установленным в OFF), прежде чем запись звука будет отключена.

\_направление MCI

Элемент **двтракк** структуры, определяемой параметром *лпсетаудио* , указывает, на какую запись влияет команда.

\_ \_ источник СЕТАУДИО видеомагнитофона \_ MCI

Задает источник звука. Этот флаг должен использоваться с \_ \_ флагом, СЕТАУДИО видеомагнитофона MCI \_ .

\_ \_ монитор СЕТАУДИО видеомагнитофона \_ MCI

Задает монитор источника звука. Этот флаг должен использоваться с \_ \_ флагом, СЕТАУДИО видеомагнитофона MCI \_ .

\_сетаудио ВИДЕОМАГНИТОФОН \_ MCI \_

Элемент **двто** структуры, идентифицируемой *лпсетаудио* , содержит константу, описывающую тип входных данных или наблюдаемых входных данных. Он должен быть одним из следующих:

<dl> <dd>

средство \_ \_ \_ настройки типа src \_ видеомагнитофона MCI

Тип — тюнер.

</dd> <dd>

\_ \_ \_ Строка типа src видеомагнитофона \_ MCI

Тип — Line.

</dd> <dd>

\_ \_ \_ дополнительный тип src видеомагнитофона \_ MCI

Тип — вспомогательный.

</dd> <dd>

\_ \_ тип src видеомагнитофона MCI \_ типа \_ универсальный

Тип является универсальным.

</dd> <dd>

\_выкл. \_ \_ тип src видеомагнитофона MCI \_

Тип — выкл. Его можно использовать только с \_ \_ \_ флагом источника сетаудио видеомагнитофона MCI.

</dd> <dd>

\_ \_ \_ выходные данные типа src видеомагнитофона MCI \_

Тип — Output.

</dd> <dd>

\_ \_ номер СЕТАУДИО видеомагнитофона \_ MCI

Элемент Двнумбер структуры, идентифицируемой Лпсетаудио, содержит входной звук (для типа, указанного в элементе Двто) для использования.

</dd> </dl> </dd> <dt>


</dt> <dd></dd> <dt>


</dt> <dd></dd> <dt>


</dt> <dd></dd> </dl>

Для устройств ВИДЕОМАГНИТОФОНА параметр *лпсетаудио* указывает на структуру [**\_ видеомагнитофона MCI \_ сетаудио \_ пармс**](mci-vcr-setaudio-parms.md) .

## <a name="requirements"></a>Требования



| Требование | Значение |
|-------------------------------------|-----------------------------------------------------------------------------------------------------------|
| Минимальная версия клиента<br/> | Windows 2000 Professional \[только классические приложения\]<br/>                                                |
| Минимальная версия сервера<br/> | Windows 2000 Server \[только классические приложения\]<br/>                                                      |
| Заголовок<br/>                   | <dl> <dt>ммсистем. h (включает Windows. h)</dt> </dl> |



## <a name="see-also"></a>См. также раздел

<dl> <dt>

[MCI](mci.md)
</dt> <dt>

[Команды MCI](mci-commands.md)
</dt> </dl>

 

