---
title: Последовательности изображений
description: Последовательности изображений
ms.assetid: fbfb944c-a927-4c92-b3d6-2f8c278408e6
keywords:
- Дравдиб, последовательности изображений
- Дравдиб, последовательность точечных рисунков
- Функция Дравдибдрав
- Функция Дравдиббегин
- Функция Дравдибенд
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 2a7ae2c85d62e93e4149518221aa520eabe13ee2
ms.sourcegitcommit: ebd3ce6908ff865f1ef66f2fc96769be0aad82e1
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/19/2020
ms.locfileid: "105661702"
---
# <a name="sequences-of-images"></a><span data-ttu-id="97d17-108">Последовательности изображений</span><span class="sxs-lookup"><span data-stu-id="97d17-108">Sequences of Images</span></span>

<span data-ttu-id="97d17-109">Последовательность точечных рисунков с одинаковыми размерами и форматами можно отобразить с помощью функции [**дравдибдрав**](/windows/desktop/api/Vfw/nf-vfw-drawdibdraw) с функцией [**дравдиббегин**](/windows/desktop/api/Vfw/nf-vfw-drawdibbegin) .</span><span class="sxs-lookup"><span data-stu-id="97d17-109">You can display a sequence of bitmaps with the same dimensions and formats by using the [**DrawDibDraw**](/windows/desktop/api/Vfw/nf-vfw-drawdibdraw) function with the [**DrawDibBegin**](/windows/desktop/api/Vfw/nf-vfw-drawdibbegin) function.</span></span> <span data-ttu-id="97d17-110">**Дравдиббегин** повышает эффективность **дравдибдрав** , подготавливая контроллер домена дравдиб для рисования.</span><span class="sxs-lookup"><span data-stu-id="97d17-110">**DrawDibBegin** improves the efficiency of **DrawDibDraw** by preparing the DrawDib DC for drawing.</span></span>

> [!Note]  
> <span data-ttu-id="97d17-111">Если приложение не использует [**дравдиббегин**](/windows/desktop/api/Vfw/nf-vfw-drawdibbegin), [**дравдибдрав**](/windows/desktop/api/Vfw/nf-vfw-drawdibdraw) неявно выполняет его перед прорисовкой.</span><span class="sxs-lookup"><span data-stu-id="97d17-111">If your application does not use [**DrawDibBegin**](/windows/desktop/api/Vfw/nf-vfw-drawdibbegin), [**DrawDibDraw**](/windows/desktop/api/Vfw/nf-vfw-drawdibdraw) implicitly executes it prior to drawing.</span></span> <span data-ttu-id="97d17-112">Если приложение использует **дравдиббегин** до **дравдибдрав**, **дравдибдрав** не требует обработки функции и ожидает ее завершения.</span><span class="sxs-lookup"><span data-stu-id="97d17-112">If your application uses **DrawDibBegin** prior to **DrawDibDraw**, **DrawDibDraw** does not have to process the function and wait for it to complete.</span></span>

 

<span data-ttu-id="97d17-113">Функция [**дравдиббегин**](/windows/desktop/api/Vfw/nf-vfw-drawdibbegin) предоставляет [**ДРАВДИБДРАВ**](/windows/desktop/api/Vfw/nf-vfw-drawdibdraw) с дравдиб DC, маркером контроллера домена, адресом структуры [**битмапинфохеадер**](/windows/win32/api/wingdi/ns-wingdi-bitmapinfoheader) , а также измерениями исходного и целевого прямоугольников.</span><span class="sxs-lookup"><span data-stu-id="97d17-113">The [**DrawDibBegin**](/windows/desktop/api/Vfw/nf-vfw-drawdibbegin) function provides [**DrawDibDraw**](/windows/desktop/api/Vfw/nf-vfw-drawdibdraw) with the DrawDib DC, the DC handle, the address of the [**BITMAPINFOHEADER**](/windows/win32/api/wingdi/ns-wingdi-bitmapinfoheader) structure, and the source and destination rectangle dimensions.</span></span> <span data-ttu-id="97d17-114">При отображении последовательности точечных рисунков **дравдибдрав** проверяет значения этих элементов для каждого изображения в последовательности.</span><span class="sxs-lookup"><span data-stu-id="97d17-114">When you display a sequence of bitmaps, **DrawDibDraw** checks the values of these items for each image in the sequence.</span></span> <span data-ttu-id="97d17-115">Если **дравдибдрав** обнаруживает изменения в любом из этих элементов, он неявно вызывает **дравдиббегин** для настройки параметров контроллера домена дравдиб.</span><span class="sxs-lookup"><span data-stu-id="97d17-115">If **DrawDibDraw** detects changes to any of these items, it implicitly calls **DrawDibBegin** again to adjust the DrawDib DC settings.</span></span>

<span data-ttu-id="97d17-116">После использования [**дравдиббегин**](/windows/desktop/api/Vfw/nf-vfw-drawdibbegin)можно нарисовать последовательность изображений с помощью [**дравдибдрав**](/windows/desktop/api/Vfw/nf-vfw-drawdibdraw) и указать один или несколько флагов соответствующим образом.</span><span class="sxs-lookup"><span data-stu-id="97d17-116">After using [**DrawDibBegin**](/windows/desktop/api/Vfw/nf-vfw-drawdibbegin), you can draw the image sequence by using [**DrawDibDraw**](/windows/desktop/api/Vfw/nf-vfw-drawdibdraw) and specifying one or more flags as appropriate.</span></span> <span data-ttu-id="97d17-117">Укажите **\_ тот же флаг \_ HDC** , если не изменился маркер контроллера домена.</span><span class="sxs-lookup"><span data-stu-id="97d17-117">Specify the **DDF\_SAME\_HDC** flag as long as the DC handle has not changed.</span></span> <span data-ttu-id="97d17-118">Укажите \_ тот же \_ флаг рисования, если не изменились следующие параметры для **дравдибдрав** : адрес структуры [**битмапинфохеадер**](/windows/win32/api/wingdi/ns-wingdi-bitmapinfoheader) и размеры исходного и целевого прямоугольников.</span><span class="sxs-lookup"><span data-stu-id="97d17-118">Specify the DDF\_SAME\_DRAW flag when the following parameters for **DrawDibDraw** have not changed: the address of the [**BITMAPINFOHEADER**](/windows/win32/api/wingdi/ns-wingdi-bitmapinfoheader) structure and the source and destination rectangle dimensions.</span></span>

<span data-ttu-id="97d17-119">Вы можете обновить флаги, установленные с помощью [**дравдиббегин**](/windows/desktop/api/Vfw/nf-vfw-drawdibbegin) , используя функцию [**дравдибенд**](/windows/desktop/api/Vfw/nf-vfw-drawdibend) , а затем еще один вызов **дравдиббегин**.</span><span class="sxs-lookup"><span data-stu-id="97d17-119">You can update the flags set with [**DrawDibBegin**](/windows/desktop/api/Vfw/nf-vfw-drawdibbegin) by using the [**DrawDibEnd**](/windows/desktop/api/Vfw/nf-vfw-drawdibend) function followed by another call to **DrawDibBegin**.</span></span> <span data-ttu-id="97d17-120">Затем используйте **дравдибенд** для очистки дравдиб DC текущих флагов и параметров.</span><span class="sxs-lookup"><span data-stu-id="97d17-120">Then use **DrawDibEnd** to clear the DrawDib DC of its current flags and settings.</span></span> <span data-ttu-id="97d17-121">Последующий вызов **дравдиббегин** повторно ИНИЦИАЛИЗИРУЕТ контроллер домена дравдиб с помощью соответствующих флагов и параметров.</span><span class="sxs-lookup"><span data-stu-id="97d17-121">The subsequent call to **DrawDibBegin** reinitializes the DrawDib DC with the appropriate flags and settings.</span></span> <span data-ttu-id="97d17-122">Кроме того, можно обновить флаги контроллера домена Дравдиб с помощью **дравдиббегин** без **дравдибенд**.</span><span class="sxs-lookup"><span data-stu-id="97d17-122">Alternatively, you can update the flags for a DrawDib DC by using **DrawDibBegin** without **DrawDibEnd**.</span></span> <span data-ttu-id="97d17-123">Для этого необходимо изменить хотя бы один из следующих параметров с помощью флагов: адрес структуры [**битмапинфохеадер**](/windows/win32/api/wingdi/ns-wingdi-bitmapinfoheader) или размеры исходного или конечного прямоугольника.</span><span class="sxs-lookup"><span data-stu-id="97d17-123">To do this, you must change at least one of the following settings concurrently with the flags: the address of the [**BITMAPINFOHEADER**](/windows/win32/api/wingdi/ns-wingdi-bitmapinfoheader) structure, or the source or destination rectangle dimensions.</span></span>

<span data-ttu-id="97d17-124">Вы можете повысить эффективность [**дравдибдрав**](/windows/desktop/api/Vfw/nf-vfw-drawdibdraw) для операций потоковой передачи данных, использующих сжатые изображения, например воспроизведение видеоклипа с помощью функций [**дравдибстарт**](/windows/desktop/api/Vfw/nf-vfw-drawdibstart) и [**дравдибстоп**](/windows/desktop/api/Vfw/nf-vfw-drawdibstop) .</span><span class="sxs-lookup"><span data-stu-id="97d17-124">You can increase the efficiency of [**DrawDibDraw**](/windows/desktop/api/Vfw/nf-vfw-drawdibdraw) for data-streaming operations that use compressed images, such as playing a video clip, by using the [**DrawDibStart**](/windows/desktop/api/Vfw/nf-vfw-drawdibstart) and [**DrawDibStop**](/windows/desktop/api/Vfw/nf-vfw-drawdibstop) functions.</span></span> <span data-ttu-id="97d17-125">Функция **дравдибстарт** подготавливает дравдиб DC для получения потока изображений, отправляя сообщение в Диспетчер сжатия видео (ВКМ).</span><span class="sxs-lookup"><span data-stu-id="97d17-125">The **DrawDibStart** function prepares the DrawDib DC to receive a stream of images by sending a message to the video compression manager (VCM).</span></span> <span data-ttu-id="97d17-126">После завершения потоковой передачи **дравдибстоп** отправляет сообщение в ВКМ, указывающее, что он может освободить ресурсы, выделенные для операции потоковой передачи данных.</span><span class="sxs-lookup"><span data-stu-id="97d17-126">When streaming has ended, **DrawDibStop** sends a message to VCM indicating that it can release resources it allocated for the data-streaming operation.</span></span> <span data-ttu-id="97d17-127">Дополнительные сведения о ВКМ см. в разделе [Диспетчер сжатия видео](video-compression-manager.md).</span><span class="sxs-lookup"><span data-stu-id="97d17-127">For more information about VCM, see [Video Compression Manager](video-compression-manager.md).</span></span>

> [!Note]  
> <span data-ttu-id="97d17-128">Необходимо указать ширину и высоту исходного и целевого прямоугольников в приложении.</span><span class="sxs-lookup"><span data-stu-id="97d17-128">You must specify the width and height of the source and destination rectangles in your application.</span></span> <span data-ttu-id="97d17-129">Однако не нужно указывать источники прямоугольников.</span><span class="sxs-lookup"><span data-stu-id="97d17-129">However, you do not need to specify the origins of the rectangles.</span></span> <span data-ttu-id="97d17-130">Приложение может переопределять источники в [**дравдибдрав**](/windows/desktop/api/Vfw/nf-vfw-drawdibdraw) для использования различных частей изображения или для обновления различных частей дисплея.</span><span class="sxs-lookup"><span data-stu-id="97d17-130">Your application can redefine the origins in [**DrawDibDraw**](/windows/desktop/api/Vfw/nf-vfw-drawdibdraw) to use different portions of the image or to update different portions of the display.</span></span>

 

## <a name="related-topics"></a><span data-ttu-id="97d17-131">См. также</span><span class="sxs-lookup"><span data-stu-id="97d17-131">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="97d17-132">Рендеринг изображений</span><span class="sxs-lookup"><span data-stu-id="97d17-132">Image Rendering</span></span>](image-rendering.md)
</dt> </dl>

 

 