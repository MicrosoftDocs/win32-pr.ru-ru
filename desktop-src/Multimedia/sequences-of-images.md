---
title: Последовательности изображений
description: Последовательности изображений
ms.assetid: fbfb944c-a927-4c92-b3d6-2f8c278408e6
keywords:
- Дравдиб, последовательности изображений
- Дравдиб, последовательность точечных рисунков
- Функция Дравдибдрав
- Функция Дравдиббегин
- Функция Дравдибенд
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 2ac063cb2e9697b3b95045b95c9cc759a562197b56f10ff86a076ddcfa9a72cf
ms.sourcegitcommit: e6600f550f79bddfe58bd4696ac50dd52cb03d7e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119688798"
---
# <a name="sequences-of-images"></a>Последовательности изображений

Последовательность точечных рисунков с одинаковыми размерами и форматами можно отобразить с помощью функции [**дравдибдрав**](/windows/desktop/api/Vfw/nf-vfw-drawdibdraw) с функцией [**дравдиббегин**](/windows/desktop/api/Vfw/nf-vfw-drawdibbegin) . **Дравдиббегин** повышает эффективность **дравдибдрав** , подготавливая контроллер домена дравдиб для рисования.

> [!Note]  
> Если приложение не использует [**дравдиббегин**](/windows/desktop/api/Vfw/nf-vfw-drawdibbegin), [**дравдибдрав**](/windows/desktop/api/Vfw/nf-vfw-drawdibdraw) неявно выполняет его перед прорисовкой. Если приложение использует **дравдиббегин** до **дравдибдрав**, **дравдибдрав** не требует обработки функции и ожидает ее завершения.

 

Функция [**дравдиббегин**](/windows/desktop/api/Vfw/nf-vfw-drawdibbegin) предоставляет [**ДРАВДИБДРАВ**](/windows/desktop/api/Vfw/nf-vfw-drawdibdraw) с дравдиб DC, маркером контроллера домена, адресом структуры [**битмапинфохеадер**](/windows/win32/api/wingdi/ns-wingdi-bitmapinfoheader) , а также измерениями исходного и целевого прямоугольников. При отображении последовательности точечных рисунков **дравдибдрав** проверяет значения этих элементов для каждого изображения в последовательности. Если **дравдибдрав** обнаруживает изменения в любом из этих элементов, он неявно вызывает **дравдиббегин** для настройки параметров контроллера домена дравдиб.

После использования [**дравдиббегин**](/windows/desktop/api/Vfw/nf-vfw-drawdibbegin)можно нарисовать последовательность изображений с помощью [**дравдибдрав**](/windows/desktop/api/Vfw/nf-vfw-drawdibdraw) и указать один или несколько флагов соответствующим образом. Укажите **\_ тот же флаг \_ HDC** , если не изменился маркер контроллера домена. Укажите \_ тот же \_ флаг рисования, если не изменились следующие параметры для **дравдибдрав** : адрес структуры [**битмапинфохеадер**](/windows/win32/api/wingdi/ns-wingdi-bitmapinfoheader) и размеры исходного и целевого прямоугольников.

Вы можете обновить флаги, установленные с помощью [**дравдиббегин**](/windows/desktop/api/Vfw/nf-vfw-drawdibbegin) , используя функцию [**дравдибенд**](/windows/desktop/api/Vfw/nf-vfw-drawdibend) , а затем еще один вызов **дравдиббегин**. Затем используйте **дравдибенд** для очистки дравдиб DC текущих флагов и параметров. Последующий вызов **дравдиббегин** повторно ИНИЦИАЛИЗИРУЕТ контроллер домена дравдиб с помощью соответствующих флагов и параметров. Кроме того, можно обновить флаги контроллера домена Дравдиб с помощью **дравдиббегин** без **дравдибенд**. Для этого необходимо изменить хотя бы один из следующих параметров с помощью флагов: адрес структуры [**битмапинфохеадер**](/windows/win32/api/wingdi/ns-wingdi-bitmapinfoheader) или размеры исходного или конечного прямоугольника.

Вы можете повысить эффективность [**дравдибдрав**](/windows/desktop/api/Vfw/nf-vfw-drawdibdraw) для операций потоковой передачи данных, использующих сжатые изображения, например воспроизведение видеоклипа с помощью функций [**дравдибстарт**](/windows/desktop/api/Vfw/nf-vfw-drawdibstart) и [**дравдибстоп**](/windows/desktop/api/Vfw/nf-vfw-drawdibstop) . Функция **дравдибстарт** подготавливает дравдиб DC для получения потока изображений, отправляя сообщение в Диспетчер сжатия видео (ВКМ). После завершения потоковой передачи **дравдибстоп** отправляет сообщение в ВКМ, указывающее, что он может освободить ресурсы, выделенные для операции потоковой передачи данных. Дополнительные сведения о ВКМ см. в разделе [Диспетчер сжатия видео](video-compression-manager.md).

> [!Note]  
> Необходимо указать ширину и высоту исходного и целевого прямоугольников в приложении. Однако не нужно указывать источники прямоугольников. Приложение может переопределять источники в [**дравдибдрав**](/windows/desktop/api/Vfw/nf-vfw-drawdibdraw) для использования различных частей изображения или для обновления различных частей дисплея.

 

## <a name="related-topics"></a>Связанные темы

<dl> <dt>

[Рендеринг изображений](image-rendering.md)
</dt> </dl>

 

 