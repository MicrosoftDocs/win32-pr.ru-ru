---
title: запись, команда
description: Команда Record запускает запись данных. Видеозаписывающие устройства и аудио-файлы распознают эту команду. Несмотря на то, что Цифровые видеоустройства и средства нумерации MIDI также распознают эту команду, драйверы МЦИАВИ и МЦИСЕК не реализуют их.
ms.assetid: a0838153-5ac2-437f-ae1e-0c4f950fcac5
keywords:
- запись команды мультимедиа Windows
topic_type:
- apiref
api_name:
- record
api_type:
- NA
ms.topic: reference
ms.date: 05/31/2018
ms.openlocfilehash: b39d3659d4577517726260f948563cd31ecc07bc
ms.sourcegitcommit: a1494c819bc5200050696e66057f1020f5b142cb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/12/2020
ms.locfileid: "103891473"
---
# <a name="record-command"></a>запись, команда

Команда Record запускает запись данных. Видеозаписывающие устройства и аудио-файлы распознают эту команду. Несмотря на то, что Цифровые видеоустройства и средства нумерации MIDI также распознают эту команду, драйверы МЦИАВИ и МЦИСЕК не реализуют их.

Чтобы отправить эту команду, вызовите функцию [**mciSendString**](/previous-versions//dd757161(v=vs.85)) с заданным параметром *лпсзкомманд* , как показано ниже.

``` syntax
_stprintf_s(
  lpszCommand, 
  TEXT("record %s %s %s"), 
  lpszDeviceID, 
  lpszRecordFlags, 
  lpszFlags
); 
```

## <a name="parameters"></a>Параметры

<dl> <dt>

<span id="lpszDeviceID"></span><span id="lpszdeviceid"></span><span id="LPSZDEVICEID"></span>*лпсздевицеид*
</dt> <dd>

Идентификатор устройства MCI. Этот идентификатор или псевдоним назначается при открытии устройства.

</dd> <dt>

<span id="lpszRecordFlags"></span><span id="lpszrecordflags"></span><span id="LPSZRECORDFLAGS"></span>*лпсзрекордфлагс*
</dt> <dd>

Флаг для записи данных. В следующей таблице перечислены типы устройств, которые распознают команду **записи** , и флаги, используемые каждым типом.



| Значение        | Значение                                                | Значение                                             |
|--------------|--------------------------------------------------------|-----------------------------------------------------|
| дигиталвидео | поток *аудиопотока* потокового потока из удержания *позиции* | вставить перезапись в  *поток* видео потока |
| sequencer    | от вставки *расположения*                                  | перезапись в *Расположение*                             |
| видеомагнитофон          | во *время* инициализации *позиции*                     | вставить перезапись в *Расположение*                      |
| вавеаудио    | от вставки *расположения*                                  | перезапись в *Расположение*                             |



 

В следующей таблице перечислены флаги, которые могут быть указаны в параметре **лпсзрекордфлагс** , и их значения.



| Значение                 | Значение                                                                                                                                                                                                                                                                                                          |
|-----------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| в *прямоугольнике*        | Задает прямоугольную область внешних входных данных, используемую в качестве источника для сжатых и сохраняемых пикселей. Если не указано, прямоугольником по умолчанию является прямоугольник, указанный для [размещения](put.md) "Video". Если это значение отличается от прямоугольника "видео", отображаемое изображение не будет записано. |
| в *момент времени*             | Указывает, когда устройство должно начать выполнение этой команды, или, если устройство было куед, при запуске команды куед. Дополнительные сведения см. в описании команды [Cue](cue.md) .                                                                                                                             |
| *поток* аудиопотока | Указывает аудиопоток, используемый для записи. Если этот флаг не указан и формат файла не определяет значение по умолчанию, он записывается в поток, который физически является первым.                                                                                                                             |
| от *расположения*       | Задает начальную точку записи. Если не указан флаг "from", устройство начинает запись в текущей позиции.                                                                                                                                                                       |
| Нажмите                  | Закрепляет образ при завершении записи, а не отображая видео в реальном времени. При остановке записи выполняется команда автоматического [мониторинга](monitor.md) "файл". Чтобы вернуться в динамическое видео, выполните команду **Monitor** "input".                                                                              |
| устанавливает            | Инициализируйте ленту (носитель), которая включает в себя запись времени (если возможно) для пустого видео и звука. Выполнение этой команды может занять несколько часов, если вся лента должна быть инициализирована.                                                                                                                            |
| insert                | Указывает, что новые данные добавляются в файл в текущей позиции.                                                                                                                                                                                                                                            |
| перезапись             | Указывает, что новые данные будут заменять данные в файле.                                                                                                                                                                                                                                                           |
| в *Расположение*         | Задает конечную точку записи. Если флаг "to" не указан, устройство записывается до получения команды [остановки](stop.md) или [приостановки](pause.md) .                                                                                                                                        |
| *поток* видео поток | Указывает поток видео, используемый для записи. Если этот параметр не указан и формат файла не определяет значение по умолчанию, он записывается в поток, который физически является первым.                                                                                                                             |



 

</dd> <dt>

<span id="lpszFlags"></span><span id="lpszflags"></span><span id="LPSZFLAGS"></span>*лпсзфлагс*
</dt> <dd>

Может иметь значение "Wait", "notify" или и то, и другое. Для устройств с цифровыми видео и ВИДЕОМАГНИТОФОНА можно также указать "Test". Дополнительные сведения об этих флагах см. [в разделе Флаги ожидания, уведомления и проверки](the-wait-notify-and-test-flags.md).

</dd> </dl>

## <a name="return-value"></a>Возвращаемое значение

Возвращает нуль в случае успеха или ошибку в противном случае.

## <a name="remarks"></a>Комментарии

Запись останавливается при выдаче команды [Stop](stop.md) или [Pause](pause.md) . Для драйвера МЦИВАВЕ все данные, записанные после открытия файла, отбрасываются, если файл закрывается без сохранения.

Перед выполнением команд, использующих значения позиций, необходимо задать требуемый формат времени с помощью команды [Set](set.md) . Записываемые дорожки задаются [сеттимекоде](settimecode.md) "запись", устанавливаются команды "собрать запись", [сетвидео](setvideo.md) "Record" и [сетаудио](setaudio.md) "Record".

## <a name="examples"></a>Примеры

Следующая команда запускает запись в текущей позиции.

``` syntax
record mysound
```

## <a name="requirements"></a>Требования



| Требование | Значение |
|-------------------------------------|------------------------------------------------------------|
| Минимальная версия клиента<br/> | Windows 2000 Professional \[только классические приложения\]<br/> |
| Минимальная версия сервера<br/> | Windows 2000 Server \[только классические приложения\]<br/>       |



## <a name="see-also"></a>См. также раздел

<dl> <dt>

[MCI](mci.md)
</dt> <dt>

[Строки команд MCI](mci-command-strings.md)
</dt> <dt>

[cue](cue.md)
</dt> <dt>

[слежен](monitor.md)
</dt> <dt>

[pause](pause.md)
</dt> <dt>

[PUT](put.md)
</dt> <dt>

[set](set.md)
</dt> <dt>

[сетаудио](setaudio.md)
</dt> <dt>

[сеттимекоде](settimecode.md)
</dt> <dt>

[сетвидео](setvideo.md)
</dt> <dt>

[stop](stop.md)
</dt> </dl>

 

