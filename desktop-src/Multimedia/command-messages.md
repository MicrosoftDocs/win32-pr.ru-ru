---
title: Сообщения команды
description: Сообщения команды
ms.assetid: 29b40f35-d390-49c3-99bd-c648c7c50504
keywords:
- Сообщения команды MCI, сведения
- Сообщения команды MCI, синтаксис
- Функция МЦисендкомманд
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 2cc92b960e646ee1e452c7a356d0291c080d0162
ms.sourcegitcommit: ebd3ce6908ff865f1ef66f2fc96769be0aad82e1
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/19/2020
ms.locfileid: "104533101"
---
# <a name="command-messages"></a>Сообщения команды

Интерфейс командной строки предназначен для использования приложениями, которым требуется интерфейс языка C для управления устройствами мультимедиа. Для взаимодействия с устройствами MCI используется парадигма передачи сообщений. Команду можно отправить с помощью функции [**мЦисендкомманд**](/previous-versions//dd757160(v=vs.85)) .

Функция **мЦисендкомманд** возвращает нуль в случае успеха. Если функция завершается ошибкой, в слове с низким порядком возвращаемого значения содержится код ошибки. Этот код ошибки можно передать функции [**мЦижетеррорстринг**](/previous-versions//dd757158(v=vs.85)) , чтобы получить текстовое описание ошибки.

## <a name="syntax-of-command-messages"></a>Синтаксис сообщений команды

Сообщения команды MCI состоят из следующих элементов:

-   Постоянное значение сообщения
-   Структура, содержащая параметры для команды
-   Набор флагов, задающий параметры для команды и проверки полей в блоке параметров

В следующем примере функция [**мЦисендкомманд**](/previous-versions//dd757160(v=vs.85)) используется для отправки команды [**MCI \_ Play**](mci-play.md) устройству, идентифицируемому идентификатором устройства.


```C++
mciSendCommand(wDeviceID,            // device identifier 
    MCI_PLAY,                        // command message 
    0,                               // flags 
    (DWORD)(LPVOID) &mciPlayParms);  // parameter block 
```



Идентификатор устройства, указанный в первом параметре, извлекается при открытии устройства с помощью команды [**MCI \_ Open**](mci-open.md) . Последний параметр — это адрес структуры [**MCI \_ Play \_ пармс**](mci-play-parms.md) , которая может содержать сведения о начале и завершении воспроизведения. Многие сообщения команды MCI используют структуру для хранения параметров этого типа. Первый член каждой из этих структур определяет окно, которое получает сообщение [**\_ мЦинотифи мм**](mm-mcinotify.md) по завершении операции.

 

 