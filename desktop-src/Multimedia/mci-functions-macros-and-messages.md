---
title: Макросы и сообщения функций MCI
description: Макросы и сообщения функций MCI
ms.assetid: 7cedc46f-f67b-4b1a-b1e0-7ac32c250132
keywords:
- Сообщения MCI
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 4ade9ac3ea5c2a3c74f94bab899305cdae7ec51c
ms.sourcegitcommit: ebd3ce6908ff865f1ef66f2fc96769be0aad82e1
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/19/2020
ms.locfileid: "103791395"
---
# <a name="mci-functions-macros-and-messages"></a><span data-ttu-id="fc11c-104">Макросы и сообщения функций MCI</span><span class="sxs-lookup"><span data-stu-id="fc11c-104">MCI Functions Macros and Messages</span></span>

<span data-ttu-id="fc11c-105">Большинство приложений MCI используют функции [**mciSendString**](/previous-versions//dd757161(v=vs.85)) и [**мЦисендкомманд**](/previous-versions//dd757160(v=vs.85)) в десятках раз.</span><span class="sxs-lookup"><span data-stu-id="fc11c-105">Most MCI applications use the [**mciSendString**](/previous-versions//dd757161(v=vs.85)) and [**mciSendCommand**](/previous-versions//dd757160(v=vs.85)) functions dozens of times.</span></span> <span data-ttu-id="fc11c-106">MCI предоставляет некоторые другие полезные функции, которые приложение будет использовать реже.</span><span class="sxs-lookup"><span data-stu-id="fc11c-106">MCI provides some other useful functions that your application will use less frequently.</span></span>

<span data-ttu-id="fc11c-107">Идентификатор устройства, необходимый большинству команд MCI, обычно извлекается при вызове команды [**Open**](open.md) ([**MCI \_ Open**](mci-open.md)).</span><span class="sxs-lookup"><span data-stu-id="fc11c-107">The device identifier required by most MCI commands is typically retrieved in a call to the [**open**](open.md) ([**MCI\_OPEN**](mci-open.md)) command.</span></span> <span data-ttu-id="fc11c-108">Если требуется идентификатор устройства, но не требуется открывать его, например, если требуется запросить возможности устройства перед выполнением любого другого действия, можно вызвать функцию [**мЦижетдевицеид**](/previous-versions//dd757156(v=vs.85)) .</span><span class="sxs-lookup"><span data-stu-id="fc11c-108">If you need a device identifier but do not want to open the device — for example, if you want to query the capabilities of the device before taking any other action — you can call the [**mciGetDeviceID**](/previous-versions//dd757156(v=vs.85)) function.</span></span>

<span data-ttu-id="fc11c-109">Функция [**мЦижеткреатортаск**](/previous-versions//dd757155(v=vs.85)) позволяет приложению использовать идентификатор устройства для получения маркера задачи, создавшей этот идентификатор.</span><span class="sxs-lookup"><span data-stu-id="fc11c-109">The [**mciGetCreatorTask**](/previous-versions//dd757155(v=vs.85)) function allows your application to use a device identifier to retrieve a handle to the task that created that identifier.</span></span>

<span data-ttu-id="fc11c-110">Функции [**мЦижетиелдпрок**](/previous-versions//dd757159(v=vs.85)) и [**мЦисетиелдпрок**](/previous-versions//dd757163(v=vs.85)) можно использовать для назначения и получения адреса функции обратного вызова, связанной с флагом ожидания (MCI \_ Wait).</span><span class="sxs-lookup"><span data-stu-id="fc11c-110">You can use the [**mciGetYieldProc**](/previous-versions//dd757159(v=vs.85)) and [**mciSetYieldProc**](/previous-versions//dd757163(v=vs.85)) functions to assign and retrieve the address of the callback function associated with the "wait" (MCI\_WAIT) flag.</span></span>

<span data-ttu-id="fc11c-111">Функция [**мЦижетеррорстринг**](/previous-versions//dd757158(v=vs.85)) извлекает строку, описывающую значение ошибки MCI.</span><span class="sxs-lookup"><span data-stu-id="fc11c-111">The [**mciGetErrorString**](/previous-versions//dd757158(v=vs.85)) function retrieves a string that describes an MCI error value.</span></span> <span data-ttu-id="fc11c-112">Каждая строка, возвращаемая методом MCI, имеет ли значение данных или описание ошибки не более 128 символов.</span><span class="sxs-lookup"><span data-stu-id="fc11c-112">Each string that MCI returns, whether data or an error description, is a maximum of 128 characters.</span></span> <span data-ttu-id="fc11c-113">Поля диалогового окна, размер которых меньше 128 символов, будут округлять более длинные строки, возвращаемые MCI.</span><span class="sxs-lookup"><span data-stu-id="fc11c-113">Dialog box fields that are smaller than 128 characters will truncate the longer strings returned by MCI.</span></span> <span data-ttu-id="fc11c-114">Дополнительные сведения об этих строках см. в разделе [возвращаемые значения мЦиерр](mcierr-return-values.md).</span><span class="sxs-lookup"><span data-stu-id="fc11c-114">For more information about these strings, see [MCIERR Return Values](mcierr-return-values.md).</span></span>

<span data-ttu-id="fc11c-115">Макросы MCI — это инструменты, которые можно использовать для создания и разборку значений, задающих форматы времени.</span><span class="sxs-lookup"><span data-stu-id="fc11c-115">The MCI macros are tools you can use to create and disassemble values that specify time formats.</span></span> <span data-ttu-id="fc11c-116">Эти форматы времени используются во многих командах MCI.</span><span class="sxs-lookup"><span data-stu-id="fc11c-116">These time formats are used in many MCI commands.</span></span> <span data-ttu-id="fc11c-117">Макросы имеют формат "ч/мин/сек" (ХМС), "минут/секунд/сек" (MSF), а также дорожек/минут/секунд/кадров (ТМСФ).</span><span class="sxs-lookup"><span data-stu-id="fc11c-117">The formats acted on by the macros are hours/minutes/seconds (HMS), minutes/seconds/frames (MSF), and tracks/minutes/seconds/frames (TMSF).</span></span> <span data-ttu-id="fc11c-118">В следующей таблице перечислены макросы и их описания.</span><span class="sxs-lookup"><span data-stu-id="fc11c-118">The following table lists the macros and their descriptions.</span></span>



| <span data-ttu-id="fc11c-119">Макрос</span><span class="sxs-lookup"><span data-stu-id="fc11c-119">Macro</span></span>                                        | <span data-ttu-id="fc11c-120">Описание</span><span class="sxs-lookup"><span data-stu-id="fc11c-120">Description</span></span>                                        |
|----------------------------------------------|----------------------------------------------------|
| [<span data-ttu-id="fc11c-121">**ХМс MCI, \_ \_ час**</span><span class="sxs-lookup"><span data-stu-id="fc11c-121">**MCI\_HMS\_HOUR**</span></span>](mci-hms-hour.md)       | <span data-ttu-id="fc11c-122">Извлекает компонент часов из значения ХМС.</span><span class="sxs-lookup"><span data-stu-id="fc11c-122">Retrieves the hours component from an HMS value.</span></span>   |
| [<span data-ttu-id="fc11c-123">**MCI \_ ХМс \_ минута**</span><span class="sxs-lookup"><span data-stu-id="fc11c-123">**MCI\_HMS\_MINUTE**</span></span>](mci-hms-minute.md)   | <span data-ttu-id="fc11c-124">Извлекает компонент минут из значения ХМС.</span><span class="sxs-lookup"><span data-stu-id="fc11c-124">Retrieves the minutes component from an HMS value.</span></span> |
| [<span data-ttu-id="fc11c-125">**ХМс MCI, \_ \_ секунда**</span><span class="sxs-lookup"><span data-stu-id="fc11c-125">**MCI\_HMS\_SECOND**</span></span>](mci-hms-second.md)   | <span data-ttu-id="fc11c-126">Извлекает компонент секунд из значения ХМС.</span><span class="sxs-lookup"><span data-stu-id="fc11c-126">Retrieves the seconds component from an HMS value.</span></span> |
| [<span data-ttu-id="fc11c-127">**\_Создание \_ ХМСов MCI**</span><span class="sxs-lookup"><span data-stu-id="fc11c-127">**MCI\_MAKE\_HMS**</span></span>](mci-make-hms.md)       | <span data-ttu-id="fc11c-128">Создает значение ХМС.</span><span class="sxs-lookup"><span data-stu-id="fc11c-128">Creates an HMS value.</span></span>                              |
| [<span data-ttu-id="fc11c-129">**\_платформа MCI делает \_ MSF**</span><span class="sxs-lookup"><span data-stu-id="fc11c-129">**MCI\_MAKE\_MSF**</span></span>](mci-make-msf.md)       | <span data-ttu-id="fc11c-130">Создает значение MSF.</span><span class="sxs-lookup"><span data-stu-id="fc11c-130">Creates an MSF value.</span></span>                              |
| [<span data-ttu-id="fc11c-131">**\_Создание \_ ТМСФов MCI**</span><span class="sxs-lookup"><span data-stu-id="fc11c-131">**MCI\_MAKE\_TMSF**</span></span>](mci-make-tmsf.md)     | <span data-ttu-id="fc11c-132">Создает значение ТМСФ.</span><span class="sxs-lookup"><span data-stu-id="fc11c-132">Creates a TMSF value.</span></span>                              |
| <span data-ttu-id="fc11c-133">[**\_фрейм MSF для MCI \_**](/previous-versions//dd743438(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="fc11c-133">[**MCI\_MSF\_FRAME**](/previous-versions//dd743438(v=vs.85))</span></span>     | <span data-ttu-id="fc11c-134">Извлекает компонент frames из значения MSF.</span><span class="sxs-lookup"><span data-stu-id="fc11c-134">Retrieves the frames component from an MSF value.</span></span>  |
| [<span data-ttu-id="fc11c-135">**Платформа MCI, \_ \_ минута**</span><span class="sxs-lookup"><span data-stu-id="fc11c-135">**MCI\_MSF\_MINUTE**</span></span>](mci-msf-minute.md)   | <span data-ttu-id="fc11c-136">Извлекает компонент минут из значения MSF.</span><span class="sxs-lookup"><span data-stu-id="fc11c-136">Retrieves the minutes component from an MSF value.</span></span> |
| [<span data-ttu-id="fc11c-137">**Платформа MCI, \_ \_ Вторая**</span><span class="sxs-lookup"><span data-stu-id="fc11c-137">**MCI\_MSF\_SECOND**</span></span>](mci-msf-second.md)   | <span data-ttu-id="fc11c-138">Извлекает компонент секунд из значения MSF.</span><span class="sxs-lookup"><span data-stu-id="fc11c-138">Retrieves the seconds component from an MSF value.</span></span> |
| [<span data-ttu-id="fc11c-139">**\_фрейм ТМСФ \_ MCI**</span><span class="sxs-lookup"><span data-stu-id="fc11c-139">**MCI\_TMSF\_FRAME**</span></span>](mci-tmsf-frame.md)   | <span data-ttu-id="fc11c-140">Извлекает компонент frames из значения ТМСФ.</span><span class="sxs-lookup"><span data-stu-id="fc11c-140">Retrieves the frames component from a TMSF value.</span></span>  |
| [<span data-ttu-id="fc11c-141">**MCI \_ тмсф \_ минута**</span><span class="sxs-lookup"><span data-stu-id="fc11c-141">**MCI\_TMSF\_MINUTE**</span></span>](mci-tmsf-minute.md) | <span data-ttu-id="fc11c-142">Извлекает компонент минут из значения ТМСФ.</span><span class="sxs-lookup"><span data-stu-id="fc11c-142">Retrieves the minutes component from a TMSF value.</span></span> |
| [<span data-ttu-id="fc11c-143">**тмсф MCI, \_ \_ секунда**</span><span class="sxs-lookup"><span data-stu-id="fc11c-143">**MCI\_TMSF\_SECOND**</span></span>](mci-tmsf-second.md) | <span data-ttu-id="fc11c-144">Извлекает компонент секунд из значения ТМСФ.</span><span class="sxs-lookup"><span data-stu-id="fc11c-144">Retrieves the seconds component from a TMSF value.</span></span> |
| [<span data-ttu-id="fc11c-145">**\_средство MCI тмсф \_ Track**</span><span class="sxs-lookup"><span data-stu-id="fc11c-145">**MCI\_TMSF\_TRACK**</span></span>](mci-tmsf-track.md)   | <span data-ttu-id="fc11c-146">Извлекает компонент Tracks из значения ТМСФ.</span><span class="sxs-lookup"><span data-stu-id="fc11c-146">Retrieves the tracks component from a TMSF value.</span></span>  |



 

<span data-ttu-id="fc11c-147">Кроме того, MCI предоставляет два сообщения: [**mm \_ МЦинотифи**](mm-mcinotify.md) и [**mm \_ мЦисигнал**](mm-mcisignal.md).</span><span class="sxs-lookup"><span data-stu-id="fc11c-147">MCI also provides two messages: [**MM\_MCINOTIFY**](mm-mcinotify.md) and [**MM\_MCISIGNAL**](mm-mcisignal.md).</span></span> <span data-ttu-id="fc11c-148">\_Сообщение МЦИНОТИФИ mm уведомляет приложение о результате выполнения команды MCI, когда эта команда задает флаг notify (уведомление MCI \_ ).</span><span class="sxs-lookup"><span data-stu-id="fc11c-148">The MM\_MCINOTIFY message notifies an application of the outcome of an MCI command whenever that command specifies the "notify" (MCI\_NOTIFY) flag.</span></span> <span data-ttu-id="fc11c-149">\_Сообщение МЦИСИГНАЛ mm относится только к устройствам Digital-Video, оно уведомляет приложение о достижении указанной должности.</span><span class="sxs-lookup"><span data-stu-id="fc11c-149">The MM\_MCISIGNAL message is specific to digital-video devices; it notifies the application when a specified position is reached.</span></span>

 

 