---
title: Установка и удаление программы сжатия и распаковки
description: Установка и удаление программы сжатия и распаковки
ms.assetid: 1f00d86f-a777-4bf8-8290-96cc83b2f331
keywords:
- Диспетчер сжатия видео (ВКМ), установка компрессоров
- ВКМ (диспетчер сжатия видео), установка компрессоров
- Функция ИЦинсталл
- Функция Икремове
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: bd65f0fc06dc1d5e90cb136f5cf4ea429c220d77
ms.sourcegitcommit: ebd3ce6908ff865f1ef66f2fc96769be0aad82e1
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/19/2020
ms.locfileid: "104336905"
---
# <a name="compressor-and-decompressor-installation-and-removal"></a><span data-ttu-id="96d74-107">Установка и удаление программы сжатия и распаковки</span><span class="sxs-lookup"><span data-stu-id="96d74-107">Compressor and Decompressor Installation and Removal</span></span>

<span data-ttu-id="96d74-108">Приложение может использовать программы сжатия и Декомпрессоры, которые уже установлены в системе, работающей под управлением операционной системы Microsoft Windows.</span><span class="sxs-lookup"><span data-stu-id="96d74-108">An application can use compressors and decompressors that are already installed on a system running the Microsoft Windows operating system.</span></span> <span data-ttu-id="96d74-109">Приложение также может устанавливать программы сжатия и Декомпрессоры для общих или специальных целей.</span><span class="sxs-lookup"><span data-stu-id="96d74-109">An application can also install compressors and decompressors for general or special uses.</span></span> <span data-ttu-id="96d74-110">Большинству приложений не требуется устанавливать или удалять программы сжатия или Декомпрессоры, так как они обычно устанавливаются программой установки.</span><span class="sxs-lookup"><span data-stu-id="96d74-110">Most applications will not need to install or remove compressors or decompressors because they are usually installed by a setup program.</span></span> <span data-ttu-id="96d74-111">Однако приложение может установить программу сжатия напрямую или установить функцию как программу сжатия.</span><span class="sxs-lookup"><span data-stu-id="96d74-111">An application might, however, install a compressor directly or install a function as a compressor.</span></span>

<span data-ttu-id="96d74-112">Приложение может установить программу сжатия или декомпрессора (или функцию, используемую в качестве программы сжатия или распаковки) с помощью функции [**иЦинсталл**](/windows/desktop/api/Vfw/nf-vfw-icinstall) .</span><span class="sxs-lookup"><span data-stu-id="96d74-112">An application can install a compressor or decompressor (or a function used as a compressor or decompressor) by using the [**ICInstall**](/windows/desktop/api/Vfw/nf-vfw-icinstall) function.</span></span> <span data-ttu-id="96d74-113">Эта функция создает запись в реестре, определяющую программу сжатия или декомпрессора.</span><span class="sxs-lookup"><span data-stu-id="96d74-113">This function creates an entry in the registry identifying the compressor or decompressor.</span></span> <span data-ttu-id="96d74-114">Приложение или другое приложение может выполнять поиск в реестре, чтобы определить, содержит ли система программу сжатия или распаковку, подходящую для своих данных.</span><span class="sxs-lookup"><span data-stu-id="96d74-114">Your application or another application can search the registry to determine if the system contains a compressor or decompressor suitable for its data.</span></span> <span data-ttu-id="96d74-115">Используйте **иЦинсталл** для установки всех драйверов сжатия и распаковки.</span><span class="sxs-lookup"><span data-stu-id="96d74-115">Use **ICInstall** to install all compression and decompression drivers.</span></span>

<span data-ttu-id="96d74-116">Приложение может размещать и открывать установленный компрессор или декомпрессор с помощью функций [**иклокате**](/windows/desktop/api/Vfw/nf-vfw-iclocate) и [**икопен**](/windows/desktop/api/Vfw/nf-vfw-icopen) .</span><span class="sxs-lookup"><span data-stu-id="96d74-116">An application can locate and open an installed compressor or decompressor by using the [**ICLocate**](/windows/desktop/api/Vfw/nf-vfw-iclocate) and [**ICOpen**](/windows/desktop/api/Vfw/nf-vfw-icopen) functions.</span></span> <span data-ttu-id="96d74-117">Когда приложение завершает использование программы сжатия или распаковки, оно закрывается с помощью функции [**икклосе**](/windows/desktop/api/Vfw/nf-vfw-icclose) .</span><span class="sxs-lookup"><span data-stu-id="96d74-117">When an application finishes using a compressor or decompressor, it closes it by using the [**ICClose**](/windows/desktop/api/Vfw/nf-vfw-icclose) function.</span></span>

<span data-ttu-id="96d74-118">Приложение может удалить запись реестра для установленного компрессора или декомпрессора с помощью функции [**икремове**](/windows/desktop/api/Vfw/nf-vfw-icremove) .</span><span class="sxs-lookup"><span data-stu-id="96d74-118">An application can remove the registry entry for an installed compressor or decompressor by using the [**ICRemove**](/windows/desktop/api/Vfw/nf-vfw-icremove) function.</span></span> <span data-ttu-id="96d74-119">Эта функция удаляет запись реестра для программы сжатия или распаковки, которая не загружена в память в настоящий момент.</span><span class="sxs-lookup"><span data-stu-id="96d74-119">This function removes the registry entry of a compressor or decompressor that is not currently loaded in memory.</span></span>

<span data-ttu-id="96d74-120">Приложение может ограничивать использование программы сжатия или декомпрессора путем установки, открытия, закрытия и удаления.</span><span class="sxs-lookup"><span data-stu-id="96d74-120">An application can restrict the use of a compressor or decompressor by installing, opening, closing, and removing it.</span></span>

<span data-ttu-id="96d74-121">Кроме того, чтобы использовать функцию внутри в качестве программы сжатия или декомпрессора, не устанавливая ее в реестре, приложение может использовать функцию [**икопенфунктион**](/windows/desktop/api/Vfw/nf-vfw-icopenfunction) .</span><span class="sxs-lookup"><span data-stu-id="96d74-121">Alternatively, to use a function internally as a compressor or decompressor without installing it in the registry, an application can use the [**ICOpenFunction**](/windows/desktop/api/Vfw/nf-vfw-icopenfunction) function.</span></span> <span data-ttu-id="96d74-122">Эта функция требует, чтобы вызывающее приложение имело адрес функции, которая будет использоваться в качестве программы сжатия или распаковки.</span><span class="sxs-lookup"><span data-stu-id="96d74-122">This function requires the calling application to have the address of the function to be used as a compressor or decompressor.</span></span> <span data-ttu-id="96d74-123">Когда приложение завершает работу с функцией, оно должно закрыть его с помощью **икклосе**.</span><span class="sxs-lookup"><span data-stu-id="96d74-123">When the application finishes using the function, it must close it by using **ICClose**.</span></span> <span data-ttu-id="96d74-124">Поскольку функция не была установлена, приложению не нужно удалять функцию из реестра.</span><span class="sxs-lookup"><span data-stu-id="96d74-124">Because the function was not installed, the application does not need to remove the function from the registry.</span></span>

<span data-ttu-id="96d74-125">Внутренняя структура функции, используемой в качестве программы сжатия или декомпрессора, должна совпадать с функцией [дриверпрок](/windows/win32/api/mmiscapi/nc-mmiscapi-driverproc) -Point, используемой устанавливаемыми драйверами.</span><span class="sxs-lookup"><span data-stu-id="96d74-125">The internal structure of a function used as a compressor or decompressor should be the same as the [DriverProc](/windows/win32/api/mmiscapi/nc-mmiscapi-driverproc) entry-point function used by installable drivers.</span></span> <span data-ttu-id="96d74-126">Дополнительные сведения о функции точки входа **дриверпрок** см. в разделе [Устанавливаемые драйверы](installable-drivers.md).</span><span class="sxs-lookup"><span data-stu-id="96d74-126">For more information about the **DriverProc** entry-point function, see [Installable Drivers](installable-drivers.md).</span></span>

> [!Note]  
> <span data-ttu-id="96d74-127">Приложение, устанавливающее функцию в качестве программы сжатия или декомпрессора, должно удалить функцию, прежде чем приложение будет закрыто, чтобы другие приложения не попытаются использовать эту функцию.</span><span class="sxs-lookup"><span data-stu-id="96d74-127">An application installing a function as a compressor or decompressor must remove the function before the application is closed so other applications do not try to use the function.</span></span> <span data-ttu-id="96d74-128">При удалении функции приложение должно его распознать с помощью кода из четырех символов, используемого для его установки.</span><span class="sxs-lookup"><span data-stu-id="96d74-128">When removing a function, the application must identify it with the four-character code used to install it.</span></span>

 

 

 