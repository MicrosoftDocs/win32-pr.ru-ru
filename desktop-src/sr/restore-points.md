---
title: Точки восстановления
description: Создаются точки восстановления, позволяющие пользователям выбирать предыдущие состояния системы. Каждая точка восстановления содержит сведения, необходимые для восстановления системы в выбранном состоянии. Точки восстановления создаются до внесения ключевых изменений в систему.
ms.assetid: 5f68b377-4293-493e-afaf-f4414c2af1fb
author: Teresa-Motiv
ms.author: v-tea
ms.topic: article
ms.date: 12/06/2019
manager: dcscontentpm
ms.custom: CSSTroubleshooting
ms.openlocfilehash: 6ef1aba7d1cb018bb3fa4f32d868828ef2ac4d1b
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/20/2020
ms.locfileid: "104338753"
---
# <a name="restore-points"></a><span data-ttu-id="9b296-105">Точки восстановления</span><span class="sxs-lookup"><span data-stu-id="9b296-105">Restore points</span></span>

<span data-ttu-id="9b296-106">Создаются точки восстановления, позволяющие пользователям выбрать предыдущее состояние системы.</span><span class="sxs-lookup"><span data-stu-id="9b296-106">Restore points are created to let users select a previous system state.</span></span> <span data-ttu-id="9b296-107">Каждая точка восстановления содержит сведения, необходимые для восстановления системы в выбранном состоянии.</span><span class="sxs-lookup"><span data-stu-id="9b296-107">Each restore point contains the required information to restore the system to the selected state.</span></span> <span data-ttu-id="9b296-108">Точки восстановления создаются до внесения ключевых изменений в систему.</span><span class="sxs-lookup"><span data-stu-id="9b296-108">Restore points are created before key changes are made to the system.</span></span>

<span data-ttu-id="9b296-109">Восстановление системы автоматически управляет дисковым пространством, выделенным для точек восстановления.</span><span class="sxs-lookup"><span data-stu-id="9b296-109">System Restore automatically manages the disk space that is allocated for restore points.</span></span> <span data-ttu-id="9b296-110">Она очищает самые старые точки восстановления, чтобы освободить место для новых.</span><span class="sxs-lookup"><span data-stu-id="9b296-110">It purges the oldest restore points to make room for new ones.</span></span> <span data-ttu-id="9b296-111">Восстановление системы выделяет пространство на основе размера жесткого диска и версии Windows, которая выполняется компьютером, как показано в следующей таблице.</span><span class="sxs-lookup"><span data-stu-id="9b296-111">System Restore allocates space based on the size of the hard disk and the version of Windows that the computer runs, as shown in the following table.</span></span>

|<span data-ttu-id="9b296-112">Версия Windows</span><span class="sxs-lookup"><span data-stu-id="9b296-112">Windows version</span></span> |<span data-ttu-id="9b296-113">&nbsp;Размер жесткого диска</span><span class="sxs-lookup"><span data-stu-id="9b296-113">Hard&nbsp;disk size</span></span> |<span data-ttu-id="9b296-114">Пространство для восстановления системы</span><span class="sxs-lookup"><span data-stu-id="9b296-114">System Restore space</span></span> |
| --- | --- | --- |
|<span data-ttu-id="9b296-115">Windows 7 и более поздние версии</span><span class="sxs-lookup"><span data-stu-id="9b296-115">Windows 7 and later versions</span></span> | <span data-ttu-id="9b296-116">> 64 ГБ</span><span class="sxs-lookup"><span data-stu-id="9b296-116">> 64 GB</span></span> |<span data-ttu-id="9b296-117">До пяти процентов от общего места на диске или до 10 ГБ, в зависимости от того, что меньше</span><span class="sxs-lookup"><span data-stu-id="9b296-117">Up to five percent of total disk space or a maximum of 10 GB, whichever is less</span></span> |
|  | <span data-ttu-id="9b296-118">&le; 64 ГБ</span><span class="sxs-lookup"><span data-stu-id="9b296-118">&le; 64 GB</span></span> |<span data-ttu-id="9b296-119">До трех процентов от общего места на диске</span><span class="sxs-lookup"><span data-stu-id="9b296-119">Up to three percent of total disk space</span></span> |
|<span data-ttu-id="9b296-120">Windows Vista</span><span class="sxs-lookup"><span data-stu-id="9b296-120">Windows Vista</span></span> |  |<span data-ttu-id="9b296-121">До 15% от общего места на диске или до 30% свободного места на диске в зависимости от того, что меньше</span><span class="sxs-lookup"><span data-stu-id="9b296-121">Up to 15 percent of the total disk space or a maximum of 30 percent of available disk space, whichever is less</span></span> |
|<span data-ttu-id="9b296-122">Windows XP</span><span class="sxs-lookup"><span data-stu-id="9b296-122">Windows XP</span></span> | <span data-ttu-id="9b296-123">>4 ГБ</span><span class="sxs-lookup"><span data-stu-id="9b296-123">>4 GB</span></span> |<span data-ttu-id="9b296-124">До 12 процентов от общего места на диске</span><span class="sxs-lookup"><span data-stu-id="9b296-124">Up to 12 percent of total disk space</span></span><br /><br /><span data-ttu-id="9b296-125">Чтобы изменить максимальный размер хранилища в Windows XP, используйте элемент **система** на панели управления.</span><span class="sxs-lookup"><span data-stu-id="9b296-125">To change the maximum storage limit in Windows XP, use the **System** item in Control Panel.</span></span> |
|  | <span data-ttu-id="9b296-126">\< 4 ГБ</span><span class="sxs-lookup"><span data-stu-id="9b296-126">\< 4 GB</span></span> |<span data-ttu-id="9b296-127">До 400 МБ</span><span class="sxs-lookup"><span data-stu-id="9b296-127">Up to 400 MB</span></span> |

## <a name="event-triggered-restore-points"></a><span data-ttu-id="9b296-128">Точки восстановления, активируемые событием</span><span class="sxs-lookup"><span data-stu-id="9b296-128">Event-triggered restore points</span></span>

<span data-ttu-id="9b296-129">Восстановление системы автоматически создает точку восстановления до возникновения любого из следующих событий:</span><span class="sxs-lookup"><span data-stu-id="9b296-129">System Restore automatically creates a restore point before any of the following events occur:</span></span>

- <span data-ttu-id="9b296-130">**Установка приложения** (применяется только к приложениям, которые используют установщик, совместимый с восстановлением системы).</span><span class="sxs-lookup"><span data-stu-id="9b296-130">**Application installation** (applies only to applications that use a System Restore-compliant installer).</span></span> <span data-ttu-id="9b296-131">Если установка приложения вызывает системные проблемы, пользователь может восстановить систему в состояние, предшествующее установке.</span><span class="sxs-lookup"><span data-stu-id="9b296-131">If the application installation causes system problems, the user can restore the system to a state that precedes the installation.</span></span>
- <span data-ttu-id="9b296-132">**Установка центр обновления Windows или автообновления**.</span><span class="sxs-lookup"><span data-stu-id="9b296-132">**Windows Update or AutoUpdate installation**.</span></span> <span data-ttu-id="9b296-133">Центр обновления Windows (ранее известное как автоматическое обновление) автоматически скачивает и устанавливает обновления Windows.</span><span class="sxs-lookup"><span data-stu-id="9b296-133">Windows Update (previously known as AutoUpdate) automatically downloads and installs Windows updates.</span></span> <span data-ttu-id="9b296-134">Кроме того, он предоставляет пользователям простой способ загрузки и установки обновлений вручную.</span><span class="sxs-lookup"><span data-stu-id="9b296-134">Additionally, it provides an easy way for users to manually download and install updates.</span></span> <span data-ttu-id="9b296-135">Система восстановления системы создает точку восстановления перед установкой обновления, независимо от того, будет ли она автоматически или вручную.</span><span class="sxs-lookup"><span data-stu-id="9b296-135">System Restore creates a restore point before an update is installed, whether automatically or manually.</span></span>
- <span data-ttu-id="9b296-136">**Операция восстановления системы**.</span><span class="sxs-lookup"><span data-stu-id="9b296-136">**System restore operation**.</span></span> <span data-ttu-id="9b296-137">Восстановление системы автоматически создает точку восстановления как резервную копию перед началом операции восстановления.</span><span class="sxs-lookup"><span data-stu-id="9b296-137">System Restore automatically creates a restore point as a backup before any restore operation starts.</span></span> <span data-ttu-id="9b296-138">Например, предположим, что пользователь случайно восстановит Windows в неверной точке восстановления.</span><span class="sxs-lookup"><span data-stu-id="9b296-138">For example, assume that a user accidentally restores Windows to an incorrect restore point.</span></span> <span data-ttu-id="9b296-139">Чтобы отменить восстановление, пользователь может восстановить Windows до точки восстановления, предшествующей первой точке восстановления.</span><span class="sxs-lookup"><span data-stu-id="9b296-139">To undo that restoration, the user can restore Windows to a restore point that is previous to the first restore point.</span></span> <span data-ttu-id="9b296-140">После восстановления Windows в исходное состояние пользователь может повторить процесс, на этот раз выбрав правильную точку восстановления.</span><span class="sxs-lookup"><span data-stu-id="9b296-140">After Windows has been restored to its initial state, the user can repeat the process, this time selecting the correct restore point.</span></span>

## <a name="scheduled-restore-points"></a><span data-ttu-id="9b296-141">Запланированные точки восстановления</span><span class="sxs-lookup"><span data-stu-id="9b296-141">Scheduled restore points</span></span>

<span data-ttu-id="9b296-142">Пользователи могут настроить восстановление системы для создания точек восстановления через равные промежутки времени.</span><span class="sxs-lookup"><span data-stu-id="9b296-142">Users can configure System Restore to create restore points at regular intervals.</span></span> <span data-ttu-id="9b296-143">Пользователи также могут вручную создать и задать имя точки восстановления в пользовательском интерфейсе восстановления системы.</span><span class="sxs-lookup"><span data-stu-id="9b296-143">Users can also manually create and name a restore point at any time from within the System Restore user interface.</span></span> <span data-ttu-id="9b296-144">Эти точки восстановления сохраняются и сжимаются и доступны в списке точек восстановления.</span><span class="sxs-lookup"><span data-stu-id="9b296-144">These restore points are saved and compressed, and are available in the list of restore points.</span></span>

<span data-ttu-id="9b296-145">В Windows 7 и более поздних версиях восстановление системы создает запланированную точку восстановления только в том случае, если в течение предыдущих семи дней не создавались другие точки восстановления.</span><span class="sxs-lookup"><span data-stu-id="9b296-145">In Windows 7 and later versions, System Restore creates a scheduled restore point only if no other restore points have been created in the previous seven days.</span></span> <span data-ttu-id="9b296-146">В Windows Vista восстановление системы создает контрольную точку каждые 24 часа, если в этот день не создавались никакие другие точки восстановления.</span><span class="sxs-lookup"><span data-stu-id="9b296-146">In Windows Vista, System Restore creates a checkpoint every 24 hours if no other restore points were created on that day.</span></span> <span data-ttu-id="9b296-147">В Windows XP Восстановление системы создает контрольную точку каждые 24 часа, независимо от других операций.</span><span class="sxs-lookup"><span data-stu-id="9b296-147">In Windows XP, System Restore creates a checkpoint every 24 hours, regardless of other operations.</span></span>

## <a name="known-issue-you-cannot-restore-the-system-to-a-restore-point-after-you-install-a-windows-10-update"></a><span data-ttu-id="9b296-148">Известная ошибка. невозможно восстановить систему в точке восстановления после установки обновления Windows 10</span><span class="sxs-lookup"><span data-stu-id="9b296-148">Known issue: You cannot restore the system to a restore point after you install a Windows 10 update</span></span>

<span data-ttu-id="9b296-149">Рассмотрим следующий сценарий.</span><span class="sxs-lookup"><span data-stu-id="9b296-149">Consider the following scenario:</span></span>

1. <span data-ttu-id="9b296-150">Windows 10 устанавливается на чистый компьютер.</span><span class="sxs-lookup"><span data-stu-id="9b296-150">You install Windows 10 on a clean computer.</span></span>
1. <span data-ttu-id="9b296-151">Включите защиту системы, а затем создайте точку восстановления системы с именем R1.</span><span class="sxs-lookup"><span data-stu-id="9b296-151">You turn on system protection, and then create a system restore point that is named "R1."</span></span>
1. <span data-ttu-id="9b296-152">Устанавливается одно или несколько обновлений Windows 10.</span><span class="sxs-lookup"><span data-stu-id="9b296-152">You install one or more Windows 10 updates.</span></span>
1. <span data-ttu-id="9b296-153">После завершения установки обновлений система восстанавливается до точки восстановления «R1».</span><span class="sxs-lookup"><span data-stu-id="9b296-153">After the updates finish installing, you restore the system to the "R1" restore point.</span></span>

<span data-ttu-id="9b296-154">В этом сценарии система не восстанавливается до точки восстановления «R1».</span><span class="sxs-lookup"><span data-stu-id="9b296-154">In this scenario, the system is not restored to the "R1" restore point.</span></span> <span data-ttu-id="9b296-155">Вместо этого на компьютере возникает ошибка (0xC000021A).</span><span class="sxs-lookup"><span data-stu-id="9b296-155">Instead, the computer experiences a Stop error (0xc000021a).</span></span> <span data-ttu-id="9b296-156">Компьютер перезапускается, но система не может вернуться на Рабочий стол Windows.</span><span class="sxs-lookup"><span data-stu-id="9b296-156">You restart the computer, but the system cannot return to the Windows desktop.</span></span>

### <a name="cause"></a><span data-ttu-id="9b296-157">Причина</span><span class="sxs-lookup"><span data-stu-id="9b296-157">Cause</span></span>

<span data-ttu-id="9b296-158">Это известная проблема в Windows 10.</span><span class="sxs-lookup"><span data-stu-id="9b296-158">This is a known issue in Windows 10.</span></span>

<span data-ttu-id="9b296-159">В процессе восстановления системы Windows временно размещает восстановление файлов, которые используются.</span><span class="sxs-lookup"><span data-stu-id="9b296-159">During the system restore process, Windows temporarily stages the restoration of files that are in use.</span></span> <span data-ttu-id="9b296-160">Затем данные сохраняются в реестре.</span><span class="sxs-lookup"><span data-stu-id="9b296-160">It then saves the information in the registry.</span></span> <span data-ttu-id="9b296-161">После перезагрузки компьютера завершается промежуточная операция.</span><span class="sxs-lookup"><span data-stu-id="9b296-161">When the computer restarts, it completes the staged operation.</span></span>

<span data-ttu-id="9b296-162">В этом случае Windows восстанавливает файлы каталога и помещает файлы драйверов (sys), которые будут восстановлены при перезагрузке компьютера.</span><span class="sxs-lookup"><span data-stu-id="9b296-162">In this situation, Windows restores the catalog files and stages the driver (.sys) files to be restored when the computer restarts.</span></span> <span data-ttu-id="9b296-163">Однако после перезагрузки компьютера Windows загрузит существующие драйверы перед восстановлением более поздних версий драйверов.</span><span class="sxs-lookup"><span data-stu-id="9b296-163">However, when the computer restarts, Windows loads the existing drivers before it restores the later versions of the drivers.</span></span> <span data-ttu-id="9b296-164">Так как версии драйверов не соответствуют версиям восстановленных файлов каталога, процесс перезапуска останавливается.</span><span class="sxs-lookup"><span data-stu-id="9b296-164">Because the driver versions do not match the versions of the restored catalog files, the restart process stops.</span></span>

### <a name="workaround"></a><span data-ttu-id="9b296-165">Обходной путь</span><span class="sxs-lookup"><span data-stu-id="9b296-165">Workaround</span></span>

<span data-ttu-id="9b296-166">**Восстановление после сбоя перезагрузки и продолжение процесса восстановления**</span><span class="sxs-lookup"><span data-stu-id="9b296-166">**To recover from the failed restart and continue the restore process**</span></span>

<span data-ttu-id="9b296-167">После возникновения сбоя перезапустите компьютер, пока он не войдет в среду восстановления Windows (WinRE).</span><span class="sxs-lookup"><span data-stu-id="9b296-167">After the failure occurs, restart the computer until it enters the Windows Recovery Environment (WinRE).</span></span> <span data-ttu-id="9b296-168">Чтобы сделать это, может потребоваться перезапустить аппаратный ключ, а может потребоваться несколько раз.</span><span class="sxs-lookup"><span data-stu-id="9b296-168">To do this, you may have to use a hardware restart switch, and you may have to restart multiple times.</span></span>

<span data-ttu-id="9b296-169">В среде восстановления Windows:</span><span class="sxs-lookup"><span data-stu-id="9b296-169">In the Windows Recovery Environment:</span></span>

1. <span data-ttu-id="9b296-170">Выберите **Диагностика**  >  **Дополнительные параметры**  >  **Дополнительные параметры восстановления**  >  **Параметры запуска**, а затем щелкните **Перезагрузить сейчас**.</span><span class="sxs-lookup"><span data-stu-id="9b296-170">Select **Troubleshoot** > **Advanced options** > **More recovery options** > **Startup settings**, and then select **Restart now**.</span></span>
1. <span data-ttu-id="9b296-171">В списке параметров запуска выберите **отключить применение подписи драйверов**.</span><span class="sxs-lookup"><span data-stu-id="9b296-171">In the list of startup settings, select **Disable driver signature enforcement**.</span></span>
   > [!NOTE]  
   > <span data-ttu-id="9b296-172">Для выбора этого параметра может потребоваться использовать клавишу F7.</span><span class="sxs-lookup"><span data-stu-id="9b296-172">You may have to use the F7 key to select this setting.</span></span>
1. <span data-ttu-id="9b296-173">Позвольте продолжить процесс запуска.</span><span class="sxs-lookup"><span data-stu-id="9b296-173">Let the startup process continue.</span></span> <span data-ttu-id="9b296-174">При перезапуске Windows процесс восстановления системы должен возобновиться и завершиться.</span><span class="sxs-lookup"><span data-stu-id="9b296-174">When Windows restarts, the system restore process should resume and finish.</span></span>

<span data-ttu-id="9b296-175">После выполнения этих действий компьютер восстанавливает состояние "R1".</span><span class="sxs-lookup"><span data-stu-id="9b296-175">These steps restore the computer to its "R1" state.</span></span>

<span data-ttu-id="9b296-176">**Восстановление после сбоя перезагрузки**</span><span class="sxs-lookup"><span data-stu-id="9b296-176">**To recover from the failed restart**</span></span>

<span data-ttu-id="9b296-177">Для восстановления после сбоя перезагрузки и отката процесса восстановления выполните следующие действия.</span><span class="sxs-lookup"><span data-stu-id="9b296-177">To recover from the failed restart and roll back the restore process, follow these steps:</span></span>

1. <span data-ttu-id="9b296-178">Как описано в предыдущей процедуре, перезагрузите компьютер, а затем введите WinRE.</span><span class="sxs-lookup"><span data-stu-id="9b296-178">As described in the previous procedure, restart the computer and then enter WinRE.</span></span>  
1. <span data-ttu-id="9b296-179">В среде восстановления Windows выберите **Устранение неполадок при**  >    >  **восстановлении системы**, а затем выберите **Отменить восстановление системы**.</span><span class="sxs-lookup"><span data-stu-id="9b296-179">In the Windows Recovery Environment, select **Troubleshoot** > **Advanced options** > **System restore**, and then select **Undo system restore**.</span></span>

<span data-ttu-id="9b296-180">Эти действия возвращают компьютер в состояние, в котором он находился до начала процесса восстановления.</span><span class="sxs-lookup"><span data-stu-id="9b296-180">These steps return the computer to the state that it was in before you started the restore process.</span></span>

<span data-ttu-id="9b296-181">**Восстановление Windows в точке восстановления с помощью WinRE**</span><span class="sxs-lookup"><span data-stu-id="9b296-181">**To restore Windows to a restore point by using WinRE**</span></span>

<span data-ttu-id="9b296-182">Чтобы запустить мастер восстановления системы на затронутом компьютере, используйте WinRE вместо диалогового окна " **Параметры** ".</span><span class="sxs-lookup"><span data-stu-id="9b296-182">To start the System Restore wizard on an affected computer, use WinRE instead of the **Settings** dialog box.</span></span> <span data-ttu-id="9b296-183">Для этого выполните следующие действия.</span><span class="sxs-lookup"><span data-stu-id="9b296-183">To do this, follow these steps:</span></span>

1. <span data-ttu-id="9b296-184">Выберите **начать**  >  **Параметры**  >  **Обновить &**  >  **Восстановление** безопасности.</span><span class="sxs-lookup"><span data-stu-id="9b296-184">Select **Start** > **Settings** > **Update & Security** > **Recovery**.</span></span>
1. <span data-ttu-id="9b296-185">В разделе **Дополнительные параметры** выберите **Перезагрузить сейчас**.</span><span class="sxs-lookup"><span data-stu-id="9b296-185">Under **Advanced options**, select **Restart now**.</span></span>
1. <span data-ttu-id="9b296-186">После запуска средства WinRE выберите **Устранение неполадок** с  >  **дополнительными параметрами**  >  **Восстановление системы**.</span><span class="sxs-lookup"><span data-stu-id="9b296-186">After WinRE starts, select **Troubleshoot** > **Advanced options** > **System restore**.</span></span>
1. <span data-ttu-id="9b296-187">Введите ключ восстановления, так как он отображается на экране, а затем следуйте инструкциям мастера восстановления системы.</span><span class="sxs-lookup"><span data-stu-id="9b296-187">Enter your recovery key as it is shown on the screen, and then follow the instructions in the System Restore wizard.</span></span>

### <a name="references"></a><span data-ttu-id="9b296-188">Ссылки</span><span class="sxs-lookup"><span data-stu-id="9b296-188">References</span></span>

<span data-ttu-id="9b296-189">Дополнительные сведения об использовании WinRE см. в следующих статьях:</span><span class="sxs-lookup"><span data-stu-id="9b296-189">For more information about how to use WinRE, see the following articles:</span></span>

- [<span data-ttu-id="9b296-190">Среда восстановления Windows (Windows RE)</span><span class="sxs-lookup"><span data-stu-id="9b296-190">Windows Recovery Environment (Windows RE)</span></span>](/windows-hardware/manufacture/desktop/windows-recovery-environment--windows-re--technical-reference)
- [<span data-ttu-id="9b296-191">Запуск компьютера в защищенном режиме в Windows 10</span><span class="sxs-lookup"><span data-stu-id="9b296-191">Start your PC in safe mode in Windows 10</span></span>](https://support.microsoft.com/help/12376) 