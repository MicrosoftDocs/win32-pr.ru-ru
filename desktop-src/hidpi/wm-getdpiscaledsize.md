---
title: Сообщение WM_GETDPISCALEDSIZE (Winuser. h)
description: Это сообщение сообщает операционной системе, что размер окна будет изменяться по сравнению с размерами по умолчанию.
ms.assetid: 038CAA21-0944-45D3-8C40-A6498F36D9E4
keywords:
- WM_GETDPISCALEDSIZE высокое разрешение для сообщения
topic_type:
- apiref
api_name:
- WM_GETDPISCALEDSIZE
api_location:
- winuser.h
api_type:
- HeaderDef
ms.topic: reference
ms.date: 05/31/2018
ms.openlocfilehash: 3386a0f38187e375f9dae0e390a413a1e64565f15d39e1e9f1e436c9238bea99
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "118759295"
---
# <a name="wm_getdpiscaledsize-message"></a>\_Сообщение ЖЕТДПИСКАЛЕДСИЗЕ WM

Это сообщение сообщает операционной системе, что размер окна будет изменяться по сравнению с размерами по умолчанию.

Это сообщение отправляется в окна верхнего уровня с [ \_ \_ контекстом осведомленности о dpi](dpi-awareness-context.md) для каждого монитора версии 2 перед отправкой сообщения [**\_ DPICHANGED WM**](wm-dpichanged.md) и позволяет окну вычислять требуемый размер для ожидающего изменения dpi. Так как масштабирование с линейным разрешением используется по умолчанию, это полезно только в тех случаях, когда окно пытается масштабироваться не линейно. Если приложение отвечает на это сообщение, полученный размер будет прямоугольником-кандидатом Send to **WM \_ DPICHANGED**.

Это сообщение используется для изменения размера Rect, который предоставляется с помощью [**WM \_ DPICHANGED**](wm-dpichanged.md).


```C++
#define WM_GETDPISCALEDSIZE       0x02E4
```



## <a name="parameters"></a>Параметры

<dl> <dt>

*wParam* 
</dt> <dd>

Параметр WPARAM содержит значение DPI. Масштабируемый размер окна, который будет задан приложением, должен быть вычислен так, как будто окно переключается на это значение DPI.

</dd> <dt>

*lParam* 
</dt> <dd>

LPARAM — это указатель в/out для структуры размера. \_Значение in в \_ lParam — это ожидающий размер окна после перемещения, инициированного пользователем, или вызова [**SetWindowPos**](/windows/desktop/api/winuser/nf-winuser-setwindowpos). При изменении размера окна этот размер не обязательно должен совпадать с текущим размером окна на момент получения этого сообщения.

\_Значение out \_ в lParam должно быть записано приложением, чтобы указать требуемый размер масштабированного окна, соответствующий указанному значению dpi в параметре wParam.

</dd> </dl>

## <a name="return-value"></a>Возвращаемое значение

Функция возвращает логическое значение. Возврат значения TRUE означает, что был вычислен новый размер. Возврат значения FALSE означает, что сообщение не будет обработано, а масштабирование линейного DPI по умолчанию будет применено к окну.

## <a name="remarks"></a>Remarks

Это сообщение отправляется только в окна верхнего уровня с контекстом осведомленности о DPI для каждого монитора версии 2.

Это событие необходимо для того, чтобы обеспечить корректное нелинейное масштабирование и гарантировать, что расположение Windows остается постоянным в связи с курсором и при перемещении между мониторами.

По умолчанию в [дефвиндовпрок](/windows/win32/api/winuser/nf-winuser-defwindowproca)не определена обработка этого сообщения. Как и для всех сообщений, которые он не обрабатывает явно, [дефвиндовпрок](/windows/win32/api/winuser/nf-winuser-defwindowproca) возвратит ноль для этого сообщения. Как отмечалось выше, этот возврат сообщает системе, что используется линейное поведение по умолчанию.

## <a name="requirements"></a>Требования



| Требование | Значение |
|-------------------------------------|--------------------------------------------------------------------------------------|
| Минимальная версия клиента<br/> | Windows 10, только для \[ настольных приложений версии 1703\]<br/>                            |
| Минимальная версия сервера<br/> | Windows Server 2016 \[ только классические приложения\]<br/>                                 |
| Header<br/>                   | <dl> <dt>Winuser. h</dt> </dl> |



 

