---
description: Содержит сведения о профиле подключения 802.1 X, который сейчас используется для проверки подлинности 802.1 X.
ms.assetid: ec494c74-bc79-445a-8889-a6f441e95ac5
title: Структура ONEX_CONNECTION_PROFILE
ms.topic: reference
ms.date: 05/31/2018
topic_type:
- APIRef
- kbSyntax
api_name:
- ONEX_CONNECTION_PROFILE
api_type:
- NA
api_location: ''
ms.openlocfilehash: 21e02a1f09d3439c64fb8124cd0cfc8140732be9
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "105683339"
---
# <a name="onex_connection_profile-structure"></a>\_ \_ Структура профиля подключения ONEX

Структура **\_ \_ профиля подключения ONEX** содержит сведения о профиле подключения 802.1 x, который сейчас используется для проверки подлинности 802.1 x.

## <a name="syntax"></a>Синтаксис


```C++
typedef struct _ONEX_CONNECTION_PROFILE {
  DWORD                dwVersion;
  DWORD                dwTotalLen;
  DWORD                fOneXSupplicantFlags  :1;
  DWORD                fsupplicantMode  :1;
  DWORD                fauthMode  :1;
  DWORD                fHeldPeriod  :1;
  DWORD                fAuthPeriod  :1;
  DWORD                fStartPeriod  :1;
  DWORD                fMaxStart  :1;
  DWORD                fMaxAuthFailures  :1;
  DWORD                fNetworkAuthTimeout  :1;
  DWORD                fAllowLogonDialogs  :1;
  DWORD                fNetworkAuthWithUITimeout  :1;
  DWORD                fUserBasedVLan  :1;
  DWORD                dwOneXSupplicantFlags;
  ONEX_SUPPLICANT_MODE supplicantMode;
  ONEX_AUTH_MODE       authMode;
  DWORD                dwHeldPeriod;
  DWORD                dwAuthPeriod;
  DWORD                dwStartPeriod;
  DWORD                dwMaxStart;
  DWORD                dwMaxAuthFailures;
  DWORD                dwNetworkAuthTimeout;
  DWORD                dwNetworkAuthWithUITimeout;
  BOOL                 bAllowLogonDialogs;
  BOOL                 bUserBasedVLan;
} ONEX_CONNECTION_PROFILE, *PONEX_CONNECTION_PROFILE;
```



## <a name="members"></a>Члены

<dl> <dt>

**двверсион**
</dt> <dd>

Версия этой структуры **\_ \_ профиля подключения ONEX** .

</dd> <dt>

**двтоталлен**
</dt> <dd>

Длина в байтах этой структуры **\_ \_ профиля подключения ONEX** .

</dd> <dt>

**фонекссуппликантфлагс**
</dt> <dd>

Указывает, содержит ли структура **\_ \_ профиля подключения ONEX** допустимые данные в элементе **двонекссуппликантфлагс** .

</dd> <dt>

**фсуппликантмоде**
</dt> <dd>

Указывает, содержит ли структура **\_ \_ профиля подключения ONEX** допустимые данные в элементе **суппликантмоде** .

</dd> <dt>

**фаусмоде**
</dt> <dd>

Указывает, содержит ли структура **\_ \_ профиля подключения ONEX** допустимые данные в элементе **аусмоде** .

</dd> <dt>

**фхелдпериод**
</dt> <dd>

Указывает, содержит ли структура **\_ \_ профиля подключения ONEX** допустимые данные в элементе **двхелдпериод** .

</dd> <dt>

**фауспериод**
</dt> <dd>

Указывает, содержит ли структура **\_ \_ профиля подключения ONEX** допустимые данные в элементе **двауспериод** .

</dd> <dt>

**фстартпериод**
</dt> <dd>

Указывает, содержит ли структура **\_ \_ профиля подключения ONEX** допустимые данные в элементе **двстартпериод** .

</dd> <dt>

**фмаксстарт**
</dt> <dd>

Указывает, содержит ли структура **\_ \_ профиля подключения ONEX** допустимые данные в элементе **двмаксстарт** .

</dd> <dt>

**фмаксаусфаилурес**
</dt> <dd>

Указывает, содержит ли структура **\_ \_ профиля подключения ONEX** допустимые данные в элементе **двмаксаусфаилурес** .

</dd> <dt>

**фнетворкаустимеаут**
</dt> <dd>

Указывает, содержит ли структура **\_ \_ профиля подключения ONEX** допустимые данные в элементе **двнетворкаустимеаут** .

</dd> <dt>

**фалловлогондиалогс**
</dt> <dd>

Указывает, содержит ли структура **\_ \_ профиля подключения ONEX** допустимые данные в элементе **балловлогондиалогс** .

</dd> <dt>

**фнетворкаусвисуитимеаут**
</dt> <dd>

Указывает, содержит ли структура **\_ \_ профиля подключения ONEX** допустимые данные в элементе **двнетворкаусвисуитимеаут** .

</dd> <dt>

**фусербаседвлан**
</dt> <dd>

Указывает, содержит ли структура **\_ \_ профиля подключения ONEX** допустимые данные в элементе **бусербаседвлан** .

</dd> <dt>

**двонекссуппликантфлагс**
</dt> <dd>

Набор флагов 802.1 X, которые могут присутствовать в профиле. Эти флаги зарезервированы для внутреннего использования модулем проверки подлинности 802.1 X.

</dd> <dt>

**суппликантмоде**
</dt> <dd>

Элемент Суппликантмоде в схеме 802.1 X, указывающий метод передачи, используемый для EAPOL-Start сообщений. Дополнительные сведения см. в описании [**элемента суппликантмоде (OneX)**](onexschema-supplicantmode-onex-element.md) в схеме 802.1 x.



| Значение                                                                                                                                                                                                                                                                                                                                               | Значение                                                                                                                                                                             |
|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span id="OneXSupplicantModeInhibitTransmission"></span><span id="onexsupplicantmodeinhibittransmission"></span><span id="ONEXSUPPLICANTMODEINHIBITTRANSMISSION"></span><dl> <dt>**Онекссуппликантмодеинхибиттрансмиссион**</dt> <dt>0</dt> </dl> | EAPOL-Start сообщения не передаются. Допустимо только для профилей проводной локальной сети.<br/>                                                                                             |
| <span id="OneXSupplicantModeLearn"></span><span id="onexsupplicantmodelearn"></span><span id="ONEXSUPPLICANTMODELEARN"></span><dl> <dt>**Онекссуппликантмоделеарн**</dt> <dt>1</dt> </dl>                                                         | Клиент определяет, когда следует отсылать пакеты EAPOL-Start на основе сетевых возможностей. EAPOL-Start сообщения отправляются только при необходимости. Допустимо только для профилей проводной локальной сети.<br/> |
| <span id="OneXSupplicantModeCompliant"></span><span id="onexsupplicantmodecompliant"></span><span id="ONEXSUPPLICANTMODECOMPLIANT"></span><dl> <dt>**Онекссуппликантмодекомплиант**</dt> <dt>2</dt> </dl>                                         | EAPOL-Start сообщения передаются, как указано в 802.1 X. Допустимо для профилей проводной и беспроводной локальной сети.<br/>                                                             |



 

</dd> <dt>

**аусмоде**
</dt> <dd>

Элемент Аусмоде в схеме 802.1 X, указывающий тип учетных данных, используемых для проверки подлинности 802.1 X. Дополнительные сведения см. в описании [**элемента аусмоде (OneX)**](onexschema-authmode-onex-element.md) в схеме 802.1 x.



| Значение                                                                                                                                                                                                                                                                                               | Значение                                                                                                                                                                            |
|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span id="OneXAuthModeMachineOrUser"></span><span id="onexauthmodemachineoruser"></span><span id="ONEXAUTHMODEMACHINEORUSER"></span><dl> <dt>**Онексаусмодемачинеорусер**</dt> <dt>0</dt> </dl> | Используйте учетные данные компьютера или пользователя. При входе пользователя в систему для проверки подлинности используются учетные данные пользователя. Если пользователь не вошел в систему, используются учетные данные компьютера.<br/> |
| <span id="OneXAuthModeMachineOnly"></span><span id="onexauthmodemachineonly"></span><span id="ONEXAUTHMODEMACHINEONLY"></span><dl> <dt>**Онексаусмодемачинеонли**</dt> <dt>1</dt> </dl>         | Использовать только учетные данные компьютера.<br/>                                                                                                                                           |
| <span id="OneXAuthModeUserOnly"></span><span id="onexauthmodeuseronly"></span><span id="ONEXAUTHMODEUSERONLY"></span><dl> <dt>**Онексаусмодеусеронли**</dt> <dt>2</dt> </dl>                     | Используйте только учетные данные пользователя.<br/>                                                                                                                                              |
| <span id="OneXAuthModeGuest"></span><span id="onexauthmodeguest"></span><span id="ONEXAUTHMODEGUEST"></span><dl> <dt>**Онексаусмодегуест**</dt> <dt>3</dt> </dl>                                 | Используйте только гостевые (пустые) учетные данные.<br/>                                                                                                                                     |
| <span id="OneXAuthModeUnspecified"></span><span id="onexauthmodeunspecified"></span><span id="ONEXAUTHMODEUNSPECIFIED"></span><dl> <dt>**ОнексаусмодеунспеЦифиед**</dt> <dt>4</dt> </dl>         | Не указаны учетные данные для использования.<br/>                                                                                                                                   |



 

</dd> <dt>

**двхелдпериод**
</dt> <dd>

Элемент Хелдпериод в схеме 802.1 X, указывающий период времени в секундах, в течение которого клиент не будет повторно пытаться пройти проверку подлинности после неудачной попытки проверки подлинности. Дополнительные сведения см. в описании [**элемента хелдпериод (OneX)**](onexschema-heldperiod-onex-element.md) в схеме 802.1 x.

</dd> <dt>

**двауспериод**
</dt> <dd>

Элемент Ауспериод в схеме 802.1 X, указывающий максимальный интервал времени (в секундах), в течение которого клиент ожидает ответа от средства проверки подлинности. Если ответ не получен в течение указанного периода, клиент предполагает, что в сети отсутствует средство проверки подлинности. Дополнительные сведения см. в описании [**элемента ауспериод (OneX)**](onexschema-authperiod-onex-element.md) в схеме 802.1 x.

</dd> <dt>

**двстартпериод**
</dt> <dd>

Элемент Стартпериод в схеме 802.1 X, указывающий продолжительность времени ожидания (в секундах) перед отправкой EAPOL-Start. Для запуска процесса проверки подлинности 802.1 X отправляется сообщение EAPOL-Start. Дополнительные сведения см. в описании [**элемента стартпериод (OneX)**](onexschema-startperiod-onex-element.md) в схеме 802.1 x.

</dd> <dt>

**двмаксстарт**
</dt> <dd>

Элемент Максстарт в схеме 802.1 X, указывающий максимальное число отправленных сообщений EAPOL-Start. После отправки максимального числа EAPOL-Start сообщений клиент предполагает, что в сети отсутствует средство проверки подлинности. Дополнительные сведения см. в описании [**элемента максстарт (OneX)**](onexschema-maxstart-onex-element.md) в схеме 802.1 x.

</dd> <dt>

**двмаксаусфаилурес**
</dt> <dd>

Элемент Максаусфаилурес в схеме 802.1 X, указывающий максимальное количество ошибок проверки подлинности, разрешенных для набора учетных данных. Дополнительные сведения см. в описании элемента [**максаусфаилурес (OneX)**](onexschema-maxauthfailures-onex-element.md) в схеме 802.1 x.

</dd> <dt>

**двнетворкаустимеаут**
</dt> <dd>

Время ожидания завершения проверки подлинности 802.1 X (в секундах) перед нормальным входом в систему. Это значение используется в сценариях единого signon (SSO). По умолчанию это значение равно 10 секундам в профиле 802.1 X. Дополнительные сведения см. в описании [**элемента максделай (singleSignOn)**](onexschema-maxdelay-singlesignon-element.md) в схеме 802.1 x.

</dd> <dt>

**двнетворкаусвисуитимеаут**
</dt> <dd>

Максимальная продолжительность (в секундах) ожидания соединения в случае, если диалоговое окно пользовательского интерфейса требует ввода данных пользователем во время единого входа.

В Windows Vista с пакетом обновления 1 (SP1) и более поздних версиях это значение жестко равно 10 минутам и не может быть настроено. В выпуске Windows Vista в производство это значение по умолчанию равно 60 секундам в профиле 802.1 X и управляется элементом **максделайвисаддитионалдиалогс** в схеме.

В Windows Vista с пакетом обновления 1 (SP1) и более поздних версиях элемент **максделайвисаддитионалдиалогс** в схеме 802.1 x игнорируется и не считается устаревшим.

</dd> <dt>

**балловлогондиалогс**
</dt> <dd>

Значение типа, указывающее, разрешать ли отображение диалоговых окон EAP при использовании единого входа с предварительным входом. Дополнительные сведения см. в описании элемента **алловаддитионалдиалогс** в схеме 802.1 x.

</dd> <dt>

**бусербаседвлан**
</dt> <dd>

Элемент Усербаседвиртуаллан в схеме 802.1 X, указывающий, изменяется ли виртуальная локальная сеть (VLAN), используемая устройством, на основе учетных данных пользователя. Некоторые устройства сервера сетевого доступа (NAS) изменяют виртуальную локальную сеть после проверки подлинности пользователя. Когда Усербаседвиртуаллан имеет значение TRUE, NAS может изменить виртуальную ЛС устройства после проверки подлинности пользователя. Дополнительные сведения см. в описании [**элемента усербаседвиртуаллан (singleSignOn)**](onexschema-userbasedvirtuallan-singlesignon-element.md) в схеме 802.1 x.

</dd> </dl>

## <a name="remarks"></a>Комментарии

Структура **\_ \_ профиля подключения ONEX** используется модулем 802.1 x, новым компонентом настройки беспроводной связи, поддерживаемым в Windows Vista и более поздних версиях.

[**\_ \_ \_ Данные обновления результатов ONEX**](/windows/desktop/api/dot1x/ns-dot1x-onex_result_update_data) содержат сведения об изменении состояния проверки подлинности 802.1 x. Структура **\_ \_ \_ данных обновления результатов ONEX** возвращается, если элемент **нотификатионсаурце** структуры [**\_ \_ данных уведомления WLAN**](/previous-versions/windows/desktop/legacy/ms706902(v=vs.85)) является **\_ \_ \_ ONEX источника уведомлений WLAN** и членом **нотификатионкоде** структуры **\_ \_ данных уведомления WLAN** для получения уведомления является **онекснотификатионтипересултупдате**. Для этого уведомления элемент **pData** структуры **\_ \_ данных уведомления WLAN** указывает на структуру **\_ \_ \_ данных обновления результатов ONEX** , содержащую сведения об изменении состояния проверки подлинности 802.1 x.

Если задан элемент **фонексауспарамс** в структуре [**\_ \_ \_ данных обновления результатов OneX**](/windows/desktop/api/dot1x/ns-dot1x-onex_result_update_data) , то элемент **ауспарамс** в структуре **\_ \_ \_ данных обновления результатов OneX** содержит структуру [**\_ \_ больших двоичных объектов OneX**](/windows/desktop/api/dot1x/ns-dot1x-onex_variable_blob) с внедренной структурой [**\_ \_ параметров проверки подлинности OneX**](/windows/desktop/api/dot1x/ns-dot1x-onex_auth_params) , начиная с элемента **двоффсет** в **\_ \_ объекте переменной ONEX**. Член **онексконнпрофиле** структуры **\_ \_ параметров проверки подлинности OneX** содержит структуру **\_ \_ больших двоичных объектов OneX** с внедренной структурой **\_ \_ профиля подключения OneX** , которая начинается с элемента **двоффсет** в **\_ \_ объекте переменной ONEX**.

Структура **\_ \_ профиля подключения ONEX** не определена в файле общедоступного заголовка.

## <a name="requirements"></a>Требования



| Требование | Значение |
|-------------------------------------|------------------------------------------------------|
| Минимальная версия клиента<br/> | Только для \[ классических приложений Windows Vista\]<br/>       |
| Минимальная версия сервера<br/> | \[Только для настольных приложений Windows Server 2008\]<br/> |



## <a name="see-also"></a>См. также раздел

<dl> <dt>

[Сведения об архитектуре ACM](about-the-acm-architecture.md)
</dt> <dt>

[Схема OneX](onexschema-schema.md)
</dt> <dt>

[**Элемент Аусмоде (OneX)**](onexschema-authmode-onex-element.md)
</dt> <dt>

[**Элемент Ауспериод (OneX)**](onexschema-authperiod-onex-element.md)
</dt> <dt>

[**Элемент Хелдпериод (OneX)**](onexschema-heldperiod-onex-element.md)
</dt> <dt>

[**Максаусфаилурес (OneX)**](onexschema-maxauthfailures-onex-element.md)
</dt> <dt>

[**Элемент Максстарт (OneX)**](onexschema-maxstart-onex-element.md)
</dt> <dt>

[**Элемент Стартпериод (OneX)**](onexschema-startperiod-onex-element.md)
</dt> <dt>

[**Элемент Суппликантмоде (OneX)**](onexschema-supplicantmode-onex-element.md)
</dt> <dt>

[**Усербаседвиртуаллан (singleSignOn), элемент**](onexschema-userbasedvirtuallan-singlesignon-element.md)
</dt> <dt>

[**\_Параметры проверки подлинности ONEX \_**](/windows/desktop/api/dot1x/ns-dot1x-onex_auth_params)
</dt> <dt>

[**\_тип уведомления \_ ONEX**](/windows/desktop/api/dot1x/ne-dot1x-onex_notification_type)
</dt> <dt>

[**\_ \_ данные обновления результатов \_ ONEX**](/windows/desktop/api/dot1x/ns-dot1x-onex_result_update_data)
</dt> <dt>

[**Элемент схемы OneX**](onexschema-onex-element.md)
</dt> <dt>

[**\_BLOB- \_ объект переменной ONEX**](/windows/desktop/api/dot1x/ns-dot1x-onex_variable_blob)
</dt> <dt>

[**\_данные уведомления \_ WLAN**](/previous-versions/windows/desktop/legacy/ms706902(v=vs.85))
</dt> <dt>

[**вланрегистернотификатион**](/windows/desktop/api/wlanapi/nf-wlanapi-wlanregisternotification)
</dt> </dl>

 

 
