---
title: Инициализация точки доступа EAP
description: После инициализации точка доступа (AP) запрашивает в реестре установленные протоколы проверки подлинности.
ms.assetid: e230e01f-27df-4f61-8755-262ec11af660
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 185557c4b908780c09714aa9cc7fa4c80399812f
ms.sourcegitcommit: ebd3ce6908ff865f1ef66f2fc96769be0aad82e1
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/19/2020
ms.locfileid: "104412970"
---
# <a name="access-point-initialization-of-eap"></a><span data-ttu-id="b9b6e-103">Инициализация точки доступа EAP</span><span class="sxs-lookup"><span data-stu-id="b9b6e-103">Access Point Initialization of EAP</span></span>

<span data-ttu-id="b9b6e-104">После инициализации точка доступа (AP) запрашивает в реестре установленные протоколы проверки подлинности.</span><span class="sxs-lookup"><span data-stu-id="b9b6e-104">Upon initialization, the Access Point (AP) queries the registry for installed authentication protocols.</span></span> <span data-ttu-id="b9b6e-105">Затем AP вызывает экспортированную функцию [**расеапжетинфо**](/previous-versions/windows/desktop/api/Raseapif/nf-raseapif-raseapgetinfo) для каждого протокола проверки подлинности.</span><span class="sxs-lookup"><span data-stu-id="b9b6e-105">The AP then calls the exported function [**RasEapGetInfo**](/previous-versions/windows/desktop/api/Raseapif/nf-raseapif-raseapgetinfo) for each authentication protocol.</span></span> <span data-ttu-id="b9b6e-106">Функция **расеапжетинфо** получает один параметр типа [**PPP \_ EAP \_ info**](/windows/desktop/api/Raseapif/ns-raseapif-ppp_eap_info).</span><span class="sxs-lookup"><span data-stu-id="b9b6e-106">The **RasEapGetInfo** function receives a single parameter of type [**PPP\_EAP\_INFO**](/windows/desktop/api/Raseapif/ns-raseapif-ppp_eap_info).</span></span> <span data-ttu-id="b9b6e-107">AP использует член **двеаптипеид** этой структуры для указания протокола проверки подлинности.</span><span class="sxs-lookup"><span data-stu-id="b9b6e-107">The AP uses the **dwEapTypeId** member of this structure to specify the authentication protocol.</span></span> <span data-ttu-id="b9b6e-108">Обратите внимание, что одна библиотека DLL может поддерживать более одного протокола.</span><span class="sxs-lookup"><span data-stu-id="b9b6e-108">Note that a single DLL may support more than one protocol.</span></span> <span data-ttu-id="b9b6e-109">Если **расеапжетинфо** возвращает любое значение, отличное **от \_ ошибки**, точка AP предполагает, что протокол проверки подлинности недоступен.</span><span class="sxs-lookup"><span data-stu-id="b9b6e-109">If **RasEapGetInfo** returns any value other than **NO\_ERROR**, the AP assumes that the authentication protocol is unavailable.</span></span>

<span data-ttu-id="b9b6e-110">При возврате [](/previous-versions/windows/desktop/api/Raseapif/nf-raseapif-raseapgetinfo) из расеапжетинфо [**\_ \_ информационная структура PPP EAP**](/windows/desktop/api/Raseapif/ns-raseapif-ppp_eap_info) содержит указатели на функции [**расеапинитиализе**](/previous-versions/windows/desktop/legacy/aa363527(v=vs.85)), [**РАСЕАПБЕГИН**](/previous-versions/windows/desktop/legacy/aa363520(v=vs.85)), [**расеапмакемессаже**](/previous-versions/windows/desktop/legacy/aa363532(v=vs.85))и [**расеапенд**](/previous-versions/windows/desktop/legacy/aa363521(v=vs.85)) в DLL-библиотеке EAP.</span><span class="sxs-lookup"><span data-stu-id="b9b6e-110">On return from [**RasEapGetInfo**](/previous-versions/windows/desktop/api/Raseapif/nf-raseapif-raseapgetinfo) the [**PPP\_EAP\_INFO**](/windows/desktop/api/Raseapif/ns-raseapif-ppp_eap_info) structure contains pointers to the functions [**RasEapInitialize**](/previous-versions/windows/desktop/legacy/aa363527(v=vs.85)), [**RasEapBegin**](/previous-versions/windows/desktop/legacy/aa363520(v=vs.85)), [**RasEapMakeMessage**](/previous-versions/windows/desktop/legacy/aa363532(v=vs.85)), and [**RasEapEnd**](/previous-versions/windows/desktop/legacy/aa363521(v=vs.85)) in the EAP DLL.</span></span> <span data-ttu-id="b9b6e-111">Служба AP использует эти функции для взаимодействия с протоколом проверки подлинности.</span><span class="sxs-lookup"><span data-stu-id="b9b6e-111">The AP service uses these functions to interoperate with the authentication protocol.</span></span> <span data-ttu-id="b9b6e-112">ТД немедленно вызывает **расеапинитиализе** для каждого протокола проверки подлинности, чтобы инициализировать его.</span><span class="sxs-lookup"><span data-stu-id="b9b6e-112">The AP immediately calls **RasEapInitialize** for each authentication protocol, to initialize it.</span></span> <span data-ttu-id="b9b6e-113">Когда служба завершает работу, она снова вызывает **расеапинитиализе** , на этот раз с параметром *финитиализе* , установленным в **значение false** , чтобы указать, что протокол проверки подлинности должен завершить работу.</span><span class="sxs-lookup"><span data-stu-id="b9b6e-113">When the service shuts down it calls **RasEapInitialize** again, this time with the *fInitialize* parameter set to **FALSE** to indicate that the authentication protocol should shut itself down.</span></span>

 

 