---
title: Пользовательский интерфейс настройки Server-Side
description: Реализуйте пользовательский интерфейс конфигурации для сервера, реализовав COM-интерфейс Иеаппровидерконфиг.
ms.assetid: b205c573-6694-42c0-b4f1-1480932dd644
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: e0904c90fea2bef3ccc00c00135be09a711d8454
ms.sourcegitcommit: ebd3ce6908ff865f1ef66f2fc96769be0aad82e1
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/19/2020
ms.locfileid: "104337252"
---
# <a name="server-side-configuration-user-interface"></a><span data-ttu-id="6c93d-103">Пользовательский интерфейс настройки Server-Side</span><span class="sxs-lookup"><span data-stu-id="6c93d-103">Server-Side Configuration User Interface</span></span>

<span data-ttu-id="6c93d-104">Реализуйте пользовательский интерфейс конфигурации для сервера, реализовав COM-интерфейс [**иеаппровидерконфиг**](/previous-versions/windows/desktop/api/Rrascfg/nn-rrascfg-ieapproviderconfig).</span><span class="sxs-lookup"><span data-stu-id="6c93d-104">Implement a configuration UI for the server by implementing the COM interface, [**IEAPProviderConfig**](/previous-versions/windows/desktop/api/Rrascfg/nn-rrascfg-ieapproviderconfig).</span></span> <span data-ttu-id="6c93d-105">Этот COM-интерфейс является производным от [**IUnknown**](/windows/win32/api/unknwn/nn-unknwn-iunknown) и добавляет три метода: [**Иеаппровидерконфиг:: Initialize**](/previous-versions/windows/desktop/api/Rrascfg/nf-rrascfg-ieapproviderconfig-initialize), [**Иеаппровидерконфиг:: серверинвокеконфигуи**](/previous-versions/windows/desktop/api/Rrascfg/nf-rrascfg-ieapproviderconfig-serverinvokeconfigui)и [**иеаппровидерконфиг:: Uninitialize**](/previous-versions/windows/desktop/api/Rrascfg/nf-rrascfg-ieapproviderconfig-uninitialize).</span><span class="sxs-lookup"><span data-stu-id="6c93d-105">This COM interface derives from [**IUnknown**](/windows/win32/api/unknwn/nn-unknwn-iunknown) and adds three methods: [**IEAPProviderConfig::Initialize**](/previous-versions/windows/desktop/api/Rrascfg/nf-rrascfg-ieapproviderconfig-initialize), [**IEAPProviderConfig::ServerInvokeConfigUI**](/previous-versions/windows/desktop/api/Rrascfg/nf-rrascfg-ieapproviderconfig-serverinvokeconfigui), and [**IEAPProviderConfig::Uninitialize**](/previous-versions/windows/desktop/api/Rrascfg/nf-rrascfg-ieapproviderconfig-uninitialize).</span></span>

<span data-ttu-id="6c93d-106">Пользовательский интерфейс должен поддерживать удаленное администрирование.</span><span class="sxs-lookup"><span data-stu-id="6c93d-106">The UI should support remote administration.</span></span> <span data-ttu-id="6c93d-107">Иными словами, хотя пользовательский интерфейс настраивает протокол проверки подлинности на сервере, сам пользовательский интерфейс может работать на другом компьютере.</span><span class="sxs-lookup"><span data-stu-id="6c93d-107">In other words, although the UI will configure the authentication protocol on the server, the UI itself may be running on a different computer.</span></span> <span data-ttu-id="6c93d-108">Для поддержки удаленного администрирования следует отделить код пользовательского интерфейса от кода, который фактически выполняет конфигурацию.</span><span class="sxs-lookup"><span data-stu-id="6c93d-108">To support remote administration, separate the UI code from the code that actually performs the configuration.</span></span> <span data-ttu-id="6c93d-109">Код конфигурации находится на сервере, на котором выполняется протокол проверки подлинности.</span><span class="sxs-lookup"><span data-stu-id="6c93d-109">The configuration code resides on the server on which the authentication protocol runs.</span></span>

<span data-ttu-id="6c93d-110">Используйте библиотеку активных шаблонов (ATL) для реализации [**иеаппровидерконфиг**](/previous-versions/windows/desktop/api/Rrascfg/nn-rrascfg-ieapproviderconfig).</span><span class="sxs-lookup"><span data-stu-id="6c93d-110">Use the Active Template Library (ATL) to implement [**IEAPProviderConfig**](/previous-versions/windows/desktop/api/Rrascfg/nn-rrascfg-ieapproviderconfig).</span></span> <span data-ttu-id="6c93d-111">Дополнительные сведения см. в примере пользовательского интерфейса конфигурации на стороне сервера в каталоге примеров пакета SDK.</span><span class="sxs-lookup"><span data-stu-id="6c93d-111">For more information, see the sample server-side configuration UI in the SDK samples directory.</span></span> <span data-ttu-id="6c93d-112">Идентификатор класса (CLSID) для объекта пользовательского интерфейса конфигурации должен быть помещен в реестр с именем значения [ \_ \_ \_ \_ CLSID RAS EAP config](authentication-protocol-registry-values.md).</span><span class="sxs-lookup"><span data-stu-id="6c93d-112">The class identifier (CLSID) for the configuration UI object should be placed in the registry with a value name of [RAS\_EAP\_VALUENAME\_CONFIG\_CLSID](authentication-protocol-registry-values.md).</span></span> <span data-ttu-id="6c93d-113">Дополнительные сведения см. в разделе [значения реестра протокола проверки подлинности](authentication-protocol-registry-values.md).</span><span class="sxs-lookup"><span data-stu-id="6c93d-113">For more information, see [Authentication Protocol Registry Values](authentication-protocol-registry-values.md).</span></span>

<span data-ttu-id="6c93d-114">Когда пользователь нажимает кнопку Configure (Настройка) для протокола проверки подлинности в диалоговом окне Свойства для маршрутизации и RAS, система проверяет \_ , \_ \_ существует ли \_ в реестре значение идентификатора CLSID конфигурации EAP для RAS для этого протокола проверки подлинности.</span><span class="sxs-lookup"><span data-stu-id="6c93d-114">When the user clicks the Configure button for an authentication protocol in the Properties dialog box for Routing and RAS, the system checks whether a RAS\_EAP\_VALUENAME\_CONFIG\_CLSID value for this authentication protocol exists in the registry.</span></span> <span data-ttu-id="6c93d-115">Если это так, COM создает объект пользовательского интерфейса конфигурации.</span><span class="sxs-lookup"><span data-stu-id="6c93d-115">If so, COM instantiates the configuration UI object.</span></span> <span data-ttu-id="6c93d-116">Если системе не удается найти \_ \_ \_ \_ в реестре идентификатор CLSID EAP RAS config, а система имеет доступ к службам каталогов (DS), система пытается создать экземпляр объекта из хранилища классов.</span><span class="sxs-lookup"><span data-stu-id="6c93d-116">If the system is unable to find RAS\_EAP\_VALUENAME\_CONFIG\_CLSID in the registry and the system has access to Directory Services (DS), the system attempts to instantiate the object from the Class Store.</span></span>

<span data-ttu-id="6c93d-117">Если пользователь подключен к нескольким компьютерам одновременно, создается несколько объектов пользовательского интерфейса конфигурации.</span><span class="sxs-lookup"><span data-stu-id="6c93d-117">In the case where the user is connected to multiple machines simultaneously, multiple configuration UI objects are instantiated.</span></span>

 

 