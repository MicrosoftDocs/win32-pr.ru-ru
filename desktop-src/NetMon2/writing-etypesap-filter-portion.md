---
description: Компонент ETYPE/SAP фильтра записи уведомляет драйвер сетевой монитор о том, чтобы принимать кадры, имеющие определенное сочетание ETYPE и точек доступа к службам (SAPs).
ms.assetid: 57dcf1cd-f27f-4bd3-a5a8-9e978a2d213e
title: Создание части фильтра ETYPE или SAP
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 1b072d123ca18d3aa2b3f2c91db4a8461473a854
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "103999101"
---
# <a name="writing-etypesap-filter-portion"></a>Создание части фильтра ETYPE или SAP

Компонент ETYPE/SAP фильтра записи уведомляет драйвер сетевой монитор о том, чтобы принимать кадры, имеющие определенное сочетание ETYPE и [*точек доступа к службам*](s.md) (SAPS). ETYPE и SAPs — это оба способа, с которыми следуют протоколы низкого уровня, такие как Ethernet, LLC и Snap. В частности, внесены следующие изменения.

-   Ethernet указывает ETYPE
-   LLC указывает SAP
-   Привязка указывает ETYPE

## <a name="etypesap-capture-filter-flags"></a>Флаги фильтра захвата ETYPE/SAP

Используйте следующие сведения для установки флагов в элементе **филтерфлагс** структуры [**каптурефилтер**](capturefilter.md) .



| Flag                                         | Значение                                                                                                                                                                                                                                                     |
|----------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| \_Флаги каптурефилтер \_ включают \_ все \_ SAPS   | Передает все значения SAP и уведомляет драйвер о том, что все значения SAP являются допустимыми. Если в сочетании с любыми значениями в элементе **лпсаптабле** , этот флаг уведомляет драйвер о том, что все значения SAP, кроме указанных в **лпсаптабле** , являются допустимыми.<br/>           |
| \_Флаги каптурефилтер \_ включают \_ все \_ ETYPE | Передает все значения ETYPE и уведомляет драйвер о том, что все значения ETYPE допустимы. Если в сочетании с любыми значениями в элементе **лпетипетабле** , этот флаг уведомляет драйвер о том, что все значения ETYPE, кроме значений в **лпетипетабле** , являются допустимыми.<br/> |
| КАПТУРЕФИЛТЕР \_ \_ только локальные флаги \_           | Установка этого флага не приведет к установке сетевого адаптера в P-Mode. Вы увидите только локальный трафик (все кадры на локальном компьютере).                                                                                                                                          |
| \_Флаги каптурефилтер \_ сохраняют \_ необработанные             | Сохраняет кадры MAC SMT и Token Ring.                                                                                                                                                                                                                        |



 

## <a name="etypesap-capture-filter-settings"></a>Параметры фильтра захвата ETYPE/SAP

Используйте следующие сведения, чтобы задать элементы **лпсаптабле** и **лпетипетабле** структуры [**каптурефилтер**](capturefilter.md) .



| Параметр          | Значение                                                                                                                                                                                                                                                              |
|------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **лпсаптабле**   | Список значений SAP, которые должен передать драйвер. Этот список указывает драйверу сетевой монитор проверить любой кадр, содержащий совпадение. Если \_ Флаги \_ каптурефилтер \_ включают \_ параметр ALL SAPS, то он становится списком исключений (если он найден, не Pass).           |
| **лпетипетабле** | Список значений ETYPE, которые должен передать драйвер сетевой монитор. Этот список только сообщает драйверу о необходимости проверки любого кадра, содержащего совпадение. Если \_ установлены флаги каптурефилтер \_ \_ \_ , то он становится списком исключений (если он найден, не Pass). |



 

 

 




