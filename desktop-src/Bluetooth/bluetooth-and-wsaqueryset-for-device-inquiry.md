---
title: Bluetooth и ВСАКУЕРИСЕТ для запроса устройства
description: Используется для упрощения обнаружения устройств и служб в пространстве имен Bluetooth, NS \_ БС.
ms.assetid: 0c0d26f7-b6c3-42a9-8c01-118278c381cc
keywords:
- Bluetooth и ВСАКУЕРИСЕТ для запроса устройства Bluetooth
- ВСАКУЕРИСЕТ Bluetooth, запрос устройства
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 7de7adf8c15907fe539ddac5133df08d68ee7c4f
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/20/2020
ms.locfileid: "103791881"
---
# <a name="bluetooth-and-wsaqueryset-for-device-inquiry"></a><span data-ttu-id="b2fe5-105">Bluetooth и ВСАКУЕРИСЕТ для запроса устройства</span><span class="sxs-lookup"><span data-stu-id="b2fe5-105">Bluetooth and WSAQUERYSET for Device Inquiry</span></span>

<span data-ttu-id="b2fe5-106">В технологии Bluetooth структура [**всакуерисет**](/windows/desktop/api/winsock2/ns-winsock2-wsaquerysetw) используется для упрощения обнаружения устройств и служб в пространстве имен Bluetooth, NS \_ БС.</span><span class="sxs-lookup"><span data-stu-id="b2fe5-106">In Bluetooth, the [**WSAQUERYSET**](/windows/desktop/api/winsock2/ns-winsock2-wsaquerysetw) structure, is used to facilitate the discovery of devices and services in the Bluetooth namespace, NS\_BTH.</span></span>

<span data-ttu-id="b2fe5-107">Функции [**всалукупсервицебегин**](/windows/desktop/api/winsock2/nf-winsock2-wsalookupservicebegina) и [**Всалукупсервиценекст**](/windows/desktop/api/winsock2/nf-winsock2-wsalookupservicenexta) используют структуру [**всакуерисет**](/windows/desktop/api/winsock2/ns-winsock2-wsaquerysetw) для получения сведений о процессе запроса устройства.</span><span class="sxs-lookup"><span data-stu-id="b2fe5-107">The [**WSALookupServiceBegin**](/windows/desktop/api/winsock2/nf-winsock2-wsalookupservicebegina) and [**WSALookupServiceNext**](/windows/desktop/api/winsock2/nf-winsock2-wsalookupservicenexta) functions use the [**WSAQUERYSET**](/windows/desktop/api/winsock2/ns-winsock2-wsaquerysetw) structure to obtain information about the device inquiry process.</span></span> <span data-ttu-id="b2fe5-108">В следующей таблице перечислены и описаны значения элементов в структуре **всакуерисет** .</span><span class="sxs-lookup"><span data-stu-id="b2fe5-108">The following table lists and describes member values in the **WSAQUERYSET** structure.</span></span>

| <span data-ttu-id="b2fe5-109">Член</span><span class="sxs-lookup"><span data-stu-id="b2fe5-109">Member</span></span>                      | <span data-ttu-id="b2fe5-110">Входные данные для Всалукупсервицебегин с \_ указанными контейнерами Луп</span><span class="sxs-lookup"><span data-stu-id="b2fe5-110">Input to WSALookupServiceBegin with LUP\_CONTAINERS specified</span></span>                                                                                                                                              | <span data-ttu-id="b2fe5-111">Возвращенное значение из Всалукупсервиценекст</span><span class="sxs-lookup"><span data-stu-id="b2fe5-111">Returned value from WSALookupServiceNext</span></span>                                                                                                                                                                                                                                                                                                                                                                                        |
|-----------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="b2fe5-112">**двсизе**</span><span class="sxs-lookup"><span data-stu-id="b2fe5-112">**dwSize**</span></span>                  | <span data-ttu-id="b2fe5-113">Необходимо задать значение **sizeof**([**всакуерисет**](/windows/desktop/api/winsock2/ns-winsock2-wsaquerysetw)).</span><span class="sxs-lookup"><span data-stu-id="b2fe5-113">Must be set to **sizeof**([**WSAQUERYSET**](/windows/desktop/api/winsock2/ns-winsock2-wsaquerysetw)).</span></span>                                                                                                                                       | <span data-ttu-id="b2fe5-114">**sizeof**([**всакуерисет**](/windows/desktop/api/winsock2/ns-winsock2-wsaquerysetw)), возвращенная системой.</span><span class="sxs-lookup"><span data-stu-id="b2fe5-114">**sizeof**([**WSAQUERYSET**](/windows/desktop/api/winsock2/ns-winsock2-wsaquerysetw)) returned by system.</span></span>                                                                                                                                                                                                                                                                                                                                                        |
| <span data-ttu-id="b2fe5-115">**дваутпутфлагс**</span><span class="sxs-lookup"><span data-stu-id="b2fe5-115">**dwOutputFlags**</span></span>           | <span data-ttu-id="b2fe5-116">Не используется.</span><span class="sxs-lookup"><span data-stu-id="b2fe5-116">Not used.</span></span>                                                                                                                                                                                                  | <span data-ttu-id="b2fe5-117">Может иметь один или несколько из следующих флагов: **бснс \_ . \_ устройство с \_ подключением** указывает, что устройство подключено.</span><span class="sxs-lookup"><span data-stu-id="b2fe5-117">May have one or more of these flags set: **BTHNS\_RESULT\_DEVICE\_CONNECTED** Specifies the device is connected.</span></span><br/> <span data-ttu-id="b2fe5-118">**Бснс \_ РЕЗУЛЬТИРУЮЩее \_ устройство \_ сохранено** указывает, что устройство является запоминаемым.</span><span class="sxs-lookup"><span data-stu-id="b2fe5-118">**BTHNS\_RESULT\_DEVICE\_REMEMBERED** Specifies the device is a remembered device.</span></span> <span data-ttu-id="b2fe5-119">Не все запоминаемые устройства проходят проверку подлинности.</span><span class="sxs-lookup"><span data-stu-id="b2fe5-119">Not all remembered devices are authenticated.</span></span><br/> <span data-ttu-id="b2fe5-120">**Бснс \_ РЕЗУЛЬТИРУЮЩее \_ устройство с \_ проверкой подлинности** указывает, что устройство прошло проверку подлинности, сопряжено или связано.</span><span class="sxs-lookup"><span data-stu-id="b2fe5-120">**BTHNS\_RESULT\_DEVICE\_AUTHENTICATED** Specifies the device is authenticated, paired, or bonded.</span></span> <span data-ttu-id="b2fe5-121">Все устройства, прошедшие проверку подлинности, будут сохранены.</span><span class="sxs-lookup"><span data-stu-id="b2fe5-121">All authenticated devices are remembered.</span></span><br/> |
| <span data-ttu-id="b2fe5-122">**лпсзсервицеинстанценаме**</span><span class="sxs-lookup"><span data-stu-id="b2fe5-122">**lpszServiceInstanceName**</span></span> | <span data-ttu-id="b2fe5-123">Не используется.</span><span class="sxs-lookup"><span data-stu-id="b2fe5-123">Not used.</span></span>                                                                                                                                                                                                  | <span data-ttu-id="b2fe5-124">Отображаемое имя устройства, первоначально возвращенное из операции запроса удаленного имени Bluetooth и, возможно, Обновлено локальным пользователем.</span><span class="sxs-lookup"><span data-stu-id="b2fe5-124">Display name of the device, originally returned from a Bluetooth Remote Name Request operation, and possibly updated by the local user.</span></span> <span data-ttu-id="b2fe5-125">Возвращается, если указано **\_ \_ имя возвращаемого значения Луп** .</span><span class="sxs-lookup"><span data-stu-id="b2fe5-125">Returned if **LUP\_RETURN\_NAME** is specified.</span></span>                                                                                                                                                                                                                                         |
| <span data-ttu-id="b2fe5-126">**лпсервицеклассид**</span><span class="sxs-lookup"><span data-stu-id="b2fe5-126">**lpServiceClassId**</span></span>        | <span data-ttu-id="b2fe5-127">Не используется.</span><span class="sxs-lookup"><span data-stu-id="b2fe5-127">Not used.</span></span>                                                                                                                                                                                                  | <span data-ttu-id="b2fe5-128">32-битное поле класса устройства (НАЛОЖЕНное устройство) Bluetooth, сопоставленное с элементом **файл1** идентификатора GUID.</span><span class="sxs-lookup"><span data-stu-id="b2fe5-128">The 32-bit Bluetooth class of device (COD) field mapped to the **Data1** member of the GUID.</span></span> <span data-ttu-id="b2fe5-129">Возвращается, если указан **\_ \_ тип возвращаемого значения Луп** .</span><span class="sxs-lookup"><span data-stu-id="b2fe5-129">Returned if **LUP\_RETURN\_TYPE** is specified.</span></span>                                                                                                                                                                                                                                                                                    |
| <span data-ttu-id="b2fe5-130">**лпверсион**</span><span class="sxs-lookup"><span data-stu-id="b2fe5-130">**lpVersion**</span></span>               | <span data-ttu-id="b2fe5-131">Не используется.</span><span class="sxs-lookup"><span data-stu-id="b2fe5-131">Not used.</span></span>                                                                                                                                                                                                  | <span data-ttu-id="b2fe5-132">Не используется.</span><span class="sxs-lookup"><span data-stu-id="b2fe5-132">Not used.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                       |
| <span data-ttu-id="b2fe5-133">**лпсзкоммент**</span><span class="sxs-lookup"><span data-stu-id="b2fe5-133">**lpszComment**</span></span>             | <span data-ttu-id="b2fe5-134">Не используется.</span><span class="sxs-lookup"><span data-stu-id="b2fe5-134">Not used.</span></span>                                                                                                                                                                                                  | <span data-ttu-id="b2fe5-135">Не используется.</span><span class="sxs-lookup"><span data-stu-id="b2fe5-135">Not used.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                       |
| <span data-ttu-id="b2fe5-136">**двнамеспаце**</span><span class="sxs-lookup"><span data-stu-id="b2fe5-136">**dwNameSpace**</span></span>             | <span data-ttu-id="b2fe5-137">Должен быть \_ БС NS.</span><span class="sxs-lookup"><span data-stu-id="b2fe5-137">Must be NS\_BTH.</span></span>                                                                                                                                                                                           | <span data-ttu-id="b2fe5-138">Возвращает **\_ БС NS**.</span><span class="sxs-lookup"><span data-stu-id="b2fe5-138">Returns **NS\_BTH**.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                            |
| <span data-ttu-id="b2fe5-139">**лпнспровидерид**</span><span class="sxs-lookup"><span data-stu-id="b2fe5-139">**lpNSProviderId**</span></span>          | <span data-ttu-id="b2fe5-140">Не используется.</span><span class="sxs-lookup"><span data-stu-id="b2fe5-140">Not used.</span></span>                                                                                                                                                                                                  | <span data-ttu-id="b2fe5-141">Не используется.</span><span class="sxs-lookup"><span data-stu-id="b2fe5-141">Not used.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                       |
| <span data-ttu-id="b2fe5-142">**лпсзконтекст**</span><span class="sxs-lookup"><span data-stu-id="b2fe5-142">**lpszContext**</span></span>             | <span data-ttu-id="b2fe5-143">Не используется.</span><span class="sxs-lookup"><span data-stu-id="b2fe5-143">Not used.</span></span>                                                                                                                                                                                                  | <span data-ttu-id="b2fe5-144">Не используется.</span><span class="sxs-lookup"><span data-stu-id="b2fe5-144">Not used.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                       |
| <span data-ttu-id="b2fe5-145">**двнумберофпротоколс**</span><span class="sxs-lookup"><span data-stu-id="b2fe5-145">**dwNumberOfProtocols**</span></span>     | <span data-ttu-id="b2fe5-146">Не используется.</span><span class="sxs-lookup"><span data-stu-id="b2fe5-146">Not used.</span></span>                                                                                                                                                                                                  | <span data-ttu-id="b2fe5-147">Не используется.</span><span class="sxs-lookup"><span data-stu-id="b2fe5-147">Not used.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                       |
| <span data-ttu-id="b2fe5-148">**лпафппротоколс**</span><span class="sxs-lookup"><span data-stu-id="b2fe5-148">**lpafpProtocols**</span></span>          | <span data-ttu-id="b2fe5-149">Не используется.</span><span class="sxs-lookup"><span data-stu-id="b2fe5-149">Not used.</span></span>                                                                                                                                                                                                  | <span data-ttu-id="b2fe5-150">Не используется.</span><span class="sxs-lookup"><span data-stu-id="b2fe5-150">Not used.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                       |
| <span data-ttu-id="b2fe5-151">**лпсзкуеристринг**</span><span class="sxs-lookup"><span data-stu-id="b2fe5-151">**lpszQueryString**</span></span>         | <span data-ttu-id="b2fe5-152">Не используется.</span><span class="sxs-lookup"><span data-stu-id="b2fe5-152">Not used.</span></span>                                                                                                                                                                                                  | <span data-ttu-id="b2fe5-153">Не используется.</span><span class="sxs-lookup"><span data-stu-id="b2fe5-153">Not used.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                       |
| <span data-ttu-id="b2fe5-154">**двнумберофксаддрс**</span><span class="sxs-lookup"><span data-stu-id="b2fe5-154">**dwNumberOfCsAddrs**</span></span>       | <span data-ttu-id="b2fe5-155">Не используется.</span><span class="sxs-lookup"><span data-stu-id="b2fe5-155">Not used.</span></span>                                                                                                                                                                                                  | <span data-ttu-id="b2fe5-156">Указывает количество элементов в массиве структур [**\_ сведений ксаддр**](/windows/desktop/api/nspapi/ns-nspapi-csaddr_info) .</span><span class="sxs-lookup"><span data-stu-id="b2fe5-156">Indicates the number of elements in the array of [**CSADDR\_INFO**](/windows/desktop/api/nspapi/ns-nspapi-csaddr_info) structures.</span></span>                                                                                                                                                                                                                                                                                                                          |
| <span data-ttu-id="b2fe5-157">**лпксабуффер**</span><span class="sxs-lookup"><span data-stu-id="b2fe5-157">**lpcsaBuffer**</span></span>             | <span data-ttu-id="b2fe5-158">Не используется.</span><span class="sxs-lookup"><span data-stu-id="b2fe5-158">Not used.</span></span>                                                                                                                                                                                                  | <span data-ttu-id="b2fe5-159">Указатель на структуру [**\_ сведений ксаддр**](/windows/desktop/api/nspapi/ns-nspapi-csaddr_info) с элементом **локаладдр. лпсоккаддр** , указывающим на структуру [**SOCKADDR \_ БС**](/windows/desktop/api/Ws2bth/ns-ws2bth-sockaddr_bth) с адресом удаленного устройства.</span><span class="sxs-lookup"><span data-stu-id="b2fe5-159">Pointer to a [**CSADDR\_INFO**](/windows/desktop/api/nspapi/ns-nspapi-csaddr_info) structure with its **LocalAddr.lpSockaddr** member pointing to a [**SOCKADDR\_BTH**](/windows/desktop/api/Ws2bth/ns-ws2bth-sockaddr_bth) structure with the address of the remote device.</span></span> <span data-ttu-id="b2fe5-160">Возвращается, если указан **Луп \_ возвращаемый \_ адрес** .</span><span class="sxs-lookup"><span data-stu-id="b2fe5-160">Returned if **LUP\_RETURN\_ADDR** is specified.</span></span>                                                                                                                                                                  |
| <span data-ttu-id="b2fe5-161">**лпблоб**</span><span class="sxs-lookup"><span data-stu-id="b2fe5-161">**lpBlob**</span></span>                  | <span data-ttu-id="b2fe5-162">Необязательный элемент.</span><span class="sxs-lookup"><span data-stu-id="b2fe5-162">Optional.</span></span> <span data-ttu-id="b2fe5-163">Может указывать на структуру [**большого двоичного объекта**](/windows/desktop/api/nspapi/ns-nspapi-blob) , указывающую на структуру [**\_ \_ устройства запроса БС**](/windows/desktop/api/Ws2bth/ns-ws2bth-bth_query_device) , которая может ограничивать длину некэшированных операций запроса устройства.</span><span class="sxs-lookup"><span data-stu-id="b2fe5-163">May point to a [**BLOB**](/windows/desktop/api/nspapi/ns-nspapi-blob) structure that points to a [**BTH\_QUERY\_DEVICE**](/windows/desktop/api/Ws2bth/ns-ws2bth-bth_query_device) structure that may limit the length of non-cached device inquiry operations.</span></span> | <span data-ttu-id="b2fe5-164">Указатель на структуру [**большого двоичного объекта**](/windows/desktop/api/nspapi/ns-nspapi-blob) , указывающую на структуру [**\_ \_ сведений об устройстве БС**](/windows/desktop/api/Bthdef/ns-bthdef-bth_device_info) .</span><span class="sxs-lookup"><span data-stu-id="b2fe5-164">Pointer to a [**BLOB**](/windows/desktop/api/nspapi/ns-nspapi-blob) structure that points to a [**BTH\_DEVICE\_INFO**](/windows/desktop/api/Bthdef/ns-bthdef-bth_device_info) structure.</span></span> <span data-ttu-id="b2fe5-165">**лпблоб** возвращается, если указан **Луп \_ возвращаемый \_ BLOB-объект** .</span><span class="sxs-lookup"><span data-stu-id="b2fe5-165">**lpBlob** is returned if **LUP\_RETURN\_BLOB** is specified.</span></span> <span data-ttu-id="b2fe5-166">Укажите **\_ \_ имя возвращаемого значения Луп** , чтобы получить поле "имя" **\_ \_ сведений об устройстве БС**.</span><span class="sxs-lookup"><span data-stu-id="b2fe5-166">Specify **LUP\_RETURN\_NAME** to retrieve the name field of **BTH\_DEVICE\_INFO**.</span></span>                                                                                                                                                     |



 

## <a name="related-topics"></a><span data-ttu-id="b2fe5-167">См. также</span><span class="sxs-lookup"><span data-stu-id="b2fe5-167">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="b2fe5-168">Bluetooth и ВСАКУЕРИСЕТ для Set Service</span><span class="sxs-lookup"><span data-stu-id="b2fe5-168">Bluetooth and WSAQUERYSET for Set Service</span></span>](bluetooth-and-wsaqueryset-for-set-service.md)
</dt> <dt>

[<span data-ttu-id="b2fe5-169">Bluetooth и ВСАКУЕРИСЕТ для запроса на обслуживание</span><span class="sxs-lookup"><span data-stu-id="b2fe5-169">Bluetooth and WSAQUERYSET for Service Inquiry</span></span>](bluetooth-and-wsaqueryset-for-service-inquiry.md)
</dt> <dt>

[<span data-ttu-id="b2fe5-170">Bluetooth и большой двоичный объект</span><span class="sxs-lookup"><span data-stu-id="b2fe5-170">Bluetooth and BLOB</span></span>](bluetooth-and-blob.md)
</dt> <dt>

[<span data-ttu-id="b2fe5-171">Bluetooth и Всалукупсервицебегин</span><span class="sxs-lookup"><span data-stu-id="b2fe5-171">Bluetooth and WSALookupServiceBegin</span></span>](bluetooth-and-wsasetservice.md)
</dt> <dt>

[<span data-ttu-id="b2fe5-172">Bluetooth и Всалукупсервиценекст</span><span class="sxs-lookup"><span data-stu-id="b2fe5-172">Bluetooth and WSALookupServiceNext</span></span>](bluetooth-and-wsasetservice.md)
</dt> <dt>

[<span data-ttu-id="b2fe5-173">**ОБЪЕКТЕ**</span><span class="sxs-lookup"><span data-stu-id="b2fe5-173">**BLOB**</span></span>](/windows/desktop/api/nspapi/ns-nspapi-blob)
</dt> <dt>

[<span data-ttu-id="b2fe5-174">**\_ \_ сведения об устройстве БС**</span><span class="sxs-lookup"><span data-stu-id="b2fe5-174">**BTH\_DEVICE\_INFO**</span></span>](/windows/desktop/api/Bthdef/ns-bthdef-bth_device_info)
</dt> <dt>

[<span data-ttu-id="b2fe5-175">**БС \_ запрос \_ устройства**</span><span class="sxs-lookup"><span data-stu-id="b2fe5-175">**BTH\_QUERY\_DEVICE**</span></span>](/windows/desktop/api/Ws2bth/ns-ws2bth-bth_query_device)
</dt> <dt>

[<span data-ttu-id="b2fe5-176">**\_сведения о ксаддр**</span><span class="sxs-lookup"><span data-stu-id="b2fe5-176">**CSADDR\_INFO**</span></span>](/windows/desktop/api/nspapi/ns-nspapi-csaddr_info)
</dt> <dt>

[<span data-ttu-id="b2fe5-177">**SOCKADDR \_ БС**</span><span class="sxs-lookup"><span data-stu-id="b2fe5-177">**SOCKADDR\_BTH**</span></span>](/windows/desktop/api/Ws2bth/ns-ws2bth-sockaddr_bth)
</dt> <dt>

[<span data-ttu-id="b2fe5-178">**всакуерисет**</span><span class="sxs-lookup"><span data-stu-id="b2fe5-178">**WSAQUERYSET**</span></span>](/windows/desktop/api/winsock2/ns-winsock2-wsaquerysetw)
</dt> <dt>

[<span data-ttu-id="b2fe5-179">Сокеты Windows</span><span class="sxs-lookup"><span data-stu-id="b2fe5-179">Windows Sockets</span></span>](/windows/desktop/WinSock/windows-sockets-start-page-2)
</dt> </dl>

 

