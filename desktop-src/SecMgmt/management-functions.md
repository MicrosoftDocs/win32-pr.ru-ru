---
description: Список функций поддержки, предоставляемых набором средств настройки безопасности.
ms.assetid: 5a771014-1706-490f-8540-ec516652cb83
title: Функции управления безопасностью
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 9f5c17efd55b1dbb806295ac0a83763257ffcc97
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "103912256"
---
# <a name="security-management-functions"></a><span data-ttu-id="1593d-103">Функции управления безопасностью</span><span class="sxs-lookup"><span data-stu-id="1593d-103">Security Management Functions</span></span>

<span data-ttu-id="1593d-104">В этом разделе содержатся подразделы для следующих групп функций.</span><span class="sxs-lookup"><span data-stu-id="1593d-104">This section contains topics for the following groups of functions:</span></span>

-   [<span data-ttu-id="1593d-105">Функции обратного вызова вложений</span><span class="sxs-lookup"><span data-stu-id="1593d-105">Attachment Callback Functions</span></span>](#attachment-callback-functions)
-   [<span data-ttu-id="1593d-106">Функции подсистемы вложений</span><span class="sxs-lookup"><span data-stu-id="1593d-106">Attachment Engine Functions</span></span>](#attachment-engine-functions)
-   [<span data-ttu-id="1593d-107">Функции политики LSA</span><span class="sxs-lookup"><span data-stu-id="1593d-107">LSA Policy Functions</span></span>](#lsa-policy-functions)
    -   [<span data-ttu-id="1593d-108">Функции политики</span><span class="sxs-lookup"><span data-stu-id="1593d-108">Policy Functions</span></span>](#lsa-policy-functions)
    -   [<span data-ttu-id="1593d-109">Функции учетной записи</span><span class="sxs-lookup"><span data-stu-id="1593d-109">Account Functions</span></span>](#account-functions)
    -   [<span data-ttu-id="1593d-110">Функции доверенного домена</span><span class="sxs-lookup"><span data-stu-id="1593d-110">Trusted Domain Functions</span></span>](#trusted-domain-functions)
    -   [<span data-ttu-id="1593d-111">Закрытые функции данных</span><span class="sxs-lookup"><span data-stu-id="1593d-111">Private Data Functions</span></span>](#private-data-functions)
    -   [<span data-ttu-id="1593d-112">Прочие функции</span><span class="sxs-lookup"><span data-stu-id="1593d-112">Miscellaneous Functions</span></span>](#miscellaneous-functions)
-   [<span data-ttu-id="1593d-113">Функции управляемой учетной записи службы</span><span class="sxs-lookup"><span data-stu-id="1593d-113">Managed Service Account Functions</span></span>](#managed-service-account-functions)
-   [<span data-ttu-id="1593d-114">Функции фильтрации паролей</span><span class="sxs-lookup"><span data-stu-id="1593d-114">Password Filter Functions</span></span>](#password-filter-functions)
-   [<span data-ttu-id="1593d-115">Более безопасные функции</span><span class="sxs-lookup"><span data-stu-id="1593d-115">Safer Functions</span></span>](#safer-functions)

## <a name="attachment-callback-functions"></a><span data-ttu-id="1593d-116">Функции обратного вызова вложений</span><span class="sxs-lookup"><span data-stu-id="1593d-116">Attachment Callback Functions</span></span>

<span data-ttu-id="1593d-117">Следующие функции поддержки предоставляются набором средств настройки безопасности и могут использоваться модулями вложений и расширениями для чтения и записи данных конфигурации.</span><span class="sxs-lookup"><span data-stu-id="1593d-117">The following support functions are provided by the Security Configuration tool set and may be used by attachment engines and extension snap-ins to read and write configuration data.</span></span>



| <span data-ttu-id="1593d-118">Функция обратного вызова</span><span class="sxs-lookup"><span data-stu-id="1593d-118">Callback function</span></span>                                         | <span data-ttu-id="1593d-119">Описание</span><span class="sxs-lookup"><span data-stu-id="1593d-119">Description</span></span>                                                                                 |
|-----------------------------------------------------------|---------------------------------------------------------------------------------------------|
| [<span data-ttu-id="1593d-120">**\_бесплатная \_ информация пфсце**</span><span class="sxs-lookup"><span data-stu-id="1593d-120">**PFSCE\_FREE\_INFO**</span></span>](/windows/win32/api/scesvc/nc-scesvc-pfsce_free_info)<br/>   | <span data-ttu-id="1593d-121">Используется для освобождения памяти, выделенной этими функциями поддержки.</span><span class="sxs-lookup"><span data-stu-id="1593d-121">Used to free memory allocated by these support functions.</span></span><br/>                        |
| [<span data-ttu-id="1593d-122">**\_ \_ сведения о журнале пфсце**</span><span class="sxs-lookup"><span data-stu-id="1593d-122">**PFSCE\_LOG\_INFO**</span></span>](/windows/win32/api/scesvc/nc-scesvc-pfsce_log_info)<br/>     | <span data-ttu-id="1593d-123">Используется для записи сообщений в файл журнала конфигурации или в файл журнала анализа.</span><span class="sxs-lookup"><span data-stu-id="1593d-123">Used to log message to the configuration log file or analysis log file.</span></span><br/>          |
| [<span data-ttu-id="1593d-124">**\_ \_ сведения о запросе пфсце**</span><span class="sxs-lookup"><span data-stu-id="1593d-124">**PFSCE\_QUERY\_INFO**</span></span>](/windows/win32/api/scesvc/nc-scesvc-pfsce_query_info)<br/> | <span data-ttu-id="1593d-125">Используется для запроса сведений о конфигурации и анализе для определенной службы.</span><span class="sxs-lookup"><span data-stu-id="1593d-125">Used to query the configuration and analysis information for a specific service.</span></span><br/> |
| [<span data-ttu-id="1593d-126">**\_сведения о наборе пфсце \_**</span><span class="sxs-lookup"><span data-stu-id="1593d-126">**PFSCE\_SET\_INFO**</span></span>](/windows/win32/api/scesvc/nc-scesvc-pfsce_set_info)<br/>     | <span data-ttu-id="1593d-127">Используется для задания сведений о конфигурации и анализе для конкретной службы.</span><span class="sxs-lookup"><span data-stu-id="1593d-127">Used to set configuration and analysis information for a specific service.</span></span><br/>       |



 

## <a name="attachment-engine-functions"></a><span data-ttu-id="1593d-128">Функции подсистемы вложений</span><span class="sxs-lookup"><span data-stu-id="1593d-128">Attachment Engine Functions</span></span>



| <span data-ttu-id="1593d-129">Функция</span><span class="sxs-lookup"><span data-stu-id="1593d-129">Function</span></span>                                                              | <span data-ttu-id="1593d-130">Описание</span><span class="sxs-lookup"><span data-stu-id="1593d-130">Description</span></span>                                                                                                                                                                                       |
|-----------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="1593d-131">**сцесвкаттачментанализе**</span><span class="sxs-lookup"><span data-stu-id="1593d-131">**SceSvcAttachmentAnalyze**</span></span>](scesvcattachmentanalyze.md)<br/> | <span data-ttu-id="1593d-132">Реализовано библиотекой DLL подсистемы вложений.</span><span class="sxs-lookup"><span data-stu-id="1593d-132">Implemented by the attachment engine DLL.</span></span> <span data-ttu-id="1593d-133">Подсистема настройки безопасности вызывает эту функцию при анализе системы.</span><span class="sxs-lookup"><span data-stu-id="1593d-133">The Security Configuration Engine calls this function when the system is analyzed.</span></span><br/>                                                           |
| [<span data-ttu-id="1593d-134">**сцесвкаттачментконфиг**</span><span class="sxs-lookup"><span data-stu-id="1593d-134">**SceSvcAttachmentConfig**</span></span>](scesvcattachmentconfig.md)<br/>   | <span data-ttu-id="1593d-135">Реализовано библиотекой DLL подсистемы вложений.</span><span class="sxs-lookup"><span data-stu-id="1593d-135">Implemented by the attachment engine DLL.</span></span> <span data-ttu-id="1593d-136">Подсистема настройки безопасности вызывает эту функцию при настройке системы.</span><span class="sxs-lookup"><span data-stu-id="1593d-136">The Security Configuration Engine calls this function when the system is configured.</span></span><br/>                                                         |
| [<span data-ttu-id="1593d-137">**сцесвкаттачментупдате**</span><span class="sxs-lookup"><span data-stu-id="1593d-137">**SceSvcAttachmentUpdate**</span></span>](scesvcattachmentupdate.md)<br/>   | <span data-ttu-id="1593d-138">Реализовано библиотекой DLL подсистемы вложений.</span><span class="sxs-lookup"><span data-stu-id="1593d-138">Implemented by the attachment engine DLL.</span></span> <span data-ttu-id="1593d-139">Подсистема настройки безопасности вызывает эту функцию при получении запроса на обновление конфигурации из расширения оснастки вложения.</span><span class="sxs-lookup"><span data-stu-id="1593d-139">The Security Configuration Engine calls this function when it receives a configuration update request from the attachment snap-in extension.</span></span><br/> |



 

## <a name="lsa-policy-functions"></a><span data-ttu-id="1593d-140">Функции политики LSA</span><span class="sxs-lookup"><span data-stu-id="1593d-140">LSA Policy Functions</span></span>

<span data-ttu-id="1593d-141">В следующих разделах приведены справочные сведения о функциях политики [*локального центра безопасности*](/windows/desktop/SecGloss/l-gly) (LSA).</span><span class="sxs-lookup"><span data-stu-id="1593d-141">The following topics provide reference information for the [*Local Security Authority*](/windows/desktop/SecGloss/l-gly) (LSA) Policy functions.</span></span>



| <span data-ttu-id="1593d-142">Раздел</span><span class="sxs-lookup"><span data-stu-id="1593d-142">Topic</span></span>                               | <span data-ttu-id="1593d-143">Описание</span><span class="sxs-lookup"><span data-stu-id="1593d-143">Description</span></span>                                                                                                                                                                                   |
|-------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="1593d-144">Функции политики</span><span class="sxs-lookup"><span data-stu-id="1593d-144">Policy Functions</span></span><br/>         | <span data-ttu-id="1593d-145">Функции сведений, используемые для открытия объекта локальной [**политики**](policy-object.md) и для установки или получения сведений о глобальных политиках.</span><span class="sxs-lookup"><span data-stu-id="1593d-145">Details functions used to open the local [**Policy**](policy-object.md) object and to set or retrieve global policy information.</span></span><br/>                                                  |
| <span data-ttu-id="1593d-146">Функции учетной записи</span><span class="sxs-lookup"><span data-stu-id="1593d-146">Account Functions</span></span><br/>        | <span data-ttu-id="1593d-147">Сведения о функциях, используемых для управления разрешениями учетной записи и создания и удаления учетных записей пользователей.</span><span class="sxs-lookup"><span data-stu-id="1593d-147">Details functions used to manage account permissions and to create and delete user accounts.</span></span><br/>                                                                                       |
| <span data-ttu-id="1593d-148">Функции доверенного домена</span><span class="sxs-lookup"><span data-stu-id="1593d-148">Trusted Domain Functions</span></span><br/> | <span data-ttu-id="1593d-149">Сведения о функциях, используемых для создания и удаления отношений доверия между доменами, а также для установки и получения сведений об этих доверенных доменах.</span><span class="sxs-lookup"><span data-stu-id="1593d-149">Details functions used to create and delete trusted domain relationships and to set and retrieve information about those trusted domains.</span></span><br/>                                          |
| <span data-ttu-id="1593d-150">Закрытые функции данных</span><span class="sxs-lookup"><span data-stu-id="1593d-150">Private Data Functions</span></span><br/>   | <span data-ttu-id="1593d-151">Не используйте закрытые функции данных LSA.</span><span class="sxs-lookup"><span data-stu-id="1593d-151">Do not use the LSA private data functions.</span></span> <span data-ttu-id="1593d-152">Вместо этого используйте функции [**CryptProtectData**](/windows/desktop/api/dpapi/nf-dpapi-cryptprotectdata) и [**CryptUnprotectData**](/windows/desktop/api/dpapi/nf-dpapi-cryptunprotectdata) .</span><span class="sxs-lookup"><span data-stu-id="1593d-152">Instead, use the [**CryptProtectData**](/windows/desktop/api/dpapi/nf-dpapi-cryptprotectdata) and [**CryptUnprotectData**](/windows/desktop/api/dpapi/nf-dpapi-cryptunprotectdata) functions.</span></span><br/> |
| <span data-ttu-id="1593d-153">Прочие функции</span><span class="sxs-lookup"><span data-stu-id="1593d-153">Miscellaneous Functions</span></span><br/>  | <span data-ttu-id="1593d-154">Функции сведений, не описанные в других местах.</span><span class="sxs-lookup"><span data-stu-id="1593d-154">Details functions not described elsewhere.</span></span><br/>                                                                                                                                         |



 

### <a name="policy-functions"></a><span data-ttu-id="1593d-155">Функции политики</span><span class="sxs-lookup"><span data-stu-id="1593d-155">Policy Functions</span></span>

<span data-ttu-id="1593d-156">Следующие функции перечисляют учетные записи пользователей и доверенные домены, получают уведомления об изменении политик, а также имена учетных записей и идентификаторы безопасности.</span><span class="sxs-lookup"><span data-stu-id="1593d-156">The following functions enumerate user accounts and trusted domains, receive policy change notifications, and lookup account names and SIDs.</span></span>



| <span data-ttu-id="1593d-157">Функция</span><span class="sxs-lookup"><span data-stu-id="1593d-157">Function</span></span>                                                                                          | <span data-ttu-id="1593d-158">Описание</span><span class="sxs-lookup"><span data-stu-id="1593d-158">Description</span></span>                                                                                                                                                                                                                                                                                                                                           |
|---------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="1593d-159">**лсаенумератеаккаунтсвисусерригхт**</span><span class="sxs-lookup"><span data-stu-id="1593d-159">**LsaEnumerateAccountsWithUserRight**</span></span>](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsaenumerateaccountswithuserright)<br/>         | <span data-ttu-id="1593d-160">Перечисляет все учетные записи с указанными разрешениями пользователя.</span><span class="sxs-lookup"><span data-stu-id="1593d-160">Enumerates all the accounts that have a specified user permission.</span></span><br/>                                                                                                                                                                                                                                                                         |
| [<span data-ttu-id="1593d-161">**лсаенумератетрустеддомаинсекс**</span><span class="sxs-lookup"><span data-stu-id="1593d-161">**LsaEnumerateTrustedDomainsEx**</span></span>](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsaenumeratetrusteddomainsex)<br/>                   | <span data-ttu-id="1593d-162">Перечисляет доверенные домены.</span><span class="sxs-lookup"><span data-stu-id="1593d-162">Enumerates the trusted domains.</span></span><br/>                                                                                                                                                                                                                                                                                                            |
| [<span data-ttu-id="1593d-163">**лсалукупнамес**</span><span class="sxs-lookup"><span data-stu-id="1593d-163">**LsaLookupNames**</span></span>](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsalookupnames)<br/>                                               | <span data-ttu-id="1593d-164">Сопоставляет указанные имена с их идентификаторами безопасности.</span><span class="sxs-lookup"><span data-stu-id="1593d-164">Maps the specified names to their SIDs.</span></span> <span data-ttu-id="1593d-165">Возвращает идентификатор безопасности в виде пары идентификаторов безопасности RID или домена.</span><span class="sxs-lookup"><span data-stu-id="1593d-165">Returns the SID as an RID/Domain SID pair.</span></span><br/>                                                                                                                                                                                                                                                         |
| [<span data-ttu-id="1593d-166">**LsaLookupNames2**</span><span class="sxs-lookup"><span data-stu-id="1593d-166">**LsaLookupNames2**</span></span>](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsalookupnames2)<br/>                                             | <span data-ttu-id="1593d-167">Сопоставляет указанные имена с их идентификаторами безопасности.</span><span class="sxs-lookup"><span data-stu-id="1593d-167">Maps the specified names to their SIDs.</span></span> <span data-ttu-id="1593d-168">Возвращает идентификатор безопасности в виде одного элемента.</span><span class="sxs-lookup"><span data-stu-id="1593d-168">Returns the SID as a single element.</span></span><br/>                                                                                                                                                                                                                                                               |
| [<span data-ttu-id="1593d-169">**лсалукуппривилежевалуе**</span><span class="sxs-lookup"><span data-stu-id="1593d-169">**LsaLookupPrivilegeValue**</span></span>](/windows/desktop/api/ntlsa/nf-ntlsa-lsalookupprivilegevalue)<br/>                             | <span data-ttu-id="1593d-170">Извлекает [*локально уникальный идентификатор*](/windows/desktop/SecGloss/l-gly) (LUID), используемый [*локальным администратором безопасности*](/windows/desktop/SecGloss/l-gly) (LSA) для представления указанного имени привилегии.</span><span class="sxs-lookup"><span data-stu-id="1593d-170">Retrieves the [*locally unique identifier*](/windows/desktop/SecGloss/l-gly) (LUID) used by the [*Local Security Authority*](/windows/desktop/SecGloss/l-gly) (LSA) to represent the specified privilege name.</span></span><br/> |
| [<span data-ttu-id="1593d-171">**лсалукупсидс**</span><span class="sxs-lookup"><span data-stu-id="1593d-171">**LsaLookupSids**</span></span>](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsalookupsids)<br/>                                                 | <span data-ttu-id="1593d-172">Сопоставляет указанные имена учетных записей с их идентификаторами безопасности.</span><span class="sxs-lookup"><span data-stu-id="1593d-172">Maps the specified account names to their SIDs.</span></span><br/>                                                                                                                                                                                                                                                                                            |
| [<span data-ttu-id="1593d-173">**лсарегистерполицичанженотификатион**</span><span class="sxs-lookup"><span data-stu-id="1593d-173">**LsaRegisterPolicyChangeNotification**</span></span>](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsaregisterpolicychangenotification)<br/>     | <span data-ttu-id="1593d-174">Регистрирует объект события для получения уведомлений при изменении сведений о локальной политике.</span><span class="sxs-lookup"><span data-stu-id="1593d-174">Registers an event object to receive notifications when the local policy information changes.</span></span><br/>                                                                                                                                                                                                                                              |
| [<span data-ttu-id="1593d-175">**лсаунрегистерполицичанженотификатион**</span><span class="sxs-lookup"><span data-stu-id="1593d-175">**LsaUnregisterPolicyChangeNotification**</span></span>](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsaunregisterpolicychangenotification)<br/> | <span data-ttu-id="1593d-176">Отменяет регистрацию объекта события, получающего уведомления об изменении политики.</span><span class="sxs-lookup"><span data-stu-id="1593d-176">Unregisters an event object that is receiving policy change notifications.</span></span><br/>                                                                                                                                                                                                                                                                 |



 

### <a name="account-functions"></a><span data-ttu-id="1593d-177">Функции учетной записи</span><span class="sxs-lookup"><span data-stu-id="1593d-177">Account Functions</span></span>

<span data-ttu-id="1593d-178">Следующие функции добавляют, перечисляют и удаляют разрешения для учетной записи.</span><span class="sxs-lookup"><span data-stu-id="1593d-178">The following functions add, enumerate, and delete permissions for an account.</span></span>



| <span data-ttu-id="1593d-179">Функция</span><span class="sxs-lookup"><span data-stu-id="1593d-179">Function</span></span>                                                                  | <span data-ttu-id="1593d-180">Описание</span><span class="sxs-lookup"><span data-stu-id="1593d-180">Description</span></span>                                                                                                  |
|---------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="1593d-181">**лсааддаккаунтригхтс**</span><span class="sxs-lookup"><span data-stu-id="1593d-181">**LsaAddAccountRights**</span></span>](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsaaddaccountrights)<br/>             | <span data-ttu-id="1593d-182">Добавьте разрешения для учетной записи.</span><span class="sxs-lookup"><span data-stu-id="1593d-182">Add permissions to an account.</span></span> <span data-ttu-id="1593d-183">Если учетная запись еще не существует, она будет создана.</span><span class="sxs-lookup"><span data-stu-id="1593d-183">If the account does not already exist, it is created.</span></span><br/>              |
| [<span data-ttu-id="1593d-184">**лсаенумератеаккаунтригхтс**</span><span class="sxs-lookup"><span data-stu-id="1593d-184">**LsaEnumerateAccountRights**</span></span>](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsaenumerateaccountrights)<br/> | <span data-ttu-id="1593d-185">Перечисление разрешений, предоставленных учетной записи.</span><span class="sxs-lookup"><span data-stu-id="1593d-185">Enumerate the permissions granted to an account.</span></span><br/>                                                  |
| [<span data-ttu-id="1593d-186">**лсаремовеаккаунтригхтс**</span><span class="sxs-lookup"><span data-stu-id="1593d-186">**LsaRemoveAccountRights**</span></span>](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsaremoveaccountrights)<br/>       | <span data-ttu-id="1593d-187">Удаление разрешений из учетной записи.</span><span class="sxs-lookup"><span data-stu-id="1593d-187">Remove permissions from an account.</span></span> <span data-ttu-id="1593d-188">При удалении всех разрешений учетная запись удаляется.</span><span class="sxs-lookup"><span data-stu-id="1593d-188">When all the permissions are removed, the account is deleted.</span></span><br/> |



 

### <a name="trusted-domain-functions"></a><span data-ttu-id="1593d-189">Функции доверенного домена</span><span class="sxs-lookup"><span data-stu-id="1593d-189">Trusted Domain Functions</span></span>

<span data-ttu-id="1593d-190">Следующие функции создают, перечисляют и удаляют доверенные домены, а также устанавливают и извлекают сведения о доверенном домене.</span><span class="sxs-lookup"><span data-stu-id="1593d-190">The following functions create, enumerate, and delete trusted domains and set and retrieve trusted domain information.</span></span>



| <span data-ttu-id="1593d-191">Функция</span><span class="sxs-lookup"><span data-stu-id="1593d-191">Function</span></span>                                                                                                                                                    | <span data-ttu-id="1593d-192">Описание</span><span class="sxs-lookup"><span data-stu-id="1593d-192">Description</span></span>                                                                               |
|-------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------|
| [<span data-ttu-id="1593d-193">**лсакреатетрустеддомаинекс**</span><span class="sxs-lookup"><span data-stu-id="1593d-193">**LsaCreateTrustedDomainEx**</span></span>](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsacreatetrusteddomainex)<br/>                                                                                     | <span data-ttu-id="1593d-194">Создает новый объект [**трустеддомаин**](trusteddomain-object.md) .</span><span class="sxs-lookup"><span data-stu-id="1593d-194">Creates a new [**TrustedDomain**](trusteddomain-object.md) object.</span></span><br/>            |
| [<span data-ttu-id="1593d-195">**лсаделететрустеддомаин**</span><span class="sxs-lookup"><span data-stu-id="1593d-195">**LsaDeleteTrustedDomain**</span></span>](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsadeletetrusteddomain)<br/>                                                                                         | <span data-ttu-id="1593d-196">Удаляет объект [**трустеддомаин**](trusteddomain-object.md) .</span><span class="sxs-lookup"><span data-stu-id="1593d-196">Removes a [**TrustedDomain**](trusteddomain-object.md) object.</span></span><br/>                |
| [<span data-ttu-id="1593d-197">**лсаенумератетрустеддомаинс**</span><span class="sxs-lookup"><span data-stu-id="1593d-197">**LsaEnumerateTrustedDomains**</span></span>](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsaenumeratetrusteddomains)<br/> [<span data-ttu-id="1593d-198">**лсаенумератетрустеддомаинсекс**</span><span class="sxs-lookup"><span data-stu-id="1593d-198">**LsaEnumerateTrustedDomainsEx**</span></span>](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsaenumeratetrusteddomainsex)<br/> | <span data-ttu-id="1593d-199">Перечисляет домены, которые в настоящее время являются доверенными для локальной системы.</span><span class="sxs-lookup"><span data-stu-id="1593d-199">Enumerates the domains currently trusted by the local system.</span></span><br/>                  |
| [<span data-ttu-id="1593d-200">**лсаопентрустеддомаинбинаме**</span><span class="sxs-lookup"><span data-stu-id="1593d-200">**LsaOpenTrustedDomainByName**</span></span>](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsaopentrusteddomainbyname)<br/>                                                                                 | <span data-ttu-id="1593d-201">Открывает обработчик для объекта [**трустеддомаин**](trusteddomain-object.md) .</span><span class="sxs-lookup"><span data-stu-id="1593d-201">Opens a handle to a [**TrustedDomain**](trusteddomain-object.md) object.</span></span><br/>      |
| [<span data-ttu-id="1593d-202">**лсакуеритрустеддомаининфо**</span><span class="sxs-lookup"><span data-stu-id="1593d-202">**LsaQueryTrustedDomainInfo**</span></span>](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsaquerytrusteddomaininfo)<br/>                                                                                   | <span data-ttu-id="1593d-203">Извлекает сведения о доверенном домене.</span><span class="sxs-lookup"><span data-stu-id="1593d-203">Retrieves information about a trusted domain.</span></span> <span data-ttu-id="1593d-204">Домен указывается с помощью идентификатора безопасности.</span><span class="sxs-lookup"><span data-stu-id="1593d-204">The domain is specified by SID.</span></span><br/>  |
| [<span data-ttu-id="1593d-205">**LsaQueryTrustedDomainInfoByName**</span><span class="sxs-lookup"><span data-stu-id="1593d-205">**LsaQueryTrustedDomainInfoByName**</span></span>](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsaquerytrusteddomaininfobyname)<br/>                                                                       | <span data-ttu-id="1593d-206">Извлекает сведения о доверенном домене.</span><span class="sxs-lookup"><span data-stu-id="1593d-206">Retrieves information about a trusted domain.</span></span> <span data-ttu-id="1593d-207">Домен указывается по имени.</span><span class="sxs-lookup"><span data-stu-id="1593d-207">The domain is specified by name.</span></span><br/> |
| [<span data-ttu-id="1593d-208">**лсасеттрустеддомаининфобинаме**</span><span class="sxs-lookup"><span data-stu-id="1593d-208">**LsaSetTrustedDomainInfoByName**</span></span>](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsasettrusteddomaininfobyname)<br/>                                                                           | <span data-ttu-id="1593d-209">Задает сведения для доверенного домена.</span><span class="sxs-lookup"><span data-stu-id="1593d-209">Sets information for a trusted domain.</span></span> <span data-ttu-id="1593d-210">Домен указывается по имени.</span><span class="sxs-lookup"><span data-stu-id="1593d-210">The domain is specified by name.</span></span><br/>        |
| [<span data-ttu-id="1593d-211">**лсасеттрустеддомаининформатион**</span><span class="sxs-lookup"><span data-stu-id="1593d-211">**LsaSetTrustedDomainInformation**</span></span>](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsasettrusteddomaininformation)<br/>                                                                         | <span data-ttu-id="1593d-212">Задает сведения для доверенного домена.</span><span class="sxs-lookup"><span data-stu-id="1593d-212">Sets information for a trusted domain.</span></span> <span data-ttu-id="1593d-213">Домен указывается с помощью идентификатора безопасности.</span><span class="sxs-lookup"><span data-stu-id="1593d-213">The domain is specified by SID.</span></span><br/>         |



 

### <a name="private-data-functions"></a><span data-ttu-id="1593d-214">Закрытые функции данных</span><span class="sxs-lookup"><span data-stu-id="1593d-214">Private Data Functions</span></span>

<span data-ttu-id="1593d-215">Не используйте закрытые функции данных LSA.</span><span class="sxs-lookup"><span data-stu-id="1593d-215">Do not use the LSA private data functions.</span></span> <span data-ttu-id="1593d-216">Вместо этого используйте функции [**CryptProtectData**](/windows/desktop/api/dpapi/nf-dpapi-cryptprotectdata) и [**CryptUnprotectData**](/windows/desktop/api/dpapi/nf-dpapi-cryptunprotectdata) .</span><span class="sxs-lookup"><span data-stu-id="1593d-216">Instead, use the [**CryptProtectData**](/windows/desktop/api/dpapi/nf-dpapi-cryptprotectdata) and [**CryptUnprotectData**](/windows/desktop/api/dpapi/nf-dpapi-cryptunprotectdata) functions.</span></span>



| <span data-ttu-id="1593d-217">Функция</span><span class="sxs-lookup"><span data-stu-id="1593d-217">Function</span></span>                                                            | <span data-ttu-id="1593d-218">Описание</span><span class="sxs-lookup"><span data-stu-id="1593d-218">Description</span></span>                                 |
|---------------------------------------------------------------------|---------------------------------------------|
| [<span data-ttu-id="1593d-219">**лсаретриевеприватедата**</span><span class="sxs-lookup"><span data-stu-id="1593d-219">**LsaRetrievePrivateData**</span></span>](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsaretrieveprivatedata)<br/> | <span data-ttu-id="1593d-220">Извлекает и расшифровывает строку.</span><span class="sxs-lookup"><span data-stu-id="1593d-220">Retrieves and decrypts a string.</span></span><br/> |
| [<span data-ttu-id="1593d-221">**лсастореприватедата**</span><span class="sxs-lookup"><span data-stu-id="1593d-221">**LsaStorePrivateData**</span></span>](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsastoreprivatedata)<br/>       | <span data-ttu-id="1593d-222">Шифрует и сохраняет строку.</span><span class="sxs-lookup"><span data-stu-id="1593d-222">Encrypts and stores a string.</span></span><br/>    |



 

### <a name="miscellaneous-functions"></a><span data-ttu-id="1593d-223">Прочие функции</span><span class="sxs-lookup"><span data-stu-id="1593d-223">Miscellaneous Functions</span></span>

<span data-ttu-id="1593d-224">В API политики LSA имеются следующие три функции, не попадающие в какие-либо другие категории функций политики LSA.</span><span class="sxs-lookup"><span data-stu-id="1593d-224">The LSA Policy API has the following three functions that do not fit into any of the other LSA Policy function categories.</span></span>



| <span data-ttu-id="1593d-225">Функция</span><span class="sxs-lookup"><span data-stu-id="1593d-225">Function</span></span>                                                          | <span data-ttu-id="1593d-226">Описание</span><span class="sxs-lookup"><span data-stu-id="1593d-226">Description</span></span>                                                                                                                       |
|-------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="1593d-227">**лсаклосе**</span><span class="sxs-lookup"><span data-stu-id="1593d-227">**LsaClose**</span></span>](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsaclose)<br/>                           | <span data-ttu-id="1593d-228">Закрывает маркер объекта [**политики**](policy-object.md) или объекта [**трустеддомаин**](trusteddomain-object.md) .</span><span class="sxs-lookup"><span data-stu-id="1593d-228">Closes a handle to a [**Policy**](policy-object.md) object or a [**TrustedDomain**](trusteddomain-object.md) object.</span></span><br/> |
| [<span data-ttu-id="1593d-229">**лсафримемори**</span><span class="sxs-lookup"><span data-stu-id="1593d-229">**LsaFreeMemory**</span></span>](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsafreememory)<br/>                 | <span data-ttu-id="1593d-230">Освобождает буфер, выделенный функцией LSA.</span><span class="sxs-lookup"><span data-stu-id="1593d-230">Frees a buffer allocated by an LSA function.</span></span><br/>                                                                           |
| [<span data-ttu-id="1593d-231">**лсантстатустовинеррор**</span><span class="sxs-lookup"><span data-stu-id="1593d-231">**LsaNtStatusToWinError**</span></span>](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsantstatustowinerror)<br/> | <span data-ttu-id="1593d-232">Преобразует значение **NTSTATUS** в код ошибки Windows.</span><span class="sxs-lookup"><span data-stu-id="1593d-232">Converts an **NTSTATUS** value to a Windows error code.</span></span><br/>                                                                |



 

## <a name="managed-service-account-functions"></a><span data-ttu-id="1593d-233">Функции управляемой учетной записи службы</span><span class="sxs-lookup"><span data-stu-id="1593d-233">Managed Service Account Functions</span></span>

<span data-ttu-id="1593d-234">Следующие функции используются для создания, перечисления, поиска и удаления управляемых учетных записей служб.</span><span class="sxs-lookup"><span data-stu-id="1593d-234">The following functions are used to create, enumerate, find, and delete managed service accounts.</span></span>



| <span data-ttu-id="1593d-235">Функция</span><span class="sxs-lookup"><span data-stu-id="1593d-235">Function</span></span>                                                                      | <span data-ttu-id="1593d-236">Описание</span><span class="sxs-lookup"><span data-stu-id="1593d-236">Description</span></span>                                                                                                                 |
|-------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="1593d-237">**нетаддсервицеаккаунт**</span><span class="sxs-lookup"><span data-stu-id="1593d-237">**NetAddServiceAccount**</span></span>](/windows/desktop/api/Lmaccess/nf-lmaccess-netaddserviceaccount)<br/>               | <span data-ttu-id="1593d-238">Создает управляемую учетную запись службы.</span><span class="sxs-lookup"><span data-stu-id="1593d-238">Creates a managed service account.</span></span><br/>                                                                               |
| [<span data-ttu-id="1593d-239">**нетенумератесервицеаккаунтс**</span><span class="sxs-lookup"><span data-stu-id="1593d-239">**NetEnumerateServiceAccounts**</span></span>](/windows/desktop/api/Lmaccess/nf-lmaccess-netenumerateserviceaccounts)<br/> | <span data-ttu-id="1593d-240">Перечисляет учетные записи сервера на указанном сервере.</span><span class="sxs-lookup"><span data-stu-id="1593d-240">Enumerates the server accounts on the specified server.</span></span><br/>                                                          |
| [<span data-ttu-id="1593d-241">**нетиссервицеаккаунт**</span><span class="sxs-lookup"><span data-stu-id="1593d-241">**NetIsServiceAccount**</span></span>](/windows/desktop/api/Lmaccess/nf-lmaccess-netisserviceaccount)<br/>                 | <span data-ttu-id="1593d-242">Проверяет, существует ли указанная учетная запись службы в хранилище Netlogon на указанном сервере.</span><span class="sxs-lookup"><span data-stu-id="1593d-242">Tests whether the specified service account exists in the Netlogon store on the specified server.</span></span><br/>                |
| [<span data-ttu-id="1593d-243">**нетремовесервицеаккаунт**</span><span class="sxs-lookup"><span data-stu-id="1593d-243">**NetRemoveServiceAccount**</span></span>](/windows/desktop/api/Lmaccess/nf-lmaccess-netremoveserviceaccount)<br/>         | <span data-ttu-id="1593d-244">Удаляет указанную учетную запись службы из [Active Directory](/windows/desktop/AD/active-directory-domain-services) базы данных.</span><span class="sxs-lookup"><span data-stu-id="1593d-244">Deletes the specified service account from the [Active Directory](/windows/desktop/AD/active-directory-domain-services) database.</span></span><br/> |



 

## <a name="password-filter-functions"></a><span data-ttu-id="1593d-245">Функции фильтрации паролей</span><span class="sxs-lookup"><span data-stu-id="1593d-245">Password Filter Functions</span></span>

<span data-ttu-id="1593d-246">Следующие функции [*фильтрации паролей*](/windows/desktop/SecGloss/p-gly) реализуются с помощью пользовательских библиотек DLL фильтрации паролей, которые обеспечивают фильтрацию паролей и уведомление о смене паролей.</span><span class="sxs-lookup"><span data-stu-id="1593d-246">The following [*password filter*](/windows/desktop/SecGloss/p-gly) functions are implemented by custom password filter DLLs to provide password filtering and password change notification.</span></span>



| <span data-ttu-id="1593d-247">Функция</span><span class="sxs-lookup"><span data-stu-id="1593d-247">Function</span></span>                                                            | <span data-ttu-id="1593d-248">Описание</span><span class="sxs-lookup"><span data-stu-id="1593d-248">Description</span></span>                                                     |
|---------------------------------------------------------------------|-----------------------------------------------------------------|
| [<span data-ttu-id="1593d-249">**инитиализечанженотифи**</span><span class="sxs-lookup"><span data-stu-id="1593d-249">**InitializeChangeNotify**</span></span>](/windows/desktop/api/Ntsecapi/nc-ntsecapi-psam_init_notification_routine)<br/> | <span data-ttu-id="1593d-250">Указывает, что библиотека DLL фильтра паролей инициализирована.</span><span class="sxs-lookup"><span data-stu-id="1593d-250">Indicates that a password filter DLL is initialized.</span></span><br/> |
| [<span data-ttu-id="1593d-251">**пассвордчанженотифи**</span><span class="sxs-lookup"><span data-stu-id="1593d-251">**PasswordChangeNotify**</span></span>](/windows/desktop/api/Ntsecapi/nc-ntsecapi-psam_password_notification_routine)<br/>     | <span data-ttu-id="1593d-252">Указывает, что пароль был изменен.</span><span class="sxs-lookup"><span data-stu-id="1593d-252">Indicates that a password has been changed.</span></span><br/>          |
| [<span data-ttu-id="1593d-253">**пассвордфилтер**</span><span class="sxs-lookup"><span data-stu-id="1593d-253">**PasswordFilter**</span></span>](/windows/desktop/api/Ntsecapi/nc-ntsecapi-psam_password_filter_routine)<br/>                 | <span data-ttu-id="1593d-254">Проверяет новый пароль на основе политики паролей.</span><span class="sxs-lookup"><span data-stu-id="1593d-254">Validates a new password based on password policy.</span></span><br/>   |



 

## <a name="safer-functions"></a><span data-ttu-id="1593d-255">Более безопасные функции</span><span class="sxs-lookup"><span data-stu-id="1593d-255">Safer Functions</span></span>

<span data-ttu-id="1593d-256">Следующие более безопасные функции можно использовать для проверки безопасного уровня любого исполняемого файла и ведения журнала событий.</span><span class="sxs-lookup"><span data-stu-id="1593d-256">The following Safer functions can be used to check the safer level of any executable and to log events.</span></span>



| <span data-ttu-id="1593d-257">Функция</span><span class="sxs-lookup"><span data-stu-id="1593d-257">Function</span></span>                                                         | <span data-ttu-id="1593d-258">Описание</span><span class="sxs-lookup"><span data-stu-id="1593d-258">Description</span></span>                                                                                                                                                                          |
|------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="1593d-259">**саферклоселевел**</span><span class="sxs-lookup"><span data-stu-id="1593d-259">**SaferCloseLevel**</span></span>](/windows/desktop/api/WinSafer/nf-winsafer-safercloselevel)                       | <span data-ttu-id="1593d-260">Закрывает более \_ безопасный \_ маркер уровня, Открытый с помощью функции [**SaferIdentifyLevel**](/windows/desktop/api/WinSafer/nf-winsafer-saferidentifylevel) или функции [**саферкреателевел**](/windows/desktop/api/WinSafer/nf-winsafer-safercreatelevel) .</span><span class="sxs-lookup"><span data-stu-id="1593d-260">Closes a SAFER\_LEVEL\_HANDLE opened by using the [**SaferIdentifyLevel**](/windows/desktop/api/WinSafer/nf-winsafer-saferidentifylevel) function or the [**SaferCreateLevel**](/windows/desktop/api/WinSafer/nf-winsafer-safercreatelevel) function.</span></span><br/> |
| [<span data-ttu-id="1593d-261">**саферкомпутетокенфромлевел**</span><span class="sxs-lookup"><span data-stu-id="1593d-261">**SaferComputeTokenFromLevel**</span></span>](/windows/desktop/api/WinSafer/nf-winsafer-safercomputetokenfromlevel) | <span data-ttu-id="1593d-262">Ограничение маркера с помощью ограничений, заданных в более безопасном \_ \_ маркере уровня.</span><span class="sxs-lookup"><span data-stu-id="1593d-262">Restricts a token using restrictions specified by a SAFER\_LEVEL\_HANDLE.</span></span><br/>                                                                                                 |
| [<span data-ttu-id="1593d-263">**саферкреателевел**</span><span class="sxs-lookup"><span data-stu-id="1593d-263">**SaferCreateLevel**</span></span>](/windows/desktop/api/WinSafer/nf-winsafer-safercreatelevel)                     | <span data-ttu-id="1593d-264">Открывает более безопасный \_ \_ маркер уровня.</span><span class="sxs-lookup"><span data-stu-id="1593d-264">Opens a SAFER\_LEVEL\_HANDLE.</span></span><br/>                                                                                                                                             |
| [<span data-ttu-id="1593d-265">**сафержетлевелинформатион**</span><span class="sxs-lookup"><span data-stu-id="1593d-265">**SaferGetLevelInformation**</span></span>](/windows/desktop/api/WinSafer/nf-winsafer-safergetlevelinformation)     | <span data-ttu-id="1593d-266">Извлекает сведения об уровне политики.</span><span class="sxs-lookup"><span data-stu-id="1593d-266">Retrieves information about a policy level.</span></span><br/>                                                                                                                               |
| [<span data-ttu-id="1593d-267">**сафержетполициинформатион**</span><span class="sxs-lookup"><span data-stu-id="1593d-267">**SaferGetPolicyInformation**</span></span>](/windows/desktop/api/WinSafer/nf-winsafer-safergetpolicyinformation)   | <span data-ttu-id="1593d-268">Извлекает сведения о политике.</span><span class="sxs-lookup"><span data-stu-id="1593d-268">Retrieves information about a policy.</span></span><br/>                                                                                                                                     |
| [<span data-ttu-id="1593d-269">**SaferIdentifyLevel**</span><span class="sxs-lookup"><span data-stu-id="1593d-269">**SaferIdentifyLevel**</span></span>](/windows/desktop/api/WinSafer/nf-winsafer-saferidentifylevel)                 | <span data-ttu-id="1593d-270">Извлекает сведения о уровне.</span><span class="sxs-lookup"><span data-stu-id="1593d-270">Retrieves information about a level.</span></span><br/>                                                                                                                                      |
| [<span data-ttu-id="1593d-271">**сафериисексекутаблефилетипе**</span><span class="sxs-lookup"><span data-stu-id="1593d-271">**SaferiIsExecutableFileType**</span></span>](/windows/desktop/api/WinSafer/nf-winsafer-saferiisexecutablefiletype) | <span data-ttu-id="1593d-272">Определяет, является ли указанный файл исполняемым файлом.</span><span class="sxs-lookup"><span data-stu-id="1593d-272">Determines whether a specified file is an executable file.</span></span><br/>                                                                                                                |
| [<span data-ttu-id="1593d-273">**саферрекордевентложентри**</span><span class="sxs-lookup"><span data-stu-id="1593d-273">**SaferRecordEventLogEntry**</span></span>](/windows/desktop/api/WinSafer/nf-winsafer-saferrecordeventlogentry)     | <span data-ttu-id="1593d-274">Отправляет сообщение в журнал событий.</span><span class="sxs-lookup"><span data-stu-id="1593d-274">Sends a message to the event log.</span></span><br/>                                                                                                                                         |
| [<span data-ttu-id="1593d-275">**саферсетлевелинформатион**</span><span class="sxs-lookup"><span data-stu-id="1593d-275">**SaferSetLevelInformation**</span></span>](/windows/desktop/api/WinSafer/nf-winsafer-safersetlevelinformation)     | <span data-ttu-id="1593d-276">Задает сведения об уровне политики.</span><span class="sxs-lookup"><span data-stu-id="1593d-276">Sets the information about a policy level.</span></span><br/>                                                                                                                                |
| [<span data-ttu-id="1593d-277">**саферсетполициинформатион**</span><span class="sxs-lookup"><span data-stu-id="1593d-277">**SaferSetPolicyInformation**</span></span>](/windows/desktop/api/WinSafer/nf-winsafer-safergetlevelinformation)    | <span data-ttu-id="1593d-278">Задает глобальные элементы управления политикой.</span><span class="sxs-lookup"><span data-stu-id="1593d-278">Sets the global policy controls.</span></span><br/>                                                                                                                                          |



 

 

