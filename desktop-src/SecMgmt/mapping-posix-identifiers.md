---
description: Подсистема POSIX должна иметь возможность преобразования любого идентификатора безопасности (SID), который он обнаруживает, в 32-разрядное значение, называемое ИДЕНТИФИКАТОРом POSIX.
ms.assetid: cd6c89ef-c3f1-47fe-8183-320b5d24b0dd
title: Сопоставление идентификаторов POSIX
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: dabb944b543fba65942eb89d526590a5aff2c26c
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "103912252"
---
# <a name="mapping-posix-identifiers"></a>Сопоставление идентификаторов POSIX

Подсистема POSIX должна иметь возможность преобразования любого [*идентификатора безопасности*](/windows/desktop/SecGloss/s-gly) (SID), который он обнаруживает, в 32-разрядное значение, НАЗЫВАЕМое *идентификатором POSIX*. Более того, он должен иметь возможность классифицировать идентификатор как идентификатор пользователя или идентификатор группы. Чтобы понять, как это сопоставление выполняется, давайте сначала рассмотрим идентификаторы безопасности, которые должны быть сопоставлены.

Идентификаторы безопасности имеют два компонента: идентификатор безопасности домена и относительный идентификатор учетной записи в домене. Например, в идентификаторе SID S-1-518364-21-43-8 Последний номер, 8, является относительным ИДЕНТИФИКАТОРом учетной записи (RID), а S-1-518364-21-43 — идентификатором безопасности домена.

Сведения о домене хранятся в объектах [**трустеддомаин**](trusteddomain-object.md) . Частью информации, хранящейся в объекте **трустеддомаин** , является смещение идентификатора POSIX для использования с идентификаторами безопасности в этом домене. Например, предположим, что **трустеддомаин** определен следующим образом:

``` syntax
    Name:    NtPgm
    Sid:    S-1-518364-21-43
    Posix Offset:    0x130000
```

Идентификаторы POSIX для учетных записей в этом домене создаются путем добавления 0x130000 к относительным ИДЕНТИФИКАТОРам учетной записи. Поэтому ИДЕНТИФИКАТОРом POSIX, соответствующим идентификатору безопасности S-1-518364-21-43-8, будет 0x130008.

Не все переводы идентификатора POSIX используют объект [**трустеддомаин**](trusteddomain-object.md) . В следующей таблице показаны идентификаторы безопасности, сопоставленные с помощью хорошо известных значений смещения.



| Источник                                              | Смещение идентификатора POSIX |
|-----------------------------------------------------|-----------------|
| Идентификаторы безопасности из встроенного домена                       | 0x20000         |
| Идентификаторы безопасности из домена учетной записи                        | 0x30000         |
| Идентификаторы безопасности из основного домена (только на рабочих станциях) | 0x40000         |



 

И наконец, для одного другого набора идентификаторов безопасности (SID) для входа требуется специальная обработка. Эти значения назначаются процессом входа в Windows для каждого сеанса входа в систему и имеют форму S-1-5-5-X-Y, где X и Y обрабатываются как одно большое \_ целое число, увеличивающееся для каждого сеанса входа в систему. Эти идентификаторы безопасности сопоставляются с константой POSIX с ИДЕНТИФИКАТОРом 0xFFF. Чтобы сопоставить идентификатор POSIX 0xFFF, вы можете преобразовать любой [*идентификатор входа*](/windows/desktop/SecGloss/l-gly) , наиболее подходящий для ситуации, или по умолчанию использовать S-1-5-5-0-0. (Например, если пользователь POSIX применяет защиту к объекту и указывает Фффкс, лучше заменить идентификатор входа пользователя, а не просто назначая S-1-5-5-0-0.)

 

 
