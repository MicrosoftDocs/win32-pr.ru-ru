---
description: Подсистема POSIX должна иметь возможность преобразования любого идентификатора безопасности (SID), который он обнаруживает, в 32-разрядное значение, называемое ИДЕНТИФИКАТОРом POSIX.
ms.assetid: cd6c89ef-c3f1-47fe-8183-320b5d24b0dd
title: Сопоставление идентификаторов POSIX
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: dabb944b543fba65942eb89d526590a5aff2c26c
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "103912252"
---
# <a name="mapping-posix-identifiers"></a><span data-ttu-id="92d34-103">Сопоставление идентификаторов POSIX</span><span class="sxs-lookup"><span data-stu-id="92d34-103">Mapping Posix Identifiers</span></span>

<span data-ttu-id="92d34-104">Подсистема POSIX должна иметь возможность преобразования любого [*идентификатора безопасности*](/windows/desktop/SecGloss/s-gly) (SID), который он обнаруживает, в 32-разрядное значение, НАЗЫВАЕМое *идентификатором POSIX*.</span><span class="sxs-lookup"><span data-stu-id="92d34-104">The Posix subsystem must be able to translate any [*security identifier*](/windows/desktop/SecGloss/s-gly) (SID) it encounters into a 32-bit value, called a *Posix ID*.</span></span> <span data-ttu-id="92d34-105">Более того, он должен иметь возможность классифицировать идентификатор как идентификатор пользователя или идентификатор группы.</span><span class="sxs-lookup"><span data-stu-id="92d34-105">Furthermore, it must be able to categorize the ID as either a user ID or a group ID.</span></span> <span data-ttu-id="92d34-106">Чтобы понять, как это сопоставление выполняется, давайте сначала рассмотрим идентификаторы безопасности, которые должны быть сопоставлены.</span><span class="sxs-lookup"><span data-stu-id="92d34-106">To understand how this mapping is accomplished, let's first look at the SIDs that must be mapped.</span></span>

<span data-ttu-id="92d34-107">Идентификаторы безопасности имеют два компонента: идентификатор безопасности домена и относительный идентификатор учетной записи в домене.</span><span class="sxs-lookup"><span data-stu-id="92d34-107">SIDs have two components, the SID of the domain and the relative ID of the account in the domain.</span></span> <span data-ttu-id="92d34-108">Например, в идентификаторе SID S-1-518364-21-43-8 Последний номер, 8, является относительным ИДЕНТИФИКАТОРом учетной записи (RID), а S-1-518364-21-43 — идентификатором безопасности домена.</span><span class="sxs-lookup"><span data-stu-id="92d34-108">For example, in the SID S-1-518364-21-43-8, the last number, 8, is the account's relative ID (RID) and S-1-518364-21-43 is the SID of the domain.</span></span>

<span data-ttu-id="92d34-109">Сведения о домене хранятся в объектах [**трустеддомаин**](trusteddomain-object.md) .</span><span class="sxs-lookup"><span data-stu-id="92d34-109">Domain information is stored in [**TrustedDomain**](trusteddomain-object.md) objects.</span></span> <span data-ttu-id="92d34-110">Частью информации, хранящейся в объекте **трустеддомаин** , является смещение идентификатора POSIX для использования с идентификаторами безопасности в этом домене.</span><span class="sxs-lookup"><span data-stu-id="92d34-110">Part of the information stored in a **TrustedDomain** object is a Posix ID offset to be used for SIDs within that domain.</span></span> <span data-ttu-id="92d34-111">Например, предположим, что **трустеддомаин** определен следующим образом:</span><span class="sxs-lookup"><span data-stu-id="92d34-111">For example, assume that a **TrustedDomain** is defined as follows:</span></span>

``` syntax
    Name:    NtPgm
    Sid:    S-1-518364-21-43
    Posix Offset:    0x130000
```

<span data-ttu-id="92d34-112">Идентификаторы POSIX для учетных записей в этом домене создаются путем добавления 0x130000 к относительным ИДЕНТИФИКАТОРам учетной записи.</span><span class="sxs-lookup"><span data-stu-id="92d34-112">Posix IDs for accounts in this domain would be generated by adding 0x130000 to the relative ID of the account.</span></span> <span data-ttu-id="92d34-113">Поэтому ИДЕНТИФИКАТОРом POSIX, соответствующим идентификатору безопасности S-1-518364-21-43-8, будет 0x130008.</span><span class="sxs-lookup"><span data-stu-id="92d34-113">So, the Posix ID corresponding to the SID S-1-518364-21-43-8 would be 0x130008.</span></span>

<span data-ttu-id="92d34-114">Не все переводы идентификатора POSIX используют объект [**трустеддомаин**](trusteddomain-object.md) .</span><span class="sxs-lookup"><span data-stu-id="92d34-114">Not all Posix ID translations make use of a [**TrustedDomain**](trusteddomain-object.md) object.</span></span> <span data-ttu-id="92d34-115">В следующей таблице показаны идентификаторы безопасности, сопоставленные с помощью хорошо известных значений смещения.</span><span class="sxs-lookup"><span data-stu-id="92d34-115">The following table shows SIDs that are mapped using well-known offset values.</span></span>



| <span data-ttu-id="92d34-116">Источник</span><span class="sxs-lookup"><span data-stu-id="92d34-116">Source</span></span>                                              | <span data-ttu-id="92d34-117">Смещение идентификатора POSIX</span><span class="sxs-lookup"><span data-stu-id="92d34-117">Posix ID offset</span></span> |
|-----------------------------------------------------|-----------------|
| <span data-ttu-id="92d34-118">Идентификаторы безопасности из встроенного домена</span><span class="sxs-lookup"><span data-stu-id="92d34-118">SIDs from the built-in domain</span></span>                       | <span data-ttu-id="92d34-119">0x20000</span><span class="sxs-lookup"><span data-stu-id="92d34-119">0x20000</span></span>         |
| <span data-ttu-id="92d34-120">Идентификаторы безопасности из домена учетной записи</span><span class="sxs-lookup"><span data-stu-id="92d34-120">SIDs from the account domain</span></span>                        | <span data-ttu-id="92d34-121">0x30000</span><span class="sxs-lookup"><span data-stu-id="92d34-121">0x30000</span></span>         |
| <span data-ttu-id="92d34-122">Идентификаторы безопасности из основного домена (только на рабочих станциях)</span><span class="sxs-lookup"><span data-stu-id="92d34-122">SIDs from the primary domain (on Workstations only)</span></span> | <span data-ttu-id="92d34-123">0x40000</span><span class="sxs-lookup"><span data-stu-id="92d34-123">0x40000</span></span>         |



 

<span data-ttu-id="92d34-124">И наконец, для одного другого набора идентификаторов безопасности (SID) для входа требуется специальная обработка.</span><span class="sxs-lookup"><span data-stu-id="92d34-124">And finally, one other set of SIDs, logon SIDs, requires special processing.</span></span> <span data-ttu-id="92d34-125">Эти значения назначаются процессом входа в Windows для каждого сеанса входа в систему и имеют форму S-1-5-5-X-Y, где X и Y обрабатываются как одно большое \_ целое число, увеличивающееся для каждого сеанса входа в систему.</span><span class="sxs-lookup"><span data-stu-id="92d34-125">These values are assigned by the Windows logon process for each logon session and have the form S-1-5-5-X-Y, where X and Y are treated as a single LARGE\_INTEGER that is incremented for each logon session.</span></span> <span data-ttu-id="92d34-126">Эти идентификаторы безопасности сопоставляются с константой POSIX с ИДЕНТИФИКАТОРом 0xFFF.</span><span class="sxs-lookup"><span data-stu-id="92d34-126">These SIDs are mapped to the constant Posix ID 0xFFF.</span></span> <span data-ttu-id="92d34-127">Чтобы сопоставить идентификатор POSIX 0xFFF, вы можете преобразовать любой [*идентификатор входа*](/windows/desktop/SecGloss/l-gly) , наиболее подходящий для ситуации, или по умолчанию использовать S-1-5-5-0-0.</span><span class="sxs-lookup"><span data-stu-id="92d34-127">To map the Posix ID 0xFFF, you may translate whatever [*logon identifier*](/windows/desktop/SecGloss/l-gly) best suits the situation, or you may use S-1-5-5-0-0 by default.</span></span> <span data-ttu-id="92d34-128">(Например, если пользователь POSIX применяет защиту к объекту и указывает Фффкс, лучше заменить идентификатор входа пользователя, а не просто назначая S-1-5-5-0-0.)</span><span class="sxs-lookup"><span data-stu-id="92d34-128">(For example, if a posix user applies protection to an object and specifies FFFx, it is better to substitute that user's logon identifier than just assigning S-1-5-5-0-0.)</span></span>

 

 
