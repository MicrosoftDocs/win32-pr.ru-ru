---
description: Сетевой DDE использует доверенные общие ресурсы и дескрипторы безопасности для управления доступом к общим ресурсам.
ms.assetid: a22d9fc6-a0c9-442f-b278-1271cfbc636b
title: Доверенные общие ресурсы и безопасность
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 899be51745b2b27c22212c3ceeaceea016fa8d4b
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "105682428"
---
# <a name="trusted-shares-and-security"></a><span data-ttu-id="57d97-103">Доверенные общие ресурсы и безопасность</span><span class="sxs-lookup"><span data-stu-id="57d97-103">Trusted Shares and Security</span></span>

<span data-ttu-id="57d97-104">\[Сетевой DDE больше не поддерживается.</span><span class="sxs-lookup"><span data-stu-id="57d97-104">\[Network DDE is no longer supported.</span></span> <span data-ttu-id="57d97-105">Nddeapi.dll имеется в Windows Vista, но все вызовы функций возвращают НДДЕ \_ не \_ реализован.\]</span><span class="sxs-lookup"><span data-stu-id="57d97-105">Nddeapi.dll is present on Windows Vista, but all function calls return NDDE\_NOT\_IMPLEMENTED.\]</span></span>

<span data-ttu-id="57d97-106">Сетевой DDE использует доверенные общие ресурсы и дескрипторы безопасности для управления доступом к общим ресурсам.</span><span class="sxs-lookup"><span data-stu-id="57d97-106">Network DDE uses trusted shares and security descriptors to control access to shares.</span></span>

## <a name="trusted-shares"></a><span data-ttu-id="57d97-107">Доверенные общие папки</span><span class="sxs-lookup"><span data-stu-id="57d97-107">Trusted Shares</span></span>

<span data-ttu-id="57d97-108">Когда пользователь клиента подключается к общему ресурсу DDE с удаленного компьютера, сетевой DDE принимает запрос только в том случае, если выполняются следующие условия.</span><span class="sxs-lookup"><span data-stu-id="57d97-108">When a client user connects to a DDE share from a remote computer, network DDE accepts the request only if the following statements are true:</span></span>

-   <span data-ttu-id="57d97-109">Пользователь, создавший общую папку, получил доверенное состояние для общего ресурса путем вызова [**нддесеттрустедшаре**](nddesettrustedshare.md).</span><span class="sxs-lookup"><span data-stu-id="57d97-109">The user who created the share has granted trusted status to the share by calling [**NDdeSetTrustedShare**](nddesettrustedshare.md).</span></span> <span data-ttu-id="57d97-110">Только создатель общего ресурса может предоставить доверенное состояние для общей папки.</span><span class="sxs-lookup"><span data-stu-id="57d97-110">Only the creator of the share can grant trusted status to the share.</span></span> <span data-ttu-id="57d97-111">Даже администратор может предоставить доверенное состояние общему ресурсу DDE, созданному другим пользователем.</span><span class="sxs-lookup"><span data-stu-id="57d97-111">Not even an administrator can grant trusted status to a DDE share that was created by a different user.</span></span>
-   <span data-ttu-id="57d97-112">Пользователь, создавший общую папку, в данный момент вошел на серверный компьютер.</span><span class="sxs-lookup"><span data-stu-id="57d97-112">The user who created the share is currently logged on to the server computer.</span></span>

<span data-ttu-id="57d97-113">Процесс предоставления надежного состояния общему ресурсу добавляет общую папку в список доверенных общих папок пользователя, вошедшего в DSDM.</span><span class="sxs-lookup"><span data-stu-id="57d97-113">The process of granting trusted status to a share adds the share to the logged-on user's trusted shares list in the DSDM.</span></span> <span data-ttu-id="57d97-114">При этом создается отношение доверия между сервером и его клиентами.</span><span class="sxs-lookup"><span data-stu-id="57d97-114">This creates a trust relationship between the server and its clients.</span></span> <span data-ttu-id="57d97-115">Когда общий ресурс DDE имеет состояние Trusted, клиенты могут подключаться к нему при условии, что пользователь, создавший общую папку, вошел в систему.</span><span class="sxs-lookup"><span data-stu-id="57d97-115">Once a DDE share has trusted status, clients can connect to it as long as the user that created the share is logged on.</span></span> <span data-ttu-id="57d97-116">Когда клиент подключается к общей папке с удаленного компьютера, сетевой DDE принимает запрос, только если он указан в списке доверенных общих папок пользователя, вошедшего в DSDM.</span><span class="sxs-lookup"><span data-stu-id="57d97-116">When the client connects to the share from a remote computer, network DDE accepts the request only if the share is listed in the logged-on user's trusted shares list in the DSDM.</span></span>

## <a name="security"></a><span data-ttu-id="57d97-117">Безопасность</span><span class="sxs-lookup"><span data-stu-id="57d97-117">Security</span></span>

<span data-ttu-id="57d97-118">Сетевой DDE выполняет дополнительную проверку безопасности, когда клиент запрашивает данные или ссылку.</span><span class="sxs-lookup"><span data-stu-id="57d97-118">Network DDE performs an additional security check when the client requests data or a link.</span></span> <span data-ttu-id="57d97-119">Он проверяет, предоставил ли сервер удаленному пользователю необходимое разрешение для операции.</span><span class="sxs-lookup"><span data-stu-id="57d97-119">It checks that the server has granted the remote user the necessary permission for the operation.</span></span> <span data-ttu-id="57d97-120">Сервер управляет доступом к общему ресурсу с помощью параметра *pSD* функции [**нддешареадд**](nddeshareadd.md) .</span><span class="sxs-lookup"><span data-stu-id="57d97-120">The server controls access to the share through the *pSD* parameter of the [**NDdeShareAdd**](nddeshareadd.md) function.</span></span> <span data-ttu-id="57d97-121">Этот параметр указывает дескриптор безопасности.</span><span class="sxs-lookup"><span data-stu-id="57d97-121">This parameter specifies the security descriptor.</span></span> <span data-ttu-id="57d97-122">Если этот параметр имеет **значение NULL**, функция создает дескриптор безопасности по умолчанию, который предоставляет полный доступ к создателю общего ресурса и предоставляет разрешение на чтение и ссылку всем остальным пользователям.</span><span class="sxs-lookup"><span data-stu-id="57d97-122">If this parameter is **NULL**, the function creates a default security descriptor that grants full access to the creator of the share and grants read and link permission to all other users.</span></span> <span data-ttu-id="57d97-123">Чтобы предоставить или запретить дополнительные разрешения отдельным пользователям или группам пользователей, создайте и используйте дескриптор безопасности.</span><span class="sxs-lookup"><span data-stu-id="57d97-123">To grant or deny additional permissions to individual users or groups of users, create and use a security descriptor.</span></span> <span data-ttu-id="57d97-124">Дополнительные сведения о дескрипторах безопасности см. в разделе [**Управление доступом**](/windows/desktop/SecAuthZ/access-control).</span><span class="sxs-lookup"><span data-stu-id="57d97-124">For more information on security descriptors, see [**Access Control**](/windows/desktop/SecAuthZ/access-control).</span></span>

<span data-ttu-id="57d97-125">Чтобы получить дескриптор безопасности для существующего общего ресурса DDE, вызовите функцию [**нддежетшаресекурити**](nddegetsharesecurity.md) .</span><span class="sxs-lookup"><span data-stu-id="57d97-125">To obtain the security descriptor for an existing DDE share, call the [**NDdeGetShareSecurity**](nddegetsharesecurity.md) function.</span></span> <span data-ttu-id="57d97-126">Вы можете изменить сведения, а затем обновить дескриптор безопасности для общего ресурса с помощью функции [**нддесетшаресекурити**](nddesetsharesecurity.md) .</span><span class="sxs-lookup"><span data-stu-id="57d97-126">You can edit the information and then update the security descriptor for the share by using the [**NDdeSetShareSecurity**](nddesetsharesecurity.md) function.</span></span>

 

 
