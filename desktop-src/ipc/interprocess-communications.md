---
description: Операционная система Windows предоставляет механизмы для облегчения обмена данными и совместного использования данных между приложениями. В совокупности действия, которые поддерживаются этими механизмами, называются взаимосвязями (IPC).
ms.assetid: ad3fb0d9-d0ab-479e-b9a6-22a463b6728c
title: Обмен данными между процессами
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 5ca9789da756ae5449e77237c1140386a6f5cfd9
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "103910207"
---
# <a name="interprocess-communications"></a><span data-ttu-id="a3d5e-104">Обмен данными между процессами</span><span class="sxs-lookup"><span data-stu-id="a3d5e-104">Interprocess Communications</span></span>

<span data-ttu-id="a3d5e-105">Операционная система Windows предоставляет механизмы для облегчения обмена данными и совместного использования данных между приложениями.</span><span class="sxs-lookup"><span data-stu-id="a3d5e-105">The Windows operating system provides mechanisms for facilitating communications and data sharing between applications.</span></span> <span data-ttu-id="a3d5e-106">В совокупности действия, которые поддерживаются этими механизмами, называются *взаимосвязями* (IPC).</span><span class="sxs-lookup"><span data-stu-id="a3d5e-106">Collectively, the activities enabled by these mechanisms are called *interprocess communications* (IPC).</span></span> <span data-ttu-id="a3d5e-107">Некоторые формы IPC упрощают разделение труда между несколькими специализированными процессами.</span><span class="sxs-lookup"><span data-stu-id="a3d5e-107">Some forms of IPC facilitate the division of labor among several specialized processes.</span></span> <span data-ttu-id="a3d5e-108">Другие формы IPC облегчают разделение труда между компьютерами в сети.</span><span class="sxs-lookup"><span data-stu-id="a3d5e-108">Other forms of IPC facilitate the division of labor among computers on a network.</span></span>

<span data-ttu-id="a3d5e-109">Как правило, приложения могут использовать IPC категории "клиенты" или "серверы".</span><span class="sxs-lookup"><span data-stu-id="a3d5e-109">Typically, applications can use IPC categorized as clients or servers.</span></span> <span data-ttu-id="a3d5e-110">*Клиент* — это приложение или процесс, запрашивающий службу от какого-либо другого приложения или процесса.</span><span class="sxs-lookup"><span data-stu-id="a3d5e-110">A *client* is an application or a process that requests a service from some other application or process.</span></span> <span data-ttu-id="a3d5e-111">*Сервер* — это приложение или процесс, отвечающий на запрос клиента.</span><span class="sxs-lookup"><span data-stu-id="a3d5e-111">A *server* is an application or a process that responds to a client request.</span></span> <span data-ttu-id="a3d5e-112">Многие приложения действуют как клиент и сервер в зависимости от ситуации.</span><span class="sxs-lookup"><span data-stu-id="a3d5e-112">Many applications act as both a client and a server, depending on the situation.</span></span> <span data-ttu-id="a3d5e-113">Например, приложение для обработки текстов может выступать в качестве клиента в запросе сводной таблицы производственных затрат из приложения электронной таблицы, выступающего в качестве сервера.</span><span class="sxs-lookup"><span data-stu-id="a3d5e-113">For example, a word processing application might act as a client in requesting a summary table of manufacturing costs from a spreadsheet application acting as a server.</span></span> <span data-ttu-id="a3d5e-114">Приложение электронной таблицы, в свою очередь, может работать в качестве клиента при запросе последних уровней инвентаризации от приложения управления инвентаризацией.</span><span class="sxs-lookup"><span data-stu-id="a3d5e-114">The spreadsheet application, in turn, might act as a client in requesting the latest inventory levels from an automated inventory control application.</span></span>

<span data-ttu-id="a3d5e-115">После принятия решения о том, что приложение будет выгодным из IPC, необходимо решить, какой из доступных методов IPC использовать.</span><span class="sxs-lookup"><span data-stu-id="a3d5e-115">After you decide that your application would benefit from IPC, you must decide which of the available IPC methods to use.</span></span> <span data-ttu-id="a3d5e-116">Скорее всего, приложение будет использовать несколько механизмов IPC.</span><span class="sxs-lookup"><span data-stu-id="a3d5e-116">It is likely that an application will use several IPC mechanisms.</span></span> <span data-ttu-id="a3d5e-117">Ответы на эти вопросы определяют, может ли приложение использовать преимущества одного или нескольких механизмов IPC.</span><span class="sxs-lookup"><span data-stu-id="a3d5e-117">The answers to these questions determine whether an application can benefit by using one or more IPC mechanisms.</span></span>

-   <span data-ttu-id="a3d5e-118">Должно ли приложение взаимодействовать с другими приложениями, работающими на других компьютерах в сети, или достаточно для того, чтобы приложение могло обмениваться данными только с приложениями на локальном компьютере?</span><span class="sxs-lookup"><span data-stu-id="a3d5e-118">Should the application be able to communicate with other applications running on other computers on a network, or is it sufficient for the application to communicate only with applications on the local computer?</span></span>
-   <span data-ttu-id="a3d5e-119">Должно ли приложение взаимодействовать с приложениями, работающими на других компьютерах, которые могут работать под управлением разных операционных систем (например, 16-разрядных Windows или UNIX)?</span><span class="sxs-lookup"><span data-stu-id="a3d5e-119">Should the application be able to communicate with applications running on other computers that may be running under different operating systems (such as 16-bit Windows or UNIX)?</span></span>
-   <span data-ttu-id="a3d5e-120">Следует ли пользователю приложения выбрать другие приложения, с которыми взаимодействует приложение, или может ли приложение неявным образом найти своих взаимодействующих партнеров?</span><span class="sxs-lookup"><span data-stu-id="a3d5e-120">Should the user of the application have to choose the other applications with which the application communicates, or can the application implicitly find its cooperating partners?</span></span>
-   <span data-ttu-id="a3d5e-121">Следует ли, чтобы приложение взаимодействовало со многими различными приложениями обычным образом, например разрешить операции вырезания и вставки с любым другим приложением или должны ли требования к обмену информацией ограничиваться ограниченным набором взаимодействий с конкретными другими приложениями?</span><span class="sxs-lookup"><span data-stu-id="a3d5e-121">Should the application communicate with many different applications in a general way, such as allowing cut-and-paste operations with any other application, or should its communications requirements be limited to a restricted set of interactions with specific other applications?</span></span>
-   <span data-ttu-id="a3d5e-122">Является ли производительность критически важным аспектом приложения?</span><span class="sxs-lookup"><span data-stu-id="a3d5e-122">Is performance a critical aspect of the application?</span></span> <span data-ttu-id="a3d5e-123">Все механизмы IPC включают некоторый объем издержек.</span><span class="sxs-lookup"><span data-stu-id="a3d5e-123">All IPC mechanisms include some amount of overhead.</span></span>
-   <span data-ttu-id="a3d5e-124">Должно ли приложение быть приложением с графическим интерфейсом или консольным приложением?</span><span class="sxs-lookup"><span data-stu-id="a3d5e-124">Should the application be a GUI application or a console application?</span></span> <span data-ttu-id="a3d5e-125">Для некоторых механизмов IPC требуется приложение с графическим пользовательским интерфейсом.</span><span class="sxs-lookup"><span data-stu-id="a3d5e-125">Some IPC mechanisms require a GUI application.</span></span>

<span data-ttu-id="a3d5e-126">В Windows поддерживаются следующие механизмы IPC:</span><span class="sxs-lookup"><span data-stu-id="a3d5e-126">The following IPC mechanisms are supported by Windows:</span></span>

-   [<span data-ttu-id="a3d5e-127">Буфер обмена</span><span class="sxs-lookup"><span data-stu-id="a3d5e-127">Clipboard</span></span>](#using-the-clipboard-for-ipc)
-   [<span data-ttu-id="a3d5e-128">COM</span><span class="sxs-lookup"><span data-stu-id="a3d5e-128">COM</span></span>](#using-com-for-ipc)
-   [<span data-ttu-id="a3d5e-129">Копирование данных</span><span class="sxs-lookup"><span data-stu-id="a3d5e-129">Data Copy</span></span>](#using-data-copy-for-ipc)
-   [<span data-ttu-id="a3d5e-130">DDE</span><span class="sxs-lookup"><span data-stu-id="a3d5e-130">DDE</span></span>](#using-dde-for-ipc)
-   [<span data-ttu-id="a3d5e-131">Сопоставление файлов</span><span class="sxs-lookup"><span data-stu-id="a3d5e-131">File Mapping</span></span>](#using-a-file-mapping-for-ipc)
-   [<span data-ttu-id="a3d5e-132">маилслотс</span><span class="sxs-lookup"><span data-stu-id="a3d5e-132">Mailslots</span></span>](#using-a-mailslot-for-ipc)
-   [<span data-ttu-id="a3d5e-133">Каналы</span><span class="sxs-lookup"><span data-stu-id="a3d5e-133">Pipes</span></span>](#using-pipes-for-ipc)
-   [<span data-ttu-id="a3d5e-134">RPC</span><span class="sxs-lookup"><span data-stu-id="a3d5e-134">RPC</span></span>](#using-rpc-for-ipc)
-   [<span data-ttu-id="a3d5e-135">Сокеты Windows</span><span class="sxs-lookup"><span data-stu-id="a3d5e-135">Windows Sockets</span></span>](#using-windows-sockets-for-ipc)

## <a name="using-the-clipboard-for-ipc"></a><span data-ttu-id="a3d5e-136">Использование буфера обмена для IPC</span><span class="sxs-lookup"><span data-stu-id="a3d5e-136">Using the Clipboard for IPC</span></span>

<span data-ttu-id="a3d5e-137">Буфер обмена выступает в качестве центрального депозита для совместного использования данных между приложениями.</span><span class="sxs-lookup"><span data-stu-id="a3d5e-137">The clipboard acts as a central depository for data sharing among applications.</span></span> <span data-ttu-id="a3d5e-138">Когда пользователь выполняет операцию вырезания или копирования в приложении, приложение помещает выбранные данные в буфер обмена в одном или нескольких стандартных или определенных форматах приложения.</span><span class="sxs-lookup"><span data-stu-id="a3d5e-138">When a user performs a cut or copy operation in an application, the application puts the selected data on the clipboard in one or more standard or application-defined formats.</span></span> <span data-ttu-id="a3d5e-139">Затем любое другое приложение может получить данные из буфера обмена, выбрав из доступных форматов, которые он понимает.</span><span class="sxs-lookup"><span data-stu-id="a3d5e-139">Any other application can then retrieve the data from the clipboard, choosing from the available formats that it understands.</span></span> <span data-ttu-id="a3d5e-140">Буфер обмена — это очень слабо связанный носитель Exchange, где приложения должны быть согласованы только с форматом данных.</span><span class="sxs-lookup"><span data-stu-id="a3d5e-140">The clipboard is a very loosely coupled exchange medium, where applications need only agree on the data format.</span></span> <span data-ttu-id="a3d5e-141">Приложения могут находиться на одном компьютере или на разных компьютерах в сети.</span><span class="sxs-lookup"><span data-stu-id="a3d5e-141">The applications can reside on the same computer or on different computers on a network.</span></span>

<span data-ttu-id="a3d5e-142">**Ключевой момент:** Все приложения должны поддерживать буфер обмена для тех форматов данных, которые они понимают.</span><span class="sxs-lookup"><span data-stu-id="a3d5e-142">**Key Point:** All applications should support the clipboard for those data formats that they understand.</span></span> <span data-ttu-id="a3d5e-143">Например, текстовый редактор или текстовый процессор должен иметь по крайней мере возможность создавать и принимать данные из буфера обмена в формате чистого текста.</span><span class="sxs-lookup"><span data-stu-id="a3d5e-143">For example, a text editor or word processor should at least be able to produce and accept clipboard data in pure text format.</span></span> <span data-ttu-id="a3d5e-144">Дополнительные сведения см. в разделе [буфер обмена](../dataxchg/clipboard.md).</span><span class="sxs-lookup"><span data-stu-id="a3d5e-144">For more information, see [Clipboard](../dataxchg/clipboard.md).</span></span>

## <a name="using-com-for-ipc"></a><span data-ttu-id="a3d5e-145">Использование COM для IPC</span><span class="sxs-lookup"><span data-stu-id="a3d5e-145">Using COM for IPC</span></span>

<span data-ttu-id="a3d5e-146">Приложения, использующие OLE для управления *составными документами*, то есть документы, состоящие из данных различных приложений.</span><span class="sxs-lookup"><span data-stu-id="a3d5e-146">Applications that use OLE manage *compound documents*—that is, documents made up of data from a variety of different applications.</span></span> <span data-ttu-id="a3d5e-147">OLE предоставляет службы, облегчающие приложениям вызов в других приложениях для редактирования данных.</span><span class="sxs-lookup"><span data-stu-id="a3d5e-147">OLE provides services that make it easy for applications to call on other applications for data editing.</span></span> <span data-ttu-id="a3d5e-148">Например, текстовый процессор, использующий OLE, может внедрить граф из электронной таблицы.</span><span class="sxs-lookup"><span data-stu-id="a3d5e-148">For example, a word processor that uses OLE could embed a graph from a spreadsheet.</span></span> <span data-ttu-id="a3d5e-149">Пользователь может автоматически запустить электронную таблицу с помощью текстового процессора, выбрав внедренную диаграмму для редактирования.</span><span class="sxs-lookup"><span data-stu-id="a3d5e-149">The user could start the spreadsheet automatically from within the word processor by choosing the embedded chart for editing.</span></span> <span data-ttu-id="a3d5e-150">OLE берет на себя запуск электронной таблицы и представление графа для редактирования.</span><span class="sxs-lookup"><span data-stu-id="a3d5e-150">OLE takes care of starting the spreadsheet and presenting the graph for editing.</span></span> <span data-ttu-id="a3d5e-151">Когда пользователь закрывает электронную таблицу, диаграмма будет обновлена в исходном документе текстового процессора.</span><span class="sxs-lookup"><span data-stu-id="a3d5e-151">When the user quit the spreadsheet, the graph would be updated in the original word processor document.</span></span> <span data-ttu-id="a3d5e-152">Электронная таблица является расширением текстового процессора.</span><span class="sxs-lookup"><span data-stu-id="a3d5e-152">The spreadsheet appears to be an extension of the word processor.</span></span>

<span data-ttu-id="a3d5e-153">Основой OLE является объектная модель компонента (COM).</span><span class="sxs-lookup"><span data-stu-id="a3d5e-153">The foundation of OLE is the Component Object Model (COM).</span></span> <span data-ttu-id="a3d5e-154">Программный компонент, использующий COM, может взаимодействовать с множеством других компонентов, даже если они еще не были написаны.</span><span class="sxs-lookup"><span data-stu-id="a3d5e-154">A software component that uses COM can communicate with a wide variety of other components, even those that have not yet been written.</span></span> <span data-ttu-id="a3d5e-155">Компоненты взаимодействуют как объекты и клиенты.</span><span class="sxs-lookup"><span data-stu-id="a3d5e-155">The components interact as objects and clients.</span></span> <span data-ttu-id="a3d5e-156">Распределенная модель COM расширяет модели программирования COM таким образом, чтобы она работала по сети.</span><span class="sxs-lookup"><span data-stu-id="a3d5e-156">Distributed COM extends the COM programming model so that it works across a network.</span></span>

<span data-ttu-id="a3d5e-157">**Ключевой момент:** OLE поддерживает составные документы и позволяет приложению включать внедренные или связанные данные, которые при выборе автоматически запускают другое приложение для редактирования данных.</span><span class="sxs-lookup"><span data-stu-id="a3d5e-157">**Key Point:** OLE supports compound documents and enables an application to include embedded or linked data that, when chosen, automatically starts another application for data editing.</span></span> <span data-ttu-id="a3d5e-158">Это позволяет расширить приложение с помощью любого другого приложения, использующего OLE.</span><span class="sxs-lookup"><span data-stu-id="a3d5e-158">This enables the application to be extended by any other application that uses OLE.</span></span> <span data-ttu-id="a3d5e-159">Объекты COM предоставляют доступ к данным объекта через один или несколько наборов связанных функций, известных как *интерфейсы*.</span><span class="sxs-lookup"><span data-stu-id="a3d5e-159">COM objects provide access to an object's data through one or more sets of related functions, known as *interfaces*.</span></span> <span data-ttu-id="a3d5e-160">Дополнительные сведения см. в разделе COM и ActiveX службы объектов.</span><span class="sxs-lookup"><span data-stu-id="a3d5e-160">For more information, see COM and ActiveX Object Services.</span></span>

## <a name="using-data-copy-for-ipc"></a><span data-ttu-id="a3d5e-161">Использование копирования данных для IPC</span><span class="sxs-lookup"><span data-stu-id="a3d5e-161">Using Data Copy for IPC</span></span>

<span data-ttu-id="a3d5e-162">Копирование данных позволяет приложению передавать данные в другое приложение с помощью сообщения [**WM \_ COPYDATA**](../dataxchg/wm-copydata.md) .</span><span class="sxs-lookup"><span data-stu-id="a3d5e-162">Data copy enables an application to send information to another application using the [**WM\_COPYDATA**](../dataxchg/wm-copydata.md) message.</span></span> <span data-ttu-id="a3d5e-163">Этот метод требует взаимодействия между отправляющим приложением и принимающим приложением.</span><span class="sxs-lookup"><span data-stu-id="a3d5e-163">This method requires cooperation between the sending application and the receiving application.</span></span> <span data-ttu-id="a3d5e-164">Принимающее приложение должно знать формат информации и уметь определять отправителя.</span><span class="sxs-lookup"><span data-stu-id="a3d5e-164">The receiving application must know the format of the information and be able to identify the sender.</span></span> <span data-ttu-id="a3d5e-165">Отправляющее приложение не может изменять память, на которую ссылаются указатели.</span><span class="sxs-lookup"><span data-stu-id="a3d5e-165">The sending application cannot modify the memory referenced by any pointers.</span></span>

<span data-ttu-id="a3d5e-166">**Ключевой момент:** Копирование данных можно использовать для быстрой отправки сведений в другое приложение с помощью системы обмена сообщениями Windows.</span><span class="sxs-lookup"><span data-stu-id="a3d5e-166">**Key Point:** Data copy can be used to quickly send information to another application using Windows messaging.</span></span> <span data-ttu-id="a3d5e-167">Дополнительные сведения см. в разделе [копирование данных](../dataxchg/data-copy.md).</span><span class="sxs-lookup"><span data-stu-id="a3d5e-167">For more information, see [Data Copy](../dataxchg/data-copy.md).</span></span>

## <a name="using-dde-for-ipc"></a><span data-ttu-id="a3d5e-168">Использование DDE для IPC</span><span class="sxs-lookup"><span data-stu-id="a3d5e-168">Using DDE for IPC</span></span>

<span data-ttu-id="a3d5e-169">DDE — это протокол, позволяющий приложениям обмениваться данными в различных форматах.</span><span class="sxs-lookup"><span data-stu-id="a3d5e-169">DDE is a protocol that enables applications to exchange data in a variety of formats.</span></span> <span data-ttu-id="a3d5e-170">Приложения могут использовать DDE для одноразовых обменов данными или для текущих обменов, в которых приложения обновляются по мере появления новых данных.</span><span class="sxs-lookup"><span data-stu-id="a3d5e-170">Applications can use DDE for one-time data exchanges or for ongoing exchanges in which the applications update one another as new data becomes available.</span></span>

<span data-ttu-id="a3d5e-171">Форматы данных, используемые DDE, совпадают с форматами, используемыми в буфере обмена.</span><span class="sxs-lookup"><span data-stu-id="a3d5e-171">The data formats used by DDE are the same as those used by the clipboard.</span></span> <span data-ttu-id="a3d5e-172">DDE можно рассматривать как расширение механизма буфера обмена.</span><span class="sxs-lookup"><span data-stu-id="a3d5e-172">DDE can be thought of as an extension of the clipboard mechanism.</span></span> <span data-ttu-id="a3d5e-173">Буфер обмена почти всегда используется для одноразового ответа на пользовательскую команду, например для выбора команды вставить в меню.</span><span class="sxs-lookup"><span data-stu-id="a3d5e-173">The clipboard is almost always used for a one-time response to a user command, such as choosing the Paste command from a menu.</span></span> <span data-ttu-id="a3d5e-174">DDE также обычно инициируется пользователем с помощью пользовательской команды, но часто остается без вмешательства пользователя.</span><span class="sxs-lookup"><span data-stu-id="a3d5e-174">DDE is also usually initiated by a user command, but it often continues to function without further user interaction.</span></span> <span data-ttu-id="a3d5e-175">Кроме того, можно определить пользовательские форматы данных DDE для особого целевого IPC между приложениями с более тесно связанными требованиями к обмену данными.</span><span class="sxs-lookup"><span data-stu-id="a3d5e-175">You can also define custom DDE data formats for special-purpose IPC between applications with more tightly coupled communications requirements.</span></span>

<span data-ttu-id="a3d5e-176">Обмен DDE может происходить между приложениями, запущенными на одном компьютере, или на разных компьютерах в сети.</span><span class="sxs-lookup"><span data-stu-id="a3d5e-176">DDE exchanges can occur between applications running on the same computer or on different computers on a network.</span></span>

<span data-ttu-id="a3d5e-177">**Ключевой момент:** DDE не так эффективнее, как новые технологии.</span><span class="sxs-lookup"><span data-stu-id="a3d5e-177">**Key Point:** DDE is not as efficient as newer technologies.</span></span> <span data-ttu-id="a3d5e-178">Тем не менее можно по-прежнему использовать DDE, если другие механизмы IPC не подходят или если необходимо взаимодействовать с существующим приложением, которое поддерживает только DDE.</span><span class="sxs-lookup"><span data-stu-id="a3d5e-178">However, you can still use DDE if other IPC mechanisms are not suitable or if you must interface with an existing application that only supports DDE.</span></span> <span data-ttu-id="a3d5e-179">Дополнительные сведения см. в разделе [Платформа динамических данных Exchange](../dataxchg/dynamic-data-exchange.md) и [Платформа динамических данных Библиотека управления Exchange](../dataxchg/dynamic-data-exchange-management-library.md).</span><span class="sxs-lookup"><span data-stu-id="a3d5e-179">For more information, see [Dynamic Data Exchange](../dataxchg/dynamic-data-exchange.md) and [Dynamic Data Exchange Management Library](../dataxchg/dynamic-data-exchange-management-library.md).</span></span>

## <a name="using-a-file-mapping-for-ipc"></a><span data-ttu-id="a3d5e-180">Использование сопоставления файлов для IPC</span><span class="sxs-lookup"><span data-stu-id="a3d5e-180">Using a File Mapping for IPC</span></span>

<span data-ttu-id="a3d5e-181">*Сопоставление файлов* позволяет процессу обрабатывать содержимое файла так, будто он был блоком памяти в адресном пространстве процесса.</span><span class="sxs-lookup"><span data-stu-id="a3d5e-181">*File mapping* enables a process to treat the contents of a file as if they were a block of memory in the process's address space.</span></span> <span data-ttu-id="a3d5e-182">Процесс может использовать простые операции с указателями для проверки и изменения содержимого файла.</span><span class="sxs-lookup"><span data-stu-id="a3d5e-182">The process can use simple pointer operations to examine and modify the contents of the file.</span></span> <span data-ttu-id="a3d5e-183">Когда двум или более процессам выполняется доступ к одному сопоставлению файлов, каждый процесс получает указатель на память в своем собственном адресном пространстве, который может использоваться для чтения или изменения содержимого файла.</span><span class="sxs-lookup"><span data-stu-id="a3d5e-183">When two or more processes access the same file mapping, each process receives a pointer to memory in its own address space that it can use to read or modify the contents of the file.</span></span> <span data-ttu-id="a3d5e-184">Для предотвращения повреждения данных в многозадачной среде процессы должны использовать объект синхронизации, например семафор.</span><span class="sxs-lookup"><span data-stu-id="a3d5e-184">The processes must use a synchronization object, such as a semaphore, to prevent data corruption in a multitasking environment.</span></span>

<span data-ttu-id="a3d5e-185">Для предоставления *именованной общей памяти* между процессами можно использовать особый вариант сопоставления файлов.</span><span class="sxs-lookup"><span data-stu-id="a3d5e-185">You can use a special case of file mapping to provide *named shared memory* between processes.</span></span> <span data-ttu-id="a3d5e-186">При указании файла подкачки системы при создании объекта сопоставления файлов объект сопоставления файлов рассматривается как блок общей памяти.</span><span class="sxs-lookup"><span data-stu-id="a3d5e-186">If you specify the system swapping file when creating a file-mapping object, the file-mapping object is treated as a shared memory block.</span></span> <span data-ttu-id="a3d5e-187">Другие процессы могут получить доступ к тому же блоку памяти, открыв тот же объект сопоставления файлов.</span><span class="sxs-lookup"><span data-stu-id="a3d5e-187">Other processes can access the same block of memory by opening the same file-mapping object.</span></span>

<span data-ttu-id="a3d5e-188">Сопоставление файлов является довольно эффективным, а также предоставляет поддерживаемые атрибуты безопасности операционной системы, которые могут помочь предотвратить несанкционированный повреждение данных.</span><span class="sxs-lookup"><span data-stu-id="a3d5e-188">File mapping is quite efficient and also provides operating-system–supported security attributes that can help prevent unauthorized data corruption.</span></span> <span data-ttu-id="a3d5e-189">Сопоставление файлов может использоваться только между процессами на локальном компьютере. его нельзя использовать по сети.</span><span class="sxs-lookup"><span data-stu-id="a3d5e-189">File mapping can be used only between processes on a local computer; it cannot be used over a network.</span></span>

<span data-ttu-id="a3d5e-190">**Ключевой момент:** Сопоставление файлов является эффективным способом для двух или более процессов на одном компьютере для совместного использования данных, но необходимо обеспечить синхронизацию между процессами.</span><span class="sxs-lookup"><span data-stu-id="a3d5e-190">**Key Point:** File mapping is an efficient way for two or more processes on the same computer to share data, but you must provide synchronization between the processes.</span></span> <span data-ttu-id="a3d5e-191">Дополнительные сведения см. в разделе [Сопоставление файлов](/windows/desktop/Memory/file-mapping) и [Синхронизация](/windows/desktop/Sync/synchronization).</span><span class="sxs-lookup"><span data-stu-id="a3d5e-191">For more information, see [File Mapping](/windows/desktop/Memory/file-mapping) and [Synchronization](/windows/desktop/Sync/synchronization).</span></span>

## <a name="using-a-mailslot-for-ipc"></a><span data-ttu-id="a3d5e-192">Использование слота для IPC</span><span class="sxs-lookup"><span data-stu-id="a3d5e-192">Using a Mailslot for IPC</span></span>

<span data-ttu-id="a3d5e-193">Маилслотс обеспечивают односторонний обмен данными.</span><span class="sxs-lookup"><span data-stu-id="a3d5e-193">Mailslots provide one-way communication.</span></span> <span data-ttu-id="a3d5e-194">Любой процесс, создающий почтовый слот, — это *сервер слота сообщений*.</span><span class="sxs-lookup"><span data-stu-id="a3d5e-194">Any process that creates a mailslot is a *mailslot server*.</span></span> <span data-ttu-id="a3d5e-195">Другие процессы, называемые *клиентами слота*, отправляют сообщения на сервер слота, записывая сообщение в почтовый слот.</span><span class="sxs-lookup"><span data-stu-id="a3d5e-195">Other processes, called *mailslot clients*, send messages to the mailslot server by writing a message to its mailslot.</span></span> <span data-ttu-id="a3d5e-196">Входящие сообщения всегда добавляются в почтовый слот.</span><span class="sxs-lookup"><span data-stu-id="a3d5e-196">Incoming messages are always appended to the mailslot.</span></span> <span data-ttu-id="a3d5e-197">Почтовый слот сохраняет сообщения до тех пор, пока сервер слота не прочитает их.</span><span class="sxs-lookup"><span data-stu-id="a3d5e-197">The mailslot saves the messages until the mailslot server has read them.</span></span> <span data-ttu-id="a3d5e-198">Процесс может быть как сервером слота, так и клиентом слота, поэтому двустороннее взаимодействие возможно с помощью нескольких маилслотс.</span><span class="sxs-lookup"><span data-stu-id="a3d5e-198">A process can be both a mailslot server and a mailslot client, so two-way communication is possible using multiple mailslots.</span></span>

<span data-ttu-id="a3d5e-199">Клиент слота сообщений может отправить сообщение в почтовый слот на локальном компьютере, в почтовый слот другого компьютера или на все маилслотс с тем же именем на всех компьютерах в указанном сетевом домене.</span><span class="sxs-lookup"><span data-stu-id="a3d5e-199">A mailslot client can send a message to a mailslot on its local computer, to a mailslot on another computer, or to all mailslots with the same name on all computers in a specified network domain.</span></span> <span data-ttu-id="a3d5e-200">Сообщения, передаваемые во все маилслотс в домене, не могут быть длиннее 400 байт, а сообщения, отправляемые в один почтовый слот, ограничиваются только максимальным размером сообщения, указанным сервером слота при создании слота.</span><span class="sxs-lookup"><span data-stu-id="a3d5e-200">Messages broadcast to all mailslots on a domain can be no longer than 400 bytes, whereas messages sent to a single mailslot are limited only by the maximum message size specified by the mailslot server when it created the mailslot.</span></span>

<span data-ttu-id="a3d5e-201">**Ключевой момент:** Маилслотс предлагают пользователям простой способ отправки и получения коротких сообщений.</span><span class="sxs-lookup"><span data-stu-id="a3d5e-201">**Key Point:** Mailslots offer an easy way for applications to send and receive short messages.</span></span> <span data-ttu-id="a3d5e-202">Они также предоставляют возможность рассылать сообщения между всеми компьютерами в сетевом домене.</span><span class="sxs-lookup"><span data-stu-id="a3d5e-202">They also provide the ability to broadcast messages across all computers in a network domain.</span></span> <span data-ttu-id="a3d5e-203">Дополнительные сведения см. в разделе [маилслотс](mailslots.md).</span><span class="sxs-lookup"><span data-stu-id="a3d5e-203">For more information, see [Mailslots](mailslots.md).</span></span>

## <a name="using-pipes-for-ipc"></a><span data-ttu-id="a3d5e-204">Использование каналов для IPC</span><span class="sxs-lookup"><span data-stu-id="a3d5e-204">Using Pipes for IPC</span></span>

<span data-ttu-id="a3d5e-205">Существует два типа каналов для двусторонней связи: анонимные каналы и именованные каналы.</span><span class="sxs-lookup"><span data-stu-id="a3d5e-205">There are two types of pipes for two-way communication: anonymous pipes and named pipes.</span></span> <span data-ttu-id="a3d5e-206">*Анонимные каналы* позволяют связанным процессам передавать данные друг другу.</span><span class="sxs-lookup"><span data-stu-id="a3d5e-206">*Anonymous pipes* enable related processes to transfer information to each other.</span></span> <span data-ttu-id="a3d5e-207">Как правило, анонимный канал используется для перенаправления стандартного ввода или вывода дочернего процесса, чтобы он мог обмениваться данными с родительским процессом.</span><span class="sxs-lookup"><span data-stu-id="a3d5e-207">Typically, an anonymous pipe is used for redirecting the standard input or output of a child process so that it can exchange data with its parent process.</span></span> <span data-ttu-id="a3d5e-208">Для обмена данными в обоих направлениях (дуплексная операция) необходимо создать два анонимных канала.</span><span class="sxs-lookup"><span data-stu-id="a3d5e-208">To exchange data in both directions (duplex operation), you must create two anonymous pipes.</span></span> <span data-ttu-id="a3d5e-209">Родительский процесс записывает данные в один канал, используя его маркер записи, в то время как дочерний процесс считывает данные из этого канала, используя его маркер чтения.</span><span class="sxs-lookup"><span data-stu-id="a3d5e-209">The parent process writes data to one pipe using its write handle, while the child process reads the data from that pipe using its read handle.</span></span> <span data-ttu-id="a3d5e-210">Аналогичным образом дочерний процесс записывает данные в другой канал, а родительский процесс считывает из него.</span><span class="sxs-lookup"><span data-stu-id="a3d5e-210">Similarly, the child process writes data to the other pipe and the parent process reads from it.</span></span> <span data-ttu-id="a3d5e-211">Анонимные каналы не могут использоваться по сети и не могут использоваться между несвязанными процессами.</span><span class="sxs-lookup"><span data-stu-id="a3d5e-211">Anonymous pipes cannot be used over a network, nor can they be used between unrelated processes.</span></span>

<span data-ttu-id="a3d5e-212">*Именованные каналы* используются для обмена данными между процессами, которые не являются связанными процессами и между процессами на разных компьютерах.</span><span class="sxs-lookup"><span data-stu-id="a3d5e-212">*Named pipes* are used to transfer data between processes that are not related processes and between processes on different computers.</span></span> <span data-ttu-id="a3d5e-213">Как правило, серверный процесс именованного канала создает именованный канал с известным именем или именем, которое должно обмениваться с клиентами.</span><span class="sxs-lookup"><span data-stu-id="a3d5e-213">Typically, a named-pipe server process creates a named pipe with a well-known name or a name that is to be communicated to its clients.</span></span> <span data-ttu-id="a3d5e-214">Клиентский процесс именованного канала, который знает имя канала, может открыть его другой конец с учетом ограничений доступа, заданных процессом сервера именованных каналов.</span><span class="sxs-lookup"><span data-stu-id="a3d5e-214">A named-pipe client process that knows the name of the pipe can open its other end, subject to access restrictions specified by named-pipe server process.</span></span> <span data-ttu-id="a3d5e-215">После того как сервер и клиент подключены к каналу, они могут обмениваться данными, выполняя операции чтения и записи в канале.</span><span class="sxs-lookup"><span data-stu-id="a3d5e-215">After both the server and client have connected to the pipe, they can exchange data by performing read and write operations on the pipe.</span></span>

<span data-ttu-id="a3d5e-216">**Ключевой момент:** Анонимные каналы предоставляют эффективный способ перенаправлять стандартные входные или выходные данные в дочерние процессы на том же компьютере.</span><span class="sxs-lookup"><span data-stu-id="a3d5e-216">**Key Point:** Anonymous pipes provide an efficient way to redirect standard input or output to child processes on the same computer.</span></span> <span data-ttu-id="a3d5e-217">Именованные каналы предоставляют простой программный интерфейс для передачи данных между двумя процессами независимо от того, находятся ли они на одном компьютере или по сети.</span><span class="sxs-lookup"><span data-stu-id="a3d5e-217">Named pipes provide a simple programming interface for transferring data between two processes, whether they reside on the same computer or over a network.</span></span> <span data-ttu-id="a3d5e-218">Дополнительные сведения см. в разделе [каналы](pipes.md).</span><span class="sxs-lookup"><span data-stu-id="a3d5e-218">For more information, see [Pipes](pipes.md).</span></span>

## <a name="using-rpc-for-ipc"></a><span data-ttu-id="a3d5e-219">Использование RPC для IPC</span><span class="sxs-lookup"><span data-stu-id="a3d5e-219">Using RPC for IPC</span></span>

<span data-ttu-id="a3d5e-220">RPC позволяет приложениям вызывать функции удаленно.</span><span class="sxs-lookup"><span data-stu-id="a3d5e-220">RPC enables applications to call functions remotely.</span></span> <span data-ttu-id="a3d5e-221">Таким образом, RPC делает IPC проще, чем вызов функции.</span><span class="sxs-lookup"><span data-stu-id="a3d5e-221">Therefore, RPC makes IPC as easy as calling a function.</span></span> <span data-ttu-id="a3d5e-222">RPC работает между процессами на одном компьютере или на разных компьютерах в сети.</span><span class="sxs-lookup"><span data-stu-id="a3d5e-222">RPC operates between processes on a single computer or on different computers on a network.</span></span>

<span data-ttu-id="a3d5e-223">RPC, предоставляемый Windows, соответствует требованиям к распределенным вычислительным средам (использование) Open Software Foundation (DCE).</span><span class="sxs-lookup"><span data-stu-id="a3d5e-223">The RPC provided by Windows is compliant with the Open Software Foundation (OSF) Distributed Computing Environment (DCE).</span></span> <span data-ttu-id="a3d5e-224">Это означает, что приложения, использующие RPC, могут взаимодействовать с приложениями, работающими с другими операционными системами, поддерживающими DCE.</span><span class="sxs-lookup"><span data-stu-id="a3d5e-224">This means that applications that use RPC are able to communicate with applications running with other operating systems that support DCE.</span></span> <span data-ttu-id="a3d5e-225">RPC автоматически поддерживает преобразование данных для учета различных архитектур оборудования и для упорядочения байтов между разнородными средами.</span><span class="sxs-lookup"><span data-stu-id="a3d5e-225">RPC automatically supports data conversion to account for different hardware architectures and for byte-ordering between dissimilar environments.</span></span>

<span data-ttu-id="a3d5e-226">Клиенты и серверы RPC тесно связаны, но по-прежнему поддерживают высокую производительность.</span><span class="sxs-lookup"><span data-stu-id="a3d5e-226">RPC clients and servers are tightly coupled but still maintain high performance.</span></span> <span data-ttu-id="a3d5e-227">Система активно использует RPC для упрощения связи между клиентом и сервером между различными частями операционной системы.</span><span class="sxs-lookup"><span data-stu-id="a3d5e-227">The system makes extensive use of RPC to facilitate a client/server relationship between different parts of the operating system.</span></span>

<span data-ttu-id="a3d5e-228">**Ключевой момент:** RPC — это интерфейс уровня функции с поддержкой автоматического преобразования данных и взаимодействия с другими операционными системами.</span><span class="sxs-lookup"><span data-stu-id="a3d5e-228">**Key Point:** RPC is a function-level interface, with support for automatic data conversion and for communications with other operating systems.</span></span> <span data-ttu-id="a3d5e-229">С помощью RPC можно создавать высокопроизводительные распределенные приложения с высоким уровнем производительности.</span><span class="sxs-lookup"><span data-stu-id="a3d5e-229">Using RPC, you can create high-performance, tightly coupled distributed applications.</span></span> <span data-ttu-id="a3d5e-230">Дополнительные сведения см. в разделе [компоненты Microsoft RPC](/windows/desktop/Rpc/microsoft-rpc-components).</span><span class="sxs-lookup"><span data-stu-id="a3d5e-230">For more information, see [Microsoft RPC Components](/windows/desktop/Rpc/microsoft-rpc-components).</span></span>

## <a name="using-windows-sockets-for-ipc"></a><span data-ttu-id="a3d5e-231">Использование сокетов Windows для IPC</span><span class="sxs-lookup"><span data-stu-id="a3d5e-231">Using Windows Sockets for IPC</span></span>

<span data-ttu-id="a3d5e-232">Сокеты Windows — это независимый от протокола интерфейс.</span><span class="sxs-lookup"><span data-stu-id="a3d5e-232">Windows Sockets is a protocol-independent interface.</span></span> <span data-ttu-id="a3d5e-233">В нем используются возможности связи базовых протоколов.</span><span class="sxs-lookup"><span data-stu-id="a3d5e-233">It takes advantage of the communication capabilities of the underlying protocols.</span></span> <span data-ttu-id="a3d5e-234">В Windows Sockets 2 при необходимости можно использовать обработчик сокетов в качестве файла с стандартными функциями файлового ввода-вывода.</span><span class="sxs-lookup"><span data-stu-id="a3d5e-234">In Windows Sockets 2, a socket handle can optionally be used as a file handle with the standard file I/O functions.</span></span>

<span data-ttu-id="a3d5e-235">Сокеты Windows основаны на гнездах, которые впервые популярны по Berkeley Software Distribution (BSD).</span><span class="sxs-lookup"><span data-stu-id="a3d5e-235">Windows Sockets are based on the sockets first popularized by Berkeley Software Distribution (BSD).</span></span> <span data-ttu-id="a3d5e-236">Приложение, использующее сокеты Windows, может взаимодействовать с другой реализацией сокета в других типах систем.</span><span class="sxs-lookup"><span data-stu-id="a3d5e-236">An application that uses Windows Sockets can communicate with other socket implementation on other types of systems.</span></span> <span data-ttu-id="a3d5e-237">Однако не все поставщики транспортных служб поддерживают все доступные варианты.</span><span class="sxs-lookup"><span data-stu-id="a3d5e-237">However, not all transport service providers support all available options.</span></span>

<span data-ttu-id="a3d5e-238">**Ключевой момент:** Сокеты Windows — это независимый от протокола интерфейс, поддерживающий текущие и новые сетевые возможности.</span><span class="sxs-lookup"><span data-stu-id="a3d5e-238">**Key Point:** Windows Sockets is a protocol-independent interface capable of supporting current and emerging networking capabilities.</span></span> <span data-ttu-id="a3d5e-239">Дополнительные сведения см. в разделе [сокеты Windows 2](/windows/desktop/WinSock/windows-sockets-start-page-2).</span><span class="sxs-lookup"><span data-stu-id="a3d5e-239">For more information, see [Windows Sockets 2](/windows/desktop/WinSock/windows-sockets-start-page-2).</span></span>

 

 
