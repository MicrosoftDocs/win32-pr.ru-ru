---
description: Приложение должно открыть ключ, прежде чем он сможет добавить данные в реестр.
ms.assetid: db747656-b414-4594-ad39-6b476799060c
title: Стандартные ключи
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 6d26668f6a5ac80339c99062cc83a270bcb62e8a
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "103998677"
---
# <a name="predefined-keys"></a>Стандартные ключи

Приложение должно открыть ключ, прежде чем он сможет добавить данные в реестр. Чтобы открыть ключ, приложение должно предоставить маркер другому ключу в уже открытом реестре. Система определяет стандартные ключи, которые всегда открыты. Стандартные ключи помогают приложению перемещаться в реестре и позволяют разрабатывать средства, позволяющие системному администратору управлять категориями данных. Приложения, добавляющие данные в реестр, должны всегда работать в пределах платформы предопределенных ключей, поэтому средства администрирования могут находить и использовать новые данные.

Приложение может использовать дескрипторы этих ключей в качестве точек входа в реестр. Эти дескрипторы действительны для всех реализаций реестра, хотя использование этих дескрипторов может отличаться от платформы к платформе. Кроме того, для конкретных платформ определены другие стандартные дескрипторы. Ниже приведены дескрипторы стандартных ключей.



| Дескриптор                                              | Описание                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|-----------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **\_корневой узел классов hKey \_**<br/>                  | Записи реестра, подчиненные этому разделу, определяют типы (или классы) документов и свойства, связанные с этими типами. Приложения оболочки и COM используют информацию, хранящуюся в этом разделе.<br/> Этот ключ также обеспечивает обратную совместимость с базой данных регистрации Windows 3,1, сохраняя сведения для поддержки DDE и OLE. Средства просмотра файлов и расширения пользовательского интерфейса хранят свои идентификаторы классов OLE **в \_ \_ корне классов hKey**, а внутрипроцессный серверы регистрируются в этом разделе.<br/> Этот обработчик не следует использовать в службе или в приложении, которое олицетворяет разных пользователей.<br/> Дополнительные сведения см. в [разделе \_ \_ корневые классы hKey](hkey-classes-root-key.md).<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| **\_Текущая \_ Конфигурация hKey**<br/>                | Содержит сведения о текущем профиле оборудования для локальной системы компьютера. Сведения в разделе **hKey \_ Current \_ config** описывают только различия между текущей конфигурацией оборудования и стандартной конфигурацией. Сведения о стандартной конфигурации оборудования хранятся в **программном** и **системном** ключах **\_ локального \_ компьютера hKey**.<br/> **HKey \_ Текущая \_ Конфигурация** — это псевдоним для **\_ \_ профилей оборудования CurrentControlSet локального компьютера hKey в \\ \\ \\ \\ текущий момент**.<br/> Дополнительные сведения см. в разделе [hKey \_ Current \_ config](/previous-versions/windows/it-pro/windows-server-2003/cc776168(v=ws.10)).<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| **HKEY \_ текущего \_ пользователя**<br/>                  | Записи реестра, подчиненные этому разделу, определяют предпочтения текущего пользователя. Эти настройки включают в себя параметры переменных среды, данные о группах программ, цветах, принтерах, сетевых подключениях и предпочтениях приложений. Этот ключ упрощает установку параметров текущего пользователя. ключ сопоставляется с ветвью текущего пользователя в разделе **hKey \_ Users**. В разделе **hKey \_ текущий \_ пользователь** поставщики программного обеспечения хранят текущие предпочтения пользователя для использования в своих приложениях. Корпорация Майкрософт, например, создает для своих приложений ключ **\_ \_ \\ \\ Майкрософт для текущего пользователя hKey** , при котором каждое приложение создает собственный подраздел в разделе **Microsoft** Key.<br/> Сопоставление между **\_ текущим \_ пользователем hKey** и **\_ пользователями hKey** выполняется по процессам и устанавливается в первый раз, когда процесс ссылается **на \_ текущий \_ пользователь hKey**. Сопоставление основано на контексте безопасности первого потока, который должен ссылаться на **\_ текущего \_ пользователя hKey**. Если в этом контексте безопасности нет куста реестра, загруженного в раздел **hKey \_ Users**, сопоставление устанавливается с **\_ пользователями hKey \\ . По умолчанию**. После установки этого сопоставления оно сохраняется даже в случае изменения контекста безопасности потока.<br/> Все записи реестра в разделе **hKey \_ текущий \_ пользователь** , за исключением тех, которые входят в раздел **hKey \_ текущего \_ пользователя \\ \\** , включены в реестр для отдельных пользователей в перемещаемом профиле пользователя. Чтобы исключить другие записи из перемещаемого профиля пользователя, сохраните их в **hKey \_ \_ \_ локальные \_ параметры текущего пользователя**.<br/> Этот обработчик не следует использовать в службе или в приложении, которое олицетворяет разных пользователей. Вместо этого вызовите функцию [**регопенкуррентусер**](/windows/desktop/api/Winreg/nf-winreg-regopencurrentuser) .<br/> Дополнительные сведения см. в разделе [hKey \_ текущий \_ пользователь](/previous-versions/windows/it-pro/windows-server-2003/cc779816(v=ws.10)).<br/> |
| **\_ \_ \_ локальные параметры hKey для текущего пользователя \_**<br/> | Записи реестра, подчиненные этому разделу, определяют предпочтения текущего пользователя, которые являются локальными для компьютера. Эти записи не включены в раздел реестра для пользователей перемещаемого профиля пользователя. Windows **server 2008, Windows Vista, Windows server 2003 и Windows XP/2000:** Этот ключ поддерживается начиная с Windows 7 и Windows Server 2008 R2.<br/> <br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| **HKEY \_ локальный \_ компьютер**<br/>                 | Записи реестра, подчиненные этому разделу, определяют физическое состояние компьютера, включая данные о типе шины, системной памяти, а также об установленном оборудовании и программном обеспечении. Он содержит подразделы, содержащие текущие данные конфигурации, включая сведения о самонастраивающийся (ветвь **enum** , которая содержит полный список всех устройств, которые когда-либо находились в системе), параметры входа в сеть, сведения о сетевой безопасности, сведения о программном обеспечении (например, имена серверов и расположение сервера) и другие сведения о системе.<br/> Дополнительные сведения см. в разделе [hKey \_ Local \_ Machine](/previous-versions/windows/it-pro/windows-server-2003/cc784983(v=ws.10)).<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| **\_данные о производительности hKey \_**<br/>              | Записи реестра, подчиненные этому разделу, позволяют получать доступ к данным о производительности. Данные на самом деле не хранятся в реестре; функции реестра приводят к тому, что система соберет данные из источника.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| **\_нлстекст производительности \_ hKey**<br/>           | Записи реестра, подчиненные этому ключу, ссылаются на текстовые строки, описывающие счетчики на локальном языке области, в которой работает компьютерная система. Эти записи недоступны для Regedit.exe и Regedt32.exe. **Windows 2000:** Этот ключ не поддерживается.<br/> <br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| **\_текст о производительности hKey \_**<br/>              | Записи реестра, подчиненные этому ключу, ссылаются на текстовые строки, описывающие счетчики на английском языке США. Эти записи недоступны для Regedit.exe и Regedt32.exe. **Windows 2000:** Этот ключ не поддерживается.<br/> <br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| **\_Пользователи hKey**<br/>                          | Записи реестра, подчиненные этому разделу, определяют конфигурацию пользователя по умолчанию для новых пользователей на локальном компьютере и конфигурацию пользователя для текущего пользователя.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |



 

Функция [**реговерридепредефкэй**](/windows/desktop/api/Winreg/nf-winreg-regoverridepredefkey) позволяет сопоставлять предопределенный раздел реестра с указанным ключом в реестре. Например, программа установки программного обеспечения может сопоставить предопределенный ключ перед установкой компонента DLL. Это позволяет программе установки легко проверить сведения, записываемые процедурой установки библиотеки DLL в предопределенный раздел.

Функции [**регдисаблепредефинедкаче**](/windows/desktop/api/Winreg/nf-winreg-regdisablepredefinedcache) и [**регдисаблепредефинедкачикс**](/windows/desktop/api/Winreg/nf-winreg-regdisablepredefinedcacheex) отключают кэширование дескрипторов для предопределенных дескрипторов реестра. Службы, использующие олицетворение, должны вызывать **регдисаблепредефинедкачикс** перед использованием предопределенных дескрипторов реестра.

Стандартные дескрипторы не являются потокобезопасными. Закрытие предопределенного маркера в одном потоке влияет на любые другие потоки, использующие этот обработчик.

 

