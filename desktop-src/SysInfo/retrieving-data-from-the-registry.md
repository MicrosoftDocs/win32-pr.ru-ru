---
description: Чтобы получить данные из реестра, приложение обычно перечисляет подразделы ключа до тех пор, пока не найдет конкретный, а затем извлечет данные из значения или связанных с ним значений.
ms.assetid: ce4be388-5506-4d01-a73c-33372ef4ccd7
title: Получение данных из реестра
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 45d8dd6f6e4d667cf2760c7cba441200755fb6c3
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "104081434"
---
# <a name="retrieving-data-from-the-registry"></a>Получение данных из реестра

Чтобы получить данные из реестра, приложение обычно перечисляет подразделы ключа до тех пор, пока не найдет конкретный, а затем извлечет данные из значения или связанных с ним значений. Приложение может вызвать функцию [**реженумкэйекс**](/windows/desktop/api/Winreg/nf-winreg-regenumkeyexa) для перечисления подразделов заданного ключа.

Чтобы получить подробные данные о конкретном подразделе, приложение может вызвать функцию [**регкуеринфокэй**](/windows/desktop/api/Winreg/nf-winreg-regqueryinfokeya) . Функция [**регжеткэйсекурити**](/windows/desktop/api/winreg/nf-winreg-reggetkeysecurity) извлекает копию дескриптора безопасности, защищающего ключ.

Приложение может использовать функцию [**реженумвалуе**](/windows/desktop/api/Winreg/nf-winreg-regenumvaluea) для перечисления значений для данного ключа, а функция [**процедура RegQueryValueEx**](/windows/desktop/api/Winreg/nf-winreg-regqueryvalueexa) — для получения определенного значения для ключа. Приложение обычно вызывает **реженумвалуе** для определения имен значений, а затем **процедура RegQueryValueEx** для получения данных для имен.

Функция [**регкуеримултиплевалуес**](/windows/desktop/api/Winreg/nf-winreg-regquerymultiplevaluesa) Извлекает тип и данные для списка имен значений, связанных с открытым ключом реестра. Эта функция полезна для поставщиков динамических ключей, так как обеспечивает согласованность данных за счет извлечения нескольких значений в атомарной операции.

Так как другие приложения могут изменять данные в значении реестра между моментом, когда приложение может считывать значение и использовать его, может потребоваться убедиться в том, что приложение содержит последние данные. Функцию [**регнотифичанжекэйвалуе**](/windows/desktop/api/Winreg/nf-winreg-regnotifychangekeyvalue) можно использовать для уведомления вызывающего потока о внесении изменений в атрибуты или содержимое раздела реестра или при удалении ключа. Функция сообщает объекту события об уведомлении вызывающей стороны. Если поток, вызывающий **регнотифичанжекэйвалуе** , завершает работу, событие получает сигнал и отслеживание раздела реестра останавливается.

Вы можете контролировать или указывать, какие изменения должны быть переданы с помощью фильтра уведомления или флага. Как правило, изменения передаются посредством сигнализации о событии, указанном для функции. Обратите внимание, что функция [**регнотифичанжекэйвалуе**](/windows/desktop/api/Winreg/nf-winreg-regnotifychangekeyvalue) не работает с удаленными дескрипторами.

Дополнительные сведения о мониторинге операций с реестром см. в разделе [**Реестр**](/windows/desktop/ETW/registry).

 

 
