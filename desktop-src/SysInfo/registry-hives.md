---
description: Hive — это логическая группа ключей, подразделов и значений в реестре с набором вспомогательных файлов, содержащих резервные копии своих данных.
ms.assetid: fe517d88-7b03-4dc3-b3db-6a92665bca8e
title: Кусты реестра
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 05f942a275855c710de53a0d93df0b4654dd596f
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "103910320"
---
# <a name="registry-hives"></a><span data-ttu-id="dbb92-103">Кусты реестра</span><span class="sxs-lookup"><span data-stu-id="dbb92-103">Registry Hives</span></span>

<span data-ttu-id="dbb92-104">*Hive* — это логическая группа ключей, подразделов и значений в реестре, которая содержит набор вспомогательных файлов, загружаемых в память при запуске операционной системы или при входе пользователя в систему.</span><span class="sxs-lookup"><span data-stu-id="dbb92-104">A *hive* is a logical group of keys, subkeys, and values in the registry that has a set of supporting files loaded into memory when the operating system is started or a user logs in.</span></span>

<span data-ttu-id="dbb92-105">Каждый раз, когда новый пользователь входит в систему, для этого пользователя создается новый куст с отдельным файлом для профиля пользователя.</span><span class="sxs-lookup"><span data-stu-id="dbb92-105">Each time a new user logs on to a computer, a new hive is created for that user with a separate file for the user profile.</span></span> <span data-ttu-id="dbb92-106">Это называется *Hive профиля пользователя*.</span><span class="sxs-lookup"><span data-stu-id="dbb92-106">This is called the *user profile hive*.</span></span> <span data-ttu-id="dbb92-107">Куст пользователя содержит определенные данные реестра, относящиеся к параметрам приложения, рабочему столу, окружению, сетевым подключениям и принтерам пользователя.</span><span class="sxs-lookup"><span data-stu-id="dbb92-107">A user's hive contains specific registry information pertaining to the user's application settings, desktop, environment, network connections, and printers.</span></span> <span data-ttu-id="dbb92-108">Кусты профиля пользователя находятся в разделе " **\_ Пользователи раздела hKey** ".</span><span class="sxs-lookup"><span data-stu-id="dbb92-108">User profile hives are located under the **HKEY\_USERS** key.</span></span>

<span data-ttu-id="dbb92-109">Файлы реестра имеют два следующих формата: Standard и latest.</span><span class="sxs-lookup"><span data-stu-id="dbb92-109">Registry files have the following two formats: standard and latest.</span></span> <span data-ttu-id="dbb92-110">Стандартный формат — единственный формат, поддерживаемый Windows 2000.</span><span class="sxs-lookup"><span data-stu-id="dbb92-110">The standard format is the only format supported by Windows 2000.</span></span> <span data-ttu-id="dbb92-111">Кроме того, она поддерживается в более поздних версиях Windows для обеспечения обратной совместимости.</span><span class="sxs-lookup"><span data-stu-id="dbb92-111">It is also supported by later versions of Windows for backward compatibility.</span></span> <span data-ttu-id="dbb92-112">Последний формат поддерживается начиная с Windows XP.</span><span class="sxs-lookup"><span data-stu-id="dbb92-112">The latest format is supported starting with Windows XP.</span></span> <span data-ttu-id="dbb92-113">В версиях Windows, поддерживающих последний формат, следующие кусты по-прежнему используют стандартный формат: **hKey \_ текущий \_ пользователь**, **hKey \_ Local \_ Machine \\ SAM**, **hKey \_ локальный \_ компьютер \\** и **Пользователи hKey \_ \\ . ПО УМОЛЧАНИю**; все остальные кусты используют последний формат.</span><span class="sxs-lookup"><span data-stu-id="dbb92-113">On versions of Windows that support the latest format, the following hives still use the standard format: **HKEY\_CURRENT\_USER**, **HKEY\_LOCAL\_MACHINE\\SAM**, **HKEY\_LOCAL\_MACHINE\\Security**, and **HKEY\_USERS\\.DEFAULT**; all other hives use the latest format.</span></span>

<span data-ttu-id="dbb92-114">Большинство вспомогательных файлов для кустов находятся в каталоге% SystemRoot% \\ system32 \\ config.</span><span class="sxs-lookup"><span data-stu-id="dbb92-114">Most of the supporting files for the hives are in the %SystemRoot%\\System32\\Config directory.</span></span> <span data-ttu-id="dbb92-115">Эти файлы обновляются каждый раз при входе пользователя в систему.</span><span class="sxs-lookup"><span data-stu-id="dbb92-115">These files are updated each time a user logs on.</span></span> <span data-ttu-id="dbb92-116">Расширения имен файлов в этих каталогах или в некоторых случаях отсутствия расширения указывают тип данных, которые они содержат.</span><span class="sxs-lookup"><span data-stu-id="dbb92-116">The file name extensions of the files in these directories, or in some cases a lack of an extension, indicate the type of data they contain.</span></span> <span data-ttu-id="dbb92-117">В следующей таблице перечислены эти расширения вместе с описанием данных в файле.</span><span class="sxs-lookup"><span data-stu-id="dbb92-117">The following table lists these extensions along with a description of the data in the file.</span></span>



| <span data-ttu-id="dbb92-118">Расширение</span><span class="sxs-lookup"><span data-stu-id="dbb92-118">Extension</span></span>       | <span data-ttu-id="dbb92-119">Описание</span><span class="sxs-lookup"><span data-stu-id="dbb92-119">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|-----------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="dbb92-120">нет</span><span class="sxs-lookup"><span data-stu-id="dbb92-120">none</span></span><br/> | <span data-ttu-id="dbb92-121">Полная копия данных Hive.</span><span class="sxs-lookup"><span data-stu-id="dbb92-121">A complete copy of the hive data.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| <span data-ttu-id="dbb92-122">. Alt</span><span class="sxs-lookup"><span data-stu-id="dbb92-122">.alt</span></span><br/> | <span data-ttu-id="dbb92-123">Резервная копия критического куста **\_ локального \_ компьютера \\ hKey** .</span><span class="sxs-lookup"><span data-stu-id="dbb92-123">A backup copy of the critical **HKEY\_LOCAL\_MACHINE\\System** hive.</span></span> <span data-ttu-id="dbb92-124">Только системный ключ имеет файл. ALT.</span><span class="sxs-lookup"><span data-stu-id="dbb92-124">Only the System key has an .alt file.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| <span data-ttu-id="dbb92-125">.log</span><span class="sxs-lookup"><span data-stu-id="dbb92-125">.log</span></span><br/> | <span data-ttu-id="dbb92-126">Журнал транзакций изменений для ключей и записей значений в кусте Hive.</span><span class="sxs-lookup"><span data-stu-id="dbb92-126">A transaction log of changes to the keys and value entries in the hive.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| <span data-ttu-id="dbb92-127">. sav</span><span class="sxs-lookup"><span data-stu-id="dbb92-127">.sav</span></span><br/> | <span data-ttu-id="dbb92-128">Резервная копия куста.</span><span class="sxs-lookup"><span data-stu-id="dbb92-128">A backup copy of a hive.</span></span><br/> <span data-ttu-id="dbb92-129">**Windows Server 2003 и Windows XP/2000:** Копии файлов Hive, как они были просмотрены в конце этапа текстового режима в программе установки.</span><span class="sxs-lookup"><span data-stu-id="dbb92-129">**Windows Server 2003 and Windows XP/2000:** Copies of the hive files as they looked at the end of the text-mode stage in Setup.</span></span> <span data-ttu-id="dbb92-130">Программа установки имеет два этапа: текстовый режим и графический режим.</span><span class="sxs-lookup"><span data-stu-id="dbb92-130">Setup has two stages: text mode and graphics mode.</span></span> <span data-ttu-id="dbb92-131">Hive копируется в SAV-файл после этапа установки в текстовом режиме, чтобы защитить его от ошибок, которые могут возникнуть в случае сбоя этапа установки в графическом режиме.</span><span class="sxs-lookup"><span data-stu-id="dbb92-131">The hive is copied to a .sav file after the text-mode stage of setup to protect it from errors that might occur if the graphics-mode stage of setup fails.</span></span> <span data-ttu-id="dbb92-132">Если программа установки завершается сбоем на этапе графического режима, то при перезапуске компьютера будет повторяться только этап графического режима. файл SAV используется для восстановления данных Hive.</span><span class="sxs-lookup"><span data-stu-id="dbb92-132">If setup fails during the graphics-mode stage, only the graphics-mode stage is repeated when the computer is restarted; the .sav file is used to restore the hive data.</span></span><br/> |



 

<span data-ttu-id="dbb92-133">В следующей таблице перечислены стандартные кусты и их вспомогательные файлы.</span><span class="sxs-lookup"><span data-stu-id="dbb92-133">The following table lists the standard hives and their supporting files.</span></span>



| <span data-ttu-id="dbb92-134">Куст реестра</span><span class="sxs-lookup"><span data-stu-id="dbb92-134">Registry hive</span></span>                      | <span data-ttu-id="dbb92-135">Вспомогательные файлы</span><span class="sxs-lookup"><span data-stu-id="dbb92-135">Supporting files</span></span>                           |
|------------------------------------|--------------------------------------------|
| <span data-ttu-id="dbb92-136">**\_Текущая \_ Конфигурация hKey**</span><span class="sxs-lookup"><span data-stu-id="dbb92-136">**HKEY\_CURRENT\_CONFIG**</span></span>          | <span data-ttu-id="dbb92-137">System, System. Alt, System. log, System. sav</span><span class="sxs-lookup"><span data-stu-id="dbb92-137">System, System.alt, System.log, System.sav</span></span> |
| <span data-ttu-id="dbb92-138">**HKEY \_ текущего \_ пользователя**</span><span class="sxs-lookup"><span data-stu-id="dbb92-138">**HKEY\_CURRENT\_USER**</span></span>            | <span data-ttu-id="dbb92-139">NTuser. dat, NTuser. dat. log</span><span class="sxs-lookup"><span data-stu-id="dbb92-139">Ntuser.dat, Ntuser.dat.log</span></span>                 |
| <span data-ttu-id="dbb92-140">**\_локальный компьютер hKey ( \_ \\ SAM)**</span><span class="sxs-lookup"><span data-stu-id="dbb92-140">**HKEY\_LOCAL\_MACHINE\\SAM**</span></span>      | <span data-ttu-id="dbb92-141">SAM, SAM. log, SAM. sav</span><span class="sxs-lookup"><span data-stu-id="dbb92-141">Sam, Sam.log, Sam.sav</span></span>                      |
| <span data-ttu-id="dbb92-142">**\_Безопасность локального \_ компьютера \\ hKey**</span><span class="sxs-lookup"><span data-stu-id="dbb92-142">**HKEY\_LOCAL\_MACHINE\\Security**</span></span> | <span data-ttu-id="dbb92-143">Безопасность, Security. log, Security. sav</span><span class="sxs-lookup"><span data-stu-id="dbb92-143">Security, Security.log, Security.sav</span></span>       |
| <span data-ttu-id="dbb92-144">**\_ \_ Программное обеспечение для ЛОКАЛЬНОГО компьютера hKey \\**</span><span class="sxs-lookup"><span data-stu-id="dbb92-144">**HKEY\_LOCAL\_MACHINE\\Software**</span></span> | <span data-ttu-id="dbb92-145">Программное обеспечение, программное обеспечение. журнал, Software. sav</span><span class="sxs-lookup"><span data-stu-id="dbb92-145">Software, Software.log, Software.sav</span></span>       |
| <span data-ttu-id="dbb92-146">**Система HKEY на \_ локальном \_ компьютере \\**</span><span class="sxs-lookup"><span data-stu-id="dbb92-146">**HKEY\_LOCAL\_MACHINE\\System**</span></span>   | <span data-ttu-id="dbb92-147">System, System. Alt, System. log, System. sav</span><span class="sxs-lookup"><span data-stu-id="dbb92-147">System, System.alt, System.log, System.sav</span></span> |
| <span data-ttu-id="dbb92-148">**\_Пользователи hKey \\ . ПАРАМЕТРЫ**</span><span class="sxs-lookup"><span data-stu-id="dbb92-148">**HKEY\_USERS\\.DEFAULT**</span></span>          | <span data-ttu-id="dbb92-149">По умолчанию, по умолчанию. log, Default. sav</span><span class="sxs-lookup"><span data-stu-id="dbb92-149">Default, Default.log, Default.sav</span></span>          |



 

 

 




