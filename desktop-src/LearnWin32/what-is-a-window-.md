---
title: Что такое окно
description: .
ms.assetid: eef5e139-91f9-4d8b-9153-e178d7416d7e
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 1fcbba817e3e4c9059340d0a67c7170f4583270c
ms.sourcegitcommit: ebd3ce6908ff865f1ef66f2fc96769be0aad82e1
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/19/2020
ms.locfileid: "104412851"
---
# <a name="what-is-a-window"></a><span data-ttu-id="a1af2-103">Что такое окно?</span><span class="sxs-lookup"><span data-stu-id="a1af2-103">What Is a Window?</span></span>

## <a name="what-is-a-window"></a><span data-ttu-id="a1af2-104">Что такое окно?</span><span class="sxs-lookup"><span data-stu-id="a1af2-104">What Is a Window?</span></span>

<span data-ttu-id="a1af2-105">Очевидно, что Windows являются центральными для Windows.</span><span class="sxs-lookup"><span data-stu-id="a1af2-105">Obviously, windows are central to Windows.</span></span> <span data-ttu-id="a1af2-106">Так важно, чтобы они называли операционную систему после них.</span><span class="sxs-lookup"><span data-stu-id="a1af2-106">They are so important that they named the operating system after them.</span></span> <span data-ttu-id="a1af2-107">Но что такое окно?</span><span class="sxs-lookup"><span data-stu-id="a1af2-107">But what is a window?</span></span> <span data-ttu-id="a1af2-108">Если вы считаете окно, вы, вероятно, думаете примерно так:</span><span class="sxs-lookup"><span data-stu-id="a1af2-108">When you think of a window, you probably think of something like this:</span></span>

![снимок экрана окна приложения](images/window01.png)

<span data-ttu-id="a1af2-110">Этот тип окна называется *окном приложения* или *основным окном*.</span><span class="sxs-lookup"><span data-stu-id="a1af2-110">This type of window is called an *application window* or *main window*.</span></span> <span data-ttu-id="a1af2-111">Обычно он содержит рамку с заголовком, кнопки **сворачивания** и **развертывания** , а также другие стандартные элементы пользовательского интерфейса.</span><span class="sxs-lookup"><span data-stu-id="a1af2-111">It typically has a frame with a title bar, **Minimize** and **Maximize** buttons, and other standard UI elements.</span></span> <span data-ttu-id="a1af2-112">Фрейм называется *неклиентской областью* окна, поэтому вызывается, так как операционная система управляет этой частью окна.</span><span class="sxs-lookup"><span data-stu-id="a1af2-112">The frame is called the *non-client area* of the window, so called because the operating system manages that portion of the window.</span></span> <span data-ttu-id="a1af2-113">Область внутри рамки является *клиентской областью*.</span><span class="sxs-lookup"><span data-stu-id="a1af2-113">The area within the frame is the *client area*.</span></span> <span data-ttu-id="a1af2-114">Это часть окна, которую управляет ваша программа.</span><span class="sxs-lookup"><span data-stu-id="a1af2-114">This is the part of the window that your program manages.</span></span>

<span data-ttu-id="a1af2-115">Вот еще один тип окна:</span><span class="sxs-lookup"><span data-stu-id="a1af2-115">Here is another type of window:</span></span>

![снимок экрана окна управления](images/window02.png)

<span data-ttu-id="a1af2-117">Если вы не знакомы с программированием для Windows, это может неожиданно познакомиться с тем, что элементы управления пользовательского интерфейса, такие как кнопки и поля редактирования, являются окнами.</span><span class="sxs-lookup"><span data-stu-id="a1af2-117">If you are new to Windows programming, it may surprise you that UI controls, such as buttons and edit boxes, are themselves windows.</span></span> <span data-ttu-id="a1af2-118">Основное различие между элементом управления пользовательского интерфейса и окном приложения заключается в том, что сам элемент управления не существует.</span><span class="sxs-lookup"><span data-stu-id="a1af2-118">The major difference between a UI control and an application window is that a control does not exist by itself.</span></span> <span data-ttu-id="a1af2-119">Вместо этого элемент управления располагается относительно окна приложения.</span><span class="sxs-lookup"><span data-stu-id="a1af2-119">Instead, the control is positioned relative to the application window.</span></span> <span data-ttu-id="a1af2-120">При перетаскивании окна приложения элемент управления перемещается вместе с ним, как и хотелось бы.</span><span class="sxs-lookup"><span data-stu-id="a1af2-120">When you drag the application window, the control moves with it, as you would expect.</span></span> <span data-ttu-id="a1af2-121">Кроме того, элемент управления и окно приложения могут взаимодействовать друг с другом.</span><span class="sxs-lookup"><span data-stu-id="a1af2-121">Also, the control and the application window can communicate with each other.</span></span> <span data-ttu-id="a1af2-122">(Например, окно приложения получает команду уведомления от кнопки.)</span><span class="sxs-lookup"><span data-stu-id="a1af2-122">(For example, the application window receives click notifications from a button.)</span></span>

<span data-ttu-id="a1af2-123">Таким образом, при обдумывании *окна* не следует просто думать *окно приложения*.</span><span class="sxs-lookup"><span data-stu-id="a1af2-123">Therefore, when you think *window*, do not simply think *application window*.</span></span> <span data-ttu-id="a1af2-124">Вместо этого представьте окно как конструкцию программирования, которая:</span><span class="sxs-lookup"><span data-stu-id="a1af2-124">Instead, think of a window as a programming construct that:</span></span>

-   <span data-ttu-id="a1af2-125">Занимает определенную часть экрана.</span><span class="sxs-lookup"><span data-stu-id="a1af2-125">Occupies a certain portion of the screen.</span></span>
-   <span data-ttu-id="a1af2-126">Может быть невидимым в данный момент.</span><span class="sxs-lookup"><span data-stu-id="a1af2-126">May or may not be visible at a given moment.</span></span>
-   <span data-ttu-id="a1af2-127">Знает, как рисовать себя.</span><span class="sxs-lookup"><span data-stu-id="a1af2-127">Knows how to draw itself.</span></span>
-   <span data-ttu-id="a1af2-128">Реагирует на события пользователя или операционной системы.</span><span class="sxs-lookup"><span data-stu-id="a1af2-128">Responds to events from the user or the operating system.</span></span>

## <a name="parent-windows-and-owner-windows"></a><span data-ttu-id="a1af2-129">Родительского окна и окна владельца</span><span class="sxs-lookup"><span data-stu-id="a1af2-129">Parent Windows and Owner Windows</span></span>

<span data-ttu-id="a1af2-130">В случае элемента управления пользовательского интерфейса окно элемента управления называется *дочерним* элементом окна приложения.</span><span class="sxs-lookup"><span data-stu-id="a1af2-130">In the case of a UI control, the control window is said to be the *child* of the application window.</span></span> <span data-ttu-id="a1af2-131">Окно приложения является *родительским* для окна управления.</span><span class="sxs-lookup"><span data-stu-id="a1af2-131">The application window is the *parent* of the control window.</span></span> <span data-ttu-id="a1af2-132">Родительское окно предоставляет систему координат, используемую для размещения дочернего окна.</span><span class="sxs-lookup"><span data-stu-id="a1af2-132">The parent window provides the coordinate system used for positioning a child window.</span></span> <span data-ttu-id="a1af2-133">Наличие родительского окна влияет на аспекты внешнего вида окна; Например, дочернее окно обрезается таким образом, что никакая часть дочернего окна не может отображаться вне границ родительского окна.</span><span class="sxs-lookup"><span data-stu-id="a1af2-133">Having a parent window affects aspects of a window's appearance; for example, a child window is clipped so that no part of the child window can appear outside the borders of its parent window.</span></span>

<span data-ttu-id="a1af2-134">Еще одна связь — это связь между окном приложения и модальным диалоговым окном.</span><span class="sxs-lookup"><span data-stu-id="a1af2-134">Another relationship is the relation between an application window and a modal dialog window.</span></span> <span data-ttu-id="a1af2-135">Когда приложение отображает модальное диалоговое окно, окно приложения является окном *владельца* , а диалоговое окно является *владельцем* окна.</span><span class="sxs-lookup"><span data-stu-id="a1af2-135">When an application displays a modal dialog, the application window is the *owner* window, and the dialog is an *owned* window.</span></span> <span data-ttu-id="a1af2-136">Собственное окно всегда отображается перед его окном "владелец".</span><span class="sxs-lookup"><span data-stu-id="a1af2-136">An owned window always appears in front of its owner window.</span></span> <span data-ttu-id="a1af2-137">Он скрыт, когда владелец сведен к минимуму, и уничтожается одновременно с владельцем.</span><span class="sxs-lookup"><span data-stu-id="a1af2-137">It is hidden when the owner is minimized, and is destroyed at the same time as the owner.</span></span>

<span data-ttu-id="a1af2-138">На следующем рисунке показано приложение, которое отображает диалоговое окно с двумя кнопками:</span><span class="sxs-lookup"><span data-stu-id="a1af2-138">The following image shows an application that displays a dialog box with two buttons:</span></span>

![снимок экрана приложения с диалоговым окном](images/window03.png)

<span data-ttu-id="a1af2-140">Окно приложения владеет диалоговым окном, а диалоговое окно является родительским для обоих окон кнопок.</span><span class="sxs-lookup"><span data-stu-id="a1af2-140">The application window owns the dialog window, and the dialog window is the parent of both button windows.</span></span> <span data-ttu-id="a1af2-141">Эти связи показаны на следующей схеме:</span><span class="sxs-lookup"><span data-stu-id="a1af2-141">The following diagram shows these relations:</span></span>

![Иллюстрация, демонстрирующая отношения "родители-потомки" и "владелец" и владельца](images/window04.png)

## <a name="window-handles"></a><span data-ttu-id="a1af2-143">Дескрипторы окон</span><span class="sxs-lookup"><span data-stu-id="a1af2-143">Window Handles</span></span>

<span data-ttu-id="a1af2-144">Окна являются объектами — они содержат как код, так и данные, но они не являются классами C++.</span><span class="sxs-lookup"><span data-stu-id="a1af2-144">Windows are objects—they have both code and data—but they are not C++ classes.</span></span> <span data-ttu-id="a1af2-145">Вместо этого программа ссылается на окно, используя значение, называемое *маркером*.</span><span class="sxs-lookup"><span data-stu-id="a1af2-145">Instead, a program references a window by using a value called a *handle*.</span></span> <span data-ttu-id="a1af2-146">Маркер является непрозрачным типом.</span><span class="sxs-lookup"><span data-stu-id="a1af2-146">A handle is an opaque type.</span></span> <span data-ttu-id="a1af2-147">По сути, это просто число, используемое операционной системой для обнаружения объекта.</span><span class="sxs-lookup"><span data-stu-id="a1af2-147">Essentially, it is just a number that the operating system uses to identify an object.</span></span> <span data-ttu-id="a1af2-148">Вы можете создавать изображения для окон с большими таблицами всех созданных окон.</span><span class="sxs-lookup"><span data-stu-id="a1af2-148">You can picture Windows as having a big table of all the windows that have been created.</span></span> <span data-ttu-id="a1af2-149">Она использует эту таблицу для поиска окон по их дескрипторам.</span><span class="sxs-lookup"><span data-stu-id="a1af2-149">It uses this table to look up windows by their handles.</span></span> <span data-ttu-id="a1af2-150">(Будь это именно то, как он работает внутренне, не имеет значения.) Для дескрипторов окон используется тип данных **HWND**, который обычно произносится как "аитч-ветер".</span><span class="sxs-lookup"><span data-stu-id="a1af2-150">(Whether that's exactly how it works internally is not important.) The data type for window handles is **HWND**, which is usually pronounced "aitch-wind."</span></span> <span data-ttu-id="a1af2-151">Дескрипторы окон возвращаются функциями, которые создают окна: [**CreateWindow**](/windows/desktop/DirectShow/cbasewindow-docreatewindow) и [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa).</span><span class="sxs-lookup"><span data-stu-id="a1af2-151">Window handles are returned by the functions that create windows: [**CreateWindow**](/windows/desktop/DirectShow/cbasewindow-docreatewindow) and [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa).</span></span>

<span data-ttu-id="a1af2-152">Для выполнения операции в окне обычно вызывается какая-либо функция, принимающая в качестве параметра значение **HWND** .</span><span class="sxs-lookup"><span data-stu-id="a1af2-152">To perform an operation on a window, you will typically call some function that takes an **HWND** value as a parameter.</span></span> <span data-ttu-id="a1af2-153">Например, чтобы изменить расположение окна на экране, вызовите функцию [**мовевиндов**](/windows/desktop/api/winuser/nf-winuser-movewindow) :</span><span class="sxs-lookup"><span data-stu-id="a1af2-153">For example, to reposition a window on the screen, call the [**MoveWindow**](/windows/desktop/api/winuser/nf-winuser-movewindow) function:</span></span>


```C++
BOOL MoveWindow(HWND hWnd, int X, int Y, int nWidth, int nHeight, BOOL bRepaint);
```



<span data-ttu-id="a1af2-154">Первый параметр — это маркер окна, которое требуется переместить.</span><span class="sxs-lookup"><span data-stu-id="a1af2-154">The first parameter is the handle to the window that you want to move.</span></span> <span data-ttu-id="a1af2-155">Другие параметры указывают новое расположение окна и необходимость перерисовки окна.</span><span class="sxs-lookup"><span data-stu-id="a1af2-155">The other parameters specify the new location of the window and whether the window should be redrawn.</span></span>

<span data-ttu-id="a1af2-156">Помните, что дескрипторы не являются указателями.</span><span class="sxs-lookup"><span data-stu-id="a1af2-156">Keep in mind that handles are not pointers.</span></span> <span data-ttu-id="a1af2-157">Если *HWND* является переменной, содержащей дескриптор, попытка разыменования дескриптора с помощью записи `*hwnd` является ошибкой.</span><span class="sxs-lookup"><span data-stu-id="a1af2-157">If *hwnd* is a variable that contains a handle, attempting to dereference the handle by writing `*hwnd` is an error.</span></span>

## <a name="screen-and-window-coordinates"></a><span data-ttu-id="a1af2-158">Координаты экрана и окна</span><span class="sxs-lookup"><span data-stu-id="a1af2-158">Screen and Window Coordinates</span></span>

<span data-ttu-id="a1af2-159">Координаты измеряются в аппаратно-независимых пикселях.</span><span class="sxs-lookup"><span data-stu-id="a1af2-159">Coordinates are measured in device-independent pixels.</span></span> <span data-ttu-id="a1af2-160">При обсуждении графики мы будем говорить о *независимой* части аппаратно *-независимых пикселей* .</span><span class="sxs-lookup"><span data-stu-id="a1af2-160">We'll have more to say about the *device independent* part of *device-independent pixels* when we discuss graphics.</span></span>

<span data-ttu-id="a1af2-161">В зависимости от задачи можно измерять координаты относительно экрана, относительно окна (включая рамку) или относительно клиентской области окна.</span><span class="sxs-lookup"><span data-stu-id="a1af2-161">Depending on your task, you might measure coordinates relative to the screen, relative to a window (including the frame), or relative to the client area of a window.</span></span> <span data-ttu-id="a1af2-162">Например, можно разместить окно на экране с помощью экранных координат, но нарисовать внутри окна с помощью клиентских координат.</span><span class="sxs-lookup"><span data-stu-id="a1af2-162">For example, you would position a window on the screen using screen coordinates, but you would draw inside a window using client coordinates.</span></span> <span data-ttu-id="a1af2-163">В каждом случае источник (0, 0) всегда находится в левом верхнем углу области.</span><span class="sxs-lookup"><span data-stu-id="a1af2-163">In each case, the origin (0, 0) is always the top-left corner of the region.</span></span>

![Иллюстрация, показывающая экран, окно и клиентские координаты](images/coordinates01.png)

## <a name="next"></a><span data-ttu-id="a1af2-165">Следующая</span><span class="sxs-lookup"><span data-stu-id="a1af2-165">Next</span></span>

[<span data-ttu-id="a1af2-166">WinMain: точка входа приложения</span><span class="sxs-lookup"><span data-stu-id="a1af2-166">WinMain: The Application Entry Point</span></span>](winmain--the-application-entry-point.md)

 

 