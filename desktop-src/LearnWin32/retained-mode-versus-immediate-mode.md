---
title: Режим сохраняемости и режим интерпретации
description: Интерфейсы API графики можно разделить на API-интерфейсы с сохраняемым режимом и API-интерфейсы немедленного режима.
ms.assetid: 0a98e8ee-4bc1-490c-867e-42bceae8a1f8
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: d42d981aafad39c8f8a1e9cd82a90c9b23ad83313822181caae01468465e92fe
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "117993143"
---
# <a name="retained-mode-versus-immediate-mode"></a>Режим сохраняемости и режим интерпретации

Интерфейсы API графики можно разделить на API *-интерфейсы с сохраняемым режимом* и API *-интерфейсы немедленного режима* . Direct2D — это API немедленного режима. Windows Presentation Foundation (WPF) — это пример API-интерфейса с сохраняемым режимом.

API-интерфейс с сохраняемым режимом является декларативным. Приложение конструирует сцену на основе графических примитивов, таких как фигуры и линии. Библиотека графики хранит модель сцены в памяти. Чтобы нарисовать кадр, Библиотека графики преобразует сцену в набор команд рисования. Между кадрами графическая библиотека сохраняет сцену в памяти. Чтобы изменить отображаемый объект, приложение выдает команду для обновления сцены, например для добавления или удаления фигуры. Затем библиотека отвечает за перерисовку сцены.

![Диаграмма, на которой показаны графические изображения в постоянном режиме.](images/graphics06.png)

API немедленного режима — это процедура. Каждый раз при прорисовке нового кадра приложение непосредственно выдает команды рисования. Библиотека графики не сохраняет модель сцены между кадрами. Вместо этого приложение отслеживает сцену.

![Диаграмма, отображающая графические изображения в режиме интерпретации.](images/graphics07.png)

API-интерфейсы с сохранением режима могут быть проще в использовании, так как API выполняет больше работы, например инициализацию, Обслуживание состояния и очистку. С другой стороны, они часто менее гибкие, так как API накладывает собственную модель сцены. Кроме того, API-интерфейс со строгим режимом может иметь более высокие требования к памяти, поскольку ему необходимо предоставить модель сцены общего назначения. С помощью API немедленного режима можно реализовать целевые оптимизации.

## <a name="next"></a>Следующая

[Первая программа Direct2D](your-first-direct2d-program.md)

 

 




