---
description: Содержит сведения о состоянии аппаратного теста полностью расшифрованного тома операционной системы.
ms.assetid: d76bc266-3718-443e-94f9-dcaa0ec53151
title: Метод Жесардваретестстатус класса Win32_EncryptableVolume
ms.topic: reference
ms.date: 05/31/2018
topic_type:
- APIRef
- kbSyntax
api_name:
- Win32_EncryptableVolume.GetHardwareTestStatus
api_type:
- COM
api_location:
- Root\CIMV2\Security\MicrosoftVolumeEncryption
ms.openlocfilehash: 508a82dfa21f7f4f3c17bd33b093ea8f558d9f47015b05f5141ddcfe30ac9b7d
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "118892422"
---
# <a name="gethardwareteststatus-method-of-the-win32_encryptablevolume-class"></a>Метод Жесардваретестстатус \_ класса Win32 енкриптаблеволуме

Метод **жесардваретестстатус** класса [**Win32 \_ енкриптаблеволуме**](win32-encryptablevolume.md) предоставляет сведения о состоянии аппаратного теста полностью расшифрованного тома операционной системы.

Используйте этот метод, чтобы определить, ожидает ли тест оборудования, а также успешное или неуспешное выполнение теста оборудования, завершенного на последнем перезапуске компьютера. Чтобы запросить тест оборудования, используйте метод [**енкриптафтерхардваретест**](encryptafterhardwaretest-win32-encryptablevolume.md) .

## <a name="syntax"></a>Синтаксис


```mof
uint32 GetHardwareTestStatus(
  [out] uint32 TestStatus,
  [out] uint32 TestError
);
```



## <a name="parameters"></a>Параметры

<dl> <dt>

*TestStatus* \[ заполняет\]
</dt> <dd>

Тип: **UInt32**

Указывает, ожидает ли тест оборудования, а также успешное завершение аппаратного теста, завершенного на последнем перезапуске компьютера.



<table>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header">
<th>Значение</th>
<th>Значение</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><span id="NotFailed_and_NonePending"></span><span id="notfailed_and_nonepending"></span><span id="NOTFAILED_AND_NONEPENDING"></span><dl> <dt><strong>NotFailed_and_NonePending</strong></dt> <dt>0</dt> </dl></td>
<td>Если тест был запрошен, то тест был успешно выполнен на последнем перезапуске компьютера и теперь выполняется шифрование тома. Сведения о состоянии шифрования см. в описании метода <a href="getconversionstatus-win32-encryptablevolume.md"><strong>жетконверсионстатус</strong></a> . В противном случае тест не выполнялся при последнем перезапуске компьютера, а ожидание отсутствует. <br/></td>
</tr>
<tr class="even">
<td><span id="Failed"></span><span id="failed"></span><span id="FAILED"></span><dl> <dt><strong>Сбой</strong></dt> <dt>1</dt> </dl></td>
<td>Шифрование тома не запущено. Все предохранители ключа удалены.<br/> Чтобы разрешить неудачный тест:<br/>
<ul>
<li>Просмотрите сведения в параметре <em>тестеррор</em> .</li>
<li>Добавьте предохранители ключа и снова используйте метод <a href="encryptafterhardwaretest-win32-encryptablevolume.md"><strong>енкриптафтерхардваретест</strong></a> .</li>
</ul></td>
</tr>
<tr class="odd">
<td><span id="Pending"></span><span id="pending"></span><span id="PENDING"></span><dl> <dt><strong>Ожидание</strong></dt> <dt>2</dt> </dl></td>
<td>Тест был запрошен и будет выполнен при следующем перезапуске компьютера.<br/></td>
</tr>
</tbody>
</table>



 

</dd> <dt>

*Тестеррор* \[ заполняет\]
</dt> <dd>

Тип: **UInt32**

Указывает ошибку из последней завершенной проверки оборудования.



| Значение                                                                                               | Значение                                                                                                                                                                                                                                                                                                                                                  |
|-----------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <dl> <dt>0</dt> </dl>                        | Ошибок не было, или проверка оборудования не выполнялась при последнем перезапуске компьютера.<br/>                                                                                                                                                                                                                                                                      |
| <dl> <dt> 2150694972 (0x8031003C)</dt> </dl> | файл ключа ФВЕ \_ E \_ \_ не \_ найден<br/> Не найден флэш-накопитель USB с внешним файлом ключа. Если эта ошибка не исчезнет, компьютер не сможет считывать USB-накопители при перезагрузке. Возможно, вы не сможете использовать внешние ключи для разблокировки тома операционной системы во время перезапуска.<br/>                                                                |
| <dl> <dt> 2150694973 (0x8031003D)</dt> </dl> | Недопустимый файл keyfile ФВЕ \_ E \_ \_<br/> Внешний файл ключа на флэш-накопителе USB поврежден. Попробуйте использовать другое устройство флэш-памяти USB для хранения внешнего файла ключа.<br/>                                                                                                                                                                                 |
| <dl> <dt> 2150694975 (0x8031003F)</dt> </dl> | ФВЕ \_ E \_ TPM \_ отключен<br/> Доверенный платформенный модуль либо отключен, либо деактивирован, либо отключены и деактивированы. Чтобы включить доверенный платформенный модуль, используйте поставщик WMI [**\_ TPM Win32**](win32-tpm.md) или запустите оснастку управления TPM (TPM. msc).<br/>                                                                                                            |
| <dl> <dt> 2150694977 (0x80310041)</dt> </dl> | ФВЕ \_ E \_ TPM \_ Недопустимый \_ PCR<br/> Доверенный платформенный модуль обнаружил изменение в службах перезапуска операционной системы в текущем профиле проверки платформы. Удалите с компьютера любой загрузочный компакт-диск или DVD-диск. В случае повторения этой ошибки убедитесь, что установлены последние обновления встроенного по и BIOS, и что TPM работает правильно.<br/> |
| <dl> <dt>2150694979 (0x80310043)</dt> </dl>  | \_ \_ Недопустимый ПИН-код ФВЕ E \_<br/> Указан неправильный ПИН-код.<br/>                                                                                                                                                                                                                                                                               |



 

</dd> </dl>

## <a name="return-value"></a>Возвращаемое значение

Тип: **UInt32**

В следующей таблице перечислены некоторые распространенные коды возврата.



| Возвращаемый код и значение                                                                                                                                                                  | Описание                      |
|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------|
| <dl> <dt>**С \_ ОК**</dt> <dt>0 (0x0)</dt> </dl>                                  | Метод выполнен успешно.<br/> |
| <dl> <dt>**ФВЕ \_ E с \_ заблокированным \_ томом**</dt> <dt>2150694912 (0x80310000)</dt> </dl> | Том заблокирован.<br/> |



 

## <a name="remarks"></a>Remarks

Чтобы запросить тест оборудования, используйте метод [**енкриптафтерхардваретест**](encryptafterhardwaretest-win32-encryptablevolume.md) .

Чтобы запустить тест оборудования, если его состояние — Ожидание, выполните следующие действия.

1.  Вставьте в компьютер флэш-накопитель USB, содержащий внешний файл ключа. Этот шаг применяется только в том случае, если том имеет предохранитель ключа типа "внешний ключ" или "TPM и ключ запуска".
2.  Перезагрузите компьютер. При перезагрузке компьютера проверка оборудования выполняется автоматически.

Чтобы отменить проверку оборудования, используйте метод [**Encrypt**](encrypt-win32-encryptablevolume.md) .

Успешный тест определяет следующее:

-   Доверенный платформенный модуль может разблокировать том, если существует предохранитель ключа, связанный с TPM.
-   Компьютер может прочитать флэш-накопитель USB, содержащий внешний файл ключа, во время запуска, если том может быть разблокирован внешним ключом (включая ключ запуска).

Результаты тестирования оборудования будут недоступны после каких-либо изменений в преобразовании или после перезагрузки компьютера. Проверьте журнал системных событий на наличие сведений о тестах оборудования, которые ранее выполнялись на компьютере.

файлы MOF-файл (MOF) содержат определения для классов инструментарий управления Windows (WMI) (WMI). MOF-файлы не устанавливаются в составе Windows SDK. Они устанавливаются на сервере при добавлении связанной роли с помощью диспетчер сервера. Дополнительные сведения о файлах MOF см. в разделе [MOF-файл (MOF)](../wmisdk/managed-object-format--mof-.md).

## <a name="requirements"></a>Требования



| Требование | Значение |
|-------------------------------------|---------------------------------------------------------------------------------------------------------|
| Минимальная версия клиента<br/> | Windows vista Enterprise, \[ только для настольных приложений Windows vista Ultimate\]<br/>                       |
| Минимальная версия сервера<br/> | Windows Только для \[ настольных приложений сервера 2008\]<br/>                                                    |
| Пространство имен<br/>                | Корневой \\ CIMV2 \\ безопасности \\ микрософтволуминкриптион<br/>                                             |
| MOF<br/>                      | <dl> <dt>Win32 \_ енкриптаблеволуме. mof</dt> </dl> |



## <a name="see-also"></a>См. также раздел

<dl> <dt>

[**\_Енкриптаблеволуме Win32**](win32-encryptablevolume.md)
</dt> </dl>

 

 
