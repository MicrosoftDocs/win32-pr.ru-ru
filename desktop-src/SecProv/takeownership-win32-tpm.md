---
description: Устанавливает владельца доверенного платформенного модуля.
ms.assetid: 7b4c8785-0925-41a8-a878-7c1f38d31853
title: Метод Такеовнершип класса Win32_Tpm
ms.topic: reference
ms.date: 05/31/2018
topic_type:
- APIRef
- kbSyntax
api_name:
- Win32_Tpm.TakeOwnership
api_type:
- COM
api_location:
- Win32_tpm.dll
ms.openlocfilehash: acb0cb03f5e422695623bf6e183d1fd89f63ab60
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "104081436"
---
# <a name="takeownership-method-of-the-win32_tpm-class"></a>Метод Такеовнершип \_ класса TPM Win32

Метод **такеовнершип** класса [**\_ TPM Win32**](win32-tpm.md) устанавливает владельца для TPM. Владелец TPM может полностью использовать возможности TPM. После установки владельца никто из других пользователей или программного обеспечения не сможет запрашивать владение TPM.

Для того, чтобы метод **такеовнершип** мог быть выполнен, необходимо, чтобы методы [**включения**](isenabled-win32-tpm.md), [**активации**](isactivated-win32-tpm.md)и [**исовнершипалловед**](isownershipallowed-win32-tpm.md) были истинными.

## <a name="syntax"></a>Синтаксис


```mof
uint32 TakeOwnership(
  [in, optional] string OwnerAuth
);
```



## <a name="parameters"></a>Параметры

<dl> <dt>

*Овнераус* \[ в необязательное\]
</dt> <dd>

Тип: **строка**

Строка, идентифицирующая владельца доверенного платформенного модуля. Эта строка должна быть строкой в кодировке Base64, завершающейся нулем, которая содержит ровно 20 байт двоичных данных. Используйте метод [**конверттувнераус**](converttoownerauth-win32-tpm.md) для преобразования парольной фразы в ожидаемый формат. Параметр *овнераус* считывается из реестра, если он не указан.

</dd> </dl>

## <a name="return-value"></a>Возвращаемое значение

Тип: **UInt32**

Могут возвращаться все ошибки доверенного платформенного модуля, а также ошибки, относящиеся к базовым службам TPM.

В следующей таблице перечислены некоторые распространенные коды возврата.



| Возвращаемый код и значение                                                                                                                                                                         | Описание                                                                                                                                                                                                        |
|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <dl> <dt>**С \_ ОК**</dt> <dt>0 (0x0)</dt> </dl>                                         | Метод успешно выполнен.<br/>                                                                                                                                                                              |
| <dl> <dt>**Д \_ INVALIDARG**</dt> <dt>2147942487 (0x80070057)</dt> </dl>                 | Недопустимый параметр *овнераус* .<br/>                                                                                                                                                                 |
| <dl> <dt>**Доверенный платформенный модуль \_ E \_ owner \_ Set**</dt> <dt>2150105108 (0x80280014)</dt> </dl>            | Владелец уже существует в доверенном платформенном модуле.<br/>                                                                                                                                                                     |
| <dl> <dt>**Доверенный платформенный модуль \_ E \_ без \_ подтверждения**</dt> <dt>2150105123 (0x80280023)</dt> </dl>       | Не удается найти ключ подтверждения в доверенном платформенном модуле.<br/> Сведения о создании пары ключей подтверждения в доверенном платформенном модуле см. в описании метода [**креатиндорсементкэйпаир**](createendorsementkeypair-win32-tpm.md) .<br/>             |
| <dl> <dt>**Доверенный платформенный модуль \_ E. \_ Установка \_ отключена**</dt> <dt>2150105099 (0x8028000B)</dt> </dl>     | Невозможно установить владельца для этого доверенного платформенного модуля.<br/> Сведения о том, как разрешить установку владельца устройства, см. в разделе [**сетфисикалпресенцерекуест**](setphysicalpresencerequest-win32-tpm.md).<br/> |
| <dl> <dt>**Доверенный платформенный модуль \_ \_Блокировка защиты \_ от \_ перезапуска**</dt> <dt>2150107139 (0x80280803)</dt> </dl> | TPM защищается от атак из словарей и находится в течение времени ожидания. Дополнительные сведения см. в описании метода [**ресетауслоккаут**](resetauthlockout-win32-tpm.md) .<br/>                               |



 

## <a name="remarks"></a>Комментарии

Для того чтобы **такеовнершип** мог быть выполнен, [**все методы,**](isenabled-win32-tpm.md) [**активированные**](isactivated-win32-tpm.md)и [**исовнершипалловед**](isownershipallowed-win32-tpm.md) , должны быть истинными.

Используйте метод [**конверттувнераус**](converttoownerauth-win32-tpm.md) , чтобы изменить парольную фразу на входное значение, используемое для параметра *овнераус* .

Метод **такеовнершип** создает резервную копию значения авторизации владельца, чтобы Active Directory, если настроены соответствующие параметры групповая политика.

Файлы MOF-файл (MOF) содержат определения для классов инструментарий управления Windows (WMI) (WMI). MOF-файлы не устанавливаются в составе Windows SDK. Они устанавливаются на сервере при добавлении связанной роли с помощью диспетчер сервера. Дополнительные сведения о файлах MOF см. в разделе [MOF-файл (MOF)](../wmisdk/managed-object-format--mof-.md).

## <a name="requirements"></a>Требования



| Требование | Значение |
|-------------------------------------|-------------------------------------------------------------------------------------------|
| Минимальная версия клиента<br/> | Только для \[ классических приложений Windows Vista\]<br/>                                            |
| Минимальная версия сервера<br/> | \[Только для настольных приложений Windows Server 2008\]<br/>                                      |
| Пространство имен<br/>                | Корневой \\ CIMV2 \\ безопасности \\ микрософттпм<br/>                                            |
| MOF<br/>                      | <dl> <dt>Win32 \_ TPM. mof</dt> </dl> |
| DLL<br/>                      | <dl> <dt>\_tpm.dllWin32</dt> </dl> |



## <a name="see-also"></a>См. также раздел

<dl> <dt>

[**\_TPM Win32**](win32-tpm.md)
</dt> </dl>

 

 
