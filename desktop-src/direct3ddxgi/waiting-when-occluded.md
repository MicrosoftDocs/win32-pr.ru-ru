---
description: Приложения могут ожидать события, когда отрисовка на экране не требуется (т. е. пока они перекрыто).
ms.assetid: B9EC23C9-A311-4BD9-BBE8-908A1334A541
title: Ожидание события, если подготовка к просмотру не требуется
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 0db1aa4805aa1dde25947ed25c90d14c9f3c2f4c8693d3599f1382937ee0dbc1
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "118517877"
---
# <a name="waiting-on-an-event-when-rendering-is-unnecessary"></a>Ожидание события, если подготовка к просмотру не требуется

Приложения могут ожидать события, когда отрисовка на экране не требуется (т. е. пока они перекрыто). Если диспетчер окон рабочего стола (DWM) или приложение перекрыто, то отрисовка не требуется, и операционная система может оставаться в более низких состояниях питания в течение более длительного периода времени. Это экономит электроэнергию и увеличивает время работы батареи.

Приложение может ожидать события в следующих случаях:

-   Все мониторы отключены.
-   Сеанс, в котором выполняется приложение, отключен.
-   Приложение выполняется в полноэкранном режиме только для одной конфигурации монитора.
-   Приложение выполняется на рабочем столе, отличном от рабочего стола Active Desktop и не имеет разрешения на подготовку к просмотру на активном рабочем столе.

Операционная система запускает событие, когда приложение может снова выполнить визуализацию. Событие не удаляется во время обновления драйвера или обнаружения времени ожидания (ТДР) процессион, однако оно удаляется при активации нового адаптера и мониторов.

Если вы хотите, чтобы приложение получало уведомления об изменениях состояния перекрытия, приложение должно зарегистрировать эти изменения. Приложение может зарегистрироваться, чтобы получать уведомления об изменениях состояния перекрытия через сообщение в окне или с помощью сигнализации о событиях. Чтобы зарегистрироваться для получения уведомлений в окне об изменениях состояния перекрытия, приложение вызывает метод [**IDXGIFactory2:: регистерокклусионстатусвиндов**](/windows/desktop/api/DXGI1_2/nf-dxgi1_2-idxgifactory2-registerocclusionstatuswindow) . Чтобы зарегистрироваться для получения уведомлений об изменениях состояния перекрытия через сигнализацию события, приложение вызывает метод [**IDXGIFactory2:: регистерокклусионстатусевент**](/windows/desktop/api/DXGI1_2/nf-dxgi1_2-idxgifactory2-registerocclusionstatusevent) . Оба метода возвращают указатель на значение ключа, которое приложение может использовать для отмены регистрации уведомления. Чтобы отменить регистрацию уведомления, приложение передает значение этого ключа методу [**IDXGIFactory2:: унрегистерокклусионстатус**](/windows/desktop/api/DXGI1_2/nf-dxgi1_2-idxgifactory2-unregisterocclusionstatus) .

## <a name="related-topics"></a>Связанные темы

<dl> <dt>

[Усовершенствования DXGI 1,2](dxgi-1-2-improvements.md)
</dt> </dl>

 

 



