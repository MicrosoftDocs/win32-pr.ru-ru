---
description: Приложения не могут быть отображены в стерео, если только операционная система не указывает, что она обеспечивает стереоскопик трехмерного отображения. Приложения определяют, следует ли выполнять отрисовку в стереоскопик 3D, в зависимости от того, находятся ли они в окне или во весь экран.
ms.assetid: FB8AC57E-38DD-47B5-8666-1F4B73488F8B
title: Отображение в стерео и уведомление о состоянии стерео
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 379c6335e0bd060cf0065fe92bf2ec6c086289c3
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/06/2021
ms.locfileid: "104139203"
---
# <a name="rendering-in-stereo-and-notifying-about-stereo-status"></a><span data-ttu-id="73572-104">Отображение в стерео и уведомление о состоянии стерео</span><span class="sxs-lookup"><span data-stu-id="73572-104">Rendering in stereo and notifying about stereo status</span></span>

<span data-ttu-id="73572-105">Приложения не могут быть отображены в стерео, если только операционная система не указывает, что она обеспечивает стереоскопик трехмерного отображения.</span><span class="sxs-lookup"><span data-stu-id="73572-105">Apps can't render in stereo unless the operating system indicates that it enables stereoscopic 3D display behavior.</span></span> <span data-ttu-id="73572-106">Приложения определяют, следует ли выполнять отрисовку в стереоскопик 3D, в зависимости от того, находятся ли они в окне или во весь экран.</span><span class="sxs-lookup"><span data-stu-id="73572-106">Apps determine whether to render in stereoscopic 3D differently depending on whether they are windowed or full screen.</span></span>

<span data-ttu-id="73572-107">Оконное приложение вызывает метод [**IDXGIFactory2:: исвиндоведстереоенаблед**](/windows/desktop/api/DXGI1_2/nf-dxgi1_2-idxgifactory2-iswindowedstereoenabled) , чтобы определить, следует ли выполнять отрисовку в стерео.</span><span class="sxs-lookup"><span data-stu-id="73572-107">A windowed app calls the [**IDXGIFactory2::IsWindowedStereoEnabled**](/windows/desktop/api/DXGI1_2/nf-dxgi1_2-idxgifactory2-iswindowedstereoenabled) method to determine whether to render in stereo.</span></span> <span data-ttu-id="73572-108">Полноэкранное приложение вызывает метод [**IDXGIOutput1:: GetDisplayModeList1**](/windows/desktop/api/DXGI1_2/nf-dxgi1_2-idxgioutput1-getdisplaymodelist1) , а затем определяет, поддерживает ли какой-либо из возвращенных режимов отображения функцию отрисовки в стерео.</span><span class="sxs-lookup"><span data-stu-id="73572-108">A full-screen app calls the [**IDXGIOutput1::GetDisplayModeList1**](/windows/desktop/api/DXGI1_2/nf-dxgi1_2-idxgioutput1-getdisplaymodelist1) method and then determines whether any of the returned display modes support rendering in stereo.</span></span> <span data-ttu-id="73572-109">Метод **GetDisplayModeList1** не перечисляет стерео режимы, если в параметре *flags* не задан флаг [**\_ \_ \_ стерео режима перечислений DXGI**](dxgi-enum-modes.md) .</span><span class="sxs-lookup"><span data-stu-id="73572-109">The **GetDisplayModeList1** method does not enumerate stereo modes unless you specify the [**DXGI\_ENUM\_MODES\_STEREO**](dxgi-enum-modes.md) flag in the *Flags* parameter.</span></span> <span data-ttu-id="73572-110">Оконное или полноэкранное приложение, которое поддерживает стерео First, делает определение отрисовки в стерео на основе вызова метода **IDXGIFactory2:: исвиндоведстереоенаблед** или **IDXGIOutput1:: GetDisplayModeList1** соответственно, а затем регистрируется для уведомления об изменениях состояния стерео.</span><span class="sxs-lookup"><span data-stu-id="73572-110">A windowed or full-screen app that supports stereo first makes the determination to render in stereo based on a call to the **IDXGIFactory2::IsWindowedStereoEnabled** or **IDXGIOutput1::GetDisplayModeList1** method respectively, and then registers for notification of stereo status changes.</span></span> <span data-ttu-id="73572-111">Так как приложение не может полагаться на уведомление для указания текущего состояния поведения трехмерного отображения стереоскопик, когда оно получает событие уведомления или окно сообщения, оно должно вызывать либо **IDXGIFactory2:: исвиндоведстереоенаблед** , либо **IDXGIOutput1:: GetDisplayModeList1** , чтобы определить текущее состояние поведения операционной системы стереоскопик 3D-отображения.</span><span class="sxs-lookup"><span data-stu-id="73572-111">Because the app can't rely on the notification to indicate the current status of the stereoscopic 3D display behavior, when it receives a notification event or window message, it must call either **IDXGIFactory2::IsWindowedStereoEnabled** or **IDXGIOutput1::GetDisplayModeList1** again to determine the current status of the operating system's stereoscopic 3D display behavior.</span></span>

<span data-ttu-id="73572-112">Если вы хотите подготовиться к просмотру на стереосистеме, необходимо зарегистрироваться для получения уведомлений о стерео, чтобы выяснить, когда пользователь отключается или наблюдается стерео.</span><span class="sxs-lookup"><span data-stu-id="73572-112">If you want to render in stereo, you must register for stereo notifications to know when the user turns off or on stereo behavior.</span></span> <span data-ttu-id="73572-113">Приложение может зарегистрироваться, чтобы получать уведомления об изменениях состояния стереоскопик 3D через сообщение в окне или с помощью сигнализации о событиях.</span><span class="sxs-lookup"><span data-stu-id="73572-113">An app can register to be notified about stereoscopic 3D status changes through a message to a window or through event signaling.</span></span> <span data-ttu-id="73572-114">Чтобы зарегистрироваться для получения сообщений уведомлений об изменениях состояния стерео, приложение вызывает метод [**IDXGIFactory2:: регистерстереостатусвиндов**](/windows/win32/api/dxgi1_2/nf-dxgi1_2-idxgifactory2-registerstereostatuswindow) .</span><span class="sxs-lookup"><span data-stu-id="73572-114">To register to receive notification messages to a window about stereo status changes, an app calls the [**IDXGIFactory2::RegisterStereoStatusWindow**](/windows/win32/api/dxgi1_2/nf-dxgi1_2-idxgifactory2-registerstereostatuswindow) method.</span></span> <span data-ttu-id="73572-115">Чтобы зарегистрироваться для получения уведомлений об изменениях состояния стерео через сигнализацию события, приложение вызывает метод [**IDXGIFactory2:: регистерстереостатусевент**](/windows/win32/api/dxgi1_2/nf-dxgi1_2-idxgifactory2-registerstereostatusevent) .</span><span class="sxs-lookup"><span data-stu-id="73572-115">To register to receive notification of stereo status changes via event signaling, an app calls the [**IDXGIFactory2::RegisterStereoStatusEvent**](/windows/win32/api/dxgi1_2/nf-dxgi1_2-idxgifactory2-registerstereostatusevent) method.</span></span> <span data-ttu-id="73572-116">Оба метода возвращают указатель на значение ключа, которое приложение может использовать для отмены регистрации уведомления.</span><span class="sxs-lookup"><span data-stu-id="73572-116">Both methods return a pointer to a key value that the app can use to unregister the notification.</span></span> <span data-ttu-id="73572-117">Чтобы отменить регистрацию уведомления, приложение передает значение этого ключа методу [**IDXGIFactory2:: унрегистерстереостатус**](/windows/win32/api/dxgi1_2/nf-dxgi1_2-idxgifactory2-unregisterstereostatus) .</span><span class="sxs-lookup"><span data-stu-id="73572-117">To unregister the notification, the app passes this key value to the [**IDXGIFactory2::UnregisterStereoStatus**](/windows/win32/api/dxgi1_2/nf-dxgi1_2-idxgifactory2-unregisterstereostatus) method.</span></span>

<span data-ttu-id="73572-118">Состояние стерео может содержать следующие элементы:</span><span class="sxs-lookup"><span data-stu-id="73572-118">Stereo status can contain the following elements:</span></span>

-   <span data-ttu-id="73572-119">Конфигурация пользователя.</span><span class="sxs-lookup"><span data-stu-id="73572-119">The user configuration.</span></span>

    <span data-ttu-id="73572-120">Пользователи Windows могут включать или отключать отображение стерео с параметром включить стереоскопик 3D в панели управления изменить параметры отображения.</span><span class="sxs-lookup"><span data-stu-id="73572-120">Windows users can enable or disable stereo display with the enable stereoscopic 3D option in Control Panel's Change Display Settings.</span></span>

-   <span data-ttu-id="73572-121">Возможности и Конфигурация компьютера, включая графический адаптер, графический драйвер и настройку монитора.</span><span class="sxs-lookup"><span data-stu-id="73572-121">The computer capability and configuration, which includes graphics adapter, graphics driver, and monitor setup.</span></span>

<span data-ttu-id="73572-122">[Образец Direct3D 11,1 Simple стерео 3D](https://github.com/microsoftarchive/msdn-code-gallery-microsoft/tree/master/Official%20Windows%20Platform%20Sample/Direct3D%20stereoscopic%203D%20sample) показывает, как добавить трехмерный эффект стереоскопик и как реагировать на изменения системных стерео.</span><span class="sxs-lookup"><span data-stu-id="73572-122">The [Direct3D 11.1 Simple Stereo 3D Sample](https://github.com/microsoftarchive/msdn-code-gallery-microsoft/tree/master/Official%20Windows%20Platform%20Sample/Direct3D%20stereoscopic%203D%20sample) shows how to add a stereoscopic 3D effect and how to respond to system stereo changes.</span></span>

## <a name="related-topics"></a><span data-ttu-id="73572-123">См. также</span><span class="sxs-lookup"><span data-stu-id="73572-123">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="73572-124">Усовершенствования DXGI 1,2</span><span class="sxs-lookup"><span data-stu-id="73572-124">DXGI 1.2 Improvements</span></span>](dxgi-1-2-improvements.md)
</dt> </dl>

 

 
