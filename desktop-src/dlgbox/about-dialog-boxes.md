---
title: диалоговые окна «О программе»
description: В этом разделе рассматривается использование диалоговых окон для создания пользовательских интерфейсов для приложений.
ms.assetid: 51960c28-a178-4ad3-b45e-426fec42a945
keywords:
- диалоговые окна, сведения
- диалоговые окна, когда следует использовать
- модальные диалоговые окна
- безрежимные диалоговые окна
- диалоговые окна, модальные
- диалоговые окна, немодальные
- диалоговые окна, шаблоны
- диалоговые окна, окна владельца
- диалоговые окна, окна сообщений
- процедуры диалоговых окон
- окна сообщений
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 45dd78713c3b87e54e8a992ea9415577c522fc9e
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/20/2020
ms.locfileid: "104070384"
---
# <a name="about-dialog-boxes"></a><span data-ttu-id="99fd6-114">диалоговые окна «О программе»</span><span class="sxs-lookup"><span data-stu-id="99fd6-114">About Dialog Boxes</span></span>

<span data-ttu-id="99fd6-115">Существует множество функций, сообщений и стандартных элементов управления для создания диалоговых окон и управления ими, что упрощает разработку пользовательского интерфейса для приложения.</span><span class="sxs-lookup"><span data-stu-id="99fd6-115">There are many functions, messages, and predefined controls to help create and manage dialog boxes, thus making it easier to develop the user interface for an application.</span></span> <span data-ttu-id="99fd6-116">В этом обзоре описываются функции и сообщения диалоговых окон, а также объясняется, как использовать их для создания и использования диалоговых окон.</span><span class="sxs-lookup"><span data-stu-id="99fd6-116">This overview describes the dialog box functions and messages and explains how to use them to create and use dialog boxes.</span></span>

<span data-ttu-id="99fd6-117">Этот обзор включает в себя следующие разделы:</span><span class="sxs-lookup"><span data-stu-id="99fd6-117">This overview includes the following topics:</span></span>

-   [<span data-ttu-id="99fd6-118">Когда следует использовать диалоговое окно</span><span class="sxs-lookup"><span data-stu-id="99fd6-118">When to Use a Dialog Box</span></span>](#when-to-use-a-dialog-box)
-   [<span data-ttu-id="99fd6-119">Окно "владелец" диалогового окна</span><span class="sxs-lookup"><span data-stu-id="99fd6-119">Dialog Box Owner Window</span></span>](#dialog-box-owner-window)
-   [<span data-ttu-id="99fd6-120">Окна сообщений</span><span class="sxs-lookup"><span data-stu-id="99fd6-120">Message Boxes</span></span>](#message-boxes)
-   [<span data-ttu-id="99fd6-121">Модальные диалоговые окна</span><span class="sxs-lookup"><span data-stu-id="99fd6-121">Modal Dialog Boxes</span></span>](#modal-dialog-boxes)
-   [<span data-ttu-id="99fd6-122">Немодальные диалоговые окна</span><span class="sxs-lookup"><span data-stu-id="99fd6-122">Modeless Dialog Boxes</span></span>](#modeless-dialog-boxes)
-   [<span data-ttu-id="99fd6-123">Шаблоны диалоговых окон</span><span class="sxs-lookup"><span data-stu-id="99fd6-123">Dialog Box Templates</span></span>](#dialog-box-templates)
    -   [<span data-ttu-id="99fd6-124">Стили шаблонов диалоговых окон</span><span class="sxs-lookup"><span data-stu-id="99fd6-124">Dialog Box Template Styles</span></span>](#dialog-box-template-styles)
    -   [<span data-ttu-id="99fd6-125">Измерения диалоговых окон</span><span class="sxs-lookup"><span data-stu-id="99fd6-125">Dialog Box Measurements</span></span>](#dialog-box-measurements)
    -   [<span data-ttu-id="99fd6-126">Элементы управления диалогового окна</span><span class="sxs-lookup"><span data-stu-id="99fd6-126">Dialog Box Controls</span></span>](#dialog-box-controls)
    -   [<span data-ttu-id="99fd6-127">Меню окна диалогового окна</span><span class="sxs-lookup"><span data-stu-id="99fd6-127">Dialog Box Window Menu</span></span>](#dialog-box-window-menu)
    -   [<span data-ttu-id="99fd6-128">Шрифты диалогового окна</span><span class="sxs-lookup"><span data-stu-id="99fd6-128">Dialog Box Fonts</span></span>](#dialog-box-fonts)
    -   [<span data-ttu-id="99fd6-129">Шаблоны в памяти</span><span class="sxs-lookup"><span data-stu-id="99fd6-129">Templates in Memory</span></span>](#templates-in-memory)

<span data-ttu-id="99fd6-130">Дополнительные сведения об общих диалоговых окнах см. в разделе [Библиотека общих диалоговых](common-dialog-box-library.md)окон.</span><span class="sxs-lookup"><span data-stu-id="99fd6-130">For more information about the common dialog boxes, see [Common Dialog Box Library](common-dialog-box-library.md).</span></span>

## <a name="when-to-use-a-dialog-box"></a><span data-ttu-id="99fd6-131">Когда следует использовать диалоговое окно</span><span class="sxs-lookup"><span data-stu-id="99fd6-131">When to Use a Dialog Box</span></span>

<span data-ttu-id="99fd6-132">Большинство приложений используют диалоговые окна для запроса дополнительных сведений для пунктов меню, требующих ввода данных пользователем.</span><span class="sxs-lookup"><span data-stu-id="99fd6-132">Most applications use dialog boxes to prompt for additional information for menu items that require user input.</span></span> <span data-ttu-id="99fd6-133">Использование диалогового окна — это единственный рекомендуемый способ извлечения входных данных для приложения.</span><span class="sxs-lookup"><span data-stu-id="99fd6-133">Using a dialog box is the only recommended way for an application to retrieve the input.</span></span> <span data-ttu-id="99fd6-134">Например, типичный элемент меню **открытия** требует, чтобы имя файла открывалось, поэтому приложение должно использовать диалоговое окно для запроса имени пользователя.</span><span class="sxs-lookup"><span data-stu-id="99fd6-134">For example, a typical **Open** menu item requires the name of a file to open, so an application should use a dialog box to prompt the user for the name.</span></span> <span data-ttu-id="99fd6-135">В таких случаях приложение создает диалоговое окно, когда пользователь щелкает элемент меню и удаляет диалоговое окно сразу после того, как пользователь поставляет информацию.</span><span class="sxs-lookup"><span data-stu-id="99fd6-135">In such cases, the application creates the dialog box when the user clicks the menu item and destroys the dialog box immediately after the user supplies the information.</span></span>

<span data-ttu-id="99fd6-136">Многие приложения также используют диалоговые окна для вывода сведений или параметров, пока пользователь работает в другом окне.</span><span class="sxs-lookup"><span data-stu-id="99fd6-136">Many applications also use dialog boxes to display information or options while the user works in another window.</span></span> <span data-ttu-id="99fd6-137">Например, приложения для обработки текстов часто используют диалоговое окно с параметром поиска текста.</span><span class="sxs-lookup"><span data-stu-id="99fd6-137">For example, word processing applications often use a dialog box with a text-search option.</span></span> <span data-ttu-id="99fd6-138">Пока приложение выполняет поиск текста, диалоговое окно остается на экране.</span><span class="sxs-lookup"><span data-stu-id="99fd6-138">While the application searches for the text, the dialog box remains on the screen.</span></span> <span data-ttu-id="99fd6-139">Пользователь может вернуться в диалоговое окно и повторить поиск того же слова. или пользователь может изменить запись в диалоговом окне и выполнить поиск нового слова.</span><span class="sxs-lookup"><span data-stu-id="99fd6-139">The user can then return to the dialog box and search for the same word again; or the user can change the entry in the dialog box and search for a new word.</span></span> <span data-ttu-id="99fd6-140">Приложения, которые используют диалоговые окна таким образом, обычно создаются, когда пользователь щелкает пункт меню и продолжает отображать его до тех пор, пока выполняется приложение или пользователь явно не закрывает диалоговое окно.</span><span class="sxs-lookup"><span data-stu-id="99fd6-140">Applications that use dialog boxes in this way typically create one when the user clicks the menu item and continue to display it for as long as the application runs or until the user explicitly closes the dialog box.</span></span>

<span data-ttu-id="99fd6-141">Чтобы обеспечить поддержку различных способов использования диалоговых окон приложениями, существует два типа диалоговых окон: модальные и немодальные.</span><span class="sxs-lookup"><span data-stu-id="99fd6-141">To support the different ways applications use dialog boxes, there are two types of dialog box: modal and modeless.</span></span> <span data-ttu-id="99fd6-142">*Модальное диалоговое окно* требует, чтобы пользователь предоставил сведения или отменил диалоговое окно, прежде чем разрешить продолжение работы приложения.</span><span class="sxs-lookup"><span data-stu-id="99fd6-142">A *modal dialog box* requires the user to supply information or cancel the dialog box before allowing the application to continue.</span></span> <span data-ttu-id="99fd6-143">Приложения используют модальные диалоговые окна вместе с элементами меню, требующими дополнительных сведений, прежде чем они смогут продолжить работу.</span><span class="sxs-lookup"><span data-stu-id="99fd6-143">Applications use modal dialog boxes in conjunction with menu items that require additional information before they can proceed.</span></span> <span data-ttu-id="99fd6-144">*Немодальное диалоговое окно* позволяет пользователю предоставить сведения и вернуться к предыдущей задаче, не закрывая диалоговое окно.</span><span class="sxs-lookup"><span data-stu-id="99fd6-144">A *modeless dialog box* allows the user to supply information and return to the previous task without closing the dialog box.</span></span> <span data-ttu-id="99fd6-145">Модальные диалоговые окна проще в управлении, чем немодальные диалоговые окна, поскольку они создаются, выполняют их задачи и уничтожаются путем вызова одной функции.</span><span class="sxs-lookup"><span data-stu-id="99fd6-145">Modal dialog boxes are simpler to manage than modeless dialog boxes because they are created, perform their task, and are destroyed by calling a single function.</span></span>

<span data-ttu-id="99fd6-146">Чтобы создать модальное или немодальное диалоговое окно, приложение должно предоставить шаблон диалогового окна для описания стиля и содержимого диалогового окна. Приложение также должно предоставить процедуру диалогового окна для выполнения задач.</span><span class="sxs-lookup"><span data-stu-id="99fd6-146">To create either a modal or modeless dialog box, an application must supply a dialog box template to describe the dialog box style and content; the application must also supply a dialog box procedure to carry out tasks.</span></span> <span data-ttu-id="99fd6-147">*Шаблон диалогового* окна представляет собой двоичное описание диалогового окна и содержащихся в нем элементов управления.</span><span class="sxs-lookup"><span data-stu-id="99fd6-147">The *dialog box template* is a binary description of the dialog box and the controls it contains.</span></span> <span data-ttu-id="99fd6-148">Разработчик может создать этот шаблон как ресурс, загружаемый из исполняемого файла приложения, или создать его в памяти во время выполнения приложения.</span><span class="sxs-lookup"><span data-stu-id="99fd6-148">The developer can create this template as a resource to be loaded from the application's executable file, or created in memory while the application runs.</span></span> <span data-ttu-id="99fd6-149">*Процедура диалогового окна* — это функция обратного вызова, определяемая приложением, которую система вызывает, когда в ней есть входные данные для диалогового окна или задач для выполнения этого диалогового окна. Хотя процедура диалогового окна аналогична процедуре окна, она не имеет тех же обязанностей.</span><span class="sxs-lookup"><span data-stu-id="99fd6-149">The *dialog box procedure* is an application-defined callback function that the system calls when it has input for the dialog box or tasks for the dialog box to carry out. Although a dialog box procedure is similar to a window procedure, it does not have the same responsibilities.</span></span>

<span data-ttu-id="99fd6-150">Обычно приложение создает диалоговое окно с помощью функции [**диалогбокс**](/windows/desktop/api/Winuser/nf-winuser-dialogboxa) или [**креатедиалог**](/windows/desktop/api/Winuser/nf-winuser-createdialoga) .</span><span class="sxs-lookup"><span data-stu-id="99fd6-150">An application typically creates a dialog box by using either the [**DialogBox**](/windows/desktop/api/Winuser/nf-winuser-dialogboxa) or [**CreateDialog**](/windows/desktop/api/Winuser/nf-winuser-createdialoga) function.</span></span> <span data-ttu-id="99fd6-151">**Диалогбокс** создает модальное диалоговое окно; **Креатедиалог** создает немодальное диалоговое окно.</span><span class="sxs-lookup"><span data-stu-id="99fd6-151">**DialogBox** creates a modal dialog box; **CreateDialog** creates a modeless dialog box.</span></span> <span data-ttu-id="99fd6-152">Эти две функции загружают шаблон диалогового окна из исполняемого файла приложения и создают всплывающее окно, соответствующее спецификациям шаблона.</span><span class="sxs-lookup"><span data-stu-id="99fd6-152">These two functions load a dialog box template from the application's executable file and create a pop-up window that matches the template's specifications.</span></span> <span data-ttu-id="99fd6-153">Существуют и другие функции, которые создают диалоговое окно с помощью шаблонов в памяти. они передают дополнительные сведения процедуре диалогового окна при создании диалогового окна.</span><span class="sxs-lookup"><span data-stu-id="99fd6-153">There are other functions that create a dialog box by using templates in memory; they pass additional information to the dialog box procedure as the dialog box is created.</span></span>

<span data-ttu-id="99fd6-154">Обычно диалоговые окна относятся к стандартному, эксклюзивному классу окна.</span><span class="sxs-lookup"><span data-stu-id="99fd6-154">Dialog boxes usually belong to a predefined, exclusive window class.</span></span> <span data-ttu-id="99fd6-155">Система использует этот класс окна и соответствующую процедуру окна для модальных и немодальных диалоговых окон.</span><span class="sxs-lookup"><span data-stu-id="99fd6-155">The system uses this window class and its corresponding window procedure for both modal and modeless dialog boxes.</span></span> <span data-ttu-id="99fd6-156">При вызове функции она создает окно для диалогового окна, а также окна для элементов управления в диалоговом окне, а затем отправляет выбранные сообщения в процедуру диалогового окна.</span><span class="sxs-lookup"><span data-stu-id="99fd6-156">When the function is called, it creates the window for the dialog box, as well as the windows for the controls in the dialog box, then sends selected messages to the dialog box procedure.</span></span> <span data-ttu-id="99fd6-157">Когда диалоговое окно является видимым, предопределенная процедура окна управляет всеми сообщениями, обрабатывая некоторые сообщения и передавая другие в процедуру диалогового окна, чтобы процедура могла выполнять задачи.</span><span class="sxs-lookup"><span data-stu-id="99fd6-157">While the dialog box is visible, the predefined window procedure manages all messages, processing some messages and passing others to the dialog box procedure so that the procedure can carry out tasks.</span></span> <span data-ttu-id="99fd6-158">Приложения не имеют прямого доступа к предопределенному классу окна или процедуре окна, но они могут использовать шаблон диалогового окна и процедуру диалогового окна для изменения стиля и поведения диалогового окна.</span><span class="sxs-lookup"><span data-stu-id="99fd6-158">Applications do not have direct access to the predefined window class or window procedure, but they can use the dialog box template and dialog box procedure to modify the style and behavior of a dialog box.</span></span>

## <a name="dialog-box-owner-window"></a><span data-ttu-id="99fd6-159">Окно "владелец" диалогового окна</span><span class="sxs-lookup"><span data-stu-id="99fd6-159">Dialog Box Owner Window</span></span>

<span data-ttu-id="99fd6-160">Большинство диалоговых окон имеют окно-владелец (или более просто, владелец).</span><span class="sxs-lookup"><span data-stu-id="99fd6-160">Most dialog boxes have an owner window (or more simply, an owner).</span></span> <span data-ttu-id="99fd6-161">При создании диалогового окна приложение задает владельца, указывая его маркер в окне.</span><span class="sxs-lookup"><span data-stu-id="99fd6-161">When creating the dialog box, the application sets the owner by specifying the owner's window handle.</span></span> <span data-ttu-id="99fd6-162">Система использует владельца для определения расположения диалогового окна в Z-порядке, чтобы диалоговое окно всегда расположиться над его владельцем.</span><span class="sxs-lookup"><span data-stu-id="99fd6-162">The system uses the owner to determine the position of the dialog box in the Z order so that the dialog box is always positioned above its owner.</span></span> <span data-ttu-id="99fd6-163">Кроме того, система может отправлять сообщения в процедуру окна владельца, уведомляя его о событиях в диалоговом окне.</span><span class="sxs-lookup"><span data-stu-id="99fd6-163">Also, the system can send messages to the window procedure of the owner, notifying it of events in the dialog box.</span></span>

<span data-ttu-id="99fd6-164">Система автоматически скрывает или уничтожает диалоговое окно при каждом скрытии или удалении его владельца.</span><span class="sxs-lookup"><span data-stu-id="99fd6-164">The system automatically hides or destroys the dialog box whenever its owner is hidden or destroyed.</span></span> <span data-ttu-id="99fd6-165">Это означает, что процедура диалогового окна не требует специальной обработки для обнаружения изменений в состоянии окна "владелец".</span><span class="sxs-lookup"><span data-stu-id="99fd6-165">This means the dialog box procedure requires no special processing to detect changes to the state of the owner window.</span></span>

<span data-ttu-id="99fd6-166">Так как типичное диалоговое окно используется вместе с пунктом меню, окно-владелец обычно является окном, содержащим меню.</span><span class="sxs-lookup"><span data-stu-id="99fd6-166">Because the typical dialog box is used in conjunction with a menu item, the owner window is usually the window containing the menu.</span></span> <span data-ttu-id="99fd6-167">Хотя можно создать диалоговое окно, не имеющее владельца, не рекомендуется.</span><span class="sxs-lookup"><span data-stu-id="99fd6-167">Although it is possible to create a dialog box that has no owner, it is not recommended.</span></span> <span data-ttu-id="99fd6-168">Например, когда модальное диалоговое окно не имеет владельца, система не отключает ни одного из других окон приложения и позволяет пользователю продолжать работу в других окнах, не отменяя назначение модального диалогового окна.</span><span class="sxs-lookup"><span data-stu-id="99fd6-168">For example, when a modal dialog box has no owner, the system does not disable any of the application's other windows and allows the user to continue to carry out work in the other windows, defeating the purpose of the modal dialog box.</span></span>

<span data-ttu-id="99fd6-169">Когда немодальное диалоговое окно не имеет владельца, система не скрывает и не уничтожает диалоговое окно, когда другие окна в приложении скрыты или уничтожены.</span><span class="sxs-lookup"><span data-stu-id="99fd6-169">When a modeless dialog box has no owner, the system neither hides nor destroys the dialog box when other windows in the application are hidden or destroyed.</span></span> <span data-ttu-id="99fd6-170">Хотя это не нарушает назначение немодального диалогового окна, оно требует, чтобы приложение выполняло специальную обработку, чтобы убедиться, что диалоговое окно скрыто и удалено в нужное время.</span><span class="sxs-lookup"><span data-stu-id="99fd6-170">Although this does not defeat the purpose of the modeless dialog box, it requires that the application carry out special processing to ensure the dialog box is hidden and destroyed at appropriate times.</span></span>

## <a name="message-boxes"></a><span data-ttu-id="99fd6-171">Окна сообщений</span><span class="sxs-lookup"><span data-stu-id="99fd6-171">Message Boxes</span></span>

<span data-ttu-id="99fd6-172">Окно сообщения — это специальное диалоговое окно, которое приложение может использовать для вывода сообщений и запроса простого ввода.</span><span class="sxs-lookup"><span data-stu-id="99fd6-172">A message box is a special dialog box that an application can use to display messages and prompt for simple input.</span></span> <span data-ttu-id="99fd6-173">Обычно окно сообщения содержит текстовое сообщение и одну или несколько кнопок.</span><span class="sxs-lookup"><span data-stu-id="99fd6-173">A message box typically contains a text message and one or more buttons.</span></span> <span data-ttu-id="99fd6-174">Приложение создает окно сообщения с помощью функции [**MessageBox**](/windows/desktop/api/Winuser/nf-winuser-messagebox) или [**мессажебоксекс**](/windows/desktop/api/Winuser/nf-winuser-messageboxexa) , указывая текст, а также число и типы отображаемых кнопок.</span><span class="sxs-lookup"><span data-stu-id="99fd6-174">An application creates the message box by using the [**MessageBox**](/windows/desktop/api/Winuser/nf-winuser-messagebox) or [**MessageBoxEx**](/windows/desktop/api/Winuser/nf-winuser-messageboxexa) function, specifying the text and the number and types of buttons to display.</span></span> <span data-ttu-id="99fd6-175">Обратите внимание, что в настоящее время нет различий между работой **MessageBox** и **мессажебоксекс** .</span><span class="sxs-lookup"><span data-stu-id="99fd6-175">Note that currently there is no difference between how **MessageBox** and **MessageBoxEx** work.</span></span>

<span data-ttu-id="99fd6-176">Хотя окно сообщения является диалоговым, система получает полный контроль над созданием и управлением окна сообщения.</span><span class="sxs-lookup"><span data-stu-id="99fd6-176">Although the message box is a dialog box, the system takes complete control of the creation and management of the message box.</span></span> <span data-ttu-id="99fd6-177">Это означает, что приложение не предоставляет шаблон диалогового окна и процедуру диалогового окна.</span><span class="sxs-lookup"><span data-stu-id="99fd6-177">This means the application does not provide a dialog box template and dialog box procedure.</span></span> <span data-ttu-id="99fd6-178">Система создает собственный шаблон на основе текста и кнопок, указанных для окна сообщения, и предоставляет собственную процедуру диалогового окна.</span><span class="sxs-lookup"><span data-stu-id="99fd6-178">The system creates its own template based on the text and buttons specified for the message box and supplies its own dialog box procedure.</span></span>

<span data-ttu-id="99fd6-179">Окно сообщения является модальным диалоговым окном, и система создает его с помощью тех же внутренних функций, которые [**диалогбокс**](/windows/desktop/api/Winuser/nf-winuser-dialogboxa) использует.</span><span class="sxs-lookup"><span data-stu-id="99fd6-179">A message box is a modal dialog box and the system creates it by using the same internal functions that [**DialogBox**](/windows/desktop/api/Winuser/nf-winuser-dialogboxa) uses.</span></span> <span data-ttu-id="99fd6-180">Если приложение задает окно владельца при вызове [**MessageBox**](/windows/desktop/api/Winuser/nf-winuser-messagebox) или [**мессажебоксекс**](/windows/desktop/api/Winuser/nf-winuser-messageboxexa), система отключает владельца.</span><span class="sxs-lookup"><span data-stu-id="99fd6-180">If the application specifies an owner window when calling [**MessageBox**](/windows/desktop/api/Winuser/nf-winuser-messagebox) or [**MessageBoxEx**](/windows/desktop/api/Winuser/nf-winuser-messageboxexa), the system disables the owner.</span></span> <span data-ttu-id="99fd6-181">Приложение может также направлять систему для отключения всех окон верхнего уровня, принадлежащих текущему потоку, указывая значение **MB \_ таскмодал** во время создания диалогового окна.</span><span class="sxs-lookup"><span data-stu-id="99fd6-181">An application can also direct the system to disable all top-level windows belonging to the current thread by specifying the **MB\_TASKMODAL** value when creating the dialog box.</span></span>

<span data-ttu-id="99fd6-182">Система может передавать сообщения владельцу, таким как [**WM \_ Канцелмоде**](/windows/desktop/winmsg/wm-cancelmode) и [**WM \_ Enable**](/windows/desktop/winmsg/wm-enable), точно так же, как при создании модального диалогового окна.</span><span class="sxs-lookup"><span data-stu-id="99fd6-182">The system can send messages to the owner, such as [**WM\_CANCELMODE**](/windows/desktop/winmsg/wm-cancelmode) and [**WM\_ENABLE**](/windows/desktop/winmsg/wm-enable), just as it does when creating a modal dialog box.</span></span> <span data-ttu-id="99fd6-183">Окно владельца должно выполнять все действия, запрошенные этими сообщениями.</span><span class="sxs-lookup"><span data-stu-id="99fd6-183">The owner window should carry out any actions requested by these messages.</span></span>

## <a name="modal-dialog-boxes"></a><span data-ttu-id="99fd6-184">Модальные диалоговые окна</span><span class="sxs-lookup"><span data-stu-id="99fd6-184">Modal Dialog Boxes</span></span>

<span data-ttu-id="99fd6-185">Модальным диалоговым окном должно быть всплывающее окно с меню окна, строкой заголовка и толстой границей; Это значит, что в шаблоне диалогового окна должны указываться **\_ всплывающие окна WS**, **WS \_ Сисмену**, **WS \_ Caption** и **DS \_ модалфраме** .</span><span class="sxs-lookup"><span data-stu-id="99fd6-185">A modal dialog box should be a pop-up window having a window menu, a title bar, and a thick border; that is, the dialog box template should specify the **WS\_POPUP**, **WS\_SYSMENU**, **WS\_CAPTION**, and **DS\_MODALFRAME** styles.</span></span> <span data-ttu-id="99fd6-186">Несмотря на то, что приложение может **обозначать \_ видимый стиль WS** , система всегда отображает модальное диалоговое окно, независимо от того, указывает ли шаблон диалогового окна стиль **\_ видимый WS** .</span><span class="sxs-lookup"><span data-stu-id="99fd6-186">Although an application can designate the **WS\_VISIBLE** style, the system always displays a modal dialog box regardless of whether the dialog box template specifies the **WS\_VISIBLE** style.</span></span> <span data-ttu-id="99fd6-187">Приложение не должно создавать модальное диалоговое окно, имеющее стиль **\_ дочернего элемента WS** .</span><span class="sxs-lookup"><span data-stu-id="99fd6-187">An application must not create a modal dialog box having the **WS\_CHILD** style.</span></span> <span data-ttu-id="99fd6-188">Модальное диалоговое окно с этим стилем отключает себя, предотвращая дальнейшие входы в приложение.</span><span class="sxs-lookup"><span data-stu-id="99fd6-188">A modal dialog box with this style disables itself, preventing any subsequent input from reaching the application.</span></span>

<span data-ttu-id="99fd6-189">Приложение создает модальное диалоговое окно с помощью функции [**диалогбокс**](/windows/desktop/api/Winuser/nf-winuser-dialogboxa) или [**диалогбоксиндирект**](/windows/desktop/api/Winuser/nf-winuser-dialogboxindirecta) .</span><span class="sxs-lookup"><span data-stu-id="99fd6-189">An application creates a modal dialog box by using either the [**DialogBox**](/windows/desktop/api/Winuser/nf-winuser-dialogboxa) or [**DialogBoxIndirect**](/windows/desktop/api/Winuser/nf-winuser-dialogboxindirecta) function.</span></span> <span data-ttu-id="99fd6-190">**Диалогбокс** требует имя или идентификатор ресурса, содержащего шаблон диалогового окна; **Диалогбоксиндирект** требует наличия обработчика для объекта памяти, содержащего шаблон диалогового окна.</span><span class="sxs-lookup"><span data-stu-id="99fd6-190">**DialogBox** requires the name or identifier of a resource containing a dialog box template; **DialogBoxIndirect** requires a handle to a memory object containing a dialog box template.</span></span> <span data-ttu-id="99fd6-191">Функции [**диалогбокспарам**](/windows/desktop/api/Winuser/nf-winuser-dialogboxparama) и [**диалогбоксиндиректпарам**](/windows/desktop/api/Winuser/nf-winuser-dialogboxindirectparama) также создают модальные диалоговые окна; они идентичны описанным выше функциям, но передают указанный параметр в процедуру диалогового окна при создании диалогового окна.</span><span class="sxs-lookup"><span data-stu-id="99fd6-191">The [**DialogBoxParam**](/windows/desktop/api/Winuser/nf-winuser-dialogboxparama) and [**DialogBoxIndirectParam**](/windows/desktop/api/Winuser/nf-winuser-dialogboxindirectparama) functions also create modal dialog boxes; they are identical to the previously mentioned functions but pass a specified parameter to the dialog box procedure when the dialog box is created.</span></span>

<span data-ttu-id="99fd6-192">При создании модального диалогового окна система делает ее активным окном.</span><span class="sxs-lookup"><span data-stu-id="99fd6-192">When creating the modal dialog box, the system makes it the active window.</span></span> <span data-ttu-id="99fd6-193">Диалоговое окно остается активным до тех пор, пока процедура диалогового окна не вызовет функцию [**EndDialog**](/windows/desktop/api/Winuser/nf-winuser-enddialog) или система не активирует окно в другом приложении.</span><span class="sxs-lookup"><span data-stu-id="99fd6-193">The dialog box remains active until the dialog box procedure calls the [**EndDialog**](/windows/desktop/api/Winuser/nf-winuser-enddialog) function or the system activates a window in another application.</span></span> <span data-ttu-id="99fd6-194">Ни пользователь, ни приложение не могут сделать окно владельца активным, пока не будет уничтожено модальное диалоговое окно.</span><span class="sxs-lookup"><span data-stu-id="99fd6-194">Neither the user nor the application can make the owner window active until the modal dialog box is destroyed.</span></span>

<span data-ttu-id="99fd6-195">Если окно "владелец" еще не отключено, система автоматически отключает окно и все дочерние окна, принадлежащие ему, при создании модального диалогового окна.</span><span class="sxs-lookup"><span data-stu-id="99fd6-195">When the owner window is not already disabled, the system automatically disables the window and any child windows belonging to it when it creates the modal dialog box.</span></span> <span data-ttu-id="99fd6-196">Окно владельца остается неактивным до тех пор, пока не будет удалено диалоговое окно.</span><span class="sxs-lookup"><span data-stu-id="99fd6-196">The owner window remains disabled until the dialog box is destroyed.</span></span> <span data-ttu-id="99fd6-197">Несмотря на то, что процедура диалогового окна потенциально может включить окно владельца в любое время, при включении владельца не рекомендуется использовать модальное диалоговое окно.</span><span class="sxs-lookup"><span data-stu-id="99fd6-197">Although a dialog box procedure could potentially enable the owner window at any time, enabling the owner defeats the purpose of the modal dialog box and is not recommended.</span></span> <span data-ttu-id="99fd6-198">При удалении процедуры диалогового окна система снова включает окно «владелец», но только в том случае, если в модальном диалоговом окне был отключен владелец.</span><span class="sxs-lookup"><span data-stu-id="99fd6-198">When the dialog box procedure is destroyed, the system enables the owner window again, but only if the modal dialog box caused the owner to be disabled.</span></span>

<span data-ttu-id="99fd6-199">По мере того как система создает модальное диалоговое окно, оно отправляет сообщение [**WM \_ канцелмоде**](/windows/desktop/winmsg/wm-cancelmode) в окно (при наличии), в текущий момент записывающее ввод мыши.</span><span class="sxs-lookup"><span data-stu-id="99fd6-199">As the system creates the modal dialog box, it sends the [**WM\_CANCELMODE**](/windows/desktop/winmsg/wm-cancelmode) message to the window (if any) currently capturing mouse input.</span></span> <span data-ttu-id="99fd6-200">Приложение, получающее это сообщение, должно освободить захват мыши, чтобы пользователь мог переместить указатель мыши в модальном диалоговом окне.</span><span class="sxs-lookup"><span data-stu-id="99fd6-200">An application that receives this message should release the mouse capture so that the user can move the mouse in the modal dialog box.</span></span> <span data-ttu-id="99fd6-201">Так как система отключает окно «владелец», все входные данные мыши теряются, если владелец не может отпустить указатель мыши при получении этого сообщения.</span><span class="sxs-lookup"><span data-stu-id="99fd6-201">Because the system disables the owner window, all mouse input is lost if the owner fails to release the mouse upon receiving this message.</span></span>

<span data-ttu-id="99fd6-202">Чтобы обрабатывать сообщения для модального диалогового окна, система запускает собственный цикл обработки сообщений, позволяя временно управлять очередью сообщений для всего приложения.</span><span class="sxs-lookup"><span data-stu-id="99fd6-202">To process messages for the modal dialog box, the system starts its own message loop, taking temporary control of the message queue for the entire application.</span></span> <span data-ttu-id="99fd6-203">Когда система получает сообщение, неявное для этого диалогового окна, оно передает сообщение в соответствующее окно.</span><span class="sxs-lookup"><span data-stu-id="99fd6-203">When the system retrieves a message that is not explicitly for the dialog box, it dispatches the message to the appropriate window.</span></span> <span data-ttu-id="99fd6-204">Если получает сообщение [**\_ Quit WM**](/windows/desktop/winmsg/wm-quit) , оно отправляет сообщение обратно в очередь сообщений приложения, чтобы главный цикл обработки сообщений приложения мог в конечном итоге получить сообщение.</span><span class="sxs-lookup"><span data-stu-id="99fd6-204">If it retrieves a [**WM\_QUIT**](/windows/desktop/winmsg/wm-quit) message, it posts the message back to the application message queue so that the application's main message loop can eventually retrieve the message.</span></span>

<span data-ttu-id="99fd6-205">Система отправляет сообщение [**WM \_ ентеридле**](wm-enteridle.md) окну-владельцу, когда очередь сообщений приложения пуста.</span><span class="sxs-lookup"><span data-stu-id="99fd6-205">The system sends the [**WM\_ENTERIDLE**](wm-enteridle.md) message to the owner window whenever the application message queue is empty.</span></span> <span data-ttu-id="99fd6-206">Приложение может использовать это сообщение для выполнения фоновой задачи, когда диалоговое окно остается на экране.</span><span class="sxs-lookup"><span data-stu-id="99fd6-206">The application can use this message to carry out a background task while the dialog box remains on the screen.</span></span> <span data-ttu-id="99fd6-207">Когда приложение использует сообщение таким образом, приложение должно часто возвращать управление (например, с помощью функции [**PeekMessage**](/windows/desktop/api/winuser/nf-winuser-peekmessagea) ), чтобы модальное диалоговое окно могла получать любые входные данные пользователя.</span><span class="sxs-lookup"><span data-stu-id="99fd6-207">When an application uses the message in this way, the application must frequently yield control (for example, by using the [**PeekMessage**](/windows/desktop/api/winuser/nf-winuser-peekmessagea) function) so that the modal dialog box can receive any user input.</span></span> <span data-ttu-id="99fd6-208">Чтобы предотвратить отправку модальным диалоговым окном сообщений **\_ ентеридле WM** , приложение может указать \_ стиль ноидлемсг DS при создании диалогового окна.</span><span class="sxs-lookup"><span data-stu-id="99fd6-208">To prevent the modal dialog box from sending the **WM\_ENTERIDLE** messages, the application can specify the DS\_NOIDLEMSG style when creating the dialog box.</span></span>

<span data-ttu-id="99fd6-209">Приложение уничтожает модальное диалоговое окно с помощью функции [**EndDialog**](/windows/desktop/api/Winuser/nf-winuser-enddialog) .</span><span class="sxs-lookup"><span data-stu-id="99fd6-209">An application destroys a modal dialog box by using the [**EndDialog**](/windows/desktop/api/Winuser/nf-winuser-enddialog) function.</span></span> <span data-ttu-id="99fd6-210">В большинстве случаев процедура диалогового окна вызывает метод **EndDialog** , когда пользователь нажимает кнопку « **Закрыть** » в меню окна диалогового окна или нажимает кнопку **ОК** или **Отмена** в диалоговом окне.</span><span class="sxs-lookup"><span data-stu-id="99fd6-210">In most cases, the dialog box procedure calls **EndDialog** when the user clicks **Close** from the dialog box's window menu or clicks the **OK** or **Cancel** button in the dialog box.</span></span> <span data-ttu-id="99fd6-211">Это диалоговое окно может возвращать значение с помощью функции [**диалогбокс**](/windows/desktop/api/Winuser/nf-winuser-dialogboxa) (или других функций создания) путем указания значения при вызове функции **EndDialog** .</span><span class="sxs-lookup"><span data-stu-id="99fd6-211">The dialog box can return a value through the [**DialogBox**](/windows/desktop/api/Winuser/nf-winuser-dialogboxa) function (or other creation functions) by specifying a value when calling the **EndDialog** function.</span></span> <span data-ttu-id="99fd6-212">Система возвращает это значение после уничтожения диалогового окна.</span><span class="sxs-lookup"><span data-stu-id="99fd6-212">The system returns this value after destroying the dialog box.</span></span> <span data-ttu-id="99fd6-213">Большинство приложений используют это возвращаемое значение, чтобы определить, успешно ли завершено выполнение задачи в диалоговом окне или отменено пользователем.</span><span class="sxs-lookup"><span data-stu-id="99fd6-213">Most applications use this return value to determine whether the dialog box completed its task successfully or was canceled by the user.</span></span> <span data-ttu-id="99fd6-214">Система не возвращает управление из функции, которая создает диалоговое окно, пока процедура диалогового окна не вызовет функцию **EndDialog** .</span><span class="sxs-lookup"><span data-stu-id="99fd6-214">The system does not return control from the function that creates the dialog box until the dialog box procedure has called the **EndDialog** function.</span></span>

## <a name="modeless-dialog-boxes"></a><span data-ttu-id="99fd6-215">Немодальные диалоговые окна</span><span class="sxs-lookup"><span data-stu-id="99fd6-215">Modeless Dialog Boxes</span></span>

<span data-ttu-id="99fd6-216">Немодальное диалоговое окно должно быть всплывающим окном с меню окна, строкой заголовка и тонкой границей. Это значит, что в шаблоне диалогового окна должно быть указано **\_ всплывающее окно WS**, **\_ заголовок WS**, **\_ границы WS** и стили **WS \_ сисмену** .</span><span class="sxs-lookup"><span data-stu-id="99fd6-216">A modeless dialog box should be a pop-up window having a window menu, a title bar, and a thin border; that is, the dialog box template should specify the **WS\_POPUP**, **WS\_CAPTION**, **WS\_BORDER**, and **WS\_SYSMENU** styles.</span></span> <span data-ttu-id="99fd6-217">Система не отображает диалоговое окно автоматически, если в шаблоне не указан стиль « **WS \_ Visible** ».</span><span class="sxs-lookup"><span data-stu-id="99fd6-217">The system does not automatically display the dialog box unless the template specifies the **WS\_VISIBLE** style.</span></span>

<span data-ttu-id="99fd6-218">Приложение создает немодальное диалоговое окно с помощью функции [**креатедиалог**](/windows/desktop/api/Winuser/nf-winuser-createdialoga) или [**креатедиалогиндирект**](/windows/desktop/api/Winuser/nf-winuser-createdialogindirecta) .</span><span class="sxs-lookup"><span data-stu-id="99fd6-218">An application creates a modeless dialog box by using the [**CreateDialog**](/windows/desktop/api/Winuser/nf-winuser-createdialoga) or [**CreateDialogIndirect**](/windows/desktop/api/Winuser/nf-winuser-createdialogindirecta) function.</span></span> <span data-ttu-id="99fd6-219">**Креатедиалог** требует имя или идентификатор ресурса, содержащего шаблон диалогового окна; **Креатедиалогиндирект** требует наличия обработчика для объекта памяти, содержащего шаблон диалогового окна.</span><span class="sxs-lookup"><span data-stu-id="99fd6-219">**CreateDialog** requires the name or identifier of a resource containing a dialog box template; **CreateDialogIndirect** requires a handle to a memory object containing a dialog box template.</span></span> <span data-ttu-id="99fd6-220">Две другие функции, [**креатедиалогпарам**](/windows/desktop/api/Winuser/nf-winuser-createdialogparama) и [**креатедиалогиндиректпарам**](/windows/desktop/api/Winuser/nf-winuser-createdialogindirectparama), также создают немодальные диалоговые окна; При создании диалогового окна они передают указанный параметр в процедуру диалогового окна.</span><span class="sxs-lookup"><span data-stu-id="99fd6-220">Two other functions, [**CreateDialogParam**](/windows/desktop/api/Winuser/nf-winuser-createdialogparama) and [**CreateDialogIndirectParam**](/windows/desktop/api/Winuser/nf-winuser-createdialogindirectparama), also create modeless dialog boxes; they pass a specified parameter to the dialog box procedure when the dialog box is created.</span></span>

<span data-ttu-id="99fd6-221">[**Креатедиалог**](/windows/desktop/api/Winuser/nf-winuser-createdialoga) и другие функции создания возвращают описатель окна в диалоговое окно.</span><span class="sxs-lookup"><span data-stu-id="99fd6-221">[**CreateDialog**](/windows/desktop/api/Winuser/nf-winuser-createdialoga) and other creation functions return a window handle to the dialog box.</span></span> <span data-ttu-id="99fd6-222">Приложение и процедура диалогового окна могут использовать этот обработчик для управления диалоговым окном.</span><span class="sxs-lookup"><span data-stu-id="99fd6-222">The application and the dialog box procedure can use this handle to manage the dialog box.</span></span> <span data-ttu-id="99fd6-223">Например, если в шаблоне диалогового окна не указано значение **WS \_ Visible** , приложение может отобразить это диалоговое окно, передав обработчику окна функцию [**ShowWindow**](/windows/desktop/api/winuser/nf-winuser-showwindow) .</span><span class="sxs-lookup"><span data-stu-id="99fd6-223">For example, if **WS\_VISIBLE** is not specified in the dialog box template, the application can display the dialog box by passing the window handle to the [**ShowWindow**](/windows/desktop/api/winuser/nf-winuser-showwindow) function.</span></span>

<span data-ttu-id="99fd6-224">Немодальное диалоговое окно не отключает окно владельца и не отправляет ему сообщения.</span><span class="sxs-lookup"><span data-stu-id="99fd6-224">A modeless dialog box neither disables the owner window nor sends messages to it.</span></span> <span data-ttu-id="99fd6-225">При создании диалогового окна система делает его активным, но пользователь или приложение может изменить активное окно в любое время.</span><span class="sxs-lookup"><span data-stu-id="99fd6-225">When creating the dialog box, the system makes it the active window, but the user or the application can change the active window at any time.</span></span> <span data-ttu-id="99fd6-226">Если диалоговое окно становится неактивным, оно остается над окном "владелец" в Z-порядке, даже если окно "владелец" активно.</span><span class="sxs-lookup"><span data-stu-id="99fd6-226">If the dialog box does become inactive, it remains above the owner window in the Z order, even if the owner window is active.</span></span>

<span data-ttu-id="99fd6-227">Приложение отвечает за извлечение и отправку входных сообщений в диалоговом окне.</span><span class="sxs-lookup"><span data-stu-id="99fd6-227">The application is responsible for retrieving and dispatching input messages to the dialog box.</span></span> <span data-ttu-id="99fd6-228">Большинство приложений используют основной цикл обработки сообщений для этого.</span><span class="sxs-lookup"><span data-stu-id="99fd6-228">Most applications use the main message loop for this.</span></span> <span data-ttu-id="99fd6-229">Однако, чтобы позволить пользователю перемещаться на элементы управления и выбирать их с помощью клавиатуры, приложение должно вызвать функцию [**исдиалогмессаже**](/windows/desktop/api/Winuser/nf-winuser-isdialogmessagea) .</span><span class="sxs-lookup"><span data-stu-id="99fd6-229">To permit the user to move to and select controls by using the keyboard, however, the application must call the [**IsDialogMessage**](/windows/desktop/api/Winuser/nf-winuser-isdialogmessagea) function.</span></span> <span data-ttu-id="99fd6-230">Дополнительные сведения об этой функции см. в разделе [интерфейс клавиатуры диалогового окна](dlgbox-programming-considerations.md).</span><span class="sxs-lookup"><span data-stu-id="99fd6-230">For more information about this function, see [Dialog Box Keyboard Interface](dlgbox-programming-considerations.md).</span></span>

<span data-ttu-id="99fd6-231">Немодальное диалоговое окно не может возвращать значение приложению в виде модального диалогового окна, но процедура диалогового окна может отправить сведения в окно владельца с помощью функции [**SendMessage**](/windows/desktop/api/winuser/nf-winuser-sendmessage) .</span><span class="sxs-lookup"><span data-stu-id="99fd6-231">A modeless dialog box cannot return a value to the application as a modal dialog box does, but the dialog box procedure can send information to the owner window by using the [**SendMessage**](/windows/desktop/api/winuser/nf-winuser-sendmessage) function.</span></span>

<span data-ttu-id="99fd6-232">Приложение должно уничтожить все немодальные диалоговые окна перед завершением работы.</span><span class="sxs-lookup"><span data-stu-id="99fd6-232">An application must destroy all modeless dialog boxes before terminating.</span></span> <span data-ttu-id="99fd6-233">Он может уничтожить немодальное диалоговое окно с помощью функции [**дестройвиндов**](/windows/desktop/api/winuser/nf-winuser-destroywindow) .</span><span class="sxs-lookup"><span data-stu-id="99fd6-233">It can destroy a modeless dialog box by using the [**DestroyWindow**](/windows/desktop/api/winuser/nf-winuser-destroywindow) function.</span></span> <span data-ttu-id="99fd6-234">В большинстве случаев процедура диалогового окна вызывает **дестройвиндов** в ответ на ввод пользователя, например нажатие кнопки **Отмена** .</span><span class="sxs-lookup"><span data-stu-id="99fd6-234">In most cases, the dialog box procedure calls **DestroyWindow** in response to user input, such as clicking the **Cancel** button.</span></span> <span data-ttu-id="99fd6-235">Если пользователь никогда не закрывает диалоговое окно таким образом, приложение должно вызвать **дестройвиндов**.</span><span class="sxs-lookup"><span data-stu-id="99fd6-235">If the user never closes the dialog box in this way, the application must call **DestroyWindow**.</span></span>

<span data-ttu-id="99fd6-236">[**Дестройвиндов**](/windows/desktop/api/winuser/nf-winuser-destroywindow) делает недействительным обработчик окна для диалогового окна, поэтому все последующие вызовы функций, использующих этот маркер, возвращают значения ошибки.</span><span class="sxs-lookup"><span data-stu-id="99fd6-236">[**DestroyWindow**](/windows/desktop/api/winuser/nf-winuser-destroywindow) invalidates the window handle to the dialog box, so any subsequent calls to functions that use the handle return error values.</span></span> <span data-ttu-id="99fd6-237">Во избежание ошибок процедура диалогового окна должна уведомлять владельца о том, что диалоговое окно было удалено.</span><span class="sxs-lookup"><span data-stu-id="99fd6-237">To prevent errors, the dialog box procedure should notify the owner that the dialog box has been destroyed.</span></span> <span data-ttu-id="99fd6-238">Многие приложения поддерживают глобальную переменную, содержащую маркер диалогового окна.</span><span class="sxs-lookup"><span data-stu-id="99fd6-238">Many applications maintain a global variable containing the handle to the dialog box.</span></span> <span data-ttu-id="99fd6-239">Когда процедура диалогового окна уничтожает диалоговое окно, она также устанавливает глобальную переменную в **значение NULL**, указывая на то, что диалоговое окно больше не является допустимым.</span><span class="sxs-lookup"><span data-stu-id="99fd6-239">When the dialog box procedure destroys the dialog box, it also sets the global variable to **NULL**, indicating that the dialog box is no longer valid.</span></span>

<span data-ttu-id="99fd6-240">Для уничтожения немодального диалогового окна процедура диалогового окна не должна вызывать функцию [**EndDialog**](/windows/desktop/api/Winuser/nf-winuser-enddialog) .</span><span class="sxs-lookup"><span data-stu-id="99fd6-240">The dialog box procedure must not call the [**EndDialog**](/windows/desktop/api/Winuser/nf-winuser-enddialog) function to destroy a modeless dialog box.</span></span>

## <a name="dialog-box-templates"></a><span data-ttu-id="99fd6-241">Шаблоны диалоговых окон</span><span class="sxs-lookup"><span data-stu-id="99fd6-241">Dialog Box Templates</span></span>

<span data-ttu-id="99fd6-242">Шаблон диалогового окна — это двоичные данные, описывающие диалоговое окно, определяющие его высоту, ширину, стиль и элементы управления, которые он содержит.</span><span class="sxs-lookup"><span data-stu-id="99fd6-242">A dialog box template is binary data that describes the dialog box, defining its height, width, style, and the controls it contains.</span></span> <span data-ttu-id="99fd6-243">Чтобы создать диалоговое окно, система либо загружает шаблон диалогового окна из ресурсов в исполняемом файле приложения, либо использует шаблон, переданный в глобальную память приложением.</span><span class="sxs-lookup"><span data-stu-id="99fd6-243">To create a dialog box, the system either loads a dialog box template from the resources in the application's executable file or uses the template passed to it in global memory by the application.</span></span> <span data-ttu-id="99fd6-244">В любом случае приложение должно предоставить шаблон при создании диалогового окна.</span><span class="sxs-lookup"><span data-stu-id="99fd6-244">In either case, the application must supply a template when creating a dialog box.</span></span>

<span data-ttu-id="99fd6-245">Разработчик создает шаблонные ресурсы с помощью компилятора ресурсов или редактора диалоговых окон.</span><span class="sxs-lookup"><span data-stu-id="99fd6-245">A developer creates template resources by using a resource compiler or a dialog box editor.</span></span> <span data-ttu-id="99fd6-246">Компилятор ресурсов преобразует текстовое описание в двоичный ресурс, а редактор диалоговых окон сохраняет диалоговое окно, созданное в интерактивном режиме, в виде двоичного ресурса.</span><span class="sxs-lookup"><span data-stu-id="99fd6-246">A resource compiler converts a text description into a binary resource, and a dialog box editor saves an interactively constructed dialog box as a binary resource.</span></span>

> [!Note]  
> <span data-ttu-id="99fd6-247">Описание создания шаблонов ресурсов и их добавления в исполняемый файл приложения выходит за рамки этого обзора.</span><span class="sxs-lookup"><span data-stu-id="99fd6-247">An explanation of how to create template resources and add them to the application's executable file is beyond the scope of this overview.</span></span> <span data-ttu-id="99fd6-248">Дополнительные сведения о создании шаблонов ресурсов и их добавлении в исполняемый файл см. в документации, поставляемой со средствами разработки приложений.</span><span class="sxs-lookup"><span data-stu-id="99fd6-248">For more information about creating template resources and adding them to an executable file, see the documentation provided with your application development tools.</span></span>

 

<span data-ttu-id="99fd6-249">Чтобы создать диалоговое окно без использования ресурсов шаблона, необходимо создать шаблон в памяти и передать его в функцию [**креатедиалогиндиректпарам**](/windows/desktop/api/Winuser/nf-winuser-createdialogindirectparama) или [**диалогбоксиндиректпарам**](/windows/desktop/api/Winuser/nf-winuser-dialogboxindirectparama) либо в макрос [**креатедиалогиндирект**](/windows/desktop/api/Winuser/nf-winuser-createdialogindirecta) или [**диалогбоксиндирект**](/windows/desktop/api/Winuser/nf-winuser-dialogboxindirecta) .</span><span class="sxs-lookup"><span data-stu-id="99fd6-249">To create a dialog box without using template resources, you must create a template in memory and pass it to the [**CreateDialogIndirectParam**](/windows/desktop/api/Winuser/nf-winuser-createdialogindirectparama) or [**DialogBoxIndirectParam**](/windows/desktop/api/Winuser/nf-winuser-dialogboxindirectparama) function, or to the [**CreateDialogIndirect**](/windows/desktop/api/Winuser/nf-winuser-createdialogindirecta) or [**DialogBoxIndirect**](/windows/desktop/api/Winuser/nf-winuser-dialogboxindirecta) macro.</span></span>

<span data-ttu-id="99fd6-250">Шаблон диалогового окна в памяти состоит из заголовка, который описывает диалоговое окно, за которым следуют один или несколько дополнительных блоков данных, описывающих каждый из элементов управления в диалоговом окне.</span><span class="sxs-lookup"><span data-stu-id="99fd6-250">A dialog box template in memory consists of a header that describes the dialog box, followed by one or more additional blocks of data that describe each of the controls in the dialog box.</span></span> <span data-ttu-id="99fd6-251">Шаблон может использовать либо стандартный формат, либо расширенный формат.</span><span class="sxs-lookup"><span data-stu-id="99fd6-251">The template can use either the standard format or the extended format.</span></span> <span data-ttu-id="99fd6-252">В стандартном шаблоне заголовок представляет собой [**длгтемплате**](/windows/desktop/api/Winuser/ns-winuser-dlgtemplate) структуру, за которой следуют дополнительные массивы переменной длины. и данные для каждого элемента управления состоят из структуры [**длгитемтемплате**](/windows/desktop/api/Winuser/ns-winuser-dlgitemtemplate) , за которой следуют дополнительные массивы переменной длины.</span><span class="sxs-lookup"><span data-stu-id="99fd6-252">In a standard template, the header is a [**DLGTEMPLATE**](/windows/desktop/api/Winuser/ns-winuser-dlgtemplate) structure followed by additional variable-length arrays; and the data for each control consists of a [**DLGITEMTEMPLATE**](/windows/desktop/api/Winuser/ns-winuser-dlgitemtemplate) structure followed by additional variable-length arrays.</span></span> <span data-ttu-id="99fd6-253">В расширенном шаблоне диалогового окна в заголовке используется формат [**длгтемплатикс**](dlgtemplateex.md) , а в определениях элементов управления используется формат [**длгитемтемплатикс**](dlgitemtemplateex.md) .</span><span class="sxs-lookup"><span data-stu-id="99fd6-253">In an extended dialog box template, the header uses the [**DLGTEMPLATEEX**](dlgtemplateex.md) format and the control definitions use the [**DLGITEMTEMPLATEEX**](dlgitemtemplateex.md) format.</span></span>

<span data-ttu-id="99fd6-254">Шаблон памяти можно создать, выделив глобальный объект памяти и заполнив его стандартными или расширенными определениями заголовков и элементов управления.</span><span class="sxs-lookup"><span data-stu-id="99fd6-254">You can create a memory template by allocating a global memory object and filling it with the standard or extended header and control definitions.</span></span> <span data-ttu-id="99fd6-255">Шаблон памяти одинаков в форме и содержимом для ресурса шаблона.</span><span class="sxs-lookup"><span data-stu-id="99fd6-255">A memory template is identical in form and content to a template resource.</span></span> <span data-ttu-id="99fd6-256">Многие приложения, использующие шаблоны памяти, сначала используют функцию [**лоадресаурце**](/windows/desktop/api/libloaderapi/nf-libloaderapi-loadresource) для загрузки ресурса шаблона в память, а затем изменяют загруженный ресурс для создания нового шаблона памяти.</span><span class="sxs-lookup"><span data-stu-id="99fd6-256">Many applications that use memory templates first use the [**LoadResource**](/windows/desktop/api/libloaderapi/nf-libloaderapi-loadresource) function to load a template resource into memory, then modify the loaded resource to create a new memory template.</span></span> <span data-ttu-id="99fd6-257">Дополнительные сведения о создании шаблона диалогового окна в памяти см. в разделе [шаблоны в памяти](#templates-in-memory).</span><span class="sxs-lookup"><span data-stu-id="99fd6-257">For more information about creating a dialog box template in memory, see [Templates in Memory](#templates-in-memory).</span></span>

<span data-ttu-id="99fd6-258">В следующих разделах описываются стили, измерения и другие значения, используемые в шаблоне диалогового окна.</span><span class="sxs-lookup"><span data-stu-id="99fd6-258">The following sections describe the styles, measurements, and other values used in a dialog box template.</span></span>

-   [<span data-ttu-id="99fd6-259">Стили шаблонов диалоговых окон</span><span class="sxs-lookup"><span data-stu-id="99fd6-259">Dialog Box Template Styles</span></span>](#dialog-box-template-styles)
-   [<span data-ttu-id="99fd6-260">Измерения диалоговых окон</span><span class="sxs-lookup"><span data-stu-id="99fd6-260">Dialog Box Measurements</span></span>](#dialog-box-measurements)
-   [<span data-ttu-id="99fd6-261">Элементы управления диалогового окна</span><span class="sxs-lookup"><span data-stu-id="99fd6-261">Dialog Box Controls</span></span>](#dialog-box-controls)
-   [<span data-ttu-id="99fd6-262">Меню окна диалогового окна</span><span class="sxs-lookup"><span data-stu-id="99fd6-262">Dialog Box Window Menu</span></span>](#dialog-box-window-menu)
-   [<span data-ttu-id="99fd6-263">Шрифты диалогового окна</span><span class="sxs-lookup"><span data-stu-id="99fd6-263">Dialog Box Fonts</span></span>](#dialog-box-fonts)
-   [<span data-ttu-id="99fd6-264">Шаблоны в памяти</span><span class="sxs-lookup"><span data-stu-id="99fd6-264">Templates in Memory</span></span>](#templates-in-memory)

### <a name="dialog-box-template-styles"></a><span data-ttu-id="99fd6-265">Стили шаблонов диалоговых окон</span><span class="sxs-lookup"><span data-stu-id="99fd6-265">Dialog Box Template Styles</span></span>

<span data-ttu-id="99fd6-266">Каждый шаблон диалогового окна задает сочетание значений стиля, определяющих внешний вид и возможности диалогового окна.</span><span class="sxs-lookup"><span data-stu-id="99fd6-266">Every dialog box template specifies a combination of style values that define the appearance and features of the dialog box.</span></span> <span data-ttu-id="99fd6-267">Значения стиля могут быть стилями окна, такими как **\_ "всплывающее окно" и "** WS **\_ сисмену**", а также стилями диалоговых окон, такими как **DS \_ модалфраме**.</span><span class="sxs-lookup"><span data-stu-id="99fd6-267">The style values can be window styles, such as **WS\_POPUP** and **WS\_SYSMENU**, and dialog box styles, such as **DS\_MODALFRAME**.</span></span> <span data-ttu-id="99fd6-268">Количество и тип стилей для шаблона зависит от типа и назначения диалогового окна.</span><span class="sxs-lookup"><span data-stu-id="99fd6-268">The number and type of styles for a template depends on the type and purpose of the dialog box.</span></span> <span data-ttu-id="99fd6-269">Список значений см. в разделе [**стили диалоговых окон**](dialog-box-styles.md).</span><span class="sxs-lookup"><span data-stu-id="99fd6-269">For a list of values, see [**Dialog Box Styles**](dialog-box-styles.md).</span></span>

<span data-ttu-id="99fd6-270">Система передает все стили окна, указанные в шаблоне, в функцию [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) при создании диалогового окна.</span><span class="sxs-lookup"><span data-stu-id="99fd6-270">The system passes all window styles specified in the template to the [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) function when creating the dialog box.</span></span> <span data-ttu-id="99fd6-271">Система может передать один или несколько расширенных стилей в зависимости от указанных стилей диалогового окна.</span><span class="sxs-lookup"><span data-stu-id="99fd6-271">The system may pass one or more extended styles depending on the specified dialog box styles.</span></span> <span data-ttu-id="99fd6-272">Например, если шаблон указывает **DS \_ модалфраме**, система использует **WS \_ ex \_ длгмодалфраме** при создании диалогового окна.</span><span class="sxs-lookup"><span data-stu-id="99fd6-272">For example, when the template specifies **DS\_MODALFRAME**, the system uses **WS\_EX\_DLGMODALFRAME** when creating the dialog box.</span></span>

<span data-ttu-id="99fd6-273">Большинство диалоговых окон — всплывающие окна, в которых есть меню окон и строка заголовка.</span><span class="sxs-lookup"><span data-stu-id="99fd6-273">Most dialog boxes are pop-up windows that have a window menu and a title bar.</span></span> <span data-ttu-id="99fd6-274">Таким образом, типичный шаблон задает **Стили \_ всплывающих окон**, **WS \_ сисмену** и **WS \_** .</span><span class="sxs-lookup"><span data-stu-id="99fd6-274">Therefore, the typical template specifies the **WS\_POPUP**, **WS\_SYSMENU**, and **WS\_CAPTION** styles.</span></span> <span data-ttu-id="99fd6-275">Шаблон также задает стиль границы: **WS \_ border** для немодальных диалоговых окон и **DS \_ модалфраме** для модальных диалоговых окон.</span><span class="sxs-lookup"><span data-stu-id="99fd6-275">The template also specifies a border style: **WS\_BORDER** for modeless dialog boxes, and **DS\_MODALFRAME** for modal dialog boxes.</span></span> <span data-ttu-id="99fd6-276">Шаблон может указывать тип окна, отличный от всплывающего, (например, **WS \_ OVERLAPPED**), если вместо диалогового окна создается настроенное окно.</span><span class="sxs-lookup"><span data-stu-id="99fd6-276">A template may specify a window type other than pop-up (such as **WS\_OVERLAPPED**) if it creates a customized window instead of a dialog box.</span></span>

<span data-ttu-id="99fd6-277">Система всегда отображает модальное диалоговое окно независимо от того, был ли указан стиль « **WS \_ Visible** ».</span><span class="sxs-lookup"><span data-stu-id="99fd6-277">The system always displays a modal dialog box regardless of whether the **WS\_VISIBLE** style is specified.</span></span> <span data-ttu-id="99fd6-278">Если в шаблоне для немодального диалогового окна указан стиль " **WS \_ Visible** ", система автоматически отображает диалоговое окно при его создании.</span><span class="sxs-lookup"><span data-stu-id="99fd6-278">When the template for a modeless dialog box specifies the **WS\_VISIBLE** style, the system automatically displays the dialog box when it is created.</span></span> <span data-ttu-id="99fd6-279">В противном случае приложение отвечает за отображение диалогового окна с помощью функции [**ShowWindow**](/windows/desktop/api/winuser/nf-winuser-showwindow) .</span><span class="sxs-lookup"><span data-stu-id="99fd6-279">Otherwise, the application is responsible for displaying the dialog box by using the [**ShowWindow**](/windows/desktop/api/winuser/nf-winuser-showwindow) function.</span></span>

### <a name="dialog-box-measurements"></a><span data-ttu-id="99fd6-280">Измерения диалоговых окон</span><span class="sxs-lookup"><span data-stu-id="99fd6-280">Dialog Box Measurements</span></span>

<span data-ttu-id="99fd6-281">Каждый шаблон диалогового окна содержит измерения, определяющие расположение, ширину и высоту диалогового окна и содержащихся в нем элементов управления.</span><span class="sxs-lookup"><span data-stu-id="99fd6-281">Every dialog box template contains measurements that specify the position, width, and height of the dialog box and the controls it contains.</span></span> <span data-ttu-id="99fd6-282">Эти измерения не зависят от устройства, поэтому приложение может использовать один шаблон для создания одного и того же диалогового окна для всех типов устройств вывода.</span><span class="sxs-lookup"><span data-stu-id="99fd6-282">These measurements are device independent, so an application can use a single template to create the same dialog box for all types of display devices.</span></span> <span data-ttu-id="99fd6-283">Это гарантирует, что в диалоговом окне будут одинаковые пропорции и внешний вид на всех экранах, несмотря на различия в разрешениях и пропорции экранов.</span><span class="sxs-lookup"><span data-stu-id="99fd6-283">This ensures that a dialog box will have the same proportions and appearance on all screens despite differing resolutions and aspect ratios between screens.</span></span>

<span data-ttu-id="99fd6-284">Измерения в шаблоне диалогового окна указываются в единицах шаблонов диалогового окна.</span><span class="sxs-lookup"><span data-stu-id="99fd6-284">The measurements in a dialog box template are specified in dialog template units.</span></span> <span data-ttu-id="99fd6-285">Чтобы преобразовать измерения из шаблона диалогового окна в единицы экрана (в пикселях), используйте функцию [**мапдиалогрект**](/windows/desktop/api/Winuser/nf-winuser-mapdialogrect) , которая учитывает шрифт, используемый в диалоговом окне, и правильно Преобразует прямоугольник из элементов шаблона диалогового окна в пиксели.</span><span class="sxs-lookup"><span data-stu-id="99fd6-285">To convert measurements from dialog template units to screen units (pixels), use the [**MapDialogRect**](/windows/desktop/api/Winuser/nf-winuser-mapdialogrect) function, which takes into account the font used by the dialog box and correctly converts a rectangle from dialog template units into pixels.</span></span> <span data-ttu-id="99fd6-286">Для диалоговых окон, использующих системный шрифт, можно использовать функцию [**жетдиалогбасеунитс**](/windows/desktop/api/Winuser/nf-winuser-getdialogbaseunits) для самостоятельного выполнения вычислений по конвертации, хотя использование **мапдиалогрект** проще.</span><span class="sxs-lookup"><span data-stu-id="99fd6-286">For dialog boxes that use the system font, you can use the [**GetDialogBaseUnits**](/windows/desktop/api/Winuser/nf-winuser-getdialogbaseunits) function to perform the conversion calculations yourself, although using **MapDialogRect** is simpler.</span></span>

<span data-ttu-id="99fd6-287">Шаблон должен указывать начальные координаты левого верхнего угла диалогового окна.</span><span class="sxs-lookup"><span data-stu-id="99fd6-287">The template must specify the initial coordinates of the upper left corner of the dialog box.</span></span> <span data-ttu-id="99fd6-288">Обычно координаты задаются относительно левого верхнего угла клиентской области окна владельца.</span><span class="sxs-lookup"><span data-stu-id="99fd6-288">Usually the coordinates are relative to the upper left corner of the owner window's client area.</span></span> <span data-ttu-id="99fd6-289">Если в шаблоне указан \_ стиль АБСАЛИГН DS или в диалоговом окне нет владельца, то это расположение отсчитывается относительно левого верхнего угла экрана.</span><span class="sxs-lookup"><span data-stu-id="99fd6-289">When the template specifies the DS\_ABSALIGN style or the dialog box has no owner, the position is relative to the upper left corner of the screen.</span></span> <span data-ttu-id="99fd6-290">Система устанавливает эту начальную точку при создании диалогового окна, но позволяет приложению настраивать расположение перед отображением диалогового окна.</span><span class="sxs-lookup"><span data-stu-id="99fd6-290">The system sets this initial position when creating the dialog box, but permits an application to adjust the position before displaying the dialog box.</span></span> <span data-ttu-id="99fd6-291">Например, приложение может извлекать размеры окна "владелец", вычислять новую положение, которое выравнивает это диалоговое окно в окне "владелец", а затем задавать положение с помощью функции [**SetWindowPos**](/windows/desktop/api/winuser/nf-winuser-setwindowpos) .</span><span class="sxs-lookup"><span data-stu-id="99fd6-291">For example, an application can retrieve the dimensions of the owner window, calculate a new position that centers the dialog box in the owner window, and then set the position by using the [**SetWindowPos**](/windows/desktop/api/winuser/nf-winuser-setwindowpos) function.</span></span>

<span data-ttu-id="99fd6-292">Шаблон должен задавать ширину и высоту диалогового окна, не превышающие ширину и высоту экрана, и гарантирует, что все элементы управления находятся в клиентской области диалогового окна.</span><span class="sxs-lookup"><span data-stu-id="99fd6-292">The template should specify a dialog box width and height that does not exceed the width and height of the screen and ensures that all controls are within the client area of the dialog box.</span></span> <span data-ttu-id="99fd6-293">Несмотря на то, что система допускает использование диалогового окна любого размера, его создание слишком мало или слишком велико, может помешать пользователю предоставить входные данные, что нарушает назначение диалогового окна.</span><span class="sxs-lookup"><span data-stu-id="99fd6-293">Although the system permits a dialog box to be any size, creating one that is too small or too large can prevent the user from providing input, defeating the purpose of the dialog box.</span></span> <span data-ttu-id="99fd6-294">Многие приложения используют более одного диалогового окна при наличии большого количества элементов управления.</span><span class="sxs-lookup"><span data-stu-id="99fd6-294">Many applications use more than one dialog box when there are a large number of controls.</span></span> <span data-ttu-id="99fd6-295">В таких случаях исходное диалоговое окно обычно содержит одну или несколько кнопок, которые пользователь может выбрать для открытия следующего диалогового окна.</span><span class="sxs-lookup"><span data-stu-id="99fd6-295">In such cases, the initial dialog box usually contains one or more buttons that the user can choose to display the next dialog box.</span></span>

### <a name="dialog-box-controls"></a><span data-ttu-id="99fd6-296">Элементы управления диалогового окна</span><span class="sxs-lookup"><span data-stu-id="99fd6-296">Dialog Box Controls</span></span>

<span data-ttu-id="99fd6-297">Шаблон задает расположение, ширину, высоту, стиль, идентификатор и класс окна для каждого элемента управления в диалоговом окне.</span><span class="sxs-lookup"><span data-stu-id="99fd6-297">The template specifies the position, width, height, style, identifier, and window class for each control in the dialog box.</span></span> <span data-ttu-id="99fd6-298">Система создает каждый элемент управления, передавая эти данные функции [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) .</span><span class="sxs-lookup"><span data-stu-id="99fd6-298">The system creates each control by passing this data to the [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) function.</span></span> <span data-ttu-id="99fd6-299">Элементы управления создаются в том порядке, в котором они указаны в шаблоне.</span><span class="sxs-lookup"><span data-stu-id="99fd6-299">Controls are created in the order they are specified in the template.</span></span> <span data-ttu-id="99fd6-300">Шаблон должен указывать соответствующее число, тип и порядок элементов управления, чтобы пользователь мог ввести входные данные, необходимые для выполнения задачи, связанной с диалоговым окном.</span><span class="sxs-lookup"><span data-stu-id="99fd6-300">The template should specify the appropriate number, type, and order of controls to ensure that the user can enter the input needed to complete the task associated with the dialog box.</span></span>

<span data-ttu-id="99fd6-301">Для каждого элемента управления шаблон определяет значения стилей, которые определяют внешний вид и операции элемента управления.</span><span class="sxs-lookup"><span data-stu-id="99fd6-301">For each control, the template specifies style values that define the appearance and operation of the control.</span></span> <span data-ttu-id="99fd6-302">Каждый элемент управления является дочерним окном и поэтому должен иметь стиль **\_ дочернего элемента WS** .</span><span class="sxs-lookup"><span data-stu-id="99fd6-302">Every control is a child window and therefore must have the **WS\_CHILD** style.</span></span> <span data-ttu-id="99fd6-303">Чтобы обеспечить видимость элемента управления при отображении диалогового окна, каждый элемент управления должен иметь стиль « **WS \_ Visible** ».</span><span class="sxs-lookup"><span data-stu-id="99fd6-303">To ensure that the control is visible when the dialog box is displayed, each control must also have the **WS\_VISIBLE** style.</span></span> <span data-ttu-id="99fd6-304">Другие часто используемые стили окон — это **WS- \_ границы** для элементов управления, которые имеют необязательные границы, **WS \_ отключены** для элементов управления, которые должны быть отключены при первоначальном создании диалогового окна, и **\_ группу** **WS \_ TABSTOP** и WS для элементов управления, доступ к которым можно получить с помощью клавиатуры.</span><span class="sxs-lookup"><span data-stu-id="99fd6-304">Other commonly used window styles are **WS\_BORDER** for controls that have optional borders, **WS\_DISABLED** for controls that should be disabled when the dialog box is initially created, and **WS\_TABSTOP** and **WS\_GROUP** for controls that can be accessed using the keyboard.</span></span> <span data-ttu-id="99fd6-305">Стили **\_ группы** **WS \_ TABSTOP** и WS используются совместно с диалоговым интерфейсом клавиатуры, описанным далее в этом разделе.</span><span class="sxs-lookup"><span data-stu-id="99fd6-305">The **WS\_TABSTOP** and **WS\_GROUP** styles are used in conjunction with the dialog keyboard interface described later in this topic.</span></span>

<span data-ttu-id="99fd6-306">Шаблон также может указывать стили элементов управления, характерные для класса окна элемента управления.</span><span class="sxs-lookup"><span data-stu-id="99fd6-306">The template may also specify control styles specific to the control's window class.</span></span> <span data-ttu-id="99fd6-307">Например, шаблон, указывающий элемент управления "Кнопка", должен иметь стиль элемента управления " **кнопка \_ ", например** **"Кнопка" или \_ "** BS".</span><span class="sxs-lookup"><span data-stu-id="99fd6-307">For example, a template that specifies a button control must give a button control style such as **BS\_PUSHBUTTON** or **BS\_CHECKBOX**.</span></span> <span data-ttu-id="99fd6-308">Система передает стили элемента управления в процедуру окна управления через сообщение [**\_ создания WM**](/windows/desktop/winmsg/wm-create) , позволяя процедуре адаптировать внешний вид и операции элемента управления.</span><span class="sxs-lookup"><span data-stu-id="99fd6-308">The system passes the control styles to the control window procedure through the [**WM\_CREATE**](/windows/desktop/winmsg/wm-create) message, allowing the procedure to adapt the appearance and operation of the control.</span></span>

<span data-ttu-id="99fd6-309">Система преобразует координаты положения и измерения ширины и высоты из базовых единиц диалогового окна в Пиксели перед их передачей в [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa).</span><span class="sxs-lookup"><span data-stu-id="99fd6-309">The system converts the position coordinates and the width and height measurements from dialog base units to pixels, before passing these to [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa).</span></span> <span data-ttu-id="99fd6-310">Когда система создает элемент управления, она указывает диалоговое окно в качестве родительского окна.</span><span class="sxs-lookup"><span data-stu-id="99fd6-310">When the system creates a control, it specifies the dialog box as the parent window.</span></span> <span data-ttu-id="99fd6-311">Это означает, что система всегда интерпретирует координаты положения элемента управления как клиентские координаты относительно верхнего левого угла клиентской области диалогового окна.</span><span class="sxs-lookup"><span data-stu-id="99fd6-311">This means the system always interprets the position coordinates of the control as client coordinates, relative to the upper left corner of the dialog box's client area.</span></span>

<span data-ttu-id="99fd6-312">Шаблон задает класс окна для каждого элемента управления.</span><span class="sxs-lookup"><span data-stu-id="99fd6-312">The template specifies the window class for each control.</span></span> <span data-ttu-id="99fd6-313">Типичное диалоговое окно содержит элементы управления, принадлежащие предопределенным классам окон элементов управления, например классы кнопок и окон редактирования.</span><span class="sxs-lookup"><span data-stu-id="99fd6-313">A typical dialog box contains controls belonging to the predefined control window classes, such as the button and edit control window classes.</span></span> <span data-ttu-id="99fd6-314">В этом случае шаблон задает классы окон, предоставляя соответствующие стандартные значения Atom для классов.</span><span class="sxs-lookup"><span data-stu-id="99fd6-314">In this case, the template specifies window classes by supplying the corresponding predefined atom values for the classes.</span></span> <span data-ttu-id="99fd6-315">Если диалоговое окно содержит элемент управления, принадлежащий классу окна пользовательского элемента управления, шаблон выдает имя зарегистрированного класса окна или значение Atom, которое в настоящее время связано с именем.</span><span class="sxs-lookup"><span data-stu-id="99fd6-315">When a dialog box contains a control belonging to a custom control window class, the template gives the name of that registered window class or the atom value currently associated with the name.</span></span>

<span data-ttu-id="99fd6-316">Каждый элемент управления в диалоговом окне должен иметь уникальный идентификатор, чтобы отличать его от других элементов управления.</span><span class="sxs-lookup"><span data-stu-id="99fd6-316">Each control in a dialog box must have a unique identifier to distinguish it from other controls.</span></span> <span data-ttu-id="99fd6-317">Управляет отправкой данных в процедуру диалогового окна с помощью [**\_ командных сообщений WM**](/windows/desktop/menurc/wm-command) , поэтому идентификаторы элементов управления являются обязательными для процедуры определения того, какой элемент управления отправил указанное сообщение.</span><span class="sxs-lookup"><span data-stu-id="99fd6-317">Controls send information to the dialog box procedure through [**WM\_COMMAND**](/windows/desktop/menurc/wm-command) messages, so the control identifiers are essential for the procedure to determine which control sent a specified message.</span></span> <span data-ttu-id="99fd6-318">Единственным исключением из этого правила являются идентификаторы элементов управления для статических элементов управления.</span><span class="sxs-lookup"><span data-stu-id="99fd6-318">The only exception to this rule are control identifiers for static controls.</span></span> <span data-ttu-id="99fd6-319">Статические элементы управления не нуждаются в уникальных идентификаторах, так как они не отправляют сообщения **\_ командной строки WM** .</span><span class="sxs-lookup"><span data-stu-id="99fd6-319">Static controls do not require unique identifiers because they send no **WM\_COMMAND** messages.</span></span>

<span data-ttu-id="99fd6-320">Чтобы разрешить пользователю закрыть диалоговое окно, шаблон должен указать по крайней мере одну кнопку отправки и присвоить ей идентификатор элемента управления **идканцел**.</span><span class="sxs-lookup"><span data-stu-id="99fd6-320">To permit the user to close the dialog box, the template should specify at least one push button and give it the control identifier **IDCANCEL**.</span></span> <span data-ttu-id="99fd6-321">Чтобы позволить пользователю выбирать между завершением или отменой задачи, связанной с диалоговым окном, шаблон должен указать две кнопки Push-уведомлений с метками " **ОК** **" и "Отмена"** с идентификаторами элементов управления **идок** и **идканцел** соответственно.</span><span class="sxs-lookup"><span data-stu-id="99fd6-321">To permit the user to choose between completing or canceling the task associated with the dialog box, the template should specify two push buttons, labeled **OK** and **Cancel**, with control identifiers of **IDOK** and **IDCANCEL**, respectively.</span></span>

<span data-ttu-id="99fd6-322">В шаблоне также указывается необязательный текст и данные для создания элемента управления.</span><span class="sxs-lookup"><span data-stu-id="99fd6-322">A template also specifies optional text and creation data for a control.</span></span> <span data-ttu-id="99fd6-323">Текст обычно содержит метки для элементов управления "Кнопка" или определяет начальное содержимое статического текстового элемента управления.</span><span class="sxs-lookup"><span data-stu-id="99fd6-323">The text typically provides labels for button controls or specifies the initial content of a static text control.</span></span> <span data-ttu-id="99fd6-324">Данные для создания представляют собой один или несколько байт данных, которые система передает в процедуру окна управления при создании элемента управления.</span><span class="sxs-lookup"><span data-stu-id="99fd6-324">The creation data is one or more bytes of data that the system passes to the control window procedure when creating the control.</span></span> <span data-ttu-id="99fd6-325">Данные для создания удобны для элементов управления, которым требуются дополнительные сведения о начальном содержимом или стиле, чем указано другими данными.</span><span class="sxs-lookup"><span data-stu-id="99fd6-325">Creation data is useful for controls that require more information about their initial content or style than is specified by other data.</span></span> <span data-ttu-id="99fd6-326">Например, приложение может использовать данные создания для установки начального значения и диапазона для элемента управления полосы прокрутки.</span><span class="sxs-lookup"><span data-stu-id="99fd6-326">For example, an application can use creation data to set the initial setting and range for a scroll bar control.</span></span>

### <a name="dialog-box-window-menu"></a><span data-ttu-id="99fd6-327">Меню окна диалогового окна</span><span class="sxs-lookup"><span data-stu-id="99fd6-327">Dialog Box Window Menu</span></span>

<span data-ttu-id="99fd6-328">Система открывает диалоговое окно меню окна, когда шаблон задает стиль **WS \_ сисмену** .</span><span class="sxs-lookup"><span data-stu-id="99fd6-328">The system gives a dialog box a window menu when the template specifies the **WS\_SYSMENU** style.</span></span> <span data-ttu-id="99fd6-329">Чтобы предотвратить недопустимые входные данные, система автоматически отключает все элементы в меню, за исключением **перемещения** и **закрытия**.</span><span class="sxs-lookup"><span data-stu-id="99fd6-329">To prevent inappropriate input, the system automatically disables all items in the menu except **Move** and **Close**.</span></span> <span data-ttu-id="99fd6-330">Пользователь может нажать кнопку " **переместить** ", чтобы переместить диалоговое окно.</span><span class="sxs-lookup"><span data-stu-id="99fd6-330">The user can click **Move** to move the dialog box.</span></span> <span data-ttu-id="99fd6-331">Когда пользователь нажимает кнопку " **Закрыть**", система [**отправляет \_ командное сообщение WM**](/windows/desktop/menurc/wm-command) в процедуру диалогового окна с параметром *wParam* , установленным в **идканцел**.</span><span class="sxs-lookup"><span data-stu-id="99fd6-331">When the user clicks **Close**, the system sends a [**WM\_COMMAND**](/windows/desktop/menurc/wm-command) message to the dialog box procedure with the *wParam* parameter set to **IDCANCEL**.</span></span> <span data-ttu-id="99fd6-332">Это идентично сообщению, отправленному кнопкой **Отмена** , когда пользователь щелкнет его.</span><span class="sxs-lookup"><span data-stu-id="99fd6-332">This is identical to the message sent by the **Cancel** button when the user clicks it.</span></span> <span data-ttu-id="99fd6-333">Рекомендуемое действие для этого сообщения — закрыть диалоговое окно и отменить запрошенную задачу.</span><span class="sxs-lookup"><span data-stu-id="99fd6-333">The recommended action for this message is to close the dialog box and cancel the requested task.</span></span>

<span data-ttu-id="99fd6-334">Хотя другие меню в диалоговых окнах не рекомендуются, шаблон диалогового окна может указать меню, указав идентификатор или имя ресурса меню.</span><span class="sxs-lookup"><span data-stu-id="99fd6-334">Although other menus in dialog boxes are not recommended, a dialog box template can specify a menu by supplying the identifier or the name of a menu resource.</span></span> <span data-ttu-id="99fd6-335">В этом случае система загружает ресурс и создает меню для этого диалогового окна.</span><span class="sxs-lookup"><span data-stu-id="99fd6-335">In this case, the system loads the resource and creates the menu for the dialog box.</span></span> <span data-ttu-id="99fd6-336">Приложения обычно используют идентификаторы меню или имена в шаблонах при использовании шаблонов для создания пользовательских окон, а не диалоговых окон.</span><span class="sxs-lookup"><span data-stu-id="99fd6-336">Applications typically use menu identifiers or names in templates when using the templates to create custom windows rather than dialog boxes.</span></span>

### <a name="dialog-box-fonts"></a><span data-ttu-id="99fd6-337">Шрифты диалогового окна</span><span class="sxs-lookup"><span data-stu-id="99fd6-337">Dialog Box Fonts</span></span>

<span data-ttu-id="99fd6-338">Система использует среднюю ширину символов в диалоговом окне шрифта для вычисления позиции и размеров диалогового окна.</span><span class="sxs-lookup"><span data-stu-id="99fd6-338">The system uses the average character width of the dialog box font to calculate the position and dimensions of the dialog box.</span></span> <span data-ttu-id="99fd6-339">По умолчанию система рисует весь текст в диалоговом окне, используя шрифт **системного \_ шрифта** .</span><span class="sxs-lookup"><span data-stu-id="99fd6-339">By default, the system draws all text in a dialog box using the **SYSTEM\_FONT** font.</span></span>

<span data-ttu-id="99fd6-340">Чтобы указать шрифт для диалогового окна, отличного от значения по умолчанию, необходимо создать диалоговое окно с помощью шаблона диалогового окна.</span><span class="sxs-lookup"><span data-stu-id="99fd6-340">To specify a font for a dialog box other than the default, you must create the dialog box using a dialog box template.</span></span> <span data-ttu-id="99fd6-341">В ресурсе шаблона используйте [инструкцию Font](../menurc/font-statement.md).</span><span class="sxs-lookup"><span data-stu-id="99fd6-341">In a template resource, use the [FONT Statement](../menurc/font-statement.md).</span></span> <span data-ttu-id="99fd6-342">В шаблоне диалогового окна задайте **домен DS \_ Сетфонт** или **DS \_ шеллфонт** и укажите размер точки и имя гарнитуры.</span><span class="sxs-lookup"><span data-stu-id="99fd6-342">In a dialog box template, set the **DS\_SETFONT** or **DS\_SHELLFONT** style and specify a point size and a typeface name.</span></span> <span data-ttu-id="99fd6-343">Даже если шаблон диалогового окна задает шрифт таким образом, система всегда использует системный шрифт для меню «заголовок диалогового окна» и «диалоговое окно».</span><span class="sxs-lookup"><span data-stu-id="99fd6-343">Even if a dialog box template specifies a font in this manner, the system always uses the system font for the dialog box title and dialog box menus.</span></span>

<span data-ttu-id="99fd6-344">Когда диалоговое окно имеет стиль **DS \_ Сетфонт** или **DS \_ Шеллфонт** , система отправляет сообщение [**WM \_ сетфонт**](/windows/desktop/winmsg/wm-setfont) в процедуру диалогового окна и каждый элемент управления при создании элемента управления.</span><span class="sxs-lookup"><span data-stu-id="99fd6-344">When the dialog box has the **DS\_SETFONT** or **DS\_SHELLFONT** style, the system sends a [**WM\_SETFONT**](/windows/desktop/winmsg/wm-setfont) message to the dialog box procedure and to each control as it creates the control.</span></span> <span data-ttu-id="99fd6-345">Процедура диалогового окна отвечает за сохранение маркера шрифта, передаваемого с сообщением **WM \_ сетфонт** , и выбор маркера в контексте устройства при каждой записи текста в окно.</span><span class="sxs-lookup"><span data-stu-id="99fd6-345">The dialog box procedure is responsible for saving the font handle passed with the **WM\_SETFONT** message and selecting the handle into the display device context whenever it writes text to the window.</span></span> <span data-ttu-id="99fd6-346">По умолчанию это делается для стандартных элементов управления.</span><span class="sxs-lookup"><span data-stu-id="99fd6-346">Predefined controls do this by default.</span></span>

<span data-ttu-id="99fd6-347">Системный шрифт может различаться в разных версиях Windows.</span><span class="sxs-lookup"><span data-stu-id="99fd6-347">The system font can vary between different versions of Windows.</span></span> <span data-ttu-id="99fd6-348">Чтобы приложение использовало системный шрифт независимо от того, на какой системе он работает, используйте **DS \_ шеллфонт** с гарнитурой MS Shell Dlg и используйте [ресурс диаложекс](../menurc/dialogex-resource.md) вместо [ресурса диалогового окна](../menurc/dialog-resource.md).</span><span class="sxs-lookup"><span data-stu-id="99fd6-348">To have your application use the system font no matter which system it is running on, use **DS\_SHELLFONT** with the typeface MS Shell Dlg, and use the [DIALOGEX Resource](../menurc/dialogex-resource.md) instead of the [DIALOG Resource](../menurc/dialog-resource.md).</span></span> <span data-ttu-id="99fd6-349">Система сопоставляет эту гарнитуру, чтобы в диалоговом окне использовался шрифт Tahoma.</span><span class="sxs-lookup"><span data-stu-id="99fd6-349">The system maps this typeface such that your dialog box will use the Tahoma font.</span></span> <span data-ttu-id="99fd6-350">Обратите внимание, что служба **DS \_ шеллфонт** не действует, если гарнитура не является MS Shell Dlg.</span><span class="sxs-lookup"><span data-stu-id="99fd6-350">Note that **DS\_SHELLFONT** has no effect if the typeface is not MS Shell Dlg.</span></span>

### <a name="templates-in-memory"></a><span data-ttu-id="99fd6-351">Шаблоны в памяти</span><span class="sxs-lookup"><span data-stu-id="99fd6-351">Templates in Memory</span></span>

<span data-ttu-id="99fd6-352">Шаблон диалогового окна в памяти состоит из заголовка, который описывает диалоговое окно, за которым следуют один или несколько дополнительных блоков данных, описывающих каждый из элементов управления в диалоговом окне.</span><span class="sxs-lookup"><span data-stu-id="99fd6-352">A dialog box template in memory consists of a header that describes the dialog box, followed by one or more additional blocks of data that describe each of the controls in the dialog box.</span></span> <span data-ttu-id="99fd6-353">Шаблон может использовать либо стандартный формат, либо расширенный формат.</span><span class="sxs-lookup"><span data-stu-id="99fd6-353">The template can use either the standard format or the extended format.</span></span> <span data-ttu-id="99fd6-354">В стандартном шаблоне заголовок представляет собой [**длгтемплате**](/windows/desktop/api/Winuser/ns-winuser-dlgtemplate) структуру, за которой следуют дополнительные массивы переменной длины.</span><span class="sxs-lookup"><span data-stu-id="99fd6-354">In a standard template, the header is a [**DLGTEMPLATE**](/windows/desktop/api/Winuser/ns-winuser-dlgtemplate) structure followed by additional variable-length arrays.</span></span> <span data-ttu-id="99fd6-355">Данные для каждого элемента управления состоят из структуры [**длгитемтемплате**](/windows/desktop/api/Winuser/ns-winuser-dlgitemtemplate) , за которой следуют дополнительные массивы переменной длины.</span><span class="sxs-lookup"><span data-stu-id="99fd6-355">The data for each control consists of a [**DLGITEMTEMPLATE**](/windows/desktop/api/Winuser/ns-winuser-dlgitemtemplate) structure followed by additional variable-length arrays.</span></span> <span data-ttu-id="99fd6-356">В расширенном шаблоне диалогового окна в заголовке используется формат [**длгтемплатикс**](dlgtemplateex.md) , а в определениях элементов управления используется формат [**длгитемтемплатикс**](dlgitemtemplateex.md) .</span><span class="sxs-lookup"><span data-stu-id="99fd6-356">In an extended dialog box template, the header uses the [**DLGTEMPLATEEX**](dlgtemplateex.md) format and the control definitions use the [**DLGITEMTEMPLATEEX**](dlgitemtemplateex.md) format.</span></span>

<span data-ttu-id="99fd6-357">Для различения стандартного шаблона и расширенного шаблона Проверьте первые 16 бит шаблона диалогового окна.</span><span class="sxs-lookup"><span data-stu-id="99fd6-357">To distinguish between a standard template and an extended template, check the first 16-bits of a dialog box template.</span></span> <span data-ttu-id="99fd6-358">В расширенном шаблоне первое **слово** — 0xFFFF; любое другое значение указывает на стандартный шаблон.</span><span class="sxs-lookup"><span data-stu-id="99fd6-358">In an extended template, the first **WORD** is 0xFFFF; any other value indicates a standard template.</span></span>

<span data-ttu-id="99fd6-359">При создании шаблона диалогового окна в памяти необходимо убедиться, что каждое из определений элементов управления [**длгитемтемплате**](/windows/desktop/api/Winuser/ns-winuser-dlgitemtemplate) или [**длгитемтемплатикс**](dlgitemtemplateex.md) соответствует границам **DWORD** .</span><span class="sxs-lookup"><span data-stu-id="99fd6-359">If you create a dialog template in memory, you must ensure that the each of the [**DLGITEMTEMPLATE**](/windows/desktop/api/Winuser/ns-winuser-dlgitemtemplate) or [**DLGITEMTEMPLATEEX**](dlgitemtemplateex.md) control definitions are aligned on **DWORD** boundaries.</span></span> <span data-ttu-id="99fd6-360">Кроме того, все данные создания, которые следуют за определением элемента управления, должны быть согласованы по границе **DWORD** .</span><span class="sxs-lookup"><span data-stu-id="99fd6-360">In addition, any creation data that follows a control definition must be aligned on a **DWORD** boundary.</span></span> <span data-ttu-id="99fd6-361">Все остальные массивы переменной длины в шаблоне диалогового окна должны быть согласованы по границам **слов** .</span><span class="sxs-lookup"><span data-stu-id="99fd6-361">All of the other variable-length arrays in a dialog box template must be aligned on **WORD** boundaries.</span></span>

### <a name="template-header"></a><span data-ttu-id="99fd6-362">Заголовок шаблона</span><span class="sxs-lookup"><span data-stu-id="99fd6-362">Template Header</span></span>

<span data-ttu-id="99fd6-363">В стандартных и расширенных шаблонах для диалоговых окон заголовок содержит следующие общие сведения:</span><span class="sxs-lookup"><span data-stu-id="99fd6-363">In both the standard and extended templates for dialog boxes, the header includes the following general information:</span></span>

-   <span data-ttu-id="99fd6-364">Расположение и размеры диалогового окна</span><span class="sxs-lookup"><span data-stu-id="99fd6-364">The location and dimensions of the dialog box</span></span>
-   <span data-ttu-id="99fd6-365">Стиль окна и диалогового окна для диалогового окна</span><span class="sxs-lookup"><span data-stu-id="99fd6-365">The window and dialog box styles for the dialog box</span></span>
-   <span data-ttu-id="99fd6-366">Число элементов управления в диалоговом окне.</span><span class="sxs-lookup"><span data-stu-id="99fd6-366">The number of controls in the dialog box.</span></span> <span data-ttu-id="99fd6-367">Это значение определяет количество определений элементов управления [**длгитемтемплате**](/windows/desktop/api/Winuser/ns-winuser-dlgitemtemplate) или [**длгитемтемплатикс**](dlgitemtemplateex.md) в шаблоне.</span><span class="sxs-lookup"><span data-stu-id="99fd6-367">This value determines the number of [**DLGITEMTEMPLATE**](/windows/desktop/api/Winuser/ns-winuser-dlgitemtemplate) or [**DLGITEMTEMPLATEEX**](dlgitemtemplateex.md) control definitions in the template.</span></span>
-   <span data-ttu-id="99fd6-368">Необязательный ресурс меню для диалогового окна.</span><span class="sxs-lookup"><span data-stu-id="99fd6-368">An optional menu resource for the dialog box.</span></span> <span data-ttu-id="99fd6-369">Шаблон может указывать, что в диалоговом окне нет меню, или же может указываться порядковое значение или строка в Юникоде, заканчивающаяся нулем, которая определяет ресурс меню в исполняемом файле.</span><span class="sxs-lookup"><span data-stu-id="99fd6-369">The template can indicate that the dialog box does not have a menu, or it can specify an ordinal value or null-terminated Unicode string that identifies a menu resource in an executable file.</span></span>
-   <span data-ttu-id="99fd6-370">Класс окна диалогового окна.</span><span class="sxs-lookup"><span data-stu-id="99fd6-370">The window class of the dialog box.</span></span> <span data-ttu-id="99fd6-371">Это может быть либо предопределенный класс диалогового окна, либо порядковое значение или строка Юникода, заканчивающаяся нулем, которая идентифицирует зарегистрированный класс окна.</span><span class="sxs-lookup"><span data-stu-id="99fd6-371">This can be either the predefined dialog box class, or an ordinal value or null-terminated Unicode string that identifies a registered window class.</span></span>
-   <span data-ttu-id="99fd6-372">Строка в Юникоде, заканчивающаяся нулем и указывающая заголовок окна диалогового окна.</span><span class="sxs-lookup"><span data-stu-id="99fd6-372">A null-terminated Unicode string that specifies the title for the dialog box window.</span></span> <span data-ttu-id="99fd6-373">Если строка пуста, строка заголовка диалогового окна будет пустой.</span><span class="sxs-lookup"><span data-stu-id="99fd6-373">If the string is empty, the title bar of the dialog box is blank.</span></span> <span data-ttu-id="99fd6-374">Если в диалоговом окне отсутствует стиль **\_ заголовка WS** , система устанавливает заголовок в указанную строку, но не отображает ее.</span><span class="sxs-lookup"><span data-stu-id="99fd6-374">If the dialog box does not have the **WS\_CAPTION** style, the system sets the title to the specified string but does not display it.</span></span>
-   <span data-ttu-id="99fd6-375">Если диалоговое окно имеет стиль **DS \_ сетфонт** , в заголовке указывается размер и гарнитура шрифта, используемый для текста в клиентской области и элементах управления диалогового окна.</span><span class="sxs-lookup"><span data-stu-id="99fd6-375">If the dialog box has the **DS\_SETFONT** style, the header specifies the point size and typeface name of the font to use for the text in the client area and controls of the dialog box.</span></span>

<span data-ttu-id="99fd6-376">В расширенном шаблоне в заголовке [**длгтемплатикс**](dlgtemplateex.md) также указываются следующие дополнительные сведения:</span><span class="sxs-lookup"><span data-stu-id="99fd6-376">In an extended template, the [**DLGTEMPLATEEX**](dlgtemplateex.md) header also specifies the following additional information:</span></span>

-   <span data-ttu-id="99fd6-377">Идентификатор контекста справки окна диалогового окна, когда система отправляет сообщение [**\_ справки WM**](../shell/wm-help.md) .</span><span class="sxs-lookup"><span data-stu-id="99fd6-377">The help context identifier of the dialog box window when the system sends a [**WM\_HELP**](../shell/wm-help.md) message.</span></span>
-   <span data-ttu-id="99fd6-378">Если диалоговое окно имеет стиль **DS \_ Сетфонт** или **DS \_ шеллфонт** , заголовок определяет насыщенность шрифта и указывает, является ли шрифт курсивом.</span><span class="sxs-lookup"><span data-stu-id="99fd6-378">If the dialog box has the **DS\_SETFONT** or **DS\_SHELLFONT** style, the header specifies the font weight and indicates whether the font is italic.</span></span>

### <a name="control-definitions"></a><span data-ttu-id="99fd6-379">Определения элементов управления</span><span class="sxs-lookup"><span data-stu-id="99fd6-379">Control Definitions</span></span>

<span data-ttu-id="99fd6-380">После заголовка шаблона находится одно или несколько определений элементов управления, описывающих элементы управления диалогового окна.</span><span class="sxs-lookup"><span data-stu-id="99fd6-380">Following the template header is one or more control definitions that describe the controls of the dialog box.</span></span> <span data-ttu-id="99fd6-381">В стандартном и расширенном шаблонах заголовок диалогового окна содержит элемент, указывающий количество определений элементов управления в шаблоне.</span><span class="sxs-lookup"><span data-stu-id="99fd6-381">In both the standard and extended templates, the dialog box header has a member that indicates the number of control definitions in the template.</span></span> <span data-ttu-id="99fd6-382">В стандартном шаблоне каждое определение элемента управления состоит из [**длгитемтемплате**](/windows/desktop/api/Winuser/ns-winuser-dlgitemtemplate) структуры, за которой следуют дополнительные массивы переменной длины.</span><span class="sxs-lookup"><span data-stu-id="99fd6-382">In a standard template, each control definition consists of a [**DLGITEMTEMPLATE**](/windows/desktop/api/Winuser/ns-winuser-dlgitemtemplate) structure followed by additional variable-length arrays.</span></span> <span data-ttu-id="99fd6-383">В расширенном шаблоне определения элементов управления используют формат [**длгитемтемплатикс**](dlgitemtemplateex.md) .</span><span class="sxs-lookup"><span data-stu-id="99fd6-383">In an extended template, the control definitions use the [**DLGITEMTEMPLATEEX**](dlgitemtemplateex.md) format.</span></span>

<span data-ttu-id="99fd6-384">В стандартном и расширенном шаблонах определение элемента управления включает следующие сведения:</span><span class="sxs-lookup"><span data-stu-id="99fd6-384">In both the standard and extended templates, the control definition includes the following information:</span></span>

-   <span data-ttu-id="99fd6-385">Расположение и размеры элемента управления.</span><span class="sxs-lookup"><span data-stu-id="99fd6-385">The location and dimensions of the control.</span></span>
-   <span data-ttu-id="99fd6-386">Окна и стили элементов управления для элемента управления.</span><span class="sxs-lookup"><span data-stu-id="99fd6-386">The window and control styles for the control.</span></span>
-   <span data-ttu-id="99fd6-387">Идентификатор элемента управления.</span><span class="sxs-lookup"><span data-stu-id="99fd6-387">The control identifier.</span></span>
-   <span data-ttu-id="99fd6-388">Класс окна элемента управления.</span><span class="sxs-lookup"><span data-stu-id="99fd6-388">The window class of the control.</span></span> <span data-ttu-id="99fd6-389">Это может быть либо порядковое значение предопределенного системного класса, либо строка в Юникоде, заканчивающаяся нулем, которая указывает имя зарегистрированного класса окна.</span><span class="sxs-lookup"><span data-stu-id="99fd6-389">This can be either the ordinal value of a predefined system class or a null-terminated Unicode string that specifies the name of a registered window class.</span></span>
-   <span data-ttu-id="99fd6-390">Строка в Юникоде, заканчивающаяся нулем, которая указывает исходный текст элемента управления, или порядковое значение, идентифицирующее ресурс, например значок, в исполняемом файле.</span><span class="sxs-lookup"><span data-stu-id="99fd6-390">A null-terminated Unicode string that specifies the initial text of the control, or an ordinal value that identifies a resource, such as an icon, in an executable file.</span></span>
-   <span data-ttu-id="99fd6-391">Необязательный блок переменной длины данных создания.</span><span class="sxs-lookup"><span data-stu-id="99fd6-391">An optional variable-length block of creation data.</span></span> <span data-ttu-id="99fd6-392">Когда система создает элемент управления, она передает указатель на эти данные в параметре *lParam* сообщения [**WM \_ CREATE**](/windows/desktop/winmsg/wm-create) , которое отправляется в элемент управления.</span><span class="sxs-lookup"><span data-stu-id="99fd6-392">When the system creates the control, it passes a pointer to this data in the *lParam* parameter of the [**WM\_CREATE**](/windows/desktop/winmsg/wm-create) message that it sends to the control.</span></span>

<span data-ttu-id="99fd6-393">В расширенном шаблоне определение элемента управления также задает идентификатор контекста справки для элемента управления, когда система отправляет сообщение [**\_ справки WM**](../shell/wm-help.md) .</span><span class="sxs-lookup"><span data-stu-id="99fd6-393">In an extended template, the control definition also specifies a help context identifier for the control when the system sends a [**WM\_HELP**](../shell/wm-help.md) message.</span></span>

 

 