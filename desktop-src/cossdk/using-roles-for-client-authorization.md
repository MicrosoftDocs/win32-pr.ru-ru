---
description: Безопасность на основе ролей используется для установки политики авторизации, определяющей клиента или клиентов, которые будут использоваться и с какими полномочиями. Вы решите, кто должен иметь возможность выполнять действия и получать доступ к ресурсам.
ms.assetid: 8fc27fe1-e50a-44ba-a595-70b1fe463e24
title: Использование ролей для авторизации клиентов
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: a8ae748ddfec438a79e3d0440a00ed7c2f672aed
ms.sourcegitcommit: c7add10d695482e1ceb72d62b8a4ebd84ea050f7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "104141785"
---
# <a name="using-roles-for-client-authorization"></a><span data-ttu-id="1a938-104">Использование ролей для авторизации клиентов</span><span class="sxs-lookup"><span data-stu-id="1a938-104">Using Roles for Client Authorization</span></span>

<span data-ttu-id="1a938-105">Безопасность на основе ролей используется для установки политики авторизации, определяющей клиента или клиентов, которые будут использоваться и с какими полномочиями.</span><span class="sxs-lookup"><span data-stu-id="1a938-105">You use role-based security to establish an authorization policy, determining which client or clients to let in and with what authority.</span></span> <span data-ttu-id="1a938-106">Вы решите, кто должен иметь возможность выполнять действия и получать доступ к ресурсам.</span><span class="sxs-lookup"><span data-stu-id="1a938-106">You are deciding who should be able to perform which actions and access which resources.</span></span>

<span data-ttu-id="1a938-107">Роли упрощают это, выступая в качестве механизма управления доступом, вызываемого каждый раз, когда пользователь пытается получить доступ к любому ресурсу приложения.</span><span class="sxs-lookup"><span data-stu-id="1a938-107">Roles facilitate this by acting as an access control mechanism invoked whenever a user attempts to access any application resource.</span></span> <span data-ttu-id="1a938-108">Роль, по сути, является списком пользователей — точнее, символьной категорией пользователей, имеющих одинаковые привилегии безопасности.</span><span class="sxs-lookup"><span data-stu-id="1a938-108">A role is basically a list of users—more precisely, a symbolic category of users that share the same security privilege.</span></span> <span data-ttu-id="1a938-109">При назначении роли для ресурса приложения пользователю предоставляется разрешение на доступ к этому ресурсу, который является членом этой роли.</span><span class="sxs-lookup"><span data-stu-id="1a938-109">When you assign a role to an application resource, you are granting access permission for that resource to whoever is a member of that role.</span></span>

<span data-ttu-id="1a938-110">Таким образом, можно определить очень определенные привилегии безопасности, объявив ее как роль и назначив ей определенные ресурсы.</span><span class="sxs-lookup"><span data-stu-id="1a938-110">Therefore, you can define a very particular security privilege by declaring it as a role and then assigning the role to specific resources.</span></span> <span data-ttu-id="1a938-111">При развертывании приложения системный администратор может заполнить роль реальными пользователями и группами пользователей.</span><span class="sxs-lookup"><span data-stu-id="1a938-111">When the application is deployed, the system administrator can populate the role with actual users and user groups.</span></span> <span data-ttu-id="1a938-112">При запуске приложения COM+ применяет политику, выполняя проверки ролей.</span><span class="sxs-lookup"><span data-stu-id="1a938-112">When the application runs, COM+ will enforce the policy by carrying out role checks.</span></span>

<span data-ttu-id="1a938-113">По сути, роли помогают защитить код, то есть методы, которые могут вызываться клиентами приложения COM+.</span><span class="sxs-lookup"><span data-stu-id="1a938-113">Fundamentally, roles help protect your code—that is, the methods that can be called by clients of a COM+ application.</span></span> <span data-ttu-id="1a938-114">Членство в роли проверяется каждый раз, когда клиент пытается вызвать метод, предоставляемый компонентом в приложении.</span><span class="sxs-lookup"><span data-stu-id="1a938-114">Role membership is checked whenever a client attempts to call a method exposed by a component in an application.</span></span> <span data-ttu-id="1a938-115">Если вызывающий объект находится в роли, назначенной вызываемому методу или ресурсу, вызов будет выполнен. в противном случае произойдет сбой.</span><span class="sxs-lookup"><span data-stu-id="1a938-115">If the caller is in a role assigned to the called method, or resource, the call succeeds; otherwise, it fails.</span></span>

## <a name="declarative-role-based-security"></a><span data-ttu-id="1a938-116">Декларативная Role-Based безопасность</span><span class="sxs-lookup"><span data-stu-id="1a938-116">Declarative Role-Based Security</span></span>

<span data-ttu-id="1a938-117">Декларативная безопасность на основе ролей позволяет администратору объявлять роли с помощью средства администрирования служб компонентов или административных функций, а также административно назначать их ресурсам приложений.</span><span class="sxs-lookup"><span data-stu-id="1a938-117">With declarative role-based security, you administratively declare roles—using either the Component Services administrative tool or the Administrative functions—and administratively assign them to application resources.</span></span> <span data-ttu-id="1a938-118">Где и как задается декларативная безопасность, определяет, где будут отображаться границы безопасности для вашего приложения.</span><span class="sxs-lookup"><span data-stu-id="1a938-118">Where and how you set declarative security will determine where security boundaries are drawn for your application.</span></span> <span data-ttu-id="1a938-119">Дополнительные сведения см. в разделе [границы безопасности](security-boundaries.md).</span><span class="sxs-lookup"><span data-stu-id="1a938-119">For more detail, see [Security Boundaries](security-boundaries.md).</span></span>

<span data-ttu-id="1a938-120">Данную роль можно назначить всему приложению, конкретному компоненту, конкретному интерфейсу в компоненте или конкретному методу интерфейса.</span><span class="sxs-lookup"><span data-stu-id="1a938-120">You can assign a given role to the entire application, to a particular component, to a particular interface in a component, or to a particular method on an interface.</span></span> <span data-ttu-id="1a938-121">Назначения ролей наследуются от естественной цепочки включения, т. е. Если назначить роль компоненту, она неявно назначается каждому интерфейсу и методу, предоставляемым этим компонентом.</span><span class="sxs-lookup"><span data-stu-id="1a938-121">Role assignments are inherited down the natural chain of inclusion—that is, if you assign a role to a component, it is implicitly assigned to every interface and method exposed by that component.</span></span>

<span data-ttu-id="1a938-122">Благодаря доступности назначений ролей на уровне метода можно эффективно защищать компоненты и интерфейсы, которые не были разработаны с учетом требований безопасности.</span><span class="sxs-lookup"><span data-stu-id="1a938-122">With the availability of method-level role assignments, you can effectively help protect components and interfaces that have not been designed with security in mind.</span></span> <span data-ttu-id="1a938-123">Однако если сами методы не являются защищаемыми с помощью декларативных назначений ролей, может потребоваться выполнить программную проверку ролей.</span><span class="sxs-lookup"><span data-stu-id="1a938-123">However, if the methods themselves are not securable with declarative role assignments, you might need to do programmatic role checking.</span></span> <span data-ttu-id="1a938-124">Как правило, рекомендуется учитывать вопросы безопасности при принятии решения о том, как оценить возможности бизнеса с помощью методов; в противном случае вы могли бы добавить код, связанный с безопасностью, за последнюю минуту.</span><span class="sxs-lookup"><span data-stu-id="1a938-124">It is generally a good idea to keep security in mind when deciding how to factor business functionality through methods; otherwise, you could find yourself adding in security-related code at the last minute.</span></span>

<span data-ttu-id="1a938-125">Подробные процедуры настройки безопасности на основе ролей см. в разделе [Настройка безопасности Role-Based](configuring-role-based-security.md).</span><span class="sxs-lookup"><span data-stu-id="1a938-125">For detailed procedures for setting role-based security, see [Configuring Role-Based Security](configuring-role-based-security.md).</span></span>

## <a name="programmatic-security"></a><span data-ttu-id="1a938-126">Программная безопасность</span><span class="sxs-lookup"><span data-stu-id="1a938-126">Programmatic Security</span></span>

<span data-ttu-id="1a938-127">В некоторых случаях может потребоваться поместить логику безопасности в компоненты, не применяя безопасность на основе ролей.</span><span class="sxs-lookup"><span data-stu-id="1a938-127">In some circumstances you may want to put security logic into components while still using role-based security.</span></span> <span data-ttu-id="1a938-128">Возможно, у вас нет возможности (или нет) учитывать все решения для доступа с помощью методов.</span><span class="sxs-lookup"><span data-stu-id="1a938-128">It might be that you're not able to—or choose not to—factor all access decisions through methods.</span></span> <span data-ttu-id="1a938-129">Например, у вас может быть частный ресурс приложения, возможно, конкретная база данных, в которой необходимо разрешить доступ только некоторым вызывающим объектам метода, исключая другие.</span><span class="sxs-lookup"><span data-stu-id="1a938-129">For example, you might have a private application resource, perhaps a particular database, that you want to allow only some callers of a method to access while excluding others.</span></span> <span data-ttu-id="1a938-130">Или у вас может быть один метод Трансфермонэй и необходимо ограничить некоторые вызывающие объекты, ограничивая объем, который они могут передавать.</span><span class="sxs-lookup"><span data-stu-id="1a938-130">Or you might have a single TransferMoney method and want to restrict some callers by limiting the amount they can transfer.</span></span>

<span data-ttu-id="1a938-131">В таких обстоятельствах можно выполнять проверку ролей в коде.</span><span class="sxs-lookup"><span data-stu-id="1a938-131">In such circumstances, you can do role checking in code.</span></span> <span data-ttu-id="1a938-132">Предоставляется простой API, позволяющий проверять, включена ли безопасность и является ли участник или конкретный пользователь данной ролью.</span><span class="sxs-lookup"><span data-stu-id="1a938-132">A simple API is provided, enabling you to check whether security is turned on and whether a caller or a particular user is in a given role.</span></span> <span data-ttu-id="1a938-133">Эта функция доступна, только если включена безопасность на основе ролей.</span><span class="sxs-lookup"><span data-stu-id="1a938-133">This functionality is available only when role-based security is enabled.</span></span> <span data-ttu-id="1a938-134">Это означает, что вы все равно можете воспользоваться преимуществами декларативной безопасности на основе ролей, где это достаточно, а затем при необходимости можно программно расширить ее до более детального уровня детализации.</span><span class="sxs-lookup"><span data-stu-id="1a938-134">This means that you can still take advantage of declarative role-based security where it suffices, and then you can programmatically extend it to a finer level of granularity when necessary.</span></span>

<span data-ttu-id="1a938-135">Кроме того, при использовании безопасности на основе ролей у вас есть программный доступ к информации о всех восходящих вызовах в цепочке вызовов компонента.</span><span class="sxs-lookup"><span data-stu-id="1a938-135">Additionally, when you use role-based security, you have programmatic access to information regarding all upstream callers in the chain of calls to your component.</span></span> <span data-ttu-id="1a938-136">Это особенно полезно, если требуется вести подробный журнал аудита.</span><span class="sxs-lookup"><span data-stu-id="1a938-136">This is especially useful when you want to keep a detailed audit trail.</span></span>

<span data-ttu-id="1a938-137">Описание того, как выполнять проверку ролей в коде и как получить доступ к сведениям о контексте вызова безопасности, см. в разделе [Программная безопасность компонентов](programmatic-component-security.md).</span><span class="sxs-lookup"><span data-stu-id="1a938-137">For descriptions of how to do role checking in code and how to access security call context information, see [Programmatic Component Security](programmatic-component-security.md).</span></span>

## <a name="authorization-and-authentication"></a><span data-ttu-id="1a938-138">Авторизация и проверка подлинности</span><span class="sxs-lookup"><span data-stu-id="1a938-138">Authorization and Authentication</span></span>

<span data-ttu-id="1a938-139">Осмысленная авторизация предполагает, что клиенты на самом деле имеют уверенность в том, что они говорят.</span><span class="sxs-lookup"><span data-stu-id="1a938-139">Meaningful authorization presupposes that you are confident that clients are actually who they say they are.</span></span> <span data-ttu-id="1a938-140">Проверка удостоверения клиента обрабатывается отдельно службой проверки подлинности.</span><span class="sxs-lookup"><span data-stu-id="1a938-140">The verification of client identity is handled separately by an authentication service.</span></span> <span data-ttu-id="1a938-141">Без проверки подлинности вы, по сути, разрабатываюте вызывающие объекты в системе учета принятых систем.</span><span class="sxs-lookup"><span data-stu-id="1a938-141">Without authentication, you are basically letting callers in on the honor system.</span></span> <span data-ttu-id="1a938-142">Описание проверки подлинности по мере воздействия на приложения COM+ см. в разделе [Проверка подлинности клиента](client-authentication.md).</span><span class="sxs-lookup"><span data-stu-id="1a938-142">For descriptions of authentication as it impacts COM+ applications, see [Client Authentication](client-authentication.md).</span></span>

## <a name="related-topics"></a><span data-ttu-id="1a938-143">См. также</span><span class="sxs-lookup"><span data-stu-id="1a938-143">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="1a938-144">Эффективное проектирование ролей</span><span class="sxs-lookup"><span data-stu-id="1a938-144">Designing Roles Effectively</span></span>](designing-roles-effectively.md)
</dt> <dt>

[<span data-ttu-id="1a938-145">Границы безопасности</span><span class="sxs-lookup"><span data-stu-id="1a938-145">Security Boundaries</span></span>](security-boundaries.md)
</dt> <dt>

[<span data-ttu-id="1a938-146">Сведения о контексте вызова безопасности</span><span class="sxs-lookup"><span data-stu-id="1a938-146">Security Call Context Information</span></span>](security-call-context-information.md)
</dt> <dt>

[<span data-ttu-id="1a938-147">Свойство контекста безопасности</span><span class="sxs-lookup"><span data-stu-id="1a938-147">Security Context Property</span></span>](security-context-property.md)
</dt> </dl>

 

 



