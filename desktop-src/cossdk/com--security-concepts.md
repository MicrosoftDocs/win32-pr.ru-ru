---
description: COM+ предоставляет несколько функций безопасности, которые можно использовать для защиты приложений COM+, от служб, которые вы настраиваете административно, на интерфейсы API, которые можно вызывать в коде.
ms.assetid: 686fb391-d337-41b4-bb51-b70f27a0c300
title: Основные понятия безопасности COM+
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 4ca5126f4b715f84c2b8801c8ec1adc29b3cbb83
ms.sourcegitcommit: c7add10d695482e1ceb72d62b8a4ebd84ea050f7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "104072524"
---
# <a name="com-security-concepts"></a><span data-ttu-id="4e339-103">Основные понятия безопасности COM+</span><span class="sxs-lookup"><span data-stu-id="4e339-103">COM+ Security Concepts</span></span>

<span data-ttu-id="4e339-104">COM+ предоставляет несколько функций безопасности, которые можно использовать для защиты приложений COM+, от служб, которые вы настраиваете административно, на интерфейсы API, которые можно вызывать в коде.</span><span class="sxs-lookup"><span data-stu-id="4e339-104">COM+ provides several security features that you can use to help protect your COM+ applications, ranging from services you configure administratively to APIs you can call within code.</span></span>

<span data-ttu-id="4e339-105">По возможности для приложений COM+ лучше использовать автоматическую безопасность, например декларативную безопасность на основе ролей и проверку подлинности, а не настраивать безопасность в пределах компонентов.</span><span class="sxs-lookup"><span data-stu-id="4e339-105">Whenever possible, for COM+ applications, it is better to use automatic security, such as declarative role-based security and authentication, rather than configuring security within components.</span></span> <span data-ttu-id="4e339-106">Использование автоматической безопасности упрощает написание и обслуживание компонентов, упрощает проектирование безопасности для всего приложения и, поскольку оно настроено административно, упрощает изменение политики безопасности приложения.</span><span class="sxs-lookup"><span data-stu-id="4e339-106">Using automatic security makes it easier to write and maintain components, easier to design security across an entire application, and, because it is configured administratively, easier to modify an application's security policy.</span></span> <span data-ttu-id="4e339-107">Эти автоматические службы безопасности позволяют оставить все функции, относящиеся к безопасности, от компонентов.</span><span class="sxs-lookup"><span data-stu-id="4e339-107">These automatic security services make it possible for you to leave all security-related functionality out of your components.</span></span> <span data-ttu-id="4e339-108">Если вы можете включить службы и настроить их соответствующим образом, COM+ будет выполнять обработку сведений о применении указанной политики безопасности.</span><span class="sxs-lookup"><span data-stu-id="4e339-108">When you can turn on the services and configure them appropriately, COM+ will handle the details of enforcing the security policy you specify.</span></span>

<span data-ttu-id="4e339-109">Однако, если автоматические службы безопасности в COM+ не делают именно то, что вам нужно, их можно расширить, создав на нем автоматическую платформу безопасности, предоставляемую COM+.</span><span class="sxs-lookup"><span data-stu-id="4e339-109">However, when the automatic security services in COM+ don't do precisely what you need them to do, you can extend them, building on the automatic security platform provided by COM+.</span></span> <span data-ttu-id="4e339-110">В тех случаях, когда вы решили не использовать автоматическую безопасность или то, где вы хотите использовать ее, но хотите создать ее в соответствии с требованиями безопасности приложения, доступны следующие варианты настройки безопасности программным способом.</span><span class="sxs-lookup"><span data-stu-id="4e339-110">In cases where you choose not to use automatic security or where you want to use it but need to build on it to suit your application's security requirements, you have the following options for configuring security programmatically:</span></span>

-   <span data-ttu-id="4e339-111">Программная безопасность на основе ролей, например проверка ролей, которая доступна при включении безопасности на основе ролей для вашего приложения.</span><span class="sxs-lookup"><span data-stu-id="4e339-111">Programmatic role-based security—for example, role checking, which is available when role-based security is enabled for your application.</span></span>
-   <span data-ttu-id="4e339-112">Олицетворение — используется, если вы хотите использовать удостоверение клиента для доступа к защищенному ресурсу.</span><span class="sxs-lookup"><span data-stu-id="4e339-112">Impersonation—for when you want to use a client's identity to access a protected resource.</span></span>
-   <span data-ttu-id="4e339-113">Функции аудита, основанные на информации контекста вызова безопасности, также доступны при включенной безопасности на основе ролей.</span><span class="sxs-lookup"><span data-stu-id="4e339-113">Auditing features based on security call context information—also available when role-based security is enabled.</span></span>

<span data-ttu-id="4e339-114">Механизмы, используемые для защиты конкретного приложения, зависят от конкретных требований этого приложения.</span><span class="sxs-lookup"><span data-stu-id="4e339-114">Which mechanisms you use to help protect a given application will depend on the particular requirements of that application.</span></span> <span data-ttu-id="4e339-115">Некоторые способы обеспечения безопасности могут повлиять на способ написания компонентов, а некоторые могут существенно повлиять на проект приложения.</span><span class="sxs-lookup"><span data-stu-id="4e339-115">Some security choices can affect how you write components, and some can significantly affect the application's design.</span></span> <span data-ttu-id="4e339-116">Прежде чем принимать решения о том, как реализовать стратегию безопасности для приложения, следует учитывать требования к безопасности в контексте его общей структуры: требования к производительности, доступ к данным, физическая структура и выбор наиболее подходящего сочетания функций безопасности.</span><span class="sxs-lookup"><span data-stu-id="4e339-116">Before you make any decisions about how to implement a security strategy for an application, you should consider its security requirements in the context of its overall design—performance requirements, data access, physical design—and choose the most suitable combination of security features.</span></span> <span data-ttu-id="4e339-117">Дополнительные сведения о реализации программной безопасности см. в разделе [Программная безопасность компонентов](programmatic-component-security.md).</span><span class="sxs-lookup"><span data-stu-id="4e339-117">For more information about implementing programmatic security, see [Programmatic Component Security](programmatic-component-security.md).</span></span>

<span data-ttu-id="4e339-118">Ниже приведены краткие описания категорий безопасности COM+, функций и проблем, а также ссылки на разделы в этом разделе, содержащие подробное описание каждой из важных областей.</span><span class="sxs-lookup"><span data-stu-id="4e339-118">Brief descriptions of COM+ security categories, features, and issues are provided here, with links to topics in this section that provide a detailed discussion of each of the important areas.</span></span>

> [!Note]  
> <span data-ttu-id="4e339-119">Несмотря на то, что в этом разделе не рассматривается, поставленные в очередь компоненты также имеют определенные проблемы, связанные с тем, какие функции безопасности доступны для них.</span><span class="sxs-lookup"><span data-stu-id="4e339-119">Although not discussed in this section, queued components also have particular issues relating to what security features are available to them.</span></span> <span data-ttu-id="4e339-120">Дополнительные сведения см. в разделе Безопасность и [Разработка очередей компонентов](developing-queued-components.md)в [очередях](queued-components-security.md) .</span><span class="sxs-lookup"><span data-stu-id="4e339-120">For details, see [Queued Components Security](queued-components-security.md) and [Developing Queued Components](developing-queued-components.md).</span></span>

 

## <a name="role-based-security"></a><span data-ttu-id="4e339-121">Безопасность на основе ролей</span><span class="sxs-lookup"><span data-stu-id="4e339-121">Role-Based Security</span></span>

<span data-ttu-id="4e339-122">Безопасность на основе ролей является центральной функцией безопасности приложений COM+.</span><span class="sxs-lookup"><span data-stu-id="4e339-122">Role-based security is the central feature of COM+ application security.</span></span> <span data-ttu-id="4e339-123">С помощью ролей можно администратору создать политику авторизации для приложения, выбрав (при необходимости уровень метода), который пользователи смогут получать доступ к ресурсам.</span><span class="sxs-lookup"><span data-stu-id="4e339-123">Using roles, you can administratively construct an authorization policy for an application, choosing (down to the method level, if necessary) which users can access which resources.</span></span> <span data-ttu-id="4e339-124">Кроме того, роли предоставляют инфраструктуру для принудительного применения проверки безопасности в коде, если приложение требует более детального контроля доступа.</span><span class="sxs-lookup"><span data-stu-id="4e339-124">Additionally, roles provide a framework for enforcing security-checking within code if your application requires finer-grained access control.</span></span>

<span data-ttu-id="4e339-125">Безопасность на основе ролей основана на общем механизме, который позволяет получать сведения о безопасности для всех вышестоящего вызывающего объекта в цепочке вызовов компонента.</span><span class="sxs-lookup"><span data-stu-id="4e339-125">Role-based security is built on a general mechanism that enables you to retrieve security information regarding all upstream callers in the chain of calls to your component.</span></span> <span data-ttu-id="4e339-126">Это особенно полезно, если вы хотите выполнить подробный аудит и ведение журнала.</span><span class="sxs-lookup"><span data-stu-id="4e339-126">This facility is useful particularly if you wish to do detailed auditing and logging.</span></span> <span data-ttu-id="4e339-127">Описание функций аудита, предоставляемых COM+, см. в разделе [доступ к сведениям о контексте безопасности вызова](accessing-security-call-context-information.md).</span><span class="sxs-lookup"><span data-stu-id="4e339-127">For a description of the auditing features provided by COM+, see [Accessing Security Call Context Information](accessing-security-call-context-information.md).</span></span>

<span data-ttu-id="4e339-128">Описание проблем безопасности и администрирования на основе ролей, которые следует учитывать при использовании, см. в статье [Администрирование безопасности на основе ролей](role-based-security-administration.md).</span><span class="sxs-lookup"><span data-stu-id="4e339-128">For a description of role-based security and administration issues that you should consider when using it, see [Role-Based Security Administration](role-based-security-administration.md).</span></span>

## <a name="client-authentication"></a><span data-ttu-id="4e339-129">Аутентификация клиента</span><span class="sxs-lookup"><span data-stu-id="4e339-129">Client Authentication</span></span>

<span data-ttu-id="4e339-130">Прежде чем вы сможете авторизовать клиентов получать доступ к ресурсам, необходимо быть уверенным, что они говорят.</span><span class="sxs-lookup"><span data-stu-id="4e339-130">Before you can authorize clients to be able to access resources, you must be confident that they are who they say they are.</span></span> <span data-ttu-id="4e339-131">Чтобы включить эту проверку личности, COM+ предоставляет службы проверки подлинности.</span><span class="sxs-lookup"><span data-stu-id="4e339-131">To enable this identity verification, COM+ provides authentication services.</span></span> <span data-ttu-id="4e339-132">Хотя эти службы на самом деле предоставляются на более фундаментальном уровне в модели COM и Microsoft Windows, приложение COM+ позволяет просто включить службу проверки подлинности, чтобы она работала под управлением, прозрачной для приложения.</span><span class="sxs-lookup"><span data-stu-id="4e339-132">While these services are actually provided at a more fundamental level by COM and Microsoft Windows, a COM+ application lets you simply turn on the authentication service administratively so that it works under the covers, transparent to the application.</span></span> <span data-ttu-id="4e339-133">Описание служб проверки подлинности см. в разделе [Проверка подлинности клиента](client-authentication.md).</span><span class="sxs-lookup"><span data-stu-id="4e339-133">For a description of authentication services, see [Client Authentication](client-authentication.md).</span></span>

## <a name="client-impersonation-and-delegation"></a><span data-ttu-id="4e339-134">Олицетворение и делегирование клиента</span><span class="sxs-lookup"><span data-stu-id="4e339-134">Client Impersonation and Delegation</span></span>

<span data-ttu-id="4e339-135">В некоторых случаях приложение должно работать от имени клиента, используя удостоверение клиента, например при обращении к базе данных, которая будет проверять подлинность исходного клиента.</span><span class="sxs-lookup"><span data-stu-id="4e339-135">In some cases, your application needs to do work on behalf of a client using the client's identity—for example, when accessing a database that is going to authenticate the original client.</span></span> <span data-ttu-id="4e339-136">Для этого приложение должно олицетворять клиент.</span><span class="sxs-lookup"><span data-stu-id="4e339-136">This requires your application to impersonate the client.</span></span> <span data-ttu-id="4e339-137">COM+ предоставляет средства для обеспечения различных уровней олицетворения.</span><span class="sxs-lookup"><span data-stu-id="4e339-137">COM+ provides facilities to enable various levels of impersonation.</span></span> <span data-ttu-id="4e339-138">Олицетворение настраивается административно, но также необходимо обеспечить поддержку олицетворения с помощью кода компонентов приложения.</span><span class="sxs-lookup"><span data-stu-id="4e339-138">Impersonation is configured administratively, but you also must provide support for impersonation with the code of your application's components.</span></span> <span data-ttu-id="4e339-139">Описание проблем олицетворения и их использования см. в разделе [олицетворение и делегирование клиента](client-impersonation-and-delegation.md).</span><span class="sxs-lookup"><span data-stu-id="4e339-139">For a description of impersonation and issues concerning its use, see [Client Impersonation and Delegation](client-impersonation-and-delegation.md).</span></span>

## <a name="using-the-software-restriction-policy-in-com"></a><span data-ttu-id="4e339-140">Использование политики ограниченного использования программ в COM+</span><span class="sxs-lookup"><span data-stu-id="4e339-140">Using the Software Restriction Policy in COM+</span></span>

<span data-ttu-id="4e339-141">Политика ограниченного использования программ предоставляет способ запуска ненадежного и, следовательно потенциально опасного кода в ограниченной среде, чтобы он не смог использовать привилегии пользователя.</span><span class="sxs-lookup"><span data-stu-id="4e339-141">A software restriction policy provides a way to run untrusted, and therefore potentially harmful, code in a constrained environment so that it cannot misuse the privileges of the user.</span></span> <span data-ttu-id="4e339-142">Это достигается путем назначения уровней доверия файлам, которые может запускать пользователь.</span><span class="sxs-lookup"><span data-stu-id="4e339-142">It does this by assigning trust levels to files that the user can run.</span></span> <span data-ttu-id="4e339-143">Например, некоторые системные файлы могут быть полностью доверенными и иметь неограниченный доступ к привилегиям пользователя, в то время как файл, скачанный из Интернета, может быть полностью ненадежным и, следовательно, разрешен для запуска только в ограниченной среде, где запрещено использовать любые привилегии пользователей, учитывающие безопасность.</span><span class="sxs-lookup"><span data-stu-id="4e339-143">For example, certain system files can be fully trusted and given unrestricted access to the privileges of the user, while a file that was downloaded from the Internet might be completely untrusted and therefore allowed to run only in a restricted environment where it is disallowed from using any security-sensitive user privileges.</span></span>

<span data-ttu-id="4e339-144">Политика ограниченного использования программ определяется с помощью средства администрирования локальной политики безопасности, которое позволяет администраторам настраивать уровни доверия для отдельных файлов.</span><span class="sxs-lookup"><span data-stu-id="4e339-144">The systemwide software restriction policy is controlled through the Local Security Policy administrative tool, which enables administrators to configure trust levels for individual files.</span></span> <span data-ttu-id="4e339-145">Однако все серверные приложения COM+ выполняются в файле dllhost.exe.</span><span class="sxs-lookup"><span data-stu-id="4e339-145">However, all COM+ server applications run in the dllhost.exe file.</span></span> <span data-ttu-id="4e339-146">Поэтому COM+ предоставляет способ указания политики ограниченного использования программ для каждого серверного приложения, чтобы они не зависели от политики ограничения файла dllhost.exe.</span><span class="sxs-lookup"><span data-stu-id="4e339-146">Therefore COM+ provides a way to specify the software restriction policy for each server application so that they do not need to depend on the restriction policy of the dllhost.exe file.</span></span> <span data-ttu-id="4e339-147">Обсуждение того, как использовать политику ограниченного использования программ в COM+, см. в разделе [Использование политики ограниченного использования программ в com+](using-the-software-restriction-policy-in-com-.md).</span><span class="sxs-lookup"><span data-stu-id="4e339-147">For a discussion concerning how to use the software restriction policy in COM+, see [Using the Software Restriction Policy in COM+](using-the-software-restriction-policy-in-com-.md).</span></span>

## <a name="library-application-security"></a><span data-ttu-id="4e339-148">Безопасность библиотечных приложений</span><span class="sxs-lookup"><span data-stu-id="4e339-148">Library Application Security</span></span>

<span data-ttu-id="4e339-149">Библиотечные приложения обладают особыми соображениями безопасности.</span><span class="sxs-lookup"><span data-stu-id="4e339-149">Library applications have special security considerations.</span></span> <span data-ttu-id="4e339-150">Поскольку эти приложения выполняются в процессе клиента, на них влияет безопасность, принудительно выполняемая ведущим процессом, в то время как не удается управлять безопасностью на уровне процесса.</span><span class="sxs-lookup"><span data-stu-id="4e339-150">Because these applications run in the client's process, they are affected by the security enforced by the hosting process while unable to control process-level security.</span></span> <span data-ttu-id="4e339-151">Описание факторов, которые следует учитывать для библиотечных приложений, см. в разделе [Библиотеч Application Security](library-application-security.md).</span><span class="sxs-lookup"><span data-stu-id="4e339-151">For a description of factors to consider for library applications, see [Library Application Security](library-application-security.md).</span></span>

## <a name="multi-tier-application-security"></a><span data-ttu-id="4e339-152">Многоуровневая защита приложений</span><span class="sxs-lookup"><span data-stu-id="4e339-152">Multi-Tier Application Security</span></span>

<span data-ttu-id="4e339-153">Приложения COM+ обычно являются приложениями среднего уровня; то есть они перемещают данные между клиентами и внутренними ресурсами, такими как базы данных.</span><span class="sxs-lookup"><span data-stu-id="4e339-153">COM+ applications are typically middle-tier applications; that is, they move information between clients and back-end resources such as databases.</span></span> <span data-ttu-id="4e339-154">При определении того, где следует применять безопасность и в какой степени, можно использовать сложные варианты.</span><span class="sxs-lookup"><span data-stu-id="4e339-154">Difficult choices can be involved in determining where security should be enforced and to what degree.</span></span> <span data-ttu-id="4e339-155">Безопасность по сути заключается в компромиссах производительности.</span><span class="sxs-lookup"><span data-stu-id="4e339-155">Security inherently involves performance trade-offs.</span></span> <span data-ttu-id="4e339-156">Некоторые из наиболее серьезных из них происходят, когда необходимо обеспечить проверку безопасности как на уровне данных, так и на среднем уровне.</span><span class="sxs-lookup"><span data-stu-id="4e339-156">Some of the most severe of these occur when you must enforce security checking at both the data tier and the middle-tier.</span></span> <span data-ttu-id="4e339-157">Обсуждение вопросов, которые следует учитывать, см. в статье [многоуровневая защита приложений](multi-tier-application-security.md).</span><span class="sxs-lookup"><span data-stu-id="4e339-157">For a discussion of issues to consider, see [Multi-Tier Application Security](multi-tier-application-security.md).</span></span>

## <a name="related-topics"></a><span data-ttu-id="4e339-158">См. также</span><span class="sxs-lookup"><span data-stu-id="4e339-158">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="4e339-159">Аутентификация клиента</span><span class="sxs-lookup"><span data-stu-id="4e339-159">Client Authentication</span></span>](client-authentication.md)
</dt> <dt>

[<span data-ttu-id="4e339-160">Олицетворение и делегирование клиента</span><span class="sxs-lookup"><span data-stu-id="4e339-160">Client Impersonation and Delegation</span></span>](client-impersonation-and-delegation.md)
</dt> <dt>

[<span data-ttu-id="4e339-161">Задачи безопасности COM+</span><span class="sxs-lookup"><span data-stu-id="4e339-161">COM+ Security Tasks</span></span>](com--security-tasks.md)
</dt> <dt>

[<span data-ttu-id="4e339-162">Безопасность библиотечных приложений</span><span class="sxs-lookup"><span data-stu-id="4e339-162">Library Application Security</span></span>](library-application-security.md)
</dt> <dt>

[<span data-ttu-id="4e339-163">Многоуровневая защита приложений</span><span class="sxs-lookup"><span data-stu-id="4e339-163">Multi-Tier Application Security</span></span>](multi-tier-application-security.md)
</dt> <dt>

[<span data-ttu-id="4e339-164">Безопасность программных компонентов</span><span class="sxs-lookup"><span data-stu-id="4e339-164">Programmatic Component Security</span></span>](programmatic-component-security.md)
</dt> <dt>

[<span data-ttu-id="4e339-165">Администрирование безопасности на основе ролей</span><span class="sxs-lookup"><span data-stu-id="4e339-165">Role-Based Security Administration</span></span>](role-based-security-administration.md)
</dt> <dt>

[<span data-ttu-id="4e339-166">Использование политики ограниченного использования программ в COM+</span><span class="sxs-lookup"><span data-stu-id="4e339-166">Using the Software Restriction Policy in COM+</span></span>](using-the-software-restriction-policy-in-com-.md)
</dt> </dl>

 

 



