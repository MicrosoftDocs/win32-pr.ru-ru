---
description: Транзакция — это ряд изменений хранилища данных (например, базы данных или файловой системы), которые гарантированно выполняются успешно или не выполняются вообще.
ms.assetid: 1567d9d3-7839-42f0-9507-7bbf61d8eaf2
title: Транзакционная очередь сообщений
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: c4730b20f4014cdf7c76462d3f2cae272695d907
ms.sourcegitcommit: c7add10d695482e1ceb72d62b8a4ebd84ea050f7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "104072417"
---
# <a name="transactional-message-queuing"></a>Транзакционная очередь сообщений

*Транзакция* — это ряд изменений хранилища данных (например, базы данных или файловой системы), которые гарантированно выполняются успешно или не выполняются вообще. Чтобы реализовать транзакцию, запись сохраняется в состоянии хранилища данных до начала транзакции и, если одно из изменений завершается неудачей, транзакция возвращает ошибку, а начальное состояние восстанавливается (или откатывается). Транзакции используются для поддержания целостности данных и, следовательно, играют важную роль в программировании бизнес-программного обеспечения.

Часто приложения можно разрабатывать с помощью бизнес-транзакции или рабочего процесса, разбитого на несколько небольших транзакций или действий. Эти действия разделяются по времени, а затем соединяются с помощью надежных очередей сообщений.

1.  Первая транзакция включает в себя базу данных ввода заказа. [Очередь сообщений](/previous-versions/windows/desktop/legacy/ms711472(v=vs.85)) перемещает сообщение из одной очереди в другую, только один раз, используя возможности транзакций. Если база данных обновляется, в очереди появляется сообщение. Если сообщение не достигает очереди, оно прерывается и выполняется откат базы данных.
2.  Позже очередь сообщений обнаружит, что сервер доступен. Нет опросов приложений на наличие сервера. Это вторая транзакция.
3.  Третья транзакция включает в себя запрос на доставку базы данных и обновление базы данных доставки. В случае сбоя сервера в ходе этой транзакции происходит откат изменений и сообщение возвращается в очередь ввода. Это гарантирует, что целостность данных и базы данных будет поддерживаться во время транзакций.

 

 



