---
description: Преимущества обработки в очереди
ms.assetid: dc1fc03f-1e2c-481c-95a7-f8d7b1e06bb0
title: Преимущества обработки в очереди
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: e7a0d2068d70ecf611ec334632c8b8f819319ef3
ms.sourcegitcommit: d39e82e232f6510f843fdb8d55d25b4e9e02e880
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/03/2021
ms.locfileid: "104552649"
---
# <a name="benefits-of-queued-processing"></a><span data-ttu-id="663f9-103">Преимущества обработки в очереди</span><span class="sxs-lookup"><span data-stu-id="663f9-103">Benefits of Queued Processing</span></span>

<span data-ttu-id="663f9-104">При проектировании новых приложений разработчики должны учитывать влияние компонентов кода на обработку (синхронной) обработки в реальном времени и в очереди (асинхронной).</span><span class="sxs-lookup"><span data-stu-id="663f9-104">When designing new applications, developers must consider the implications of coding components for real-time (synchronous) processing versus queued (asynchronous) processing.</span></span> <span data-ttu-id="663f9-105">Выбор зависит от требований конкретного приложения, определяемых базовой бизнес-логикой.</span><span class="sxs-lookup"><span data-stu-id="663f9-105">The choice depends on the requirements of the specific application as determined by the underlying business logic.</span></span> <span data-ttu-id="663f9-106">Как правило, обработка в очереди обеспечивает следующие преимущества по сравнению с обработкой в режиме реального времени:</span><span class="sxs-lookup"><span data-stu-id="663f9-106">As a guideline, queued processing offers the following advantages over real-time processing:</span></span>

-   <span data-ttu-id="663f9-107">Ограниченная зависимость от доступности компонентов</span><span class="sxs-lookup"><span data-stu-id="663f9-107">Reduced dependency on component availability</span></span>
-   <span data-ttu-id="663f9-108">Более короткие времена жизни компонентов</span><span class="sxs-lookup"><span data-stu-id="663f9-108">Shorter component lifetimes</span></span>
-   <span data-ttu-id="663f9-109">Непрерывная производительность при использовании отключенных приложений</span><span class="sxs-lookup"><span data-stu-id="663f9-109">Uninterrupted productivity when using disconnected applications</span></span>
-   <span data-ttu-id="663f9-110">Надежность сообщений</span><span class="sxs-lookup"><span data-stu-id="663f9-110">Message reliability</span></span>
-   <span data-ttu-id="663f9-111">Эффективное планирование серверов</span><span class="sxs-lookup"><span data-stu-id="663f9-111">Efficient server scheduling</span></span>

## <a name="component-availability"></a><span data-ttu-id="663f9-112">Доступность компонентов</span><span class="sxs-lookup"><span data-stu-id="663f9-112">Component Availability</span></span>

<span data-ttu-id="663f9-113">В приложении обработки в режиме реального времени, если только один компонент транзакции недоступен — возможно, из-за перегрузки сервера или проблем с сетью — весь процесс блокируется и не может быть завершен.</span><span class="sxs-lookup"><span data-stu-id="663f9-113">In a real-time processing application, if just one component of the transaction is not available—perhaps because of server overload or networking problems—the entire process is blocked and cannot complete.</span></span> <span data-ttu-id="663f9-114">В отличие от этого, приложение, использующее службу очередей компонентов COM+, разделяет транзакцию на действия, которые должны быть завершены, и в дальнейшем они могут быть завершены.</span><span class="sxs-lookup"><span data-stu-id="663f9-114">In contrast, an application using the COM+ queued components service separates the transaction into activities that must be completed now and those that can be completed at a later time.</span></span> <span data-ttu-id="663f9-115">Например, сообщения могут быть поставлены в очередь для последующей обработки, чтобы запрашивающий компонент был свободен для других задач.</span><span class="sxs-lookup"><span data-stu-id="663f9-115">For example, messages can be queued for later processing so that the requesting component is free for other tasks.</span></span>

## <a name="component-lifetimes"></a><span data-ttu-id="663f9-116">Время существования компонентов</span><span class="sxs-lookup"><span data-stu-id="663f9-116">Component Lifetimes</span></span>

<span data-ttu-id="663f9-117">Приложение, использующее службу очередей компонентов, позволяет серверному компоненту взаимодействовать независимо от клиента.</span><span class="sxs-lookup"><span data-stu-id="663f9-117">An application using the queued components service allows the server component to operate independently of the client.</span></span> <span data-ttu-id="663f9-118">В результате серверные компоненты могут быть выполнены быстрее.</span><span class="sxs-lookup"><span data-stu-id="663f9-118">As a result, server components can complete more quickly.</span></span> <span data-ttu-id="663f9-119">В системе в режиме реального времени серверный компонент существует с момента создания, пока объект не будет освобожден.</span><span class="sxs-lookup"><span data-stu-id="663f9-119">In a real-time system, the server component exists from the time it is created until the object is finally released.</span></span> <span data-ttu-id="663f9-120">Сервер ожидает, пока клиент сделает вызовы методов и возвращал результаты, что отрицательно приводит к быстрому циклу серверных объектов и ограничивает масштабируемость серверов.</span><span class="sxs-lookup"><span data-stu-id="663f9-120">The server waits for the client to make method calls and for results to be returned, which negates the rapid cycling of server objects and limits server scalability.</span></span>

## <a name="disconnected-applications"></a><span data-ttu-id="663f9-121">Отключенные приложения</span><span class="sxs-lookup"><span data-stu-id="663f9-121">Disconnected Applications</span></span>

<span data-ttu-id="663f9-122">Повышение использования ноутбуков, ноутбуков и карманных компьютеров потребует приложений, которые обслуживают время от времени отключенных клиентов или мобильных пользователей.</span><span class="sxs-lookup"><span data-stu-id="663f9-122">The increasing use of laptops, notebooks, and palm computers has created a need for applications that service occasionally disconnected clients or mobile users.</span></span> <span data-ttu-id="663f9-123">В системе, поставленной в очередь, эти пользователи могут продолжать работать в отключенном сценарии или при отсутствии подключения к серверу, и позже они смогут подключаться к базам данных или серверам для обработки своих запросов.</span><span class="sxs-lookup"><span data-stu-id="663f9-123">In a queued system, these users can continue to work in a disconnected scenario or when not connected to the server, and they can later connect to the databases or servers to process their requests.</span></span> <span data-ttu-id="663f9-124">Например, продавец может принимать заказы от клиентов и позднее подключаться к Отделу доставки для обработки этих заказов.</span><span class="sxs-lookup"><span data-stu-id="663f9-124">For example, a salesperson can take orders from customers and later connect to the shipping department to process those orders.</span></span>

<span data-ttu-id="663f9-125">Если у вас есть компонент, который может быть запущен или подключен к сети, сообщения перемещаются в одном направлении, и в них редко возникает необходимость в переключении обратно и назад.</span><span class="sxs-lookup"><span data-stu-id="663f9-125">If you have a component that can be run either connected or disconnected, messages are traveling in one direction and there is rarely a need to switch back and forth.</span></span> <span data-ttu-id="663f9-126">Например, в сценарии принятия заказа компонент доставки получает сообщение и обрабатывает его.</span><span class="sxs-lookup"><span data-stu-id="663f9-126">For example, in the order-taking scenario, the shipping component receives the message and processes it.</span></span> <span data-ttu-id="663f9-127">Он может создать другой компонент для выставления счетов или аудита.</span><span class="sxs-lookup"><span data-stu-id="663f9-127">It may generate another component for billing or auditing.</span></span> <span data-ttu-id="663f9-128">Клиент фиксируется перед запуском сервера.</span><span class="sxs-lookup"><span data-stu-id="663f9-128">The client commits before the server ever starts.</span></span> <span data-ttu-id="663f9-129">Сообщение не отправляется, пока приложение не зафиксируется.</span><span class="sxs-lookup"><span data-stu-id="663f9-129">The message isn't sent until the application commits.</span></span>

<span data-ttu-id="663f9-130">На следующем рисунке показан поток данных в сценарии с отключенным соединением.</span><span class="sxs-lookup"><span data-stu-id="663f9-130">The following illustration shows the flow of information in a disconnected scenario.</span></span>

![Схема, показывающая поток информации между клиентом и сервером.](images/b1818188-0294-4bd8-8bbe-9fe8eea9e09a.png)

## <a name="message-reliability"></a><span data-ttu-id="663f9-132">Надежность сообщений</span><span class="sxs-lookup"><span data-stu-id="663f9-132">Message Reliability</span></span>

<span data-ttu-id="663f9-133">Очередь сообщений — это мощный инструмент, использующий приемы баз данных для защиты данных надежным способом.</span><span class="sxs-lookup"><span data-stu-id="663f9-133">Message Queuing is a powerful tool that uses database techniques to help protect data in a robust way.</span></span> <span data-ttu-id="663f9-134">В случае сбоя сервера очередь сообщений гарантирует откат транзакций, чтобы сообщения не терялись и данные не были повреждены.</span><span class="sxs-lookup"><span data-stu-id="663f9-134">In the event of a server failure, Message Queuing ensures that transactions are rolled back so that messages are not lost and data is not corrupted.</span></span>

## <a name="server-scheduling"></a><span data-ttu-id="663f9-135">Планирование сервера</span><span class="sxs-lookup"><span data-stu-id="663f9-135">Server Scheduling</span></span>

<span data-ttu-id="663f9-136">Приложение, использующее очереди компонентов, хорошо подходит для выполнения компонентов с сдвигом по времени, что откладывает некритическую работу до пикового периода.</span><span class="sxs-lookup"><span data-stu-id="663f9-136">An application using queued components is well suited to time-shifted component execution, which defers uncritical work to an off-peak period.</span></span> <span data-ttu-id="663f9-137">Это то же самое полезное понятие, которое было применено к традиционной обработке в пакетном режиме.</span><span class="sxs-lookup"><span data-stu-id="663f9-137">This is the same useful concept that was applied to traditional batch mode processing.</span></span> <span data-ttu-id="663f9-138">Аналогичные запросы можно отложить на непрерывное выполнение сервером, не требуя от сервера немедленно реагировать на множество запросов.</span><span class="sxs-lookup"><span data-stu-id="663f9-138">Similar requests can be deferred for contiguous execution by the server rather than requiring the server to react immediately to a wide variety of requests.</span></span>

 

 



