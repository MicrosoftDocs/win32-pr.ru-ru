---
title: Развитие файловых систем
description: До того, как компьютеры были разработаны для работы на дисковых операционных системах, каждый компьютер был разработан для работы с единым собственным приложением, которое получило полный и эксклюзивный контроль над всей машиной.
ms.assetid: 46d497b5-c325-4395-8512-1ed4b88441de
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 7dc34dc699488b5952d52dfd13f49ea63aaa85aa
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/16/2019
ms.locfileid: "105661547"
---
# <a name="the-evolution-of-file-systems"></a><span data-ttu-id="de07d-103">Развитие файловых систем</span><span class="sxs-lookup"><span data-stu-id="de07d-103">The Evolution of File Systems</span></span>

<span data-ttu-id="de07d-104">До того, как компьютеры были разработаны для работы на дисковых операционных системах, каждый компьютер был разработан для работы с единым собственным приложением, которое получило полный и эксклюзивный контроль над всей машиной.</span><span class="sxs-lookup"><span data-stu-id="de07d-104">Before computers were developed to function on disk operating systems, each computer was built to run a single, proprietary application, which had complete and exclusive control of the entire machine.</span></span> <span data-ttu-id="de07d-105">Приложение будет записывать постоянные данные непосредственно на диск или барабан, отправляя команды непосредственно в контроллер диска.</span><span class="sxs-lookup"><span data-stu-id="de07d-105">The application would write its persistent data directly to a disk, or drum, by sending commands directly to the disk controller.</span></span> <span data-ttu-id="de07d-106">Приложение было ответственным за управление абсолютными местами данных на диске, убедившись, что он не перезапишу уже существующие данные.</span><span class="sxs-lookup"><span data-stu-id="de07d-106">The application was responsible for managing the absolute locations of data on the disk, making sure that it was not overwriting already-existing data.</span></span> <span data-ttu-id="de07d-107">Поскольку только одно приложение было запущено на компьютере в любое время, эта задача не была слишком сложной.</span><span class="sxs-lookup"><span data-stu-id="de07d-107">Since only one application was running on the computer at any time, this task was not too difficult.</span></span>

<span data-ttu-id="de07d-108">Компьютерным системам, на которых может работать несколько приложений, требуется механизм, гарантирующий, что приложения не запишут данные друг друга.</span><span class="sxs-lookup"><span data-stu-id="de07d-108">The advent of computer systems that could run more than one application required a mechanism to ensure that applications did not write over each other's data.</span></span> <span data-ttu-id="de07d-109">Разработчики приложений устранили эту проблему, принимая единую стандарт для различения секторов диска, которые были свободны, пометив их соответствующим образом.</span><span class="sxs-lookup"><span data-stu-id="de07d-109">Application developers addressed this problem by adopting a single standard for distinguishing disk sectors in use from those that were free by marking them accordingly.</span></span> <span data-ttu-id="de07d-110">Со временем эти стандарты совместно преобразуются в дисковую операционную систему, которая предоставляет приложениям различные службы, включая файловую систему для управления постоянным хранилищем.</span><span class="sxs-lookup"><span data-stu-id="de07d-110">In time, these standards coalesced to become a disk operating system, which provided various services to the applications, including a file system for managing persistent storage.</span></span> <span data-ttu-id="de07d-111">С появлением файловой системы приложения больше не должны работать непосредственно с физическим носителем.</span><span class="sxs-lookup"><span data-stu-id="de07d-111">With the advent of a file system, applications no longer had to deal directly with the physical storage medium.</span></span> <span data-ttu-id="de07d-112">Вместо этого они просто сообщают файловой системе о записи блоков данных на диск и позволяют файловой системе беспокоиться о том, как это сделать.</span><span class="sxs-lookup"><span data-stu-id="de07d-112">Instead, they simply told the file system to write blocks of data to the disk and let the file system worry about how to do it.</span></span> <span data-ttu-id="de07d-113">Кроме того, приложения, разрешаемые файловой системой, могут создавать иерархии данных через абстракцию, известную как каталог.</span><span class="sxs-lookup"><span data-stu-id="de07d-113">In addition, the file system allowed applications to create data hierarchies through an abstraction known as a directory.</span></span> <span data-ttu-id="de07d-114">Каталог может содержать не только файлы, но и другие каталоги, которые, в свою очередь, могут содержать собственные файлы и каталоги и т. д.</span><span class="sxs-lookup"><span data-stu-id="de07d-114">A directory could contain not only files but other directories, which in turn could contain their own files and directories, and so on.</span></span>

<span data-ttu-id="de07d-115">Файловая система предоставила один уровень косвенного обращения между приложениями и диском, и в результате каждое приложение видело файл как один непрерывный поток байтов на диске, хотя файловая система фактически хранила файл в несмежных секторах.</span><span class="sxs-lookup"><span data-stu-id="de07d-115">The file system provided a single level of indirection between applications and the disk, and the result was that every application saw a file as a single contiguous stream of bytes on the disk even though the file system was actually storing the file in discontiguous sectors.</span></span> <span data-ttu-id="de07d-116">Косвенное обращение освобождает приложения от необходимости отслеживанию абсолютного расположения данных на запоминающем устройстве.</span><span class="sxs-lookup"><span data-stu-id="de07d-116">The indirection freed the applications from having to track the absolute position of data on a storage device.</span></span>

<span data-ttu-id="de07d-117">Сегодня практически все системные API-интерфейсы для ввода и вывода файлов предоставляют приложениям запись данных в неструктурированный файл.</span><span class="sxs-lookup"><span data-stu-id="de07d-117">Today, virtually all system APIs for file input and output provide applications for writing information into a flat file.</span></span> <span data-ttu-id="de07d-118">Приложения видят этот файл в виде одного потока байтов, который может увеличиваться по мере необходимости, пока диск не заполнен.</span><span class="sxs-lookup"><span data-stu-id="de07d-118">Applications see this file as a single stream of bytes that can grow as large as necessary until the disk is full.</span></span> <span data-ttu-id="de07d-119">В течение длительного времени эти API-интерфейсы достаточны для хранения постоянных данных в приложениях.</span><span class="sxs-lookup"><span data-stu-id="de07d-119">For a long time these APIs have been sufficient for applications to store their persistent information.</span></span> <span data-ttu-id="de07d-120">Приложения внесли существенные нововведения в то, как они работают с одним потоком информации, чтобы предоставить такие возможности, как добавочные «быстрые» сохранения.</span><span class="sxs-lookup"><span data-stu-id="de07d-120">Applications have made significant innovations in how they deal with a single stream of information to provide features like incremental "fast" saves.</span></span>

<span data-ttu-id="de07d-121">Однако в мире объектов-компонентов хранение данных в одном неструктурированном файле больше не является эффективным.</span><span class="sxs-lookup"><span data-stu-id="de07d-121">However, in a world of component objects, storing data in a single flat file is no longer efficient.</span></span> <span data-ttu-id="de07d-122">Так же, как файловые системы возник от необходимости использовать несколько приложений для совместного использования одного и того же носителя, так что теперь для объектов компонентов требуется система, которая позволяет им совместно использовать хранилище внутри концептуальной платформы одного файла.</span><span class="sxs-lookup"><span data-stu-id="de07d-122">Just as file systems arose out of the need for multiple applications to share the same storage medium, so, now, do component objects require a system that allows them to share storage within the conceptual framework of a single file.</span></span> <span data-ttu-id="de07d-123">Несмотря на то, что отдельные объекты можно хранить в обычном хранилище плоских файлов, если размер одного из объектов увеличивается, или если вы просто добавляете другой объект, потребуется загрузить весь файл в память, вставить новый объект, а затем сохранить весь файл.</span><span class="sxs-lookup"><span data-stu-id="de07d-123">Even though it is possible to store the separate objects using conventional flat-file storage, if one of the objects increases in size, or if you simply add another object, it becomes necessary to load the entire file into memory, insert the new object, and then save the whole file.</span></span> <span data-ttu-id="de07d-124">Этот процесс может занять очень много времени.</span><span class="sxs-lookup"><span data-stu-id="de07d-124">This process can be extremely time-consuming.</span></span>

<span data-ttu-id="de07d-125">Решение, предоставляемое COM, заключается в реализации второго уровня косвенного обращения: файловой системы в файле.</span><span class="sxs-lookup"><span data-stu-id="de07d-125">The solution provided by COM is to implement a second level of indirection: a file system within a file.</span></span> <span data-ttu-id="de07d-126">Для хранения неструктурированных файлов требуется, чтобы большая непрерывная последовательность байтов на диске обрабатывалась с помощью одного маркера файла с одним указателем поиска.</span><span class="sxs-lookup"><span data-stu-id="de07d-126">Flat-file storage requires that a large contiguous sequence of bytes on the disk be manipulated through a single file handle with a single seek pointer.</span></span> <span data-ttu-id="de07d-127">В отличие от этого, структурированное хранилище COM определяет, как обрабатывать одну сущность файловой системы как структурированную коллекцию двух типов объектов — хранилищ и потоков, которые действуют как каталоги и файлы.</span><span class="sxs-lookup"><span data-stu-id="de07d-127">By contrast, COM structured storage defines how to treat a single file system entity as a structured collection of two types of objects — storages and streams — that act like directories and files.</span></span>

 

 




