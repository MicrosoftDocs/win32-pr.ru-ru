---
description: Начиная с Windows Vista, представление категории панели управления содержит ссылки на задачи под каждым значком элемента панели управления, как показано ниже.
ms.assetid: 54a03536-6fe6-4304-a555-58e5bca128b9
title: Создание ссылок на задачи с возможностью поиска для элемента панели управления
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 6b4e98e8a6e07f84e8012b58cefe8e0d249fc069
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "103896894"
---
# <a name="creating-searchable-task-links-for-a-control-panel-item"></a>Создание ссылок на задачи с возможностью поиска для элемента панели управления

Начиная с Windows Vista, представление категории панели управления содержит ссылки на задачи под каждым значком элемента панели управления, как показано ниже.

![ссылки на задачи на странице категории "система и обслуживание"](images/controlpaneltasklinks.png)

Когда пользователь вводит текст в поле **поиска** в правом верхнем углу окна, в результаты поиска включаются следующие ссылки на задачи, как показано здесь для поиска по слову "дисплей".

![ссылки на задачи в результатах поиска панели управления](images/controlpanelsearchresults.png)

В этом разделе обсуждается следующее.

-   [Рекомендации по использованию ссылок на задачи](#task-link-best-practices)
-   [Создание XML-файла задачи](#creating-a-task-xml-file)
-   [Локализация ссылок задач](#localizing-task-links)
-   [Ключевые слова и поиск](#keywords-and-searching)
-   [См. также](#related-topics)

## <a name="task-link-best-practices"></a>Рекомендации по использованию ссылок на задачи

Рекомендуется предоставлять ссылки на задачи для элементов панели управления в качестве вспомогательных пользователей для поиска функциональных возможностей. Также можно добавить ключевые слова в ссылки задач, чтобы пользователь мог найти их даже без знания названия или терминологии задачи.

Ссылки на наиболее подходящие задачи служат трем целям:

1.  Предоставьте ярлык функциональности элемента панели управления.
2.  Укажите ключевые слова, чтобы пользователи могли выполнять поиск с помощью собственного языка. Пользователю может потребоваться ввести "сжатие", так как он знает технический термин. Пользователь может ввести "база данных слишком велика" или "Database размер файла". Добавление подходящих ключевых слов для задачи означает, что пользователи могут найти свой элемент панели управления.
3.  Укажите подсказки о том, что делает элемент панели управления. Когда пользователь видит ссылки под значком элемента панели управления, он может получить дополнительные сведения об использовании элемента панели управления, а не только имя и значок, которые могут быть предоставлены.

Ссылки на задачи должны быть ориентированы на конечные пользователи, не ориентированные на технологии или функции. Например, «включение сжатия базы данных» будет неправильным, так как это технический жаргоне, не знакомый большинству пользователей. "Сделать файл базы данных меньше" лучше, так как он упоминает фактическую конечную цель пользователя, а не механизм его получения. Цель заключается не в упрощении, а в том, чтобы заменять задачу с точки зрения пользователя.

## <a name="creating-a-task-xml-file"></a>Создание XML-файла задачи

Ссылки на задачи определяются в XML-файле. В этом разделе содержатся сведения о файле example. XML, который определяет три ссылки на задачи для элемента панели управления « **Блокнот**». Он определяет заголовки, ключевые слова и командные строки для ссылок на задачи. Здесь также показано, как указать ссылки на задачи, которые отображаются в категории. Элемент панели управления, зарегистрированный для отображения в нескольких категориях, имеет возможность отображения различных ссылок в зависимости от категории. Описания различных элементов и предоставленных сведений задаются в виде комментариев в самом XML.


```
<?xml version="1.0" ?>
<applications xmlns="http://schemas.microsoft.com/windows/cpltasks/v1" 
              xmlns:sh="http://schemas.microsoft.com/windows/tasks/v1">
    
    <!-- Notepad -->
    <application id="{0052D9FC-6764-4D29-A66F-2F3BD9E2BB40}"> 
    <!-- This GUID must match the GUID you created for your Control Panel item,
         and registered in namespace -->
    
        <!-- Solitaire -->
        <sh:task id="{3B75A7AE-C4E4-4E5A-9420-7CECCDA75425}"> 
            <!-- This is a generated GUID, specific to this task link -->
            <sh:name>Play solitaire</sh:name>
            <sh:keywords>solitare;game;cards;ace;diamond;heart;club;single</sh:keywords>
            <sh:command>%ProgramFiles%\Microsoft Games\Solitaire\solitaire.exe</sh:command>
        </sh:task>

        <!-- Task Manager -->
        <sh:task id="{BF46D6AA-B5E6-4EE1-9E5B-ED017272B9F9}" needsElevation="true"> 
            <!-- This is a generated GUID, specific to this task link -->
            <!-- The needsElevation="true" attribute means that the task 
                 appears with a shield icon next to it. Adding this attribute 
                 does not cause the .exe to require elevation - it just adds an 
                 icon to tell users that the command already requires it -->
            <sh:name>See running processes</sh:name>
            <sh:keywords>taskmgr;taskman;running processes;threads;cpu;</sh:keywords>
            <sh:command>taskmgr.exe</sh:command>
        </sh:task>

        <!-- IE -->
        <sh:task id="{DE3A6DCC-C18A-4BBF-9227-11856D7B4422}">
            <sh:name>Open Internet Explorer</sh:name>
            <sh:keywords>IE;web;browser;net;Internet;ActiveX;plug-in;plugin</sh:keywords>
            <sh:command>iexplore.exe</sh:command>
        </sh:task>
        
        <!-- Category assignments -->

        <!-- Appearance and Personalization -->
        <category id="1"> 
        <!-- These idref attributes refer to the GUIDs of the tasks defined above. A maximum of five tasks are shown per category. -->
            <sh:task idref="{3B75A7AE-C4E4-4E5A-9420-7CECCDA75425}"/>   
            <sh:task idref="{BF46D6AA-B5E6-4EE1-9E5B-ED017272B9F9}"/>
            <sh:task idref="{DE3A6DCC-C18A-4BBF-9227-11856D7B4422}"/>
        </category>
        
        <!-- Programs -->
        <category id="8"> 
            <sh:task idref="{3B75A7AE-C4E4-4E5A-9420-7CECCDA75425}">
                <sh:name>Click here to play</sh:name>
                <!-- This overrides the defined text. When the Notepad Control 
                     Panel item appears in the Programs category, it uses the 
                     "Click here to play" text for this Solitaire link, instead 
                     of "Play solitaire". -->
            </sh:task>
            <sh:task idref="{BF46D6AA-B5E6-4EE1-9E5B-ED017272B9F9}"/>
            <sh:task idref="{DE3A6DCC-C18A-4BBF-9227-11856D7B4422}"/>
       </category>
   </application>
</applications>
```



> [!Note]  
> Начиная с Windows 7, элемент панели управления может идентифицироваться по каноническому имени, а не к имени исполняемого файла: **<SH: контролпанел>** можно использовать вместо **<sh: Command>**. Элемент **<SH: контролпанел>** также предоставляет атрибут для указания страницы элемента, к которому он должен быть открыт. Ниже приведен пример элемента **<SH: контролпанел>** .

 


```
<sh:controlpanel name="Microsoft.Presentation" page="pageWallpaper"/>
```



## <a name="localizing-task-links"></a>Локализация ссылок задач

Текст для названий и ключевых слов ссылок задач может храниться в таблице строк в модуле элемента панели управления. В этом случае формат, используемый в XML-файле, выглядит следующим образом:


```
<sh:task id="{3B75A7AE-C4E4-4E5A-9420-7CECCDA75425}"> 
    <!-- This is a generated GUID, specific to this task link -->
    <sh:name>@myTextResources.dll,-100</sh:name>
    <sh:keywords>@myTextResources.dll,-101</sh:keywords>
    <sh:command>%ProgramFiles%\Microsoft Games\Solitaire\solitaire.exe</sh:command>
</sh:task>
```



В этом примере текст для имени задачи отображается в строковом ресурсе с ИДЕНТИФИКАТОРом 100 в myTextResources.dll, а текст ключевых слов отображается в строковом ресурсе с ИДЕНТИФИКАТОРом 101.

## <a name="keywords-and-searching"></a>Ключевые слова и поиск

Поиск на панели управления находит ссылки задач на основе их имени, а также их ключевых слов. Он сопоставляет каждое слово в поиске с префиксом слов в имени и ключевых словах. Например, строка запроса "CPU" будет соответствовать задаче "ознакомьтесь с запущенными процессами" в предыдущем примере, так как "ЦП" содержится в списке ключевых слов. Строка запроса "Pro" также обнаружит этот результат, так как название "процессы" начинается с этой строки. Обратите внимание, что запрос соответствует только префиксам. Строка запроса "Шаблоны" не будет соответствовать результату, поскольку эта строка, в то время как часть слова "процесс", не начинается с этого слова.

Если поисковый запрос содержит несколько токенов, все маркеры должны соответствовать префиксу некоторого ключевого слова или части названия задачи для результата. Запрос "уровень ЦП" не соответствует, так как "Level" не задано в ключевом слове. Запрос "Загрузка ЦП" приведет к результату, так как "ЦП" соответствует ключевому слову, а "Run" — префикс слова "выполняется" в заголовке задачи.

На панели управления не предусмотрена автоматическая проверка орфографии или варианты, такие как множественные или переносы. В совпадениях также учитывается регистр. Чтобы обеспечить успешный список ключевых слов, рекомендуется предоставить собственные варианты, например для этой ссылки, которая включает экранные заставки: "заставки; экраны-заставки; экранные заставки".

Нет необходимости добавлять «экранную заставку», так как запрос, который находит «экранные заставки», также найдет «заставка» из-за совпадения префикса. При вводе пользователем даже части слова, например "экраны", по-прежнему будет отображаться совпадение со ссылкой на задачу, которая содержит ключевое слово "заставки". Для языков, в которых формы во множественном числе изменяют слово, необходимо разместить все формы, которые пользователь может ожидать ввести в ключевые слова.

В качестве соглашения Корпорация Майкрософт пропустила небольшие слова, например "практические руководства" или "я хочу" из набора ключевых слов. Ожидание заключается в том, что большинство пользователей просто вводят наиболее важные слова, такие как «мышь», «высокая контрастность» или «видеодрайвер», чтобы получить результаты.

## <a name="related-topics"></a>См. также

<dl> <dt>

[Элементы панели управления](control-panel-applications.md)
</dt> <dt>

[Руководство по работе пользователей](user-experience-guidelines.md)
</dt> <dt>

[Регистрация элементов панели управления](registering-control-panel-items.md)
</dt> <dt>

[Использование Кплапплет](using-cplapplet.md)
</dt> <dt>

[Обработка сообщений в панели управления](message-processing.md)
</dt> <dt>

[Исполнение элементов панели управления](executing-control-panel-items.md)
</dt> <dt>

[Расширение элементов панели управления "система"](extending-system-control-panel-items.md)
</dt> <dt>

[Назначение категорий панели управления](assigning-control-panel-categories.md)
</dt> <dt>

[Доступ к панели управления в защищенном режиме в Windows Vista](accessing-the-cp-in-safe-mode-under-vista.md)
</dt> </dl>

 

 



