---
description: Для типа файла необходимо назначить пользовательский значок, чтобы предоставить визуальное представление пользователю этого типа файла или приложению, с которым связан этот тип файла.
ms.assetid: 84F293C2-BAB1-4BF8-9F89-122B6DAB29C3
title: Назначение пользовательского значка типу файла
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: bf625eb6177471702096f462846b8035772177ab
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "104985469"
---
# <a name="how-to-assign-a-custom-icon-to-a-file-type"></a>Назначение пользовательского значка типу файла

Если тип файла не назначен пользовательскому значку по умолчанию, Рабочий стол и проводник Windows отображают все файлы этого типа со стандартным значком по умолчанию. Например, на следующем снимке экрана показан этот значок по умолчанию, используемый с файлом MyDocs4. МИП.

![снимок экрана со значком по умолчанию](images/icon.png)

Хотя все файлы, отображаемые на этом снимке экрана, являются простыми текстовыми файлами, только MyDocs4. МИП отображает значок Windows по умолчанию. Это связано с тем, что расширение txt является зарегистрированным типом файла с пользовательским значком по умолчанию.

На следующем снимке экрана показан пользовательский значок, назначенный типу файла МИП.

![снимок экрана: пользовательский значок для файлов. МИП](images/context4.png)

> [!Note]  
> Значки также могут назначаться для конкретного приложения.

 

## <a name="instructions"></a>Инструкции

### <a name="step-1"></a>Шаг 1.

Создайте подраздел с именем **дефаултикон** в одном из следующих двух расположений:

-   Для назначения типа файла, **\_ классы hKey \_ root** \\ *. extension*
-   Для назначения приложения **\_ \_ корневой** \\ *идентификатор ProgID* классов hKey

### <a name="step-2"></a>Шаг 2.

Назначьте подразделу **дефаултикон** значение по умолчанию с типом **reg \_ SZ** , которое указывает полный путь к файлу, содержащему значок.

### <a name="step-3"></a>Шаг 3.

Вызовите функцию [**шчанженотифи**](/windows/desktop/api/shlobj_core/nf-shlobj_core-shchangenotify) , чтобы уведомить оболочку о необходимости обновления своего кэша значков.

## <a name="remarks"></a>Примечания

В следующем примере показано подробное представление записей реестра, необходимых для назначения значка типа файла. Расширение имени файла связано с приложением, но его назначение — это расширение имени файла, чтобы связанное приложение не определяло значок по умолчанию.

```
HKEY_CLASSES_ROOT
   .myp
      (Default) = MyProgram.1
      DefaultIcon
         (Default) = C:\MyDir\MyProgram.exe,2
```

В следующем примере показано подробное представление записей реестра, необходимых для назначения значка приложения. Расширение имени файла МИП сначала связано с приложением MyProgram. 1. Затем подразделу ProgID MyProgram. 1 назначается пользовательский значок по умолчанию.

```
HKEY_CLASSES_ROOT
   .myp
      (Default) = MyProgram.1
   MyProgram.1
      DefaultIcon
         (Default) = C:\MyDir\MyProgram.exe,2
```

Любой файл, содержащий значок, допустим, включая файлы ICO, exe и DLL. Если в файле содержится более одного значка, за ним следует запятая, а затем индекс значка.

## <a name="related-topics"></a>См. также

<dl> <dt>

[Типы файлов](fa-file-types.md)
</dt> </dl>

 

 



