---
description: В этом разделе обсуждается функция настройки доступа к программам и параметров по умолчанию (SPAD), найденная в панели управления.
ms.assetid: 0d706857-5a84-4d68-99dc-bb9aab4197b9
title: Настройка доступа к программе и параметров по умолчанию для компьютера (SPAD)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 83f35d9ed70d382e2db6714082ade2d2d76e6ec6
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "104262913"
---
# <a name="set-program-access-and-computer-defaults-spad"></a><span data-ttu-id="7864e-103">Настройка доступа к программе и параметров по умолчанию для компьютера (SPAD)</span><span class="sxs-lookup"><span data-stu-id="7864e-103">Set Program Access and Computer Defaults (SPAD)</span></span>

<span data-ttu-id="7864e-104">В этом разделе обсуждается функция **настройки доступа к программам и параметров по умолчанию (SPAD)** , найденная в панели управления.</span><span class="sxs-lookup"><span data-stu-id="7864e-104">This topic discusses the **Set Program Access and Computer Defaults (SPAD)** feature found in Control Panel.</span></span> <span data-ttu-id="7864e-105">Модуль SPAD находится в элементе панели управления [программы по умолчанию](default-programs.md) в Windows Vista и более поздних версиях Windows.</span><span class="sxs-lookup"><span data-stu-id="7864e-105">SPAD is located under the [Default Programs](default-programs.md) Control Panel item in Windows Vista and later versions of Windows.</span></span> <span data-ttu-id="7864e-106">В Windows XP она находится в элементе Установка и **удаление программ** и имеет название **Настройка доступа к программе и по умолчанию**.</span><span class="sxs-lookup"><span data-stu-id="7864e-106">In Windows XP, it is located in the **Add or Remove Programs** item and titled **Set Program Access and Defaults**.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="7864e-107">Этот раздел не относится к Windows 10.</span><span class="sxs-lookup"><span data-stu-id="7864e-107">This topic does not apply for Windows 10.</span></span> <span data-ttu-id="7864e-108">Способ изменения связей файлов по умолчанию в Windows 10.</span><span class="sxs-lookup"><span data-stu-id="7864e-108">The way that default file associations work changed in Windows 10.</span></span> <span data-ttu-id="7864e-109">Дополнительные сведения см. в разделе об **изменениях в статье обработка приложений по умолчанию** в [этой записи](https://blogs.windows.com/bloggingwindows/2015/05/20/announcing-windows-10-insider-preview-build-10122-for-pcs/)в Windows 10.</span><span class="sxs-lookup"><span data-stu-id="7864e-109">For more information, see the section on **Changes to how Windows 10 handles default apps** in [this post](https://blogs.windows.com/bloggingwindows/2015/05/20/announcing-windows-10-insider-preview-build-10122-for-pcs/).</span></span>

 

-   [<span data-ttu-id="7864e-110">Использование средства "Установка программного доступа и параметров компьютера"</span><span class="sxs-lookup"><span data-stu-id="7864e-110">Using the Set Program Access and Computer Defaults Tool</span></span>](#using-the-set-program-access-and-computer-defaults-tool)
    -   [<span data-ttu-id="7864e-111">Обзор настройки доступа к программе и параметров по умолчанию для компьютера</span><span class="sxs-lookup"><span data-stu-id="7864e-111">An Overview of Set Program Access and Computer Defaults</span></span>](#an-overview-of-set-program-access-and-computer-defaults)
    -   [<span data-ttu-id="7864e-112">Значение реестра Ластусеринитиатеддефаултчанже</span><span class="sxs-lookup"><span data-stu-id="7864e-112">The LastUserInitiatedDefaultChange Registry Value</span></span>](#the-lastuserinitiateddefaultchange-registry-value)
-   [<span data-ttu-id="7864e-113">Фильтрация списка «Установка и удаление программ»</span><span class="sxs-lookup"><span data-stu-id="7864e-113">Filtering the Add or Remove Programs List</span></span>](#filtering-the-add-or-remove-programs-list)
-   [<span data-ttu-id="7864e-114">Дополнительные ресурсы</span><span class="sxs-lookup"><span data-stu-id="7864e-114">Additional Resources</span></span>](#filtering-the-add-or-remove-programs-list)
-   [<span data-ttu-id="7864e-115">См. также</span><span class="sxs-lookup"><span data-stu-id="7864e-115">Related topics</span></span>](#related-topics)

## <a name="using-the-set-program-access-and-computer-defaults-tool"></a><span data-ttu-id="7864e-116">Использование средства "Установка программного доступа и параметров компьютера"</span><span class="sxs-lookup"><span data-stu-id="7864e-116">Using the Set Program Access and Computer Defaults Tool</span></span>

> [!Note]  
> <span data-ttu-id="7864e-117">Начиная с Windows 8, SPAD настраивает значения по умолчанию для каждого пользователя для текущего пользователя.</span><span class="sxs-lookup"><span data-stu-id="7864e-117">As of Windows 8, SPAD configures defaults on a per-user basis for the current user.</span></span> <span data-ttu-id="7864e-118">До Windows 8, SPAD устанавливают параметры по умолчанию для каждого компьютера.</span><span class="sxs-lookup"><span data-stu-id="7864e-118">Prior to Windows 8, SPAD set per-computer defaults.</span></span> <span data-ttu-id="7864e-119">Если пользователь по умолчанию еще не настроен пользователем, система предложит ему задать значение по умолчанию для каждого пользователя, а не будет возвращаться по умолчанию для каждого компьютера.</span><span class="sxs-lookup"><span data-stu-id="7864e-119">When a per-user default has not yet been configured by the user, the system will prompt them to set a per-user default rather than falling back on a per-machine default.</span></span> <span data-ttu-id="7864e-120">Возможно, что параметры по умолчанию для каждого компьютера не были видны пользователям в Windows Vista и Windows 7, если они ранее задали параметры по умолчанию для каждого пользователя, так как по умолчанию для каждого компьютера по умолчанию переопределяются параметры, заданные для каждого пользователя в этих операционных системах.</span><span class="sxs-lookup"><span data-stu-id="7864e-120">It's possible that the per-machine defaults were never seen by users in Windows Vista and Windows 7 if they had previously set per-user defaults, because per-user defaults override per-computer defaults in those operating systems.</span></span>

 

<span data-ttu-id="7864e-121">В Windows XP **Настройка доступа к программам и параметров по умолчанию** является средством, которое можно найти в элементе панели управления элемент **Установка и удаление программ** .</span><span class="sxs-lookup"><span data-stu-id="7864e-121">In Windows XP, **Set Program Access and Defaults** is a tool found as an option in Control Panel's **Add or Remove Programs** item.</span></span> <span data-ttu-id="7864e-122">В Windows Vista и более поздних версиях она находится под элементом панели управления [программы по умолчанию](default-programs.md) .</span><span class="sxs-lookup"><span data-stu-id="7864e-122">In Windows Vista and later, it is located under the [Default Programs](default-programs.md) Control Panel item.</span></span> <span data-ttu-id="7864e-123">Для [зарегистрированных](reg-middleware-apps.md) программ выполняются следующие функции.</span><span class="sxs-lookup"><span data-stu-id="7864e-123">For [registered](reg-middleware-apps.md) programs, it performs the following functions:</span></span>

-   <span data-ttu-id="7864e-124">Включает возможность выбора программ по умолчанию для каждого типа клиента (только для Windows 7).</span><span class="sxs-lookup"><span data-stu-id="7864e-124">Enables the choice of default programs for each client type (up to Windows 7 only).</span></span>
-   <span data-ttu-id="7864e-125">Позволяет управлять отображением значков, ярлыков и записей меню программы.</span><span class="sxs-lookup"><span data-stu-id="7864e-125">Enables control of the display of the program's icons, shortcuts, and menu entries.</span></span>
-   <span data-ttu-id="7864e-126">Предоставляет набор стандартных вариантов программ по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="7864e-126">Provides a set of preset default program choices.</span></span> <span data-ttu-id="7864e-127">(Только для Windows XP с пакетом обновления 1 (SP1))</span><span class="sxs-lookup"><span data-stu-id="7864e-127">(Windows XP Service Pack 1 (SP1) only)</span></span>

<span data-ttu-id="7864e-128">Это средство используется для следующих пяти типов клиентов.</span><span class="sxs-lookup"><span data-stu-id="7864e-128">This tool is used for the following five client types.</span></span>

-   <span data-ttu-id="7864e-129">Браузер</span><span class="sxs-lookup"><span data-stu-id="7864e-129">Browser</span></span>
-   <span data-ttu-id="7864e-130">Адрес электронной почты</span><span class="sxs-lookup"><span data-stu-id="7864e-130">Email</span></span>
-   <span data-ttu-id="7864e-131">Программа Instant мессенгинг</span><span class="sxs-lookup"><span data-stu-id="7864e-131">Instant messenging program</span></span>
-   <span data-ttu-id="7864e-132">Проигрыватель мультимедиа</span><span class="sxs-lookup"><span data-stu-id="7864e-132">Media player</span></span>
-   <span data-ttu-id="7864e-133">Виртуальная машина для Java</span><span class="sxs-lookup"><span data-stu-id="7864e-133">Virtual machine for Java</span></span>

### <a name="an-overview-of-set-program-access-and-computer-defaults"></a><span data-ttu-id="7864e-134">Обзор настройки доступа к программе и параметров по умолчанию для компьютера</span><span class="sxs-lookup"><span data-stu-id="7864e-134">An Overview of Set Program Access and Computer Defaults</span></span>

<span data-ttu-id="7864e-135">На следующем снимке экрана показана страница " **Настройка доступа к программам и параметров по умолчанию** " для Windows 8.</span><span class="sxs-lookup"><span data-stu-id="7864e-135">The Windows 8 **Set Program Access and Computer Defaults** page is shown in the following screen shot.</span></span>

![снимок экрана с представлением "Настройка доступа к программам и параметров компьютера по умолчанию"](images/spad-initial.png)

<span data-ttu-id="7864e-137">Пользователю предоставляются три возможных параметра конфигурации, с помощью которых изготовители оборудования могут представить четвертый вариант с названием «изготовитель компьютера».</span><span class="sxs-lookup"><span data-stu-id="7864e-137">Three possible configuration options are presented to the user, with the option for OEMs to present a fourth option titled "Computer Manufacturer".</span></span>

-   [<span data-ttu-id="7864e-138">Microsoft Windows</span><span class="sxs-lookup"><span data-stu-id="7864e-138">Microsoft Windows</span></span>](#microsoft-windows)
-   [<span data-ttu-id="7864e-139">Не Майкрософт</span><span class="sxs-lookup"><span data-stu-id="7864e-139">Non-Microsoft</span></span>](#non-microsoft)
-   [<span data-ttu-id="7864e-140">Пользовательский</span><span class="sxs-lookup"><span data-stu-id="7864e-140">Custom</span></span>](#custom)
-   [<span data-ttu-id="7864e-141">Изготовитель компьютера</span><span class="sxs-lookup"><span data-stu-id="7864e-141">Computer Manufacturer</span></span>](#computer-manufacturer)

### <a name="microsoft-windows"></a><span data-ttu-id="7864e-142">Microsoft Windows</span><span class="sxs-lookup"><span data-stu-id="7864e-142">Microsoft Windows</span></span>

<span data-ttu-id="7864e-143">Конфигурация **Microsoft Windows** состоит из набора программ по умолчанию, предоставляемых Windows, как показано на следующем снимке экрана.</span><span class="sxs-lookup"><span data-stu-id="7864e-143">The **Microsoft Windows** configuration consists of a set of default programs provided with Windows, as shown in the following screen shot.</span></span>

![снимок экрана с параметрами Microsoft "Настройка доступа к программе и параметров по умолчанию"](images/mspage.png)

<span data-ttu-id="7864e-145">Выбор конфигурации **Microsoft Windows** также позволяет отображать значки, ярлыки и записи меню для каждой программы, зарегистрированной для любого из пяти типов клиентов.</span><span class="sxs-lookup"><span data-stu-id="7864e-145">Selecting the **Microsoft Windows** configuration also enables the display of the icons, shortcuts, or menu entries for each program registered for any of the five client types.</span></span> <span data-ttu-id="7864e-146">Эти значки, ярлыки и пункты меню доступны пользователю в меню " **Пуск** " или на экране "Пуск", на рабочем столе и во всех других местах, в которые они были добавлены.</span><span class="sxs-lookup"><span data-stu-id="7864e-146">Those icons, shortcuts, and menu entries are available to the user in the **Start** menu or Start screen, on the desktop, and in all other locations to which they were added.</span></span>

### <a name="non-microsoft"></a><span data-ttu-id="7864e-147">Не Майкрософт</span><span class="sxs-lookup"><span data-stu-id="7864e-147">Non-Microsoft</span></span>

<span data-ttu-id="7864e-148">Конфигурация, не относящаяся к **Майкрософт** , показанная на следующем снимке экрана, используется для зарегистрированных приложений в системе пользователя, которая не создается корпорацией Майкрософт.</span><span class="sxs-lookup"><span data-stu-id="7864e-148">The **Non-Microsoft** configuration, shown in the following screen shot, is used for registered applications on the user's system that are not produced by Microsoft.</span></span> <span data-ttu-id="7864e-149">Эти приложения могут быть предварительно установлены в системе пользователя или могут быть приложениями сторонних производителей, установленными пользователем.</span><span class="sxs-lookup"><span data-stu-id="7864e-149">These applications can be preinstalled on the user's system, or they can be non-Microsoft applications that the user has installed.</span></span>

> [!Note]  
> <span data-ttu-id="7864e-150">Приложения должны быть зарегистрированы для отображения на этой странице.</span><span class="sxs-lookup"><span data-stu-id="7864e-150">Applications must register to appear on this page.</span></span> <span data-ttu-id="7864e-151">Инструкции по регистрации приложения см. в разделе [Регистрация программ с помощью типов клиентов](reg-middleware-apps.md).</span><span class="sxs-lookup"><span data-stu-id="7864e-151">For instructions on registering an application, see [Registering Programs with Client Types](reg-middleware-apps.md).</span></span>

 

![снимок экрана настройки доступа к программе и параметров по умолчанию не Майкрософт](images/nonmspage.png)

<span data-ttu-id="7864e-153">При выборе параметра **не Майкрософт** также удаляется доступ к значкам, ярлыкам и записям меню программ Майкрософт, перечисленных в конфигурации [Microsoft Windows](#microsoft-windows) для всех типов клиентов.</span><span class="sxs-lookup"><span data-stu-id="7864e-153">Selecting the **Non-Microsoft** option also removes access to the icons, shortcuts, and menu entries of the Microsoft programs listed in the [Microsoft Windows](#microsoft-windows) configuration for all client types that have them.</span></span> <span data-ttu-id="7864e-154">Эти значки, ярлыки и пункты меню Microsoft удаляются из меню **Пуск** , рабочего стола и других мест, в которые они были добавлены.</span><span class="sxs-lookup"><span data-stu-id="7864e-154">These Microsoft icons, shortcuts, and menu entries are removed from the **Start** menu, the desktop, and other locations to which they were added.</span></span>

### <a name="custom"></a><span data-ttu-id="7864e-155">Особые настройки</span><span class="sxs-lookup"><span data-stu-id="7864e-155">Custom</span></span>

<span data-ttu-id="7864e-156">**Пользовательская** конфигурация, показанная на следующем снимке экрана, позволяет пользователям настраивать системы с помощью любого сочетания программ Майкрософт и сторонних производителей, зарегистрированных в качестве возможностей по умолчанию для пяти типов клиентов.</span><span class="sxs-lookup"><span data-stu-id="7864e-156">The **Custom** configuration, shown in the following screen shot, enables users to customize their systems with any combination of Microsoft and non-Microsoft programs registered as default possibilities for the five client types.</span></span> <span data-ttu-id="7864e-157">Это единственный из четырех вариантов, доступных в Windows 2000 с пакетом обновления 3 (SP3).</span><span class="sxs-lookup"><span data-stu-id="7864e-157">This is the only one of the four options available in Windows 2000 Service Pack 3 (SP3).</span></span>

![снимок экрана — пользовательские параметры доступа и настройки по умолчанию для программы](images/custompage.png)

<span data-ttu-id="7864e-159">Все параметры, представленные в конфигурациях [Microsoft Windows](#microsoft-windows) и [сторонних](#non-microsoft) , доступны пользователю в **пользовательском** разделе, а также к любым дополнительно установленным приложениям Майкрософт, не входящим в состав Windows.</span><span class="sxs-lookup"><span data-stu-id="7864e-159">All options presented in the [Microsoft Windows](#microsoft-windows) and [Non-Microsoft](#non-microsoft) configurations are available to the user in the **Custom** section, as well as any additionally installed Microsoft applications that are not part of Windows.</span></span> <span data-ttu-id="7864e-160">Выбран переключатель **использовать текущий веб-браузер** , как показано на предыдущем снимке экрана.</span><span class="sxs-lookup"><span data-stu-id="7864e-160">The **Use my current web browser** radio button is preselected, as shown in the preceding screen shot.</span></span> <span data-ttu-id="7864e-161">Невозможно определить текущий браузер по умолчанию из пользовательского интерфейса.</span><span class="sxs-lookup"><span data-stu-id="7864e-161">There is no way to determine the current default browser from the UI.</span></span> <span data-ttu-id="7864e-162">Вызов веб-ссылок или файлов в Windows является единственным способом обнаружить текущий браузер по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="7864e-162">Invoking web links or files in Windows is the only way to discover the current default browser.</span></span>

<span data-ttu-id="7864e-163">Когда пользователь устанавливает флажок « **включить доступ к этой программе** » для программы, значки, ярлыки и пункты меню отображаются в меню «Пуск» или на начальном экране, на рабочем столе или в любом другом расположении, где они были установлены.</span><span class="sxs-lookup"><span data-stu-id="7864e-163">When a user selects the **Enable access to this program** check box for a program, that program's icons, shortcuts, and menu entries are displayed in the Start menu or Start screen, on the desktop, or in any other location where they were installed.</span></span> <span data-ttu-id="7864e-164">Снятие этого флажка должно удалить эти значки, ярлыки и записи меню, однако поведение этих параметров полностью зависит от поставщика приложения.</span><span class="sxs-lookup"><span data-stu-id="7864e-164">Clearing this option should remove those icons, shortcuts, and menu entries, however, how these options behave is entirely up to the application vendor.</span></span> <span data-ttu-id="7864e-165">Windows не контролирует включение или удаление доступа в пользовательском интерфейсе.</span><span class="sxs-lookup"><span data-stu-id="7864e-165">Windows does not control how access is enabled or removed throughout the UI.</span></span> <span data-ttu-id="7864e-166">Также важно понимать, что приложениям не требуется регистрироваться для **настройки доступа к программам и параметров по умолчанию для компьютера**.</span><span class="sxs-lookup"><span data-stu-id="7864e-166">It is also important to understand that applications are not required to register for **Set Program Access and Computer Defaults**.</span></span>

### <a name="computer-manufacturer"></a><span data-ttu-id="7864e-167">Изготовитель компьютера</span><span class="sxs-lookup"><span data-stu-id="7864e-167">Computer Manufacturer</span></span>

<span data-ttu-id="7864e-168">Четвертая категория под названием «изготовитель компьютера» может присутствовать в окне SPAD в некоторых системах.</span><span class="sxs-lookup"><span data-stu-id="7864e-168">A fourth category titled "Computer Manufacturer" can appear in the SPAD window on some systems.</span></span> <span data-ttu-id="7864e-169">Изготовители компьютеров могут выбрать предварительную настройку компьютеров с помощью настраиваемого набора значений по умолчанию, выбрав один из вариантов, доступных в [пользовательской](#custom) конфигурации.</span><span class="sxs-lookup"><span data-stu-id="7864e-169">Computer manufacturers can choose to preconfigure their computers with a custom set of defaults, choosing from the same selections available in the [Custom](#custom) configuration.</span></span> <span data-ttu-id="7864e-170">(В целях наглядности вымышленный набор приложений с именем LitWare регистрируется для использования со всеми типами клиентов.) Пользователь может вернуться к конфигурации изготовителя компьютера по умолчанию в любое время, выбрав параметр **Изготовитель компьютера** , как показано на следующем снимке экрана Windows XP.</span><span class="sxs-lookup"><span data-stu-id="7864e-170">(For illustrative purposes, a fictional set of applications called LitWare is registered for use with all client types.) A user can return to the computer manufacturer's default configuration at any time by choosing the **Computer Manufacturer** option, as shown in the following Windows XP screen shot.</span></span>

> [!Note]  
> <span data-ttu-id="7864e-171">Эта конфигурация не отображается во всех системах.</span><span class="sxs-lookup"><span data-stu-id="7864e-171">This configuration does not appear on all systems.</span></span> <span data-ttu-id="7864e-172">Дополнительные сведения см. в комплекте предварительной установки OEM.</span><span class="sxs-lookup"><span data-stu-id="7864e-172">For details, refer to the OEM Preinstallation Kit (OPK).</span></span>

 

![снимок экрана с параметрами производителя компьютера "Настройка доступа к программе и значений по умолчанию"](images/oempage.jpg)

### <a name="the-lastuserinitiateddefaultchange-registry-value"></a><span data-ttu-id="7864e-174">Значение реестра Ластусеринитиатеддефаултчанже</span><span class="sxs-lookup"><span data-stu-id="7864e-174">The LastUserInitiatedDefaultChange Registry Value</span></span>

<span data-ttu-id="7864e-175">Значение Ластусеринитиатеддефаултчанже было добавлено в реестр, чтобы помочь приложениям в распознавании и отношению к выбору пользователя по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="7864e-175">The LastUserInitiatedDefaultChange value has been added to the registry to assist applications in recognizing and respecting the user's default choices.</span></span> <span data-ttu-id="7864e-176">Значение содержит \_ двоичные данные reg в виде структуры [**fileTime**](/windows/win32/api/minwinbase/ns-minwinbase-filetime) , содержащей дату и время (в формате UTC) последнего изменения пользователем значения по умолчанию с помощью средства **Настройка доступа к программам и параметров компьютера по умолчанию** .</span><span class="sxs-lookup"><span data-stu-id="7864e-176">The value holds REG\_BINARY data in the form of a [**FILETIME**](/windows/win32/api/minwinbase/ns-minwinbase-filetime) structure that contains the date and time (in Coordinated Universal Time (UTC)) of the last time the user changed a default choice through the **Set Program Access and Computer Defaults** tool.</span></span> <span data-ttu-id="7864e-177">Это значение находится в следующем подразделе.</span><span class="sxs-lookup"><span data-stu-id="7864e-177">This value is found under the following subkey.</span></span>

```
HKEY_LOCAL_MACHINE
   SOFTWARE
      Clients
         ClientTypeName
            LastUserInitiatedDefaultChange = FILETIME
```

<span data-ttu-id="7864e-178">В следующем сценарии это значение используется для приложения, отслеживающего сопоставление файлов.</span><span class="sxs-lookup"><span data-stu-id="7864e-178">The following scenario uses this value for an application that monitors file associations.</span></span>

1.  <span data-ttu-id="7864e-179">Приложение регистрирует время, когда оно было задано в качестве программы по умолчанию для своего типа клиента (во время установки или позже).</span><span class="sxs-lookup"><span data-stu-id="7864e-179">An application internally records the time when it was last set as the default program for its client type (either at installation or at a later time).</span></span>
2.  <span data-ttu-id="7864e-180">Приложение обнаруживает, что программа по умолчанию для своего типа клиента была изменена на программу, отличную от самой самой, или от приложения, которое она представляет (в случае фоновых вспомогательных программ).</span><span class="sxs-lookup"><span data-stu-id="7864e-180">The application detects that the default program for its client type has been changed to a program other than itself or the application it represents (in the case of background helper programs).</span></span> <span data-ttu-id="7864e-181">Не поддерживается в Windows 8.</span><span class="sxs-lookup"><span data-stu-id="7864e-181">Not supported in Windows 8.</span></span>
3.  <span data-ttu-id="7864e-182">Приложение считывает значение Ластусеринитиатеддефаултчанже (отметка времени последнего инициированного пользователем изменения по умолчанию) и сравнивает его со значением отметки времени, которое она сохранила для собственного выбора по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="7864e-182">The application reads the value of LastUserInitiatedDefaultChange (the time stamp of the last user-initiated default change) and compares it to the time stamp value it has stored for its own choice as default.</span></span>
4.  <span data-ttu-id="7864e-183">Если Ластусеринитиатеддефаултчанже позже, чем сохраненное значение приложения, это приложение не должно предпринимать никаких действий, так как изменение было явным образом запрошено пользователем с помощью средства **настройки доступа к программам и по умолчанию** .</span><span class="sxs-lookup"><span data-stu-id="7864e-183">If LastUserInitiatedDefaultChange is later than the application's stored value, then no action should be taken by that application because the change was explicitly requested by the user through the **Set Program Access and Defaults** tool.</span></span>
5.  <span data-ttu-id="7864e-184">Приложение больше не отслеживает эту связь файлов, пока не будет снова выбрана по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="7864e-184">The application no longer monitors that file association until it is again chosen as the default.</span></span> <span data-ttu-id="7864e-185">Не поддерживается в Windows 8.</span><span class="sxs-lookup"><span data-stu-id="7864e-185">Not supported in Windows 8.</span></span>

<span data-ttu-id="7864e-186">Придерживаясь такой схемы, пользователь учитывается, и их максимальная собственность системы сохраняется.</span><span class="sxs-lookup"><span data-stu-id="7864e-186">By adhering to such a scheme, the user's wishes are respected and their ultimate ownership of their systems is maintained.</span></span>

## <a name="filtering-the-add-or-remove-programs-list"></a><span data-ttu-id="7864e-187">Фильтрация списка «Установка и удаление программ»</span><span class="sxs-lookup"><span data-stu-id="7864e-187">Filtering the Add or Remove Programs List</span></span>

> [!Note]  
> <span data-ttu-id="7864e-188">Этот раздел относится к пакету обновления 2 (SP2) для Windows XP и более поздним версиям и Windows Server 2003 и более поздним версиям.</span><span class="sxs-lookup"><span data-stu-id="7864e-188">This section applies to Windows XP Service Pack 2 (SP2) and later and Windows Server 2003 and later.</span></span>

 

<span data-ttu-id="7864e-189">В Windows XP и Windows Server 2003 список приложений, отображаемый на вкладке **изменение или удаление программ** в разделе **Установка и удаление программ** , может быть отфильтрован пользователем для исключения записей об обновлениях приложений.</span><span class="sxs-lookup"><span data-stu-id="7864e-189">In Windows XP and Windows Server 2003, the list of applications displayed in the **Change or Remove Programs** tab under **Add or Remove Programs** can be filtered by the user to exclude entries for application updates.</span></span> <span data-ttu-id="7864e-190">В этих версиях Windows это осуществляется с помощью флажка **Показывать обновления** в верхней части окна.</span><span class="sxs-lookup"><span data-stu-id="7864e-190">In these versions of Windows, this is accomplished through a **Show updates** check box at the top of the window.</span></span> <span data-ttu-id="7864e-191">Параметр **Показать обновления** не выбран по умолчанию, поэтому обновления не отображаются, если только пользователь *не* выберет их.</span><span class="sxs-lookup"><span data-stu-id="7864e-191">The **Show updates** option is not selected by default, so updates are *not* shown unless the user chooses to show them.</span></span> <span data-ttu-id="7864e-192">Изменения состояния флажка сохраняются при закрытии окна " **Установка и удаление программ** ". Если пользователь выбрал отображение обновлений, они продолжают отображаться до тех пор, пока пользователь не очистит флажок.</span><span class="sxs-lookup"><span data-stu-id="7864e-192">Changes to the check box state persist when **Add or Remove Programs** is closed; if a user chooses to show the updates, they continue to be shown until the user clears the check box.</span></span>

> [!Note]  
> <span data-ttu-id="7864e-193">Обновление пакета обновления 2 (SP2) для Windows XP является исключением для фильтрации.</span><span class="sxs-lookup"><span data-stu-id="7864e-193">The Windows XP SP2 update itself is an exception to the filtering.</span></span> <span data-ttu-id="7864e-194">Он всегда отображается независимо от состояния флажка.</span><span class="sxs-lookup"><span data-stu-id="7864e-194">It is always displayed regardless of the check box state.</span></span>

 

<span data-ttu-id="7864e-195">В Windows Vista и более поздних версиях обновления приложения отображаются на отдельной странице панели управления, предназначенной для только обновлений.</span><span class="sxs-lookup"><span data-stu-id="7864e-195">In Windows Vista and later, application updates are displayed on a separate page in Control Panel dedicated to updates alone.</span></span> <span data-ttu-id="7864e-196">Эта страница отображается, когда пользователь щелкает ссылку **Просмотреть установленные обновления** .</span><span class="sxs-lookup"><span data-stu-id="7864e-196">This page is shown when the user clicks the **View installed updates** task link.</span></span> <span data-ttu-id="7864e-197">Нет выбираемых пользователем параметров для отображения обновлений на той же странице, что и установленные программы.</span><span class="sxs-lookup"><span data-stu-id="7864e-197">There is no user-selectable option to show updates on the same page as installed programs.</span></span> <span data-ttu-id="7864e-198">Несмотря на изменение в пользовательском интерфейсе, механизм регистрации в качестве обновления установленной программы остается таким же, как и в предыдущих версиях Windows.</span><span class="sxs-lookup"><span data-stu-id="7864e-198">Despite the change in UI, the mechanism for registering as an update to an installed program remains the same as in earlier versions of Windows.</span></span>

<span data-ttu-id="7864e-199">Приложения Майкрософт и сторонних разработчиков, использующие установщик Windows, не нуждаются в дальнейших действиях, чтобы их обновления распознавались как обновления.</span><span class="sxs-lookup"><span data-stu-id="7864e-199">Microsoft and non-Microsoft applications that use the Windows Installer do not need to do anything further for their updates to be recognized as updates.</span></span> <span data-ttu-id="7864e-200">Сторонние приложения, не использующие установщик Windows, должны объявлять определенные значения в реестре в процессе установки, чтобы быть распознанными как обновление существующей программы.</span><span class="sxs-lookup"><span data-stu-id="7864e-200">Non-Microsoft applications that do not use Windows Installer must declare certain values in the registry as part of their installation to be recognized as an update to an existing program.</span></span>

<span data-ttu-id="7864e-201">В следующем примере показано, какие значения реестра следует объявить для установки, чтобы быть распознанным как обновление существующей программы.</span><span class="sxs-lookup"><span data-stu-id="7864e-201">The following example illustrates which registry values to declare for an installation to be recognized as an update to an existing program.</span></span>

1.  <span data-ttu-id="7864e-202">Родительскому приложению необходимо добавить сведения об удалении в подраздел в подразделе "программное обеспечение на **\_ локальном \_ компьютере**" \\  \\ раздела реестра hKey **Microsoft** \\ **Windows** \\ **CurrentVersion** \\ **uninstall** .</span><span class="sxs-lookup"><span data-stu-id="7864e-202">The parent application must add its uninstall information in a subkey under the **HKEY\_LOCAL\_MACHINE**\\**Software**\\**Microsoft**\\**Windows**\\**CurrentVersion**\\**Uninstall** subkey.</span></span> <span data-ttu-id="7864e-203">Дополнительные сведения об использовании подраздела **удаления** см. в разделе об [установке](/previous-versions/ms997548(v=msdn.10)) .</span><span class="sxs-lookup"><span data-stu-id="7864e-203">See the [Installation](/previous-versions/ms997548(v=msdn.10)) topic for more information on using the **Uninstall** subkey.</span></span>
2.  <span data-ttu-id="7864e-204">Каждое обновление родительского приложения также должно добавить его сведения в качестве подраздела подраздела **удаления** .</span><span class="sxs-lookup"><span data-stu-id="7864e-204">Each update to that parent application also must add its information as a subkey of the **Uninstall** subkey.</span></span> <span data-ttu-id="7864e-205">Он должен использовать определенное соглашение об именовании, пытаясь избежать потенциальных конфликтов с другими программами.</span><span class="sxs-lookup"><span data-stu-id="7864e-205">It should use a particular naming convention of its choice, attempting to avoid potential conflicts with other programs.</span></span> <span data-ttu-id="7864e-206">Следующие соглашения зарезервированы в качестве имен подразделов корпорацией Майкрософт для использования с обновлениями Windows.</span><span class="sxs-lookup"><span data-stu-id="7864e-206">The following conventions are reserved as subkey names by Microsoft for use with Windows updates.</span></span>
    -   <span data-ttu-id="7864e-207">иеупдате</span><span class="sxs-lookup"><span data-stu-id="7864e-207">IEUpdate</span></span>
    -   <span data-ttu-id="7864e-208">оеупдате</span><span class="sxs-lookup"><span data-stu-id="7864e-208">OEUpdate</span></span>
    -   <span data-ttu-id="7864e-209">"KB", за которой следуют шесть цифр, например "KB123456"</span><span class="sxs-lookup"><span data-stu-id="7864e-209">"KB" followed by six digits, for example "KB123456"</span></span>
    -   <span data-ttu-id="7864e-210">"Q", за которым следуют шесть цифр, например "Q123456"</span><span class="sxs-lookup"><span data-stu-id="7864e-210">"Q" followed by six digits, for example "Q123456"</span></span>
    -   <span data-ttu-id="7864e-211">Шесть цифр, например "123456"</span><span class="sxs-lookup"><span data-stu-id="7864e-211">Six digits, for example "123456"</span></span>
3.  <span data-ttu-id="7864e-212">Помимо стандартных сведений об удалении, добавленных для родительского приложения, подразделы для каждого обновления дополнительно должны включать две из следующих трех записей.</span><span class="sxs-lookup"><span data-stu-id="7864e-212">In addition to the standard uninstall information added for the parent application, the subkeys for each update additionally must include two of the following three entries.</span></span> <span data-ttu-id="7864e-213">Их значения имеют тип REG \_ SZ.</span><span class="sxs-lookup"><span data-stu-id="7864e-213">Their values are of type REG\_SZ.</span></span>
    -   <span data-ttu-id="7864e-214">**Паренткэйнаме**.</span><span class="sxs-lookup"><span data-stu-id="7864e-214">**ParentKeyName**.</span></span> <span data-ttu-id="7864e-215">Это значение обязательно.</span><span class="sxs-lookup"><span data-stu-id="7864e-215">This value is required.</span></span> <span data-ttu-id="7864e-216">Это имя подраздела родителя, объявленного на шаге 1.</span><span class="sxs-lookup"><span data-stu-id="7864e-216">This is the name of the parent's subkey declared in step 1.</span></span> <span data-ttu-id="7864e-217">Это обновление связывается с программой.</span><span class="sxs-lookup"><span data-stu-id="7864e-217">This associates the update with the program.</span></span>
    -   <span data-ttu-id="7864e-218">**Парентдисплайнаме**.</span><span class="sxs-lookup"><span data-stu-id="7864e-218">**ParentDisplayName**.</span></span> <span data-ttu-id="7864e-219">Это значение обязательно.</span><span class="sxs-lookup"><span data-stu-id="7864e-219">This value is required.</span></span> <span data-ttu-id="7864e-220">Если подраздел не совпадает с именем в Паренткэйнаме, это значение используется в качестве заполнителя родительской программы для отображения в окне " **Установка и удаление программ**".</span><span class="sxs-lookup"><span data-stu-id="7864e-220">If no subkey matches that named in ParentKeyName, this value is used as a placeholder parent program to be displayed in **Add or Remove Programs**.</span></span>
    -   <span data-ttu-id="7864e-221">**Инсталлдате**.</span><span class="sxs-lookup"><span data-stu-id="7864e-221">**InstallDate**.</span></span> <span data-ttu-id="7864e-222">Это необязательное значение.</span><span class="sxs-lookup"><span data-stu-id="7864e-222">This value is optional.</span></span> <span data-ttu-id="7864e-223">`yyyymmdd`Для указания даты следует использовать форму.</span><span class="sxs-lookup"><span data-stu-id="7864e-223">It should use the form `yyyymmdd` to specify the date.</span></span> <span data-ttu-id="7864e-224">Эта дата используется для **установки на** сведениях, отображаемых рядом с записью обновления в пользовательском интерфейсе.</span><span class="sxs-lookup"><span data-stu-id="7864e-224">This date is used for the **Installed On** information displayed next to the update's entry in the UI.</span></span> <span data-ttu-id="7864e-225">Если нет записи **инсталлдате** или она присутствует, но ей не назначено значение, происходит следующее:</span><span class="sxs-lookup"><span data-stu-id="7864e-225">If there is no **InstallDate** entry or if it is present but has no value assigned to it, the following occurs:</span></span>
        -   <span data-ttu-id="7864e-226">Версии операционных систем, отличных от Windows Vista и Windows 7. сведения о них не **установлены** .</span><span class="sxs-lookup"><span data-stu-id="7864e-226">Operating system versions other than Windows Vista and Windows 7: No **Installed On** information is shown.</span></span>
        -   <span data-ttu-id="7864e-227">Windows Vista и более поздние версии: используется дата по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="7864e-227">Windows Vista and later: A default date is used.</span></span> <span data-ttu-id="7864e-228">Это Дата последнего изменения для любой записи в подразделе этого обновления.</span><span class="sxs-lookup"><span data-stu-id="7864e-228">This is the "last modified" date for any of the entries under that update's subkey.</span></span> <span data-ttu-id="7864e-229">Обычно это день, когда обновление было добавлено в реестр.</span><span class="sxs-lookup"><span data-stu-id="7864e-229">This is normally the day that the update was added to the registry.</span></span> <span data-ttu-id="7864e-230">Однако, поскольку это Дата последнего изменения, любое последующее изменение в любом из записей подраздела приводит к изменению значения Инсталлдате на дату этого изменения.</span><span class="sxs-lookup"><span data-stu-id="7864e-230">However, because it is a "last modified" date, any subsequent change to any of the subkey's entries causes the InstallDate value to be changed to the date of that change.</span></span>

<span data-ttu-id="7864e-231">В следующем примере показаны соответствующие записи реестра для обновления приложения LitWare Deluxe.</span><span class="sxs-lookup"><span data-stu-id="7864e-231">The following example shows the pertinent registry entries for an update to the LitWare Deluxe application.</span></span>

```
HKEY_LOCAL_MACHINE
   Software
      Microsoft
         Windows
            CurrentVersion
               Uninstall
                  LitWare
                     DisplayName = LitWare Deluxe
                     UninstallString = "C:\Program Files\LitWare\LitWare Deluxe\litware.exe" /uninstall
                  LitWare_Update123456
                     DisplayName = LitWare Deluxe Update 123456. Fixes printing problems.
                     UninstallString = "C:\Program Files\LitWare\LitWare Deluxe\Updates\123456.exe" /uninstall
                     ParentKeyName = LitWare
                     ParentDisplayName = LitWare Deluxe
                     InstallDate = 20050513
```

<span data-ttu-id="7864e-232">Приложения сторонних производителей, которые не предоставляют соответствующие данные реестра, такие как обновления, созданные до того, как этот параметр был доступен, продолжают отображаться в списке установленных программ и не отфильтровываются.</span><span class="sxs-lookup"><span data-stu-id="7864e-232">Non-Microsoft applications that do not supply the appropriate registry information, such as updates produced before this option was available, continue to be displayed normally in the list of installed programs and are not filtered out.</span></span>

<span data-ttu-id="7864e-233">Фильтрация обновлений в версиях операционной системы, отличных от Windows Vista и Windows 7, обычно является управляемым пользователем параметром и должна рассматриваться в соответствии с приложениями.</span><span class="sxs-lookup"><span data-stu-id="7864e-233">Update filtering in operating system versions other than Windows Vista and Windows 7 is normally a user-controlled setting and should be respected as such by applications.</span></span> <span data-ttu-id="7864e-234">Однако в корпоративной среде администраторы могут контролировать, имеет ли пользователь возможность фильтровать обновления с помощью значения реестра Донтграуппатчес, как показано в следующем примере.</span><span class="sxs-lookup"><span data-stu-id="7864e-234">However, in an enterprise environment, administrators can control whether users are given the option to filter updates through the DontGroupPatches registry value, as shown in the following example.</span></span>

```
HKEY_LOCAL_MACHINE
   Software
      Microsoft
         Windows
            CurrentVersion
               policies
                  Uninstall
                     DontGroupPatches = 0 or 1
```

<span data-ttu-id="7864e-235">Это значение имеет тип REG \_ DWORD и интерпретируется следующим образом.</span><span class="sxs-lookup"><span data-stu-id="7864e-235">This value is of type REG\_DWORD and is interpreted as follows.</span></span>



| <span data-ttu-id="7864e-236">Значение Донтграуппатчес</span><span class="sxs-lookup"><span data-stu-id="7864e-236">DontGroupPatches value</span></span>             | <span data-ttu-id="7864e-237">Значение</span><span class="sxs-lookup"><span data-stu-id="7864e-237">Meaning</span></span>                                                                                                                                                                                                             |
|------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="7864e-238">0</span><span class="sxs-lookup"><span data-stu-id="7864e-238">0</span></span>                                  | <span data-ttu-id="7864e-239">Флажок **Показать обновления** отображается для пользователя.</span><span class="sxs-lookup"><span data-stu-id="7864e-239">The **Show updates** check box is displayed to the user.</span></span> <span data-ttu-id="7864e-240">Фильтрация зависит от того, установлен ли этот флажок пользователем.</span><span class="sxs-lookup"><span data-stu-id="7864e-240">Filtering depends on whether the user has checked this box or not.</span></span>                                                                                         |
| <span data-ttu-id="7864e-241">1</span><span class="sxs-lookup"><span data-stu-id="7864e-241">1</span></span>                                  | <span data-ttu-id="7864e-242">Флажок **Показывать обновления** удаляется из пользовательского интерфейса.</span><span class="sxs-lookup"><span data-stu-id="7864e-242">The **Show updates** check box is removed from the UI.</span></span> <span data-ttu-id="7864e-243">Обновления не фильтруются из списка.</span><span class="sxs-lookup"><span data-stu-id="7864e-243">Updates are not filtered from the list.</span></span> <span data-ttu-id="7864e-244">Это значение фактически возвращается к поведению Windows XP с пакетом обновления 1 (SP1), прежде чем появилась функция **отображения обновлений** .</span><span class="sxs-lookup"><span data-stu-id="7864e-244">This value essentially reverts to Windows XP SP1 behavior, before the **Show updates** functionality was introduced.</span></span> |
| <span data-ttu-id="7864e-245">Отсутствует запись Донтграуппатчес</span><span class="sxs-lookup"><span data-stu-id="7864e-245">DontGroupPatches entry not present</span></span> | <span data-ttu-id="7864e-246">Это эквивалентно установке значения 0.</span><span class="sxs-lookup"><span data-stu-id="7864e-246">This is equivalent to setting the value to 0.</span></span>                                                                                                                                                                       |



 

<span data-ttu-id="7864e-247">Донтграуппатчес не оказывает влияния на Windows Vista и Windows 7, где пользовательский интерфейс не содержит флажков, а зарегистрированные обновления всегда фильтруются.</span><span class="sxs-lookup"><span data-stu-id="7864e-247">DontGroupPatches has no effect in Windows Vista and Windows 7, where the UI contains no check box and registered updates are always filtered.</span></span>

> [!Note]  
> <span data-ttu-id="7864e-248">Политики устанавливаются только администраторами.</span><span class="sxs-lookup"><span data-stu-id="7864e-248">Policies are set only by administrators.</span></span> <span data-ttu-id="7864e-249">Приложения не должны изменять это значение.</span><span class="sxs-lookup"><span data-stu-id="7864e-249">Applications should not alter this value.</span></span> <span data-ttu-id="7864e-250">Дополнительные сведения о том, как задать групповая политика на основе реестра, см. в разделе [Групповая политика](/previous-versions/windows/desktop/Policy/group-policy-start-page) или [Windows Server групповая политика](/windows/deployment/deploy-whats-new).</span><span class="sxs-lookup"><span data-stu-id="7864e-250">For more information on how to set a registry-based Group Policy, see [Group Policy](/previous-versions/windows/desktop/Policy/group-policy-start-page) or [Windows Server Group Policy](/windows/deployment/deploy-whats-new).</span></span>

 

## <a name="additional-resources"></a><span data-ttu-id="7864e-251">Дополнительные ресурсы</span><span class="sxs-lookup"><span data-stu-id="7864e-251">Additional Resources</span></span>

-   [<span data-ttu-id="7864e-252">Регистрация программ с помощью клиентских типов</span><span class="sxs-lookup"><span data-stu-id="7864e-252">Registering Programs with Client Types</span></span>](reg-middleware-apps.md)
-   <span data-ttu-id="7864e-253">[Установка](/previous-versions/ms997548(v=msdn.10))</span><span class="sxs-lookup"><span data-stu-id="7864e-253">[Installation](/previous-versions/ms997548(v=msdn.10))</span></span>
-   [<span data-ttu-id="7864e-254">Настройка установки и удаления программ с помощью установщик Windows</span><span class="sxs-lookup"><span data-stu-id="7864e-254">Configuring Add/Remove Programs with Windows Installer</span></span>](../msi/configuring-add-remove-programs-with-windows-installer.md)

## <a name="related-topics"></a><span data-ttu-id="7864e-255">См. также</span><span class="sxs-lookup"><span data-stu-id="7864e-255">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="7864e-256">Рекомендации по сопоставлению файлов</span><span class="sxs-lookup"><span data-stu-id="7864e-256">Best Practices for File Associations</span></span>](fa-best-practices.md)
</dt> <dt>

[<span data-ttu-id="7864e-257">Пример сценария сопоставления файлов</span><span class="sxs-lookup"><span data-stu-id="7864e-257">File Association Sample Scenario</span></span>](fa-sample-scenarios.md)
</dt> <dt>

[<span data-ttu-id="7864e-258">Рекомендации по управлению приложениями по умолчанию в Windows Vista и более поздних версиях</span><span class="sxs-lookup"><span data-stu-id="7864e-258">Guidelines for Managing Default Applications in Windows Vista and Later</span></span>](vista-managing-defaults.md)
</dt> <dt>

[<span data-ttu-id="7864e-259">Программы по умолчанию</span><span class="sxs-lookup"><span data-stu-id="7864e-259">Default Programs</span></span>](default-programs.md)
</dt> </dl>

 

 
