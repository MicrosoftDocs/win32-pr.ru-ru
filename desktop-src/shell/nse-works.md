---
description: Проводник Windows предоставляет графическое представление пространства имен оболочки в сочетании с инструментами, которые позволяют пользователям взаимодействовать с объектами оболочки.
ms.assetid: cc387338-15fa-4350-b039-61a0f1c5030a
title: Основные сведения о расширениях пространства имен оболочки
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: a0150092a25708c1f079160a9d106a7b8205e231
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "104985648"
---
# <a name="understanding-shell-namespace-extensions"></a><span data-ttu-id="fcee8-103">Основные сведения о расширениях пространства имен оболочки</span><span class="sxs-lookup"><span data-stu-id="fcee8-103">Understanding Shell Namespace Extensions</span></span>

<span data-ttu-id="fcee8-104">Проводник Windows предоставляет графическое представление пространства имен оболочки в сочетании с инструментами, которые позволяют пользователям взаимодействовать с объектами оболочки.</span><span class="sxs-lookup"><span data-stu-id="fcee8-104">Windows Explorer provides a graphical representation of the Shell namespace combined with tools that allow users to interact with Shell objects.</span></span> <span data-ttu-id="fcee8-105">С помощью расширения пространства имен можно получить любой текст данных и предоставить его пользователю в виде виртуальной папки.</span><span class="sxs-lookup"><span data-stu-id="fcee8-105">With a namespace extension, you can take any body of data and have Windows Explorer present it to the user as a virtual folder.</span></span> <span data-ttu-id="fcee8-106">Когда пользователь переходит в эту папку, данные представляются в виде древовидной иерархии папок и файлов, подобно остальной части пространства имен оболочки.</span><span class="sxs-lookup"><span data-stu-id="fcee8-106">When a user browses into this folder, your data is presented as a tree-structured hierarchy of folders and files, much like the rest of the Shell namespace.</span></span> <span data-ttu-id="fcee8-107">Пользователи и приложения могут взаимодействовать с содержимым этой виртуальной папки практически так же, как и с любым другим объектом пространства имен.</span><span class="sxs-lookup"><span data-stu-id="fcee8-107">Users and applications are able to interact with the contents of this virtual folder in much the same way as with any other namespace object.</span></span> <span data-ttu-id="fcee8-108">В этом документе описывается создание расширения пространства имен.</span><span class="sxs-lookup"><span data-stu-id="fcee8-108">This document discusses how to create a namespace extension.</span></span>

-   [<span data-ttu-id="fcee8-109">Как работает расширение пространства имен</span><span class="sxs-lookup"><span data-stu-id="fcee8-109">How a Namespace Extension Works</span></span>](#how-a-namespace-extension-works)
-   [<span data-ttu-id="fcee8-110">Объект представления системной папки по умолчанию (Дефвиев)</span><span class="sxs-lookup"><span data-stu-id="fcee8-110">The Default System Folder View Object (DefView)</span></span>](#the-default-system-folder-view-object-defview)
-   [<span data-ttu-id="fcee8-111">Взаимодействие проводника Windows с расширением пространства имен</span><span class="sxs-lookup"><span data-stu-id="fcee8-111">How Windows Explorer Interacts with a Namespace Extension</span></span>](#how-windows-explorer-interacts-with-a-namespace-extension)
    -   [<span data-ttu-id="fcee8-112">Представление в виде дерева</span><span class="sxs-lookup"><span data-stu-id="fcee8-112">Tree View</span></span>](#tree-view)
    -   [<span data-ttu-id="fcee8-113">Представление папки</span><span class="sxs-lookup"><span data-stu-id="fcee8-113">Folder View</span></span>](#folder-view)
    -   [<span data-ttu-id="fcee8-114">Строка меню и панели инструментов</span><span class="sxs-lookup"><span data-stu-id="fcee8-114">Menu Bar and Toolbars</span></span>](#menu-bar-and-toolbars)
    -   [<span data-ttu-id="fcee8-115">Строка состояния</span><span class="sxs-lookup"><span data-stu-id="fcee8-115">Status Bar</span></span>](#status-bar)

## <a name="how-a-namespace-extension-works"></a><span data-ttu-id="fcee8-116">Как работает расширение пространства имен</span><span class="sxs-lookup"><span data-stu-id="fcee8-116">How a Namespace Extension Works</span></span>

<span data-ttu-id="fcee8-117">В фоновом режиме каждая папка, отображаемая проводником Windows, представляется объектом модели COM, называемым *объектом Folder*.</span><span class="sxs-lookup"><span data-stu-id="fcee8-117">Behind the scenes, every folder that Windows Explorer displays is represented by a Component Object Model (COM) object called a *folder object*.</span></span> <span data-ttu-id="fcee8-118">Каждый раз, когда пользователь взаимодействует с папкой или ее содержимым, оболочка взаимодействует со связанным объектом Folder через один из нескольких стандартных интерфейсов.</span><span class="sxs-lookup"><span data-stu-id="fcee8-118">Each time the user interacts with a folder or its contents, the Shell communicates with the associated folder object through one of a number of standard interfaces.</span></span> <span data-ttu-id="fcee8-119">Затем объект Folder выполняет все необходимое для реагирования на действие пользователя, и оболочка обновляет отображение в проводнике Windows.</span><span class="sxs-lookup"><span data-stu-id="fcee8-119">The folder object then does whatever is necessary to respond to the user's action, and the Shell updates the Windows Explorer display.</span></span>

<span data-ttu-id="fcee8-120">Большинство файлов и папок, с которыми взаимодействуют пользователи, являются частью файловой системы или системной виртуальной папкой, например корзиной.</span><span class="sxs-lookup"><span data-stu-id="fcee8-120">The majority of the files and folders that users interact with are part of the file system or a system virtual folder such as the Recycle Bin.</span></span> <span data-ttu-id="fcee8-121">В другой документации обсуждалось, как можно настроить поведение этих стандартных папок в соответствии с требованиями приложения путем изменения реестра или реализации [обработчиков расширений оболочки](handlers.md).</span><span class="sxs-lookup"><span data-stu-id="fcee8-121">Other documentation has discussed how you can customize the behavior of these standard folders to meet the requirements of your application by modifying the registry or by implementing [Shell extension handlers](handlers.md).</span></span> <span data-ttu-id="fcee8-122">Тем не менее, расширение оболочки в таких случаях наиболее полезно, когда данные можно упаковать в виде обычных файлов или папок файловой системы.</span><span class="sxs-lookup"><span data-stu-id="fcee8-122">However, extending the Shell in these ways is most useful when your information can be readily packaged in the form of normal file system files or folders.</span></span>

<span data-ttu-id="fcee8-123">Существует несколько ситуаций, когда хранение данных в виде коллекции папок файловой системы и файлов может оказаться нежелательным или даже невозможным.</span><span class="sxs-lookup"><span data-stu-id="fcee8-123">There are a number of situations where storing data as a collection of file-system folders and files might be undesirable or even impossible.</span></span> <span data-ttu-id="fcee8-124">Ниже приведены некоторые примеры этих типов данных.</span><span class="sxs-lookup"><span data-stu-id="fcee8-124">Some examples of this type of data include:</span></span>

-   <span data-ttu-id="fcee8-125">Коллекция элементов, которая наиболее эффективно упакована в один файл, например в базу данных.</span><span class="sxs-lookup"><span data-stu-id="fcee8-125">A collection of items that is most effectively packaged in a single file, such as a database.</span></span>
-   <span data-ttu-id="fcee8-126">Коллекция элементов, хранящихся на удаленном компьютере без стандартной файловой системы Windows.</span><span class="sxs-lookup"><span data-stu-id="fcee8-126">A collection of items stored on a remote computer that does not have a standard Windows file system.</span></span> <span data-ttu-id="fcee8-127">Примером таких данных являются сведения, хранящиеся в личном цифровом помощнике (PDA) или цифровой камере.</span><span class="sxs-lookup"><span data-stu-id="fcee8-127">An example of such data is the information stored on a personal digital assistant (PDA) or digital camera.</span></span>
-   <span data-ttu-id="fcee8-128">Коллекция элементов, которые не представляют сохраненные данные.</span><span class="sxs-lookup"><span data-stu-id="fcee8-128">A collection of items that does not represent stored data.</span></span> <span data-ttu-id="fcee8-129">Примером таких данных являются ссылки на принтеры, содержащиеся в папке Стандартные принтеры.</span><span class="sxs-lookup"><span data-stu-id="fcee8-129">An example of such data is the printer links contained by the standard Printers folder.</span></span>

<span data-ttu-id="fcee8-130">Одним из способов представления данных такого рода пользователю является написание приложения, позволяющее пользователям просматривать различные элементы и взаимодействовать с ними.</span><span class="sxs-lookup"><span data-stu-id="fcee8-130">One way to present this kind of data to a user is to write an application to allow users to view and interact with the various items.</span></span> <span data-ttu-id="fcee8-131">Однако, если данные могут быть представлены в виде иерархии папок или файлов, многие из функций, которые необходимо реализовать, могут быть службами пользовательского интерфейса, уже предоставляемыми проводником Windows.</span><span class="sxs-lookup"><span data-stu-id="fcee8-131">However, if your data can be presented as a folder/file hierarchy, much of the functionality you will need to implement might be user interface services that are already provided by Windows Explorer.</span></span> <span data-ttu-id="fcee8-132">Гораздо более эффективный подход — написать расширение пространства имен и позволить проводнику Windows стать графическим интерфейсом пользователя.</span><span class="sxs-lookup"><span data-stu-id="fcee8-132">A much more efficient approach could be to write a namespace extension and let Windows Explorer become your GUI.</span></span>

<span data-ttu-id="fcee8-133">Для реализации расширения пространства имен ваша информация должна быть организована как пространство имен, структурированное деревом.</span><span class="sxs-lookup"><span data-stu-id="fcee8-133">To implement a namespace extension, your information must be organized as a tree-structured namespace.</span></span> <span data-ttu-id="fcee8-134">*Корень пространства имен* представлен в виде виртуальной папки в пространстве имен оболочки.</span><span class="sxs-lookup"><span data-stu-id="fcee8-134">Your *namespace root* is presented as a virtual folder in the Shell namespace.</span></span> <span data-ttu-id="fcee8-135">Корневая папка и все ее вложенные папки и элементы данных становятся частью пространства имен оболочки, а Проводник Windows преобразуется в пользовательский интерфейс.</span><span class="sxs-lookup"><span data-stu-id="fcee8-135">The root folder, and all its subfolders and data items, becomes part of the Shell namespace, and Windows Explorer becomes your user interface.</span></span> <span data-ttu-id="fcee8-136">Таким образом, вы можете предоставить сведения пользователю в привычном и удобном для вас виде, не применяя для пользовательского приложения гораздо меньше программирования.</span><span class="sxs-lookup"><span data-stu-id="fcee8-136">You can thus present your information to the user in a familiar and readily accessible way with much less UI programming than would be required for a custom application.</span></span>

<span data-ttu-id="fcee8-137">Расширение пространства имен состоит из двух основных компонентов:</span><span class="sxs-lookup"><span data-stu-id="fcee8-137">A namespace extension consists of two basic components:</span></span>

-   <span data-ttu-id="fcee8-138">Диспетчер данных</span><span class="sxs-lookup"><span data-stu-id="fcee8-138">A data manager</span></span>
-   <span data-ttu-id="fcee8-139">Интерфейс между диспетчером данных и проводником Windows</span><span class="sxs-lookup"><span data-stu-id="fcee8-139">An interface between the data manager and Windows Explorer</span></span>

<span data-ttu-id="fcee8-140">Первый компонент в списке полностью предназначен для вас.</span><span class="sxs-lookup"><span data-stu-id="fcee8-140">The first component on the list is entirely up to you.</span></span> <span data-ttu-id="fcee8-141">Вы можете хранить данные и управлять ими любым способом, наиболее эффективным.</span><span class="sxs-lookup"><span data-stu-id="fcee8-141">You can store and manage your data in whatever way is most effective.</span></span> <span data-ttu-id="fcee8-142">Второй компонент — это код, необходимый для упаковки данных в качестве объектов папок и управления взаимодействием с проводником Windows.</span><span class="sxs-lookup"><span data-stu-id="fcee8-142">The second component is the code needed to package your data as folder objects and handle the interaction with Windows Explorer.</span></span> <span data-ttu-id="fcee8-143">После этого проводник Windows может вызывать эти объекты, чтобы пользователи могли просматривать данные и взаимодействовать с ними так, как если бы они были коллекцией папок и файлов.</span><span class="sxs-lookup"><span data-stu-id="fcee8-143">Windows Explorer can then call these objects to allow users to view and interact with your data as if it were a collection of folders and files.</span></span> <span data-ttu-id="fcee8-144">Объекты папки расширения пространства имен должны взаимодействовать с проводником Windows, как если бы они были обычными папками.</span><span class="sxs-lookup"><span data-stu-id="fcee8-144">Your namespace extension's folder objects must interact with Windows Explorer as if they were normal folders.</span></span> <span data-ttu-id="fcee8-145">Прежде чем пытаться реализовать расширение пространства имен, необходимо понять, как проводник Windows обрабатывает объект Folder.</span><span class="sxs-lookup"><span data-stu-id="fcee8-145">Before attempting to implement a namespace extension, you must first understand how Windows Explorer handles a folder object.</span></span>

## <a name="the-default-system-folder-view-object-defview"></a><span data-ttu-id="fcee8-146">Объект представления системной папки по умолчанию (Дефвиев)</span><span class="sxs-lookup"><span data-stu-id="fcee8-146">The Default System Folder View Object (DefView)</span></span>

<span data-ttu-id="fcee8-147">Оболочка предоставляет реализацию представления папки по умолчанию разговорной речи, известную как Дефвиев, что позволяет избежать большей части работы по реализации расширения пространства имен.</span><span class="sxs-lookup"><span data-stu-id="fcee8-147">The Shell provides a default implementation of the folder view, colloquially known as DefView, so that you can avoid much of the work of implementing your own namespace extension.</span></span> <span data-ttu-id="fcee8-148">Поскольку некоторые функции представления не могут быть реализованы с помощью пользовательских представлений, часто рекомендуется использовать объект представления системной папки по умолчанию вместо пользовательского представления.</span><span class="sxs-lookup"><span data-stu-id="fcee8-148">Because some view features cannot be achieved through custom views, it is often recommended that the default system folder view object is used in place of a custom view.</span></span> <span data-ttu-id="fcee8-149">Дополнительные сведения см. в разделе [**шкреатешеллфолдервиев**](/windows/desktop/api/shlobj_core/nf-shlobj_core-shcreateshellfolderview).</span><span class="sxs-lookup"><span data-stu-id="fcee8-149">For more information, see [**SHCreateShellFolderView**](/windows/desktop/api/shlobj_core/nf-shlobj_core-shcreateshellfolderview).</span></span>

## <a name="how-windows-explorer-interacts-with-a-namespace-extension"></a><span data-ttu-id="fcee8-150">Взаимодействие проводника Windows с расширением пространства имен</span><span class="sxs-lookup"><span data-stu-id="fcee8-150">How Windows Explorer Interacts with a Namespace Extension</span></span>

<span data-ttu-id="fcee8-151">Проводник Windows предоставляет пользователям графический интерфейс, позволяющий выполнять различные задачи, в том числе:</span><span class="sxs-lookup"><span data-stu-id="fcee8-151">Windows Explorer provides users with a GUI that allows them to do a variety of tasks, including:</span></span>

-   <span data-ttu-id="fcee8-152">[Навигация](navigate.md) по иерархии пространств имен и просмотру содержимого папок.</span><span class="sxs-lookup"><span data-stu-id="fcee8-152">[Navigating](navigate.md) the namespace hierarchy and viewing the contents of folders.</span></span>
-   <span data-ttu-id="fcee8-153">[Управление](manage.md) содержимым пространства имен путем перемещения, удаления и копирования объектов.</span><span class="sxs-lookup"><span data-stu-id="fcee8-153">[Managing](manage.md) the contents of the namespace by moving, deleting, and copying objects.</span></span>
-   <span data-ttu-id="fcee8-154">[Получение](folder-info.md) различных сведений об объектах.</span><span class="sxs-lookup"><span data-stu-id="fcee8-154">[Retrieving](folder-info.md) a variety of information about objects.</span></span>
-   <span data-ttu-id="fcee8-155">[Запуск](launch.md) приложений.</span><span class="sxs-lookup"><span data-stu-id="fcee8-155">[Launching](launch.md) applications.</span></span>

<span data-ttu-id="fcee8-156">Графический интерфейс проводника Windows содержит пять основных компонентов.</span><span class="sxs-lookup"><span data-stu-id="fcee8-156">The Windows Explorer GUI has five basic components.</span></span> <span data-ttu-id="fcee8-157">На следующем рисунке показаны названия компонентов и показано, где они обычно отображаются в проводнике Windows.</span><span class="sxs-lookup"><span data-stu-id="fcee8-157">The following illustration names the components and shows where they are typically displayed within Windows Explorer.</span></span>

![<span data-ttu-id="fcee8-158">Иллюстрация, демонстрирующая компоненты пользовательского интерфейса проводника Windows</span><span class="sxs-lookup"><span data-stu-id="fcee8-158">illustration showing components of the windows explorer user interface</span></span> ](images/nse1.png)

<span data-ttu-id="fcee8-159">Когда пользователь отображает папку, принадлежащую к расширению пространства имен в проводнике Windows, объект Folder имеет по крайней мере частичный контроль над содержимым всех пяти областей.</span><span class="sxs-lookup"><span data-stu-id="fcee8-159">When a user displays a folder that belongs to a namespace extension in Windows Explorer, the folder object has at least partial control over the contents of all five areas.</span></span>

### <a name="tree-view"></a><span data-ttu-id="fcee8-160">Вид дерева</span><span class="sxs-lookup"><span data-stu-id="fcee8-160">Tree View</span></span>

<span data-ttu-id="fcee8-161">Представление в виде дерева предоставляет общее представление пространства имен.</span><span class="sxs-lookup"><span data-stu-id="fcee8-161">The tree view provides a high-level view of the namespace.</span></span> <span data-ttu-id="fcee8-162">В этой области размещается [элемент управления представлением в виде дерева](../controls/tree-view-controls.md) , который может отображать все папки пространств имен и их расположение в иерархии пространства имен.</span><span class="sxs-lookup"><span data-stu-id="fcee8-162">This area hosts a [tree view control](../controls/tree-view-controls.md) that can display every namespace folder and the folder's position in the namespace hierarchy.</span></span> <span data-ttu-id="fcee8-163">Пользователь может выполнять несколько операций с областью представления в виде дерева, в том числе:</span><span class="sxs-lookup"><span data-stu-id="fcee8-163">A user can perform several operations with the tree view area, including:</span></span>

-   <span data-ttu-id="fcee8-164">Отображение или скрытие следующего уровня в пространстве имен.</span><span class="sxs-lookup"><span data-stu-id="fcee8-164">Displaying or hiding the next level in the namespace.</span></span>
-   <span data-ttu-id="fcee8-165">Копирование, перемещение или удаление папок.</span><span class="sxs-lookup"><span data-stu-id="fcee8-165">Copying, moving, or deleting folders.</span></span>
-   <span data-ttu-id="fcee8-166">Щелкнув правой кнопкой мыши папку для вывода контекстного меню.</span><span class="sxs-lookup"><span data-stu-id="fcee8-166">Right-clicking a folder to display a shortcut menu.</span></span>
-   <span data-ttu-id="fcee8-167">Выбор папки и просмотр ее содержимого в представлении папки.</span><span class="sxs-lookup"><span data-stu-id="fcee8-167">Selecting a folder and viewing its contents in the folder view.</span></span>

<span data-ttu-id="fcee8-168">Представление в виде дерева обменивается данными с объектами папок в основном через интерфейс [**ишеллфолдер**](/windows/win32/api/shobjidl_core/nn-shobjidl_core-ishellfolder) .</span><span class="sxs-lookup"><span data-stu-id="fcee8-168">The tree view communicates with folder objects primarily through their [**IShellFolder**](/windows/win32/api/shobjidl_core/nn-shobjidl_core-ishellfolder) interface.</span></span> <span data-ttu-id="fcee8-169">Например, когда пользователь щелкает знак «плюс» (+) рядом со значком папки, проводник Windows разворачивает отображение, чтобы отобразить вложенные папки папки.</span><span class="sxs-lookup"><span data-stu-id="fcee8-169">For example, when a user clicks the plus sign (+) next to the folder's icon, Windows Explorer expands the display to show the folder's subfolders.</span></span> <span data-ttu-id="fcee8-170">Чтобы получить сведения, необходимые для обновления древовидного представления, оболочка выполняет несколько вызовов интерфейса **ишеллфолдер** объекта Folder:</span><span class="sxs-lookup"><span data-stu-id="fcee8-170">To obtain the information needed to update the tree view, the Shell makes several calls to the folder object's **IShellFolder** interface to:</span></span>

-   <span data-ttu-id="fcee8-171">Запросите атрибуты папки.</span><span class="sxs-lookup"><span data-stu-id="fcee8-171">Request the folder's attributes.</span></span>
-   <span data-ttu-id="fcee8-172">Перечисление содержимого папки.</span><span class="sxs-lookup"><span data-stu-id="fcee8-172">Enumerate the contents of the folder.</span></span>
-   <span data-ttu-id="fcee8-173">Запросите отображаемые имена для каждой вложенной папки.</span><span class="sxs-lookup"><span data-stu-id="fcee8-173">Request display names for each subfolder.</span></span>
-   <span data-ttu-id="fcee8-174">Запрос значка, отображаемого рядом с каждой папкой.</span><span class="sxs-lookup"><span data-stu-id="fcee8-174">Request an icon to display next to each folder.</span></span>

<span data-ttu-id="fcee8-175">Затем Проводник Windows обновляет представление в виде дерева, отображая вложенные папки выбранной папки.</span><span class="sxs-lookup"><span data-stu-id="fcee8-175">Windows Explorer then updates the tree view to show the selected folder's subfolders.</span></span> <span data-ttu-id="fcee8-176">Если вложенные папки имеют вложенные папки, рядом со значком папки отображается символ "+".</span><span class="sxs-lookup"><span data-stu-id="fcee8-176">If the subfolders have subfolders, a '+' character is displayed next to their folder icon.</span></span> <span data-ttu-id="fcee8-177">Существует ряд более сложных задач, которые пользователь может также выполнять с представлением в виде дерева, в том числе:</span><span class="sxs-lookup"><span data-stu-id="fcee8-177">There are a number of more sophisticated tasks that a user can also perform with the tree view, including:</span></span>

-   <span data-ttu-id="fcee8-178">С помощью буфера обмена вырежьте или скопируйте папку и вставьте ее в другую папку.</span><span class="sxs-lookup"><span data-stu-id="fcee8-178">Using the Clipboard to cut or copy a folder and paste it into another folder.</span></span>
-   <span data-ttu-id="fcee8-179">Используйте перетаскивание, чтобы вырезать или скопировать папку и поместить ее в другую папку.</span><span class="sxs-lookup"><span data-stu-id="fcee8-179">Using drag-and-drop to cut or copy a folder and drop it on another folder.</span></span>
-   <span data-ttu-id="fcee8-180">Использование поисковой системы для поиска элементов в папке или ее вложенных папках.</span><span class="sxs-lookup"><span data-stu-id="fcee8-180">Using a search engine to search for items in a folder or its subfolders.</span></span>
-   <span data-ttu-id="fcee8-181">Изменение свойств папки.</span><span class="sxs-lookup"><span data-stu-id="fcee8-181">Modifying the folder's properties.</span></span>

<span data-ttu-id="fcee8-182">Более подробное описание того, как расширение пространства имен обрабатывает эти действия пользователя, см. [в разделе Реализация базовых интерфейсов объекта папки](nse-implement.md).</span><span class="sxs-lookup"><span data-stu-id="fcee8-182">For a more detailed discussion of how a namespace extension handles these user actions, see [Implementing the Basic Folder Object Interfaces](nse-implement.md).</span></span>

### <a name="folder-view"></a><span data-ttu-id="fcee8-183">Представление папки</span><span class="sxs-lookup"><span data-stu-id="fcee8-183">Folder View</span></span>

<span data-ttu-id="fcee8-184">Когда пользователь выбирает папку, содержимое папки отображается в представлении папки.</span><span class="sxs-lookup"><span data-stu-id="fcee8-184">When a user selects a folder, the contents of the folder are displayed in the folder view.</span></span> <span data-ttu-id="fcee8-185">В некоторой степени нормальная функциональность представления папок пересекается с древовидным представлением.</span><span class="sxs-lookup"><span data-stu-id="fcee8-185">To some extent, the normal functionality of the folder view overlaps with the tree view.</span></span> <span data-ttu-id="fcee8-186">Пользователи могут перемещать или копировать папки, изменять свойства папок, просматривать содержимое вложенной папки, отображать контекстное меню для папки и т. д.</span><span class="sxs-lookup"><span data-stu-id="fcee8-186">Users can move or copy folders, change folder properties, view the contents of a subfolder, display a shortcut menu for a folder, and so on.</span></span> <span data-ttu-id="fcee8-187">Однако между представлением в виде дерева и папкой существует ряд различий.</span><span class="sxs-lookup"><span data-stu-id="fcee8-187">However, there are some distinct differences between tree view and folder view:</span></span>

-   <span data-ttu-id="fcee8-188">В представлении папок отображается только содержимое одной папки, а не части или всей иерархии пространства имен.</span><span class="sxs-lookup"><span data-stu-id="fcee8-188">Folder view displays only the contents of a single folder, not part or all of the namespace hierarchy.</span></span>
-   <span data-ttu-id="fcee8-189">В представлении папок отображаются объекты файлов, а также объекты папок.</span><span class="sxs-lookup"><span data-stu-id="fcee8-189">Folder view displays file objects as well as folder objects.</span></span>
-   <span data-ttu-id="fcee8-190">Представление папок может отображать гораздо больше сведений об объектах, чем представление в виде дерева.</span><span class="sxs-lookup"><span data-stu-id="fcee8-190">Folder view can display much more information about objects than tree view.</span></span>
-   <span data-ttu-id="fcee8-191">Представление папок позволяет расширениям пространства имен иметь практически полный контроль над отображаемой информацией и тем, как.</span><span class="sxs-lookup"><span data-stu-id="fcee8-191">Folder view allows namespace extensions to have almost complete control over what information is displayed and how.</span></span> <span data-ttu-id="fcee8-192">Изменять можно только небольшие аспекты представления в виде дерева, такие как значки папок.</span><span class="sxs-lookup"><span data-stu-id="fcee8-192">Only minor aspects of the tree view, such as folder icons, can be modified.</span></span>

<span data-ttu-id="fcee8-193">В отличие от древовидного представления, Проводник не управляет напрямую содержимым представления папок.</span><span class="sxs-lookup"><span data-stu-id="fcee8-193">Unlike the tree view, Windows Explorer does not directly control the contents of the folder view.</span></span> <span data-ttu-id="fcee8-194">Представление папок — это область, которую проводник Windows предоставляет объектам папок.</span><span class="sxs-lookup"><span data-stu-id="fcee8-194">The folder view is an area that Windows Explorer provides to folder objects.</span></span> <span data-ttu-id="fcee8-195">За отображением и управлением содержимым папки в представлении папок отвечает объект Folder.</span><span class="sxs-lookup"><span data-stu-id="fcee8-195">Displaying and managing the contents of a folder in the folder view are the responsibility of the folder object.</span></span> <span data-ttu-id="fcee8-196">Хотя большинство представлений папок имеют довольно стандартный формат, на самом деле есть несколько ограничений на то, что может быть отображено или как.</span><span class="sxs-lookup"><span data-stu-id="fcee8-196">Although most folder views follow a fairly standard format, there are actually few limitations on what can be displayed or how.</span></span> <span data-ttu-id="fcee8-197">Крайний случай — это Интернет-папка, которая является полнофункциональным браузером.</span><span class="sxs-lookup"><span data-stu-id="fcee8-197">An extreme case is the Internet folder, which is a full-featured browser.</span></span>

<span data-ttu-id="fcee8-198">Когда пользователь выбирает папку, принадлежащую расширению пространства имен, вы создаете окно и передаете его обработчик в проводник Windows.</span><span class="sxs-lookup"><span data-stu-id="fcee8-198">When a user selects a folder that belongs to your namespace extension, you create a window and pass its handle to Windows Explorer.</span></span> <span data-ttu-id="fcee8-199">Это окно станет дочерним по отношению к окну представления папок.</span><span class="sxs-lookup"><span data-stu-id="fcee8-199">This window becomes a child of the folder view window.</span></span> <span data-ttu-id="fcee8-200">Проводник Windows предоставляет размеры окна представления папок, но не накладывает ограничений на содержимое своего дочернего окна.</span><span class="sxs-lookup"><span data-stu-id="fcee8-200">Windows Explorer provides the dimensions of the folder view window but places no restrictions on the content of your child window.</span></span> <span data-ttu-id="fcee8-201">Затем можно использовать дочернее окно, чтобы отобразить представление папки папки.</span><span class="sxs-lookup"><span data-stu-id="fcee8-201">You can then use the child window to display the folder's folder view.</span></span>

<span data-ttu-id="fcee8-202">Расширения пространства имен используют один из двух способов создания представления папок.</span><span class="sxs-lookup"><span data-stu-id="fcee8-202">Namespace extensions use one of two approaches for creating a folder view:</span></span>

-   <span data-ttu-id="fcee8-203">Используйте дочернее окно для размещения элемента управления " [представление списка](../controls/list-view-control-reference.md) ".</span><span class="sxs-lookup"><span data-stu-id="fcee8-203">Use your child window to host a [list view](../controls/list-view-control-reference.md) control.</span></span> <span data-ttu-id="fcee8-204">Этот элемент управления позволяет отображать содержимое папки практически так же, как [классический вид](../lwef/web-view.md)проводника Windows.</span><span class="sxs-lookup"><span data-stu-id="fcee8-204">This control allows you to display the contents of a folder in much the same way as the Windows Explorer [classic view](../lwef/web-view.md).</span></span>
-   <span data-ttu-id="fcee8-205">Используйте дочернее окно для размещения [элемента управления WebBrowser](/previous-versions/windows/internet-explorer/ie-developer/platform-apis/aa752044(v=vs.85)) и воспользуйтесь ДИНАМИЧЕСКИм HTML-документом (DHTML) для вывода содержимого папки.</span><span class="sxs-lookup"><span data-stu-id="fcee8-205">Use your child window to host a [WebBrowser control](/previous-versions/windows/internet-explorer/ie-developer/platform-apis/aa752044(v=vs.85)) and use a Dynamic HTML (DHTML) document to display the contents of the folder.</span></span>

<span data-ttu-id="fcee8-206">В обоих подходах отображается представление папок, которое выглядит примерно так же, как и для системных папок.</span><span class="sxs-lookup"><span data-stu-id="fcee8-206">Both approaches display a folder view that looks very much like that displayed for system folders.</span></span> <span data-ttu-id="fcee8-207">Тем не менее, если вы хотите использовать другую схему вывода, это можно сделать без каких-либо действий.</span><span class="sxs-lookup"><span data-stu-id="fcee8-207">However, if you want to use a different display scheme, you are free to do so.</span></span>

### <a name="menu-bar-and-toolbars"></a><span data-ttu-id="fcee8-208">Строка меню и панели инструментов</span><span class="sxs-lookup"><span data-stu-id="fcee8-208">Menu Bar and Toolbars</span></span>

<span data-ttu-id="fcee8-209">Как и большинство приложений Windows, проводник Windows предоставляет пользователю набор средств.</span><span class="sxs-lookup"><span data-stu-id="fcee8-209">Like most Windows applications, Windows Explorer provides the user with a collection of tools.</span></span> <span data-ttu-id="fcee8-210">Полный набор инструментов доступен в строке меню.</span><span class="sxs-lookup"><span data-stu-id="fcee8-210">A complete selection of tools is available through the menu bar.</span></span> <span data-ttu-id="fcee8-211">Наиболее часто используемые инструменты также представлены кнопками или полями ввода на панели инструментов.</span><span class="sxs-lookup"><span data-stu-id="fcee8-211">The more commonly used tools are also represented by buttons or edit boxes on a toolbar.</span></span> <span data-ttu-id="fcee8-212">В отличие от многих приложений Windows, строка меню проводника на самом деле представляет собой [элемент управления ToolBar](../controls/toolbar-control-reference.md) , настроенный так, как обычное меню.</span><span class="sxs-lookup"><span data-stu-id="fcee8-212">Unlike many Windows applications, the Windows Explorer menu bar is actually a [toolbar control](../controls/toolbar-control-reference.md) that has been customized to behave like a conventional menu.</span></span> <span data-ttu-id="fcee8-213">И строка меню, и панель инструментов включены в [элемент управления главной панели](../controls/rebar-control-reference.md) , чтобы пользователи могли упорядочивать отдельные элементы управления в соответствии с их потребностями.</span><span class="sxs-lookup"><span data-stu-id="fcee8-213">Both the menu bar and the toolbar are incorporated into a [rebar control](../controls/rebar-control-reference.md) to allow users to organize the individual controls to suit their needs.</span></span>

<span data-ttu-id="fcee8-214">По умолчанию проводник Windows поддерживает стандартный набор кнопок и пунктов меню, таких как копирование и свойства.</span><span class="sxs-lookup"><span data-stu-id="fcee8-214">By default, Windows Explorer supports a standard set of buttons and menu items, such as Copy and Properties.</span></span> <span data-ttu-id="fcee8-215">Расширение пространства имен может настраивать панель меню и панели инструментов, удаляя стандартные средства и добавляя пользовательские инструменты.</span><span class="sxs-lookup"><span data-stu-id="fcee8-215">Your namespace extension can customize the menu bar and toolbars by deleting standard tools and adding custom tools.</span></span> <span data-ttu-id="fcee8-216">При инициализации объекта представления папки проводник Windows передает указатель на свой интерфейс [**ишеллбровсер**](/windows/win32/api/shobjidl_core/nn-shobjidl_core-ishellbrowser) .</span><span class="sxs-lookup"><span data-stu-id="fcee8-216">When your folder view object is initialized, Windows Explorer passes a pointer to its [**IShellBrowser**](/windows/win32/api/shobjidl_core/nn-shobjidl_core-ishellbrowser) interface.</span></span> <span data-ttu-id="fcee8-217">Этот интерфейс поддерживает несколько методов, которые можно вызывать для настройки строки меню и панели инструментов.</span><span class="sxs-lookup"><span data-stu-id="fcee8-217">This interface supports several methods that you can call to customize the menu bar and toolbar.</span></span> <span data-ttu-id="fcee8-218">Когда пользователь выбирает один из пользовательских элементов меню или кнопок на панели инструментов, проводник Windows пересылает \_ Командные сообщения WM для пользовательских меню и элементов панели инструментов в процедуру окна дочернего окна.</span><span class="sxs-lookup"><span data-stu-id="fcee8-218">When the user selects one of your custom menu items or toolbar buttons, Windows Explorer forwards WM\_COMMAND messages for custom menu and toolbar items to your child window's window procedure.</span></span>

### <a name="status-bar"></a><span data-ttu-id="fcee8-219">Строка состояния</span><span class="sxs-lookup"><span data-stu-id="fcee8-219">Status Bar</span></span>

<span data-ttu-id="fcee8-220">В строке состояния проводника Windows отображаются сведения о выбранном в данный момент объекте.</span><span class="sxs-lookup"><span data-stu-id="fcee8-220">The Windows Explorer status bar displays information about the currently selected object.</span></span> <span data-ttu-id="fcee8-221">Расширение пространства имен может использовать строку состояния для вывода сведений о состоянии, например текстовой строки.</span><span class="sxs-lookup"><span data-stu-id="fcee8-221">Your namespace extension can use the status bar to display status information, such as a text string.</span></span> <span data-ttu-id="fcee8-222">Строку состояния можно настроить, вызвав [**ишеллбровсер**](/windows/win32/api/shobjidl_core/nn-shobjidl_core-ishellbrowser).</span><span class="sxs-lookup"><span data-stu-id="fcee8-222">You can customize the status bar by calling [**IShellBrowser**](/windows/win32/api/shobjidl_core/nn-shobjidl_core-ishellbrowser).</span></span>

 

 
