---
description: Система создает профиль пользователя при первом входе пользователя на компьютер. При последующих входах система загружает профиль пользователя, а затем другие компоненты системы настраивают среду пользователя в соответствии со сведениями в профиле.
title: О профилях пользователей
ms.topic: article
ms.date: 05/31/2018
ms.assetid: 333f1861-91fe-4796-af13-dd300a5c6ec3
api_name: ''
api_type: ''
api_location: ''
topic_type:
- kbArticle
ms.openlocfilehash: bafd5df7d59787104c2904b4e83c734deaf28708
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "104984369"
---
# <a name="about-user-profiles"></a><span data-ttu-id="7a9fd-104">О профилях пользователей</span><span class="sxs-lookup"><span data-stu-id="7a9fd-104">About User Profiles</span></span>

<span data-ttu-id="7a9fd-105">Система создает профиль пользователя при первом входе пользователя на компьютер.</span><span class="sxs-lookup"><span data-stu-id="7a9fd-105">The system creates a user profile the first time that a user logs on to a computer.</span></span> <span data-ttu-id="7a9fd-106">При последующих входах система загружает профиль пользователя, а затем другие компоненты системы настраивают среду пользователя в соответствии со сведениями в профиле.</span><span class="sxs-lookup"><span data-stu-id="7a9fd-106">At subsequent logons, the system loads the user's profile, and then other system components configure the user's environment according to the information in the profile.</span></span>

## <a name="types-of-user-profiles"></a><span data-ttu-id="7a9fd-107">Типы профилей пользователей</span><span class="sxs-lookup"><span data-stu-id="7a9fd-107">Types of User Profiles</span></span>

-   <span data-ttu-id="7a9fd-108">[Профили локальных пользователей](local-user-profiles.md).</span><span class="sxs-lookup"><span data-stu-id="7a9fd-108">[Local User Profiles](local-user-profiles.md).</span></span> <span data-ttu-id="7a9fd-109">Профиль локального пользователя создается при первом входе пользователя на компьютер.</span><span class="sxs-lookup"><span data-stu-id="7a9fd-109">A local user profile is created the first time that a user logs on to a computer.</span></span> <span data-ttu-id="7a9fd-110">Профиль хранится на локальном жестком диске компьютера.</span><span class="sxs-lookup"><span data-stu-id="7a9fd-110">The profile is stored on the computer's local hard disk.</span></span> <span data-ttu-id="7a9fd-111">Изменения, внесенные в профиль локального пользователя, относятся к пользователю и к компьютеру, на котором вносятся изменения.</span><span class="sxs-lookup"><span data-stu-id="7a9fd-111">Changes made to the local user profile are specific to the user and to the computer on which the changes are made.</span></span>
-   <span data-ttu-id="7a9fd-112">[Перемещаемые профили пользователей](roaming-user-profiles.md).</span><span class="sxs-lookup"><span data-stu-id="7a9fd-112">[Roaming User Profiles](roaming-user-profiles.md).</span></span> <span data-ttu-id="7a9fd-113">Перемещаемый профиль пользователя — это копия локального профиля, которая копируется в общую папку сервера и хранится на сервере.</span><span class="sxs-lookup"><span data-stu-id="7a9fd-113">A roaming user profile is a copy of the local profile that is copied to, and stored on, a server share.</span></span> <span data-ttu-id="7a9fd-114">Этот профиль загружается на любой компьютер, на котором пользователь входит в сеть.</span><span class="sxs-lookup"><span data-stu-id="7a9fd-114">This profile is downloaded to any computer that a user logs onto on a network.</span></span> <span data-ttu-id="7a9fd-115">Изменения, внесенные в перемещаемый профиль пользователя, синхронизируются с копией сервера профиля при выходе пользователя из системы.</span><span class="sxs-lookup"><span data-stu-id="7a9fd-115">Changes made to a roaming user profile are synchronized with the server copy of the profile when the user logs off.</span></span> <span data-ttu-id="7a9fd-116">Преимущество перемещаемых профилей пользователей заключается в том, что пользователям не нужно создавать профиль на каждом компьютере, который они используют в сети.</span><span class="sxs-lookup"><span data-stu-id="7a9fd-116">The advantage of roaming user profiles is that users do not need to create a profile on each computer they use on a network.</span></span>
-   <span data-ttu-id="7a9fd-117">[Обязательные профили пользователей](mandatory-user-profiles.md).</span><span class="sxs-lookup"><span data-stu-id="7a9fd-117">[Mandatory User Profiles](mandatory-user-profiles.md).</span></span> <span data-ttu-id="7a9fd-118">Обязательный профиль пользователя — это тип профиля, который администраторы могут использовать для указания параметров пользователей.</span><span class="sxs-lookup"><span data-stu-id="7a9fd-118">A mandatory user profile is a type of profile that administrators can use to specify settings for users.</span></span> <span data-ttu-id="7a9fd-119">Только системные администраторы могут вносить изменения в обязательные профили пользователей.</span><span class="sxs-lookup"><span data-stu-id="7a9fd-119">Only system administrators can make changes to mandatory user profiles.</span></span> <span data-ttu-id="7a9fd-120">Изменения, внесенные пользователями в параметры рабочего стола, теряются при выходе пользователя из системы.</span><span class="sxs-lookup"><span data-stu-id="7a9fd-120">Changes made by users to desktop settings are lost when the user logs off.</span></span>
-   <span data-ttu-id="7a9fd-121">[Временные профили пользователей](temporary-user-profiles.md).</span><span class="sxs-lookup"><span data-stu-id="7a9fd-121">[Temporary User Profiles](temporary-user-profiles.md).</span></span> <span data-ttu-id="7a9fd-122">Временный профиль выдается каждый раз, когда условие ошибки предотвращает загрузку профиля пользователя.</span><span class="sxs-lookup"><span data-stu-id="7a9fd-122">A temporary profile is issued each time that an error condition prevents the user's profile from loading.</span></span> <span data-ttu-id="7a9fd-123">Временные профили удаляются в конце каждого сеанса, а изменения, внесенные пользователем в параметры рабочего стола и файлы, теряются при выходе пользователя из системы.</span><span class="sxs-lookup"><span data-stu-id="7a9fd-123">Temporary profiles are deleted at the end of each session, and changes made by the user to desktop settings and files are lost when the user logs off.</span></span> <span data-ttu-id="7a9fd-124">Временные профили доступны только на компьютерах под управлением Windows 2000 и более поздних версий.</span><span class="sxs-lookup"><span data-stu-id="7a9fd-124">Temporary profiles are only available on computers running Windows 2000 and later.</span></span>

<span data-ttu-id="7a9fd-125">Профиль пользователя состоит из следующих элементов:</span><span class="sxs-lookup"><span data-stu-id="7a9fd-125">A user profile consists of the following elements:</span></span>

-   <span data-ttu-id="7a9fd-126">Куст реестра.</span><span class="sxs-lookup"><span data-stu-id="7a9fd-126">A registry hive.</span></span> <span data-ttu-id="7a9fd-127">Куст реестра — это файл NTuser. dat.</span><span class="sxs-lookup"><span data-stu-id="7a9fd-127">The registry hive is the file NTuser.dat.</span></span> <span data-ttu-id="7a9fd-128">Куст загружается системой при входе пользователя в систему и сопоставляется с ключом реестра **hKey \_ текущий \_ пользователь** .</span><span class="sxs-lookup"><span data-stu-id="7a9fd-128">The hive is loaded by the system at user logon, and it is mapped to the **HKEY\_CURRENT\_USER** registry key.</span></span> <span data-ttu-id="7a9fd-129">Куст реестра пользователя поддерживает настройки и настройки на основе реестра пользователя.</span><span class="sxs-lookup"><span data-stu-id="7a9fd-129">The user's registry hive maintains the user's registry-based preferences and configuration.</span></span>
-   <span data-ttu-id="7a9fd-130">Набор папок профиля, хранящихся в файловой системе.</span><span class="sxs-lookup"><span data-stu-id="7a9fd-130">A set of profile folders stored in the file system.</span></span> <span data-ttu-id="7a9fd-131">Файлы профиля пользователя хранятся в каталоге **Profiles** отдельно для каждого пользователя.</span><span class="sxs-lookup"><span data-stu-id="7a9fd-131">User-profile files are stored in the **Profiles** directory, on a folder per-user basis.</span></span> <span data-ttu-id="7a9fd-132">Папка профиля пользователя — это контейнер для приложений и других системных компонентов, которые заполняются вложенными папками и данными пользователя, такими как документы и файлы конфигурации.</span><span class="sxs-lookup"><span data-stu-id="7a9fd-132">The user-profile folder is a container for applications and other system components to populate with sub-folders, and per-user data such as documents and configuration files.</span></span> <span data-ttu-id="7a9fd-133">Проводник Windows использует папки профиля пользователя для таких элементов, как рабочий стол пользователя, меню " **Пуск** " и папка " **документы** ".</span><span class="sxs-lookup"><span data-stu-id="7a9fd-133">Windows Explorer uses the user-profile folders extensively for such items as the user's Desktop, **Start** menu and **Documents** folder.</span></span>

<span data-ttu-id="7a9fd-134">Профили пользователей предоставляют следующие преимущества.</span><span class="sxs-lookup"><span data-stu-id="7a9fd-134">User profiles provide the following advantages:</span></span>

-   <span data-ttu-id="7a9fd-135">Когда пользователь входит в систему компьютера, система использует те же параметры, которые использовались, когда пользователь вышел из системы.</span><span class="sxs-lookup"><span data-stu-id="7a9fd-135">When the user logs on to a computer, the system uses the same settings that were in use when the user last logged off.</span></span>
-   <span data-ttu-id="7a9fd-136">При совместном использовании компьютера с другими пользователями каждый пользователь получает свой настроенный Рабочий стол после входа в систему.</span><span class="sxs-lookup"><span data-stu-id="7a9fd-136">When sharing a computer with other users, each user receives their customized desktop after logging on.</span></span>
-   <span data-ttu-id="7a9fd-137">Параметры в профиле пользователя уникальны для каждого пользователя.</span><span class="sxs-lookup"><span data-stu-id="7a9fd-137">Settings in the user profile are unique to each user.</span></span> <span data-ttu-id="7a9fd-138">Другие пользователи не могут получить доступ к параметрам.</span><span class="sxs-lookup"><span data-stu-id="7a9fd-138">The settings cannot be accessed by other users.</span></span> <span data-ttu-id="7a9fd-139">Изменения, внесенные в профиль одного пользователя, не затрагивают других пользователей и профилей других пользователей.</span><span class="sxs-lookup"><span data-stu-id="7a9fd-139">Changes made to one user's profile do not affect other users or other users' profiles.</span></span>

## <a name="user-profile-tiles-in-windows-7-and-later"></a><span data-ttu-id="7a9fd-140">Плитки профилей пользователей в Windows 7 и более поздних версиях</span><span class="sxs-lookup"><span data-stu-id="7a9fd-140">User Profile Tiles in Windows 7 and Later</span></span>

<span data-ttu-id="7a9fd-141">В Windows 7 или более поздней версии каждый профиль пользователя имеет связанный образ, представленный в виде плитки пользователя.</span><span class="sxs-lookup"><span data-stu-id="7a9fd-141">In Windows 7 or later, each user profile has an associated image presented as a user tile.</span></span> <span data-ttu-id="7a9fd-142">Эти плитки отображаются для пользователей в элементе панели управления **учетные записи пользователей** и вложенной странице **Управление учетными записями** .</span><span class="sxs-lookup"><span data-stu-id="7a9fd-142">These tiles appear to users on the **User Accounts** Control Panel item and its **Manage Accounts** subpage..</span></span> <span data-ttu-id="7a9fd-143">Файлы образов для учетных записей гостя по умолчанию и пользователей по умолчанию также отображаются здесь, если у вас есть права доступа администратора.</span><span class="sxs-lookup"><span data-stu-id="7a9fd-143">The image files for the default Guest and default User accounts also appear here if you have Administrator access rights.</span></span>

> [!Note]  
> <span data-ttu-id="7a9fd-144">Доступ к вложенной странице **Управление учетными записями** осуществляется через ссылку **Управление другой учетной записью** в элементе панели управления **учетные записи пользователей** .</span><span class="sxs-lookup"><span data-stu-id="7a9fd-144">The **Manage Accounts** subpage is accessed through the **Manage another account** link in the **User Accounts** Control Panel item.</span></span>

 

-   <span data-ttu-id="7a9fd-145">% Папка ProgramData% \\ \\ изображений учетной записи пользователя Майкрософт \\Guest.bmp</span><span class="sxs-lookup"><span data-stu-id="7a9fd-145">%ProgramData%\\Microsoft\\User Account Pictures\\Guest.bmp</span></span>
-   <span data-ttu-id="7a9fd-146">% Папка ProgramData% \\ \\ изображений учетной записи пользователя Майкрософт \\User.bmp</span><span class="sxs-lookup"><span data-stu-id="7a9fd-146">%ProgramData%\\Microsoft\\User Account Pictures\\User.bmp</span></span>

<span data-ttu-id="7a9fd-147">Изображение плитки пользователя хранится в папке% systemdrive% \\ Users \\ <username> \\ AppData \\ Local TEMP в \\ формате <username> . bmp.</span><span class="sxs-lookup"><span data-stu-id="7a9fd-147">The user's tile image is stored in the %SystemDrive%\\Users\\<username>\\AppData\\Local\\Temp folder as <username>.bmp.</span></span> <span data-ttu-id="7a9fd-148">Символы косой черты ( \\ ) преобразуются в знаки плюса (+).</span><span class="sxs-lookup"><span data-stu-id="7a9fd-148">Any slash characters (\\) are converted to plus sign characters (+).</span></span> <span data-ttu-id="7a9fd-149">Например, пользователь домена \\ преобразуется в домен и пользователь.</span><span class="sxs-lookup"><span data-stu-id="7a9fd-149">For example, DOMAIN\\user is converted to DOMAIN+user.</span></span>

<span data-ttu-id="7a9fd-150">Файл изображения появится во **временной** папке пользователя:</span><span class="sxs-lookup"><span data-stu-id="7a9fd-150">The image file appears in the user's **Temp** folder:</span></span>

-   <span data-ttu-id="7a9fd-151">После того, как пользователь завершит начальную настройку системы (OOBE).</span><span class="sxs-lookup"><span data-stu-id="7a9fd-151">After the user completes the initial system setup (OOBE).</span></span>
-   <span data-ttu-id="7a9fd-152">Когда пользователь впервые запускает элемент панели управления **учетные записи пользователей** .</span><span class="sxs-lookup"><span data-stu-id="7a9fd-152">When the user first launches the **User Accounts** Control Panel item.</span></span>
-   <span data-ttu-id="7a9fd-153">Когда пользователь переходит на подстраницу **Управление учетными записями** элемента панели управления **учетные записи пользователей** .</span><span class="sxs-lookup"><span data-stu-id="7a9fd-153">When the user goes to the **Manage Accounts** subpage of the **User Accounts** Control Panel item.</span></span> <span data-ttu-id="7a9fd-154">Кроме того, отображаются плитки для всех остальных пользователей компьютера.</span><span class="sxs-lookup"><span data-stu-id="7a9fd-154">In addition, tiles for all other users on the computer are shown.</span></span>

<span data-ttu-id="7a9fd-155">Эти экземпляры являются единственным временем создания или обновления образов.</span><span class="sxs-lookup"><span data-stu-id="7a9fd-155">Those instances are the only times that the images are created or updated.</span></span> <span data-ttu-id="7a9fd-156">Поэтому существует несколько моментов, которые следует учитывать при использовании расположения **временной** папки программным способом.</span><span class="sxs-lookup"><span data-stu-id="7a9fd-156">Therefore, there are several caveats to keep in mind when using the **Temp** folder location programmatically:</span></span>

1.  <span data-ttu-id="7a9fd-157">Плитка пользователя не гарантируется.</span><span class="sxs-lookup"><span data-stu-id="7a9fd-157">The user's tile is not guaranteed to be present.</span></span> <span data-ttu-id="7a9fd-158">Если пользователь удаляет BMP-файл, например вручную или с помощью программы, которая удаляет временные файлы, эта плитка пользователя не создается автоматически, пока пользователь не запустит подстраницу элемента панели управления учетные записи **пользователя** или **Управление учетными записями** .</span><span class="sxs-lookup"><span data-stu-id="7a9fd-158">If the user deletes the .bmp file, for instance manually or through a utility that deletes temporary files, that user tile is not automatically recreated until the user launches the **User Accounts** Control Panel item or **Manage Accounts** subpage.</span></span>

2.  <span data-ttu-id="7a9fd-159">Пользовательские плитки для других пользователей компьютера могут отсутствовать в папке **TEMP** пользователя, вошедшего в систему.</span><span class="sxs-lookup"><span data-stu-id="7a9fd-159">User tiles for other users on the computer might not be present in the currently logged-on user's **Temp** folder.</span></span> <span data-ttu-id="7a9fd-160">Например, если пользователь A создает пользователя B с помощью элемента панели управления **учетные записи пользователей** , то плитка пользователя б создается во **временной** папке пользователя а, когда Windows отправляет пользователя на вложенную страницу **Управление учетными записями** .</span><span class="sxs-lookup"><span data-stu-id="7a9fd-160">For example, if User A creates User B through the **User Accounts** Control Panel item, User B's tile is created in User A's **Temp** folder when Windows sends User A to the **Manage Accounts** subpage.</span></span> <span data-ttu-id="7a9fd-161">Так как структура каталогов не создается для пользователя б до тех пор, пока пользователь не войдет в систему, то единственным расположением, где хранится плитка пользователя б, является **временная** папка пользователя A.</span><span class="sxs-lookup"><span data-stu-id="7a9fd-161">Because the directory structure is not created for User B until he or she logs on, User A's **Temp** folder is the only location that User B's tile is stored.</span></span> <span data-ttu-id="7a9fd-162">Когда пользователь б входит в систему, единственный образ, хранящийся в папке User B **TEMP** , сам является его владельцем.</span><span class="sxs-lookup"><span data-stu-id="7a9fd-162">When User B logs on, the only image stored in User B's **Temp** folder is his or her own.</span></span>

    1.  <span data-ttu-id="7a9fd-163">Чтобы получить все плитки пользователей в системе, приложениям может потребоваться выполнить поиск во **временном** каталоге каждого пользователя.</span><span class="sxs-lookup"><span data-stu-id="7a9fd-163">To get all user tiles for users on a system, applications might need to search in each user's **Temp** directory.</span></span>
    2.  <span data-ttu-id="7a9fd-164">Так как список управления доступом (ACL) для этих **временных** каталогов предоставляет доступ к системе, администратору и текущему пользователю, приложениям необходимо повысить уровень доступа для других пользователей.</span><span class="sxs-lookup"><span data-stu-id="7a9fd-164">Because the access control list (ACL) of these **Temp** directories allows access to SYSTEM, Administrator, and the current user, applications need to elevate to access for other users.</span></span>

3.  <span data-ttu-id="7a9fd-165">В **временных** папках не гарантируется актуальность плиток пользователей.</span><span class="sxs-lookup"><span data-stu-id="7a9fd-165">Other users' tiles are not guaranteed to be up-to-date in their **Temp** folders.</span></span> <span data-ttu-id="7a9fd-166">Если пользователь б обновляет плитку пользователя, пользователь а не увидит изменения, пока пользователь A не получит доступ к подстранице **Управление учетными записями** .</span><span class="sxs-lookup"><span data-stu-id="7a9fd-166">If User B updates his or her user tile, User A will not see the change until User A accesses the **Manage Accounts** subpage.</span></span> <span data-ttu-id="7a9fd-167">Поэтому, если приложения используют **временную** папку пользователя а для получения плитки пользователя б, эти приложения могут получить устаревшую версию файла образа.</span><span class="sxs-lookup"><span data-stu-id="7a9fd-167">Therefore, if applications use User A's **Temp** folder to obtain User B's tile, those applications can get an out-of-date image file.</span></span>

## <a name="related-topics"></a><span data-ttu-id="7a9fd-168">См. также</span><span class="sxs-lookup"><span data-stu-id="7a9fd-168">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="7a9fd-169">Профили локальных пользователей</span><span class="sxs-lookup"><span data-stu-id="7a9fd-169">Local User Profiles</span></span>](local-user-profiles.md)
</dt> <dt>

[<span data-ttu-id="7a9fd-170">Проверка перемещаемых профилей пользователей</span><span class="sxs-lookup"><span data-stu-id="7a9fd-170">Roaming User Profiles</span></span>](roaming-user-profiles.md)
</dt> <dt>

[<span data-ttu-id="7a9fd-171">Обязательные профили пользователей</span><span class="sxs-lookup"><span data-stu-id="7a9fd-171">Mandatory User Profiles</span></span>](mandatory-user-profiles.md)
</dt> <dt>

[<span data-ttu-id="7a9fd-172">Временные профили пользователей</span><span class="sxs-lookup"><span data-stu-id="7a9fd-172">Temporary User Profiles</span></span>](temporary-user-profiles.md)
</dt> <dt>

[<span data-ttu-id="7a9fd-173">Каталог профилей</span><span class="sxs-lookup"><span data-stu-id="7a9fd-173">Profiles Directory</span></span>](profiles-directory.md)
</dt> <dt>

[<span data-ttu-id="7a9fd-174">Переменные среды пользователя</span><span class="sxs-lookup"><span data-stu-id="7a9fd-174">User Environment Variables</span></span>](user-environment-variables.md)
</dt> <dt>

[<span data-ttu-id="7a9fd-175">Быстрое переключение пользователей</span><span class="sxs-lookup"><span data-stu-id="7a9fd-175">Fast User Switching</span></span>](fast-user-switching.md)
</dt> </dl>

 

 



