---
description: Содержит обзор изменений, внесенных в родительский элемент управления Windows, появившийся в Windows 7.
ms.assetid: 5723fddd-52e2-46a1-a48f-647d479b21d9
title: Новые возможности родительского контроля в Windows 7
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 8282021c81ee8611fb7206d75f7e6aab48ebf2e7
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "105719584"
---
# <a name="whats-new-in-windows-7-parental-controls"></a><span data-ttu-id="3f89d-103">Новые возможности родительского контроля в Windows 7</span><span class="sxs-lookup"><span data-stu-id="3f89d-103">What's New in Windows 7 Parental Controls</span></span>

## <a name="overview-of-parental-controls-changes-for-windows-7"></a><span data-ttu-id="3f89d-104">Общие сведения об изменениях родительского контроля в Windows 7</span><span class="sxs-lookup"><span data-stu-id="3f89d-104">Overview of Parental Controls Changes for Windows 7</span></span>

<span data-ttu-id="3f89d-105">В этом документе представлены общие сведения об изменениях, внесенных в родительский элемент управления Windows, появившихся в Windows 7, и о том, как предоставить сторонним поставщикам решений родительского контроля использовать эти изменения.</span><span class="sxs-lookup"><span data-stu-id="3f89d-105">The purpose of this document is to give an overview of the changes to the Windows Parental Controls introduced in Windows 7 and to enable third-party parental control solution providers to take advantage of these changes.</span></span> <span data-ttu-id="3f89d-106">В этом документе предполагается, что читатель знаком с родительскими элементами управления для Windows Vista и отражает только изменения, внесенные в эту функцию в Windows 7, которые относятся к разработке сторонних решений для управления родительскими решениями.</span><span class="sxs-lookup"><span data-stu-id="3f89d-106">This document assumes readers' familiarity with Parental Controls for Windows Vista and will only reflect changes made to this functionality in Windows 7 that are relevant for third-party parental control solutions development.</span></span> <span data-ttu-id="3f89d-107">Полное обновление документации по службе родительского контроля MSDN Windows будет следовать за более поздней датой.</span><span class="sxs-lookup"><span data-stu-id="3f89d-107">A full update of MSDN Windows Parental Control documentation will follow at a later date.</span></span>

## <a name="key-design-decisions-for-windows-7-parental-control-changes"></a><span data-ttu-id="3f89d-108">Основные решения по проектированию изменений родительского контроля в Windows 7</span><span class="sxs-lookup"><span data-stu-id="3f89d-108">Key Design Decisions for Windows 7 Parental Control Changes</span></span>

<span data-ttu-id="3f89d-109">Изменения, внесенные в родительские элементы управления, появившиеся в Windows 7, продолжают задачу повышения сосуществования сторонних сторонних решений для родительского контроля с помощью встроенной функциональности.</span><span class="sxs-lookup"><span data-stu-id="3f89d-109">Changes to Parental Controls introduced in Windows 7 continue the overarching goal of promoting third-party parental control solutions' coexistence with the in-box functionality.</span></span> <span data-ttu-id="3f89d-110">К этим дополнительным действиям относятся:</span><span class="sxs-lookup"><span data-stu-id="3f89d-110">The changes are:</span></span>

-   <span data-ttu-id="3f89d-111">Удаление веб-фильтрации и отчетов о действиях из встроенных функций родительского контроля.</span><span class="sxs-lookup"><span data-stu-id="3f89d-111">Removal of web filtering and activity reporting from the in-box parental controls functionality.</span></span> <span data-ttu-id="3f89d-112">Встроенные функции родительского контроля предоставляют базовые ограничения, реализуемые корпорацией Майкрософт в автономном режиме, такие как ограничения времени, ограничения приложений и ограничения игры.</span><span class="sxs-lookup"><span data-stu-id="3f89d-112">The in-box parental controls provide core offline Microsoft-implemented restrictions such as time limits, application restrictions, and game restrictions.</span></span> <span data-ttu-id="3f89d-113">Веб-фильтрация, отчеты о действиях и другие функциональные возможности могут предоставляться корпорацией Майкрософт или сторонними решениями для родительского контроля.</span><span class="sxs-lookup"><span data-stu-id="3f89d-113">The web filtering, activity reporting, and other functionality can be provided by Microsoft or third-party parental control solutions.</span></span> <span data-ttu-id="3f89d-114">Например, решение "безопасность семейства Windows Live" обеспечивает фильтрацию веб-страниц, удаленное управление и мониторинг активности, а также управление контактами для всех приложений Windows Live.</span><span class="sxs-lookup"><span data-stu-id="3f89d-114">For example, Windows Live Family Safety solution provides web filtering, remote management, and activity monitoring, as well as contact management for all Windows Live applications.</span></span>
-   <span data-ttu-id="3f89d-115">Включение сторонних решений для замены пользовательского интерфейса конфигурации поставщика в рамке и по-прежнему полагается на встроенную реализацию ограничений времени, приложений и игр.</span><span class="sxs-lookup"><span data-stu-id="3f89d-115">Enabling third-party solutions to replace the in-box provider's configuration user interface while still relying on the in-box implementation of time, application, and game restrictions.</span></span>
-   <span data-ttu-id="3f89d-116">Включение обнаружения и включения сторонних решений на компьютере с помощью родительского или опекуна (учетная запись администратора).</span><span class="sxs-lookup"><span data-stu-id="3f89d-116">Enabling third-party solutions to be discovered and enabled on the computer by a parent or guardian (administrator account).</span></span>

## <a name="parental-controls-top-level-user-interface-changes-in-windows-7"></a><span data-ttu-id="3f89d-117">Родительский контроль изменений пользовательского интерфейса верхнего уровня в Windows 7</span><span class="sxs-lookup"><span data-stu-id="3f89d-117">Parental Controls Top-level User Interface Changes in Windows 7</span></span>

<span data-ttu-id="3f89d-118">В Windows 7 внесены следующие изменения в пользовательский интерфейс верхнего уровня на панели управления родительского элемента управления.</span><span class="sxs-lookup"><span data-stu-id="3f89d-118">Windows 7 brings the following changes to the Parental Controls Control Panel top-level user interface:</span></span>

-   <span data-ttu-id="3f89d-119">В разделе Дополнительные элементы управления представлено, где элементы управления, предоставляющие дополнительные функциональные возможности, такие как веб-фильтрация, отчеты о действиях и т. д., можно выбрать из раскрывающегося списка.</span><span class="sxs-lookup"><span data-stu-id="3f89d-119">The Additional controls section is introduced where controls that provide additional functionality such as web filtering, activity reporting, and so on, can be selected from a drop down list box.</span></span> <span data-ttu-id="3f89d-120">Корпорация Майкрософт или сторонние поставщики должны зарегистрировать свои решения с помощью родительского контроля Windows 7, чтобы их можно было выбрать из раскрывающегося списка дополнительных элементов управления.</span><span class="sxs-lookup"><span data-stu-id="3f89d-120">Microsoft or third-party providers need to register their solutions with Windows 7 Parental Controls for them to be selectable from the Additional controls drop down list box.</span></span> <span data-ttu-id="3f89d-121">Сведения о регистрации решения см. в разделе Регистрация поставщика далее в этом разделе.</span><span class="sxs-lookup"><span data-stu-id="3f89d-121">For information about registering a solution, see Provider Registration, later in this topic).</span></span>
-   <span data-ttu-id="3f89d-122">Изображение логотипа выбранного в данный момент поставщика отображается в правом верхнем углу страницы.</span><span class="sxs-lookup"><span data-stu-id="3f89d-122">The logo image of the currently selected provider is displayed in the upper-right corner of the page.</span></span>
-   <span data-ttu-id="3f89d-123">Плитки управляемого пользователя могут отображать сводку параметров родительского объекта, предоставленных текущим выбранным поставщиком.</span><span class="sxs-lookup"><span data-stu-id="3f89d-123">The managed user tiles can display a summary of the parental settings provided by the currently selected provider.</span></span>

<span data-ttu-id="3f89d-124">Выбранный в настоящее время поставщик может использовать собственный пользовательский интерфейс для экранов пользовательских элементов управления для управляемых пользователей или воспользоваться встроенной реализацией WPC этого экрана.</span><span class="sxs-lookup"><span data-stu-id="3f89d-124">The currently selected provider might choose to use its own user interface for User Control screens for the managed users, or it might select to rely on the in-box WPC implementation of this screen.</span></span> <span data-ttu-id="3f89d-125">Встроенная реализация имеет следующие изменения, внесенные в элементы:</span><span class="sxs-lookup"><span data-stu-id="3f89d-125">In-box implementation has the following changes made to its elements:</span></span>

-   <span data-ttu-id="3f89d-126">Удаляется раздел отчеты о действиях.</span><span class="sxs-lookup"><span data-stu-id="3f89d-126">The activity reporting section is removed.</span></span>
-   <span data-ttu-id="3f89d-127">Ссылка для просмотра отчетов о действиях удаляется.</span><span class="sxs-lookup"><span data-stu-id="3f89d-127">The link to view activity reports is removed.</span></span>

## <a name="parental-controls-api-overview-windows-7-changes"></a><span data-ttu-id="3f89d-128">Общие сведения об API родительского контроля: изменения в Windows 7</span><span class="sxs-lookup"><span data-stu-id="3f89d-128">Parental Controls API Overview: Windows 7 Changes</span></span>

<span data-ttu-id="3f89d-129">Механизм интеграции для сторонних поставщиков решений был расширен и позволяет:</span><span class="sxs-lookup"><span data-stu-id="3f89d-129">The integration mechanism for third-party solution providers was expanded to allow:</span></span>

-   <span data-ttu-id="3f89d-130">Регистрация поставщика.</span><span class="sxs-lookup"><span data-stu-id="3f89d-130">Provider registration.</span></span> <span data-ttu-id="3f89d-131">После регистрации поставщик станет доступен для выбора в раскрывающемся списке дополнительные элементы управления на экране панели управления родительского элемента управления.</span><span class="sxs-lookup"><span data-stu-id="3f89d-131">Upon registration, a provider becomes selectable in the Additional controls drop-down list box on the Parental Controls Control Panel screen.</span></span>
-   <span data-ttu-id="3f89d-132">Выполняется запрос для выбранного поставщика.</span><span class="sxs-lookup"><span data-stu-id="3f89d-132">Querying for the currently selected provider.</span></span> <span data-ttu-id="3f89d-133">Для реализации этой функции предоставляется открытый COM-интерфейс.</span><span class="sxs-lookup"><span data-stu-id="3f89d-133">A public COM interface is exposed to enable this functionality.</span></span>
-   <span data-ttu-id="3f89d-134">Кроме того, New — это набор COM-интерфейсов, реализуемых поставщиками для разрешения:</span><span class="sxs-lookup"><span data-stu-id="3f89d-134">Also new is the set of COM interfaces to be implemented by the providers to allow:</span></span>
    -   <span data-ttu-id="3f89d-135">Включение или отключение поставщика с помощью WPC при выборе дополнительных элементов управления пользователем.</span><span class="sxs-lookup"><span data-stu-id="3f89d-135">Enabling or disabling of the provider by WPC upon user selection of additional controls.</span></span>
    -   <span data-ttu-id="3f89d-136">WPC передавать управление поставщику для настройки параметров родительского контроля пользователя.</span><span class="sxs-lookup"><span data-stu-id="3f89d-136">WPC to pass control to the provider to configure managed user's parental control settings.</span></span>
    -   <span data-ttu-id="3f89d-137">WPC, чтобы запросить у поставщика сводку по параметрам родительского контроля пользователя.</span><span class="sxs-lookup"><span data-stu-id="3f89d-137">WPC to query the provider for the summary of managed user's parental control settings.</span></span>

## <a name="third-party-provider-integration"></a><span data-ttu-id="3f89d-138">Интеграция стороннего поставщика</span><span class="sxs-lookup"><span data-stu-id="3f89d-138">Third-party Provider Integration</span></span>

### <a name="provider-registration"></a><span data-ttu-id="3f89d-139">Регистрация поставщика</span><span class="sxs-lookup"><span data-stu-id="3f89d-139">Provider Registration</span></span>

<span data-ttu-id="3f89d-140">Чтобы зарегистрировать нового поставщика с помощью родительского контроля, необходимо записать значение реестра в ключ поставщиков родительского контроля Windows.</span><span class="sxs-lookup"><span data-stu-id="3f89d-140">To register a new provider with Parental Controls, a registry value must be written to the Providers key of Windows Parental Controls.</span></span> <span data-ttu-id="3f89d-141">Имя значения — это уникальный идентификатор GUID, используемый для распознавания поставщика.</span><span class="sxs-lookup"><span data-stu-id="3f89d-141">The value name is a unique GUID that is used to identify the provider.</span></span> <span data-ttu-id="3f89d-142">Значение данных будет представлять собой путь к разделу реестра на **\_ локальном \_ компьютере hKey** , содержащем сведения о поставщике.</span><span class="sxs-lookup"><span data-stu-id="3f89d-142">The value data will be a path to a registry key in **HKEY\_LOCAL\_MACHINE** that contains provider information.</span></span>

```
HKEY_LOCAL_MACHINE
   SOFTWARE
      Microsoft
         Windows
            CurrentVersion
               Parental Controls
                  Providers
                     {45D63315-0824-4df4-B8A4-EF137D8810D1} = SOFTWARE\Microsoft\Family Safety\WPC\
```

<span data-ttu-id="3f89d-143">В указанном расположении раздела реестра должны быть указаны следующие значения.</span><span class="sxs-lookup"><span data-stu-id="3f89d-143">At the registry key location specified, the following values are expected.</span></span>



| <span data-ttu-id="3f89d-144">Термин</span><span class="sxs-lookup"><span data-stu-id="3f89d-144">Term</span></span>                                                                                                                 | <span data-ttu-id="3f89d-145">Описание</span><span class="sxs-lookup"><span data-stu-id="3f89d-145">Description</span></span>                                                                                                                                                                                             |
|----------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="3f89d-146"><span id="LogoImage"></span><span id="logoimage"></span><span id="LOGOIMAGE"></span>**логоимаже**</span><span class="sxs-lookup"><span data-stu-id="3f89d-146"><span id="LogoImage"></span><span id="logoimage"></span><span id="LOGOIMAGE"></span>**LogoImage**</span></span><br/>         | <span data-ttu-id="3f89d-147">Полный путь к двоичному ресурсу с отрицательным ИДЕНТИФИКАТОРом ресурса для изображения логотипа поставщика (хранится в виде **\_ растрового** изображения).</span><span class="sxs-lookup"><span data-stu-id="3f89d-147">A fully qualified path to a resource binary with a negative resource ID for the provider logo image (stored as an **IMAGE\_BITMAP**).</span></span><br/>                                                        |
| <span data-ttu-id="3f89d-148"><span id="DisplayName"></span><span id="displayname"></span><span id="DISPLAYNAME"></span>**DisplayName**</span><span class="sxs-lookup"><span data-stu-id="3f89d-148"><span id="DisplayName"></span><span id="displayname"></span><span id="DISPLAYNAME"></span>**DisplayName**</span></span><br/> | <span data-ttu-id="3f89d-149">Полный путь к двоичному файлу ресурса с отрицательным ИДЕНТИФИКАТОРом ресурса для имени поставщика.</span><span class="sxs-lookup"><span data-stu-id="3f89d-149">A fully qualified path to a resource binary with a negative resource ID for the provider name.</span></span> <span data-ttu-id="3f89d-150">Длина **DisplayName** не должна превышать 50 символов.</span><span class="sxs-lookup"><span data-stu-id="3f89d-150">**DisplayName** length should not exceed 50 characters.</span></span><br/>                                       |
| <span data-ttu-id="3f89d-151"><span id="Description"></span><span id="description"></span><span id="DESCRIPTION"></span>**Nописание**</span><span class="sxs-lookup"><span data-stu-id="3f89d-151"><span id="Description"></span><span id="description"></span><span id="DESCRIPTION"></span>**Description**</span></span><br/> | <span data-ttu-id="3f89d-152">Полный путь к двоичному файлу ресурса с отрицательным ИДЕНТИФИКАТОРом ресурса для описания поставщика.</span><span class="sxs-lookup"><span data-stu-id="3f89d-152">A fully qualified path to a resource binary with a negative resource ID for the provider description.</span></span> <span data-ttu-id="3f89d-153">Длина описания не должна превышать 200 символов.</span><span class="sxs-lookup"><span data-stu-id="3f89d-153">The description length should not exceed 200 characters.</span></span><br/>                               |
| <span data-ttu-id="3f89d-154"><span id="StateCLSID"></span><span id="stateclsid"></span><span id="STATECLSID"></span>**статеклсид**</span><span class="sxs-lookup"><span data-stu-id="3f89d-154"><span id="StateCLSID"></span><span id="stateclsid"></span><span id="STATECLSID"></span>**StateCLSID**</span></span><br/>     | <span data-ttu-id="3f89d-155">Идентификатор класса поставщика, реализующего Ивпкпровидерстате.</span><span class="sxs-lookup"><span data-stu-id="3f89d-155">The class ID of the provider's class which implements IWPCProviderState.</span></span><br/>                                                                                                                     |
| <span data-ttu-id="3f89d-156"><span id="ConfigCLSID"></span><span id="configclsid"></span><span id="CONFIGCLSID"></span>**конфигклсид**</span><span class="sxs-lookup"><span data-stu-id="3f89d-156"><span id="ConfigCLSID"></span><span id="configclsid"></span><span id="CONFIGCLSID"></span>**ConfigCLSID**</span></span><br/> | <span data-ttu-id="3f89d-157">Идентификатор класса поставщика, который реализует Ивпкпровидерконфиг.</span><span class="sxs-lookup"><span data-stu-id="3f89d-157">The class ID of the provider's class, which implements IWPCProviderConfig.</span></span> <span data-ttu-id="3f89d-158">**Статеклсид** и **конфигклсид** могут быть одинаковыми.</span><span class="sxs-lookup"><span data-stu-id="3f89d-158">**StateCLSID** and **ConfigCLSID** can be the same.</span></span><br/>                                                               |
| <span data-ttu-id="3f89d-159"><span id="GRSVisible"></span><span id="grsvisible"></span><span id="GRSVISIBLE"></span>**грсвисибле**</span><span class="sxs-lookup"><span data-stu-id="3f89d-159"><span id="GRSVisible"></span><span id="grsvisible"></span><span id="GRSVISIBLE"></span>**GRSVisible**</span></span><br/>     | <span data-ttu-id="3f89d-160">Необязательное ненулевое значение **типа DWORD** , которое указывает, что функция родительского контроля Windows отображает ссылку на экран системы оценки игр после выбора поставщика в качестве нового текущего поставщика.</span><span class="sxs-lookup"><span data-stu-id="3f89d-160">An optional **DWORD** nonzero value that specifies that Windows Parental Controls displays a link to the Game Rating System screen after a provider is selected as the new current provider.</span></span><br/> |



 

```
HKEY_LOCAL_MACHINE
   SOFTWARE
      Microsoft
         Family Safety
            WPC
               LogoImage = C:\Program Files\Windows Live\Family Safety\fssui.rll,-40001
               DisplayName = C:\Program Files\Windows Live\Family Safety\fssui.rll,-40002
               Description = C:\Program Files\Windows Live\Family Safety\fssui.rll,-40003
               StateCLSID = {B4BAAE4D-3D86-4fa9-86F0-CF82C94D8A6A}
               ConfigCLSID = {B4BAAE4D-3D86-4fa9-86F0-CF82C94D8A6A}
               GRSVisible = 0x00000001 (1)
```

<span data-ttu-id="3f89d-161">Панель управления "родительский контроль" использует **логоимаже**, **DisplayName** и **Description** для изменения главной страницы панели управления родительского элемента управления при выборе этого поставщика.</span><span class="sxs-lookup"><span data-stu-id="3f89d-161">The Parental Controls Control Panel uses the **LogoImage**, **DisplayName**, and **Description** to change the main page of the Parental Controls Control Panel when that provider is selected.</span></span> <span data-ttu-id="3f89d-162">Значение **статеклсид** используется при включении или отключении поставщика.</span><span class="sxs-lookup"><span data-stu-id="3f89d-162">The **StateCLSID** value is used when the provider is enabled or disabled.</span></span> <span data-ttu-id="3f89d-163">Значение **конфигклсид** используется, когда пользовательский интерфейс получает динамическую информацию о каждом пользователе (это происходит только в том случае, если в данный момент выбран поставщик).</span><span class="sxs-lookup"><span data-stu-id="3f89d-163">The **ConfigCLSID** value is used when the user interface gets dynamic information about each user (this is only the case if the provider is currently selected).</span></span>

 

 




