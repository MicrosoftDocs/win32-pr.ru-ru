---
description: Использование API параметров родительского контроля
ms.assetid: 77a239e9-1cec-4710-b673-7d0cebd502e9
title: Использование API параметров родительского контроля
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 1dde4827dfe3ed5ee7eec6787744e6ff92f18775
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "103815361"
---
# <a name="using-parental-controls-settings-apis"></a><span data-ttu-id="ea2ce-103">Использование API параметров родительского контроля</span><span class="sxs-lookup"><span data-stu-id="ea2ce-103">Using Parental Controls Settings APIs</span></span>

<span data-ttu-id="ea2ce-104">Параметры обсуждаются перед ведением журнала, так как ведение журнала выполняется в соответствии с параметрами пользователя.</span><span class="sxs-lookup"><span data-stu-id="ea2ce-104">Settings are discussed ahead of logging because logging is conditional on the user's settings.</span></span>

## <a name="wmi-api-settings-writeread"></a><span data-ttu-id="ea2ce-105">Параметры API WMI: запись и чтение</span><span class="sxs-lookup"><span data-stu-id="ea2ce-105">WMI API Settings Write/Read</span></span>

<span data-ttu-id="ea2ce-106">API инструментария WMI предоставляет неабстрактный (необработанный) доступ ко всем параметрам, созданным с помощью инфраструктуры родительского контроля, как определено в файле схемы Впкспров. mof.</span><span class="sxs-lookup"><span data-stu-id="ea2ce-106">The WMI API provides non-abstracted (raw) access to all settings instantiated by the Parental Controls infrastructure as defined in the Wpcsprov.mof schema file.</span></span> <span data-ttu-id="ea2ce-107">Хранилище параметров существует в \\ корневом \\ \\ пространстве имен CIMV2 Applications \\ виндовспаренталконтролс со следующими определениями классов, определяющими схему.</span><span class="sxs-lookup"><span data-stu-id="ea2ce-107">The settings store exists in the \\root\\CIMV2\\Applications\\WindowsParentalControls namespace, with the following class definitions defining a schema.</span></span> <span data-ttu-id="ea2ce-108">Отмечаются элементы расширяемости.</span><span class="sxs-lookup"><span data-stu-id="ea2ce-108">Extensibility elements are noted.</span></span>

<span data-ttu-id="ea2ce-109">На компьютер:</span><span class="sxs-lookup"><span data-stu-id="ea2ce-109">Per-computer:</span></span>

-   <span data-ttu-id="ea2ce-110">Впксистемсеттингс (один экземпляр)</span><span class="sxs-lookup"><span data-stu-id="ea2ce-110">WpcSystemSettings (one instance)</span></span>
    -   <span data-ttu-id="ea2ce-111">Методы AddUser () и Ремовеусер () для создания и удаления параметров родительского контроля для заданного идентификатора безопасности соответственно.</span><span class="sxs-lookup"><span data-stu-id="ea2ce-111">AddUser() and RemoveUser() methods to create and delete parental controls settings for a given SID, respectively.</span></span>
    -   <span data-ttu-id="ea2ce-112">Свойства текущей системы оценок игр в силе, отслеживание и уведомление, связанные с проверкой журналов администраторами.</span><span class="sxs-lookup"><span data-stu-id="ea2ce-112">Properties for current game ratings system in force, and tracking and notification related to admin checking of logs.</span></span>
    -   <span data-ttu-id="ea2ce-113">Расширяемость: свойства, доступные только для чтения и для чтения и записи HTTP-приложения и списки исключений URL для фильтрации содержимого, идентификатор переопределения для фильтра веб-содержимого и имя и идентификатор библиотеки ресурсов, а для пользовательского журнала — регистрационное число полей и имен заголовков.</span><span class="sxs-lookup"><span data-stu-id="ea2ce-113">Extensibility: Properties for read-only and read/write HTTP application and URL exemption lists for web content filtering, Web Content Filter override ID and name resource DLL path and ID, and custom log event number of fields and header name registration.</span></span>
-   <span data-ttu-id="ea2ce-114">Впкратингссистем (по одному экземпляру на каждую установленную систему оценок)</span><span class="sxs-lookup"><span data-stu-id="ea2ce-114">WpcRatingsSystem (one instance per each ratings system installed)</span></span>
    -   <span data-ttu-id="ea2ce-115">Впкратинг (один экземпляр на уровень рейтинга).</span><span class="sxs-lookup"><span data-stu-id="ea2ce-115">WpcRating (one instance per rating level).</span></span>
    -   <span data-ttu-id="ea2ce-116">Впкратингдескриптор (один экземпляр для дескриптора оценки).</span><span class="sxs-lookup"><span data-stu-id="ea2ce-116">WpcRatingDescriptor (one instance per rating descriptor).</span></span>
-   <span data-ttu-id="ea2ce-117">Расширяемость: Впцекстенсион (один экземпляр на каждую добавленную ссылку расширяемости панели родительского элемента управления).</span><span class="sxs-lookup"><span data-stu-id="ea2ce-117">Extensibility: WpcExtension (one instance per each Parental Controls Panel extensibility link added).</span></span>
    -   <span data-ttu-id="ea2ce-118">Свойства для GUID, подсистемы, идентификатора, пути к ресурсу изображения, путь к ресурсу изображения отключенного состояния, путь к исполняемому файлу, путь к DLL-файлу и идентификатор библиотеки ресурсов подзаголовка, путь к DLL-файлу субтитров и идентификатор.</span><span class="sxs-lookup"><span data-stu-id="ea2ce-118">Properties for GUID, subsystem, ID, image resource path, disabled state image resource path, executable path, display name resource DLL path and ID, subtitle resource DLL path and ID.</span></span>

<span data-ttu-id="ea2ce-119">Пользователь, контролируемый по:</span><span class="sxs-lookup"><span data-stu-id="ea2ce-119">Per-controlled user:</span></span>

-   <span data-ttu-id="ea2ce-120">Впкусерсеттингс (один экземпляр для одного управляемого пользователя)</span><span class="sxs-lookup"><span data-stu-id="ea2ce-120">WpcUserSettings (one instance per controlled user)</span></span>
    -   <span data-ttu-id="ea2ce-121">Свойства для идентификатора безопасности владельца, родительского контроля On/Off, флага включения и отключения, ограничения времени включения/отключения, флага включения/отключения и общих ограничений приложения.</span><span class="sxs-lookup"><span data-stu-id="ea2ce-121">Properties for owning SID, parental controls on/off flag, logging on/off flag, time limits on/off flag, overrides enabled flag, logon hours mask, and General Application Restrictions on/off flag.</span></span>
    -   <span data-ttu-id="ea2ce-122">В Windows 8 существующее свойство представляет первый полчаса для каждого часа.</span><span class="sxs-lookup"><span data-stu-id="ea2ce-122">In Windows 8 the existing property represents the first half-hour for each hour.</span></span> <span data-ttu-id="ea2ce-123">Для представления второй половины каждого часа было добавлено новое свойство в половину часа.</span><span class="sxs-lookup"><span data-stu-id="ea2ce-123">A new half-hour property has been added to represent the second half of each hour.</span></span> <span data-ttu-id="ea2ce-124">Было введено дополнительное новое свойство, представляющее дневную квоту времени.</span><span class="sxs-lookup"><span data-stu-id="ea2ce-124">An additional new property was introduced to represent daily time allowance.</span></span>

        <span data-ttu-id="ea2ce-125">**Windows 7 и Windows Vista:** Ограничения таймера поддерживают 1 час.</span><span class="sxs-lookup"><span data-stu-id="ea2ce-125">**Windows 7 and Windows Vista:** Timer restrictions supported 1 hour granularity.</span></span>

-   <span data-ttu-id="ea2ce-126">Впквебсеттингс (один экземпляр для одного управляемого пользователя)</span><span class="sxs-lookup"><span data-stu-id="ea2ce-126">WpcWebSettings (one instance per controlled user)</span></span>
    -   <span data-ttu-id="ea2ce-127">Свойства для владельца безопасности, флаг фильтрации вкл. выкл., уровень фильтра, флаг блокировки загрузки файлов, флаг блокировки сайтов без оценок.</span><span class="sxs-lookup"><span data-stu-id="ea2ce-127">Properties for owning SID, filter on/off flag, filter level, file downloads blocked flag, unrated sites blocked flag.</span></span>
-   <span data-ttu-id="ea2ce-128">Впкурловерриде (один экземпляр на URL-адрес явно разрешен или запрещен в списке переопределения URL-адресов, используемом в качестве списка разрешений/блокировок для фильтрации веб-содержимого)</span><span class="sxs-lookup"><span data-stu-id="ea2ce-128">WpcUrlOverride (one instance per URL explicitly allowed or denied in URL override list used as allow/block list for web content filtering)</span></span>
    -   <span data-ttu-id="ea2ce-129">Свойства идентификатора безопасности владельца, URL-адреса, затронутого, разрешенного или заблокированного состояния.</span><span class="sxs-lookup"><span data-stu-id="ea2ce-129">Properties for owning SID, URL affected, allowed/blocked state.</span></span>
-   <span data-ttu-id="ea2ce-130">Впкапповерриде (один экземпляр на путь, явно разрешенный в списке "Общие ограничения приложения" список переопределений приложений)</span><span class="sxs-lookup"><span data-stu-id="ea2ce-130">WpcAppOverride (one instance per path explicitly allowed in General Application Restrictions application override list)</span></span>
    -   <span data-ttu-id="ea2ce-131">Свойства для идентификатора безопасности владельца.</span><span class="sxs-lookup"><span data-stu-id="ea2ce-131">Properties for owning SID.</span></span> <span data-ttu-id="ea2ce-132">Идентификатор более безопасного правила, путь к приложению.</span><span class="sxs-lookup"><span data-stu-id="ea2ce-132">SAFER rule ID, path to application.</span></span>
-   <span data-ttu-id="ea2ce-133">Впкгамессеттингс (один экземпляр для одного управляемого пользователя)</span><span class="sxs-lookup"><span data-stu-id="ea2ce-133">WpcGamesSettings (one instance per controlled user)</span></span>
    -   <span data-ttu-id="ea2ce-134">Свойства для идентификатора SID владельца, флаг разрешенных игр, идентификатор GUID системы оценок для этих параметров, разрешить флаг игр без оценок, идентификатор максимальной допустимой оценки в текущей системе, коллекция запрещенных дескрипторов.</span><span class="sxs-lookup"><span data-stu-id="ea2ce-134">Properties for owning SID, games permitted flag, GUID of ratings system for these settings, allow unrated games flag, ID of maximum allowed rating under current system, collection of denied descriptors.</span></span>
-   <span data-ttu-id="ea2ce-135">Впкгамеоверриде (один экземпляр на идентификатор приложения явно разрешен или запрещен)</span><span class="sxs-lookup"><span data-stu-id="ea2ce-135">WpcGameOverride (one instance per application ID explicitly allowed or denied)</span></span>
    -   <span data-ttu-id="ea2ce-136">Свойства идентификатора безопасности владельца, идентификатора приложения, определяющего игру, состояние "разрешено/запрещено".</span><span class="sxs-lookup"><span data-stu-id="ea2ce-136">Properties for owning SID, application ID identifying game, allowed/denied state.</span></span>

## <a name="data-representation-notes"></a><span data-ttu-id="ea2ce-137">Примечания к представлению данных</span><span class="sxs-lookup"><span data-stu-id="ea2ce-137">Data Representation Notes</span></span>

<span data-ttu-id="ea2ce-138">Некоторые параметры в схеме ограничены MOF-файлом с атрибутом, отличным от \_ null.</span><span class="sxs-lookup"><span data-stu-id="ea2ce-138">Several of the settings within the schema are constrained by the .mof file with attribute non\_null.</span></span> <span data-ttu-id="ea2ce-139">Для них нельзя задать значение типа Variant null.</span><span class="sxs-lookup"><span data-stu-id="ea2ce-139">These cannot be set to a null variant.</span></span> <span data-ttu-id="ea2ce-140">Для всех типов, не являющихся массивами, код родительского элемента управления инициализирует значения.</span><span class="sxs-lookup"><span data-stu-id="ea2ce-140">For all non-array types, the Parental Controls code initializes values.</span></span> <span data-ttu-id="ea2ce-141">Для массивов пустые состояния могут быть записаны с помощью варианта null, пустого варианта или массива вариантов нулевого размера.</span><span class="sxs-lookup"><span data-stu-id="ea2ce-141">For arrays, empty states may be written by using a null variant, empty variant, or zero-sized variant array.</span></span> <span data-ttu-id="ea2ce-142">Поставщик WMI нормализует все эти значения до представления состояния типа Variant null при чтении.</span><span class="sxs-lookup"><span data-stu-id="ea2ce-142">The WMI provider will normalize all of these to a null variant state representation on read.</span></span>

## <a name="user-interface-extensibility-link-notes"></a><span data-ttu-id="ea2ce-143">Заметки по ссылке на расширяемость пользовательского интерфейса</span><span class="sxs-lookup"><span data-stu-id="ea2ce-143">User Interface Extensibility Link Notes</span></span>

<span data-ttu-id="ea2ce-144">Для регистрации ссылки на расширяемость пользовательского интерфейса с помощью инструментария WMI необходимо указать следующие сведения:</span><span class="sxs-lookup"><span data-stu-id="ea2ce-144">Using WMI to register a UI extensibility link requires specifying the following information:</span></span>

-   <span data-ttu-id="ea2ce-145">GUID — несколько ссылок могут совместно использовать один GUID, если они являются частью общего пакета или набора.</span><span class="sxs-lookup"><span data-stu-id="ea2ce-145">GUID - multiple links may share the same GUID if they are part of a common package or suite.</span></span>
-   <span data-ttu-id="ea2ce-146">Подсистема — предназначена для обозначения классификаций типов ссылок, таких как наборы или изолированные совместимые приложения.</span><span class="sxs-lookup"><span data-stu-id="ea2ce-146">Subsystem - intended to indicate classifications of link types, such as suites or standalone compliant applications</span></span>
-   <span data-ttu-id="ea2ce-147">Имя DLL-файла ресурсов и ИД — Указывает ресурс для отображаемого имени, отображаемого для ссылки.</span><span class="sxs-lookup"><span data-stu-id="ea2ce-147">Name resource DLL path and ID - specifies resource for display name to be displayed for the link.</span></span>
-   <span data-ttu-id="ea2ce-148">Путь и идентификатор DLL ресурса подзаголовка — Указывает ресурс для дополнительного текста под именем.</span><span class="sxs-lookup"><span data-stu-id="ea2ce-148">Subtitle resource DLL path and ID - specifies resource for additional text below the name.</span></span>
-   <span data-ttu-id="ea2ce-149">Путь к изображению — полный путь к точечному рисунку размером 24 × 24 пикселя (BMP) с глубиной цвета 8 бит на пиксель и предпочтительным альфа-каналом.</span><span class="sxs-lookup"><span data-stu-id="ea2ce-149">Image path - full path of a 24 × 24 pixel bitmap (BMP), with 8 bits-per-pixel color depth and preferably an alpha channel.</span></span> <span data-ttu-id="ea2ce-150">Это определяется способом, согласованным с расширениями оболочки: <file system path> , <negative resource ID> .</span><span class="sxs-lookup"><span data-stu-id="ea2ce-150">This is specified in a manner consistent with shell extensions: <file system path>,<negative resource ID>.</span></span> <span data-ttu-id="ea2ce-151">Например: C: \\ Windows \\ system32 \\Wpccpl.dll,-20.</span><span class="sxs-lookup"><span data-stu-id="ea2ce-151">As an example: C:\\Windows\\System32\\Wpccpl.dll,-20.</span></span>
-   <span data-ttu-id="ea2ce-152">Отключенный путь к изображению — то же, что и путь к изображению выше, за исключением варианта точечного рисунка с отключенным</span><span class="sxs-lookup"><span data-stu-id="ea2ce-152">Disabled image path - same as image path above, except variant of bitmap showing disabled state.</span></span> <span data-ttu-id="ea2ce-153">Это изображение отображается, когда родительский контроль отключен.</span><span class="sxs-lookup"><span data-stu-id="ea2ce-153">This image is shown when parental controls is off.</span></span>
-   <span data-ttu-id="ea2ce-154">Exe path — полный путь к исполняемому файлу, который вызывается с помощью ShellExecute ().</span><span class="sxs-lookup"><span data-stu-id="ea2ce-154">Exe path - full path to an executable to be invoked by using ShellExecute().</span></span> <span data-ttu-id="ea2ce-155">Этот путь должен быть указан с символами обратной косой черты, или ссылка не будет вызывать исполняемый файл.</span><span class="sxs-lookup"><span data-stu-id="ea2ce-155">This path must be specified with backslashes, or the link will not invoke the executable.</span></span> <span data-ttu-id="ea2ce-156">Добавление маркера% SID% после пути к исполняемому файлу приведет к тому, что будет заменяться строка идентификатора безопасности для пользователя, для которого в данный момент выполняется просмотр страницы концентратора.</span><span class="sxs-lookup"><span data-stu-id="ea2ce-156">Addition of a %SID% token after the exe path will result in the link execution substituting the SID string for the user for which the hub page is currently being viewed.</span></span> <span data-ttu-id="ea2ce-157">Затем исполняемый объект может использовать строку идентификатора безопасности для управления функциями указанного пользователя.</span><span class="sxs-lookup"><span data-stu-id="ea2ce-157">The executable may then use the SID string to manage functionality for the specified user.</span></span>

<span data-ttu-id="ea2ce-158">При удалении приложения должна быть удалена регистрация ссылки для расширения.</span><span class="sxs-lookup"><span data-stu-id="ea2ce-158">Application uninstallation must remove an extensibility link registration.</span></span>

## <a name="web-extensibility-link-and-web-content-filter-override-notes"></a><span data-ttu-id="ea2ce-159">Примечания по ссылке веб-расширяемости и переопределению фильтра веб-содержимого</span><span class="sxs-lookup"><span data-stu-id="ea2ce-159">Web Extensibility Link and Web Content Filter Override Notes</span></span>

<span data-ttu-id="ea2ce-160">Если задать для свойства Филтерид тот же GUID, что и существующая ссылка на расширяемость пользовательского интерфейса, отображаемая ссылка будет переноситься с универсальной ссылки в других параметрах на ссылку монопольные веб-ограничения.</span><span class="sxs-lookup"><span data-stu-id="ea2ce-160">By setting the FilterID property to the same GUID as an existing registered UI extensibility link, the link displayed will be promoted from a generic link in Other Settings to the exclusive Web Restrictions link.</span></span> <span data-ttu-id="ea2ce-161">Это параметр на уровне компьютера, и поэтому в встроенном фильтре веб-содержимого в Интернете будет пропускать фильтрацию для всех управляемых пользователей.</span><span class="sxs-lookup"><span data-stu-id="ea2ce-161">This is a computer-wide setting, and so will cause the in-box Web Content Filter LSP to bypass all filtering for all controlled users.</span></span> <span data-ttu-id="ea2ce-162">Описательное имя также должно быть задано в свойстве FilterName, которое указывается путем к библиотеке DLL и ИДЕНТИФИКАТОРу ресурса.</span><span class="sxs-lookup"><span data-stu-id="ea2ce-162">A descriptive name should also be set in the FilterName property, which is specified by a path to resource DLL and ID.</span></span>

<span data-ttu-id="ea2ce-163">Система родительского контроля рекомендует следующее из любого переопределяющего веб-фильтра:</span><span class="sxs-lookup"><span data-stu-id="ea2ce-163">The Parental Controls system recommends the following from any overriding web filter:</span></span>

-   <span data-ttu-id="ea2ce-164">Учитывается общее состояние родительского контроля для пользователя.</span><span class="sxs-lookup"><span data-stu-id="ea2ce-164">Honor the overall Parental Controls on/off state for a user.</span></span>
-   <span data-ttu-id="ea2ce-165">Соблюдайте параметры отчетов о действиях для пользователя.</span><span class="sxs-lookup"><span data-stu-id="ea2ce-165">Honor the Activity Reporting settings for a user.</span></span>
-   <span data-ttu-id="ea2ce-166">Наблюдение за свойством Филтерид.</span><span class="sxs-lookup"><span data-stu-id="ea2ce-166">Monitor the FilterID property.</span></span> <span data-ttu-id="ea2ce-167">Если он меняется с идентификатора GUID, указанного поставщиком, другой фильтр принимает владение, а фильтр поставщика должен отключить себя.</span><span class="sxs-lookup"><span data-stu-id="ea2ce-167">If it changes from the vendor's specified GUID, another filter has taken ownership and the vendor's filter should disable itself.</span></span> <span data-ttu-id="ea2ce-168">Добавлен COM-интерфейс для снижения издержек на периодическую проверку для этого изменения и вызова WMI.</span><span class="sxs-lookup"><span data-stu-id="ea2ce-168">A COM interface has been added to reduce the overhead of checking periodically for this change versus a WMI call.</span></span>
-   <span data-ttu-id="ea2ce-169">Настоятельно рекомендуется использовать как доступное только для чтения, так и чтение и запись HTTP-приложения и записи списка исключений URL-адресов.</span><span class="sxs-lookup"><span data-stu-id="ea2ce-169">Highly recommended to honor both the read-only and read/write HTTP application and URL exemption list entries.</span></span>
-   <span data-ttu-id="ea2ce-170">Рекомендуется учитывать список переопределений URL-адресов для каждого пользователя (список разрешений/блокировок).</span><span class="sxs-lookup"><span data-stu-id="ea2ce-170">Recommended to honor the per-user URL override list (allow/block list).</span></span>
-   <span data-ttu-id="ea2ce-171">Обеспечить надежность для быстрого переключения пользователей.</span><span class="sxs-lookup"><span data-stu-id="ea2ce-171">Be robust to fast user switching.</span></span>

<span data-ttu-id="ea2ce-172">Родительский контроль не помещает никаких ограничений на то, как веб-или другой фильтр содержимого подключается к Windows для реализации фильтрации.</span><span class="sxs-lookup"><span data-stu-id="ea2ce-172">Parental Controls does not place any limitations on how a web or other content filter plugs in to Windows for implementing filtering.</span></span> <span data-ttu-id="ea2ce-173">Поставщики могут использовать свои текущие инвестиции или предпочтительные технологии (LSP, TDI, Other).</span><span class="sxs-lookup"><span data-stu-id="ea2ce-173">Vendors may leverage their current investments or preferred technologies (LSP, TDI, other).</span></span>

<span data-ttu-id="ea2ce-174">При удалении фильтра поставщика необходимо отменить регистрацию записей Филтерид и FilterName.</span><span class="sxs-lookup"><span data-stu-id="ea2ce-174">Uninstallation of the vendor's filter must unregister the FilterID and FilterName entries.</span></span> <span data-ttu-id="ea2ce-175">Это выполняется путем установки Филтерид в значение GUID \_ null и filtername в вариант null.</span><span class="sxs-lookup"><span data-stu-id="ea2ce-175">This is performed by setting FilterID to GUID\_NULL and FilterName to a variant null.</span></span> <span data-ttu-id="ea2ce-176">После этого будет снова включен фильтр веб-содержимого в Интернете.</span><span class="sxs-lookup"><span data-stu-id="ea2ce-176">The in-box web content filter will then be re-enabled.</span></span>

<span data-ttu-id="ea2ce-177">Обратите внимание, что при повторном включении встроенного веб-фильтра будут фильтроваться только новые сеансы, а не сеансы, активные в перед параметром.</span><span class="sxs-lookup"><span data-stu-id="ea2ce-177">Note that re-enabling of the in-box web filter will only filter new sessions, and not sessions active from before the switch.</span></span>

## <a name="web-content-filter-allowblock-list-exportimport-format"></a><span data-ttu-id="ea2ce-178">Фильтр веб-содержимого: разрешить/блокировать список форматов экспорта и импорта</span><span class="sxs-lookup"><span data-stu-id="ea2ce-178">Web Content Filter Allow/Block List Export/Import Format</span></span>

<span data-ttu-id="ea2ce-179">Эта функция не поддерживается в Windows 8.</span><span class="sxs-lookup"><span data-stu-id="ea2ce-179">This feature is not supported on Windows 8.</span></span>

<span data-ttu-id="ea2ce-180">**Windows 7 и Windows Vista:** Эта функция поддерживается.</span><span class="sxs-lookup"><span data-stu-id="ea2ce-180">**Windows 7 and Windows Vista:** This feature is supported.</span></span>

<WebAddresses>

<URL AllowBlock="1">https://alloweddomain.com/</URL>

<URL AllowBlock="1">https://allowedurl.com/allowed/default.html</URL>

<URL AllowBlock="2">https://blockeddomain.com/</URL>

<URL AllowBlock="2">https://blockedurl.com/blocked/default.html</URL>

</WebAddresses>

## <a name="application-restrictions-override-notes"></a><span data-ttu-id="ea2ce-181">Заметки о переопределении ограничений приложения</span><span class="sxs-lookup"><span data-stu-id="ea2ce-181">Application Restrictions Override Notes</span></span>

<span data-ttu-id="ea2ce-182">Переопределения ограничений приложения задаются для каждого пользователя, чтобы разрешить определенные двоичные файлы или пути.</span><span class="sxs-lookup"><span data-stu-id="ea2ce-182">Application restrictions overrides are set on a per user basis to allow specific binaries or paths.</span></span> <span data-ttu-id="ea2ce-183">Если настроен новый пользователь, управляемый по своему усмотрению, и для этого пользователя требуются переопределения ограничений приложения, рекомендуется использовать в реестре раздел запуска Windows с небольшим приложением, помеченным как требующее повышения прав, для записи переопределений.</span><span class="sxs-lookup"><span data-stu-id="ea2ce-183">If a new parentally controlled user is configured and application restrictions overrides are needed for that user, it is recommended that the Windows Run key in the registry be used with a small application marked as requiring elevation deployed to write the overrides.</span></span> <span data-ttu-id="ea2ce-184">Это приведет к появлению запроса одноразовых учетных данных для настройки переопределений для пользователя, после чего целевые двоичные файлы для переопределений не будут неудобствомы пользователям из-за дальнейших запросов переопределения администратора.</span><span class="sxs-lookup"><span data-stu-id="ea2ce-184">This will result in a one-time credentials prompt to configure the overrides for the user, after which the target binaries for the overrides will not be a nuisance to users due to further administrator override prompts.</span></span>

## <a name="actions-required-for-settings-changes-to-become-effective"></a><span data-ttu-id="ea2ce-185">Действия, необходимые для изменения параметров, вступают в силу</span><span class="sxs-lookup"><span data-stu-id="ea2ce-185">Actions Required for Settings Changes to Become Effective</span></span>

<span data-ttu-id="ea2ce-186">Если администратор изменяет параметры стандартного пользователя, выполнившего вход, выдается предупреждающее сообщение.</span><span class="sxs-lookup"><span data-stu-id="ea2ce-186">If an Administrator changes settings for a logged-in standard user, a warning message is generated.</span></span> <span data-ttu-id="ea2ce-187">Он указывает, что изменения параметров могут не вступить в силу, пока контролируемый пользователь не выйдет из системы и снова войдет в систему.</span><span class="sxs-lookup"><span data-stu-id="ea2ce-187">It states the settings changes may not take effect until the controlled user logs out and back in again.</span></span> <span data-ttu-id="ea2ce-188">Это консервативный дизайн.</span><span class="sxs-lookup"><span data-stu-id="ea2ce-188">This is conservative design.</span></span> <span data-ttu-id="ea2ce-189">Большинство параметров вступят в силу почти сразу же, пока контролируемый пользователь вошел в систему.</span><span class="sxs-lookup"><span data-stu-id="ea2ce-189">Most settings will take effect nearly immediately while the controlled user is logged in.</span></span> <span data-ttu-id="ea2ce-190">Одно исключение — для игр, где параметры вступят в силу при следующем запуске обозревателя игр или при вызове игры.</span><span class="sxs-lookup"><span data-stu-id="ea2ce-190">One exception is for games, where settings will take effect the next time the Games Explorer is run or invoking the game is attempted.</span></span>

## <a name="sample-code"></a><span data-ttu-id="ea2ce-191">Пример кода</span><span class="sxs-lookup"><span data-stu-id="ea2ce-191">Sample code</span></span>

<span data-ttu-id="ea2ce-192">Примеры C++ приведены в пакете SDK, демонстрирующим использование функций расширяемости параметров.</span><span class="sxs-lookup"><span data-stu-id="ea2ce-192">C++ samples are provided in the SDK demonstrating use of the settings extensibility features.</span></span> <span data-ttu-id="ea2ce-193">См. раздел с примерами родительского контроля.</span><span class="sxs-lookup"><span data-stu-id="ea2ce-193">Please see the Parental Controls Samples section.</span></span>

## <a name="independent-test-tools"></a><span data-ttu-id="ea2ce-194">Независимые средства тестирования</span><span class="sxs-lookup"><span data-stu-id="ea2ce-194">Independent Test Tools</span></span>

<span data-ttu-id="ea2ce-195">Проверка классов и экземпляров упрощается с помощью подключаемого модуля wmimgmt. msc и средства Wbemtest.exe.</span><span class="sxs-lookup"><span data-stu-id="ea2ce-195">Inspection of classes and instances is facilitated by the Wmimgmt.msc plug-in and the Wbemtest.exe tool.</span></span>

## <a name="64-bit-considerations"></a><span data-ttu-id="ea2ce-196">64-разрядные замечания</span><span class="sxs-lookup"><span data-stu-id="ea2ce-196">64-Bit Considerations</span></span>

<span data-ttu-id="ea2ce-197">в 64-разрядных версиях операционных систем Windows в настоящее время установлен и 32-разрядный поставщик WMI, и 64-разрядный поставщик.</span><span class="sxs-lookup"><span data-stu-id="ea2ce-197">64-bit Windows operating system versions currently have both a 32-bit WMI provider and a 64-bit provider installed.</span></span>

## <a name="general-code-development-and-debugging"></a><span data-ttu-id="ea2ce-198">Общие сведения о разработке и отладке кода</span><span class="sxs-lookup"><span data-stu-id="ea2ce-198">General Code Development and Debugging</span></span>

<span data-ttu-id="ea2ce-199">Если Visual Studio используется для разработки кода управления параметрами, для локальной отладки потребуется запуск Visual Studio с правами администратора (вызов с помощью команды Запуск от имени администратора с использованием командной строки или щелчка правой кнопкой мыши).</span><span class="sxs-lookup"><span data-stu-id="ea2ce-199">If Visual Studio is used for settings management code development, local debugging will require running Visual Studio with administrator rights (invoking with Run as Administrator using command line or right-click option).</span></span> <span data-ttu-id="ea2ce-200">Это связано с изоляцией процессов и сообщений, реализованных функцией UAC.</span><span class="sxs-lookup"><span data-stu-id="ea2ce-200">This is due to process and message isolation implemented by UAC.</span></span>

## <a name="minimum-compliance-api-settings-read"></a><span data-ttu-id="ea2ce-201">Чтение минимальных параметров API соответствия</span><span class="sxs-lookup"><span data-stu-id="ea2ce-201">Minimum Compliance API Settings Read</span></span>

### <a name="interfaces-and-methods"></a><span data-ttu-id="ea2ce-202">Интерфейсы и методы</span><span class="sxs-lookup"><span data-stu-id="ea2ce-202">Interfaces and Methods</span></span>

<span data-ttu-id="ea2ce-203">API соответствия, управляемый файлом заголовка Впкапи. h, предоставляет упрощенный доступ только для чтения к следующим параметрам с помощью COM-интерфейсов.</span><span class="sxs-lookup"><span data-stu-id="ea2ce-203">The Compliance API controlled by header file Wpcapi.h provides simplified read-only access to the following settings by using COM interfaces.</span></span>

<span data-ttu-id="ea2ce-204">[**Ивиндовспаренталконтролс**](/windows/desktop/api/Wpcapi/nn-wpcapi-iwindowsparentalcontrols) методы корневого интерфейса предоставляют доступ к:</span><span class="sxs-lookup"><span data-stu-id="ea2ce-204">[**IWindowsParentalControls**](/windows/desktop/api/Wpcapi/nn-wpcapi-iwindowsparentalcontrols) root interface methods provide access to:</span></span>

-   <span data-ttu-id="ea2ce-205">Методы Ивпксеттингс:</span><span class="sxs-lookup"><span data-stu-id="ea2ce-205">IWPCSettings methods:</span></span>
    -   <span data-ttu-id="ea2ce-206">Ислоггингрекуиред () — отчеты о действиях, настроенные для пользователя?</span><span class="sxs-lookup"><span data-stu-id="ea2ce-206">IsLoggingRequired()—is activity reporting configured as on for the user?</span></span>
    -   <span data-ttu-id="ea2ce-207">Жетластсеттингсчанжетиме () — приложение может быть осведомлено, изменились ли политики параметров с момента предыдущей проверки.</span><span class="sxs-lookup"><span data-stu-id="ea2ce-207">GetLastSettingsChangeTime()—application can be aware if any settings policies have changed since a previous check.</span></span>
    -   <span data-ttu-id="ea2ce-208">Ограничения () — Узнайте, установлены ли ограничения на веб-сайт, ограничения по времени, ограничения игры или ограничения для приложений.</span><span class="sxs-lookup"><span data-stu-id="ea2ce-208">GetRestrictions()—read whether web restrictions, time limits, game restrictions, or application restrictions are set to on.</span></span>
-   <span data-ttu-id="ea2ce-209">Методы Ивпквебсеттингс:</span><span class="sxs-lookup"><span data-stu-id="ea2ce-209">IWPCWebSettings methods:</span></span>
    -   <span data-ttu-id="ea2ce-210">Settings () — Получает флаги для фильтрации или отключения, а также загружает заблокированные.</span><span class="sxs-lookup"><span data-stu-id="ea2ce-210">GetSettings()– retrieves flags for filter on or off and downloads blocked.</span></span>
    -   <span data-ttu-id="ea2ce-211">Рекуестурловерриде () — введите запрос в механизм переопределения администратором (утверждение налево), который будет представлять собой диалоговое окно, содержащее URL-адреса для утверждения.</span><span class="sxs-lookup"><span data-stu-id="ea2ce-211">RequestURLOverride()—input a request into the administrator override (over-the-shoulder approval) mechanism that will present a dialog box that contains the URLs to be approved.</span></span>
-   <span data-ttu-id="ea2ce-212">Методы Ивпкгамессеттингс:</span><span class="sxs-lookup"><span data-stu-id="ea2ce-212">IWPCGamesSettings methods:</span></span>
    -   <span data-ttu-id="ea2ce-213">Блокировка () — для заданного идентификатора игрового приложения — это игра, заблокированная родительским контролем и по которой причина.</span><span class="sxs-lookup"><span data-stu-id="ea2ce-213">IsBlocked()—for a given game application ID, is the game blocked by parental controls and for what reason.</span></span>
-   <span data-ttu-id="ea2ce-214">Visibility () — сведения о том, скрыт ли в данный момент пользовательский интерфейс родительского контроля.</span><span class="sxs-lookup"><span data-stu-id="ea2ce-214">GetVisibility()—provides information on whether the Parental Controls UI is currently hidden.</span></span>
-   <span data-ttu-id="ea2ce-215">Жетвебфилтеринфо () — предоставляет интерфейс для получения идентификатора текущего активного фильтра веб-содержимого.</span><span class="sxs-lookup"><span data-stu-id="ea2ce-215">GetWebFilterInfo()—provides an interface for obtaining the ID of the currently active Web Content Filter.</span></span>

### <a name="sample-code"></a><span data-ttu-id="ea2ce-216">Пример кода</span><span class="sxs-lookup"><span data-stu-id="ea2ce-216">Sample code</span></span>

<span data-ttu-id="ea2ce-217">Примеры C++ приведены в пакете SDK, демонстрирующим использование API соответствия.</span><span class="sxs-lookup"><span data-stu-id="ea2ce-217">C++ samples are provided in the SDK demonstrating use of the Compliance API.</span></span> <span data-ttu-id="ea2ce-218">См. раздел с примерами родительского контроля.</span><span class="sxs-lookup"><span data-stu-id="ea2ce-218">Please see the Parental Controls Samples section.</span></span>

 

 



