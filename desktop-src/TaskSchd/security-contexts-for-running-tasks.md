---
title: Контексты безопасности для задач
description: Задачи регистрируются и запускаются в определенном контексте безопасности.
ms.assetid: be86eb9f-f6ec-4dce-afe8-e3314a74062a
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 329f354518daeb11a5f330ae3fdc2c332b66d5c3
ms.sourcegitcommit: 3e70ae762629e244028b437420ed50b5850db4e3
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/20/2020
ms.locfileid: "104412589"
---
# <a name="security-contexts-for-tasks"></a><span data-ttu-id="400d7-103">Контексты безопасности для задач</span><span class="sxs-lookup"><span data-stu-id="400d7-103">Security Contexts for Tasks</span></span>

<span data-ttu-id="400d7-104">Задачи регистрируются и запускаются в определенном контексте безопасности.</span><span class="sxs-lookup"><span data-stu-id="400d7-104">Tasks are registered and run under a specific security context.</span></span> <span data-ttu-id="400d7-105">Пользователи могут создавать приложения, которые успешно регистрируют, обновляют, удаляют или запускают задачи, но при регистрации задачи пользователь должен предоставить правильные учетные данные, а приложение должно быть запущено в процессе с правильными привилегиями.</span><span class="sxs-lookup"><span data-stu-id="400d7-105">Users can create applications that successfully register, update, delete, or run tasks, but the user must supply the correct credentials when a task is registered and the application must be running in a process with the correct privileges.</span></span>

## <a name="specifying-credentials"></a><span data-ttu-id="400d7-106">Указание учетных данных</span><span class="sxs-lookup"><span data-stu-id="400d7-106">Specifying Credentials</span></span>

<span data-ttu-id="400d7-107">Можно указать контекст безопасности для задачи, указав учетные данные в методах [**ITaskFolder:: регистертаск**](/windows/desktop/api/taskschd/nf-taskschd-itaskfolder-registertask) или [**ITaskFolder:: регистертаскдефинитион**](/windows/desktop/api/taskschd/nf-taskschd-itaskfolder-registertaskdefinition) ([**таскфолдер. регистертаск**](taskfolder-registertask.md) или [**таскфолдер. Регистертаскдефинитион**](taskfolder-registertaskdefinition.md) для сценариев) или назначив участника [**свойству Principal класса ITaskDefinition**](/windows/desktop/api/taskschd/nf-taskschd-itaskdefinition-get_principal) ([**TaskDefinition. Principal**](taskdefinition-principal.md) для сценариев).</span><span class="sxs-lookup"><span data-stu-id="400d7-107">You can specify the security context for a task by specifying credentials in the [**ITaskFolder::RegisterTask**](/windows/desktop/api/taskschd/nf-taskschd-itaskfolder-registertask) or [**ITaskFolder::RegisterTaskDefinition**](/windows/desktop/api/taskschd/nf-taskschd-itaskfolder-registertaskdefinition) ([**TaskFolder.RegisterTask**](taskfolder-registertask.md) or [**TaskFolder.RegisterTaskDefinition**](taskfolder-registertaskdefinition.md) for scripting) methods or by assigning a principal to the [**Principal Property of ITaskDefinition**](/windows/desktop/api/taskschd/nf-taskschd-itaskdefinition-get_principal) ([**TaskDefinition.Principal**](taskdefinition-principal.md) for scripting).</span></span> <span data-ttu-id="400d7-108">Если для определения задачи создается участник, а затем определение задачи регистрируется с помощью метода **регистертаскдефинитион** с другими учетными данными, указанными в параметрах метода, то учетные данные, указанные в методе **регистертаскдефинитион** , будут перезаписывать учетные данные участника.</span><span class="sxs-lookup"><span data-stu-id="400d7-108">If a principal is created for a task definition, and then the task definition is registered using the **RegisterTaskDefinition** method with different credentials specified in the method parameters, then the credentials specified in the **RegisterTaskDefinition** method will overwrite the credentials in the principal.</span></span> <span data-ttu-id="400d7-109">Если участник создается для определения задачи с помощью XML, а затем XML-код для задачи зарегистрирован с помощью метода **регистертаск** с другими учетными данными, указанными в параметрах метода, то учетные данные, указанные в методе **регистертаск** , будут перезаписывать учетные данные участника.</span><span class="sxs-lookup"><span data-stu-id="400d7-109">If a principal is created for a task definition using XML, and then the XML for the task is registered using the **RegisterTask** method with different credentials specified in the method parameters, then the credentials specified in the **RegisterTask** method will overwrite the credentials in the principal.</span></span>

<span data-ttu-id="400d7-110">Учетная запись пользователя или группа задаются при регистрации задачи или при указании принципа задачи.</span><span class="sxs-lookup"><span data-stu-id="400d7-110">You specify a user account or group when registering a task or specifying the principle for a task.</span></span> <span data-ttu-id="400d7-111">Контекст безопасности учетной записи пользователя или группы используется для контекста безопасности задачи.</span><span class="sxs-lookup"><span data-stu-id="400d7-111">The security context of the user account or group is used for the security context of the task.</span></span> <span data-ttu-id="400d7-112">В этих методах и свойствах также определяется тип входа в систему.</span><span class="sxs-lookup"><span data-stu-id="400d7-112">In these methods and properties, you also define the logon type.</span></span> <span data-ttu-id="400d7-113">Тип входа определяется одной из констант в перечислении [**\_ \_ типа входа в задачу**](/windows/desktop/api/taskschd/ne-taskschd-task_logon_type) .</span><span class="sxs-lookup"><span data-stu-id="400d7-113">The logon type is defined by one of the constants in the [**TASK\_LOGON\_TYPE**](/windows/desktop/api/taskschd/ne-taskschd-task_logon_type) enumeration.</span></span>

<span data-ttu-id="400d7-114">Задачи, зарегистрированные с помощью параметра \_ пароль для входа в систему \_ или задачи для входа в систему, \_ \_ запускаются только в том случае, если для указанного пользователя включено право на пакетное задание.</span><span class="sxs-lookup"><span data-stu-id="400d7-114">Tasks registered with the TASK\_LOGON\_PASSWORD or TASK\_LOGON\_S4U flag will only launch if the specified user has the Logon as Batch privilege enabled.</span></span> <span data-ttu-id="400d7-115">Администраторы и операторы резервного копирования пользователи имеют доступ к этой привилегии по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="400d7-115">Administrators and Backup Operators group users have this privilege enabled by default.</span></span>

<span data-ttu-id="400d7-116">При вызове метода [**GetFolder интерфейса ITaskService:: Connect**](/windows/desktop/api/taskschd/nf-taskschd-itaskservice-connect) ([**TaskService. Connect**](taskservice-connect.md) для создания скриптов) все последующие вызовы методов к службе планировщик задач будут использовать учетные данные, переданные в метод **Connect** .</span><span class="sxs-lookup"><span data-stu-id="400d7-116">When you call the [**ITaskService::Connect**](/windows/desktop/api/taskschd/nf-taskschd-itaskservice-connect) ([**TaskService.Connect**](taskservice-connect.md) for scripting) method, any subsequent method calls to the Task Scheduler service will use the credentials that were passed to the **Connect** method.</span></span> <span data-ttu-id="400d7-117">Это важно учитывать при регистрации задач с интерактивным типом входа.</span><span class="sxs-lookup"><span data-stu-id="400d7-117">This is important to consider when registering tasks with an interactive logon type.</span></span> <span data-ttu-id="400d7-118">При регистрации задачи с помощью \_ интерактивного маркера входа в систему с типом входа \_ и в \_ задаче не указаны учетные данные, указанные в свойстве [**Principal**](/windows/desktop/api/taskschd/nf-taskschd-itaskdefinition-get_principal) определения задачи, заданном в параметрах [**регистертаскдефинитион**](/windows/desktop/api/taskschd/nf-taskschd-itaskfolder-registertaskdefinition)или указанном в XML, переданном в [**регистертаск**](/windows/desktop/api/taskschd/nf-taskschd-itaskfolder-registertask), задача будет зарегистрирована с учетными данными пользователя, который вызвал метод **Connect** .</span><span class="sxs-lookup"><span data-stu-id="400d7-118">When you register a task with the logon type equal to TASK\_LOGON\_INTERACTIVE\_TOKEN and the task does not have credentials specified in the [**Principal**](/windows/desktop/api/taskschd/nf-taskschd-itaskdefinition-get_principal) property of the task definition, specified in the parameters to [**RegisterTaskDefinition**](/windows/desktop/api/taskschd/nf-taskschd-itaskfolder-registertaskdefinition), or specified in the XML that is passed to [**RegisterTask**](/windows/desktop/api/taskschd/nf-taskschd-itaskfolder-registertask), then the task will be registered with the credentials of the user that called the **Connect** method.</span></span>

## <a name="user-account-control-uac-security-for-tasks"></a><span data-ttu-id="400d7-119">Безопасность управления учетными записями пользователей (UAC) для задач</span><span class="sxs-lookup"><span data-stu-id="400d7-119">User Account Control (UAC) Security for Tasks</span></span>

<span data-ttu-id="400d7-120">[Контроль учетных записей](https://www.microsoft.com/technet/windowsvista/security/uac.mspx) (UAC) позволяет пользователям выполнять такие общие функции, как запуск программ, сохранение и изменение данных без предоставления прав администратора.</span><span class="sxs-lookup"><span data-stu-id="400d7-120">[User Account Control](https://www.microsoft.com/technet/windowsvista/security/uac.mspx) (UAC) lets users exercise general functionality such as running programs and saving and modifying data without exposing administrative privileges.</span></span> <span data-ttu-id="400d7-121">По умолчанию задача выполняется с низким уровнем привилегий при включенном контроле учетных записей.</span><span class="sxs-lookup"><span data-stu-id="400d7-121">By default, a task runs with low level privileges when UAC is turned on.</span></span> <span data-ttu-id="400d7-122">Задачи могут указать, что они будут запускаться с повышенными привилегиями или низкими привилегиями, установив уровень привилегий из перечисления [**\_ \_ типов задач RUNLEVEL**](/windows/win32/api/taskschd/ne-taskschd-task_runlevel_type) для [**Свойства RunLevel IPrincipal**](/windows/desktop/api/taskschd/nf-taskschd-iprincipal-get_runlevel) ([**Principal. RUNLEVEL**](principal-runlevel.md) для сценариев).</span><span class="sxs-lookup"><span data-stu-id="400d7-122">Tasks can specify that they will run with elevated privileges or low privileges by setting a privilege level from the [**TASK\_RUNLEVEL\_TYPE**](/windows/win32/api/taskschd/ne-taskschd-task_runlevel_type) enumeration for the [**RunLevel property of IPrincipal**](/windows/desktop/api/taskschd/nf-taskschd-iprincipal-get_runlevel) ([**Principal.RunLevel**](principal-runlevel.md) for scripting).</span></span> <span data-ttu-id="400d7-123">Значение свойства **runlevel** определяет уровень привилегий, на котором будут выполняться действия задачи.</span><span class="sxs-lookup"><span data-stu-id="400d7-123">The value of the **RunLevel** property determines the privilege level at which a task's actions will be run.</span></span> <span data-ttu-id="400d7-124">Если действия задачи должны иметь повышенные привилегии для выполнения, необходимо задать для свойства **runlevel** значение **Task \_ runlevel \_ высшего**.</span><span class="sxs-lookup"><span data-stu-id="400d7-124">If a task's actions must have elevated privileges to run, then you must set the **RunLevel** property to **TASK\_RUNLEVEL\_HIGHEST**.</span></span> <span data-ttu-id="400d7-125">Если задача зарегистрирована с помощью группы администраторов для контекста безопасности задачи, необходимо также задать для свойства **runlevel** значение **Task \_ runlevel \_ высшего** , если требуется выполнить задачу.</span><span class="sxs-lookup"><span data-stu-id="400d7-125">If a task is registered using the Administrators group for the security context of the task, then you must also set the **RunLevel** property to **TASK\_RUNLEVEL\_HIGHEST** if you want to run the task.</span></span> <span data-ttu-id="400d7-126">Если задача зарегистрирована с помощью встроенной \\ учетной записи администратора или учетных записей локальной системы или локальной службы, свойство **runlevel** будет пропущено.</span><span class="sxs-lookup"><span data-stu-id="400d7-126">If a task is registered using the Builtin\\Administrator account or the Local System or Local Service accounts, then the **RunLevel** property will be ignored.</span></span> <span data-ttu-id="400d7-127">Значение свойства также будет пропущено, если контроль учетных записей (UAC) отключен.</span><span class="sxs-lookup"><span data-stu-id="400d7-127">The property value will also be ignored if User Account Control (UAC) is turned off.</span></span> <span data-ttu-id="400d7-128">Значение свойства **runlevel** не влияет на разрешения, необходимые для выполнения или удаления задачи.</span><span class="sxs-lookup"><span data-stu-id="400d7-128">The value of the **RunLevel** property doesn't affect the permissions needed to run or delete a task.</span></span>

> [!Note]  
> <span data-ttu-id="400d7-129">После обновления операционной системы с Windows XP до Windows Vista задачи, зарегистрированные с помощью встроенной \\ учетной записи администратора в Windows XP, будут иметь свойство [**runlevel**](/windows/desktop/api/taskschd/nf-taskschd-iprincipal-get_runlevel) со значением **Task \_ runlevel \_ Lua**.</span><span class="sxs-lookup"><span data-stu-id="400d7-129">After upgrading an operating system from Windows XP to Windows Vista, tasks that were registered using the Builtin\\Administrator account on Windows XP will have the [**RunLevel**](/windows/desktop/api/taskschd/nf-taskschd-iprincipal-get_runlevel) property set to **TASK\_RUNLEVEL\_LUA**.</span></span> <span data-ttu-id="400d7-130">Это может привести к сбою некоторых задач.</span><span class="sxs-lookup"><span data-stu-id="400d7-130">This might cause some tasks to fail.</span></span> <span data-ttu-id="400d7-131">Это свойство можно обновить вручную, чтобы убедиться, что все задачи будут выполняться.</span><span class="sxs-lookup"><span data-stu-id="400d7-131">You can update this property manually to ensure all the tasks will run.</span></span>

 

<span data-ttu-id="400d7-132">В процессе с низким уровнем привилегий вы не можете зарегистрировать задачу с помощью свойства [**runlevel**](/windows/desktop/api/taskschd/nf-taskschd-iprincipal-get_runlevel) , равного **runlevel задаче \_ \_**, но можно зарегистрировать задачу с помощью свойства **runlevel** , равного **задаче \_ runlevel \_ Lua**.</span><span class="sxs-lookup"><span data-stu-id="400d7-132">From a low privilege process, you cannot register a task with the [**RunLevel**](/windows/desktop/api/taskschd/nf-taskschd-iprincipal-get_runlevel) property equal to **TASK\_RUNLEVEL\_HIGHEST**, but you can register a task with the **RunLevel** property equal to **TASK\_RUNLEVEL\_LUA**.</span></span> <span data-ttu-id="400d7-133">Действия задач будут выполняться с низкими привилегиями.</span><span class="sxs-lookup"><span data-stu-id="400d7-133">The task actions will be run with low privileges.</span></span> <span data-ttu-id="400d7-134">Вы не можете зарегистрировать задачу как встроенную или администраторскую, локальную систему или группу.</span><span class="sxs-lookup"><span data-stu-id="400d7-134">You are not allowed to register the task as Builtin/Administrator, Local System, or for a group.</span></span>

<span data-ttu-id="400d7-135">С помощью процесса повышенной привилегии можно зарегистрировать задачу с помощью свойства [**runlevel**](/windows/desktop/api/taskschd/nf-taskschd-iprincipal-get_runlevel) , равное **задаче \_ runlevel \_ высшего** уровня или **задаче \_ runlevel \_ Lua**.</span><span class="sxs-lookup"><span data-stu-id="400d7-135">From an elevated privilege process, you can register a task with the [**RunLevel**](/windows/desktop/api/taskschd/nf-taskschd-iprincipal-get_runlevel) property equal to **TASK\_RUNLEVEL\_HIGHEST** or **TASK\_RUNLEVEL\_LUA**.</span></span> <span data-ttu-id="400d7-136">Задача будет выполняться с уровнем привилегий, который выбирается свойством **runlevel** , если не используется учетная запись администратора. в этом случае задача запускается с повышенными привилегиями.</span><span class="sxs-lookup"><span data-stu-id="400d7-136">The task will be run with a privilege level decided by the **RunLevel** property unless you are using the Administrator account, in which case the task is run with elevated privileges.</span></span>

<span data-ttu-id="400d7-137">В процессе с повышенными правами можно зарегистрировать задачу планировщик задач 1,0.</span><span class="sxs-lookup"><span data-stu-id="400d7-137">From an elevated process, you can register a Task Scheduler 1.0 task.</span></span> <span data-ttu-id="400d7-138">Служба планировщик задач установит уровень выполнения задачи \_ RUNLEVEL \_ наивысший, и задача будет запущена с повышенными привилегиями.</span><span class="sxs-lookup"><span data-stu-id="400d7-138">The Task Scheduler service will set the run level of the task to TASK\_RUNLEVEL\_HIGHEST and the task will run with elevated privileges.</span></span>

<span data-ttu-id="400d7-139">В процессе с низким уровнем привилегий можно также зарегистрировать задачу планировщик задач 1,0.</span><span class="sxs-lookup"><span data-stu-id="400d7-139">From an low privilege process, you can also register a Task Scheduler 1.0 task.</span></span> <span data-ttu-id="400d7-140">Служба планировщик задач установит для задачи уровень выполнения \_ RUNLEVEL \_ Lua, и задача будет запущена с низкими привилегиями.</span><span class="sxs-lookup"><span data-stu-id="400d7-140">The Task Scheduler service will set the run level of the task to TASK\_RUNLEVEL\_LUA, and the task will run with low privileges.</span></span> <span data-ttu-id="400d7-141">Если эта задача обновляется из процесса с повышенными правами, то уровень выполнения задачи останется \_ RUNLEVEL \_ Lua.</span><span class="sxs-lookup"><span data-stu-id="400d7-141">If this task is updated from an elevated process, the run level of the task will remain TASK\_RUNLEVEL\_LUA.</span></span>

## <a name="security-for-registering-tasks"></a><span data-ttu-id="400d7-142">Безопасность для регистрации задач</span><span class="sxs-lookup"><span data-stu-id="400d7-142">Security for Registering Tasks</span></span>

<span data-ttu-id="400d7-143">При регистрации задачи из учетной записи, которая является членом группы "Администраторы", необходимо указать пароль только при регистрации задачи в следующих ситуациях:</span><span class="sxs-lookup"><span data-stu-id="400d7-143">When you register a task from an account that is a member of the Administrators group, then you only need to specify a password while registering the task in the following situations:</span></span>

-   <span data-ttu-id="400d7-144">Если задача регистрируется для запуска в контексте безопасности вашей учетной записи или учетной записи другого пользователя, и используется \_ флаг пароля для входа \_ в систему в методе [**регистертаск**](/windows/desktop/api/taskschd/nf-taskschd-itaskfolder-registertask) или [**регистертаскдефинитион**](/windows/desktop/api/taskschd/nf-taskschd-itaskfolder-registertaskdefinition) .</span><span class="sxs-lookup"><span data-stu-id="400d7-144">If you register the task to run under the security context of your account or a different user's account and you use the TASK\_LOGON\_PASSWORD flag in the [**RegisterTask**](/windows/desktop/api/taskschd/nf-taskschd-itaskfolder-registertask) or [**RegisterTaskDefinition**](/windows/desktop/api/taskschd/nf-taskschd-itaskfolder-registertaskdefinition) method.</span></span>
-   <span data-ttu-id="400d7-145">Если задача регистрируется для запуска в контексте безопасности учетной записи другого пользователя и используется \_ флаг подключения для входа \_ в систему в методе [**регистертаск**](/windows/desktop/api/taskschd/nf-taskschd-itaskfolder-registertask) или [**регистертаскдефинитион**](/windows/desktop/api/taskschd/nf-taskschd-itaskfolder-registertaskdefinition) .</span><span class="sxs-lookup"><span data-stu-id="400d7-145">If you register the task to run under the security context of a different user's account and you use the TASK\_LOGON\_S4U flag in the [**RegisterTask**](/windows/desktop/api/taskschd/nf-taskschd-itaskfolder-registertask) or [**RegisterTaskDefinition**](/windows/desktop/api/taskschd/nf-taskschd-itaskfolder-registertaskdefinition) method.</span></span>

<span data-ttu-id="400d7-146">Вы не можете использовать группу пользователей в качестве контекста безопасности задачи при регистрации задачи с помощью \_ флага входа в систему \_ или \_ \_ флага пароля при входе в систему в методе [**регистертаск**](/windows/desktop/api/taskschd/nf-taskschd-itaskfolder-registertask) или [**регистертаскдефинитион**](/windows/desktop/api/taskschd/nf-taskschd-itaskfolder-registertaskdefinition) .</span><span class="sxs-lookup"><span data-stu-id="400d7-146">You cannot use a user group as the security context of a task when you register the task using the TASK\_LOGON\_S4U flag or the TASK\_LOGON\_PASSWORD flag in the [**RegisterTask**](/windows/desktop/api/taskschd/nf-taskschd-itaskfolder-registertask) or [**RegisterTaskDefinition**](/windows/desktop/api/taskschd/nf-taskschd-itaskfolder-registertaskdefinition) method.</span></span>

<span data-ttu-id="400d7-147">При регистрации задачи из учетной записи пользователя, которая не является членом группы "Администраторы", не нужно указывать пароль при регистрации задачи, если вы регистрируете задачу для запуска в контексте безопасности вашей учетной записи и используете тип подключения S4U или Interactive.</span><span class="sxs-lookup"><span data-stu-id="400d7-147">When you register a task from a user account that is not a member of the Administrators group, then you do not need to specify a password when registering the task if you register the task to run under the security context of your account and you use the S4U or interactive logon type.</span></span> <span data-ttu-id="400d7-148">В противном случае при регистрации задачи необходимо указать пароль.</span><span class="sxs-lookup"><span data-stu-id="400d7-148">Otherwise, you need to specify a password when registering the task.</span></span> <span data-ttu-id="400d7-149">Кроме того, невозможно зарегистрировать задачу с помощью учетной записи Local Service или группы для контекста безопасности задачи.</span><span class="sxs-lookup"><span data-stu-id="400d7-149">Also, you cannot register the task using the Local Service account or by using a group for the task's security context.</span></span>

## <a name="security-for-reading-updating-deleting-and-running-tasks"></a><span data-ttu-id="400d7-150">Безопасность для чтения, обновления, удаления и выполнения задач</span><span class="sxs-lookup"><span data-stu-id="400d7-150">Security for Reading, Updating, Deleting, and Running Tasks</span></span>

<span data-ttu-id="400d7-151">По умолчанию пользователь, создающий задачу, может читать, обновлять, удалять и выполнять задачу.</span><span class="sxs-lookup"><span data-stu-id="400d7-151">By default, a user who creates a task can read, update, delete, and run the task.</span></span> <span data-ttu-id="400d7-152">Пользователь должен иметь разрешение на запись файлов для файла задачи, чтобы обновить задачу, разрешение на чтение файла задачи для чтения задачи, разрешение DELETE для файла задачи, чтобы удалить задачу, а также разрешение на выполнение файла задачи для выполнения задачи с помощью методов [**ирегистередтаск:: Run**](/windows/desktop/api/taskschd/nf-taskschd-iregisteredtask-run) или [**рунекс**](/windows/desktop/api/taskschd/nf-taskschd-iregisteredtask-runex) ([**регистередтаск. Run**](registeredtask-run.md) и [**рунекс**](registeredtask-runex.md) для сценариев).</span><span class="sxs-lookup"><span data-stu-id="400d7-152">A user must have file write permission on a task file to update a task, file read permission on a task file to read a task, delete permission on a task file to delete a task, and file execute permission on a task to run a task using the [**IRegisteredTask::Run**](/windows/desktop/api/taskschd/nf-taskschd-iregisteredtask-run) or [**RunEx**](/windows/desktop/api/taskschd/nf-taskschd-iregisteredtask-runex) methods ([**RegisteredTask.Run**](registeredtask-run.md) and [**RunEx**](registeredtask-runex.md) for scripting).</span></span> <span data-ttu-id="400d7-153">Члены группы «Администраторы» или «СИСТЕМная учетная запись» могут читать, обновлять, удалять и выполнять любые задачи.</span><span class="sxs-lookup"><span data-stu-id="400d7-153">Members of the Administrators group or the SYSTEM account can read, update, delete, and run any tasks.</span></span> <span data-ttu-id="400d7-154">Члены группы "Пользователи", учетная запись LocalService и учетная запись NetworkService могут только читать, обновлять, удалять и выполнять созданные им задачи.</span><span class="sxs-lookup"><span data-stu-id="400d7-154">Members of the Users group, the LocalService account, and the NetworkService account can only read, update, delete, and run the tasks that they have created.</span></span> <span data-ttu-id="400d7-155">Это поведение по умолчанию изменяется при изменении списка DACL файла задачи. в этом случае список DACL определяет, какие пользователи имеют разрешение на запись, чтение, выполнение и удаление файлов.</span><span class="sxs-lookup"><span data-stu-id="400d7-155">This default behavior is changed when the DACL of the task file is changed, in which case the DACL defines which users have file write, read, execute, and delete permission.</span></span> <span data-ttu-id="400d7-156">Чтобы задать разрешения для файла задачи, используйте метод Ирегистередтаск. Сетсекуритидескриптор (Регистередтаск. Сетсекуритидескриптор для создания скриптов) или задайте дескриптор безопасности при регистрации задачи с помощью методов [**регистертаск**](/windows/desktop/api/taskschd/nf-taskschd-itaskfolder-registertask) или [**RegisterTaskDefinition**](/windows/desktop/api/taskschd/nf-taskschd-itaskfolder-registertaskdefinition) .</span><span class="sxs-lookup"><span data-stu-id="400d7-156">To set permissions for a task file, use the IRegisteredTask.SetSecurityDescriptor method (RegisteredTask.SetSecurityDescriptor for scripting) or set the security descriptor when you register the task using the [**RegisterTask**](/windows/desktop/api/taskschd/nf-taskschd-itaskfolder-registertask) or [**RegisterTaskDefinition**](/windows/desktop/api/taskschd/nf-taskschd-itaskfolder-registertaskdefinition) methods.</span></span>

<span data-ttu-id="400d7-157">Пользователь должен иметь разрешение Вритедак в дополнение к разрешениям на чтение и запись для обновления задачи, если обновление задачи требует изменения списка DACL для задачи.</span><span class="sxs-lookup"><span data-stu-id="400d7-157">A user must have WriteDAC permission in addition to the read/write permissions to update a task if the task update requires a change to the DACL for the task.</span></span>

## <a name="related-topics"></a><span data-ttu-id="400d7-158">См. также</span><span class="sxs-lookup"><span data-stu-id="400d7-158">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="400d7-159">Сведения о регистрации задачи</span><span class="sxs-lookup"><span data-stu-id="400d7-159">Task Registration Information</span></span>](task-registration-information.md)
</dt> <dt>

[<span data-ttu-id="400d7-160">Сведения о планировщик задач</span><span class="sxs-lookup"><span data-stu-id="400d7-160">About The Task Scheduler</span></span>](about-the-task-scheduler.md)
</dt> <dt>

[<span data-ttu-id="400d7-161">Усиление безопасности задач</span><span class="sxs-lookup"><span data-stu-id="400d7-161">Task Security Hardening</span></span>](task-security-hardening.md)
</dt> <dt>

[<span data-ttu-id="400d7-162">**Таскфолдер. Регистертаскдефинитион**</span><span class="sxs-lookup"><span data-stu-id="400d7-162">**TaskFolder.RegisterTaskDefinition**</span></span>](taskfolder-registertaskdefinition.md)
</dt> <dt>

[<span data-ttu-id="400d7-163">**ITaskFolder:: Регистертаскдефинитион**</span><span class="sxs-lookup"><span data-stu-id="400d7-163">**ITaskFolder::RegisterTaskDefinition**</span></span>](/windows/desktop/api/taskschd/nf-taskschd-itaskfolder-registertaskdefinition)
</dt> <dt>

[<span data-ttu-id="400d7-164">**Свойство Principal объекта Итаскдефинитион**</span><span class="sxs-lookup"><span data-stu-id="400d7-164">**Principal Property of ITaskDefinition**</span></span>](/windows/desktop/api/taskschd/nf-taskschd-itaskdefinition-get_principal)
</dt> <dt>

[<span data-ttu-id="400d7-165">**\_тип входа \_ задачи**</span><span class="sxs-lookup"><span data-stu-id="400d7-165">**TASK\_LOGON\_TYPE**</span></span>](/windows/desktop/api/taskschd/ne-taskschd-task_logon_type)
</dt> </dl>

 

 




