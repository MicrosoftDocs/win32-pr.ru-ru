---
title: Последовательность вызовов API однорангового метода
description: Сведения о последовательности вызовов API однорангового метода. См. список, демонстрирующий последовательность вызовов, выполненных с помощью EAPHost для однорангового метода EAP.
ms.assetid: aac69e89-249d-4bc8-baef-1f0681f9f7ae
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 0ac9be0f6de228fd5b1ebf2d2c28320baf76e914
ms.sourcegitcommit: b0ebdefc3dcd5c04bede94091833aa1015a2f95c
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/21/2020
ms.locfileid: "104134587"
---
# <a name="peer-method-api-call-sequence"></a><span data-ttu-id="91b9c-104">Последовательность вызовов API однорангового метода</span><span class="sxs-lookup"><span data-stu-id="91b9c-104">Peer Method API Call Sequence</span></span>

<span data-ttu-id="91b9c-105">В этом разделе содержится конкретная последовательность вызовов для API однорангового метода.</span><span class="sxs-lookup"><span data-stu-id="91b9c-105">This topic provides the specific call sequence for the peer method API.</span></span> <span data-ttu-id="91b9c-106">Во время обычного сеанса проверки подлинности EAP EAPHost вызывает ряд вызовов методов EAP для реализации API однорангового метода EAPHost.</span><span class="sxs-lookup"><span data-stu-id="91b9c-106">During a typical EAP authentication session EAPHost makes a number of calls on EAP methods to implement the EAPHost peer method API.</span></span>

<span data-ttu-id="91b9c-107">В следующем списке показана последовательность вызовов, выполненных с помощью EAPHost, для однорангового метода EAP.</span><span class="sxs-lookup"><span data-stu-id="91b9c-107">The following list demonstrates the sequence of calls made by EAPHost on an EAP peer method.</span></span>

-   <span data-ttu-id="91b9c-108">Загружает библиотеку DLL однорангового метода EAP, используемую для проверки подлинности.</span><span class="sxs-lookup"><span data-stu-id="91b9c-108">Loads the EAP peer method DLL used for the authentication.</span></span>
-   <span data-ttu-id="91b9c-109">Вызывает [**еаппиржетинфо**](/previous-versions/windows/desktop/api/eapmethodpeerapis/nf-eapmethodpeerapis-eappeergetinfo) для метода, чтобы получить список указателей на функции, реализованные в библиотеке DLL.</span><span class="sxs-lookup"><span data-stu-id="91b9c-109">Calls [**EapPeerGetInfo**](/previous-versions/windows/desktop/api/eapmethodpeerapis/nf-eapmethodpeerapis-eappeergetinfo) on the method to obtain a list of pointers to functions implemented on the DLL.</span></span> <span data-ttu-id="91b9c-110">Предполагается, что последующие вызовы функций, выполняемые одноранговым объектом EAPHost (клиентом), были реализованы в библиотеке DLL.</span><span class="sxs-lookup"><span data-stu-id="91b9c-110">Subsequent function calls by the EAPHost peer (client) are assumed to be implemented on the DLL.</span></span>
-   <span data-ttu-id="91b9c-111">Вызывает [**еаппиринитиализе**](/previous-versions/windows/desktop/api/eapmethodpeerapis/nf-eapmethodpeerapis-eappeerinitialize) , чтобы указать библиотеке методов EAP подготовить по крайней мере один сеанс проверки подлинности с помощью этого однорангового метода.</span><span class="sxs-lookup"><span data-stu-id="91b9c-111">Calls [**EapPeerInitialize**](/previous-versions/windows/desktop/api/eapmethodpeerapis/nf-eapmethodpeerapis-eappeerinitialize) to instruct the EAP Method Library to prepare for at least one authentication session using this peer method.</span></span>
-   <span data-ttu-id="91b9c-112">Вызывает [**еаппирбегинсессион**](/previous-versions/windows/desktop/api/eapmethodpeerapis/nf-eapmethodpeerapis-eappeerbeginsession) , чтобы установить уникальный сеанс проверки подлинности.</span><span class="sxs-lookup"><span data-stu-id="91b9c-112">Calls [**EapPeerBeginSession**](/previous-versions/windows/desktop/api/eapmethodpeerapis/nf-eapmethodpeerapis-eappeerbeginsession) to establish a unique authentication session.</span></span>
-   <span data-ttu-id="91b9c-113">Вызывает [**еаппиржетидентити**](/previous-versions/windows/desktop/api/eapmethodpeerapis/nf-eapmethodpeerapis-eappeergetidentity) , чтобы получить удостоверение, используемое для проверки подлинности.</span><span class="sxs-lookup"><span data-stu-id="91b9c-113">Calls [**EapPeerGetIdentity**](/previous-versions/windows/desktop/api/eapmethodpeerapis/nf-eapmethodpeerapis-eappeergetidentity) to obtain the identity to use for authentication.</span></span> <span data-ttu-id="91b9c-114">Если удостоверение недоступно или пользователь должен предоставить дополнительные сведения, то EAPHost вызывает [ **еаппиржетуиконтекст.**](/previous-versions/windows/desktop/api/eapmethodpeerapis/nf-eapmethodpeerapis-eappeergetuicontext)</span><span class="sxs-lookup"><span data-stu-id="91b9c-114">If the identity is not available, or if the user must provide additional information, EAPHost calls [**EapPeerGetUIContext.**](/previous-versions/windows/desktop/api/eapmethodpeerapis/nf-eapmethodpeerapis-eappeergetuicontext)</span></span> <span data-ttu-id="91b9c-115">Эта функция получает сведения о контексте для диалогового окна пользовательского интерфейса, которое будет создано на запрашивающем сторона.</span><span class="sxs-lookup"><span data-stu-id="91b9c-115">This function obtains the context information for the user interface dialog box that will be raised on the supplicant.</span></span> <span data-ttu-id="91b9c-116">После того, как пользователь отправил сведения об удостоверении, удостоверение пользователя задается вызовом [**еаппирсетуиконтекст**](/previous-versions/windows/desktop/api/eapmethodpeerapis/nf-eapmethodpeerapis-eappeersetuicontext)и получается путем вызова **еаппиржетидентити**.</span><span class="sxs-lookup"><span data-stu-id="91b9c-116">After the user has submitted the identity information, the user identity is set with a call to [**EapPeerSetUIContext**](/previous-versions/windows/desktop/api/eapmethodpeerapis/nf-eapmethodpeerapis-eappeersetuicontext), and obtained by a call to **EapPeerGetIdentity**.</span></span>
-   <span data-ttu-id="91b9c-117">Повторяет следующие шаги, пока [**еаппирпроцессрекуестпаккет**](/previous-versions/windows/desktop/api/eapmethodpeerapis/nf-eapmethodpeerapis-eappeerprocessrequestpacket) не указывает, что результат проверки подлинности доступен.</span><span class="sxs-lookup"><span data-stu-id="91b9c-117">Repeats the following steps until [**EapPeerProcessRequestPacket**](/previous-versions/windows/desktop/api/eapmethodpeerapis/nf-eapmethodpeerapis-eappeerprocessrequestpacket) indicates that an authentication result is available.</span></span>
    -   <span data-ttu-id="91b9c-118">Вызывает [**еаппирпроцессрекуестпаккет**](/previous-versions/windows/desktop/api/eapmethodpeerapis/nf-eapmethodpeerapis-eappeerprocessrequestpacket) с указателем пакета запроса для передачи в вызывающий объект.</span><span class="sxs-lookup"><span data-stu-id="91b9c-118">Calls [**EapPeerProcessRequestPacket**](/previous-versions/windows/desktop/api/eapmethodpeerapis/nf-eapmethodpeerapis-eappeerprocessrequestpacket) with the pointer of a request packet to pass to the supplicant.</span></span>
    -   <span data-ttu-id="91b9c-119">Вызывает **еаппиржетреспонсепаккет** , чтобы получить пакет ответа для отправки в средство проверки подлинности.</span><span class="sxs-lookup"><span data-stu-id="91b9c-119">Calls **EapPeerGetResponsePacket** to retrieve the response packet to send to the authenticator.</span></span>
    -   <span data-ttu-id="91b9c-120">При необходимости, если необходимо получить или отправить атрибуты EAP во время сеанса проверки подлинности, EAPHost вызывает [**еаппиржетреспонсеаттрибутес**](/previous-versions/windows/desktop/api/eapmethodpeerapis/nf-eapmethodpeerapis-eappeergetresponseattributes) и [**еаппирсетреспонсеаттрибутес**](/previous-versions/windows/desktop/api/eapmethodpeerapis/nf-eapmethodpeerapis-eappeersetresponseattributes) соответственно.</span><span class="sxs-lookup"><span data-stu-id="91b9c-120">Optionally, if EAP attributes need to be retrieved or sent during the authentication session, EAPHost calls [**EapPeerGetResponseAttributes**](/previous-versions/windows/desktop/api/eapmethodpeerapis/nf-eapmethodpeerapis-eappeergetresponseattributes) and [**EapPeerSetResponseAttributes**](/previous-versions/windows/desktop/api/eapmethodpeerapis/nf-eapmethodpeerapis-eappeersetresponseattributes) respectively.</span></span>
-   <span data-ttu-id="91b9c-121">Когда средство проверки подлинности отправляет код действия, который указывает на завершение проверки подлинности, EAPHost вызывает [**еаппиржетресулт**](/previous-versions/windows/desktop/api/eapmethodpeerapis/nf-eapmethodpeerapis-eappeergetresult) и получает результаты проверки подлинности.</span><span class="sxs-lookup"><span data-stu-id="91b9c-121">When the authenticator sends an action code that indicates authentication is complete, EAPHost calls [**EapPeerGetResult**](/previous-versions/windows/desktop/api/eapmethodpeerapis/nf-eapmethodpeerapis-eappeergetresult) and obtains the results of the authentication.</span></span>
-   <span data-ttu-id="91b9c-122">Вызывает [**еаппирендсессион**](/previous-versions/windows/desktop/api/eapmethodpeerapis/nf-eapmethodpeerapis-eappeerendsession) для завершения сеанса проверки подлинности.</span><span class="sxs-lookup"><span data-stu-id="91b9c-122">Calls [**EapPeerEndSession**](/previous-versions/windows/desktop/api/eapmethodpeerapis/nf-eapmethodpeerapis-eappeerendsession) to end the authentication session.</span></span>
-   <span data-ttu-id="91b9c-123">Вызывает [**еаппиршутдовн**](/previous-versions/windows/desktop/api/eapmethodpeerapis/nf-eapmethodpeerapis-eappeershutdown) для выгрузки библиотеки DLL однорангового метода.</span><span class="sxs-lookup"><span data-stu-id="91b9c-123">Calls [**EapPeerShutdown**](/previous-versions/windows/desktop/api/eapmethodpeerapis/nf-eapmethodpeerapis-eappeershutdown) to unload the peer method DLL.</span></span>
-   <span data-ttu-id="91b9c-124">Выгружает библиотеку методов EAP.</span><span class="sxs-lookup"><span data-stu-id="91b9c-124">Unloads the EAP Method Library.</span></span>

## <a name="related-topics"></a><span data-ttu-id="91b9c-125">См. также</span><span class="sxs-lookup"><span data-stu-id="91b9c-125">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="91b9c-126">Последовательность вызовов API-интерфейса для запрашивающих сторон</span><span class="sxs-lookup"><span data-stu-id="91b9c-126">Supplicant API Call Sequence</span></span>](supplicant-api-call-sequence.md)
</dt> <dt>

[<span data-ttu-id="91b9c-127">Последовательность вызовов API метода средства проверки подлинности</span><span class="sxs-lookup"><span data-stu-id="91b9c-127">Authenticator Method API Call Sequence</span></span>](authenticator-method-api-call-sequence.md)
</dt> <dt>

[<span data-ttu-id="91b9c-128">Последовательности вызовов EAPHost</span><span class="sxs-lookup"><span data-stu-id="91b9c-128">EAPHost Call Sequences</span></span>](about-eaphost-call-sequences.md)
</dt> </dl>

 

 




