---
description: Многоадресное программирование включено через сокеты Windows.
ms.assetid: f729945b-b469-4baf-ac06-2431ee2d0e71
title: Многоадресное программирование
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 67af0eeb087e8c6a5938f26a0644dc346d55cf51
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "104541562"
---
# <a name="multicast-programming"></a>Многоадресное программирование

Многоадресное программирование включено через сокеты Windows. Сокеты Windows позволяют выполнять обнаружение многоадресного прослушивателя (MLD) версии 1 (MLDv1) и 2 (MLDv2) на IPv6 и протоколы управления группами Интернета версии 2 (IGMPv2) и 3 (IGMPv3) с помощью параметров сокета или запросов IOCTL. В этом разделе описывается реализация Windows, объясняется, как включить многоадресное программирование с помощью сокетов Windows, и приводятся примеры программирования, иллюстрирующие его использование.

Вторая версия протокола IGMP, которая затем называется IGMPv2, позволяет узлам присоединяться и оставлять группы многоадресной рассылки, определяемые адресом многоадресной рассылки IPv4, на определенном сетевом интерфейсе. Сокеты Windows позволяют приложению присоединяться и оставлять такие группы на конкретных сокетах. Недостаток IGMPv2 заключается в том, что любой адрес IPv4, присоединенный к группе IGMPv2, может быть передан всем членам, что потенциально приводит к переполнению группы и непригоден для использования для передачи данных, для которых требуется основной источник, например радиостанции Интернета. Проблема с IGMPv2 заключается в невозможности выборочно выбрать один адрес источника IPv4 (или даже несколько источников), а также невозможность блокировать отправители (такие как мошеннические трансляции или перпетраторс отказа в обслуживании) для данной группы многоадресной рассылки. IGMPv3 устраняет эти недостатки.

С помощью сокетов Windows и IGMPv3 приложения могут выбрать определенный адрес многоадресного источника IPv4 и пару групп многоадресной рассылки. Кроме того, сокеты Windows позволяют разработчикам выборочно разрешать дополнительные трансляции в заданной паре источника или группы, а также позволяет приложениям блокировать определенные вещательные трансляции. IGMPv3 поддерживается в Windows Vista и более поздних версиях.

Первая версия MLD на IPv6, называемая MLDv1, очень похожа на IGMPv2 и негативно сказывается на этих же ограничениях. MLDv1 позволяет узлам присоединяться и оставлять группы многоадресной рассылки, определяемые адресом многоадресной рассылки IPv6, на определенном сетевом интерфейсе. Сокеты Windows позволяют приложению присоединяться и оставлять такие группы на конкретных сокетах. Однако любой исходный адрес IPv6, присоединенный к группе MLDv1, может быть передан всем членам, что потенциально приводит к переполнению группы и непригоден для использования для передачи данных, для которых требуется первичный источник. Проблема с MLDv1 заключается в невозможности выборочно выбрать один исходный адрес IPv6 (или даже несколько источников), а также невозможность блокировать отправители (например, мошеннические трансляции или отказ в обслуживании перпетраторс) для данной группы многоадресной рассылки. MLDv2 устраняет эти недостатки.

С помощью сокетов Windows и MLDv2 приложения могут выбрать определенный адрес источника многоадресной рассылки IPv6 и пару групп многоадресной рассылки. Кроме того, сокеты Windows позволяют разработчикам выборочно разрешать дополнительные трансляции в заданной паре источника или группы, а также позволяет приложениям блокировать определенные вещательные трансляции. MLDv2 поддерживается в Windows Vista и более поздних версиях.

Существует два подхода, которые программист может использовать при разработке многоадресных приложений в Windows. Первый подход основан на изменениях; источники многоадресной рассылки добавляются или удаляются с помощью параметров сокета, даже во время передачи, по мере необходимости. Второй подход основан на финальном состоянии; адреса источника и все включенные и исключенные адреса указываются с помощью IOCTL. Каждый подход является допустимой многоадресной практикой, но разработчики могут найти использование параметров сокета, а подход на основе изменений — более интуитивно понятным и гибким.

Этот раздел содержит следующие страницы: 

| "Page title" (Заголовок страницы).                                                                             | Описание                                                                                                                                                                        |
|----------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [MLD и IGMP с использованием сокетов Windows](igmp-and-windows-sockets.md)                     | Перечисляет параметры многоадресного сокета, доступные для использования в программировании Windows Sockets, с использованием подхода, основанного на изменениях. Определяет две категории многоадресных приложений. |
| [Поведение параметра сокета многоадресной рассылки](multicast-socket-option-behavior.md)               | Содержит обширную таблицу, объясняющую последствия и требования к вызову параметров сокета многоадресной рассылки в определенном порядке.                                                  |
| [Пример многоадресного программирования](multicast-programming-sample.md)                       | Программный фрагмент, демонстрирующий использование параметров сокета для включения многоадресных приложений в Windows.                                                                        |
| [Многоадресное программирование на основе конечного состояния](final-state-based-multicast-programming.md) | Описывает подход финального состояния и использование IOCTL для многоадресного программирования с помощью сокетов Windows.                                                                               |
| [Перенос широковещательных приложений на IPv6](porting-broadcast-applications-to-ipv6.md)   | Содержит рекомендации по переносу широковещательных приложений IPv4 в многоадресную рассылку IPv6.                                                                                                     |



 

 

 



