---
description: Функция Всаиоктл позволяет поставщикам служб предлагать расширения функций для конкретного поставщика.
ms.assetid: 8b0d86ad-2f8b-4f5e-a8a6-839cb8dba4d8
title: Механизм расширения Provider-Specific
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: e58a8bba3c83e7dbf973ff8fe5b7d91c1065cfc6
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "104144971"
---
# <a name="provider-specific-extension-mechanism"></a><span data-ttu-id="49472-103">Механизм расширения Provider-Specific</span><span class="sxs-lookup"><span data-stu-id="49472-103">Provider-Specific Extension Mechanism</span></span>

<span data-ttu-id="49472-104">Функция [**всаиоктл**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) позволяет поставщикам служб предлагать расширения функций для конкретного поставщика.</span><span class="sxs-lookup"><span data-stu-id="49472-104">The [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) function enables service providers to offer provider-specific feature extensions.</span></span> <span data-ttu-id="49472-105">В этом механизме предполагается, что приложение осведомлено о конкретном расширении и распознает как семантику, так и используемую синтаксис.</span><span class="sxs-lookup"><span data-stu-id="49472-105">This mechanism assumes, of course, that an application is aware of a particular extension and understands both the semantics and syntax involved.</span></span> <span data-ttu-id="49472-106">Такие сведения обычно предоставлены поставщиком поставщика услуг.</span><span class="sxs-lookup"><span data-stu-id="49472-106">Such information would typically be supplied by the service provider vendor.</span></span>

<span data-ttu-id="49472-107">Чтобы вызвать функцию расширения, приложение должно сначала запросить указатель на нужную функцию.</span><span class="sxs-lookup"><span data-stu-id="49472-107">To invoke an extension function, the application must first ask for a pointer to the desired function.</span></span> <span data-ttu-id="49472-108">Это осуществляется с помощью функции [**всаиоктл**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) с использованием \_ \_ \_ кода команды указателя функции получения расширения SIO \_ .</span><span class="sxs-lookup"><span data-stu-id="49472-108">This is done through the [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) function using the SIO\_GET\_EXTENSION\_FUNCTION\_POINTER command code.</span></span> <span data-ttu-id="49472-109">Входной буфер в **всаиоктл** содержит идентификатор для нужной функции расширения, а выходной буфер содержит указатель на функцию.</span><span class="sxs-lookup"><span data-stu-id="49472-109">The input buffer to **WSAIoctl** contains an identifier for the desired extension function while the output buffer contains the function pointer itself.</span></span> <span data-ttu-id="49472-110">Приложение может вызвать функцию расширения напрямую без передачи через Ws2 \_32.dll.</span><span class="sxs-lookup"><span data-stu-id="49472-110">The application can then invoke the extension function directly without passing through the Ws2\_32.dll.</span></span>

<span data-ttu-id="49472-111">Идентификаторы, назначенные функциям расширения, являются глобально уникальными идентификаторами (GUID), которые назначаются поставщиками поставщиков услуг.</span><span class="sxs-lookup"><span data-stu-id="49472-111">The identifiers assigned to extension functions are globally unique identifiers (GUIDs) that are allocated by service provider vendors.</span></span> <span data-ttu-id="49472-112">Поставщики, создающие функции расширения, законодателей для публикации полных сведений о функции, включая синтаксис прототипа функции.</span><span class="sxs-lookup"><span data-stu-id="49472-112">Vendors who create extension functions are urged to publish full details about the function including the syntax of the function prototype.</span></span> <span data-ttu-id="49472-113">Это делает возможным предложение для распространенных и популярных функций расширения более чем одним поставщиком поставщика услуг.</span><span class="sxs-lookup"><span data-stu-id="49472-113">This makes it possible for common and popular extension functions to be offered by more than one service provider vendor.</span></span> <span data-ttu-id="49472-114">Приложение может получить указатель на функцию и использовать функцию без необходимости знать о конкретном поставщике услуг, реализующем функцию.</span><span class="sxs-lookup"><span data-stu-id="49472-114">An application can obtain the function pointer and use the function without needing to know anything about the particular service provider that implements the function.</span></span>

<span data-ttu-id="49472-115">В Windows Vista и более поздних версиях новые системные расширения Winsock экспортируются непосредственно из библиотеки Winsock DLL, поэтому для загрузки этих расширений не требуется функция [**всаиоктл**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) .</span><span class="sxs-lookup"><span data-stu-id="49472-115">On Windows Vista and later, new Winsock system extensions are exported directly from the Winsock DLL, so the [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) function is not needed to load these extensions.</span></span> <span data-ttu-id="49472-116">Новые функции расширения, доступные в Windows Vista и более поздних версиях, включают функции [**всаполл**](/windows/win32/api/winsock2/nf-winsock2-wsapoll) и [**всасендмсг**](/windows/desktop/api/winsock2/nf-winsock2-wsasendmsg) , экспортированные из *Ws2 \_32.dll*.</span><span class="sxs-lookup"><span data-stu-id="49472-116">The new extension functions available on Windows Vista and later include the [**WSAPoll**](/windows/win32/api/winsock2/nf-winsock2-wsapoll) and [**WSASendMsg**](/windows/desktop/api/winsock2/nf-winsock2-wsasendmsg) functions that are exported from *Ws2\_32.dll*.</span></span>

 

 
