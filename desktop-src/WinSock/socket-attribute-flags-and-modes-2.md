---
description: Существует несколько атрибутов сокета, которые могут быть указаны с помощью параметра flags в Вспсоккет.
ms.assetid: 5fd4321b-a5cc-4921-bec5-bdf625261ea2
title: Флаги и режимы атрибута Socket
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 8da1a5f621a7d9f489f4e91782462c215659772b
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "105712540"
---
# <a name="socket-attribute-flags-and-modes"></a><span data-ttu-id="631c3-103">Флаги и режимы атрибута Socket</span><span class="sxs-lookup"><span data-stu-id="631c3-103">Socket Attribute Flags and Modes</span></span>

<span data-ttu-id="631c3-104">Существует несколько атрибутов сокета, которые могут быть указаны с помощью параметра *flags* в [**вспсоккет**](/windows/desktop/api/Ws2spi/nc-ws2spi-lpwspsocket).</span><span class="sxs-lookup"><span data-stu-id="631c3-104">There are several socket attributes which can be indicated through the *flags* parameter in [**WSPSocket**](/windows/desktop/api/Ws2spi/nc-ws2spi-lpwspsocket).</span></span> <span data-ttu-id="631c3-105">Флаг с \_ \_ перекрытием флагов WSA указывает, что сокет будет использоваться для перекрывающихся операций ввода-вывода.</span><span class="sxs-lookup"><span data-stu-id="631c3-105">The WSA\_FLAG\_OVERLAPPED flag indicates that a socket will be used for overlapped I/O operations.</span></span> <span data-ttu-id="631c3-106">Поддержка этого атрибута обязательна для всех поставщиков услуг.</span><span class="sxs-lookup"><span data-stu-id="631c3-106">Support of this attribute is mandatory for all service providers.</span></span> <span data-ttu-id="631c3-107">Дополнительные сведения см. в разделе [перекрывающиеся операции ввода-вывода](overlapped-i-o-2.md) .</span><span class="sxs-lookup"><span data-stu-id="631c3-107">See [Overlapped I/O](overlapped-i-o-2.md) for more information.</span></span> <span data-ttu-id="631c3-108">Обратите внимание, что создание сокета с атрибутом OVERLAPPED не влияет на то, находится ли сокет в данный момент в блокирующем или неблокирующем режиме.</span><span class="sxs-lookup"><span data-stu-id="631c3-108">Note that creating a socket with the overlapped attribute has no impact on whether a socket is currently in blocking or nonblocking mode.</span></span> <span data-ttu-id="631c3-109">Сокеты, созданные с помощью атрибута OVERLAPPED, можно использовать для выполнения перекрывающихся операций ввода-вывода, и это не изменяет режим блокировки сокета.</span><span class="sxs-lookup"><span data-stu-id="631c3-109">Sockets created with the overlapped attribute may be used to perform overlapped I/O, and doing so does not change the blocking mode of a socket.</span></span> <span data-ttu-id="631c3-110">Так как перекрывающиеся операции ввода-вывода не блокируются, режим блокировки сокета не имеет значения для этих операций.</span><span class="sxs-lookup"><span data-stu-id="631c3-110">Since overlapped I/O operations do not block, the blocking mode of a socket is irrelevant for these operations.</span></span>

<span data-ttu-id="631c3-111">При создании сокетов, используемых для операций MultiPoint и (или) многоадресной рассылки, используются четыре дополнительных флага атрибутов, а поддержка этих атрибутов является необязательной.</span><span class="sxs-lookup"><span data-stu-id="631c3-111">Four additional attribute flags are used when creating sockets that are to be used for multipoint and/or multicast operations, and support for these attributes is optional.</span></span> <span data-ttu-id="631c3-112">Поставщики, поддерживающие атрибуты MultiPoint, указывают это через XP1 \_ Встроенная \_ MultiPoint bit в соответствующих структурах [**\_ сведений всапротокол**](/windows/win32/api/winsock2/ns-winsock2-wsaprotocol_infoa) .</span><span class="sxs-lookup"><span data-stu-id="631c3-112">Providers that support multipoint attributes indicate this through the XP1\_SUPPPORT\_MULTIPOINT bit in their respective [**WSAPROTOCOL\_INFO**](/windows/win32/api/winsock2/ns-winsock2-wsaprotocol_infoa) structures.</span></span> <span data-ttu-id="631c3-113">Определение и использование каждого из этих флагов см. в разделе [**вспсоккет**](/windows/desktop/api/Ws2spi/nc-ws2spi-lpwspsocket) и [независимые от протокола многоадресные и MultiPoint в API](protocol-independent-multicast-and-multipoint-in-the-spi-2.md) .</span><span class="sxs-lookup"><span data-stu-id="631c3-113">See [**WSPSocket**](/windows/desktop/api/Ws2spi/nc-ws2spi-lpwspsocket) and [Protocol-Independent Multicast and Multipoint in the API](protocol-independent-multicast-and-multipoint-in-the-spi-2.md) for the definition and usage of each of these flags.</span></span> <span data-ttu-id="631c3-114">Только сокеты, созданные с помощью атрибутов, связанных с MultiPoint, можно использовать в функции [**вспжоинлеаф**](/windows/desktop/api/Ws2spi/nc-ws2spi-lpwspjoinleaf) для создания сеансов MultiPoint.</span><span class="sxs-lookup"><span data-stu-id="631c3-114">Only sockets that are created with multipoint-related attributes can be used in the [**WSPJoinLeaf**](/windows/desktop/api/Ws2spi/nc-ws2spi-lpwspjoinleaf) function for creating multipoint sessions.</span></span>

<span data-ttu-id="631c3-115">В любой момент сокет находится в одном из двух режимов: Блокировка и неблокировка.</span><span class="sxs-lookup"><span data-stu-id="631c3-115">A socket is in one of two modes, blocking and nonblocking, at any time.</span></span> <span data-ttu-id="631c3-116">Сокеты создаются в блокирующем режиме по умолчанию и могут быть изменены в неблокирующем режиме путем вызова [**вспасинкселект**](/previous-versions/windows/desktop/legacy/ms742267(v=vs.85)), [**вспевентселект**](/previous-versions/windows/hardware/network/ff566287(v=vs.85))или [**вспиоктл**](/previous-versions/windows/hardware/network/ff566296(v=vs.85)).</span><span class="sxs-lookup"><span data-stu-id="631c3-116">Sockets are created in the blocking mode by default, and can be changed to nonblocking mode by calling [**WSPAsyncSelect**](/previous-versions/windows/desktop/legacy/ms742267(v=vs.85)), [**WSPEventSelect**](/previous-versions/windows/hardware/network/ff566287(v=vs.85)), or [**WSPIoctl**](/previous-versions/windows/hardware/network/ff566296(v=vs.85)).</span></span> <span data-ttu-id="631c3-117">Сокет можно переключить обратно в режим блокировки с помощью **вспиоктл** , если **вспасинкселект** или **вспевентселект** не активны.</span><span class="sxs-lookup"><span data-stu-id="631c3-117">A socket can be switched back to blocking mode by using **WSPIoctl** if no **WSPAsyncSelect** or **WSPEventSelect** is active.</span></span> <span data-ttu-id="631c3-118">Режим для сокета влияет только на те функции, которые могут блокироваться и не влияет на операции ввода-вывода с перекрытием.</span><span class="sxs-lookup"><span data-stu-id="631c3-118">The mode for a socket only affects those functions which may block, and does not affect overlapped I/O operations.</span></span> <span data-ttu-id="631c3-119">Дополнительные сведения см. в разделе [операции блокировки](blocking-operations-2.md) .</span><span class="sxs-lookup"><span data-stu-id="631c3-119">See [Blocking Operations](blocking-operations-2.md) for more information.</span></span>

 

 
