---
description: В следующей таблице описаны \_ параметры сокета TCP иппрото, применяемые к сокетам, созданным для семейств IPv4 и IPv6-адресов (AF \_ INET и AF \_ INET6) с параметром протокола для функции сокета, указанной как TCP (иппрото \_ TCP).
ms.assetid: 2a10498d-0a0b-4a2d-941e-9aa45a1a4428
title: Параметры сокета IPPROTO_TCP
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 20d261a639c10faa8c8ef52ba1ae88a0fbc52a16
ms.sourcegitcommit: c8ec1ded1ffffc364d3c4f560bb2171da0dc5040
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/22/2021
ms.locfileid: "105704356"
---
# <a name="ipproto_tcp-socket-options"></a><span data-ttu-id="e8763-103">\_Параметры TCP-сокета иппрото</span><span class="sxs-lookup"><span data-stu-id="e8763-103">IPPROTO\_TCP socket options</span></span>

<span data-ttu-id="e8763-104">В следующей таблице описаны параметры сокета **\_ TCP иппрото** , применяемые к сокетам, созданным для семейств IPv4 и IPv6-адресов (AF \_ INET и AF \_ INET6) с параметром *протокола* для функции [**сокета**](/windows/desktop/api/Winsock2/nf-winsock2-socket) , указанной как TCP (иппрото \_ TCP).</span><span class="sxs-lookup"><span data-stu-id="e8763-104">The following table describes **IPPROTO\_TCP** socket options that apply to sockets created for the IPv4 and IPv6 address families (AF\_INET and AF\_INET6) with the *protocol* parameter to the [**socket**](/windows/desktop/api/Winsock2/nf-winsock2-socket) function specified as TCP (IPPROTO\_TCP).</span></span> <span data-ttu-id="e8763-105">Дополнительные сведения о получении и настройке параметров сокета см. на страницах справочника по функциям [**жетсоккопт**](/windows/desktop/api/winsock/nf-winsock-getsockopt) и [**сетсоккопт**](/windows/desktop/api/winsock/nf-winsock-setsockopt) .</span><span class="sxs-lookup"><span data-stu-id="e8763-105">See the [**getsockopt**](/windows/desktop/api/winsock/nf-winsock-getsockopt) and [**setsockopt**](/windows/desktop/api/winsock/nf-winsock-setsockopt) function reference pages for more information on getting and setting socket options.</span></span>

<span data-ttu-id="e8763-106">Для перечисления протоколов и обнаружения поддерживаемых свойств для каждого установленного протокола используйте функцию [**всаенумпротоколс**](/windows/desktop/api/Winsock2/nf-winsock2-wsaenumprotocolsa), [**всценумпротоколс**](/windows/desktop/api/Ws2spi/nf-ws2spi-wscenumprotocols)или [**WSCEnumProtocols32**](/windows/desktop/api/Ws2spi/nf-ws2spi-wscenumprotocols32) .</span><span class="sxs-lookup"><span data-stu-id="e8763-106">To enumerate protocols and discover supported properties for each installed protocol, use the [**WSAEnumProtocols**](/windows/desktop/api/Winsock2/nf-winsock2-wsaenumprotocolsa), [**WSCEnumProtocols**](/windows/desktop/api/Ws2spi/nf-ws2spi-wscenumprotocols), or [**WSCEnumProtocols32**](/windows/desktop/api/Ws2spi/nf-ws2spi-wscenumprotocols32) function.</span></span>

## <a name="options"></a><span data-ttu-id="e8763-107">Параметры</span><span class="sxs-lookup"><span data-stu-id="e8763-107">Options</span></span>

<table>
<colgroup>
<col/>
<col/>
<col/>
<col/>
<col/>
</colgroup>
<thead>
<tr class="header">
<th><span data-ttu-id="e8763-108">Параметр</span><span class="sxs-lookup"><span data-stu-id="e8763-108">Option</span></span></th>
<th><span data-ttu-id="e8763-109">Получить</span><span class="sxs-lookup"><span data-stu-id="e8763-109">Get</span></span></th>
<th><span data-ttu-id="e8763-110">Присвойте параметру</span><span class="sxs-lookup"><span data-stu-id="e8763-110">Set</span></span></th>
<th><span data-ttu-id="e8763-111">Тип оптвал</span><span class="sxs-lookup"><span data-stu-id="e8763-111">Optval type</span></span></th>
<th><span data-ttu-id="e8763-112">Описание</span><span class="sxs-lookup"><span data-stu-id="e8763-112">Description</span></span></th>
</tr>
</thead>
<tbody>
<tr>
<td><span data-ttu-id="e8763-113">TCP_BSDURGENT</span><span class="sxs-lookup"><span data-stu-id="e8763-113">TCP_BSDURGENT</span></span></td>
<td><span data-ttu-id="e8763-114">да</span><span class="sxs-lookup"><span data-stu-id="e8763-114">yes</span></span></td>
<td><span data-ttu-id="e8763-115">да</span><span class="sxs-lookup"><span data-stu-id="e8763-115">yes</span></span></td>
<td><span data-ttu-id="e8763-116">DWORD (логическое значение)</span><span class="sxs-lookup"><span data-stu-id="e8763-116">DWORD (Boolean)</span></span></td>
<td><span data-ttu-id="e8763-117">Если <strong>значение — true</strong>, поставщик услуг реализует стиль распространения по ПРОТОКОЛу BSD (по умолчанию) для обработки срочных данных.</span><span class="sxs-lookup"><span data-stu-id="e8763-117">If <strong>TRUE</strong>, the service provider implements the Berkeley Software Distribution (BSD) style (default) for handling expedited data.</span></span> <span data-ttu-id="e8763-118">Этот параметр является обратным параметром TCP_EXPEDITED_1122.</span><span class="sxs-lookup"><span data-stu-id="e8763-118">This option is the inverse of the TCP_EXPEDITED_1122 option.</span></span> <span data-ttu-id="e8763-119">Этот параметр может быть установлен для соединения только один раз.</span><span class="sxs-lookup"><span data-stu-id="e8763-119">This option can be set on the connection only once.</span></span> <span data-ttu-id="e8763-120">Если этот параметр установлен в значение ON, этот параметр не может быть отключен.</span><span class="sxs-lookup"><span data-stu-id="e8763-120">Once this option is set on, this option cannot be turned off.</span></span> <span data-ttu-id="e8763-121">Этот параметр не обязательно должен быть реализован поставщиками служб.</span><span class="sxs-lookup"><span data-stu-id="e8763-121">This option is not required to be implemented by service providers.</span></span> <span data-ttu-id="e8763-122">Параметр включен (по умолчанию имеет значение <strong>true</strong>).</span><span class="sxs-lookup"><span data-stu-id="e8763-122">The option is enabled (set to <strong>TRUE</strong>) by default.</span></span></td>
</tr>
<tr>
<td><span data-ttu-id="e8763-123">TCP_EXPEDITED_1122</span><span class="sxs-lookup"><span data-stu-id="e8763-123">TCP_EXPEDITED_1122</span></span></td>
<td><span data-ttu-id="e8763-124">да</span><span class="sxs-lookup"><span data-stu-id="e8763-124">yes</span></span></td>
<td><span data-ttu-id="e8763-125">да</span><span class="sxs-lookup"><span data-stu-id="e8763-125">yes</span></span></td>
<td><span data-ttu-id="e8763-126">DWORD (логическое значение)</span><span class="sxs-lookup"><span data-stu-id="e8763-126">DWORD (Boolean)</span></span></td>
<td><span data-ttu-id="e8763-127">Если <strong>значение — true</strong>, поставщик услуг реализует срочные данные, как указано в RFC-1222.</span><span class="sxs-lookup"><span data-stu-id="e8763-127">If <strong>TRUE</strong>, the service provider implements the expedited data as specified in RFC-1222.</span></span> <span data-ttu-id="e8763-128">В противном случае используется стиль программного распространения Berkeley (BSD) (по умолчанию).</span><span class="sxs-lookup"><span data-stu-id="e8763-128">Otherwise, the Berkeley Software Distribution (BSD) style (default) is used.</span></span> <span data-ttu-id="e8763-129">Этот параметр может быть установлен для соединения только один раз.</span><span class="sxs-lookup"><span data-stu-id="e8763-129">This option can be set on the connection only once.</span></span> <span data-ttu-id="e8763-130">Если этот параметр установлен в значение ON, этот параметр не может быть отключен.</span><span class="sxs-lookup"><span data-stu-id="e8763-130">Once this option is set on, this option cannot be turned off.</span></span> <span data-ttu-id="e8763-131">Этот параметр не обязательно должен быть реализован поставщиками служб.</span><span class="sxs-lookup"><span data-stu-id="e8763-131">This option is not required to be implemented by service providers.</span></span></td>
</tr>
<tr>
<td><span data-ttu-id="e8763-132">TCP_FAIL_CONNECT_ON_ICMP_ERROR</span><span class="sxs-lookup"><span data-stu-id="e8763-132">TCP_FAIL_CONNECT_ON_ICMP_ERROR</span></span></td>
<td><span data-ttu-id="e8763-133">да</span><span class="sxs-lookup"><span data-stu-id="e8763-133">yes</span></span></td>
<td><span data-ttu-id="e8763-134">да</span><span class="sxs-lookup"><span data-stu-id="e8763-134">yes</span></span></td>
<td><span data-ttu-id="e8763-135">DWORD (логическое значение)</span><span class="sxs-lookup"><span data-stu-id="e8763-135">DWORD (Boolean)</span></span></td>
<td><span data-ttu-id="e8763-136">Если <strong>значение — true</strong>, вызов API соединения будет возвращен после получения ошибки ICMP со значением всаехостунреач.</span><span class="sxs-lookup"><span data-stu-id="e8763-136">If <strong>TRUE</strong>, a connect API call will return upon reception of an ICMP error with value WSAEHOSTUNREACH.</span></span> <span data-ttu-id="e8763-137">Исходный адрес ошибки будет доступен через параметр сокета TCP_ICMP_ERROR_INFO.</span><span class="sxs-lookup"><span data-stu-id="e8763-137">The source address of the error will then be available via the TCP_ICMP_ERROR_INFO socket option.</span></span> <span data-ttu-id="e8763-138">Если <strong>значение равно false</strong>, сокет работает нормально.</span><span class="sxs-lookup"><span data-stu-id="e8763-138">If <strong>FALSE</strong>, the socket behaves normally.</span></span> <span data-ttu-id="e8763-139">Значение по умолчанию — Disabled (значение <strong>false</strong>).</span><span class="sxs-lookup"><span data-stu-id="e8763-139">The default is disabled (set to <strong>FALSE</strong>).</span></span> <span data-ttu-id="e8763-140">Для обеспечения безопасности типов следует использовать функции <a href="/windows/win32/api/ws2tcpip/nf-ws2tcpip-wsagetfailconnectonicmperror">всажетфаилконнектоникмперрор</a> и <a href="/windows/win32/api/ws2tcpip/nf-ws2tcpip-wsasetfailconnectonicmperror">всасетфаилконнектоникмперрор</a> вместо прямого использования параметра сокета.</span><span class="sxs-lookup"><span data-stu-id="e8763-140">For type-safety, you should use the <a href="/windows/win32/api/ws2tcpip/nf-ws2tcpip-wsagetfailconnectonicmperror">WSAGetFailConnectOnIcmpError</a> and <a href="/windows/win32/api/ws2tcpip/nf-ws2tcpip-wsasetfailconnectonicmperror">WSASetFailConnectOnIcmpError</a> functions instead of using the socket option directly.</span></span></td>
</tr>
<tr>
<td><span data-ttu-id="e8763-141">TCP_ICMP_ERROR_INFO</span><span class="sxs-lookup"><span data-stu-id="e8763-141">TCP_ICMP_ERROR_INFO</span></span></td>
<td><span data-ttu-id="e8763-142">да</span><span class="sxs-lookup"><span data-stu-id="e8763-142">yes</span></span></td>
<td><span data-ttu-id="e8763-143">Нет</span><span class="sxs-lookup"><span data-stu-id="e8763-143">no</span></span></td>
<td><span data-ttu-id="e8763-144"><a href="/windows/win32/api/ws2ipdef/ns-ws2ipdef-icmp_error_info">ICMP_ERROR_INFO</a></span><span class="sxs-lookup"><span data-stu-id="e8763-144"><a href="/windows/win32/api/ws2ipdef/ns-ws2ipdef-icmp_error_info">ICMP_ERROR_INFO</a></span></span></td>
<td><span data-ttu-id="e8763-145">Извлекает сведения об ошибке ICMP, полученной TCP-сокетом во время неудачного вызова соединения.</span><span class="sxs-lookup"><span data-stu-id="e8763-145">Retrieves the info of an ICMP error received by the TCP socket during a failed connect call.</span></span> <span data-ttu-id="e8763-146">Допустим только для сокета TCP, где TCP_FAIL_CONNECT_ON_ICMP_ERROR ранее было включено, а <strong>Connect</strong> вернула всаехостунреач.</span><span class="sxs-lookup"><span data-stu-id="e8763-146">Only valid on a TCP socket where TCP_FAIL_CONNECT_ON_ICMP_ERROR has previously been enabled, and <strong>connect</strong> has returned WSAEHOSTUNREACH.</span></span> <span data-ttu-id="e8763-147">Запрос не блокируется.</span><span class="sxs-lookup"><span data-stu-id="e8763-147">The query is non-blocking.</span></span> <span data-ttu-id="e8763-148">Если запрос выполнен успешно, а возвращенное значение оптлен равно 0, то с момента последнего вызова соединения не было получено ни одной ошибки ICMP.</span><span class="sxs-lookup"><span data-stu-id="e8763-148">If queried successfully and the returned optlen value is 0, then no ICMP error has been received since the last connect call.</span></span> <span data-ttu-id="e8763-149">При получении сообщения об ошибке ICMP сведения о ней будут доступны до тех пор, пока не будет вызвано <strong>Подключение</strong> .</span><span class="sxs-lookup"><span data-stu-id="e8763-149">If an ICMP error was received, its info will be available until <strong>connect</strong> is called again.</span></span> <span data-ttu-id="e8763-150">Сведения возвращаются в виде структуры <a href="/windows/win32/api/ws2ipdef/ns-ws2ipdef-icmp_error_info">ICMP_ERROR_INFO</a> .</span><span class="sxs-lookup"><span data-stu-id="e8763-150">The info is returned as an <a href="/windows/win32/api/ws2ipdef/ns-ws2ipdef-icmp_error_info">ICMP_ERROR_INFO</a> structure.</span></span> <span data-ttu-id="e8763-151">Для обеспечения безопасности типа следует использовать функцию <a href="/windows/win32/api/ws2tcpip/nf-ws2tcpip-wsageticmperrorinfo">всажетикмперроринфо</a> вместо прямого использования параметра Socket.</span><span class="sxs-lookup"><span data-stu-id="e8763-151">For type-safety, you should use the <a href="/windows/win32/api/ws2tcpip/nf-ws2tcpip-wsageticmperrorinfo">WSAGetIcmpErrorInfo</a> function instead of using the socket option directly.</span></span></td>
</tr>
<tr>
<td><span data-ttu-id="e8763-152">TCP_KEEPCNT</span><span class="sxs-lookup"><span data-stu-id="e8763-152">TCP_KEEPCNT</span></span></td>
<td><span data-ttu-id="e8763-153">да</span><span class="sxs-lookup"><span data-stu-id="e8763-153">yes</span></span></td>
<td><span data-ttu-id="e8763-154">да</span><span class="sxs-lookup"><span data-stu-id="e8763-154">yes</span></span></td>
<td><span data-ttu-id="e8763-155">DWORD</span><span class="sxs-lookup"><span data-stu-id="e8763-155">DWORD</span></span></td>
<td><span data-ttu-id="e8763-156">Возвращает или задает число проверок активности протокола TCP, которые будут отправлены до завершения подключения.</span><span class="sxs-lookup"><span data-stu-id="e8763-156">Gets or sets the number of TCP keep alive probes that will be sent before the connection is terminated.</span></span> <span data-ttu-id="e8763-157">Недопустимо присвоить TCP_KEEPCNT значение больше 255.</span><span class="sxs-lookup"><span data-stu-id="e8763-157">It is illegal to set TCP_KEEPCNT to a value greater than 255.</span></span></td>
</tr>
<tr>
<td><span data-ttu-id="e8763-158">TCP_MAXRT</span><span class="sxs-lookup"><span data-stu-id="e8763-158">TCP_MAXRT</span></span></td>
<td><span data-ttu-id="e8763-159">да</span><span class="sxs-lookup"><span data-stu-id="e8763-159">yes</span></span></td>
<td><span data-ttu-id="e8763-160">да</span><span class="sxs-lookup"><span data-stu-id="e8763-160">yes</span></span></td>
<td><span data-ttu-id="e8763-161">DWORD</span><span class="sxs-lookup"><span data-stu-id="e8763-161">DWORD</span></span></td>
<td><span data-ttu-id="e8763-162">Если это значение не отрицательное, оно представляет время ожидания подключения в секундах.</span><span class="sxs-lookup"><span data-stu-id="e8763-162">If this value is non-negative, it represents the desired connection timeout in seconds.</span></span> <span data-ttu-id="e8763-163">Если он равен-1, он представляет запрос на отключение времени ожидания соединения (т. е. подключение будет передано бессрочно).</span><span class="sxs-lookup"><span data-stu-id="e8763-163">If it is -1, it represents a request to disable connection timeout (i.e. the connection will retransmit forever).</span></span> <span data-ttu-id="e8763-164">Если время ожидания соединения отключено, время ожидания повторной передачи увеличивается экспоненциально для каждой повторной передачи до максимального значения 60sec, а затем остается там.</span><span class="sxs-lookup"><span data-stu-id="e8763-164">If the connection timeout is disabled, the retransmit timeout increases exponentially for each retransmission up to its maximum value of 60sec and then stays there.</span></span></td>
</tr>
<tr>
<td><span data-ttu-id="e8763-165">TCP_NODELAY</span><span class="sxs-lookup"><span data-stu-id="e8763-165">TCP_NODELAY</span></span></td>
<td><span data-ttu-id="e8763-166">да</span><span class="sxs-lookup"><span data-stu-id="e8763-166">yes</span></span></td>
<td><span data-ttu-id="e8763-167">да</span><span class="sxs-lookup"><span data-stu-id="e8763-167">yes</span></span></td>
<td><span data-ttu-id="e8763-168">DWORD (логическое значение)</span><span class="sxs-lookup"><span data-stu-id="e8763-168">DWORD (Boolean)</span></span></td>
<td><span data-ttu-id="e8763-169">Включает или отключает алгоритм Nagle для сокетов TCP.</span><span class="sxs-lookup"><span data-stu-id="e8763-169">Enables or disables the Nagle algorithm for TCP sockets.</span></span> <span data-ttu-id="e8763-170">По умолчанию этот параметр отключен (имеет значение FALSE).</span><span class="sxs-lookup"><span data-stu-id="e8763-170">This option is disabled (set to FALSE) by default.</span></span></td>
</tr>
<tr>
<td><span data-ttu-id="e8763-171">TCP_TIMESTAMPS</span><span class="sxs-lookup"><span data-stu-id="e8763-171">TCP_TIMESTAMPS</span></span></td>
<td><span data-ttu-id="e8763-172">да</span><span class="sxs-lookup"><span data-stu-id="e8763-172">yes</span></span></td>
<td><span data-ttu-id="e8763-173">да</span><span class="sxs-lookup"><span data-stu-id="e8763-173">yes</span></span></td>
<td><span data-ttu-id="e8763-174">DWORD (логическое значение)</span><span class="sxs-lookup"><span data-stu-id="e8763-174">DWORD (Boolean)</span></span></td>
<td><span data-ttu-id="e8763-175">Включает или отключает отметки времени RFC 1323.</span><span class="sxs-lookup"><span data-stu-id="e8763-175">Enables or disables RFC 1323 time stamps.</span></span> <span data-ttu-id="e8763-176">Обратите внимание, что также существует Глобальная конфигурация для меток времени (по умолчанию — OFF), &quot; отметок времени &quot; в (set/get)-нетткпсеттинг.</span><span class="sxs-lookup"><span data-stu-id="e8763-176">Note that there is also a global configuration for timestamps (default is off), &quot;Timestamps&quot; in (set/get)-nettcpsetting.</span></span> <span data-ttu-id="e8763-177">Установка этого параметра сокета переопределяет этот глобальный параметр конфигурации.</span><span class="sxs-lookup"><span data-stu-id="e8763-177">Setting this socket option overrides that global configuration setting.</span></span></td>
</tr>
<tr>
<td><span data-ttu-id="e8763-178">TCP_FASTOPEN</span><span class="sxs-lookup"><span data-stu-id="e8763-178">TCP_FASTOPEN</span></span></td>
<td><span data-ttu-id="e8763-179">да</span><span class="sxs-lookup"><span data-stu-id="e8763-179">yes</span></span></td>
<td><span data-ttu-id="e8763-180">да</span><span class="sxs-lookup"><span data-stu-id="e8763-180">yes</span></span></td>
<td><span data-ttu-id="e8763-181">DWORD (логическое значение)</span><span class="sxs-lookup"><span data-stu-id="e8763-181">DWORD (Boolean)</span></span></td>
<td><span data-ttu-id="e8763-182">Включает или отключает <a href="https://tools.ietf.org/html/rfc7413">функцию RFC 7413</a> TCP Fast Open, которая позволяет начать отправку данных на этапе 3-стороннего подтверждения соединения.</span><span class="sxs-lookup"><span data-stu-id="e8763-182">Enables or disables <a href="https://tools.ietf.org/html/rfc7413">RFC 7413</a> TCP Fast Open, which enables you to start sending data during the three-way handshake phase of opening a connection.</span></span> <span data-ttu-id="e8763-183">Обратите внимание, что чтобы использовать быстрое открытие, следует использовать <a href="/windows/desktop/api/Mswsock/nc-mswsock-lpfn_connectex"><strong>коннектекс</strong></a> для создания начального соединения и указать данные в параметре <em>лпсендбуффер</em> этой функции для передачи в процессе подтверждения.</span><span class="sxs-lookup"><span data-stu-id="e8763-183">Note that to make use of fast opens, you should use <a href="/windows/desktop/api/Mswsock/nc-mswsock-lpfn_connectex"><strong>ConnectEx</strong></a> to make the initial connection, and specify data in that function's <em>lpSendBuffer</em> parameter to be transferred during the handshake process.</span></span> <span data-ttu-id="e8763-184">Некоторые данные в <em>лпсендбуффер</em> будут передаваться по протоколу быстрого открытия.</span><span class="sxs-lookup"><span data-stu-id="e8763-184">Some of the data in <em>lpSendBuffer</em> will be transferred under the Fast Open protocol.</span></span></td>
</tr>
<tr>
<td><span data-ttu-id="e8763-185">TCP_KEEPIDLE</span><span class="sxs-lookup"><span data-stu-id="e8763-185">TCP_KEEPIDLE</span></span></td>
<td><span data-ttu-id="e8763-186">да</span><span class="sxs-lookup"><span data-stu-id="e8763-186">yes</span></span></td>
<td><span data-ttu-id="e8763-187">да</span><span class="sxs-lookup"><span data-stu-id="e8763-187">yes</span></span></td>
<td><span data-ttu-id="e8763-188">DWORD</span><span class="sxs-lookup"><span data-stu-id="e8763-188">DWORD</span></span></td>
<td><span data-ttu-id="e8763-189">Возвращает или задает время в секундах, в течение которого TCP-подключение будет оставаться бездействующим, прежде чем зонды проверки активности будут отправлены удаленному.</span><span class="sxs-lookup"><span data-stu-id="e8763-189">Gets or sets the number of seconds a TCP connection will remain idle before keepalive probes are sent to the remote.</span></span>
<blockquote>
[!Note]<br />
<span data-ttu-id="e8763-190">Этот параметр доступен начиная с Windows 10, версия 1709.</span><span class="sxs-lookup"><span data-stu-id="e8763-190">This option is available starting with Windows 10, version 1709.</span></span>
</blockquote>
<br/></td>
</tr>
<tr>
<td><span data-ttu-id="e8763-191">TCP_KEEPINTVL</span><span class="sxs-lookup"><span data-stu-id="e8763-191">TCP_KEEPINTVL</span></span></td>
<td><span data-ttu-id="e8763-192">да</span><span class="sxs-lookup"><span data-stu-id="e8763-192">yes</span></span></td>
<td><span data-ttu-id="e8763-193">да</span><span class="sxs-lookup"><span data-stu-id="e8763-193">yes</span></span></td>
<td><span data-ttu-id="e8763-194">DWORD</span><span class="sxs-lookup"><span data-stu-id="e8763-194">DWORD</span></span></td>
<td><span data-ttu-id="e8763-195">Возвращает или задает время в секундах, в течение которого TCP-подключение будет ожидать ответа на KeepAlive перед отправкой другой проверки активности.</span><span class="sxs-lookup"><span data-stu-id="e8763-195">Gets or sets the number of seconds a TCP connection will wait for a keepalive response before sending another keepalive probe.</span></span>
<blockquote>
[!Note]<br />
<span data-ttu-id="e8763-196">Этот параметр доступен начиная с Windows 10, версия 1709.</span><span class="sxs-lookup"><span data-stu-id="e8763-196">This option is available starting with Windows 10, version 1709.</span></span>
</blockquote>
<br/></td>
</tr>
</tbody>
</table>

## <a name="windows-support-for-ipproto_tcp-options"></a><span data-ttu-id="e8763-197">Поддержка параметров TCP ИППРОТО в Windows \_</span><span class="sxs-lookup"><span data-stu-id="e8763-197">Windows support for IPPROTO\_TCP options</span></span>

| <span data-ttu-id="e8763-198">Параметр</span><span class="sxs-lookup"><span data-stu-id="e8763-198">Option</span></span> | <span data-ttu-id="e8763-199">Windows 10</span><span class="sxs-lookup"><span data-stu-id="e8763-199">Windows 10</span></span> | <span data-ttu-id="e8763-200">Windows 7</span><span class="sxs-lookup"><span data-stu-id="e8763-200">Windows 7</span></span> | <span data-ttu-id="e8763-201">Windows Server 2008</span><span class="sxs-lookup"><span data-stu-id="e8763-201">Windows Server 2008</span></span> | <span data-ttu-id="e8763-202">Windows Vista</span><span class="sxs-lookup"><span data-stu-id="e8763-202">Windows Vista</span></span> |
|-|-|-|-|-|
| <span data-ttu-id="e8763-203">\_БСДУРЖЕНТ TCP</span><span class="sxs-lookup"><span data-stu-id="e8763-203">TCP\_BSDURGENT</span></span> | <span data-ttu-id="e8763-204">x</span><span class="sxs-lookup"><span data-stu-id="e8763-204">x</span></span> | <span data-ttu-id="e8763-205">x</span><span class="sxs-lookup"><span data-stu-id="e8763-205">x</span></span> | <span data-ttu-id="e8763-206">x</span><span class="sxs-lookup"><span data-stu-id="e8763-206">x</span></span> | <span data-ttu-id="e8763-207">x</span><span class="sxs-lookup"><span data-stu-id="e8763-207">x</span></span> |
| <span data-ttu-id="e8763-208">TCP, \_ срочный \_ 1122</span><span class="sxs-lookup"><span data-stu-id="e8763-208">TCP\_EXPEDITED\_1122</span></span> | <span data-ttu-id="e8763-209">x</span><span class="sxs-lookup"><span data-stu-id="e8763-209">x</span></span> | <span data-ttu-id="e8763-210">x</span><span class="sxs-lookup"><span data-stu-id="e8763-210">x</span></span> | <span data-ttu-id="e8763-211">x</span><span class="sxs-lookup"><span data-stu-id="e8763-211">x</span></span> | <span data-ttu-id="e8763-212">x</span><span class="sxs-lookup"><span data-stu-id="e8763-212">x</span></span> |
| <span data-ttu-id="e8763-213">\_КИПКНТ TCP</span><span class="sxs-lookup"><span data-stu-id="e8763-213">TCP\_KEEPCNT</span></span> | <span data-ttu-id="e8763-214">Начиная с Windows 10, версия 1703</span><span class="sxs-lookup"><span data-stu-id="e8763-214">Starting with Windows 10, version 1703</span></span> | | | |
| <span data-ttu-id="e8763-215">\_МАКСРТ TCP</span><span class="sxs-lookup"><span data-stu-id="e8763-215">TCP\_MAXRT</span></span> | <span data-ttu-id="e8763-216">x</span><span class="sxs-lookup"><span data-stu-id="e8763-216">x</span></span> | <span data-ttu-id="e8763-217">x</span><span class="sxs-lookup"><span data-stu-id="e8763-217">x</span></span> | <span data-ttu-id="e8763-218">x</span><span class="sxs-lookup"><span data-stu-id="e8763-218">x</span></span> | <span data-ttu-id="e8763-219">x</span><span class="sxs-lookup"><span data-stu-id="e8763-219">x</span></span> |
| <span data-ttu-id="e8763-220">\_Задержка TCP</span><span class="sxs-lookup"><span data-stu-id="e8763-220">TCP\_NODELAY</span></span> | <span data-ttu-id="e8763-221">x</span><span class="sxs-lookup"><span data-stu-id="e8763-221">x</span></span> | <span data-ttu-id="e8763-222">x</span><span class="sxs-lookup"><span data-stu-id="e8763-222">x</span></span> | <span data-ttu-id="e8763-223">x</span><span class="sxs-lookup"><span data-stu-id="e8763-223">x</span></span> | <span data-ttu-id="e8763-224">x</span><span class="sxs-lookup"><span data-stu-id="e8763-224">x</span></span> |
| <span data-ttu-id="e8763-225">\_метки времени TCP</span><span class="sxs-lookup"><span data-stu-id="e8763-225">TCP\_TIMESTAMPS</span></span> | <span data-ttu-id="e8763-226">x</span><span class="sxs-lookup"><span data-stu-id="e8763-226">x</span></span> | <span data-ttu-id="e8763-227">x</span><span class="sxs-lookup"><span data-stu-id="e8763-227">x</span></span> | <span data-ttu-id="e8763-228">x</span><span class="sxs-lookup"><span data-stu-id="e8763-228">x</span></span> | <span data-ttu-id="e8763-229">x</span><span class="sxs-lookup"><span data-stu-id="e8763-229">x</span></span> |
| <span data-ttu-id="e8763-230">\_ФАСТОПЕН TCP</span><span class="sxs-lookup"><span data-stu-id="e8763-230">TCP\_FASTOPEN</span></span> | <span data-ttu-id="e8763-231">Начиная с Windows 10, версия 1607</span><span class="sxs-lookup"><span data-stu-id="e8763-231">Starting with Windows 10, version 1607</span></span> | | | |

<br/>

 | <span data-ttu-id="e8763-232">Параметр</span><span class="sxs-lookup"><span data-stu-id="e8763-232">Option</span></span> | <span data-ttu-id="e8763-233">Windows Server 2003</span><span class="sxs-lookup"><span data-stu-id="e8763-233">Windows Server 2003</span></span> | <span data-ttu-id="e8763-234">Windows XP</span><span class="sxs-lookup"><span data-stu-id="e8763-234">Windows XP</span></span> | <span data-ttu-id="e8763-235">Windows 2000</span><span class="sxs-lookup"><span data-stu-id="e8763-235">Windows 2000</span></span> | <span data-ttu-id="e8763-236">Windows NT4</span><span class="sxs-lookup"><span data-stu-id="e8763-236">Windows NT4</span></span> | <span data-ttu-id="e8763-237">Windows 9x и Me</span><span class="sxs-lookup"><span data-stu-id="e8763-237">Windows 9x/Me</span></span> |
|-|-|-|-|-|-|
| <span data-ttu-id="e8763-238">\_БСДУРЖЕНТ TCP</span><span class="sxs-lookup"><span data-stu-id="e8763-238">TCP\_BSDURGENT</span></span> | <span data-ttu-id="e8763-239">x</span><span class="sxs-lookup"><span data-stu-id="e8763-239">x</span></span> | <span data-ttu-id="e8763-240">x</span><span class="sxs-lookup"><span data-stu-id="e8763-240">x</span></span> | <span data-ttu-id="e8763-241">x</span><span class="sxs-lookup"><span data-stu-id="e8763-241">x</span></span> | <span data-ttu-id="e8763-242">x</span><span class="sxs-lookup"><span data-stu-id="e8763-242">x</span></span> | |
| <span data-ttu-id="e8763-243">TCP, \_ срочный \_ 1122</span><span class="sxs-lookup"><span data-stu-id="e8763-243">TCP\_EXPEDITED\_1122</span></span> | <span data-ttu-id="e8763-244">x</span><span class="sxs-lookup"><span data-stu-id="e8763-244">x</span></span> | <span data-ttu-id="e8763-245">x</span><span class="sxs-lookup"><span data-stu-id="e8763-245">x</span></span> | <span data-ttu-id="e8763-246">x</span><span class="sxs-lookup"><span data-stu-id="e8763-246">x</span></span> | | |
| <span data-ttu-id="e8763-247">\_КИПКНТ TCP</span><span class="sxs-lookup"><span data-stu-id="e8763-247">TCP\_KEEPCNT</span></span> | | | | | |
| <span data-ttu-id="e8763-248">\_МАКСРТ TCP</span><span class="sxs-lookup"><span data-stu-id="e8763-248">TCP\_MAXRT</span></span> | | | | | |
| <span data-ttu-id="e8763-249">\_Задержка TCP</span><span class="sxs-lookup"><span data-stu-id="e8763-249">TCP\_NODELAY</span></span> | <span data-ttu-id="e8763-250">x</span><span class="sxs-lookup"><span data-stu-id="e8763-250">x</span></span> | <span data-ttu-id="e8763-251">x</span><span class="sxs-lookup"><span data-stu-id="e8763-251">x</span></span> | <span data-ttu-id="e8763-252">x</span><span class="sxs-lookup"><span data-stu-id="e8763-252">x</span></span> | <span data-ttu-id="e8763-253">x</span><span class="sxs-lookup"><span data-stu-id="e8763-253">x</span></span> | |
| <span data-ttu-id="e8763-254">\_метки времени TCP</span><span class="sxs-lookup"><span data-stu-id="e8763-254">TCP\_TIMESTAMPS</span></span> | | | | | |
| <span data-ttu-id="e8763-255">\_ФАСТОПЕН TCP</span><span class="sxs-lookup"><span data-stu-id="e8763-255">TCP\_FASTOPEN</span></span> | | | | | |

## <a name="remarks"></a><span data-ttu-id="e8763-256">Комментарии</span><span class="sxs-lookup"><span data-stu-id="e8763-256">Remarks</span></span>

<span data-ttu-id="e8763-257">В пакете средств разработки программного обеспечения Microsoft Windows (SDK), выпущенном для Windows Vista и более поздних версий, была изменена организация файлов заголовков, а в файле заголовка *Ws2def. h* , который автоматически включается в заголовочный файл *Winsock2. h* , определен **иппрото уровень \_ TCP** .</span><span class="sxs-lookup"><span data-stu-id="e8763-257">In the Microsoft Windows Software Development Kit (SDK) released for Windows Vista and later, the organization of header files has changed and **IPPROTO\_TCP** level is defined in the *Ws2def.h* header file which is automatically included in the *Winsock2.h* header file.</span></span> <span data-ttu-id="e8763-258">Параметры сокета **\_ TCP иппрото** , за исключением **протокола TCP \_ бсдуржент**, определены в файле заголовка *Ws2ipdef. h* , который автоматически включается в файл заголовка *Ws2tcpip. h* .</span><span class="sxs-lookup"><span data-stu-id="e8763-258">The **IPPROTO\_TCP** socket options, with the exception of **TCP\_BSDURGENT**, are defined in the *Ws2ipdef.h* header file which is automatically included in the *Ws2tcpip.h* header file.</span></span> <span data-ttu-id="e8763-259">Параметр **TCP \_ бсдуржент** по историческим причинам определен в файле заголовка *мсвсокк. h* .</span><span class="sxs-lookup"><span data-stu-id="e8763-259">The **TCP\_BSDURGENT** option for historic reasons is defined in the *Mswsock.h* header file.</span></span> <span data-ttu-id="e8763-260">Файлы заголовков *Ws2def. h* и *Ws2ipdef. h* никогда не следует использовать напрямую.</span><span class="sxs-lookup"><span data-stu-id="e8763-260">The *Ws2def.h* and *Ws2ipdef.h* header files should never be used directly.</span></span>

## <a name="requirements"></a><span data-ttu-id="e8763-261">Требования</span><span class="sxs-lookup"><span data-stu-id="e8763-261">Requirements</span></span>

| <span data-ttu-id="e8763-262">Требование</span><span class="sxs-lookup"><span data-stu-id="e8763-262">Requirement</span></span> | <span data-ttu-id="e8763-263">Значение</span><span class="sxs-lookup"><span data-stu-id="e8763-263">Value</span></span> |
|-|-|
| <span data-ttu-id="e8763-264">Header</span><span class="sxs-lookup"><span data-stu-id="e8763-264">Header</span></span> | <dl> <span data-ttu-id="e8763-265"><dt>Ws2def. h (включает Winsock2. h); </dt> <dt>Winsock2. h в Windows Server 2003, Windows XP и windows 2000</dt></span><span class="sxs-lookup"><span data-stu-id="e8763-265"><dt>Ws2def.h (include Winsock2.h); </dt> <dt>Winsock2.h on Windows Server 2003, Windows XP and Windows 2000</dt></span></span> </dl> |
