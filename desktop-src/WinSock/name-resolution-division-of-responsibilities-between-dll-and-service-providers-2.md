---
title: Разрешение имен для библиотек DLL и поставщиков служб
description: Следующие абзацы описывают, как \_32.dll Ws2 и поставщики пространств имен реализуют службы разрешения имен, ПОДДЕРЖИВАЕМЫЕ API Winsock.
ms.assetid: 25fcb1c2-2d28-41a0-9124-05608f22420f
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: b527f0849eb441ab7bc8d096c0198d703f2ce337
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "103991112"
---
# <a name="name-resolution-for-dll-and-service-providers"></a><span data-ttu-id="ec729-103">Разрешение имен для библиотек DLL и поставщиков служб</span><span class="sxs-lookup"><span data-stu-id="ec729-103">Name resolution for DLL and service providers</span></span>

<span data-ttu-id="ec729-104">Следующие абзацы описывают, как \_32.dll Ws2 и поставщики пространств имен реализуют службы разрешения имен, ПОДДЕРЖИВАЕМЫЕ API Winsock.</span><span class="sxs-lookup"><span data-stu-id="ec729-104">The following paragraphs describe how the Ws2\_32.dll and the namespace providers implement the name resolution services supported by the Winsock API.</span></span>

## <a name="ws2_32dll-functionality-for-name-resolution"></a><span data-ttu-id="ec729-105">\_Функции32.dll Ws2 для разрешения имен</span><span class="sxs-lookup"><span data-stu-id="ec729-105">Ws2\_32.dll Functionality for Name Resolution</span></span>

<span data-ttu-id="ec729-106">Ws2 \_32.dll управляет загрузкой регистраций и требованием загрузки отдельных библиотек DLL поставщика пространства имен.</span><span class="sxs-lookup"><span data-stu-id="ec729-106">The Ws2\_32.dll manages the registration and demand loading of individual namespace provider DLLs.</span></span> <span data-ttu-id="ec729-107">Он также отвечает за операции по пространству имен, переданные из приложения Windows Sockets 2 в соответствующий набор поставщиков пространства имен.</span><span class="sxs-lookup"><span data-stu-id="ec729-107">It also is responsible for routing namespace operations from a Windows Sockets 2 application to the appropriate set of namespace providers.</span></span> <span data-ttu-id="ec729-108">Это сопоставление регулируется значениями параметров пространства имен и идентификатора поставщика услуг, которые находятся в отдельных функциях API.</span><span class="sxs-lookup"><span data-stu-id="ec729-108">This mapping is governed by the value of namespace and service provider identifier parameters that are found in individual API functions.</span></span> <span data-ttu-id="ec729-109">Как правило, при ссылке на конкретный поставщик пространства имен операция направляется только в идентифицированный поставщик.</span><span class="sxs-lookup"><span data-stu-id="ec729-109">As a general rule, when a specific namespace provider is referenced, the operation is only routed to an identified provider.</span></span> <span data-ttu-id="ec729-110">Если идентификатор поставщика пространства имен имеет значение null, но имеется ссылка на определенное пространство имен, операция направляется во все поставщики пространств имен, поддерживающие идентифицированное пространство имен.</span><span class="sxs-lookup"><span data-stu-id="ec729-110">If the namespace provider identifier is null but a particular namespace is referenced, the operation is routed to all namespace providers that support the identified namespace.</span></span> <span data-ttu-id="ec729-111">Если идентификатор поставщика пространства имен равен null, а идентификатор пространства имен задан как NS \_ ALL, операция направляется во все активные поставщики пространства имен.</span><span class="sxs-lookup"><span data-stu-id="ec729-111">If the namespace provider identifier is null and the namespace identifier is given as NS\_ALL, then the operation is routed to all active namespace providers.</span></span>

<span data-ttu-id="ec729-112">В процессе запуска запроса к одному или нескольким поставщикам услуг Ws2 \_32.dll выделяет объект для отслеживания текущего состояния запроса.</span><span class="sxs-lookup"><span data-stu-id="ec729-112">As part of starting a query to one or more service providers, the Ws2\_32.dll allocates an object to keep track of the ongoing state of the query.</span></span> <span data-ttu-id="ec729-113">Непрозрачный маркер, представляющий этот объект, возвращается приложению, которое запустило запрос.</span><span class="sxs-lookup"><span data-stu-id="ec729-113">An opaque handle representing this object is returned to the application that started the query.</span></span> <span data-ttu-id="ec729-114">Приложение предоставляет этот обработчик как параметр при каждом повторном вызове функции интерфейса приложения для получения следующей единицы данных, полученной из запроса.</span><span class="sxs-lookup"><span data-stu-id="ec729-114">The application supplies this handle as a parameter each time it repetitively calls an application interface function to retrieve the next unit of data resulting from the query.</span></span>

<span data-ttu-id="ec729-115">В ответ на эти вызовы процедур интерфейса приложения Ws2 \_32.dll использует информацию, которая хранится в объекте, для выполнения соответствующих вызовов к поставщикам пространства имен, вовлеченным в запрос.</span><span class="sxs-lookup"><span data-stu-id="ec729-115">In response to these application interface procedure calls, the Ws2\_32.dll uses the information it stores in the object to make corresponding calls to the namespace providers involved in the query.</span></span> <span data-ttu-id="ec729-116">Ws2 \_32.dll обновляет сведения в своем объекте при каждом последовательном вызове интерфейса приложения, чтобы соответствующие вызовы поставщиков пространств имен выполнялись соответствующим образом с помощью всех поставщиков пространства имен, вовлеченных в запрос.</span><span class="sxs-lookup"><span data-stu-id="ec729-116">The Ws2\_32.dll updates the information in its object as each successive application interface call occurs so that the corresponding calls to namespace providers progress appropriately through all of the namespace providers involved in the query.</span></span>

## <a name="namespace-provider-functionality"></a><span data-ttu-id="ec729-117">Функциональные возможности поставщика пространства имен</span><span class="sxs-lookup"><span data-stu-id="ec729-117">Namespace Provider Functionality</span></span>

<span data-ttu-id="ec729-118">Каждый поставщик пространства имен отвечает за сопоставление набора функций, отображаемых в SPI разрешения имен Windows Sockets 2, с соответствующими транзакциями с поддерживаемым пространством имен.</span><span class="sxs-lookup"><span data-stu-id="ec729-118">Each namespace provider is responsible for mapping the set of functions appearing in the Windows Sockets 2 name resolution SPI to the appropriate transactions with the supported namespace.</span></span> <span data-ttu-id="ec729-119">В некоторых случаях это важно для сопоставления SPI с любым собственным интерфейсом, существующим для пространства имен.</span><span class="sxs-lookup"><span data-stu-id="ec729-119">In some cases, this is primarily a matter of mapping the SPI to whatever native interface exists for the namespace.</span></span> <span data-ttu-id="ec729-120">В других случаях поставщик пространства имен должен провести транзакции с поставщиком пространства имен по сети.</span><span class="sxs-lookup"><span data-stu-id="ec729-120">In others, the namespace provider must conduct transactions with the namespace provider over the network.</span></span> <span data-ttu-id="ec729-121">Некоторые поставщики пространств имен делают это, выполнив вызовы API-интерфейса сокетов Windows, другие будут использовать частные интерфейсы для связанных транспортных стеков.</span><span class="sxs-lookup"><span data-stu-id="ec729-121">Some namespace providers will do this by making calls to the Windows Sockets API, others will use private interfaces to associated transport stacks.</span></span>

 

 



