---
description: В следующих таблицах описаны \_ Параметры IP-сокета иппрото, применяемые к сокетам, созданным для семейства IPv4-адресов (AF \_ iNet). Дополнительные сведения о получении и настройке параметров сокета см. на страницах справочника по функциям жетсоккопт и сетсоккопт.
ms.assetid: 6b06a29e-59cd-4446-bd2f-131dc25bf571
title: Параметры сокета IPPROTO_IP
ms.topic: article
ms.date: 10/02/2019
ms.openlocfilehash: b4c8daa18e7bd60e61473bdda1c885bbd163f0b4
ms.sourcegitcommit: c8ec1ded1ffffc364d3c4f560bb2171da0dc5040
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/22/2021
ms.locfileid: "105704239"
---
# <a name="ipproto_ip-socket-options"></a><span data-ttu-id="c9cc4-104">\_Параметры IP-сокета иппрото</span><span class="sxs-lookup"><span data-stu-id="c9cc4-104">IPPROTO\_IP socket options</span></span>

<span data-ttu-id="c9cc4-105">В следующих таблицах описываются параметры сокетов **IPPROTO_IP** , которые применяются к сокетам, созданным для семейства IPv4-адресов (AF \_ iNet).</span><span class="sxs-lookup"><span data-stu-id="c9cc4-105">The following tables describe **IPPROTO_IP** socket options that apply to sockets created for the IPv4 address family (AF\_INET).</span></span> <span data-ttu-id="c9cc4-106">Дополнительные сведения о получении и настройке параметров сокета см. на страницах справочника по функциям [**жетсоккопт**](/windows/desktop/api/winsock/nf-winsock-getsockopt) и [**сетсоккопт**](/windows/desktop/api/winsock/nf-winsock-setsockopt) .</span><span class="sxs-lookup"><span data-stu-id="c9cc4-106">See the [**getsockopt**](/windows/desktop/api/winsock/nf-winsock-getsockopt) and [**setsockopt**](/windows/desktop/api/winsock/nf-winsock-setsockopt) function reference pages for more information on getting and setting socket options.</span></span>

<span data-ttu-id="c9cc4-107">Для перечисления протоколов и обнаружения поддерживаемых свойств для каждого установленного протокола используйте функцию [**всаенумпротоколс**](/windows/desktop/api/Winsock2/nf-winsock2-wsaenumprotocolsa), [**всценумпротоколс**](/windows/desktop/api/Ws2spi/nf-ws2spi-wscenumprotocols)или [**WSCEnumProtocols32**](/windows/desktop/api/Ws2spi/nf-ws2spi-wscenumprotocols32) .</span><span class="sxs-lookup"><span data-stu-id="c9cc4-107">To enumerate protocols and discover supported properties for each installed protocol, use the [**WSAEnumProtocols**](/windows/desktop/api/Winsock2/nf-winsock2-wsaenumprotocolsa), [**WSCEnumProtocols**](/windows/desktop/api/Ws2spi/nf-ws2spi-wscenumprotocols), or [**WSCEnumProtocols32**](/windows/desktop/api/Ws2spi/nf-ws2spi-wscenumprotocols32) function.</span></span>

<span data-ttu-id="c9cc4-108">Для некоторых параметров сокета требуется больше объяснений, чем может передать таблица. такие параметры содержат ссылки на дополнительные страницы.</span><span class="sxs-lookup"><span data-stu-id="c9cc4-108">Some socket options require more explanation than these tables can convey; such options contain links to additional pages.</span></span>

## <a name="options"></a><span data-ttu-id="c9cc4-109">Параметры</span><span class="sxs-lookup"><span data-stu-id="c9cc4-109">Options</span></span>

| <span data-ttu-id="c9cc4-110">Параметр</span><span class="sxs-lookup"><span data-stu-id="c9cc4-110">Option</span></span> | <span data-ttu-id="c9cc4-111">Получить</span><span class="sxs-lookup"><span data-stu-id="c9cc4-111">Get</span></span> | <span data-ttu-id="c9cc4-112">Присвойте параметру</span><span class="sxs-lookup"><span data-stu-id="c9cc4-112">Set</span></span> | <span data-ttu-id="c9cc4-113">Тип оптвал</span><span class="sxs-lookup"><span data-stu-id="c9cc4-113">Optval type</span></span> | <span data-ttu-id="c9cc4-114">Описание</span><span class="sxs-lookup"><span data-stu-id="c9cc4-114">Description</span></span> |
|-|-|-|-|-|
| <span data-ttu-id="c9cc4-115">IP_ADD_IFLIST</span><span class="sxs-lookup"><span data-stu-id="c9cc4-115">IP_ADD_IFLIST</span></span> | | <span data-ttu-id="c9cc4-116">да</span><span class="sxs-lookup"><span data-stu-id="c9cc4-116">yes</span></span> | <span data-ttu-id="c9cc4-117">DWORD (IF_INDEX)</span><span class="sxs-lookup"><span data-stu-id="c9cc4-117">DWORD (IF_INDEX)</span></span> | <span data-ttu-id="c9cc4-118">Добавляет индекс интерфейса в ИФЛИСТ, связанный с параметром **IP_IFLIST** .</span><span class="sxs-lookup"><span data-stu-id="c9cc4-118">Adds an interface index to the IFLIST associated with the **IP_IFLIST** option.</span></span> |
| <span data-ttu-id="c9cc4-119">IP_ADD_MEMBERSHIP</span><span class="sxs-lookup"><span data-stu-id="c9cc4-119">IP_ADD_MEMBERSHIP</span></span> | | <span data-ttu-id="c9cc4-120">да</span><span class="sxs-lookup"><span data-stu-id="c9cc4-120">yes</span></span> | [<span data-ttu-id="c9cc4-121">**ip_mreq**</span><span class="sxs-lookup"><span data-stu-id="c9cc4-121">**ip_mreq**</span></span>](/windows/desktop/api/Ws2ipdef/ns-ws2ipdef-ip_mreq) | <span data-ttu-id="c9cc4-122">Присоедините сокет к указанной группе многоадресной рассылки в указанном интерфейсе.</span><span class="sxs-lookup"><span data-stu-id="c9cc4-122">Join the socket to the supplied multicast group on the specified interface.</span></span> |
| <span data-ttu-id="c9cc4-123">IP_ADD_SOURCE_MEMBERSHIP</span><span class="sxs-lookup"><span data-stu-id="c9cc4-123">IP_ADD_SOURCE_MEMBERSHIP</span></span> | | <span data-ttu-id="c9cc4-124">да</span><span class="sxs-lookup"><span data-stu-id="c9cc4-124">yes</span></span> | [<span data-ttu-id="c9cc4-125">**Источник IP- \_ мрек \_**</span><span class="sxs-lookup"><span data-stu-id="c9cc4-125">**ip\_mreq\_source**</span></span>](/windows/desktop/api/Ws2ipdef/ns-ws2ipdef-ip_mreq_source) | <span data-ttu-id="c9cc4-126">Присоедините указанную группу многоадресной рассылки к заданному интерфейсу и примите данные, источником которых является указанный адрес источника.</span><span class="sxs-lookup"><span data-stu-id="c9cc4-126">Join the supplied multicast group on the given interface and accept data sourced from the supplied source address.</span></span> |
| <span data-ttu-id="c9cc4-127">Источник IP- \_ блока \_</span><span class="sxs-lookup"><span data-stu-id="c9cc4-127">IP\_BLOCK\_SOURCE</span></span> | | <span data-ttu-id="c9cc4-128">да</span><span class="sxs-lookup"><span data-stu-id="c9cc4-128">yes</span></span> | [<span data-ttu-id="c9cc4-129">**Источник IP- \_ мрек \_**</span><span class="sxs-lookup"><span data-stu-id="c9cc4-129">**ip\_mreq\_source**</span></span>](/windows/desktop/api/Ws2ipdef/ns-ws2ipdef-ip_mreq_source) | <span data-ttu-id="c9cc4-130">Удаляет данный источник в качестве отправителя для указанной группы многоадресной рассылки и интерфейса.</span><span class="sxs-lookup"><span data-stu-id="c9cc4-130">Removes the given source as a sender to the supplied multicast group and interface.</span></span> |
| <span data-ttu-id="c9cc4-131">IP_DEL_IFLIST</span><span class="sxs-lookup"><span data-stu-id="c9cc4-131">IP_DEL_IFLIST</span></span> | | <span data-ttu-id="c9cc4-132">да</span><span class="sxs-lookup"><span data-stu-id="c9cc4-132">yes</span></span> | <span data-ttu-id="c9cc4-133">DWORD (IF_INDEX)</span><span class="sxs-lookup"><span data-stu-id="c9cc4-133">DWORD (IF_INDEX)</span></span> | <span data-ttu-id="c9cc4-134">Удаляет индекс интерфейса из ИФЛИСТ, связанного с параметром **IP_IFLIST** .</span><span class="sxs-lookup"><span data-stu-id="c9cc4-134">Removes an interface index from the IFLIST associated with the **IP_IFLIST** option.</span></span> <span data-ttu-id="c9cc4-135">Записи могут быть удалены только приложением, поэтому имейте в виду, что записи могут стать устаревшими после удаления интерфейса.</span><span class="sxs-lookup"><span data-stu-id="c9cc4-135">Entries can be removed only by the application, so be aware that entries might go stale once an interface is removed.</span></span> |
| <span data-ttu-id="c9cc4-136">IP- \_ донтфрагмент</span><span class="sxs-lookup"><span data-stu-id="c9cc4-136">IP\_DONTFRAGMENT</span></span> | <span data-ttu-id="c9cc4-137">да</span><span class="sxs-lookup"><span data-stu-id="c9cc4-137">yes</span></span> | <span data-ttu-id="c9cc4-138">да</span><span class="sxs-lookup"><span data-stu-id="c9cc4-138">yes</span></span> | <span data-ttu-id="c9cc4-139">DWORD (логическое значение)</span><span class="sxs-lookup"><span data-stu-id="c9cc4-139">DWORD (boolean)</span></span> | <span data-ttu-id="c9cc4-140">Указывает, что данные не следует фрагментировать независимо от локального MTU.</span><span class="sxs-lookup"><span data-stu-id="c9cc4-140">Indicates that data should not be fragmented regardless of the local MTU.</span></span> <span data-ttu-id="c9cc4-141">Действует только для протоколов, ориентированных на сообщения.</span><span class="sxs-lookup"><span data-stu-id="c9cc4-141">Valid only for message oriented protocols.</span></span> <span data-ttu-id="c9cc4-142">Поставщики Microsoft TCP/IP используют этот параметр для UDP и ICMP.</span><span class="sxs-lookup"><span data-stu-id="c9cc4-142">Microsoft TCP/IP providers respect this option for UDP and ICMP.</span></span> |
| <span data-ttu-id="c9cc4-143">членство в IP-адресе \_ \_</span><span class="sxs-lookup"><span data-stu-id="c9cc4-143">IP\_DROP\_MEMBERSHIP</span></span> | | <span data-ttu-id="c9cc4-144">да</span><span class="sxs-lookup"><span data-stu-id="c9cc4-144">yes</span></span> | [<span data-ttu-id="c9cc4-145">**IP- \_ мрек**</span><span class="sxs-lookup"><span data-stu-id="c9cc4-145">**ip\_mreq**</span></span>](/windows/desktop/api/Ws2ipdef/ns-ws2ipdef-ip_mreq) | <span data-ttu-id="c9cc4-146">Оставляет указанную группу многоадресной рассылки с указанного интерфейса.</span><span class="sxs-lookup"><span data-stu-id="c9cc4-146">Leaves the specified multicast group from the specified interface.</span></span> <span data-ttu-id="c9cc4-147">Поставщики услуг должны поддерживать этот параметр, если поддерживается многоадресная рассылка.</span><span class="sxs-lookup"><span data-stu-id="c9cc4-147">Service providers must support this option when multicast is supported.</span></span> <span data-ttu-id="c9cc4-148">Поддержка указывается в структуре [**всапротокол \_ info**](/windows/win32/api/winsock2/ns-winsock2-wsaprotocol_infoa) , возвращаемой вызовом функции [**ВСАЕНУМПРОТОКОЛС**](/windows/desktop/api/Winsock2/nf-winsock2-wsaenumprotocolsa) следующим образом: КСПИ \_ поддерживает \_ MULTIPOINT = 1, XP1 \_ MULTIPOINT \_ \_ плоскость управления = 0, XP1 \_ MultiPoint \_ \_ плоскость данных = 0.</span><span class="sxs-lookup"><span data-stu-id="c9cc4-148">Support is indicated in the [**WSAPROTOCOL\_INFO**](/windows/win32/api/winsock2/ns-winsock2-wsaprotocol_infoa) structure returned by a [**WSAEnumProtocols**](/windows/desktop/api/Winsock2/nf-winsock2-wsaenumprotocolsa) function call with the following: XPI\_SUPPORT\_MULTIPOINT=1, XP1\_MULTIPOINT\_CONTROL\_PLANE=0, XP1\_MULTIPOINT\_DATA\_PLANE=0.</span></span> |
| <span data-ttu-id="c9cc4-149">\_членство в \_ источнике IP-адресов \_</span><span class="sxs-lookup"><span data-stu-id="c9cc4-149">IP\_DROP\_SOURCE\_MEMBERSHIP</span></span> | | <span data-ttu-id="c9cc4-150">да</span><span class="sxs-lookup"><span data-stu-id="c9cc4-150">yes</span></span> | [<span data-ttu-id="c9cc4-151">**Источник IP- \_ мрек \_**</span><span class="sxs-lookup"><span data-stu-id="c9cc4-151">**ip\_mreq\_source**</span></span>](/windows/desktop/api/Ws2ipdef/ns-ws2ipdef-ip_mreq_source) | <span data-ttu-id="c9cc4-152">Удаляет членство в указанной группе многоадресной рассылки, интерфейсе и исходном адресе.</span><span class="sxs-lookup"><span data-stu-id="c9cc4-152">Drops membership to the given multicast group, interface, and source address.</span></span> |
| <span data-ttu-id="c9cc4-153">IP_GET_IFLIST</span><span class="sxs-lookup"><span data-stu-id="c9cc4-153">IP_GET_IFLIST</span></span> | <span data-ttu-id="c9cc4-154">да</span><span class="sxs-lookup"><span data-stu-id="c9cc4-154">yes</span></span> | | <span data-ttu-id="c9cc4-155">DWORD [] (IF_INDEX [])</span><span class="sxs-lookup"><span data-stu-id="c9cc4-155">DWORD[] (IF_INDEX[])</span></span> | <span data-ttu-id="c9cc4-156">Возвращает текущую ИФЛИСТ, связанную с параметром **IP_IFLIST** .</span><span class="sxs-lookup"><span data-stu-id="c9cc4-156">Gets the current IFLIST associated with the **IP_IFLIST** option.</span></span> <span data-ttu-id="c9cc4-157">Возвращает ошибку, если **IP_IFLIST** не включена.</span><span class="sxs-lookup"><span data-stu-id="c9cc4-157">Returns error if **IP_IFLIST** is not enabled.</span></span> |
| <span data-ttu-id="c9cc4-158">IP- \_ хдринкл</span><span class="sxs-lookup"><span data-stu-id="c9cc4-158">IP\_HDRINCL</span></span> | <span data-ttu-id="c9cc4-159">да</span><span class="sxs-lookup"><span data-stu-id="c9cc4-159">yes</span></span> | <span data-ttu-id="c9cc4-160">да</span><span class="sxs-lookup"><span data-stu-id="c9cc4-160">yes</span></span> | <span data-ttu-id="c9cc4-161">DWORD (логическое значение)</span><span class="sxs-lookup"><span data-stu-id="c9cc4-161">DWORD (boolean)</span></span> | <span data-ttu-id="c9cc4-162">Если задано **значение true**, то указывает, что приложение предоставляет заголовок IP.</span><span class="sxs-lookup"><span data-stu-id="c9cc4-162">When set to **TRUE**, indicates the application provides the IP header.</span></span> <span data-ttu-id="c9cc4-163">Применяется только к Сокк \_ необработанным сокетам.</span><span class="sxs-lookup"><span data-stu-id="c9cc4-163">Applies only to SOCK\_RAW sockets.</span></span> <span data-ttu-id="c9cc4-164">Поставщик услуг TCP/IP может задать поле ID, если значение, предоставленное приложением, равно нулю.</span><span class="sxs-lookup"><span data-stu-id="c9cc4-164">The TCP/IP service provider may set the ID field, if the value supplied by the application is zero.</span></span>  <span data-ttu-id="c9cc4-165">Параметр IP \_ хдринкл применяется только к \_ типу протокола Сокк RAW.</span><span class="sxs-lookup"><span data-stu-id="c9cc4-165">The IP\_HDRINCL option is applied only to the SOCK\_RAW type of protocol.</span></span> <span data-ttu-id="c9cc4-166">Поставщик услуг TCP/IP, поддерживающий Сокк \_ RAW, также должен поддерживать IP- \_ хдринкл.</span><span class="sxs-lookup"><span data-stu-id="c9cc4-166">A TCP/IP service provider that supports SOCK\_RAW should also support IP\_HDRINCL.</span></span>  |
| <span data-ttu-id="c9cc4-167">IP_IFLIST</span><span class="sxs-lookup"><span data-stu-id="c9cc4-167">IP_IFLIST</span></span> | <span data-ttu-id="c9cc4-168">да</span><span class="sxs-lookup"><span data-stu-id="c9cc4-168">yes</span></span> | <span data-ttu-id="c9cc4-169">да</span><span class="sxs-lookup"><span data-stu-id="c9cc4-169">yes</span></span> | <span data-ttu-id="c9cc4-170">DWORD (логическое значение)</span><span class="sxs-lookup"><span data-stu-id="c9cc4-170">DWORD (boolean)</span></span> | <span data-ttu-id="c9cc4-171">Возвращает или задает **IP_IFLISTное** состояние сокета.</span><span class="sxs-lookup"><span data-stu-id="c9cc4-171">Gets or sets the **IP_IFLIST** state of the socket.</span></span> <span data-ttu-id="c9cc4-172">Если этот параметр имеет значение true, получение датаграммы ограничено интерфейсами, которые находятся в ИФЛИСТ.</span><span class="sxs-lookup"><span data-stu-id="c9cc4-172">When this option is set to true, Datagram reception is restricted to interfaces that are in the IFLIST.</span></span> <span data-ttu-id="c9cc4-173">Датаграммы, полученные в других интерфейсах, игнорируются.</span><span class="sxs-lookup"><span data-stu-id="c9cc4-173">Datagrams received on any other interfaces are ignored.</span></span> <span data-ttu-id="c9cc4-174">ИФЛИСТ начинает быть пустым.</span><span class="sxs-lookup"><span data-stu-id="c9cc4-174">IFLIST starts empty.</span></span> <span data-ttu-id="c9cc4-175">Для изменения ИФЛИСТ используйте **IP_ADD_IFLIST** и **IP_DEL_IFLIST** .</span><span class="sxs-lookup"><span data-stu-id="c9cc4-175">Use **IP_ADD_IFLIST** and **IP_DEL_IFLIST** to edit the IFLIST.</span></span> |
| <span data-ttu-id="c9cc4-176">MTU IP-адресов \_</span><span class="sxs-lookup"><span data-stu-id="c9cc4-176">IP\_MTU</span></span> | <span data-ttu-id="c9cc4-177">да</span><span class="sxs-lookup"><span data-stu-id="c9cc4-177">yes</span></span> | | <span data-ttu-id="c9cc4-178">DWORD</span><span class="sxs-lookup"><span data-stu-id="c9cc4-178">DWORD</span></span> | <span data-ttu-id="c9cc4-179">Возвращает оценку системы по пути MTU.</span><span class="sxs-lookup"><span data-stu-id="c9cc4-179">Gets the system's estimate of the path MTU.</span></span> <span data-ttu-id="c9cc4-180">Сокет должен быть подключен.</span><span class="sxs-lookup"><span data-stu-id="c9cc4-180">Socket must be connected.</span></span> |
| <span data-ttu-id="c9cc4-181">Обнаружение IP- \_ MTU \_</span><span class="sxs-lookup"><span data-stu-id="c9cc4-181">IP\_MTU\_DISCOVER</span></span> | <span data-ttu-id="c9cc4-182">да</span><span class="sxs-lookup"><span data-stu-id="c9cc4-182">yes</span></span> | <span data-ttu-id="c9cc4-183">да</span><span class="sxs-lookup"><span data-stu-id="c9cc4-183">yes</span></span> | <span data-ttu-id="c9cc4-184">DWORD (**\_ состояние пмтуд**)</span><span class="sxs-lookup"><span data-stu-id="c9cc4-184">DWORD (**PMTUD\_STATE**)</span></span> | <span data-ttu-id="c9cc4-185">Возвращает или задает состояние обнаружения MTU пути для сокета.</span><span class="sxs-lookup"><span data-stu-id="c9cc4-185">Gets or sets the path MTU discovery state for the socket.</span></span> <span data-ttu-id="c9cc4-186">Значение по умолчанию — **IP- \_ пмтудиск \_ не \_ задано**.</span><span class="sxs-lookup"><span data-stu-id="c9cc4-186">The default value is **IP\_PMTUDISC\_NOT\_SET**.</span></span> <span data-ttu-id="c9cc4-187">Для сокетов потока **\_ \_ не \_ задан IP-Пмтудиск** , и **IP- \_ пмтудиск \_** выполняет обнаружение PMTU.</span><span class="sxs-lookup"><span data-stu-id="c9cc4-187">For stream sockets, **IP\_PMTUDISC\_NOT\_SET** and **IP\_PMTUDISC\_DO** will perform path MTU discovery.</span></span> <span data-ttu-id="c9cc4-188">**IP-адрес \_ ПМТУДИСК \_ не** and **IP \_ ПМТУДИСК \_ зонд** отключит обнаружение MTU пути.</span><span class="sxs-lookup"><span data-stu-id="c9cc4-188">**IP\_PMTUDISC\_DONT** and **IP\_PMTUDISC\_PROBE** will turn off path MTU discovery.</span></span> <span data-ttu-id="c9cc4-189">Для сокетов датаграмм **IP- \_ пмтудиск \_** вынуждает все исходящие пакеты установить бит DF, и попытка отправить пакеты, превышающие MTU, приведет к ошибке.</span><span class="sxs-lookup"><span data-stu-id="c9cc4-189">For datagram sockets, **IP\_PMTUDISC\_DO** will force all outgoing packets to have the DF bit set and an attempt to send packets larger than path MTU will result in an error.</span></span> <span data-ttu-id="c9cc4-190">**IP-адрес \_ ПМТУДИСК \_ не** приведет к тому, что для всех исходящих пакетов не будет ЗАДАН бит DF, а пакеты будут фрагментироваться в соответствии с MTU интерфейса.</span><span class="sxs-lookup"><span data-stu-id="c9cc4-190">**IP\_PMTUDISC\_DONT** will force all outgoing packets to have the DF bit not set, and packets will be fragmented according to interface MTU.</span></span> <span data-ttu-id="c9cc4-191">**IP-адрес \_ Проверка \_ пмтудиск** принудительно заставит для всех исходящих пакетов установленный бит DF, а попытка отправки пакетов, превышающих MTU интерфейса, приведет к ошибке.</span><span class="sxs-lookup"><span data-stu-id="c9cc4-191">**IP\_PMTUDISC\_PROBE** will force all outgoing packets to have the DF bit set, and an attempt to send packets larger than interface MTU will result in an error.</span></span> |
| <span data-ttu-id="c9cc4-192">\_многоадресная рассылка IP-адресов \_</span><span class="sxs-lookup"><span data-stu-id="c9cc4-192">IP\_MULTICAST\_IF</span></span> | <span data-ttu-id="c9cc4-193">да</span><span class="sxs-lookup"><span data-stu-id="c9cc4-193">yes</span></span> | <span data-ttu-id="c9cc4-194">да</span><span class="sxs-lookup"><span data-stu-id="c9cc4-194">yes</span></span> | <span data-ttu-id="c9cc4-195">DWORD</span><span class="sxs-lookup"><span data-stu-id="c9cc4-195">DWORD</span></span> | <span data-ttu-id="c9cc4-196">Возвращает или задает исходящий интерфейс для отправки многоадресного трафика IPv4.</span><span class="sxs-lookup"><span data-stu-id="c9cc4-196">Gets or sets the outgoing interface for sending IPv4 multicast traffic.</span></span> <span data-ttu-id="c9cc4-197">Этот параметр не изменяет интерфейс по умолчанию для получения многоадресного трафика IPv4.</span><span class="sxs-lookup"><span data-stu-id="c9cc4-197">This option does not change the default interface for receiving IPv4 multicast traffic.</span></span>  <span data-ttu-id="c9cc4-198">Входное значение для установки этого параметра представляет собой 4-байтовый адрес IPv4 в порядке сетевого байта.</span><span class="sxs-lookup"><span data-stu-id="c9cc4-198">The input value for setting this option is a 4-byte IPv4 address in network byte order.</span></span> <span data-ttu-id="c9cc4-199">Этот параметр DWORD также может быть индексом интерфейса в сетевом байтовом порядке.</span><span class="sxs-lookup"><span data-stu-id="c9cc4-199">This DWORD parameter can also be an interface index in network byte order.</span></span> <span data-ttu-id="c9cc4-200">Любой IP-адрес в блоке 0. x. x. x (первый октет 0), за исключением IPv4-адреса 0.0.0.0, рассматривается как индекс интерфейса.</span><span class="sxs-lookup"><span data-stu-id="c9cc4-200">Any IP address in the 0.x.x.x block (first octet of 0) except IPv4 address 0.0.0.0 is treated as an interface index.</span></span> <span data-ttu-id="c9cc4-201">Индекс интерфейса — это 24-разрядное число, а блок IPv4-адресов (0.0.0.0/8) не используется (этот диапазон зарезервирован).</span><span class="sxs-lookup"><span data-stu-id="c9cc4-201">An interface index is a 24-bit number, and the 0.0.0.0/8 IPv4 address block is not used (this range is reserved).</span></span> <span data-ttu-id="c9cc4-202">Индекс интерфейса можно использовать для указания интерфейса по умолчанию для многоадресного трафика для IPv4.</span><span class="sxs-lookup"><span data-stu-id="c9cc4-202">The interface index can be used to specify the default interface for multicast traffic for IPv4.</span></span> <span data-ttu-id="c9cc4-203">Если *оптвал* равен нулю, для отправки многоадресного трафика указывается интерфейс по умолчанию для получения многоадресной рассылки.</span><span class="sxs-lookup"><span data-stu-id="c9cc4-203">If *optval* is zero , the default interface for receiving multicast is specified for sending multicast traffic.</span></span>  <span data-ttu-id="c9cc4-204">При получении этого параметра *оптвал* возвращает текущий индекс интерфейса по умолчанию для отправки многоадресного IPv4-трафика в порядке байтов узла.</span><span class="sxs-lookup"><span data-stu-id="c9cc4-204">When getting this option, the *optval* returns the current default interface index for sending multicast IPv4 traffic in host byte order.</span></span> |
| <span data-ttu-id="c9cc4-205">\_цикл многоадресной IP-рассылки \_</span><span class="sxs-lookup"><span data-stu-id="c9cc4-205">IP\_MULTICAST\_LOOP</span></span> | <span data-ttu-id="c9cc4-206">да</span><span class="sxs-lookup"><span data-stu-id="c9cc4-206">yes</span></span> | <span data-ttu-id="c9cc4-207">да</span><span class="sxs-lookup"><span data-stu-id="c9cc4-207">yes</span></span> | <span data-ttu-id="c9cc4-208">DWORD (логическое значение)</span><span class="sxs-lookup"><span data-stu-id="c9cc4-208">DWORD (boolean)</span></span> | <span data-ttu-id="c9cc4-209">Определяет, будут ли данные, отправляемые приложением на локальном компьютере (не обязательное одним сокетом) в сеансе многоадресной рассылки, приниматься сокетом, присоединенным к группе назначения многоадресной рассылки через интерфейс замыкания на себя.</span><span class="sxs-lookup"><span data-stu-id="c9cc4-209">Controls whether data sent by an application on the local computer (not necessarily by the same socket) in a multicast session will be received by a socket joined to the multicast destination group on the loopback interface.</span></span> <span data-ttu-id="c9cc4-210">Значение **true** приводит к тому, что данные многоадресной рассылки, отправляемые приложением на локальном компьютере, доставляются в Прослушивающий сокет через интерфейс замыкания на себя.</span><span class="sxs-lookup"><span data-stu-id="c9cc4-210">A value of **TRUE** causes multicast data sent by an application on the local computer to be delivered to a listening socket on the loopback interface.</span></span> <span data-ttu-id="c9cc4-211">Значение **false** указывает, что данные многоадресной рассылки, отправляемые приложением на локальном компьютере, не доставляются в Прослушивающий сокет через интерфейс замыкания на себя.</span><span class="sxs-lookup"><span data-stu-id="c9cc4-211">A value of **FALSE** prevents multicast data sent by an application on the local computer from being delivered to a listening socket on the loopback interface.</span></span> <span data-ttu-id="c9cc4-212">По умолчанию **\_ \_ петлевой IP-адрес** включен.</span><span class="sxs-lookup"><span data-stu-id="c9cc4-212">By default, **IP\_MULTICAST\_LOOPBACK** is enabled.</span></span> |
| <span data-ttu-id="c9cc4-213">\_TTL многоадресной IP-рассылки \_</span><span class="sxs-lookup"><span data-stu-id="c9cc4-213">IP\_MULTICAST\_TTL</span></span> | <span data-ttu-id="c9cc4-214">да</span><span class="sxs-lookup"><span data-stu-id="c9cc4-214">yes</span></span> | <span data-ttu-id="c9cc4-215">да</span><span class="sxs-lookup"><span data-stu-id="c9cc4-215">yes</span></span> | <span data-ttu-id="c9cc4-216">DWORD</span><span class="sxs-lookup"><span data-stu-id="c9cc4-216">DWORD</span></span> | <span data-ttu-id="c9cc4-217">Задание/получение значения TTL, связанного с многоадресным IP-трафиком на сокете.</span><span class="sxs-lookup"><span data-stu-id="c9cc4-217">Sets/gets the TTL value associated with IP multicast traffic on the socket.</span></span> |
| <span data-ttu-id="c9cc4-218">параметры IP-адреса \_</span><span class="sxs-lookup"><span data-stu-id="c9cc4-218">IP\_OPTIONS</span></span> | <span data-ttu-id="c9cc4-219">да</span><span class="sxs-lookup"><span data-stu-id="c9cc4-219">yes</span></span> | <span data-ttu-id="c9cc4-220">да</span><span class="sxs-lookup"><span data-stu-id="c9cc4-220">yes</span></span> | <span data-ttu-id="c9cc4-221">типа \[\]</span><span class="sxs-lookup"><span data-stu-id="c9cc4-221">char \[\]</span></span> | <span data-ttu-id="c9cc4-222">Указывает параметры IP для вставки в исходящие пакеты.</span><span class="sxs-lookup"><span data-stu-id="c9cc4-222">Specifies IP options to be inserted into outgoing packets.</span></span> <span data-ttu-id="c9cc4-223">При настройке новых параметров перезаписываются все ранее указанные параметры.</span><span class="sxs-lookup"><span data-stu-id="c9cc4-223">Setting new options overwrites all previously specified options.</span></span> <span data-ttu-id="c9cc4-224">При установке оптвал в ноль удаляются все ранее указанные параметры.</span><span class="sxs-lookup"><span data-stu-id="c9cc4-224">Setting optval to zero removes all previously specified options.</span></span> <span data-ttu-id="c9cc4-225">Поддержка параметров IP-адресов \_ не требуется; чтобы проверить \_ , поддерживаются ли параметры IP-адресов, используйте [**жетсоккопт**](/windows/desktop/api/winsock/nf-winsock-getsockopt) для получения текущих параметров.</span><span class="sxs-lookup"><span data-stu-id="c9cc4-225">IP\_OPTIONS support is not required; to check whether IP\_OPTIONS is supported, use [**getsockopt**](/windows/desktop/api/winsock/nf-winsock-getsockopt) to get current options.</span></span> <span data-ttu-id="c9cc4-226">В случае сбоя **жетсоккопт** параметры IP-адресов \_ не поддерживаются.</span><span class="sxs-lookup"><span data-stu-id="c9cc4-226">If **getsockopt** fails, IP\_OPTIONS is not supported.</span></span> |
| <span data-ttu-id="c9cc4-227">\_исходное поступление IP-адресов, \_ \_ Если</span><span class="sxs-lookup"><span data-stu-id="c9cc4-227">IP\_ORIGINAL\_ARRIVAL\_IF</span></span> | <span data-ttu-id="c9cc4-228">да</span><span class="sxs-lookup"><span data-stu-id="c9cc4-228">yes</span></span> | <span data-ttu-id="c9cc4-229">да</span><span class="sxs-lookup"><span data-stu-id="c9cc4-229">yes</span></span> | <span data-ttu-id="c9cc4-230">DWORD (логическое значение)</span><span class="sxs-lookup"><span data-stu-id="c9cc4-230">DWORD (boolean)</span></span> | <span data-ttu-id="c9cc4-231">Указывает, должна ли функция [**LPFN_WSARECVMSG (всареквмсг)**](/windows/win32/api/mswsock/nc-mswsock-lpfn_wsarecvmsg) возвращать необязательные данные элемента управления, содержащие интерфейс прибытия, где пакет был получен для сокетов датаграмм.</span><span class="sxs-lookup"><span data-stu-id="c9cc4-231">Indicates if the [**LPFN_WSARECVMSG (WSARecvMsg)**](/windows/win32/api/mswsock/nc-mswsock-lpfn_wsarecvmsg) function should return optional control data containing the arrival interface where the packet was received for datagram sockets.</span></span> <span data-ttu-id="c9cc4-232">Этот параметр позволяет вернуть в структуру [**всамсг**](/windows/desktop/api/Ws2def/ns-ws2def-wsamsg) интерфейс IPv4, где был получен пакет.</span><span class="sxs-lookup"><span data-stu-id="c9cc4-232">This option allows the IPv4 interface where the packet was received to be returned in the [**WSAMSG**](/windows/desktop/api/Ws2def/ns-ws2def-wsamsg) structure.</span></span>  <span data-ttu-id="c9cc4-233">Этот параметр допустим только для датаграмм и необработанных сокетов (тип сокета должен быть Сокк \_ дграм или Сокк \_ RAW).</span><span class="sxs-lookup"><span data-stu-id="c9cc4-233">This option is only valid on datagram and raw sockets (the socket type must be SOCK\_DGRAM or SOCK\_RAW).</span></span> |
| [<span data-ttu-id="c9cc4-234">IP- \_ пктинфо</span><span class="sxs-lookup"><span data-stu-id="c9cc4-234">IP\_PKTINFO</span></span>](ip-pktinfo.md) | <span data-ttu-id="c9cc4-235">да</span><span class="sxs-lookup"><span data-stu-id="c9cc4-235">yes</span></span> | <span data-ttu-id="c9cc4-236">да</span><span class="sxs-lookup"><span data-stu-id="c9cc4-236">yes</span></span> | <span data-ttu-id="c9cc4-237">DWORD</span><span class="sxs-lookup"><span data-stu-id="c9cc4-237">DWORD</span></span> | <span data-ttu-id="c9cc4-238">Указывает, что сведения о пакете должны возвращаться функцией **всареквмсг** .</span><span class="sxs-lookup"><span data-stu-id="c9cc4-238">Indicates that packet information should be returned by the **WSARecvMsg** function.</span></span> |
| <span data-ttu-id="c9cc4-239">IP-адрес \_ получения \_ широковещательной рассылки</span><span class="sxs-lookup"><span data-stu-id="c9cc4-239">IP\_RECEIVE\_BROADCAST</span></span> | <span data-ttu-id="c9cc4-240">да</span><span class="sxs-lookup"><span data-stu-id="c9cc4-240">yes</span></span> | <span data-ttu-id="c9cc4-241">да</span><span class="sxs-lookup"><span data-stu-id="c9cc4-241">yes</span></span> | <span data-ttu-id="c9cc4-242">DWORD (логическое значение)</span><span class="sxs-lookup"><span data-stu-id="c9cc4-242">DWORD (boolean)</span></span> | <span data-ttu-id="c9cc4-243">Разрешает или блокирует получение широковещательных пакетов.</span><span class="sxs-lookup"><span data-stu-id="c9cc4-243">Allows or blocks broadcast reception.</span></span> |
| <span data-ttu-id="c9cc4-244">IP- \_ реквиф</span><span class="sxs-lookup"><span data-stu-id="c9cc4-244">IP\_RECVIF</span></span> | <span data-ttu-id="c9cc4-245">да</span><span class="sxs-lookup"><span data-stu-id="c9cc4-245">yes</span></span> | <span data-ttu-id="c9cc4-246">да</span><span class="sxs-lookup"><span data-stu-id="c9cc4-246">yes</span></span> | <span data-ttu-id="c9cc4-247">DWORD (логическое значение)</span><span class="sxs-lookup"><span data-stu-id="c9cc4-247">DWORD (boolean)</span></span> | <span data-ttu-id="c9cc4-248">Указывает, должен ли стек IP-адресов заполнять буфер управления сведениями о том, какой интерфейс получил пакет с сокетом датаграммы.</span><span class="sxs-lookup"><span data-stu-id="c9cc4-248">Indicates whether the IP stack should populate the control buffer with details about which interface received a packet with a datagram socket.</span></span> <span data-ttu-id="c9cc4-249">Если это значение равно true, функция [**LPFN_WSARECVMSG (всареквмсг)**](/windows/win32/api/mswsock/nc-mswsock-lpfn_wsarecvmsg) вернет необязательные данные элемента управления, содержащие интерфейс, в котором пакет был получен для сокетов датаграмм.</span><span class="sxs-lookup"><span data-stu-id="c9cc4-249">When this value is true, the [**LPFN_WSARECVMSG (WSARecvMsg)**](/windows/win32/api/mswsock/nc-mswsock-lpfn_wsarecvmsg) function will return optional control data containing the interface where the packet was received for datagram sockets.</span></span> <span data-ttu-id="c9cc4-250">Этот параметр позволяет вернуть в структуру [**всамсг**](/windows/desktop/api/Ws2def/ns-ws2def-wsamsg) интерфейс IPv4, где был получен пакет.</span><span class="sxs-lookup"><span data-stu-id="c9cc4-250">This option allows the IPv4 interface where the packet was received to be returned in the [**WSAMSG**](/windows/desktop/api/Ws2def/ns-ws2def-wsamsg) structure.</span></span>  <span data-ttu-id="c9cc4-251">Этот параметр допустим только для датаграмм и необработанных сокетов (тип сокета должен быть Сокк \_ дграм или Сокк \_ RAW).</span><span class="sxs-lookup"><span data-stu-id="c9cc4-251">This option is only valid on datagram and raw sockets (the socket type must be SOCK\_DGRAM or SOCK\_RAW).</span></span> |
| <span data-ttu-id="c9cc4-252">IP- \_ реквтос</span><span class="sxs-lookup"><span data-stu-id="c9cc4-252">IP\_RECVTOS</span></span> | <span data-ttu-id="c9cc4-253">да</span><span class="sxs-lookup"><span data-stu-id="c9cc4-253">yes</span></span> | <span data-ttu-id="c9cc4-254">да</span><span class="sxs-lookup"><span data-stu-id="c9cc4-254">yes</span></span> | <span data-ttu-id="c9cc4-255">DWORD (логическое значение)</span><span class="sxs-lookup"><span data-stu-id="c9cc4-255">DWORD (boolean)</span></span> | <span data-ttu-id="c9cc4-256">Указывает, должен ли стек IP-адресов заполнять буфер управления сообщением, содержащим поле заголовка IPv4 типа службы (TOS) в полученной датаграмме.</span><span class="sxs-lookup"><span data-stu-id="c9cc4-256">Indicates whether the IP stack should populate the control buffer with a message containing the Type of Service (TOS) IPv4 header field on a received datagram.</span></span> <span data-ttu-id="c9cc4-257">Если это значение равно true, функция [**LPFN_WSARECVMSG (всареквмсг)**](/windows/win32/api/mswsock/nc-mswsock-lpfn_wsarecvmsg) вернет необязательные данные элемента управления, содержащие значение поля заголовка IPv4 для полученной датаграммы.</span><span class="sxs-lookup"><span data-stu-id="c9cc4-257">When this value is true, the [**LPFN_WSARECVMSG (WSARecvMsg)**](/windows/win32/api/mswsock/nc-mswsock-lpfn_wsarecvmsg) function will return optional control data containing the TOS IPv4 header field value of the received datagram.</span></span>  <span data-ttu-id="c9cc4-258">Этот параметр позволяет возвратить поле заголовка IPv4 для полученной датаграммы в структуру [**всамсг**](/windows/desktop/api/Ws2def/ns-ws2def-wsamsg) .</span><span class="sxs-lookup"><span data-stu-id="c9cc4-258">This option allows the TOS IPv4 header field of the received datagram to be returned in the [**WSAMSG**](/windows/desktop/api/Ws2def/ns-ws2def-wsamsg) structure.</span></span> <span data-ttu-id="c9cc4-259">Тип возвращаемого сообщения будет IP- \_ TOS.</span><span class="sxs-lookup"><span data-stu-id="c9cc4-259">The returned message type will be IP\_TOS.</span></span> <span data-ttu-id="c9cc4-260">Будут возвращены все биты DSCP и ECN поля TOS.</span><span class="sxs-lookup"><span data-stu-id="c9cc4-260">All DSCP and ECN bits of the TOS field will be returned.</span></span>  <span data-ttu-id="c9cc4-261">Этот параметр допустим только для сокетов датаграмм (тип сокета должен быть Сокк \_ дграм).</span><span class="sxs-lookup"><span data-stu-id="c9cc4-261">This option is only valid on datagram sockets (the socket type must be SOCK\_DGRAM).</span></span>  |
| <span data-ttu-id="c9cc4-262">IP- \_ реквттл</span><span class="sxs-lookup"><span data-stu-id="c9cc4-262">IP\_RECVTTL</span></span> | <span data-ttu-id="c9cc4-263">да</span><span class="sxs-lookup"><span data-stu-id="c9cc4-263">yes</span></span> | <span data-ttu-id="c9cc4-264">да</span><span class="sxs-lookup"><span data-stu-id="c9cc4-264">yes</span></span> | <span data-ttu-id="c9cc4-265">DWORD (логическое значение)</span><span class="sxs-lookup"><span data-stu-id="c9cc4-265">DWORD (boolean)</span></span> | <span data-ttu-id="c9cc4-266">Указывает, что сведения о прыжке (TTL) должны возвращаться в функции [**LPFN_WSARECVMSG (всареквмсг)**](/windows/win32/api/mswsock/nc-mswsock-lpfn_wsarecvmsg) .</span><span class="sxs-lookup"><span data-stu-id="c9cc4-266">Indicates that hop (TTL) information should be returned in the [**LPFN_WSARECVMSG (WSARecvMsg)**](/windows/win32/api/mswsock/nc-mswsock-lpfn_wsarecvmsg) function.</span></span> <span data-ttu-id="c9cc4-267">Если *оптвал* имеет значение **1** при вызове [**сетсоккопт**](/windows/desktop/api/winsock/nf-winsock-setsockopt), этот параметр включен.</span><span class="sxs-lookup"><span data-stu-id="c9cc4-267">If *optval* is set to **1** on the call to [**setsockopt**](/windows/desktop/api/winsock/nf-winsock-setsockopt), the option is enabled.</span></span> <span data-ttu-id="c9cc4-268">Если задано значение **0**, параметр отключен.</span><span class="sxs-lookup"><span data-stu-id="c9cc4-268">If set to **0**, the option is disabled.</span></span>  <span data-ttu-id="c9cc4-269">Этот параметр допустим только для датаграмм и необработанных сокетов (тип сокета должен быть Сокк \_ дграм или Сокк \_ RAW).</span><span class="sxs-lookup"><span data-stu-id="c9cc4-269">This option is only valid for datagram and raw sockets (the socket type must be SOCK\_DGRAM or SOCK\_RAW).</span></span> |
| <span data-ttu-id="c9cc4-270">IP- \_ TOS</span><span class="sxs-lookup"><span data-stu-id="c9cc4-270">IP\_TOS</span></span> | <span data-ttu-id="c9cc4-271">да</span><span class="sxs-lookup"><span data-stu-id="c9cc4-271">yes</span></span> | <span data-ttu-id="c9cc4-272">да</span><span class="sxs-lookup"><span data-stu-id="c9cc4-272">yes</span></span> | <span data-ttu-id="c9cc4-273">DWORD (логическое значение)</span><span class="sxs-lookup"><span data-stu-id="c9cc4-273">DWORD (boolean)</span></span> | <span data-ttu-id="c9cc4-274">Не используйте.</span><span class="sxs-lookup"><span data-stu-id="c9cc4-274">Do not use.</span></span> <span data-ttu-id="c9cc4-275">Параметры типа службы (TOS) следует задавать только с помощью API качества службы.</span><span class="sxs-lookup"><span data-stu-id="c9cc4-275">Type of Service (TOS) settings should only be set using the Quality of Service API.</span></span> <span data-ttu-id="c9cc4-276">Дополнительные сведения см. [Приоритизированные службы](/previous-versions/windows/desktop/qos/differentiated-services) в разделе качество обслуживания пакета Platform SDK.</span><span class="sxs-lookup"><span data-stu-id="c9cc4-276">See [Differentiated Services](/previous-versions/windows/desktop/qos/differentiated-services) in the Quality of Service section of the Platform SDK for more information.</span></span> |
| <span data-ttu-id="c9cc4-277">\_срок жизни IP</span><span class="sxs-lookup"><span data-stu-id="c9cc4-277">IP\_TTL</span></span> | <span data-ttu-id="c9cc4-278">да</span><span class="sxs-lookup"><span data-stu-id="c9cc4-278">yes</span></span> | <span data-ttu-id="c9cc4-279">да</span><span class="sxs-lookup"><span data-stu-id="c9cc4-279">yes</span></span> | <span data-ttu-id="c9cc4-280">DWORD (логическое значение)</span><span class="sxs-lookup"><span data-stu-id="c9cc4-280">DWORD (boolean)</span></span> | <span data-ttu-id="c9cc4-281">Изменяет значение по умолчанию, заданное поставщиком услуг TCP/IP, в поле TTL заголовка IP в исходящих датаграммах.</span><span class="sxs-lookup"><span data-stu-id="c9cc4-281">Changes the default value set by the TCP/IP service provider in the TTL field of the IP header in outgoing datagrams.</span></span> <span data-ttu-id="c9cc4-282">\_Поддержка IP TTL не требуется; чтобы проверить \_ , поддерживается ли IP TTL, используйте [**жетсоккопт**](/windows/desktop/api/winsock/nf-winsock-getsockopt) для получения текущих параметров.</span><span class="sxs-lookup"><span data-stu-id="c9cc4-282">IP\_TTL support is not required; to check whether IP\_TTL is supported, use [**getsockopt**](/windows/desktop/api/winsock/nf-winsock-getsockopt) to get current options.</span></span> <span data-ttu-id="c9cc4-283">Если **жетсоккопт** завершается СБОЕМ, IP \_ TTL не поддерживается.</span><span class="sxs-lookup"><span data-stu-id="c9cc4-283">If **getsockopt** fails, IP\_TTL is not supported.</span></span> |
| <span data-ttu-id="c9cc4-284">\_источник разблокировки IP-адреса \_</span><span class="sxs-lookup"><span data-stu-id="c9cc4-284">IP\_UNBLOCK\_SOURCE</span></span> | | <span data-ttu-id="c9cc4-285">да</span><span class="sxs-lookup"><span data-stu-id="c9cc4-285">yes</span></span> | [<span data-ttu-id="c9cc4-286">**Источник IP- \_ мрек \_**</span><span class="sxs-lookup"><span data-stu-id="c9cc4-286">**ip\_mreq\_source**</span></span>](/windows/desktop/api/Ws2ipdef/ns-ws2ipdef-ip_mreq_source) | <span data-ttu-id="c9cc4-287">Добавляет данный источник в качестве отправителя в указанную группу многоадресной рассылки и интерфейс.</span><span class="sxs-lookup"><span data-stu-id="c9cc4-287">Adds the given source as a sender to the supplied multicast group and interface.</span></span> |
| <span data-ttu-id="c9cc4-288">IP- \_ адрес рассылки, \_ Если</span><span class="sxs-lookup"><span data-stu-id="c9cc4-288">IP\_UNICAST\_IF</span></span> | <span data-ttu-id="c9cc4-289">да</span><span class="sxs-lookup"><span data-stu-id="c9cc4-289">yes</span></span> | <span data-ttu-id="c9cc4-290">да</span><span class="sxs-lookup"><span data-stu-id="c9cc4-290">yes</span></span> | <span data-ttu-id="c9cc4-291">DWORD (если \_ индекс)</span><span class="sxs-lookup"><span data-stu-id="c9cc4-291">DWORD (IF\_INDEX)</span></span> | <span data-ttu-id="c9cc4-292">Возвращает или задает исходящий интерфейс для отправки IPv4-трафика.</span><span class="sxs-lookup"><span data-stu-id="c9cc4-292">Gets or sets the outgoing interface for sending IPv4 traffic.</span></span> <span data-ttu-id="c9cc4-293">Этот параметр не изменяет интерфейс по умолчанию для приема трафика IPv4.</span><span class="sxs-lookup"><span data-stu-id="c9cc4-293">This option does not change the default interface for receiving IPv4 traffic.</span></span> <span data-ttu-id="c9cc4-294">Этот параметр важен для многосетевых компьютеров.</span><span class="sxs-lookup"><span data-stu-id="c9cc4-294">This option is important for multihomed computers.</span></span>  <span data-ttu-id="c9cc4-295">Входное значение для установки этого параметра представляет собой 4-байтовый адрес IPv4 в порядке сетевого байта.</span><span class="sxs-lookup"><span data-stu-id="c9cc4-295">The input value for setting this option is a 4-byte IPv4 address in network byte order.</span></span> <span data-ttu-id="c9cc4-296">Этот параметр DWORD должен быть индексом интерфейса в сетевой последовательности байтов.</span><span class="sxs-lookup"><span data-stu-id="c9cc4-296">This DWORD parameter must be an interface index in network byte order.</span></span> <span data-ttu-id="c9cc4-297">Любой IP-адрес в блоке 0. x. x. x (первый октет 0), за исключением IPv4-адреса 0.0.0.0, рассматривается как индекс интерфейса.</span><span class="sxs-lookup"><span data-stu-id="c9cc4-297">Any IP address in the 0.x.x.x block (first octet of 0) except IPv4 address 0.0.0.0 is treated as an interface index.</span></span> <span data-ttu-id="c9cc4-298">Индекс интерфейса — это 24-разрядное число, а блок IPv4-адресов (0.0.0.0/8) не используется (этот диапазон зарезервирован).</span><span class="sxs-lookup"><span data-stu-id="c9cc4-298">An interface index is a 24-bit number, and the 0.0.0.0/8 IPv4 address block is not used (this range is reserved).</span></span> <span data-ttu-id="c9cc4-299">Индекс интерфейса можно использовать для указания интерфейса по умолчанию для отправки трафика для IPv4.</span><span class="sxs-lookup"><span data-stu-id="c9cc4-299">The interface index can be used to specify the default interface for sending traffic for IPv4.</span></span> <span data-ttu-id="c9cc4-300">Для получения сведений об индексе интерфейса можно использовать функцию [**жетадаптерсаддрессес**](/windows/win32/api/iphlpapi/nf-iphlpapi-getadaptersaddresses) .</span><span class="sxs-lookup"><span data-stu-id="c9cc4-300">The [**GetAdaptersAddresses**](/windows/win32/api/iphlpapi/nf-iphlpapi-getadaptersaddresses) function can be used to obtain the interface index information.</span></span> <span data-ttu-id="c9cc4-301">Если *оптвал* равен нулю, интерфейс по умолчанию для отправки трафика устанавливается в значение не указано.</span><span class="sxs-lookup"><span data-stu-id="c9cc4-301">If *optval* is zero , the default interface for sending traffic is set to unspecified.</span></span>  <span data-ttu-id="c9cc4-302">При получении этого параметра *оптвал* возвращает текущий индекс интерфейса по умолчанию для отправки IPv4-трафика в порядке байтов узла.</span><span class="sxs-lookup"><span data-stu-id="c9cc4-302">When getting this option, the *optval* returns the current default interface index for sending IPv4 traffic in host byte order.</span></span> |
| <span data-ttu-id="c9cc4-303">IP_USER_MTU</span><span class="sxs-lookup"><span data-stu-id="c9cc4-303">IP_USER_MTU</span></span> | <span data-ttu-id="c9cc4-304">да</span><span class="sxs-lookup"><span data-stu-id="c9cc4-304">yes</span></span> | <span data-ttu-id="c9cc4-305">да</span><span class="sxs-lookup"><span data-stu-id="c9cc4-305">yes</span></span> | <span data-ttu-id="c9cc4-306">DWORD</span><span class="sxs-lookup"><span data-stu-id="c9cc4-306">DWORD</span></span> | <span data-ttu-id="c9cc4-307">Возвращает или задает верхнюю границу на уровне IP MTU (в байтах) для данного сокета.</span><span class="sxs-lookup"><span data-stu-id="c9cc4-307">Gets or sets an upper bound on the IP layer MTU (in bytes) for the given socket.</span></span> <span data-ttu-id="c9cc4-308">Если значение превышает оценку MTU для пути (которое можно получить на подключенном сокете путем запроса параметра **IP_MTU** Socket), то параметр не действует.</span><span class="sxs-lookup"><span data-stu-id="c9cc4-308">If the value is higher than the system's estimate of the path MTU (which you can retrieve on a connected socket by querying the **IP_MTU** socket option), then the option has no effect.</span></span> <span data-ttu-id="c9cc4-309">Если значение меньше, то исходящие пакеты, превышающие это, будут фрагментированы или не будут отправлены в зависимости от значения **IP_DONTFRAGMENT**.</span><span class="sxs-lookup"><span data-stu-id="c9cc4-309">If the value is lower, then outbound packets larger than this will be fragmented, or will fail to send, depending on the value of **IP_DONTFRAGMENT**.</span></span> <span data-ttu-id="c9cc4-310">Значение по умолчанию — **IP_UNSPECIFIED_USER_MTU** (максулонг).</span><span class="sxs-lookup"><span data-stu-id="c9cc4-310">Default value is **IP_UNSPECIFIED_USER_MTU** (MAXULONG).</span></span> <span data-ttu-id="c9cc4-311">Для обеспечения безопасности типов следует использовать функции [**всажетипусермту**](/windows/win32/api/ws2tcpip/nf-ws2tcpip-wsagetipusermtu) и [**всасетипусермту**](/windows/win32/api/ws2tcpip/nf-ws2tcpip-wsasetipusermtu) вместо прямого использования параметра сокета.</span><span class="sxs-lookup"><span data-stu-id="c9cc4-311">For type-safety, you should use the [**WSAGetIPUserMtu**](/windows/win32/api/ws2tcpip/nf-ws2tcpip-wsagetipusermtu) and [**WSASetIPUserMtu**](/windows/win32/api/ws2tcpip/nf-ws2tcpip-wsasetipusermtu) functions instead of using the socket option directly.</span></span> |
| <span data-ttu-id="c9cc4-312">\_ \_ контекст перенаправления WFP IP \_</span><span class="sxs-lookup"><span data-stu-id="c9cc4-312">IP\_WFP\_REDIRECT\_CONTEXT</span></span> | <span data-ttu-id="c9cc4-313">да</span><span class="sxs-lookup"><span data-stu-id="c9cc4-313">yes</span></span> | <span data-ttu-id="c9cc4-314">да</span><span class="sxs-lookup"><span data-stu-id="c9cc4-314">yes</span></span> | <span data-ttu-id="c9cc4-315">ВСАКМСГХДР с данными управления</span><span class="sxs-lookup"><span data-stu-id="c9cc4-315">WSACMSGHDR with control data</span></span> | <span data-ttu-id="c9cc4-316">Вспомогательный тип данных сокета датаграмм ( \_ тип КМСГ), указывающий контекст перенаправления для сокета UDP, используемого службой перенаправления платформы фильтрации Windows (WFP) в пользовательском режиме.</span><span class="sxs-lookup"><span data-stu-id="c9cc4-316">A datagram socket ancillary data type (cmsg\_type) to indicate the redirect context for a UDP socket used by a user mode Windows Filtering Platform (WFP) redirect service.</span></span> |
| <span data-ttu-id="c9cc4-317">\_ \_ записи перенаправления WFP IP-адресов \_</span><span class="sxs-lookup"><span data-stu-id="c9cc4-317">IP\_WFP\_REDIRECT\_RECORDS</span></span> | <span data-ttu-id="c9cc4-318">да</span><span class="sxs-lookup"><span data-stu-id="c9cc4-318">yes</span></span> | <span data-ttu-id="c9cc4-319">да</span><span class="sxs-lookup"><span data-stu-id="c9cc4-319">yes</span></span> | <span data-ttu-id="c9cc4-320">ВСАКМСГХДР с данными управления</span><span class="sxs-lookup"><span data-stu-id="c9cc4-320">WSACMSGHDR with control data</span></span> | <span data-ttu-id="c9cc4-321">Вспомогательный тип данных сокета датаграмм ( \_ тип КМСГ) для указания записи перенаправления для UDP-сокета, используемого службой перенаправления платформы фильтрации Windows (WFP) в пользовательском режиме.</span><span class="sxs-lookup"><span data-stu-id="c9cc4-321">A datagram socket ancillary data type (cmsg\_type) to indicate the redirect record for a UDP socket used by a user mode Windows Filtering Platform (WFP) redirect service.</span></span> |

## <a name="windows-support-for-ip_proto-options"></a><span data-ttu-id="c9cc4-322">Поддержка Windows для параметров IP-адреса \_</span><span class="sxs-lookup"><span data-stu-id="c9cc4-322">Windows support for IP\_PROTO options</span></span>

| <span data-ttu-id="c9cc4-323">Параметр</span><span class="sxs-lookup"><span data-stu-id="c9cc4-323">Option</span></span> | <span data-ttu-id="c9cc4-324">Windows 10</span><span class="sxs-lookup"><span data-stu-id="c9cc4-324">Windows 10</span></span> | <span data-ttu-id="c9cc4-325">Windows 8</span><span class="sxs-lookup"><span data-stu-id="c9cc4-325">Windows 8</span></span> | <span data-ttu-id="c9cc4-326">Windows Server 2012</span><span class="sxs-lookup"><span data-stu-id="c9cc4-326">Windows Server 2012</span></span> | <span data-ttu-id="c9cc4-327">Windows 7</span><span class="sxs-lookup"><span data-stu-id="c9cc4-327">Windows 7</span></span> | <span data-ttu-id="c9cc4-328">Windows Server 2008</span><span class="sxs-lookup"><span data-stu-id="c9cc4-328">Windows Server 2008</span></span> | <span data-ttu-id="c9cc4-329">Windows Vista</span><span class="sxs-lookup"><span data-stu-id="c9cc4-329">Windows Vista</span></span> |
|-|-|-|-|-|-|-|
| <span data-ttu-id="c9cc4-330">IP_ADD_IFLIST</span><span class="sxs-lookup"><span data-stu-id="c9cc4-330">IP_ADD_IFLIST</span></span> | <span data-ttu-id="c9cc4-331">Начиная с Windows 10, версия 1803</span><span class="sxs-lookup"><span data-stu-id="c9cc4-331">Starting with Windows 10, version 1803</span></span> | | | | | |
| <span data-ttu-id="c9cc4-332">\_Добавление \_ ЧЛЕНСТВА в IP</span><span class="sxs-lookup"><span data-stu-id="c9cc4-332">IP\_ADD\_MEMBERSHIP</span></span> | <span data-ttu-id="c9cc4-333">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-333">x</span></span> | <span data-ttu-id="c9cc4-334">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-334">x</span></span> | <span data-ttu-id="c9cc4-335">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-335">x</span></span> | <span data-ttu-id="c9cc4-336">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-336">x</span></span> | <span data-ttu-id="c9cc4-337">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-337">x</span></span> | <span data-ttu-id="c9cc4-338">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-338">x</span></span> |
| <span data-ttu-id="c9cc4-339">IP- \_ Добавление членства в \_ источнике \_</span><span class="sxs-lookup"><span data-stu-id="c9cc4-339">IP\_ADD\_SOURCE\_MEMBERSHIP</span></span> | <span data-ttu-id="c9cc4-340">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-340">x</span></span> | <span data-ttu-id="c9cc4-341">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-341">x</span></span> | <span data-ttu-id="c9cc4-342">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-342">x</span></span> | <span data-ttu-id="c9cc4-343">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-343">x</span></span> | <span data-ttu-id="c9cc4-344">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-344">x</span></span> | <span data-ttu-id="c9cc4-345">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-345">x</span></span> |
| <span data-ttu-id="c9cc4-346">Источник IP- \_ блока \_</span><span class="sxs-lookup"><span data-stu-id="c9cc4-346">IP\_BLOCK\_SOURCE</span></span> | <span data-ttu-id="c9cc4-347">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-347">x</span></span> | <span data-ttu-id="c9cc4-348">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-348">x</span></span> | <span data-ttu-id="c9cc4-349">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-349">x</span></span> | <span data-ttu-id="c9cc4-350">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-350">x</span></span> | <span data-ttu-id="c9cc4-351">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-351">x</span></span> | <span data-ttu-id="c9cc4-352">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-352">x</span></span> |
| <span data-ttu-id="c9cc4-353">IP_DEL_IFLIST</span><span class="sxs-lookup"><span data-stu-id="c9cc4-353">IP_DEL_IFLIST</span></span> | <span data-ttu-id="c9cc4-354">Начиная с Windows 10, версия 1803</span><span class="sxs-lookup"><span data-stu-id="c9cc4-354">Starting with Windows 10, version 1803</span></span> | | | | | |
| <span data-ttu-id="c9cc4-355">IP- \_ донтфрагмент</span><span class="sxs-lookup"><span data-stu-id="c9cc4-355">IP\_DONTFRAGMENT</span></span> | <span data-ttu-id="c9cc4-356">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-356">x</span></span> | <span data-ttu-id="c9cc4-357">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-357">x</span></span> | <span data-ttu-id="c9cc4-358">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-358">x</span></span> | <span data-ttu-id="c9cc4-359">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-359">x</span></span> | <span data-ttu-id="c9cc4-360">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-360">x</span></span> | <span data-ttu-id="c9cc4-361">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-361">x</span></span> |
| <span data-ttu-id="c9cc4-362">членство в IP-адресе \_ \_</span><span class="sxs-lookup"><span data-stu-id="c9cc4-362">IP\_DROP\_MEMBERSHIP</span></span> | <span data-ttu-id="c9cc4-363">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-363">x</span></span> | <span data-ttu-id="c9cc4-364">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-364">x</span></span> | <span data-ttu-id="c9cc4-365">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-365">x</span></span> | <span data-ttu-id="c9cc4-366">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-366">x</span></span> | <span data-ttu-id="c9cc4-367">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-367">x</span></span> | <span data-ttu-id="c9cc4-368">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-368">x</span></span> |
| <span data-ttu-id="c9cc4-369">\_членство в \_ источнике IP-адресов \_</span><span class="sxs-lookup"><span data-stu-id="c9cc4-369">IP\_DROP\_SOURCE\_MEMBERSHIP</span></span> | <span data-ttu-id="c9cc4-370">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-370">x</span></span> | <span data-ttu-id="c9cc4-371">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-371">x</span></span> | <span data-ttu-id="c9cc4-372">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-372">x</span></span> | <span data-ttu-id="c9cc4-373">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-373">x</span></span> | <span data-ttu-id="c9cc4-374">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-374">x</span></span> | <span data-ttu-id="c9cc4-375">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-375">x</span></span> |
| <span data-ttu-id="c9cc4-376">IP_GET_IFLIST</span><span class="sxs-lookup"><span data-stu-id="c9cc4-376">IP_GET_IFLIST</span></span> | <span data-ttu-id="c9cc4-377">Начиная с Windows 10, версия 1803</span><span class="sxs-lookup"><span data-stu-id="c9cc4-377">Starting with Windows 10, version 1803</span></span> | | | | | |
| <span data-ttu-id="c9cc4-378">IP- \_ хдринкл</span><span class="sxs-lookup"><span data-stu-id="c9cc4-378">IP\_HDRINCL</span></span> | <span data-ttu-id="c9cc4-379">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-379">x</span></span> | <span data-ttu-id="c9cc4-380">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-380">x</span></span> | <span data-ttu-id="c9cc4-381">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-381">x</span></span> | <span data-ttu-id="c9cc4-382">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-382">x</span></span> | <span data-ttu-id="c9cc4-383">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-383">x</span></span> | <span data-ttu-id="c9cc4-384">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-384">x</span></span> |
| <span data-ttu-id="c9cc4-385">IP_IFLIST</span><span class="sxs-lookup"><span data-stu-id="c9cc4-385">IP_IFLIST</span></span> | <span data-ttu-id="c9cc4-386">Начиная с Windows 10, версия 1803</span><span class="sxs-lookup"><span data-stu-id="c9cc4-386">Starting with Windows 10, version 1803</span></span> | | | | | |
| <span data-ttu-id="c9cc4-387">\_многоадресная рассылка IP-адресов \_</span><span class="sxs-lookup"><span data-stu-id="c9cc4-387">IP\_MULTICAST\_IF</span></span> | <span data-ttu-id="c9cc4-388">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-388">x</span></span> | <span data-ttu-id="c9cc4-389">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-389">x</span></span> | <span data-ttu-id="c9cc4-390">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-390">x</span></span> | <span data-ttu-id="c9cc4-391">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-391">x</span></span> | <span data-ttu-id="c9cc4-392">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-392">x</span></span> | <span data-ttu-id="c9cc4-393">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-393">x</span></span> |
| <span data-ttu-id="c9cc4-394">\_цикл многоадресной IP-рассылки \_</span><span class="sxs-lookup"><span data-stu-id="c9cc4-394">IP\_MULTICAST\_LOOP</span></span> | <span data-ttu-id="c9cc4-395">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-395">x</span></span> | <span data-ttu-id="c9cc4-396">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-396">x</span></span> | <span data-ttu-id="c9cc4-397">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-397">x</span></span> | <span data-ttu-id="c9cc4-398">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-398">x</span></span> | <span data-ttu-id="c9cc4-399">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-399">x</span></span> | <span data-ttu-id="c9cc4-400">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-400">x</span></span> |
| <span data-ttu-id="c9cc4-401">\_TTL многоадресной IP-рассылки \_</span><span class="sxs-lookup"><span data-stu-id="c9cc4-401">IP\_MULTICAST\_TTL</span></span> | <span data-ttu-id="c9cc4-402">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-402">x</span></span> | <span data-ttu-id="c9cc4-403">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-403">x</span></span> | <span data-ttu-id="c9cc4-404">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-404">x</span></span> | <span data-ttu-id="c9cc4-405">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-405">x</span></span> | <span data-ttu-id="c9cc4-406">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-406">x</span></span> | <span data-ttu-id="c9cc4-407">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-407">x</span></span> |
| <span data-ttu-id="c9cc4-408">параметры IP-адреса \_</span><span class="sxs-lookup"><span data-stu-id="c9cc4-408">IP\_OPTIONS</span></span> | <span data-ttu-id="c9cc4-409">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-409">x</span></span> | <span data-ttu-id="c9cc4-410">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-410">x</span></span> | <span data-ttu-id="c9cc4-411">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-411">x</span></span> | <span data-ttu-id="c9cc4-412">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-412">x</span></span> | <span data-ttu-id="c9cc4-413">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-413">x</span></span> | <span data-ttu-id="c9cc4-414">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-414">x</span></span> |
| <span data-ttu-id="c9cc4-415">\_исходное поступление IP-адресов, \_ \_ Если</span><span class="sxs-lookup"><span data-stu-id="c9cc4-415">IP\_ORIGINAL\_ARRIVAL\_IF</span></span> | <span data-ttu-id="c9cc4-416">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-416">x</span></span> | <span data-ttu-id="c9cc4-417">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-417">x</span></span> | <span data-ttu-id="c9cc4-418">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-418">x</span></span> | <span data-ttu-id="c9cc4-419">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-419">x</span></span> | | |
| <span data-ttu-id="c9cc4-420">IP- \_ пктинфо</span><span class="sxs-lookup"><span data-stu-id="c9cc4-420">IP\_PKTINFO</span></span> | <span data-ttu-id="c9cc4-421">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-421">x</span></span> | <span data-ttu-id="c9cc4-422">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-422">x</span></span> | <span data-ttu-id="c9cc4-423">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-423">x</span></span> | <span data-ttu-id="c9cc4-424">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-424">x</span></span> | <span data-ttu-id="c9cc4-425">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-425">x</span></span> | <span data-ttu-id="c9cc4-426">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-426">x</span></span> |
| <span data-ttu-id="c9cc4-427">IP-адрес \_ получения \_ широковещательной рассылки</span><span class="sxs-lookup"><span data-stu-id="c9cc4-427">IP\_RECEIVE\_BROADCAST</span></span> | <span data-ttu-id="c9cc4-428">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-428">x</span></span> | <span data-ttu-id="c9cc4-429">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-429">x</span></span> | <span data-ttu-id="c9cc4-430">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-430">x</span></span> | <span data-ttu-id="c9cc4-431">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-431">x</span></span> | <span data-ttu-id="c9cc4-432">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-432">x</span></span> | <span data-ttu-id="c9cc4-433">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-433">x</span></span> |
| <span data-ttu-id="c9cc4-434">IP- \_ реквиф</span><span class="sxs-lookup"><span data-stu-id="c9cc4-434">IP\_RECVIF</span></span> | <span data-ttu-id="c9cc4-435">Начиная с Windows 10, версия 1703</span><span class="sxs-lookup"><span data-stu-id="c9cc4-435">Starting with Windows 10, version 1703</span></span> | <span data-ttu-id="c9cc4-436">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-436">x</span></span> | <span data-ttu-id="c9cc4-437">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-437">x</span></span> | <span data-ttu-id="c9cc4-438">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-438">x</span></span> | <span data-ttu-id="c9cc4-439">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-439">x</span></span> | <span data-ttu-id="c9cc4-440">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-440">x</span></span> |
| <span data-ttu-id="c9cc4-441">IP- \_ реквттл</span><span class="sxs-lookup"><span data-stu-id="c9cc4-441">IP\_RECVTTL</span></span> | <span data-ttu-id="c9cc4-442">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-442">x</span></span> | | | | | |
| <span data-ttu-id="c9cc4-443">IP- \_ TOS</span><span class="sxs-lookup"><span data-stu-id="c9cc4-443">IP\_TOS</span></span> | <span data-ttu-id="c9cc4-444">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-444">x</span></span> | <span data-ttu-id="c9cc4-445">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-445">x</span></span> | <span data-ttu-id="c9cc4-446">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-446">x</span></span> | | | |
| <span data-ttu-id="c9cc4-447">\_срок жизни IP</span><span class="sxs-lookup"><span data-stu-id="c9cc4-447">IP\_TTL</span></span> | <span data-ttu-id="c9cc4-448">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-448">x</span></span> | <span data-ttu-id="c9cc4-449">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-449">x</span></span> | <span data-ttu-id="c9cc4-450">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-450">x</span></span> | <span data-ttu-id="c9cc4-451">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-451">x</span></span> | <span data-ttu-id="c9cc4-452">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-452">x</span></span> | <span data-ttu-id="c9cc4-453">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-453">x</span></span> |
| <span data-ttu-id="c9cc4-454">\_источник разблокировки IP-адреса \_</span><span class="sxs-lookup"><span data-stu-id="c9cc4-454">IP\_UNBLOCK\_SOURCE</span></span> | <span data-ttu-id="c9cc4-455">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-455">x</span></span> | <span data-ttu-id="c9cc4-456">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-456">x</span></span> | <span data-ttu-id="c9cc4-457">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-457">x</span></span> | <span data-ttu-id="c9cc4-458">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-458">x</span></span> | <span data-ttu-id="c9cc4-459">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-459">x</span></span> | <span data-ttu-id="c9cc4-460">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-460">x</span></span> |
| <span data-ttu-id="c9cc4-461">IP- \_ адрес рассылки, \_ Если</span><span class="sxs-lookup"><span data-stu-id="c9cc4-461">IP\_UNICAST\_IF</span></span> | <span data-ttu-id="c9cc4-462">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-462">x</span></span> | <span data-ttu-id="c9cc4-463">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-463">x</span></span> | <span data-ttu-id="c9cc4-464">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-464">x</span></span> | <span data-ttu-id="c9cc4-465">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-465">x</span></span> | <span data-ttu-id="c9cc4-466">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-466">x</span></span> | <span data-ttu-id="c9cc4-467">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-467">x</span></span> |
| <span data-ttu-id="c9cc4-468">\_ \_ контекст перенаправления WFP IP \_</span><span class="sxs-lookup"><span data-stu-id="c9cc4-468">IP\_WFP\_REDIRECT\_CONTEXT</span></span> | <span data-ttu-id="c9cc4-469">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-469">x</span></span> | <span data-ttu-id="c9cc4-470">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-470">x</span></span> | <span data-ttu-id="c9cc4-471">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-471">x</span></span> | | | |
| <span data-ttu-id="c9cc4-472">\_ \_ записи перенаправления WFP IP-адресов \_</span><span class="sxs-lookup"><span data-stu-id="c9cc4-472">IP\_WFP\_REDIRECT\_RECORDS</span></span> | <span data-ttu-id="c9cc4-473">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-473">x</span></span> | <span data-ttu-id="c9cc4-474">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-474">x</span></span> | <span data-ttu-id="c9cc4-475">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-475">x</span></span> | | | |

<br/>

| <span data-ttu-id="c9cc4-476">Параметр</span><span class="sxs-lookup"><span data-stu-id="c9cc4-476">Option</span></span> | <span data-ttu-id="c9cc4-477">Windows Server 2003</span><span class="sxs-lookup"><span data-stu-id="c9cc4-477">Windows Server 2003</span></span> | <span data-ttu-id="c9cc4-478">Windows XP</span><span class="sxs-lookup"><span data-stu-id="c9cc4-478">Windows XP</span></span> |
|-|-|-|
| <span data-ttu-id="c9cc4-479">IP_ADD_IFLIST</span><span class="sxs-lookup"><span data-stu-id="c9cc4-479">IP_ADD_IFLIST</span></span> | | |
| <span data-ttu-id="c9cc4-480">\_Добавление \_ ЧЛЕНСТВА в IP</span><span class="sxs-lookup"><span data-stu-id="c9cc4-480">IP\_ADD\_MEMBERSHIP</span></span> | <span data-ttu-id="c9cc4-481">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-481">x</span></span> | <span data-ttu-id="c9cc4-482">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-482">x</span></span> |
| <span data-ttu-id="c9cc4-483">IP- \_ Добавление членства в \_ источнике \_</span><span class="sxs-lookup"><span data-stu-id="c9cc4-483">IP\_ADD\_SOURCE\_MEMBERSHIP</span></span> | <span data-ttu-id="c9cc4-484">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-484">x</span></span> | <span data-ttu-id="c9cc4-485">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-485">x</span></span> |
| <span data-ttu-id="c9cc4-486">Источник IP- \_ блока \_</span><span class="sxs-lookup"><span data-stu-id="c9cc4-486">IP\_BLOCK\_SOURCE</span></span> | <span data-ttu-id="c9cc4-487">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-487">x</span></span> | <span data-ttu-id="c9cc4-488">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-488">x</span></span> |
| <span data-ttu-id="c9cc4-489">IP_DEL_IFLIST</span><span class="sxs-lookup"><span data-stu-id="c9cc4-489">IP_DEL_IFLIST</span></span> | | |
| <span data-ttu-id="c9cc4-490">IP- \_ донтфрагмент</span><span class="sxs-lookup"><span data-stu-id="c9cc4-490">IP\_DONTFRAGMENT</span></span> | <span data-ttu-id="c9cc4-491">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-491">x</span></span> | <span data-ttu-id="c9cc4-492">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-492">x</span></span> |
| <span data-ttu-id="c9cc4-493">членство в IP-адресе \_ \_</span><span class="sxs-lookup"><span data-stu-id="c9cc4-493">IP\_DROP\_MEMBERSHIP</span></span> | <span data-ttu-id="c9cc4-494">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-494">x</span></span> | <span data-ttu-id="c9cc4-495">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-495">x</span></span> |
| <span data-ttu-id="c9cc4-496">\_членство в \_ источнике IP-адресов \_</span><span class="sxs-lookup"><span data-stu-id="c9cc4-496">IP\_DROP\_SOURCE\_MEMBERSHIP</span></span> | <span data-ttu-id="c9cc4-497">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-497">x</span></span> | <span data-ttu-id="c9cc4-498">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-498">x</span></span> |
| <span data-ttu-id="c9cc4-499">IP_GET_IFLIST</span><span class="sxs-lookup"><span data-stu-id="c9cc4-499">IP_GET_IFLIST</span></span> | | |
| <span data-ttu-id="c9cc4-500">IP- \_ хдринкл</span><span class="sxs-lookup"><span data-stu-id="c9cc4-500">IP\_HDRINCL</span></span> | <span data-ttu-id="c9cc4-501">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-501">x</span></span> | <span data-ttu-id="c9cc4-502">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-502">x</span></span> |
| <span data-ttu-id="c9cc4-503">IP_IFLIST</span><span class="sxs-lookup"><span data-stu-id="c9cc4-503">IP_IFLIST</span></span> | | |
| <span data-ttu-id="c9cc4-504">\_многоадресная рассылка IP-адресов \_</span><span class="sxs-lookup"><span data-stu-id="c9cc4-504">IP\_MULTICAST\_IF</span></span> | <span data-ttu-id="c9cc4-505">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-505">x</span></span> | <span data-ttu-id="c9cc4-506">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-506">x</span></span> |
| <span data-ttu-id="c9cc4-507">\_цикл многоадресной IP-рассылки \_</span><span class="sxs-lookup"><span data-stu-id="c9cc4-507">IP\_MULTICAST\_LOOP</span></span> | <span data-ttu-id="c9cc4-508">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-508">x</span></span> | <span data-ttu-id="c9cc4-509">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-509">x</span></span> |
| <span data-ttu-id="c9cc4-510">\_TTL многоадресной IP-рассылки \_</span><span class="sxs-lookup"><span data-stu-id="c9cc4-510">IP\_MULTICAST\_TTL</span></span> | <span data-ttu-id="c9cc4-511">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-511">x</span></span> | <span data-ttu-id="c9cc4-512">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-512">x</span></span> |
| <span data-ttu-id="c9cc4-513">параметры IP-адреса \_</span><span class="sxs-lookup"><span data-stu-id="c9cc4-513">IP\_OPTIONS</span></span> | <span data-ttu-id="c9cc4-514">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-514">x</span></span> | <span data-ttu-id="c9cc4-515">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-515">x</span></span> |
| <span data-ttu-id="c9cc4-516">\_исходное поступление IP-адресов, \_ \_ Если</span><span class="sxs-lookup"><span data-stu-id="c9cc4-516">IP\_ORIGINAL\_ARRIVAL\_IF</span></span> | | |
| <span data-ttu-id="c9cc4-517">IP- \_ пктинфо</span><span class="sxs-lookup"><span data-stu-id="c9cc4-517">IP\_PKTINFO</span></span> | <span data-ttu-id="c9cc4-518">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-518">x</span></span> | <span data-ttu-id="c9cc4-519">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-519">x</span></span> |
| <span data-ttu-id="c9cc4-520">IP-адрес \_ получения \_ широковещательной рассылки</span><span class="sxs-lookup"><span data-stu-id="c9cc4-520">IP\_RECEIVE\_BROADCAST</span></span> | <span data-ttu-id="c9cc4-521">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-521">x</span></span> | <span data-ttu-id="c9cc4-522">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-522">x</span></span> |
| <span data-ttu-id="c9cc4-523">IP- \_ реквиф</span><span class="sxs-lookup"><span data-stu-id="c9cc4-523">IP\_RECVIF</span></span> | | |
| <span data-ttu-id="c9cc4-524">IP- \_ реквттл</span><span class="sxs-lookup"><span data-stu-id="c9cc4-524">IP\_RECVTTL</span></span> | | |
| <span data-ttu-id="c9cc4-525">IP- \_ TOS</span><span class="sxs-lookup"><span data-stu-id="c9cc4-525">IP\_TOS</span></span> | | |
| <span data-ttu-id="c9cc4-526">\_срок жизни IP</span><span class="sxs-lookup"><span data-stu-id="c9cc4-526">IP\_TTL</span></span> | <span data-ttu-id="c9cc4-527">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-527">x</span></span> | <span data-ttu-id="c9cc4-528">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-528">x</span></span> |
| <span data-ttu-id="c9cc4-529">\_источник разблокировки IP-адреса \_</span><span class="sxs-lookup"><span data-stu-id="c9cc4-529">IP\_UNBLOCK\_SOURCE</span></span> | <span data-ttu-id="c9cc4-530">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-530">x</span></span> | <span data-ttu-id="c9cc4-531">x</span><span class="sxs-lookup"><span data-stu-id="c9cc4-531">x</span></span> |
| <span data-ttu-id="c9cc4-532">IP- \_ адрес рассылки, \_ Если</span><span class="sxs-lookup"><span data-stu-id="c9cc4-532">IP\_UNICAST\_IF</span></span> | | |
| <span data-ttu-id="c9cc4-533">\_ \_ контекст перенаправления WFP IP \_</span><span class="sxs-lookup"><span data-stu-id="c9cc4-533">IP\_WFP\_REDIRECT\_CONTEXT</span></span> | | |
| <span data-ttu-id="c9cc4-534">\_ \_ записи перенаправления WFP IP-адресов \_</span><span class="sxs-lookup"><span data-stu-id="c9cc4-534">IP\_WFP\_REDIRECT\_RECORDS</span></span> | | |

## <a name="remarks"></a><span data-ttu-id="c9cc4-535">Комментарии</span><span class="sxs-lookup"><span data-stu-id="c9cc4-535">Remarks</span></span>

<span data-ttu-id="c9cc4-536">В пакете средств разработки программного обеспечения Microsoft Windows (SDK), выпущенном для Windows Vista и более поздних версий, Организация файлов заголовков изменилась, а **иппрото уровень \_ IP-адресов** определен в файле заголовка *Ws2def. h* , который автоматически включается в заголовочный файл *Winsock2. h* .</span><span class="sxs-lookup"><span data-stu-id="c9cc4-536">In the Microsoft Windows Software Development Kit (SDK) released for Windows Vista and later, the organization of header files has changed and **IPPROTO\_IP** level is defined in the *Ws2def.h* header file which is automatically included in the *Winsock2.h* header file.</span></span> <span data-ttu-id="c9cc4-537">Некоторые параметры **\_ IP-** сокета иппрото определены в файле заголовка *Ws2ipdef. h* , который автоматически включается в заголовочный файл *Ws2tcpip. h* .</span><span class="sxs-lookup"><span data-stu-id="c9cc4-537">Some of the **IPPROTO\_IP** socket options are defined in the *Ws2ipdef.h* header file which is automatically included by the *Ws2tcpip.h* header file.</span></span> <span data-ttu-id="c9cc4-538">Остальные параметры **\_ IP-** сокета иппрото определены в файле заголовка *Wsipv6ok. h* , который автоматически включается в заголовочный файл *Winsock2. h* .</span><span class="sxs-lookup"><span data-stu-id="c9cc4-538">The remaining **IPPROTO\_IP** socket options are defined in the *Wsipv6ok.h* header file which is automatically included by the *Winsock2.h* header file.</span></span> <span data-ttu-id="c9cc4-539">Файлы заголовков *Ws2def. h*, *Ws2ipdef. h* и *Wsipv6ok. h* никогда не следует использовать напрямую.</span><span class="sxs-lookup"><span data-stu-id="c9cc4-539">The *Ws2def.h*, *Ws2ipdef.h*, and *Wsipv6ok.h* header files should never be used directly.</span></span>

<span data-ttu-id="c9cc4-540">В пакете SDK для платформы, выпущенном для Windows Server 2003 и Windows XP, уровень **\_ IP-адреса иппрото** определяется в файле заголовка *Winsock2. h* .</span><span class="sxs-lookup"><span data-stu-id="c9cc4-540">In the Platform SDK released for Windows Server 2003 and Windows XP, the **IPPROTO\_IP** level is defined in the *Winsock2.h* header file.</span></span> <span data-ttu-id="c9cc4-541">Некоторые параметры **\_ IP-** сокета иппрото определены в файле заголовка *Ws2tcpip. h* .</span><span class="sxs-lookup"><span data-stu-id="c9cc4-541">Some of the **IPPROTO\_IP** socket options are defined in the *Ws2tcpip.h* header file.</span></span> <span data-ttu-id="c9cc4-542">Остальные параметры **\_ IP-** сокета иппрото определены в файле заголовка *Wsipv6ok. h* , который автоматически включается в заголовочный файл *Winsock2. h* .</span><span class="sxs-lookup"><span data-stu-id="c9cc4-542">The remaining **IPPROTO\_IP** socket options are defined in the *Wsipv6ok.h* header file which is automatically included by the *Winsock2.h* header file.</span></span> <span data-ttu-id="c9cc4-543">Файл заголовка *Wsipv6ok. h* никогда не должен использоваться напрямую.</span><span class="sxs-lookup"><span data-stu-id="c9cc4-543">The *Wsipv6ok.h* header file should never be used directly.</span></span>

## <a name="requirements"></a><span data-ttu-id="c9cc4-544">Требования</span><span class="sxs-lookup"><span data-stu-id="c9cc4-544">Requirements</span></span>

| <span data-ttu-id="c9cc4-545">Требование</span><span class="sxs-lookup"><span data-stu-id="c9cc4-545">Requirement</span></span> | <span data-ttu-id="c9cc4-546">Значение</span><span class="sxs-lookup"><span data-stu-id="c9cc4-546">Value</span></span> |
|-|-|
| <span data-ttu-id="c9cc4-547">Header</span><span class="sxs-lookup"><span data-stu-id="c9cc4-547">Header</span></span> | <dl> <span data-ttu-id="c9cc4-548"><dt>Ws2def. h (включает Winsock2. h); </dt> <dt>Ws2ipdef. h (включает Ws2tcpip. h); </dt> <dt>Wsipv6ok. h (включение Winsock2. h)</dt></span><span class="sxs-lookup"><span data-stu-id="c9cc4-548"><dt>Ws2def.h (include Winsock2.h); </dt> <dt>Ws2ipdef.h (include Ws2tcpip.h); </dt> <dt>Wsipv6ok.h (include Winsock2.h)</dt></span></span> </dl> |
