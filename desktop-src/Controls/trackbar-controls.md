---
title: О элементах управления TrackBar
description: TrackBar — это окно, содержащее ползунок (иногда называемый бегунком) в канале и необязательные деления. Когда пользователь перемещает ползунок с помощью мыши или клавиш направления, ползунок отправляет сообщения уведомления для указания на изменение.
ms.assetid: 9fc7bef8-da1d-493b-9a9a-3770873713f0
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 83e364f57a094ed5a29369a00a112150d0282f24
ms.sourcegitcommit: 5f33645661bf8c825a7a2e73950b1f4ea0f1cd82
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/21/2020
ms.locfileid: "103794017"
---
# <a name="about-trackbar-controls"></a><span data-ttu-id="bc498-104">О элементах управления TrackBar</span><span class="sxs-lookup"><span data-stu-id="bc498-104">About Trackbar Controls</span></span>

<span data-ttu-id="bc498-105">TrackBar — это окно, содержащее ползунок (иногда называемый бегунком) в канале и необязательные деления.</span><span class="sxs-lookup"><span data-stu-id="bc498-105">A trackbar is a window that contains a slider (sometimes called a thumb) in a channel, and optional tick marks.</span></span> <span data-ttu-id="bc498-106">Когда пользователь перемещает ползунок с помощью мыши или клавиш направления, ползунок отправляет сообщения уведомления для указания на изменение.</span><span class="sxs-lookup"><span data-stu-id="bc498-106">When the user moves the slider, using either the mouse or the direction keys, the trackbar sends notification messages to indicate the change.</span></span>

-   [<span data-ttu-id="bc498-107">Диапазон выбора</span><span class="sxs-lookup"><span data-stu-id="bc498-107">Selection Range</span></span>](#selection-range)
-   [<span data-ttu-id="bc498-108">Сообщения TrackBar</span><span class="sxs-lookup"><span data-stu-id="bc498-108">Trackbar Messages</span></span>](#trackbar-messages)
-   [<span data-ttu-id="bc498-109">Сообщения уведомления о прокрутки</span><span class="sxs-lookup"><span data-stu-id="bc498-109">Trackbar Notification Messages</span></span>](#trackbar-notification-messages)
-   [<span data-ttu-id="bc498-110">Обработка сообщений TrackBar по умолчанию</span><span class="sxs-lookup"><span data-stu-id="bc498-110">Default Trackbar Message Processing</span></span>](#default-trackbar-message-processing)
-   [<span data-ttu-id="bc498-111">Подсказки для TrackBar</span><span class="sxs-lookup"><span data-stu-id="bc498-111">Trackbar Tooltips</span></span>](#trackbar-tooltips)

<span data-ttu-id="bc498-112">Ползунки используются, когда нужно, чтобы пользователь выберет дискретное целое число без знака или набор последовательных целых значений без знака в диапазоне.</span><span class="sxs-lookup"><span data-stu-id="bc498-112">Trackbars are useful when you want the user to select a discrete unsigned integer value or a set of consecutive unsigned integer values in a range.</span></span> <span data-ttu-id="bc498-113">Например, можно использовать ползунок, чтобы разрешить пользователю задавать скорость повтора для клавиатуры, перемещая ползунок на заданный деленную метку.</span><span class="sxs-lookup"><span data-stu-id="bc498-113">For example, you might use a trackbar to allow the user to set the repeat rate of the keyboard by moving the slider to a given tick mark.</span></span> <span data-ttu-id="bc498-114">На следующем рисунке показана типичная линейка.</span><span class="sxs-lookup"><span data-stu-id="bc498-114">The following illustration shows a typical trackbar.</span></span>

![снимок экрана с меткой линейки с метками на концах для медленных и быстрых](images/tkb-simple.png)

<span data-ttu-id="bc498-116">Ползунок в TrackBar перемещается по шагам, указанным при ее создании.</span><span class="sxs-lookup"><span data-stu-id="bc498-116">The slider in a trackbar moves in increments that you specify when you create it.</span></span> <span data-ttu-id="bc498-117">Значения в этом диапазоне называются логическими единицами.</span><span class="sxs-lookup"><span data-stu-id="bc498-117">The values in this range are referred to as logical units.</span></span> <span data-ttu-id="bc498-118">Например, если указать, что значение TrackBar должно иметь логические единицы в диапазоне от 0 до 5, то ползунок может занимать только шесть позиций: положение в левой части TrackBar и одну позицию для каждого приращения в диапазоне.</span><span class="sxs-lookup"><span data-stu-id="bc498-118">For example, if you specify that the trackbar should have logical units that range from 0 to 5, the slider can occupy only six positions: a position at the left side of the trackbar and one position for each increment in the range.</span></span> <span data-ttu-id="bc498-119">Как правило, каждая из этих позиций обозначается делением; Однако количество делений является произвольным и может быть меньше, чем число логических позиций.</span><span class="sxs-lookup"><span data-stu-id="bc498-119">Typically, each of these positions is identified by a tick mark; however, the number of tick marks is arbitrary and can be fewer than the number of logical positions.</span></span>

<span data-ttu-id="bc498-120">Можно создать линейку с помощью функции [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) , указав класс окна [**\_ класса TrackBar**](common-control-window-classes.md) .</span><span class="sxs-lookup"><span data-stu-id="bc498-120">You create a trackbar by using the [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) function, specifying the [**TRACKBAR\_CLASS**](common-control-window-classes.md) window class.</span></span> <span data-ttu-id="bc498-121">После создания значения TrackBar можно использовать сообщения TrackBar для установки и получения многих его свойств.</span><span class="sxs-lookup"><span data-stu-id="bc498-121">After you have created a trackbar, you can use trackbar messages to set and retrieve many of its properties.</span></span> <span data-ttu-id="bc498-122">Изменения, которые можно внести, включают задание минимальных и максимальных позиций для ползунка, рисование делений, задание диапазона выбора и изменение положения ползунка.</span><span class="sxs-lookup"><span data-stu-id="bc498-122">Changes that you can make include setting the minimum and maximum positions for the slider, drawing tick marks, setting a selection range, and repositioning the slider.</span></span>

## <a name="selection-range"></a><span data-ttu-id="bc498-123">Диапазон выбора</span><span class="sxs-lookup"><span data-stu-id="bc498-123">Selection Range</span></span>

<span data-ttu-id="bc498-124">При создании значения TrackBar с использованием стиля [**TBS \_ енаблеселранже**](trackbar-control-styles.md) можно указать диапазон выбора.</span><span class="sxs-lookup"><span data-stu-id="bc498-124">If you create a trackbar with the [**TBS\_ENABLESELRANGE**](trackbar-control-styles.md) style, you can specify a selection range.</span></span> <span data-ttu-id="bc498-125">Значение TrackBar выделяет диапазон выбора и отображает треугольные деления в начале и в конце, как показано на следующем рисунке.</span><span class="sxs-lookup"><span data-stu-id="bc498-125">The trackbar highlights the selection range and displays triangular tick marks at the start and end, as shown in the following illustration.</span></span>

![снимок экрана элемента TrackBar с выделенным диапазоном](images/tkb-selrange.png)

<span data-ttu-id="bc498-127">Диапазон выбранных значений TrackBar не влияет на его функциональность.</span><span class="sxs-lookup"><span data-stu-id="bc498-127">The trackbar's selection range does not affect its functionality in any way.</span></span> <span data-ttu-id="bc498-128">Приложение может реализовать диапазон.</span><span class="sxs-lookup"><span data-stu-id="bc498-128">It is up to the application to implement the range.</span></span> <span data-ttu-id="bc498-129">Это можно сделать одним из следующих способов:</span><span class="sxs-lookup"><span data-stu-id="bc498-129">You might do this in one of the following ways:</span></span>

-   <span data-ttu-id="bc498-130">Используйте диапазон выбора, чтобы предоставить пользователю возможность задать максимальное и минимальное значения для некоторых параметров.</span><span class="sxs-lookup"><span data-stu-id="bc498-130">Use a selection range to enable the user to set maximum and minimum values for some parameter.</span></span> <span data-ttu-id="bc498-131">Например, пользователь может переместить ползунок в положение, а затем нажать кнопку с надписью "Макс.".</span><span class="sxs-lookup"><span data-stu-id="bc498-131">For example, the user could move the slider to a position and then click a button labeled "Max".</span></span> <span data-ttu-id="bc498-132">Затем приложение задает диапазон выбора для отображения значений, выбранных пользователем.</span><span class="sxs-lookup"><span data-stu-id="bc498-132">The application then sets the selection range to show the values chosen by the user.</span></span>
-   <span data-ttu-id="bc498-133">Ограничьте перемещение ползунка до предварительно определенного поддиапазона внутри элемента управления, обрабатывая уведомление [**WM \_ HSCROLL**](wm-hscroll.md) или [**WM \_ VSCROLL**](wm-vscroll.md) и запрещая перемещение за пределы диапазона выбора.</span><span class="sxs-lookup"><span data-stu-id="bc498-133">Limit the movement of the slider to a predetermined subrange within the control, by handling the [**WM\_HSCROLL**](wm-hscroll.md) or [**WM\_VSCROLL**](wm-vscroll.md) notification and disallowing any movement outside the selection range.</span></span> <span data-ttu-id="bc498-134">Это можно сделать, например, если диапазон значений, доступных пользователю, может измениться из-за других вариантов, сделанных пользователем, или в соответствии с доступными ресурсами.</span><span class="sxs-lookup"><span data-stu-id="bc498-134">You might do this, for example, if the range of values available to the user can change because of other choices the user has made, or according to available resources.</span></span>

## <a name="trackbar-messages"></a><span data-ttu-id="bc498-135">Сообщения TrackBar</span><span class="sxs-lookup"><span data-stu-id="bc498-135">Trackbar Messages</span></span>

<span data-ttu-id="bc498-136">Логические единицы TrackBar — это набор смежных значений, которые может представлять линейка.</span><span class="sxs-lookup"><span data-stu-id="bc498-136">The logical units of a trackbar are the set of contiguous values that the trackbar can represent.</span></span> <span data-ttu-id="bc498-137">Обычно они определяются путем указания диапазона возможных значений с сообщением [**ТБМ \_ SETRANGE**](tbm-setrange.md) сразу после создания TrackBar.</span><span class="sxs-lookup"><span data-stu-id="bc498-137">They are usually defined by specifying the range of possible values with a [**TBM\_SETRANGE**](tbm-setrange.md) message as soon as the trackbar has been created.</span></span> <span data-ttu-id="bc498-138">Приложения могут динамически изменять диапазон с помощью **ТБМ \_ SETRANGE**, [**ТБМ \_ сетранжемакс**](tbm-setrangemax.md)или [**ТБМ \_ сетранжемин**](tbm-setrangemin.md).</span><span class="sxs-lookup"><span data-stu-id="bc498-138">Applications can dynamically alter the range by using **TBM\_SETRANGE**, [**TBM\_SETRANGEMAX**](tbm-setrangemax.md), or [**TBM\_SETRANGEMIN**](tbm-setrangemin.md).</span></span>

<span data-ttu-id="bc498-139">Чтобы получить положение ползунка (то есть значение, выбранное пользователем), используйте сообщение [**ТБМ \_ жетпос**](tbm-getpos.md) .</span><span class="sxs-lookup"><span data-stu-id="bc498-139">To retrieve the position of the slider (that is, the value the user has chosen), use the [**TBM\_GETPOS**](tbm-getpos.md) message.</span></span> <span data-ttu-id="bc498-140">Чтобы задать положение ползунка, используйте сообщение [**ТБМ \_ сетпос**](tbm-setpos.md) .</span><span class="sxs-lookup"><span data-stu-id="bc498-140">To set the position of the slider, use the [**TBM\_SETPOS**](tbm-setpos.md) message.</span></span>

<span data-ttu-id="bc498-141">Значение TrackBar автоматически отображает деления в начале и в конце, если не указан стиль [**TBS. \_**](trackbar-control-styles.md)</span><span class="sxs-lookup"><span data-stu-id="bc498-141">A trackbar automatically displays tick marks at its beginning and end, unless you specify the [**TBS\_NOTICKS**](trackbar-control-styles.md) style.</span></span> <span data-ttu-id="bc498-142">(В редакторе ресурсов Microsoft Visual Studio это означает, что для свойства Tick Marks задано значение false.) Можно использовать стиль [**TBS \_ автотактов**](trackbar-control-styles.md) , чтобы автоматически отображать дополнительные деления с регулярными интервалами по TrackBar.</span><span class="sxs-lookup"><span data-stu-id="bc498-142">(In the Microsoft Visual Studio resource editor, this means setting the Tick Marks property to False.) You can use the [**TBS\_AUTOTICKS**](trackbar-control-styles.md) style to automatically display additional tick marks at regular intervals along the trackbar.</span></span> <span data-ttu-id="bc498-143">По умолчанию параметр **TrackBar \_ автоимпульсов TBS** отображает деление на каждое приращение диапазона TrackBar.</span><span class="sxs-lookup"><span data-stu-id="bc498-143">By default, a **TBS\_AUTOTICKS** trackbar displays a tick mark at each increment of the trackbar's range.</span></span> <span data-ttu-id="bc498-144">Чтобы указать другой интервал для автоматических делений, отправьте сообщение [**ТБМ \_ сеттикфрек**](tbm-setticfreq.md) на TrackBar.</span><span class="sxs-lookup"><span data-stu-id="bc498-144">To specify a different interval for the automatic tick marks, send the [**TBM\_SETTICFREQ**](tbm-setticfreq.md) message to the trackbar.</span></span> <span data-ttu-id="bc498-145">Например, это сообщение можно использовать для вывода только 10 делений в диапазоне от 1 до 100.</span><span class="sxs-lookup"><span data-stu-id="bc498-145">For example, you could use this message to display only 10 tick marks in a range of 1 through 100.</span></span>

<span data-ttu-id="bc498-146">Чтобы задать расположение одной деления, отправьте сообщение [**ТБМ \_ Set**](tbm-settic.md) .</span><span class="sxs-lookup"><span data-stu-id="bc498-146">To set the position of a single tick mark, send the [**TBM\_SETTIC**](tbm-settic.md) message.</span></span> <span data-ttu-id="bc498-147">Значение TrackBar поддерживает массив значений типа DWORD, в котором хранится расположение каждого деления.</span><span class="sxs-lookup"><span data-stu-id="bc498-147">A trackbar maintains an array of DWORD values that stores the position of each tick mark.</span></span> <span data-ttu-id="bc498-148">Массив не включает в себя первый и последний деления, автоматически создаваемые TrackBar.</span><span class="sxs-lookup"><span data-stu-id="bc498-148">The array does not include the first and last tick marks, which the trackbar creates automatically.</span></span> <span data-ttu-id="bc498-149">Индекс в этом массиве можно указать при отправке сообщения [**\_ жеттик ТБМ**](tbm-gettic.md) для получения позиции соответствующего деления.</span><span class="sxs-lookup"><span data-stu-id="bc498-149">You can specify an index in this array when you send the [**TBM\_GETTIC**](tbm-gettic.md) message to retrieve the position of the corresponding tick mark.</span></span> <span data-ttu-id="bc498-150">Кроме того, можно отправить сообщение [**ТБМ \_ жетптикс**](tbm-getptics.md) , чтобы получить указатель на массив.</span><span class="sxs-lookup"><span data-stu-id="bc498-150">Alternatively, you can send the [**TBM\_GETPTICS**](tbm-getptics.md) message to retrieve a pointer to the array.</span></span> <span data-ttu-id="bc498-151">Число элементов в массиве равно двум меньшему значению счетчика тактов, возвращаемому сообщением [**ТБМ \_ жетнумтикс**](tbm-getnumtics.md) .</span><span class="sxs-lookup"><span data-stu-id="bc498-151">The number of elements in the array is equal to two less than the tick count returned by the [**TBM\_GETNUMTICS**](tbm-getnumtics.md) message.</span></span> <span data-ttu-id="bc498-152">Это связано с тем, что число, возвращаемое функцией **ТБМ \_ жетнумтикс** , включает первый и последний деления, которые не включены в массив.</span><span class="sxs-lookup"><span data-stu-id="bc498-152">This is because the count returned by **TBM\_GETNUMTICS** includes the first and last tick marks, which are not included in the array.</span></span> <span data-ttu-id="bc498-153">Чтобы получить физическое расположение деления, в клиентских координатах окна TrackBar отправьте сообщение [**ТБМ \_ жеттикпос**](tbm-getticpos.md) .</span><span class="sxs-lookup"><span data-stu-id="bc498-153">To retrieve the physical position of a tick mark, in client coordinates of the trackbar's window, send the [**TBM\_GETTICPOS**](tbm-getticpos.md) message.</span></span> <span data-ttu-id="bc498-154">Сообщение [**ТБМ \_ клеартикс**](tbm-cleartics.md) удаляет все деления TrackBar, кроме первого и последнего.</span><span class="sxs-lookup"><span data-stu-id="bc498-154">The [**TBM\_CLEARTICS**](tbm-cleartics.md) message removes all but the first and last of a trackbar's tick marks.</span></span>

<span data-ttu-id="bc498-155">Размер линии TrackBar определяет, на какое расстояние ползунок перемещается в ответ на ввод с клавиатуры клавишами со стрелками, например стрелка вправо или стрелка вниз.</span><span class="sxs-lookup"><span data-stu-id="bc498-155">A trackbar's line size determines how far the slider moves in response to keyboard input from the arrow keys, such as the RIGHT ARROW or DOWN ARROW key.</span></span> <span data-ttu-id="bc498-156">Чтобы получить или задать размер линии, отправьте сообщения [**ТБМ \_ Жетлинесизе**](tbm-getlinesize.md) и [**ТБМ \_ сетлинесизе**](tbm-setlinesize.md) .</span><span class="sxs-lookup"><span data-stu-id="bc498-156">To retrieve or set the line size, send the [**TBM\_GETLINESIZE**](tbm-getlinesize.md) and [**TBM\_SETLINESIZE**](tbm-setlinesize.md) messages.</span></span> <span data-ttu-id="bc498-157">\_ \_ При нажатии клавиш со стрелками значение TrackBar также отправляет коды уведомления ЛИНЕДОВН и ТБ в свое родительское окно.</span><span class="sxs-lookup"><span data-stu-id="bc498-157">The trackbar also sends the TB\_LINEUP and TB\_LINEDOWN notification codes to its parent window when the user presses the arrow keys.</span></span>

<span data-ttu-id="bc498-158">Размер страницы TrackBar определяет, на какое расстояние ползунок перемещается в ответ на ввод с клавиатуры, например Клавиша PAGE UP или PAGE DOWN, или ввод с помощью мыши, например щелчки в канале TrackBar.</span><span class="sxs-lookup"><span data-stu-id="bc498-158">A trackbar's page size determines how far the slider moves in response to keyboard input, such as the PAGE UP or PAGE DOWN key, or mouse input, such as clicks in the trackbar channel.</span></span> <span data-ttu-id="bc498-159">Чтобы получить или задать размер страницы, отправьте сообщения [**ТБМ \_**](tbm-getpagesize.md) и [**ТБМ \_ SETPAGESIZE**](tbm-setpagesize.md) .</span><span class="sxs-lookup"><span data-stu-id="bc498-159">To retrieve or set the page size, send the [**TBM\_GETPAGESIZE**](tbm-getpagesize.md) and [**TBM\_SETPAGESIZE**](tbm-setpagesize.md) messages.</span></span> <span data-ttu-id="bc498-160">Значение TrackBar также отправляет \_ коды уведомлений PageUp и ТБ \_ PageDown в родительское окно при получении ввода с клавиатуры или с помощью мыши для прокрутки страницы.</span><span class="sxs-lookup"><span data-stu-id="bc498-160">The trackbar also sends the TB\_PAGEUP and TB\_PAGEDOWN notification codes to its parent window when it receives keyboard or mouse input that scrolls the page.</span></span> <span data-ttu-id="bc498-161">Дополнительные сведения см. в статье [уведомления о](#trackbar-notification-messages)параметре TrackBar.</span><span class="sxs-lookup"><span data-stu-id="bc498-161">For more information, see [Trackbar Notification Messages](#trackbar-notification-messages).</span></span>

<span data-ttu-id="bc498-162">Приложение может отправить сообщения для получения измерений TrackBar.</span><span class="sxs-lookup"><span data-stu-id="bc498-162">An application can send messages to retrieve the dimensions of a trackbar.</span></span> <span data-ttu-id="bc498-163">Сообщение [**ТБМ \_ жетсумбрект**](tbm-getthumbrect.md) извлекает ограничивающий прямоугольник для ползунка.</span><span class="sxs-lookup"><span data-stu-id="bc498-163">The [**TBM\_GETTHUMBRECT**](tbm-getthumbrect.md) message retrieves the bounding rectangle for the slider.</span></span> <span data-ttu-id="bc498-164">Сообщение [**ТБМ \_ жетсумбленгс**](tbm-getthumblength.md) получает длину ползунка.</span><span class="sxs-lookup"><span data-stu-id="bc498-164">The [**TBM\_GETTHUMBLENGTH**](tbm-getthumblength.md) message retrieves the length of the slider.</span></span> <span data-ttu-id="bc498-165">Сообщение [**ТБМ \_ жетчаннелрект**](tbm-getchannelrect.md) извлекает ограничивающий прямоугольник для канала TrackBar, который является областью, в которую перемещается ползунок.</span><span class="sxs-lookup"><span data-stu-id="bc498-165">The [**TBM\_GETCHANNELRECT**](tbm-getchannelrect.md) message retrieves the bounding rectangle for the trackbar's channel, which is the area over which the slider moves.</span></span> <span data-ttu-id="bc498-166">Он содержит выделение при выборе диапазона.</span><span class="sxs-lookup"><span data-stu-id="bc498-166">It contains the highlight when a range is selected.</span></span> <span data-ttu-id="bc498-167">Если значение TrackBar имеет стиль [**\_ FIXEDLENGTH TBS**](trackbar-control-styles.md) , можно отправить сообщение [**\_ сетсумбленгс ТБМ**](tbm-setthumblength.md) , чтобы изменить длину ползунка.</span><span class="sxs-lookup"><span data-stu-id="bc498-167">If a trackbar has the [**TBS\_FIXEDLENGTH**](trackbar-control-styles.md) style, you can send the [**TBM\_SETTHUMBLENGTH**](tbm-setthumblength.md) message to change the length of the slider.</span></span>

<span data-ttu-id="bc498-168">Вы получаете или устанавливаете диапазон выбора, отправляя сообщения на TrackBar.</span><span class="sxs-lookup"><span data-stu-id="bc498-168">You retrieve or set the selection range by sending messages to the trackbar.</span></span> <span data-ttu-id="bc498-169">Используйте сообщение [**ТБМ \_ сетсел**](tbm-setsel.md) , чтобы установить начальную и конечную позиции для выделения.</span><span class="sxs-lookup"><span data-stu-id="bc498-169">Use the [**TBM\_SETSEL**](tbm-setsel.md) message to set the starting and ending positions of a selection.</span></span> <span data-ttu-id="bc498-170">Чтобы установить только начальную или только конечную точку выделения, отправьте сообщение [**ТБМ \_ Сетселстарт**](tbm-setselstart.md) или [**ТБМ \_ сетселенд**](tbm-setselend.md) .</span><span class="sxs-lookup"><span data-stu-id="bc498-170">To set just the starting position or just the ending position of a selection, send a [**TBM\_SETSELSTART**](tbm-setselstart.md) or [**TBM\_SETSELEND**](tbm-setselend.md) message.</span></span> <span data-ttu-id="bc498-171">Чтобы получить начальную или конечную позицию диапазона выбора, отправьте сообщение [**ТБМ \_ Жетселстарт**](tbm-getselstart.md) или [**ТБМ \_ жетселенд**](tbm-getselend.md) .</span><span class="sxs-lookup"><span data-stu-id="bc498-171">To retrieve the starting or ending positions of a selection range, send a [**TBM\_GETSELSTART**](tbm-getselstart.md) or [**TBM\_GETSELEND**](tbm-getselend.md) message.</span></span> <span data-ttu-id="bc498-172">Чтобы очистить диапазон выбора и восстановить значение TrackBar в исходный диапазон, отправьте сообщение [**ТБМ \_ клеарсел**](tbm-clearsel.md) .</span><span class="sxs-lookup"><span data-stu-id="bc498-172">To clear a selection range and restore the trackbar to its original range, send the [**TBM\_CLEARSEL**](tbm-clearsel.md) message.</span></span>

> [!Note]  
> <span data-ttu-id="bc498-173">Ответственность за то, чтобы пользователь не смог выбрать значения вне диапазона выбора, отвечает за приложение.</span><span class="sxs-lookup"><span data-stu-id="bc498-173">It is the application's responsibility to ensure that the user cannot select values outside the selection range.</span></span> <span data-ttu-id="bc498-174">Сам элемент управления не запрещает пользователю перемещать ползунок за пределами диапазона.</span><span class="sxs-lookup"><span data-stu-id="bc498-174">The control itself does not prevent the user from moving the slider outside the range.</span></span>

 

## <a name="trackbar-notification-messages"></a><span data-ttu-id="bc498-175">Сообщения уведомления о прокрутки</span><span class="sxs-lookup"><span data-stu-id="bc498-175">Trackbar Notification Messages</span></span>

<span data-ttu-id="bc498-176">Значение TrackBar уведомляет свое родительское окно действий пользователя, отправляя родительское сообщение [**WM \_ HSCROLL**](wm-hscroll.md) или [**WM \_ VSCROLL**](wm-vscroll.md) .</span><span class="sxs-lookup"><span data-stu-id="bc498-176">A trackbar notifies its parent window of user actions by sending the parent a [**WM\_HSCROLL**](wm-hscroll.md) or [**WM\_VSCROLL**](wm-vscroll.md) message.</span></span> <span data-ttu-id="bc498-177">Элемент TrackBar с стилем [**TBS \_ горизонтали**](trackbar-control-styles.md) отправляет сообщения **WM \_ HSCROLL** .</span><span class="sxs-lookup"><span data-stu-id="bc498-177">A trackbar with the [**TBS\_HORZ**](trackbar-control-styles.md) style sends **WM\_HSCROLL** messages.</span></span> <span data-ttu-id="bc498-178">Ползунок с [**\_ вертикальным**](trackbar-control-styles.md) стилем TBS отправляет сообщения **WM \_ VSCROLL** .</span><span class="sxs-lookup"><span data-stu-id="bc498-178">A trackbar with the [**TBS\_VERT**](trackbar-control-styles.md) style sends **WM\_VSCROLL** messages.</span></span> <span data-ttu-id="bc498-179">Слово низкого порядка в параметре *wParam* **WM \_ HSCROLL** или **WM \_ VSCROLL** содержит код уведомления.</span><span class="sxs-lookup"><span data-stu-id="bc498-179">The low-order word of the *wParam* parameter of **WM\_HSCROLL** or **WM\_VSCROLL** contains the notification code.</span></span> <span data-ttu-id="bc498-180">Для \_ кодов уведомлений сумбпоситион и ТБ \_ сумбтракк в высоком порядке в параметре *wParam* указывается положение ползунка.</span><span class="sxs-lookup"><span data-stu-id="bc498-180">For the TB\_THUMBPOSITION and TB\_THUMBTRACK notification codes, the high-order word of the *wParam* parameter specifies the position of the slider.</span></span> <span data-ttu-id="bc498-181">Для всех остальных кодов уведомлений слово в высоком порядке имеет нулевое значение; Отправьте сообщение [**ТБМ \_ жетпос**](tbm-getpos.md) , чтобы определить положение ползунка.</span><span class="sxs-lookup"><span data-stu-id="bc498-181">For all other notification codes, the high-order word is zero; send the [**TBM\_GETPOS**](tbm-getpos.md) message to determine the slider position.</span></span> <span data-ttu-id="bc498-182">Параметр *lParam* является маркером для TrackBar.</span><span class="sxs-lookup"><span data-stu-id="bc498-182">The *lParam* parameter is the handle to the trackbar.</span></span>

<span data-ttu-id="bc498-183">Система отправляет \_ коды верхнего уровня ТБ, ТБ \_ линедовн, ТБ \_ и ТБ, \_ только когда пользователь взаимодействует с TrackBar с помощью клавиатуры.</span><span class="sxs-lookup"><span data-stu-id="bc498-183">The system sends the TB\_BOTTOM, TB\_LINEDOWN, TB\_LINEUP, and TB\_TOP notification codes only when the user interacts with a trackbar by using the keyboard.</span></span> <span data-ttu-id="bc498-184">\_Коды уведомлений ТБ сумбпоситион и ТБ \_ сумбтракк отправляются только тогда, когда пользователь использует мышь.</span><span class="sxs-lookup"><span data-stu-id="bc498-184">The TB\_THUMBPOSITION and TB\_THUMBTRACK notification codes are only sent when the user is using the mouse.</span></span> <span data-ttu-id="bc498-185">\_Коды уведомлений ендтракк, ТБ \_ PageDown и ТБ \_ PageUp отправляются в обоих случаях.</span><span class="sxs-lookup"><span data-stu-id="bc498-185">The TB\_ENDTRACK, TB\_PAGEDOWN, and TB\_PAGEUP notification codes are sent in both cases.</span></span> <span data-ttu-id="bc498-186">В следующей таблице перечислены коды уведомлений TrackBar и события (виртуальные ключевые коды или события мыши), которые вызывают отправку уведомлений по [**кодам виртуальных ключей**](/windows/desktop/inputdev/virtual-key-codes).</span><span class="sxs-lookup"><span data-stu-id="bc498-186">The following table lists the trackbar notification codes and the events (virtual key codes or mouse events) that cause the [**Virtual-Key Codes**](/windows/desktop/inputdev/virtual-key-codes)notifications to be sent.</span></span>



| <span data-ttu-id="bc498-187">Код уведомления</span><span class="sxs-lookup"><span data-stu-id="bc498-187">Notification code</span></span> | <span data-ttu-id="bc498-188">Причина отправлена</span><span class="sxs-lookup"><span data-stu-id="bc498-188">Reason sent</span></span>                                                                                                                     |
|-------------------|---------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="bc498-189">\_Нижняя ТБ</span><span class="sxs-lookup"><span data-stu-id="bc498-189">TB\_BOTTOM</span></span>        | [<span data-ttu-id="bc498-190">**VK \_ конец**</span><span class="sxs-lookup"><span data-stu-id="bc498-190">**VK\_END**</span></span>](/windows/desktop/inputdev/virtual-key-codes)                                                                         |
| <span data-ttu-id="bc498-191">\_ЕНДТРАКК ТБ</span><span class="sxs-lookup"><span data-stu-id="bc498-191">TB\_ENDTRACK</span></span>      | <span data-ttu-id="bc498-192">[**WM \_ Клавиша вверх**](/windows/desktop/inputdev/wm-keyup) (пользователь отпускает ключ, который отправил соответствующий виртуальный код клавиши)</span><span class="sxs-lookup"><span data-stu-id="bc498-192">[**WM\_KEYUP**](/windows/desktop/inputdev/wm-keyup) (the user released a key that sent a relevant virtual key code)</span></span>                              |
| <span data-ttu-id="bc498-193">\_ЛИНЕДОВН ТБ</span><span class="sxs-lookup"><span data-stu-id="bc498-193">TB\_LINEDOWN</span></span>      | <span data-ttu-id="bc498-194">[**VK \_ RIGHT**](/windows/desktop/inputdev/virtual-key-codes) или [ **VK \_ Down**](/windows/desktop/inputdev/virtual-key-codes)</span><span class="sxs-lookup"><span data-stu-id="bc498-194">[**VK\_RIGHT**](/windows/desktop/inputdev/virtual-key-codes) or [**VK\_DOWN**](/windows/desktop/inputdev/virtual-key-codes)</span></span>     |
| <span data-ttu-id="bc498-195">Разметка \_ ТБ</span><span class="sxs-lookup"><span data-stu-id="bc498-195">TB\_LINEUP</span></span>        | <span data-ttu-id="bc498-196">[**VK \_ LEFT**](/windows/desktop/inputdev/virtual-key-codes) или [ **VK \_ up**](/windows/desktop/inputdev/virtual-key-codes)</span><span class="sxs-lookup"><span data-stu-id="bc498-196">[**VK\_LEFT**](/windows/desktop/inputdev/virtual-key-codes) or [**VK\_UP**](/windows/desktop/inputdev/virtual-key-codes)</span></span>              |
| <span data-ttu-id="bc498-197">\_PageDown ТБ</span><span class="sxs-lookup"><span data-stu-id="bc498-197">TB\_PAGEDOWN</span></span>      | <span data-ttu-id="bc498-198">[**VK \_ Далее**](/windows/desktop/inputdev/virtual-key-codes) (пользователь щелкнул канал ниже или справа от ползунка)</span><span class="sxs-lookup"><span data-stu-id="bc498-198">[**VK\_NEXT**](/windows/desktop/inputdev/virtual-key-codes) (the user clicked the channel below or to the right of the slider)</span></span>   |
| <span data-ttu-id="bc498-199">\_PageUp ТБ</span><span class="sxs-lookup"><span data-stu-id="bc498-199">TB\_PAGEUP</span></span>        | <span data-ttu-id="bc498-200">[**VK \_ РАНЕЕ**](/windows/desktop/inputdev/virtual-key-codes) (пользователь щелкнул канал выше или слева от ползунка)</span><span class="sxs-lookup"><span data-stu-id="bc498-200">[**VK\_PRIOR**](/windows/desktop/inputdev/virtual-key-codes) (the user clicked the channel above or to the left of the slider)</span></span> |
| <span data-ttu-id="bc498-201">\_СУМБПОСИТИОН ТБ</span><span class="sxs-lookup"><span data-stu-id="bc498-201">TB\_THUMBPOSITION</span></span> | <span data-ttu-id="bc498-202">[**WM \_ ЛБУТТОНУП**](/windows/desktop/inputdev/wm-lbuttonup) после \_ кода уведомления СУМБТРАКК в ТБ</span><span class="sxs-lookup"><span data-stu-id="bc498-202">[**WM\_LBUTTONUP**](/windows/desktop/inputdev/wm-lbuttonup) following a TB\_THUMBTRACK notification code</span></span>                                         |
| <span data-ttu-id="bc498-203">\_СУМБТРАКК ТБ</span><span class="sxs-lookup"><span data-stu-id="bc498-203">TB\_THUMBTRACK</span></span>    | <span data-ttu-id="bc498-204">Перемещение ползунка (Пользователь переместил ползунок)</span><span class="sxs-lookup"><span data-stu-id="bc498-204">Slider movement (the user dragged the slider)</span></span>                                                                                   |
| <span data-ttu-id="bc498-205">\_верхний ТБ</span><span class="sxs-lookup"><span data-stu-id="bc498-205">TB\_TOP</span></span>           | [<span data-ttu-id="bc498-206">**\_Домашняя страница VK**</span><span class="sxs-lookup"><span data-stu-id="bc498-206">**VK\_HOME**</span></span>](/windows/desktop/inputdev/virtual-key-codes)                                                                      |



 

## <a name="default-trackbar-message-processing"></a><span data-ttu-id="bc498-207">Обработка сообщений TrackBar по умолчанию</span><span class="sxs-lookup"><span data-stu-id="bc498-207">Default Trackbar Message Processing</span></span>

<span data-ttu-id="bc498-208">В этом разделе описывается обработка сообщений окна, выполняемая с помощью TrackBar.</span><span class="sxs-lookup"><span data-stu-id="bc498-208">This section describes the window message processing performed by a trackbar.</span></span>



| <span data-ttu-id="bc498-209">Сообщение</span><span class="sxs-lookup"><span data-stu-id="bc498-209">Message</span></span>                                              | <span data-ttu-id="bc498-210">Обработка выполнена</span><span class="sxs-lookup"><span data-stu-id="bc498-210">Processing performed</span></span>                                                                                                                                                                                                                                     |
|------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="bc498-211">**WM \_ каптуречанжед**</span><span class="sxs-lookup"><span data-stu-id="bc498-211">**WM\_CAPTURECHANGED**</span></span>](/windows/desktop/inputdev/wm-capturechanged) | <span data-ttu-id="bc498-212">Прерывает таймер, если он был задан во время обработки [**\_ лбуттондовн WM**](/windows/desktop/inputdev/wm-lbuttondown) , и при необходимости отправляет в ТБ \_ код уведомления сумбпоситион.</span><span class="sxs-lookup"><span data-stu-id="bc498-212">Kills the timer if one was set during [**WM\_LBUTTONDOWN**](/windows/desktop/inputdev/wm-lbuttondown) processing and sends the TB\_THUMBPOSITION notification code, if necessary.</span></span> <span data-ttu-id="bc498-213">Он всегда отправляет \_ ендтракк код уведомления ТБ.</span><span class="sxs-lookup"><span data-stu-id="bc498-213">It always sends the TB\_ENDTRACK notification code.</span></span>                                     |
| [<span data-ttu-id="bc498-214">**\_Создание WM**</span><span class="sxs-lookup"><span data-stu-id="bc498-214">**WM\_CREATE**</span></span>](/windows/desktop/winmsg/wm-create)                   | <span data-ttu-id="bc498-215">Выполняет дополнительную инициализацию, например Задание размера строки, размера страницы и частоты деления на значения по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="bc498-215">Performs additional initialization, such as setting the line size, page size, and tick mark frequency to default values.</span></span>                                                                                                                                 |
| [<span data-ttu-id="bc498-216">**WM \_ destroy**</span><span class="sxs-lookup"><span data-stu-id="bc498-216">**WM\_DESTROY**</span></span>](/windows/desktop/winmsg/wm-destroy)                 | <span data-ttu-id="bc498-217">Освобождает ресурсы.</span><span class="sxs-lookup"><span data-stu-id="bc498-217">Frees resources.</span></span>                                                                                                                                                                                                                                         |
| [<span data-ttu-id="bc498-218">**\_Включение WM**</span><span class="sxs-lookup"><span data-stu-id="bc498-218">**WM\_ENABLE**</span></span>](/windows/desktop/winmsg/wm-enable)                   | <span data-ttu-id="bc498-219">Перерисовывает окно TrackBar.</span><span class="sxs-lookup"><span data-stu-id="bc498-219">Repaints the trackbar window.</span></span>                                                                                                                                                                                                                            |
| [<span data-ttu-id="bc498-220">**WM \_ ерасебкгнд**</span><span class="sxs-lookup"><span data-stu-id="bc498-220">**WM\_ERASEBKGND**</span></span>](/windows/desktop/winmsg/wm-erasebkgnd)           | <span data-ttu-id="bc498-221">Стирает фон окна, используя текущий цвет фона для TrackBar.</span><span class="sxs-lookup"><span data-stu-id="bc498-221">Erases the window background, using the current background color for the trackbar.</span></span>                                                                                                                                                                       |
| [<span data-ttu-id="bc498-222">**WM \_ жетдлгкоде**</span><span class="sxs-lookup"><span data-stu-id="bc498-222">**WM\_GETDLGCODE**</span></span>](/windows/desktop/dlgbox/wm-getdlgcode)           | <span data-ttu-id="bc498-223">Возвращает значение ДЛГК \_ вантарровс.</span><span class="sxs-lookup"><span data-stu-id="bc498-223">Returns the DLGC\_WANTARROWS value.</span></span>                                                                                                                                                                                                                      |
| [<span data-ttu-id="bc498-224">**WM \_ KeyDown**</span><span class="sxs-lookup"><span data-stu-id="bc498-224">**WM\_KEYDOWN**</span></span>](/windows/desktop/inputdev/wm-keydown)               | <span data-ttu-id="bc498-225">Обрабатывает клавиши направления и отправляет коды уведомлений ТБ (Top, ТБ), \_ \_ \_ PageUp, ТБ \_ PageDown, ТБ \_ и ТБ \_ линедовн, соответственно.</span><span class="sxs-lookup"><span data-stu-id="bc498-225">Processes the direction keys and sends the TB\_TOP, TB\_BOTTOM, TB\_PAGEUP, TB\_PAGEDOWN, TB\_LINEUP, and TB\_LINEDOWN notification codes, as appropriate.</span></span>                                                                                               |
| [<span data-ttu-id="bc498-226">**WM \_ KEYUP**</span><span class="sxs-lookup"><span data-stu-id="bc498-226">**WM\_KEYUP**</span></span>](/windows/desktop/inputdev/wm-keyup)                   | <span data-ttu-id="bc498-227">Отправляет ТБ \_ кода уведомления ендтракк, если ключ был одним из ключей направления.</span><span class="sxs-lookup"><span data-stu-id="bc498-227">Sends the TB\_ENDTRACK notification code if the key was one of the direction keys.</span></span>                                                                                                                                                                       |
| [<span data-ttu-id="bc498-228">**WM \_ киллфокус**</span><span class="sxs-lookup"><span data-stu-id="bc498-228">**WM\_KILLFOCUS**</span></span>](/windows/desktop/inputdev/wm-killfocus)           | <span data-ttu-id="bc498-229">Перерисовывает окно TrackBar.</span><span class="sxs-lookup"><span data-stu-id="bc498-229">Repaints the trackbar window.</span></span>                                                                                                                                                                                                                            |
| [<span data-ttu-id="bc498-230">**WM \_ лбуттондовн**</span><span class="sxs-lookup"><span data-stu-id="bc498-230">**WM\_LBUTTONDOWN**</span></span>](/windows/desktop/inputdev/wm-lbuttondown)       | <span data-ttu-id="bc498-231">Устанавливает фокус и захват мыши на TrackBar.</span><span class="sxs-lookup"><span data-stu-id="bc498-231">Sets the focus and the mouse capture to the trackbar.</span></span> <span data-ttu-id="bc498-232">При необходимости устанавливается таймер, определяющий скорость перемещения ползунка в сторону курсора мыши, когда пользователь удерживает кнопку мыши в окне.</span><span class="sxs-lookup"><span data-stu-id="bc498-232">When necessary, it sets a timer that determines how quickly the slider moves toward the mouse cursor when the user holds down the mouse button in the window.</span></span>                                      |
| [<span data-ttu-id="bc498-233">**WM \_ лбуттонуп**</span><span class="sxs-lookup"><span data-stu-id="bc498-233">**WM\_LBUTTONUP**</span></span>](/windows/desktop/inputdev/wm-lbuttonup)           | <span data-ttu-id="bc498-234">Освобождает захват мыши и прерывает таймер, если он был задан во время обработки [**\_ лбуттондовн WM**](/windows/desktop/inputdev/wm-lbuttondown) .</span><span class="sxs-lookup"><span data-stu-id="bc498-234">Releases the mouse capture and terminates the timer if one was set during [**WM\_LBUTTONDOWN**](/windows/desktop/inputdev/wm-lbuttondown) processing.</span></span> <span data-ttu-id="bc498-235">При необходимости он отправляет в ТБ \_ код уведомления сумбпоситион.</span><span class="sxs-lookup"><span data-stu-id="bc498-235">It sends the TB\_THUMBPOSITION notification code, if necessary.</span></span> <span data-ttu-id="bc498-236">Он всегда отправляет \_ ендтракк код уведомления ТБ.</span><span class="sxs-lookup"><span data-stu-id="bc498-236">It always sends the TB\_ENDTRACK notification code.</span></span> |
| [<span data-ttu-id="bc498-237">**WM \_ MOUSEMOVE**</span><span class="sxs-lookup"><span data-stu-id="bc498-237">**WM\_MOUSEMOVE**</span></span>](/windows/desktop/inputdev/wm-mousemove)           | <span data-ttu-id="bc498-238">Перемещает ползунок и отправляет \_ код уведомления СУМБТРАКК ТБ при отслеживании мыши (см. [**\_ таймер WM**](/windows/desktop/winmsg/wm-timer)).</span><span class="sxs-lookup"><span data-stu-id="bc498-238">Moves the slider and sends the TB\_THUMBTRACK notification code when tracking the mouse (see [**WM\_TIMER**](/windows/desktop/winmsg/wm-timer)).</span></span>                                                                                                                          |
| [<span data-ttu-id="bc498-239">**WM \_ Paint**</span><span class="sxs-lookup"><span data-stu-id="bc498-239">**WM\_PAINT**</span></span>](/windows/desktop/gdi/wm-paint)                        | <span data-ttu-id="bc498-240">Закрашивает линейку.</span><span class="sxs-lookup"><span data-stu-id="bc498-240">Paints the trackbar.</span></span> <span data-ttu-id="bc498-241">Если параметр wParam не равен NULL, то элемент управления предполагает, что значение является HDC и рисует его с помощью контекста устройства.</span><span class="sxs-lookup"><span data-stu-id="bc498-241">If the wParam parameter is non-NULL, the control assumes that the value is an HDC and paints using that device context.</span></span>                                                                                                             |
| [<span data-ttu-id="bc498-242">**WM \_ SETFOCUS**</span><span class="sxs-lookup"><span data-stu-id="bc498-242">**WM\_SETFOCUS**</span></span>](/windows/desktop/inputdev/wm-setfocus)             | <span data-ttu-id="bc498-243">Перерисовывает окно TrackBar.</span><span class="sxs-lookup"><span data-stu-id="bc498-243">Repaints the trackbar window.</span></span>                                                                                                                                                                                                                            |
| [<span data-ttu-id="bc498-244">**\_Размер WM**</span><span class="sxs-lookup"><span data-stu-id="bc498-244">**WM\_SIZE**</span></span>](/windows/desktop/winmsg/wm-size)                       | <span data-ttu-id="bc498-245">Задает размеры TrackBar, удаляя ползунок, если недостаточно места для его вывода.</span><span class="sxs-lookup"><span data-stu-id="bc498-245">Sets the dimensions of the trackbar, removing the slider if there is not enough room to display it.</span></span>                                                                                                                                                      |
| [<span data-ttu-id="bc498-246">**\_таймер WM**</span><span class="sxs-lookup"><span data-stu-id="bc498-246">**WM\_TIMER**</span></span>](/windows/desktop/winmsg/wm-timer)                     | <span data-ttu-id="bc498-247">Получает положение указателя мыши и обновляет положение ползунка.</span><span class="sxs-lookup"><span data-stu-id="bc498-247">Retrieves the mouse position and updates the position of the slider.</span></span> <span data-ttu-id="bc498-248">(Она получается, только если пользователь перетаскивает ползунок.)</span><span class="sxs-lookup"><span data-stu-id="bc498-248">(It is received only when the user is dragging the slider.)</span></span>                                                                                                                         |
| [<span data-ttu-id="bc498-249">**WM \_ вининичанже**</span><span class="sxs-lookup"><span data-stu-id="bc498-249">**WM\_WININICHANGE**</span></span>](/windows/desktop/winmsg/wm-wininichange)       | <span data-ttu-id="bc498-250">Инициализирует измерения ползунка.</span><span class="sxs-lookup"><span data-stu-id="bc498-250">Initializes slider dimensions.</span></span>                                                                                                                                                                                                                           |



 

## <a name="trackbar-tooltips"></a><span data-ttu-id="bc498-251">Подсказки для TrackBar</span><span class="sxs-lookup"><span data-stu-id="bc498-251">Trackbar Tooltips</span></span>

<span data-ttu-id="bc498-252">Значение TrackBar, созданное с помощью [**стиля \_ подсказок TBS**](trackbar-control-styles.md) , имеет элемент управления ToolTip по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="bc498-252">A trackbar that is created with the [**TBS\_TOOLTIPS**](trackbar-control-styles.md) style has a default tooltip control.</span></span> <span data-ttu-id="bc498-253">Подсказка остается видимой и отображает текущее значение, когда пользователь перетаскивает ползунок с помощью мыши.</span><span class="sxs-lookup"><span data-stu-id="bc498-253">The tooltip remains visible and displays the current value as the user drags the slider using the mouse.</span></span>

<span data-ttu-id="bc498-254">Можно назначить новый элемент управления ToolTip для TrackBar, отправив сообщение [**ТБМ \_ сеттултипс**](tbm-settooltips.md) .</span><span class="sxs-lookup"><span data-stu-id="bc498-254">You can assign a new tooltip control to a trackbar by sending the [**TBM\_SETTOOLTIPS**](tbm-settooltips.md) message.</span></span> <span data-ttu-id="bc498-255">Чтобы получить маркер для назначенного элемента управления ToolTip, используйте сообщение [**ТБМ \_**](tbm-gettooltips.md) .</span><span class="sxs-lookup"><span data-stu-id="bc498-255">To retrieve the handle to an assigned tooltip control, use the [**TBM\_GETTOOLTIPS**](tbm-gettooltips.md) message.</span></span>

 

 