---
title: Как задать состояния дней
description: В этом разделе показано, как задать сведения о состоянии дня. Элемент управления "календарь месяца" использует сведения о состоянии дня для определения того, как он рисует определенные дни внутри элемента управления.
ms.assetid: EA92D858-BC80-4D08-9768-29A2BBDF900C
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: fa1fc105c94a15e1a658218013dca00129c883c2
ms.sourcegitcommit: a716ca2a6a22a400f02c6b31699cf4da83ee3619
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/04/2020
ms.locfileid: "103988026"
---
# <a name="how-to-set-day-states"></a>Как задать состояния дней

В этом разделе показано, как задать сведения о состоянии дня. Элемент управления "календарь месяца" использует сведения о состоянии дня для определения того, как он рисует определенные дни внутри элемента управления.

Элементы управления "месячный календарь", в которых используются состояния дня поддержки в стиле [**\_ дайстате MCS**](month-calendar-control-styles.md) . Сведения о состоянии дня выражаются как 32-разрядный тип данных [**монсдайстате**](monthdaystate.md). Каждый бит в **монсдайстате** битовых битах (от 0 до 30) указывает состояние дня в месяце. Если бит включен, соответствующий день выводится полужирным шрифтом.

## <a name="what-you-need-to-know"></a>Что необходимо знать

### <a name="technologies"></a>Технологии

-   [Элементы управления Windows](window-controls.md)

### <a name="prerequisites"></a>Предварительные условия

-   C/C++
-   Программирование пользовательского интерфейса Windows

## <a name="instructions"></a>Инструкции


Приложение может явно задавать сведения о состоянии дня путем отправки сообщения [**MCM \_ сетдайстате**](mcm-setdaystate.md) или с помощью соответствующего макроса, [**монскал \_ сетдайстате**](/windows/desktop/api/Commctrl/nf-commctrl-monthcal_setdaystate). Однако информация о состоянии дня обычно задается в ответ на код уведомления [МКН \_ жетдайстате](mcn-getdaystate.md) , который отправляется при необходимости обновления элемента управления, так как, например, другой месяц прокручивается в представлении.

В следующем примере кода показано, как обработать код уведомления [МКН \_ жетдайстате](mcn-getdaystate.md) в обработчике сообщения [**WM \_ Notify**](wm-notify.md) . Он обрабатывает МКН \_ жетдайстате, указывая, что первый и пятнадцатый день каждого видимого месяца должны быть выделены. Элемент **кдайстате** структуры [**нмдайстате**](/windows/win32/api/commctrl/ns-commctrl-nmdaystate) указывает количество значений [**монсдайстате**](monthdaystate.md) , необходимых в массиве, для которого задан произвольный максимальный размер. Затем в коде выполняется циклическая установка соответствующих битов в каждом допустимом элементе массива с помощью определяемого приложением макроса **болддай** .



```C++
    #define BOLDDAY(ds, iDay)  \
        if (iDay > 0 && iDay < 32)(ds) |= (0x00000001 << (iDay - 1))

    case WM_NOTIFY:
            if (((LPNMHDR)lParam)->code == MCN_GETDAYSTATE)
            {
                MONTHDAYSTATE rgMonths[12] = { 0 };
                int cMonths = ((NMDAYSTATE*)lParam)->cDayState;
                for (int i = 0; i < cMonths; i++)
                {
                    BOLDDAY(rgMonths[i], 1);
                    BOLDDAY(rgMonths[i], 15);
                }
                ((NMDAYSTATE*)lParam)->prgDayState = rgMonths;
                return TRUE;
            }
            break;
```



## <a name="related-topics"></a>См. также

<dl> <dt>

[Справочник по управлению календарем месяца](bumper-month-calendar-month-calendar-control-reference.md)
</dt> <dt>

[Элементы управления "календарь месяца"](month-calendar-controls.md)
</dt> <dt>

[Использование элементов управления "календарь месяца"](using-month-calendar-controls.md)
</dt> </dl>

 

 




