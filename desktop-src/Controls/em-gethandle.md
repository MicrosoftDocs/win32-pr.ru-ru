---
title: Сообщение EM_GETHANDLE (Winuser. h)
description: Возвращает маркер памяти, выделенной в данный момент для текста элемента управления многострочного редактирования.
ms.assetid: 74271812-9715-4a46-96b3-0788134f8143
keywords:
- элементы управления Windows сообщений EM_GETHANDLE
topic_type:
- apiref
api_name:
- EM_GETHANDLE
api_location:
- Winuser.h
api_type:
- HeaderDef
ms.topic: reference
ms.date: 05/31/2018
ms.openlocfilehash: 4f09ade5545197df2dbc9310b708cd7521334bba68f41a14329dd865e84fdee6
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119019652"
---
# <a name="em_gethandle-message"></a>\_Сообщение EM

Возвращает маркер памяти, выделенной в данный момент для текста элемента управления многострочного редактирования.

## <a name="parameters"></a>Параметры

<dl> <dt>

*wParam* 
</dt> <dd>

Не используется; должно быть равно нулю.

</dd> <dt>

*lParam* 
</dt> <dd>

Не используется; должно быть равно нулю.

</dd> </dl>

## <a name="return-value"></a>Возвращаемое значение

Возвращаемое значение — это маркер памяти, идентифицирующий буфер, в котором содержится содержимое элемента управления "поле ввода". Если возникает ошибка, например Отправка сообщения в однострочный элемент управления Edit, то возвращаемое значение равно нулю.

## <a name="remarks"></a>Remarks

Если функция завершается успешно, приложение может получить доступ к содержимому элемента управления "поле ввода" путем приведения возвращаемого значения к [**хлокал**](/windows/desktop/WinProg/windows-data-types) и передачи его в [**локаллокк**](/windows/desktop/api/winbase/nf-winbase-locallock). **Локаллокк** возвращает указатель на буфер, который является массивом **char** s или **WCHAR**, завершающимся нулем, в зависимости от того, создал ли элемент управления функцию ANSI или Unicode. Например, если используется [**креатевиндовекса**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) , буфер является массивом **символов** s, но если **креатевиндовексв** использовался, буфер является массивом типа **WCHAR**. Приложение может не изменять содержимое буфера. Чтобы разблокировать буфер, приложение вызывает [**локалунлокк**](/windows/desktop/api/winbase/nf-winbase-localunlock) , прежде чем разрешить элементу управления "поле ввода" получать новые сообщения.

> [!Note]  
> Для Comctl32.dll версии 6 буфер всегда содержит массив типа **WCHAR**, независимо от того, создал ли элемент управления "поле ввода" функцию ANSI или Unicode. Дополнительные сведения о версиях DLL см. в разделе [общие версии элементов управления](common-control-versions.md).

 

Если приложение не может соблюдать ограничения, накладываемые методом EM, используйте функции [**жетвиндовтекстленгс**](/windows/desktop/api/winuser/nf-winuser-getwindowtextlengtha) и [**жетвиндовтекст**](/windows/desktop/api/winuser/nf-winuser-getwindowtexta) , чтобы скопировать содержимое элемента управления "поле ввода" в буфер, предоставленный приложением. **\_**

**Расширенное редактирование:** Сообщение **EM- \_ Handle** не поддерживается. Элементы управления Rich Edit не хранят текст как простой массив символов.

## <a name="requirements"></a>Требования



| Требование | Значение |
|-------------------------------------|----------------------------------------------------------------------------------------------------------|
| Минимальная версия клиента<br/> | Windows \[Только классические приложения Vista\]<br/>                                                           |
| Минимальная версия сервера<br/> | Windows Только для \[ настольных приложений сервера 2003\]<br/>                                                     |
| Заголовок<br/>                   | <dl> <dt>Winuser. h (включает Windows. h)</dt> </dl> |



## <a name="see-also"></a>См. также раздел

<dl> <dt>

**Ссылки**
</dt> <dt>

[**EM \_ сесандле**](em-sethandle.md)
</dt> <dt>

**Другие ресурсы**
</dt> <dt>

[**жетвиндовтекст**](/windows/desktop/api/winuser/nf-winuser-getwindowtexta)
</dt> <dt>

[**жетвиндовтекстленгс**](/windows/desktop/api/winuser/nf-winuser-getwindowtextlengtha)
</dt> <dt>

[**локаллокк**](/windows/desktop/api/winbase/nf-winbase-locallock)
</dt> <dt>

[**локалунлокк**](/windows/desktop/api/winbase/nf-winbase-localunlock)
</dt> </dl>

 

