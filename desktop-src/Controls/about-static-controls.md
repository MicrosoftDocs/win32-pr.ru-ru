---
title: О статических элементах управления
description: В этом разделе обсуждается использование статических элементов управления.
ms.assetid: 155904e1-a963-496d-9b22-6e95ed0ebd47
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 064c1814b4f4ed6283b2fe22af06aed107e2c4d2
ms.sourcegitcommit: 5f33645661bf8c825a7a2e73950b1f4ea0f1cd82
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/21/2020
ms.locfileid: "103987926"
---
# <a name="about-static-controls"></a>О статических элементах управления

Приложения часто используют статические элементы управления для обозначения других элементов управления или для разделения группы элементов управления. Хотя статические элементы управления являются дочерними окнами, их нельзя выбирать. Поэтому они не могут получать фокус клавиатуры и не могут иметь интерфейс клавиатуры. Статический элемент управления, имеющий \_ стиль SS notify, получает ввод с клавиатуры, уведомляя его о родительском окне, когда пользователь щелкает или дважды щелкает элемент управления. Статические элементы управления принадлежат классу статического окна.

Хотя статические элементы управления можно использовать в перекрывающихся, всплывающих и дочерних окнах, они предназначены для использования в диалоговых окнах, где система стандартизации их поведения. Используя статические элементы управления вне диалоговых окон, разработчик повышает риск того, что приложение может работать нестандартным образом. Как правило, разработчик либо использует статические элементы управления в диалоговых окнах, либо использует \_ стиль SS овнердрав для создания настраиваемых статических элементов управления.

В этом разделе рассматриваются следующие темы.

-   [Статические типы элементов управления](#static-control-types)
    -   [Простой статический элемент управления Graphics](#simple-graphics-static-control)
    -   [Статический элемент управления Text](#text-static-control)
    -   [Статический элемент управления Image](#image-static-control)
    -   [Статический элемент управления, рисуемый владельцем](#owner-drawn-static-control)
-   [Обработка сообщений статического элемента управления по умолчанию](#static-control-default-message-processing)

## <a name="static-control-types"></a>Статические типы элементов управления

Существует четыре типа статических элементов управления. Каждый тип имеет один или несколько [стилей статических элементов управления](static-control-styles.md).

-   [Простой статический элемент управления Graphics](#simple-graphics-static-control)
-   [Статический элемент управления Text](#text-static-control)
-   [Статический элемент управления Image](#image-static-control)
-   [Статический элемент управления, рисуемый владельцем](#owner-drawn-static-control)

### <a name="simple-graphics-static-control"></a>Простой статический элемент управления Graphics

Простой графический статический элемент управления отображает рамку или закрашенный прямоугольник. Фрейм может быть нарисован на нескольких стилях, включая черный, серый или белый. Кроме того, фрейм можно нарисовать с помощью вдавленное Оформление, чтобы придать ему трехмерный вид. К стилям рамки относятся СС \_ блаккфраме, СС \_ ГРАЙФРАМЕ, СС \_ вхитефраме, СС \_ етчедхорз, СС \_ етчедверт и СС \_ етчедфраме.

Прямоугольник может быть заполнен цветом одним из трех стилей: черным, серым или белым. Эти стили определяются константами SS \_ блаккрект, SS \_ ГРАЙРЕКТ и SS \_ вхитерект.

Стили графики не могут быть объединены.

### <a name="text-static-control"></a>Статический элемент управления Text

Статический элемент управления "текст" отображает текст в прямоугольнике в одном из пяти стилей:

-   по левому краю без переноса по словам
-   по левому краю с переносом по словам
-   выровнен по центру
-   выровнен по правому краю
-   простой

Эти стили определяются константами SS \_ лефтновордврап, SS \_ Left, СС \_ Center, SS \_ right и SS \_ Simple соответственно. Система переупорядочивает текст в этих элементах управления с помощью предопределенных способов, за исключением простого текста, который не переупорядочивается.

Приложение может изменить текст в статическом элементе управления в любое время с помощью функции [**SetWindowText**](/windows/desktop/api/winuser/nf-winuser-setwindowtexta) или сообщения [**WM \_ SETTEXT**](/windows/desktop/winmsg/wm-settext) .

Система отображает столько же текста, сколько может быть в статическом элементе управления, и картинки, которые не умещаются. Чтобы вычислить соответствующий размер элемента управления, извлеките метрики шрифта для текста. Дополнительные сведения о шрифтах и метриках шрифтов см. в разделе [шрифты и текст](/windows/desktop/gdi/fonts-and-text).

По умолчанию текст окна для статического элемента управления, как и для других элементов управления, может содержать амперсанд, определяющий следующий символ в качестве сочетания клавиш для элемента управления (или, в случае с большинством статических элементов управления, для элемента управления, который он помечает, что является следующим элементом управления в последовательности табуляции). Если вы хотите отображать в тексте знаки амперсанда, а не использовать их для определения ярлыков, включите \_ стиль SS без префикса.

### <a name="image-static-control"></a>Статический элемент управления Image

Статический элемент управления Image может отображать точечные рисунки, значки (включая анимированные значки) или расширенные метафайлы. Тип рисунка, отображаемого в конкретном статическом элементе управления, зависит от стиля элемента управления: СС \_ , \_ значок SS или СС \_ енхметафиле. Приложение задает стиль при создании элемента управления, а также задает маркер для растрового изображения, значка или метафайла для отображаемого элемента управления. После создания элемента управления приложение может связать другую график с элементом управления, отправив ему сообщение [**STM \_ сетимаже**](stm-setimage.md) , указав маркер для нового графического объекта. Приложение может извлечь из графического объекта маркер, который в настоящее время связан со статическим элементом управления, отправив ему сообщение [**STM- \_ Image**](stm-getimage.md) . Приложение отправляет сообщения в статический элемент управления с помощью функции [**сенддлгитеммессаже**](/windows/desktop/api/winuser/nf-winuser-senddlgitemmessagea) .

### <a name="owner-drawn-static-control"></a>Owner-Drawn статический элемент управления

С помощью стиля SS \_ овнердрав приложение может принимать ответственность за рисование статического элемента управления. Родительское окно родительского элемента управления, рисуемого владельцем (его владелец), получает сообщение [**WM \_ DRAWITEM**](wm-drawitem.md) каждый раз, когда статический элемент управления должен быть окрашен. Сообщение содержит указатель на структуру [**дравитемструкт**](/windows/win32/api/winuser/ns-winuser-drawitemstruct) , содержащую сведения, используемые окном-владельцем при рисовании элемента управления.

## <a name="static-control-default-message-processing"></a>Обработка сообщений статического элемента управления по умолчанию

Процедура окна для предопределенного класса статического окна управления выполняет обработку по умолчанию для всех сообщений, которые не обрабатываются статической процедурой управления. Если статический элемент управления возвращает **false** для любого сообщения, то предопределенная процедура окна проверяет сообщения и выполняет действие по умолчанию, описанное в следующей таблице. В таблице статический элемент управления Text является статическим элементом управления со стилем SS \_ лефтновордврап, SS \_ Left, СС \_ Center, SS \_ right или SS \_ Simple.



| Сообщение                                                | Действие по умолчанию                                                                                                                              |
|--------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------|
| [**\_Создание WM**](/windows/desktop/winmsg/wm-create)                     | Загружает графический объект и изменяет размер окна до размера объекта для графических статических элементов управления. Не выполняет никаких действий для других статических элементов управления. |
| [**WM \_ destroy**](/windows/desktop/winmsg/wm-destroy)                   | Освобождает и уничтожает любой графический объект для графических статических элементов управления. Не выполняет никаких действий для других статических элементов управления.                              |
| [**\_Включение WM**](/windows/desktop/winmsg/wm-enable)                     | Перерисовывает видимые статические элементы управления.                                                                                                           |
| [**WM \_ ерасебкгнд**](/windows/desktop/winmsg/wm-erasebkgnd)             | Возвращает **значение true**, указывающее, что элемент управления удаляет фон.                                                                             |
| [**WM \_ жетдлгкоде**](/windows/desktop/dlgbox/wm-getdlgcode)             | Возвращает ДЛГК \_ static.                                                                                                                       |
| [**WM, \_ Шрифт**](/windows/desktop/winmsg/wm-getfont)                   | Возвращает маркер для шрифта для статических элементов управления "текст".                                                                                      |
| [**WM \_ gettext**](/windows/desktop/winmsg/wm-gettext)                   | Возвращает число скопированных символов.                                                                                                    |
| [**WM \_ жеттекстленгс**](/windows/desktop/winmsg/wm-gettextlength)       | Возвращает длину текста для статического элемента управления Text в символах.                                                                   |
| [**WM \_ лбуттондблклк**](/windows/desktop/inputdev/wm-lbuttondblclk)     | Отправляет родительскому окну код уведомления [СТН \_ дблклк](stn-dblclk.md) , если стиль элемента управления имеет тип SS \_ Notify.                              |
| [**WM \_ лбуттондовн**](/windows/desktop/inputdev/wm-lbuttondown)         | Отправляет родительское окно [СТН \_ щелчком](stn-clicked.md) по коду уведомления, если стиль элемента управления имеет значение SS \_ Notify.                            |
| [**WM \_ нклбуттондблклк**](/windows/desktop/inputdev/wm-nclbuttondblclk) | Отправляет родительскому окну код уведомления [СТН \_ дблклк](stn-dblclk.md) , если стиль элемента управления имеет тип SS \_ Notify.                              |
| [**WM \_ нклбуттондовн**](/windows/desktop/inputdev/wm-nclbuttondown)     | Отправляет родительское окно [СТН \_ щелчком](stn-clicked.md) по коду уведомления, если стиль элемента управления имеет значение SS \_ Notify.                            |
| [**WM \_ нчиттест**](/windows/desktop/inputdev/wm-nchittest)             | Возвращает ХТКЛИЕНТ, если стиль элемента управления имеет тип SS \_ Notify; в противном случае возвращает значение хттранспарент.                                                      |
| [**WM \_ Paint**](/windows/desktop/gdi/wm-paint)                          | Перерисовывает элемент управления.                                                                                                                       |
| [**WM \_ сетфонт**](/windows/desktop/winmsg/wm-setfont)                   | Задает шрифт и перерисовки для статических элементов управления "текст".                                                                                        |
| [**WM \_ SETTEXT**](/windows/desktop/winmsg/wm-settext)                   | Задает текст и перерисовки для статических элементов управления "текст".                                                                                        |



 

Предопределенная процедура окна передает все остальные сообщения в [**дефвиндовпрок**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) для обработки по умолчанию.

 

 