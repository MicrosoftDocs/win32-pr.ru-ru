---
title: Сведения о списках
description: В этом разделе описываются функции списка.
ms.assetid: 359bb363-5b97-4e0c-bdc4-bfa6a6504a76
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 674712226a79960e44ab99ed8e59c88b27984efb
ms.sourcegitcommit: 5f33645661bf8c825a7a2e73950b1f4ea0f1cd82
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/21/2020
ms.locfileid: "104488325"
---
# <a name="about-list-boxes"></a><span data-ttu-id="f9064-103">Сведения о списках</span><span class="sxs-lookup"><span data-stu-id="f9064-103">About List Boxes</span></span>

<span data-ttu-id="f9064-104">Элемент управления "список" содержит простой список, из которого пользователь обычно может выбрать один или несколько элементов.</span><span class="sxs-lookup"><span data-stu-id="f9064-104">A list box control contains a simple list from which the user can generally select one or more items.</span></span> <span data-ttu-id="f9064-105">Списки предоставляют ограниченную гибкость по сравнению с элементами управления " [представление списка](list-view-control-reference.md) ".</span><span class="sxs-lookup"><span data-stu-id="f9064-105">List boxes provide limited flexibility compared with [List View](list-view-control-reference.md) controls.</span></span>

<span data-ttu-id="f9064-106">Элементы списка могут быть представлены текстовой строкой, точечными рисунками или обоими.</span><span class="sxs-lookup"><span data-stu-id="f9064-106">List box items can be represented by text strings, bitmaps, or both.</span></span> <span data-ttu-id="f9064-107">Если список недостаточно велик для одновременного отображения всех элементов списка, в поле со списком отображается полоса прокрутки.</span><span class="sxs-lookup"><span data-stu-id="f9064-107">If the list box is not large enough to display all the list box items at once, the list box provides a scroll bar.</span></span> <span data-ttu-id="f9064-108">Пользователь прокручивает список элементов списка и применяет или удаляет состояние выбора по мере необходимости.</span><span class="sxs-lookup"><span data-stu-id="f9064-108">The user scrolls through the list box items and applies or removes selection status as necessary.</span></span> <span data-ttu-id="f9064-109">Выбор элемента списка изменяет его внешний вид, обычно изменяя цвета текста и фона на значения, указанные соответствующими метриками операционной системы.</span><span class="sxs-lookup"><span data-stu-id="f9064-109">Selecting a list box item changes its visual appearance, usually by changing the text and background colors to those specified by the relevant operating system metrics.</span></span> <span data-ttu-id="f9064-110">Когда пользователь выбирает или отменяет выбор элемента, система отправляет сообщение уведомления родительскому окну списка.</span><span class="sxs-lookup"><span data-stu-id="f9064-110">When the user selects or deselects an item, the system sends a notification message to the parent window of the list box.</span></span>

<span data-ttu-id="f9064-111">Для приложения ANSI система преобразует текст в поле со списком в Юникод, используя кодовую страницу **CP \_ ACP** .</span><span class="sxs-lookup"><span data-stu-id="f9064-111">For an ANSI application, the system converts the text in a list box to Unicode by using the **CP\_ACP** code page.</span></span> <span data-ttu-id="f9064-112">Это может вызвать проблемы.</span><span class="sxs-lookup"><span data-stu-id="f9064-112">This can cause problems.</span></span> <span data-ttu-id="f9064-113">Например, римские символы с диакритическими знаками в списке не в Юникоде в Windows, версия для японского языка будет нечитаемой.</span><span class="sxs-lookup"><span data-stu-id="f9064-113">For example, accented Roman characters in a non-Unicode list box in Windows, Japanese version will come out garbled.</span></span> <span data-ttu-id="f9064-114">Чтобы устранить эту проблему, либо скомпилируйте приложение как Юникод, либо используйте список, рисуемый владельцем.</span><span class="sxs-lookup"><span data-stu-id="f9064-114">To fix this, either compile the application as Unicode or use an owner-drawn list box.</span></span>

<span data-ttu-id="f9064-115">В этом разделе рассматриваются следующие темы:</span><span class="sxs-lookup"><span data-stu-id="f9064-115">This section discusses the following topics:</span></span>

-   [<span data-ttu-id="f9064-116">Создание списка</span><span class="sxs-lookup"><span data-stu-id="f9064-116">Creating a List Box</span></span>](#creating-a-list-box)
-   [<span data-ttu-id="f9064-117">Типы и стили списка</span><span class="sxs-lookup"><span data-stu-id="f9064-117">List Box Types and Styles</span></span>](#list-box-types-and-styles)
-   [<span data-ttu-id="f9064-118">Функции списка</span><span class="sxs-lookup"><span data-stu-id="f9064-118">List Box Functions</span></span>](#list-box-functions)
-   [<span data-ttu-id="f9064-119">Сообщения уведомлений из списков</span><span class="sxs-lookup"><span data-stu-id="f9064-119">Notification Messages from List Boxes</span></span>](#notification-messages-from-list-boxes)
-   [<span data-ttu-id="f9064-120">Сообщения в списки</span><span class="sxs-lookup"><span data-stu-id="f9064-120">Messages to List Boxes</span></span>](#notification-messages-from-list-boxes)
-   [<span data-ttu-id="f9064-121">Обработка сообщений окна по умолчанию</span><span class="sxs-lookup"><span data-stu-id="f9064-121">Default Window Message Processing</span></span>](#default-window-message-processing)
-   [<span data-ttu-id="f9064-122">Списки, рисуемые владельцем</span><span class="sxs-lookup"><span data-stu-id="f9064-122">Owner-Drawn List Boxes</span></span>](#owner-drawn-list-boxes)
-   [<span data-ttu-id="f9064-123">Перетаскивать списки</span><span class="sxs-lookup"><span data-stu-id="f9064-123">Drag List Boxes</span></span>](#drag-list-boxes)
    -   [<span data-ttu-id="f9064-124">Создание списков перетаскивания</span><span class="sxs-lookup"><span data-stu-id="f9064-124">Creating Drag List Boxes</span></span>](#creating-drag-list-boxes)
    -   [<span data-ttu-id="f9064-125">Перетаскивать сообщения из списка</span><span class="sxs-lookup"><span data-stu-id="f9064-125">Drag List Box Messages</span></span>](#drag-list-box-messages)
    -   [<span data-ttu-id="f9064-126">Перетаскивать коды уведомлений списка</span><span class="sxs-lookup"><span data-stu-id="f9064-126">Drag List Box Notification Codes</span></span>](#drag-list-box-notification-codes)

## <a name="creating-a-list-box"></a><span data-ttu-id="f9064-127">Создание списка</span><span class="sxs-lookup"><span data-stu-id="f9064-127">Creating a List Box</span></span>

<span data-ttu-id="f9064-128">Самый простой способ создать поле со списком в диалоговом окне — это перетащить его из области элементов в Microsoft Visual Studio в ресурс диалогового окна.</span><span class="sxs-lookup"><span data-stu-id="f9064-128">The easiest way to create a list box in a dialog box is to drag it from the Toolbox in Microsoft Visual Studio onto your dialog resource.</span></span> <span data-ttu-id="f9064-129">Чтобы динамически создать окно списка или создать список в окне, отличном от диалогового окна, используйте функцию [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) , указав класс окна [**\_ ListBox WC**](common-control-window-classes.md) и соответствующие [стили списка](list-box-styles.md).</span><span class="sxs-lookup"><span data-stu-id="f9064-129">To create a list box dynamically, or to create a list box in a window other than a dialog box, use the [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) function, specifying the [**WC\_LISTBOX**](common-control-window-classes.md) window class and the appropriate [list box styles](list-box-styles.md).</span></span>

## <a name="list-box-types-and-styles"></a><span data-ttu-id="f9064-130">Типы и стили списка</span><span class="sxs-lookup"><span data-stu-id="f9064-130">List Box Types and Styles</span></span>

<span data-ttu-id="f9064-131">Существует два типа списков: одиночный выбор (по умолчанию) и множественный выбор.</span><span class="sxs-lookup"><span data-stu-id="f9064-131">There are two types of list boxes: single-selection (the default) and multiple-selection.</span></span> <span data-ttu-id="f9064-132">В списке с одним выбором пользователь может выбрать только один элемент за раз.</span><span class="sxs-lookup"><span data-stu-id="f9064-132">In a single-selection list box, the user can select only one item at a time.</span></span> <span data-ttu-id="f9064-133">В списке с множественным выбором пользователь может одновременно выбрать несколько элементов.</span><span class="sxs-lookup"><span data-stu-id="f9064-133">In a multiple-selection list box, the user can select more than one item at a time.</span></span> <span data-ttu-id="f9064-134">Чтобы создать список с множественным выбором, укажите [**\_ мултиплесел фунта**](list-box-styles.md) или [**фунт \_ екстендедсел**](list-box-styles.md) .</span><span class="sxs-lookup"><span data-stu-id="f9064-134">To create a multiple-selection list box, specify the [**LBS\_MULTIPLESEL**](list-box-styles.md) or the [**LBS\_EXTENDEDSEL**](list-box-styles.md) style.</span></span>

<span data-ttu-id="f9064-135">Внешний вид и операция со списком определяются [стилями окна списка](list-box-styles.md) и стилями окон.</span><span class="sxs-lookup"><span data-stu-id="f9064-135">The appearance and operation of a list box is controlled by [list box styles](list-box-styles.md) and window styles.</span></span> <span data-ttu-id="f9064-136">Эти стили указывают, отсортирован ли список, упорядочены по нескольким столбцам, нарисованы приложением и т. д.</span><span class="sxs-lookup"><span data-stu-id="f9064-136">These styles indicate whether the list is sorted, arranged in multiple columns, drawn by the application, and so on.</span></span> <span data-ttu-id="f9064-137">Измерения и стили списка обычно определяются в шаблоне диалогового окна, который включен в ресурсы приложения.</span><span class="sxs-lookup"><span data-stu-id="f9064-137">The dimensions and styles of a list box are typically defined in a dialog box template that is included in an application's resources.</span></span>

> [!Note]  
> <span data-ttu-id="f9064-138">Чтобы использовать стили оформления с этими элементами управления, приложение должно включать манифест и вызывать [**иниткоммонконтролс**](/windows/desktop/api/Commctrl/nf-commctrl-initcommoncontrols) в начале программы.</span><span class="sxs-lookup"><span data-stu-id="f9064-138">To use visual styles with these controls, an application must include a manifest and must call [**InitCommonControls**](/windows/desktop/api/Commctrl/nf-commctrl-initcommoncontrols) at the beginning of the program.</span></span> <span data-ttu-id="f9064-139">Сведения о визуальных стилях см. в разделе [стили визуальных](themes-overview.md)элементов.</span><span class="sxs-lookup"><span data-stu-id="f9064-139">For information on visual styles, see [Visual Styles](themes-overview.md).</span></span> <span data-ttu-id="f9064-140">Дополнительные сведения о манифестах см. в разделе [Включение визуальных стилей](cookbook-overview.md).</span><span class="sxs-lookup"><span data-stu-id="f9064-140">For information on manifests, see [Enabling Visual Styles](cookbook-overview.md).</span></span>

 

## <a name="list-box-functions"></a><span data-ttu-id="f9064-141">Функции списка</span><span class="sxs-lookup"><span data-stu-id="f9064-141">List Box Functions</span></span>

<span data-ttu-id="f9064-142">Функция [**длгдирлист**](/windows/desktop/api/Winuser/nf-winuser-dlgdirlista) заменяет содержимое списка именами дисков, каталогов и файлов, которые соответствуют заданному набору критериев.</span><span class="sxs-lookup"><span data-stu-id="f9064-142">The [**DlgDirList**](/windows/desktop/api/Winuser/nf-winuser-dlgdirlista) function replaces the contents of a list box with the names of drives, directories, and files that match a specified set of criteria.</span></span> <span data-ttu-id="f9064-143">Функция [**длгдирселектекс**](/windows/desktop/api/Winuser/nf-winuser-dlgdirselectexa) извлекает текущее выделение в поле со списком, которое инициализируется с помощью **длгдирлист**.</span><span class="sxs-lookup"><span data-stu-id="f9064-143">The [**DlgDirSelectEx**](/windows/desktop/api/Winuser/nf-winuser-dlgdirselectexa) function retrieves the current selection in a list box that is initialized by **DlgDirList**.</span></span> <span data-ttu-id="f9064-144">Эти функции позволяют пользователю выбрать диск, каталог или файл из списка, не вводя расположение и имя файла.</span><span class="sxs-lookup"><span data-stu-id="f9064-144">These functions make it possible for the user to select a drive, directory, or file from a list box without typing the location and name of the file.</span></span>

<span data-ttu-id="f9064-145">Кроме того, функция [**жетлистбоксинфо**](/windows/desktop/api/Winuser/nf-winuser-getlistboxinfo) возвращает количество элементов на столбец в указанном списке.</span><span class="sxs-lookup"><span data-stu-id="f9064-145">Also, the [**GetListBoxInfo**](/windows/desktop/api/Winuser/nf-winuser-getlistboxinfo) function returns the number of items per column in a specified list box.</span></span>

## <a name="notification-messages-from-list-boxes"></a><span data-ttu-id="f9064-146">Сообщения уведомлений из списков</span><span class="sxs-lookup"><span data-stu-id="f9064-146">Notification Messages from List Boxes</span></span>

<span data-ttu-id="f9064-147">При возникновении события в списке Список отправляет код уведомления в виде [**\_ командного сообщения WM**](/windows/desktop/menurc/wm-command) в процедуру диалогового окна в окне владельца.</span><span class="sxs-lookup"><span data-stu-id="f9064-147">When an event occurs in a list box, the list box sends a notification code, in the form of a [**WM\_COMMAND**](/windows/desktop/menurc/wm-command) message, to the dialog box procedure of the owner window.</span></span> <span data-ttu-id="f9064-148">Коды уведомления в списке отправляются, когда пользователь выбирает, дважды щелкает или отменяет элемент списка. когда окно списка получает или теряет фокус клавиатуры; и когда системе не удается выделить достаточно памяти для запроса окна списка.</span><span class="sxs-lookup"><span data-stu-id="f9064-148">List box notification codes are sent when a user selects, double-clicks, or cancels a list box item; when the list box receives or loses the keyboard focus; and when the system cannot allocate enough memory for a list box request.</span></span> <span data-ttu-id="f9064-149">**\_ Командное сообщение WM** содержит идентификатор списка в младшем слове параметра *wParam* и код уведомления в слове с высоким порядком.</span><span class="sxs-lookup"><span data-stu-id="f9064-149">A **WM\_COMMAND** message contains the list box identifier in the low-order word of the *wParam* parameter, and the notification code in the high-order word.</span></span> <span data-ttu-id="f9064-150">Параметр *lParam* содержит маркер окна элемента управления.</span><span class="sxs-lookup"><span data-stu-id="f9064-150">The *lParam* parameter contains the control window handle.</span></span>

<span data-ttu-id="f9064-151">Для обработки этих сообщений не требуется процедура диалогового окна; Процедура окна по умолчанию обрабатывает их.</span><span class="sxs-lookup"><span data-stu-id="f9064-151">A dialog box procedure is not required to process these messages; the default window procedure processes them.</span></span>

<span data-ttu-id="f9064-152">Приложение должно отслеживать и обрабатывать следующие коды уведомлений списка.</span><span class="sxs-lookup"><span data-stu-id="f9064-152">An application should monitor and process the following list box notification codes.</span></span>



| <span data-ttu-id="f9064-153">Код уведомления</span><span class="sxs-lookup"><span data-stu-id="f9064-153">Notification code</span></span>                   | <span data-ttu-id="f9064-154">Описание</span><span class="sxs-lookup"><span data-stu-id="f9064-154">Description</span></span>                                                      |
|-------------------------------------|------------------------------------------------------------------|
| [<span data-ttu-id="f9064-155">ЛБН \_ дблклк</span><span class="sxs-lookup"><span data-stu-id="f9064-155">LBN\_DBLCLK</span></span>](lbn-dblclk.md)       | <span data-ttu-id="f9064-156">Пользователь дважды щелкает элемент в списке.</span><span class="sxs-lookup"><span data-stu-id="f9064-156">The user double-clicks an item in the list box.</span></span>                  |
| [<span data-ttu-id="f9064-157">ЛБН \_ еррспаце</span><span class="sxs-lookup"><span data-stu-id="f9064-157">LBN\_ERRSPACE</span></span>](lbn-errspace.md)   | <span data-ttu-id="f9064-158">Список не может выделить достаточно памяти для выполнения запроса.</span><span class="sxs-lookup"><span data-stu-id="f9064-158">The list box cannot allocate enough memory to fulfill a request.</span></span> |
| [<span data-ttu-id="f9064-159">ЛБН \_ киллфокус</span><span class="sxs-lookup"><span data-stu-id="f9064-159">LBN\_KILLFOCUS</span></span>](lbn-killfocus.md) | <span data-ttu-id="f9064-160">Поле со списком теряет фокус клавиатуры.</span><span class="sxs-lookup"><span data-stu-id="f9064-160">The list box loses the keyboard focus.</span></span>                           |
| [<span data-ttu-id="f9064-161">ЛБН \_ селканцел</span><span class="sxs-lookup"><span data-stu-id="f9064-161">LBN\_SELCANCEL</span></span>](lbn-selcancel.md) | <span data-ttu-id="f9064-162">Пользователь отменяет выбор элемента в списке.</span><span class="sxs-lookup"><span data-stu-id="f9064-162">The user cancels the selection of an item in the list box.</span></span>       |
| [<span data-ttu-id="f9064-163">ЛБН \_ селчанже</span><span class="sxs-lookup"><span data-stu-id="f9064-163">LBN\_SELCHANGE</span></span>](lbn-selchange.md) | <span data-ttu-id="f9064-164">Выбор в окне списка собирается измениться.</span><span class="sxs-lookup"><span data-stu-id="f9064-164">The selection in a list box is about to change.</span></span>                  |
| [<span data-ttu-id="f9064-165">ЛБН \_ SETFOCUS</span><span class="sxs-lookup"><span data-stu-id="f9064-165">LBN\_SETFOCUS</span></span>](lbn-setfocus.md)   | <span data-ttu-id="f9064-166">Окно списка получает фокус клавиатуры.</span><span class="sxs-lookup"><span data-stu-id="f9064-166">The list box receives the keyboard focus.</span></span>                        |



 

## <a name="messages-to-list-boxes"></a><span data-ttu-id="f9064-167">Сообщения в списки</span><span class="sxs-lookup"><span data-stu-id="f9064-167">Messages to List Boxes</span></span>

<span data-ttu-id="f9064-168">Процедура диалогового окна может отправить сообщения в список для добавления, удаления, проверки и изменения элементов списка.</span><span class="sxs-lookup"><span data-stu-id="f9064-168">A dialog box procedure can send messages to a list box to add, delete, examine, and change list box items.</span></span> <span data-ttu-id="f9064-169">Например, процедура диалогового окна может отправить сообщение [**\_ ADDSTRINGа балансировки нагрузки**](lb-addstring.md) в список для добавления элемента и сообщение [**\_ жетсел балансировки нагрузки**](lb-getsel.md) , чтобы определить, выбран ли элемент.</span><span class="sxs-lookup"><span data-stu-id="f9064-169">For example, a dialog box procedure could send an [**LB\_ADDSTRING**](lb-addstring.md) message to a list box to add an item, and an [**LB\_GETSEL**](lb-getsel.md) message to determine whether the item is selected.</span></span> <span data-ttu-id="f9064-170">Другие сообщения задают и извлекают сведения о размере, внешнем виде и поведении списка.</span><span class="sxs-lookup"><span data-stu-id="f9064-170">Other messages set and retrieve information about the size, appearance, and behavior of the list box.</span></span> <span data-ttu-id="f9064-171">Например, сообщение [**\_ сесоризонталекстент балансировки нагрузки**](lb-sethorizontalextent.md) задает ширину прокручиваемого поля списка.</span><span class="sxs-lookup"><span data-stu-id="f9064-171">For example, the [**LB\_SETHORIZONTALEXTENT**](lb-sethorizontalextent.md) message sets the scrollable width of a list box.</span></span> <span data-ttu-id="f9064-172">Процедура диалогового окна может отправить любое сообщение в поле со списком с помощью функции [**SendMessage**](/windows/desktop/api/winuser/nf-winuser-sendmessage) или [**сенддлгитеммессаже**](/windows/desktop/api/winuser/nf-winuser-senddlgitemmessagea) .</span><span class="sxs-lookup"><span data-stu-id="f9064-172">A dialog box procedure can send any message to a list box by using the [**SendMessage**](/windows/desktop/api/winuser/nf-winuser-sendmessage) or [**SendDlgItemMessage**](/windows/desktop/api/winuser/nf-winuser-senddlgitemmessagea) function.</span></span>

<span data-ttu-id="f9064-173">На элемент списка часто ссылается его *индекс*— целое число, представляющее позицию элемента в списке.</span><span class="sxs-lookup"><span data-stu-id="f9064-173">A list box item is often referenced by its *index*, an integer that represents the item's position in the list box.</span></span> <span data-ttu-id="f9064-174">Индекс первого элемента в поле со списком равен 0, индекс второго элемента — 1 и т. д.</span><span class="sxs-lookup"><span data-stu-id="f9064-174">The index of the first item in a list box is 0, the index of the second item is 1, and so on.</span></span>

<span data-ttu-id="f9064-175">В следующей таблице показано, как предопределенное окно списка реагирует на сообщения списка.</span><span class="sxs-lookup"><span data-stu-id="f9064-175">The following table describes how the predefined list box procedure responds to list box messages.</span></span>



| <span data-ttu-id="f9064-176">Сообщение</span><span class="sxs-lookup"><span data-stu-id="f9064-176">Message</span></span>                                                   | <span data-ttu-id="f9064-177">Ответ</span><span class="sxs-lookup"><span data-stu-id="f9064-177">Response</span></span>                                                                                                                                                                                                                         |
|-----------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="f9064-178">**ADDFILE балансировки нагрузки \_**</span><span class="sxs-lookup"><span data-stu-id="f9064-178">**LB\_ADDFILE**</span></span>](lb-addfile.md)                         | <span data-ttu-id="f9064-179">Вставляет файл в список каталогов, заполненный функцией [**длгдирлист**](/windows/desktop/api/Winuser/nf-winuser-dlgdirlista) , и получает индекс поля списка вставленного элемента.</span><span class="sxs-lookup"><span data-stu-id="f9064-179">Inserts a file into a directory list box that is filled by the [**DlgDirList**](/windows/desktop/api/Winuser/nf-winuser-dlgdirlista) function and retrieves the list box index of the inserted item.</span></span>                                                                  |
| [<span data-ttu-id="f9064-180">**ADDSTRING балансировки нагрузки \_**</span><span class="sxs-lookup"><span data-stu-id="f9064-180">**LB\_ADDSTRING**</span></span>](lb-addstring.md)                     | <span data-ttu-id="f9064-181">Добавляет строку в список и возвращает его индекс.</span><span class="sxs-lookup"><span data-stu-id="f9064-181">Adds a string to a list box and returns its index.</span></span>                                                                                                                                                                               |
| [<span data-ttu-id="f9064-182">**делетестринг балансировки нагрузки \_**</span><span class="sxs-lookup"><span data-stu-id="f9064-182">**LB\_DELETESTRING**</span></span>](lb-deletestring.md)               | <span data-ttu-id="f9064-183">Удаляет строку из списка и возвращает количество строк, остающихся в списке.</span><span class="sxs-lookup"><span data-stu-id="f9064-183">Removes a string from a list box and returns the number of strings that remain in the list.</span></span>                                                                                                                                      |
| [<span data-ttu-id="f9064-184">**Каталог балансировки нагрузки \_**</span><span class="sxs-lookup"><span data-stu-id="f9064-184">**LB\_DIR**</span></span>](lb-dir.md)                                 | <span data-ttu-id="f9064-185">Добавляет список имен файлов в поле со списком и возвращает индекс последнего добавленного имени файла.</span><span class="sxs-lookup"><span data-stu-id="f9064-185">Adds a list of file names to a list box and returns the index of the last file name added.</span></span>                                                                                                                                       |
| [<span data-ttu-id="f9064-186">**FINDSTRING балансировки нагрузки \_**</span><span class="sxs-lookup"><span data-stu-id="f9064-186">**LB\_FINDSTRING**</span></span>](lb-findstring.md)                   | <span data-ttu-id="f9064-187">Возвращает индекс первой строки в списке, которая начинается с указанной строки.</span><span class="sxs-lookup"><span data-stu-id="f9064-187">Returns the index of the first string in the list box that begins with a specified string.</span></span>                                                                                                                                       |
| [<span data-ttu-id="f9064-188">**финдстринжексакт балансировки нагрузки \_**</span><span class="sxs-lookup"><span data-stu-id="f9064-188">**LB\_FINDSTRINGEXACT**</span></span>](lb-findstringexact.md)         | <span data-ttu-id="f9064-189">Возвращает индекс строки в списке, равный указанной строке.</span><span class="sxs-lookup"><span data-stu-id="f9064-189">Returns the index of the string in the list box that is equal to a specified string.</span></span>                                                                                                                                             |
| [<span data-ttu-id="f9064-190">**жетанчориндекс балансировки нагрузки \_**</span><span class="sxs-lookup"><span data-stu-id="f9064-190">**LB\_GETANCHORINDEX**</span></span>](lb-getanchorindex.md)           | <span data-ttu-id="f9064-191">Возвращает индекс элемента, который был выбран последним щелчком мыши.</span><span class="sxs-lookup"><span data-stu-id="f9064-191">Returns the index of the item that the mouse last selected.</span></span>                                                                                                                                                                      |
| [<span data-ttu-id="f9064-192">**жеткаретиндекс балансировки нагрузки \_**</span><span class="sxs-lookup"><span data-stu-id="f9064-192">**LB\_GETCARETINDEX**</span></span>](lb-getcaretindex.md)             | <span data-ttu-id="f9064-193">Возвращает индекс элемента, имеющего прямоугольник фокуса.</span><span class="sxs-lookup"><span data-stu-id="f9064-193">Returns the index of the item that has the focus rectangle.</span></span>                                                                                                                                                                      |
| [<span data-ttu-id="f9064-194">**\_Счетчик фунтов**</span><span class="sxs-lookup"><span data-stu-id="f9064-194">**LB\_GETCOUNT**</span></span>](lb-getcount.md)                       | <span data-ttu-id="f9064-195">Возвращает количество элементов в списке.</span><span class="sxs-lookup"><span data-stu-id="f9064-195">Returns the number of items in the list box.</span></span>                                                                                                                                                                                     |
| [<span data-ttu-id="f9064-196">**нерекурсивная балансировка нагрузки \_**</span><span class="sxs-lookup"><span data-stu-id="f9064-196">**LB\_GETCURSEL**</span></span>](lb-getcursel.md)                     | <span data-ttu-id="f9064-197">Возвращает индекс выбранного в данный момент элемента.</span><span class="sxs-lookup"><span data-stu-id="f9064-197">Returns the index of the currently selected item.</span></span>                                                                                                                                                                                |
| [<span data-ttu-id="f9064-198">**жесоризонталекстент балансировки нагрузки \_**</span><span class="sxs-lookup"><span data-stu-id="f9064-198">**LB\_GETHORIZONTALEXTENT**</span></span>](lb-gethorizontalextent.md) | <span data-ttu-id="f9064-199">Возвращает прокручиваемую ширину (в пикселях) поля со списком.</span><span class="sxs-lookup"><span data-stu-id="f9064-199">Returns the scrollable width, in pixels, of a list box.</span></span>                                                                                                                                                                          |
| [<span data-ttu-id="f9064-200">**жетитемдата балансировки нагрузки \_**</span><span class="sxs-lookup"><span data-stu-id="f9064-200">**LB\_GETITEMDATA**</span></span>](lb-getitemdata.md)                 | <span data-ttu-id="f9064-201">Возвращает значение, связанное с указанным элементом.</span><span class="sxs-lookup"><span data-stu-id="f9064-201">Returns the value that is associated with the specified item.</span></span>                                                                                                                                                                    |
| [<span data-ttu-id="f9064-202">**GETITEMHEIGHT балансировки нагрузки \_**</span><span class="sxs-lookup"><span data-stu-id="f9064-202">**LB\_GETITEMHEIGHT**</span></span>](lb-getitemheight.md)             | <span data-ttu-id="f9064-203">Возвращает высоту (в пикселях) элемента в поле со списком.</span><span class="sxs-lookup"><span data-stu-id="f9064-203">Returns the height, in pixels, of an item in a list box.</span></span>                                                                                                                                                                         |
| [<span data-ttu-id="f9064-204">**жетитемрект балансировки нагрузки \_**</span><span class="sxs-lookup"><span data-stu-id="f9064-204">**LB\_GETITEMRECT**</span></span>](lb-getitemrect.md)                 | <span data-ttu-id="f9064-205">Получает клиентские координаты указанного элемента списка.</span><span class="sxs-lookup"><span data-stu-id="f9064-205">Retrieves the client coordinates of the specified list box item.</span></span>                                                                                                                                                                 |
| [<span data-ttu-id="f9064-206">**Нестандартная балансировка нагрузки \_**</span><span class="sxs-lookup"><span data-stu-id="f9064-206">**LB\_GETLOCALE**</span></span>](lb-getlocale.md)                     | <span data-ttu-id="f9064-207">Извлекает языковой стандарт для списка.</span><span class="sxs-lookup"><span data-stu-id="f9064-207">Retrieves the locale of the list box.</span></span> <span data-ttu-id="f9064-208">Слово в высоком порядке содержит код страны или региона, а младшее слово содержит идентификатор языка.</span><span class="sxs-lookup"><span data-stu-id="f9064-208">The high-order word contains the country/region code and the low-order word contains the language identifier.</span></span>                                                                              |
| [<span data-ttu-id="f9064-209">**жетсел балансировки нагрузки \_**</span><span class="sxs-lookup"><span data-stu-id="f9064-209">**LB\_GETSEL**</span></span>](lb-getsel.md)                           | <span data-ttu-id="f9064-210">Возвращает состояние выбора элемента списка.</span><span class="sxs-lookup"><span data-stu-id="f9064-210">Returns the selection state of a list box item.</span></span>                                                                                                                                                                                  |
| [<span data-ttu-id="f9064-211">**жетселкаунт балансировки нагрузки \_**</span><span class="sxs-lookup"><span data-stu-id="f9064-211">**LB\_GETSELCOUNT**</span></span>](lb-getselcount.md)                 | <span data-ttu-id="f9064-212">Возвращает число выбранных элементов в списке с множественным выбором.</span><span class="sxs-lookup"><span data-stu-id="f9064-212">Returns the number of selected items in a multiple-selection list box.</span></span>                                                                                                                                                           |
| [<span data-ttu-id="f9064-213">**жетселитемс балансировки нагрузки \_**</span><span class="sxs-lookup"><span data-stu-id="f9064-213">**LB\_GETSELITEMS**</span></span>](lb-getselitems.md)                 | <span data-ttu-id="f9064-214">Создает массив индексов всех выбранных элементов в списке с множественным выбором и возвращает общее число выбранных элементов.</span><span class="sxs-lookup"><span data-stu-id="f9064-214">Creates an array of the indexes of all selected items in a multiple-selection list box and returns the total number of selected items.</span></span>                                                                                           |
| [<span data-ttu-id="f9064-215">**\_Балансировка нагрузки**</span><span class="sxs-lookup"><span data-stu-id="f9064-215">**LB\_GETTEXT**</span></span>](lb-gettext.md)                         | <span data-ttu-id="f9064-216">Извлекает строку, связанную с указанным элементом, и длину строки.</span><span class="sxs-lookup"><span data-stu-id="f9064-216">Retrieves the string associated with a specified item and the length of the string.</span></span>                                                                                                                                              |
| [<span data-ttu-id="f9064-217">**жеттекстлен балансировки нагрузки \_**</span><span class="sxs-lookup"><span data-stu-id="f9064-217">**LB\_GETTEXTLEN**</span></span>](lb-gettextlen.md)                   | <span data-ttu-id="f9064-218">Возвращает длину строки в символах, связанной с указанным элементом.</span><span class="sxs-lookup"><span data-stu-id="f9064-218">Returns the length, in characters, of the string associated with a specified item.</span></span>                                                                                                                                               |
| [<span data-ttu-id="f9064-219">**жеттопиндекс балансировки нагрузки \_**</span><span class="sxs-lookup"><span data-stu-id="f9064-219">**LB\_GETTOPINDEX**</span></span>](lb-gettopindex.md)                 | <span data-ttu-id="f9064-220">Возвращает индекс первого видимого элемента в поле со списком.</span><span class="sxs-lookup"><span data-stu-id="f9064-220">Returns the index of the first visible item in a list box.</span></span>                                                                                                                                                                       |
| [<span data-ttu-id="f9064-221">**инитстораже балансировки нагрузки \_**</span><span class="sxs-lookup"><span data-stu-id="f9064-221">**LB\_INITSTORAGE**</span></span>](lb-initstorage.md)                 | <span data-ttu-id="f9064-222">Выделяет память для указанного числа элементов и связанных с ними строк.</span><span class="sxs-lookup"><span data-stu-id="f9064-222">Allocates memory for the specified number of items and their associated strings.</span></span>                                                                                                                                                 |
| [<span data-ttu-id="f9064-223">**инсертстринг балансировки нагрузки \_**</span><span class="sxs-lookup"><span data-stu-id="f9064-223">**LB\_INSERTSTRING**</span></span>](lb-insertstring.md)               | <span data-ttu-id="f9064-224">Вставляет строку с указанным индексом в поле со списком.</span><span class="sxs-lookup"><span data-stu-id="f9064-224">Inserts a string at a specified index in a list box.</span></span>                                                                                                                                                                             |
| [<span data-ttu-id="f9064-225">**итемфромпоинт балансировки нагрузки \_**</span><span class="sxs-lookup"><span data-stu-id="f9064-225">**LB\_ITEMFROMPOINT**</span></span>](lb-itemfrompoint.md)             | <span data-ttu-id="f9064-226">Возвращает отсчитываемый от нуля индекс элемента, ближайшего к заданной точке в списке.</span><span class="sxs-lookup"><span data-stu-id="f9064-226">Retrieves the zero-based index of the item nearest the specified point in a list box.</span></span>                                                                                                                                            |
| [<span data-ttu-id="f9064-227">**ресетконтент балансировки нагрузки \_**</span><span class="sxs-lookup"><span data-stu-id="f9064-227">**LB\_RESETCONTENT**</span></span>](lb-resetcontent.md)               | <span data-ttu-id="f9064-228">Удаляет все элементы из списка.</span><span class="sxs-lookup"><span data-stu-id="f9064-228">Removes all items from a list box.</span></span>                                                                                                                                                                                               |
| [<span data-ttu-id="f9064-229">**селектстринг балансировки нагрузки \_**</span><span class="sxs-lookup"><span data-stu-id="f9064-229">**LB\_SELECTSTRING**</span></span>](lb-selectstring.md)               | <span data-ttu-id="f9064-230">Выбирает первую найденную строку, совпадающую с указанным префиксом.</span><span class="sxs-lookup"><span data-stu-id="f9064-230">Selects the first string it finds that matches a specified prefix.</span></span>                                                                                                                                                               |
| [<span data-ttu-id="f9064-231">**селитемранже балансировки нагрузки \_**</span><span class="sxs-lookup"><span data-stu-id="f9064-231">**LB\_SELITEMRANGE**</span></span>](lb-selitemrange.md)               | <span data-ttu-id="f9064-232">Выбирает указанный диапазон элементов в поле со списком.</span><span class="sxs-lookup"><span data-stu-id="f9064-232">Selects a specified range of items in a list box.</span></span>                                                                                                                                                                                |
| [<span data-ttu-id="f9064-233">**селитемранжеекс балансировки нагрузки \_**</span><span class="sxs-lookup"><span data-stu-id="f9064-233">**LB\_SELITEMRANGEEX**</span></span>](lb-selitemrangeex.md)           | <span data-ttu-id="f9064-234">Выбирает указанный диапазон элементов, если индекс первого элемента в диапазоне меньше индекса последнего элемента в диапазоне.</span><span class="sxs-lookup"><span data-stu-id="f9064-234">Selects a specified range of items if the index of the first item in the range is less than the index of the last item in the range.</span></span> <span data-ttu-id="f9064-235">Отменяет выбор в диапазоне, если индекс первого элемента больше, чем последний.</span><span class="sxs-lookup"><span data-stu-id="f9064-235">Cancels the selection in the range if the index of the first item is greater than the last.</span></span> |
| [<span data-ttu-id="f9064-236">**сетанчориндекс балансировки нагрузки \_**</span><span class="sxs-lookup"><span data-stu-id="f9064-236">**LB\_SETANCHORINDEX**</span></span>](lb-setanchorindex.md)           | <span data-ttu-id="f9064-237">Задает элемент, который был последним выбран для указанного элемента.</span><span class="sxs-lookup"><span data-stu-id="f9064-237">Sets the item that the mouse last selected to a specified item.</span></span>                                                                                                                                                                  |
| [<span data-ttu-id="f9064-238">**сеткаретиндекс балансировки нагрузки \_**</span><span class="sxs-lookup"><span data-stu-id="f9064-238">**LB\_SETCARETINDEX**</span></span>](lb-setcaretindex.md)             | <span data-ttu-id="f9064-239">Задает прямоугольник фокуса для указанного элемента списка.</span><span class="sxs-lookup"><span data-stu-id="f9064-239">Sets the focus rectangle to a specified list box item.</span></span>                                                                                                                                                                           |
| [<span data-ttu-id="f9064-240">**сетколумнвидс балансировки нагрузки \_**</span><span class="sxs-lookup"><span data-stu-id="f9064-240">**LB\_SETCOLUMNWIDTH**</span></span>](lb-setcolumnwidth.md)           | <span data-ttu-id="f9064-241">Задает ширину (в пикселях) всех столбцов в поле со списком.</span><span class="sxs-lookup"><span data-stu-id="f9064-241">Sets the width, in pixels, of all columns in a list box.</span></span>                                                                                                                                                                         |
| [<span data-ttu-id="f9064-242">**сеткаунт балансировки нагрузки \_**</span><span class="sxs-lookup"><span data-stu-id="f9064-242">**LB\_SETCOUNT**</span></span>](lb-setcount.md)                       | <span data-ttu-id="f9064-243">Задает число элементов в поле со списком.</span><span class="sxs-lookup"><span data-stu-id="f9064-243">Sets the number of items in a list box.</span></span>                                                                                                                                                                                          |
| [<span data-ttu-id="f9064-244">**сеткурсел балансировки нагрузки \_**</span><span class="sxs-lookup"><span data-stu-id="f9064-244">**LB\_SETCURSEL**</span></span>](lb-setcursel.md)                     | <span data-ttu-id="f9064-245">Выбирает указанный элемент списка.</span><span class="sxs-lookup"><span data-stu-id="f9064-245">Selects a specified list box item.</span></span>                                                                                                                                                                                               |
| [<span data-ttu-id="f9064-246">**сесоризонталекстент балансировки нагрузки \_**</span><span class="sxs-lookup"><span data-stu-id="f9064-246">**LB\_SETHORIZONTALEXTENT**</span></span>](lb-sethorizontalextent.md) | <span data-ttu-id="f9064-247">Задает ширину (в пикселях) прокручиваемого поля со списком.</span><span class="sxs-lookup"><span data-stu-id="f9064-247">Sets the scrollable width, in pixels, of a list box.</span></span>                                                                                                                                                                             |
| [<span data-ttu-id="f9064-248">**сетитемдата балансировки нагрузки \_**</span><span class="sxs-lookup"><span data-stu-id="f9064-248">**LB\_SETITEMDATA**</span></span>](lb-setitemdata.md)                 | <span data-ttu-id="f9064-249">Связывает значение с элементом списка.</span><span class="sxs-lookup"><span data-stu-id="f9064-249">Associates a value with a list box item.</span></span>                                                                                                                                                                                         |
| [<span data-ttu-id="f9064-250">**сетитемхеигхт балансировки нагрузки \_**</span><span class="sxs-lookup"><span data-stu-id="f9064-250">**LB\_SETITEMHEIGHT**</span></span>](lb-setitemheight.md)             | <span data-ttu-id="f9064-251">Задает высоту (в пикселях) элемента или элементов в поле со списком.</span><span class="sxs-lookup"><span data-stu-id="f9064-251">Sets the height, in pixels, of an item or items in a list box.</span></span>                                                                                                                                                                   |
| [<span data-ttu-id="f9064-252">**ФУНТОВая \_ SETLOCALE**</span><span class="sxs-lookup"><span data-stu-id="f9064-252">**LB\_SETLOCALE**</span></span>](lb-setlocale.md)                     | <span data-ttu-id="f9064-253">Задает языковой стандарт для списка и возвращает предыдущий идентификатор локали.</span><span class="sxs-lookup"><span data-stu-id="f9064-253">Sets the locale of a list box and returns the previous locale identifier.</span></span>                                                                                                                                                        |
| [<span data-ttu-id="f9064-254">**сетсел балансировки нагрузки \_**</span><span class="sxs-lookup"><span data-stu-id="f9064-254">**LB\_SETSEL**</span></span>](lb-setsel.md)                           | <span data-ttu-id="f9064-255">Выбирает элемент в списке с множественным выбором.</span><span class="sxs-lookup"><span data-stu-id="f9064-255">Selects an item in a multiple-selection list box.</span></span>                                                                                                                                                                                |
| [<span data-ttu-id="f9064-256">**сеттабстопс балансировки нагрузки \_**</span><span class="sxs-lookup"><span data-stu-id="f9064-256">**LB\_SETTABSTOPS**</span></span>](lb-settabstops.md)                 | <span data-ttu-id="f9064-257">Задает позицию табуляции, указанную в указанном массиве.</span><span class="sxs-lookup"><span data-stu-id="f9064-257">Sets the tab stops to those specified in a specified array.</span></span>                                                                                                                                                                      |
| [<span data-ttu-id="f9064-258">**сеттопиндекс балансировки нагрузки \_**</span><span class="sxs-lookup"><span data-stu-id="f9064-258">**LB\_SETTOPINDEX**</span></span>](lb-settopindex.md)                 | <span data-ttu-id="f9064-259">Прокручивает список таким образом, чтобы указанный элемент находящегося в верхней части видимого диапазона.</span><span class="sxs-lookup"><span data-stu-id="f9064-259">Scrolls the list box so the specified item is at the top of the visible range.</span></span>                                                                                                                                                   |



 

## <a name="default-window-message-processing"></a><span data-ttu-id="f9064-260">Обработка сообщений окна по умолчанию</span><span class="sxs-lookup"><span data-stu-id="f9064-260">Default Window Message Processing</span></span>

<span data-ttu-id="f9064-261">Процедура окна для стандартного класса окна списка выполняет обработку по умолчанию для всех сообщений, которые не обрабатываются списком.</span><span class="sxs-lookup"><span data-stu-id="f9064-261">The window procedure for the predefined list box window class carries out default processing for all messages that the list box does not process.</span></span> <span data-ttu-id="f9064-262">Если процедура окна списка возвращает **false** для сообщения, то предопределенная процедура окна проверяет сообщение и выполняет действия по умолчанию, как показано в следующей таблице.</span><span class="sxs-lookup"><span data-stu-id="f9064-262">When the list box procedure returns **FALSE** for a message, the predefined window procedure checks the message and performs default actions, as shown in the following table.</span></span>



| <span data-ttu-id="f9064-263">Сообщение</span><span class="sxs-lookup"><span data-stu-id="f9064-263">Message</span></span>                                            | <span data-ttu-id="f9064-264">Действие по умолчанию</span><span class="sxs-lookup"><span data-stu-id="f9064-264">Default action</span></span>                                                                                                                                                                                                                                                                                                                                                           |
|----------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="f9064-265">**WM \_ char**</span><span class="sxs-lookup"><span data-stu-id="f9064-265">**WM\_CHAR**</span></span>](/windows/desktop/inputdev/wm-char)                   | <span data-ttu-id="f9064-266">Перемещает выделенный фрагмент к первому элементу, который начинается с символа, введенного пользователем.</span><span class="sxs-lookup"><span data-stu-id="f9064-266">Moves the selection to the first item that begins with the character that the user typed.</span></span> <span data-ttu-id="f9064-267">Если в списке имеется стиль [**\_ Овнердрав**](button-styles.md) "L BS", никаких действий не происходит.</span><span class="sxs-lookup"><span data-stu-id="f9064-267">If the list box has the L [**BS\_OWNERDRAW**](button-styles.md) style, no action occurs.</span></span> <span data-ttu-id="f9064-268">Несколько символов, вводимых в течение короткого интервала, рассматриваются как группа, и выбирается первый элемент, который начинается с этого ряда символов.</span><span class="sxs-lookup"><span data-stu-id="f9064-268">Multiple characters that are typed within a short interval are treated as a group, and the first item that begins with that series of characters is selected.</span></span><br/> |
| [<span data-ttu-id="f9064-269">**\_Создание WM**</span><span class="sxs-lookup"><span data-stu-id="f9064-269">**WM\_CREATE**</span></span>](/windows/desktop/winmsg/wm-create)                 | <span data-ttu-id="f9064-270">Создает пустое окно списка.</span><span class="sxs-lookup"><span data-stu-id="f9064-270">Creates an empty list box.</span></span>                                                                                                                                                                                                                                                                                                                                               |
| [<span data-ttu-id="f9064-271">**WM \_ destroy**</span><span class="sxs-lookup"><span data-stu-id="f9064-271">**WM\_DESTROY**</span></span>](/windows/desktop/winmsg/wm-destroy)               | <span data-ttu-id="f9064-272">Уничтожает список и освобождает все используемые им ресурсы.</span><span class="sxs-lookup"><span data-stu-id="f9064-272">Destroys the list box and frees any resources that it uses.</span></span>                                                                                                                                                                                                                                                                                                              |
|                                                    | <span data-ttu-id="f9064-273">Передает сообщение процедуре диалогового окна или процессу родительского окна.</span><span class="sxs-lookup"><span data-stu-id="f9064-273">Passes the message to the dialog box procedure or parent window process.</span></span>                                                                                                                                                                                                                                                                                                 |
| [<span data-ttu-id="f9064-274">**\_Включение WM**</span><span class="sxs-lookup"><span data-stu-id="f9064-274">**WM\_ENABLE**</span></span>](/windows/desktop/winmsg/wm-enable)                 | <span data-ttu-id="f9064-275">Если элемент управления является видимым, делает прямоугольник недействительным, чтобы строки можно было закрашены серым цветом.</span><span class="sxs-lookup"><span data-stu-id="f9064-275">If the control is visible, invalidates the rectangle so the strings can be painted gray.</span></span>                                                                                                                                                                                                                                                                                 |
| [<span data-ttu-id="f9064-276">**WM \_ ерасебкгнд**</span><span class="sxs-lookup"><span data-stu-id="f9064-276">**WM\_ERASEBKGND**</span></span>](/windows/desktop/winmsg/wm-erasebkgnd)         | <span data-ttu-id="f9064-277">Удаляет фон поля со списком.</span><span class="sxs-lookup"><span data-stu-id="f9064-277">Erases the background of a list box.</span></span> <span data-ttu-id="f9064-278">Если в списке имеется стиль овнердрав-[**BS \_**](button-styles.md) , фон не удаляется.</span><span class="sxs-lookup"><span data-stu-id="f9064-278">If the list box has the L [**BS\_OWNERDRAW**](button-styles.md) style, the background is not erased.</span></span>                                                                                                                                                                                                                   |
| [<span data-ttu-id="f9064-279">**WM \_ жетдлгкоде**</span><span class="sxs-lookup"><span data-stu-id="f9064-279">**WM\_GETDLGCODE**</span></span>](/windows/desktop/dlgbox/wm-getdlgcode)         | <span data-ttu-id="f9064-280">Возвращает ДЛГК \_ вантарровс \| длгк \_ вантчарс, указывающий, что процедура списка по умолчанию обрабатывает клавиши со стрелками и сообщения [**WM \_ char**](/windows/desktop/inputdev/wm-char) .</span><span class="sxs-lookup"><span data-stu-id="f9064-280">Returns DLGC\_WANTARROWS \| DLGC\_WANTCHARS, indicating that the default list box procedure processes the arrow keys and [**WM\_CHAR**](/windows/desktop/inputdev/wm-char) messages.</span></span>                                                                                                                                                                                                      |
| [<span data-ttu-id="f9064-281">**WM, \_ Шрифт**</span><span class="sxs-lookup"><span data-stu-id="f9064-281">**WM\_GETFONT**</span></span>](/windows/desktop/winmsg/wm-getfont)               | <span data-ttu-id="f9064-282">Возвращает маркер текущего шрифта для списка.</span><span class="sxs-lookup"><span data-stu-id="f9064-282">Returns a handle to the current font for the list box.</span></span>                                                                                                                                                                                                                                                                                                                   |
| [<span data-ttu-id="f9064-283">**WM \_ HSCROLL**</span><span class="sxs-lookup"><span data-stu-id="f9064-283">**WM\_HSCROLL**</span></span>](wm-hscroll.md)                  | <span data-ttu-id="f9064-284">Прокручивает список по горизонтали.</span><span class="sxs-lookup"><span data-stu-id="f9064-284">Scrolls the list box horizontally.</span></span>                                                                                                                                                                                                                                                                                                                                       |
| [<span data-ttu-id="f9064-285">**WM \_ KeyDown**</span><span class="sxs-lookup"><span data-stu-id="f9064-285">**WM\_KEYDOWN**</span></span>](/windows/desktop/inputdev/wm-keydown)             | <span data-ttu-id="f9064-286">Обрабатывает виртуальные ключи для прокрутки.</span><span class="sxs-lookup"><span data-stu-id="f9064-286">Processes virtual keys for scrolling.</span></span> <span data-ttu-id="f9064-287">Виртуальный ключ — это индекс элемента, к которому нужно переместить курсор.</span><span class="sxs-lookup"><span data-stu-id="f9064-287">The virtual key is the index of the item to move the caret to.</span></span> <span data-ttu-id="f9064-288">Выбор не изменяется.</span><span class="sxs-lookup"><span data-stu-id="f9064-288">The selection is not changed.</span></span>                                                                                                                                                                                                                                       |
| [<span data-ttu-id="f9064-289">**WM \_ киллфокус**</span><span class="sxs-lookup"><span data-stu-id="f9064-289">**WM\_KILLFOCUS**</span></span>](/windows/desktop/inputdev/wm-killfocus)         | <span data-ttu-id="f9064-290">Отключает курсор и уничтожает его.</span><span class="sxs-lookup"><span data-stu-id="f9064-290">Turns the caret off and destroys it.</span></span> <span data-ttu-id="f9064-291">Отправляет код уведомления [ЛБН \_ киллфокус](lbn-killfocus.md) владельцу списка.</span><span class="sxs-lookup"><span data-stu-id="f9064-291">Sends an [LBN\_KILLFOCUS](lbn-killfocus.md) notification code to the owner of the list box.</span></span>                                                                                                                                                                                                                                        |
| [<span data-ttu-id="f9064-292">**WM \_ лбуттондблклк**</span><span class="sxs-lookup"><span data-stu-id="f9064-292">**WM\_LBUTTONDBLCLK**</span></span>](/windows/desktop/inputdev/wm-lbuttondblclk) | <span data-ttu-id="f9064-293">Отслеживает мышь в клиентской области списка.</span><span class="sxs-lookup"><span data-stu-id="f9064-293">Tracks the mouse in the list box client area.</span></span> <span data-ttu-id="f9064-294">Это позволяет пользователю отменить выбор, если кнопка мыши выводится за пределы области окна списка.</span><span class="sxs-lookup"><span data-stu-id="f9064-294">This enables the user to cancel a selection if the mouse button is released outside the list box client area.</span></span>                                                                                                                                                                                                              |
| [<span data-ttu-id="f9064-295">**WM \_ лбуттондовн**</span><span class="sxs-lookup"><span data-stu-id="f9064-295">**WM\_LBUTTONDOWN**</span></span>](/windows/desktop/inputdev/wm-lbuttondown)     | <span data-ttu-id="f9064-296">Отслеживает мышь в клиентской области списка.</span><span class="sxs-lookup"><span data-stu-id="f9064-296">Tracks the mouse in the list box client area.</span></span> <span data-ttu-id="f9064-297">Это позволяет пользователю отменить выбор, если кнопка мыши выводится за пределы области окна списка.</span><span class="sxs-lookup"><span data-stu-id="f9064-297">This enables the user to cancel a selection if the mouse button is released outside the list box client area.</span></span>                                                                                                                                                                                                              |
| [<span data-ttu-id="f9064-298">**WM \_ лбуттонуп**</span><span class="sxs-lookup"><span data-stu-id="f9064-298">**WM\_LBUTTONUP**</span></span>](/windows/desktop/inputdev/wm-lbuttonup)         | <span data-ttu-id="f9064-299">Отслеживает мышь в клиентской области списка.</span><span class="sxs-lookup"><span data-stu-id="f9064-299">Tracks the mouse in the list box client area.</span></span> <span data-ttu-id="f9064-300">Это позволяет пользователю отменить выбор, если кнопка мыши выводится за пределы области окна списка.</span><span class="sxs-lookup"><span data-stu-id="f9064-300">This enables the user to cancel a selection if the mouse button is released outside the list box client area.</span></span>                                                                                                                                                                                                              |
| [<span data-ttu-id="f9064-301">**WM \_ MOUSEMOVE**</span><span class="sxs-lookup"><span data-stu-id="f9064-301">**WM\_MOUSEMOVE**</span></span>](/windows/desktop/inputdev/wm-mousemove)         | <span data-ttu-id="f9064-302">Отслеживает мышь в клиентской области списка.</span><span class="sxs-lookup"><span data-stu-id="f9064-302">Tracks the mouse in the list box client area.</span></span> <span data-ttu-id="f9064-303">Это позволяет пользователю отменить выбор, если кнопка мыши выводится за пределы области окна списка.</span><span class="sxs-lookup"><span data-stu-id="f9064-303">This enables the user to cancel a selection if the mouse button is released outside the list box client area.</span></span>                                                                                                                                                                                                              |
| [<span data-ttu-id="f9064-304">**WM \_ Paint**</span><span class="sxs-lookup"><span data-stu-id="f9064-304">**WM\_PAINT**</span></span>](/windows/desktop/gdi/wm-paint)                      | <span data-ttu-id="f9064-305">Выполняет операцию рисования в подклассе с помощью обработки списка в контексте устройства (DC).</span><span class="sxs-lookup"><span data-stu-id="f9064-305">Performs a subclassed paint operation by using the list box handle to the device context (DC).</span></span>                                                                                                                                                                                                                                                                           |
| [<span data-ttu-id="f9064-306">**WM \_ SETFOCUS**</span><span class="sxs-lookup"><span data-stu-id="f9064-306">**WM\_SETFOCUS**</span></span>](/windows/desktop/inputdev/wm-setfocus)           | <span data-ttu-id="f9064-307">Включает курсор и отправляет код уведомления [ЛБН \_ SETFOCUS](lbn-setfocus.md) владельцу списка.</span><span class="sxs-lookup"><span data-stu-id="f9064-307">Turns the caret on and sends an [LBN\_SETFOCUS](lbn-setfocus.md) notification code to the owner of the list box.</span></span>                                                                                                                                                                                                                                                        |
| [<span data-ttu-id="f9064-308">**WM \_ сетфонт**</span><span class="sxs-lookup"><span data-stu-id="f9064-308">**WM\_SETFONT**</span></span>](/windows/desktop/winmsg/wm-setfont)               | <span data-ttu-id="f9064-309">Задает новый шрифт для списка.</span><span class="sxs-lookup"><span data-stu-id="f9064-309">Sets a new font for the list box.</span></span>                                                                                                                                                                                                                                                                                                                                        |
| [<span data-ttu-id="f9064-310">**WM \_ сетредрав**</span><span class="sxs-lookup"><span data-stu-id="f9064-310">**WM\_SETREDRAW**</span></span>](/windows/desktop/gdi/wm-setredraw)              | <span data-ttu-id="f9064-311">Задает или очищает флаг перерисовки на основе значения *wParam*.</span><span class="sxs-lookup"><span data-stu-id="f9064-311">Sets or clears the redraw flag based on the value of *wParam*.</span></span>                                                                                                                                                                                                                                                                                                           |
| [<span data-ttu-id="f9064-312">**\_Размер WM**</span><span class="sxs-lookup"><span data-stu-id="f9064-312">**WM\_SIZE**</span></span>](/windows/desktop/winmsg/wm-size)                     | <span data-ttu-id="f9064-313">Изменяет размер окна списка до целого числа элементов.</span><span class="sxs-lookup"><span data-stu-id="f9064-313">Resizes the list box to an integral number of items.</span></span>                                                                                                                                                                                                                                                                                                                     |
| [<span data-ttu-id="f9064-314">**WM \_ VSCROLL**</span><span class="sxs-lookup"><span data-stu-id="f9064-314">**WM\_VSCROLL**</span></span>](wm-vscroll.md)                  | <span data-ttu-id="f9064-315">Прокручивает список по вертикали.</span><span class="sxs-lookup"><span data-stu-id="f9064-315">Scrolls the list box vertically.</span></span>                                                                                                                                                                                                                                                                                                                                         |



 

<span data-ttu-id="f9064-316">Предопределенная процедура окна списка передает все остальные сообщения в [**дефвиндовпрок**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) для обработки по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="f9064-316">The predefined list box procedure passes all other messages to [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) for default processing.</span></span>

## <a name="owner-drawn-list-boxes"></a><span data-ttu-id="f9064-317">Списки Owner-Drawn</span><span class="sxs-lookup"><span data-stu-id="f9064-317">Owner-Drawn List Boxes</span></span>

<span data-ttu-id="f9064-318">Приложение может создать список, *рисуемый владельцем* , чтобы принимать ответственность за рисование элементов списка.</span><span class="sxs-lookup"><span data-stu-id="f9064-318">An application can create an *owner-drawn* list box to take responsibility for painting list items.</span></span> <span data-ttu-id="f9064-319">Родительское окно или диалоговое окно списка, рисуемого владельцем (его *владелец*), получает сообщения [**WM \_ DRAWITEM**](wm-drawitem.md) , когда часть списка должна быть окрашена.</span><span class="sxs-lookup"><span data-stu-id="f9064-319">The parent window or dialog box of an owner-drawn list box (its *owner*) receives [**WM\_DRAWITEM**](wm-drawitem.md) messages when a portion of the list box needs to be painted.</span></span> <span data-ttu-id="f9064-320">Список, рисуемый владельцем, может выводить сведения, Кроме текстовых строк, а также в дополнение к ним.</span><span class="sxs-lookup"><span data-stu-id="f9064-320">An owner-drawn list box can list information other than, or in addition to, text strings.</span></span>

<span data-ttu-id="f9064-321">Владелец рисуемого владельцем списка должен обработать сообщение [**WM \_ DRAWITEM**](wm-drawitem.md) .</span><span class="sxs-lookup"><span data-stu-id="f9064-321">The owner of an owner-drawn list box must process the [**WM\_DRAWITEM**](wm-drawitem.md) message.</span></span> <span data-ttu-id="f9064-322">Это сообщение отправляется при необходимости перерисовки части списка.</span><span class="sxs-lookup"><span data-stu-id="f9064-322">This message is sent whenever a portion of the list box must be redrawn.</span></span> <span data-ttu-id="f9064-323">Владельцу может потребоваться обработка других сообщений в зависимости от стилей, заданных для списка.</span><span class="sxs-lookup"><span data-stu-id="f9064-323">The owner may need to process other messages, depending on the styles specified for the list box.</span></span>

<span data-ttu-id="f9064-324">Приложение может создать список, рисуемый владельцем, указав стиль [**фунта \_ Овнердравфиксед**](list-box-styles.md) или [**фунта \_ овнердраввариабле**](list-box-styles.md) .</span><span class="sxs-lookup"><span data-stu-id="f9064-324">An application can create an owner-drawn list box by specifying the [**LBS\_OWNERDRAWFIXED**](list-box-styles.md) or [**LBS\_OWNERDRAWVARIABLE**](list-box-styles.md) style.</span></span> <span data-ttu-id="f9064-325">Если все элементы списка в списке имеют одинаковую высоту, например строки или значки, приложение может использовать стиль **фунта \_ овнердравфиксед** .</span><span class="sxs-lookup"><span data-stu-id="f9064-325">If all list items in the list box are the same height, such as strings or icons, an application can use the **LBS\_OWNERDRAWFIXED** style.</span></span> <span data-ttu-id="f9064-326">Если элементы списка имеют переменную высоту (например, точечные рисунки разного размера), приложение может использовать стиль **фунта \_ овнердраввариабле** .</span><span class="sxs-lookup"><span data-stu-id="f9064-326">If list items are of varying height (for example, bitmaps of different size) an application can use the **LBS\_OWNERDRAWVARIABLE** style.</span></span>

<span data-ttu-id="f9064-327">Владелец рисуемого владельцем списка может обработать сообщение [**WM \_ меасуреитем**](wm-measureitem.md) , чтобы указать размеры элементов списка.</span><span class="sxs-lookup"><span data-stu-id="f9064-327">The owner of an owner-drawn list box can process a [**WM\_MEASUREITEM**](wm-measureitem.md) message to specify the dimensions of list items.</span></span> <span data-ttu-id="f9064-328">Если приложение создает список с помощью стиля [**фунта \_ овнердравфиксед**](list-box-styles.md) , система отправляет сообщение **WM \_ меасуреитем** только один раз.</span><span class="sxs-lookup"><span data-stu-id="f9064-328">If the application creates the list box by using the [**LBS\_OWNERDRAWFIXED**](list-box-styles.md) style, the system sends the **WM\_MEASUREITEM** message only once.</span></span> <span data-ttu-id="f9064-329">Измерения, заданные владельцем, используются для всех элементов списка.</span><span class="sxs-lookup"><span data-stu-id="f9064-329">The dimensions that are specified by the owner are used for all list items.</span></span> <span data-ttu-id="f9064-330">Если используется стиль [**фунта \_ овнердраввариабле**](list-box-styles.md) , система отправляет сообщение **WM \_ меасуреитем** для каждого элемента списка, добавленного в список.</span><span class="sxs-lookup"><span data-stu-id="f9064-330">If the [**LBS\_OWNERDRAWVARIABLE**](list-box-styles.md) style is used, the system sends a **WM\_MEASUREITEM** message for each list item that is added to the list box.</span></span> <span data-ttu-id="f9064-331">Владелец может определить или задать высоту элемента списка в любое время с помощью сообщений [**\_ GETITEMHEIGHT**](lb-getitemheight.md) и [**\_ сетитемхеигхт**](lb-setitemheight.md) балансировки нагрузки соответственно.</span><span class="sxs-lookup"><span data-stu-id="f9064-331">The owner can determine or set the height of a list item at any time by using the [**LB\_GETITEMHEIGHT**](lb-getitemheight.md) and [**LB\_SETITEMHEIGHT**](lb-setitemheight.md) messages, respectively.</span></span>

<span data-ttu-id="f9064-332">Если информация, отображаемая в списке, рисуемом владельцем, содержит текст, приложение может отследить текст для каждого элемента списка, указав стиль [**фунта \_ хасстрингс**](list-box-styles.md) .</span><span class="sxs-lookup"><span data-stu-id="f9064-332">If the information displayed in an owner-drawn list box includes text, an application can keep track of the text for each list item by specifying the [**LBS\_HASSTRINGS**](list-box-styles.md) style.</span></span> <span data-ttu-id="f9064-333">Списки с стилем [**\_ сортировки фунтов**](list-box-styles.md) сортируются по этому тексту.</span><span class="sxs-lookup"><span data-stu-id="f9064-333">List boxes with the [**LBS\_SORT**](list-box-styles.md) style are sorted based on this text.</span></span> <span data-ttu-id="f9064-334">Если список отсортирован, но не относится к стилю **фунта \_ хасстрингс** , владелец должен обработать сообщение [**WM \_ компареитем**](wm-compareitem.md) .</span><span class="sxs-lookup"><span data-stu-id="f9064-334">If a list box is sorted, but is not of the **LBS\_HASSTRINGS** style, the owner must process the [**WM\_COMPAREITEM**](wm-compareitem.md) message.</span></span>

<span data-ttu-id="f9064-335">В списке, рисуемом владельцем, владелец должен вести отслеживание элементов списка, содержащих информацию, отличную от текста или в дополнение к тексту.</span><span class="sxs-lookup"><span data-stu-id="f9064-335">In an owner-drawn list box, the owner must keep track of list items that contain information other than or in addition to text.</span></span> <span data-ttu-id="f9064-336">Один из удобных способов сделать это — сохранить данные об элементе в виде данных элемента с помощью сообщения [**\_ сетитемдата балансировки нагрузки**](lb-setitemdata.md) .</span><span class="sxs-lookup"><span data-stu-id="f9064-336">One convenient way to do this is to save the handle to the information as item data by using the [**LB\_SETITEMDATA**](lb-setitemdata.md) message.</span></span> <span data-ttu-id="f9064-337">Чтобы освободить объекты данных, связанные с элементами, в поле со списком владелец может обработать сообщение [**WM \_ DELETEITEM**](wm-deleteitem.md) .</span><span class="sxs-lookup"><span data-stu-id="f9064-337">To free data objects associated with items in a list box, the owner can process the [**WM\_DELETEITEM**](wm-deleteitem.md) message.</span></span>

<span data-ttu-id="f9064-338">Пример списка, рисуемого владельцем, см. [в разделе Создание списка Owner-Drawn](create-an-owner-drawn-list-box.md).</span><span class="sxs-lookup"><span data-stu-id="f9064-338">For an example of an owner-drawn list box, see [How to Create an Owner-Drawn List Box](create-an-owner-drawn-list-box.md).</span></span>

## <a name="drag-list-boxes"></a><span data-ttu-id="f9064-339">Перетаскивать списки</span><span class="sxs-lookup"><span data-stu-id="f9064-339">Drag List Boxes</span></span>

<span data-ttu-id="f9064-340">Поле списка перетаскивания представляет собой особый тип списка, который позволяет пользователю перетаскивать элементы из одной позиции в другую.</span><span class="sxs-lookup"><span data-stu-id="f9064-340">A drag list box is a special type of list box that enables the user to drag items from one position to another.</span></span> <span data-ttu-id="f9064-341">Приложение может использовать список перетаскивания для вывода строк в определенной последовательности и предоставления пользователю возможности изменения последовательности путем перетаскивания элементов в нужное расположение.</span><span class="sxs-lookup"><span data-stu-id="f9064-341">An application can use a drag list box to display strings in a particular sequence and enable the user to change the sequence by dragging the items into position.</span></span>

### <a name="creating-drag-list-boxes"></a><span data-ttu-id="f9064-342">Создание списков перетаскивания</span><span class="sxs-lookup"><span data-stu-id="f9064-342">Creating Drag List Boxes</span></span>

<span data-ttu-id="f9064-343">Перетаскивая списки имеют одинаковые стили окна и обрабатывают те же сообщения, что и стандартные списки.</span><span class="sxs-lookup"><span data-stu-id="f9064-343">Drag list boxes have the same window styles and process the same messages as standard list boxes.</span></span> <span data-ttu-id="f9064-344">Чтобы создать список перетаскивания, сначала создайте стандартный список, а затем вызовите функцию [**македраглист**](/windows/desktop/api/Commctrl/nf-commctrl-makedraglist) .</span><span class="sxs-lookup"><span data-stu-id="f9064-344">To create a drag list box, first create a standard list box and then call the [**MakeDragList**](/windows/desktop/api/Commctrl/nf-commctrl-makedraglist) function.</span></span> <span data-ttu-id="f9064-345">Чтобы преобразовать список в диалоговом окне в поле списка перетаскивания, можно вызвать **македраглист** при \_ обработке сообщения WM инитдиалог.</span><span class="sxs-lookup"><span data-stu-id="f9064-345">To convert a list box in a dialog box to a drag list box, you can call **MakeDragList** when the WM\_INITDIALOG message is processed.</span></span>

### <a name="drag-list-box-messages"></a><span data-ttu-id="f9064-346">Перетаскивать сообщения из списка</span><span class="sxs-lookup"><span data-stu-id="f9064-346">Drag List Box Messages</span></span>

<span data-ttu-id="f9064-347">Поле со списком перетаскивания уведомляет родительское окно о событиях перетаскивания, отправив ему сообщение со списком перетаскивания.</span><span class="sxs-lookup"><span data-stu-id="f9064-347">A drag list box notifies the parent window of drag events by sending it a drag list message.</span></span> <span data-ttu-id="f9064-348">Родительское окно должно обработать сообщение перетаскивания списка.</span><span class="sxs-lookup"><span data-stu-id="f9064-348">The parent window must process the drag list message.</span></span>

<span data-ttu-id="f9064-349">Поле со списком перетаскивания регистрирует это сообщение при вызове функции [**македраглист**](/windows/desktop/api/Commctrl/nf-commctrl-makedraglist) .</span><span class="sxs-lookup"><span data-stu-id="f9064-349">The drag list box registers this message when the [**MakeDragList**](/windows/desktop/api/Commctrl/nf-commctrl-makedraglist) function is called.</span></span> <span data-ttu-id="f9064-350">Чтобы получить идентификатор сообщения (числовое значение) сообщения о перетаскивании, вызовите функцию [**регистервиндовмессаже**](/windows/desktop/api/winuser/nf-winuser-registerwindowmessagea) и укажите значение драглистмсгстринг.</span><span class="sxs-lookup"><span data-stu-id="f9064-350">To retrieve the message identifier (numeric value) of the drag list message, call the [**RegisterWindowMessage**](/windows/desktop/api/winuser/nf-winuser-registerwindowmessagea) function and specify the DRAGLISTMSGSTRING value.</span></span>

<span data-ttu-id="f9064-351">Параметр *wParam* сообщения, перетащив список, является идентификатором элемента управления для поля со списком перетаскивания.</span><span class="sxs-lookup"><span data-stu-id="f9064-351">The *wParam* parameter of the drag list message is the control identifier for the drag list box.</span></span> <span data-ttu-id="f9064-352">Параметр *lParam* является адресом структуры [**драглистинфо**](/windows/win32/api/commctrl/ns-commctrl-draglistinfo) , которая содержит код уведомления для события перетаскивания и другие сведения.</span><span class="sxs-lookup"><span data-stu-id="f9064-352">The *lParam* parameter is the address of a [**DRAGLISTINFO**](/windows/win32/api/commctrl/ns-commctrl-draglistinfo) structure, which contains the notification code for the drag event and other information.</span></span> <span data-ttu-id="f9064-353">Возвращаемое значение сообщения зависит от уведомления.</span><span class="sxs-lookup"><span data-stu-id="f9064-353">The return value of the message depends on the notification.</span></span>

### <a name="drag-list-box-notification-codes"></a><span data-ttu-id="f9064-354">Перетаскивать коды уведомлений списка</span><span class="sxs-lookup"><span data-stu-id="f9064-354">Drag List Box Notification Codes</span></span>

<span data-ttu-id="f9064-355">Код уведомления списка перетаскивания, определяемый элементом **унотификатион** структуры [**драглистинфо**](/windows/win32/api/commctrl/ns-commctrl-draglistinfo) , включенным в сообщение перетаскивания списка, может быть списком [рассылки \_ бегиндраг](dl-begindrag.md), [ \_ перетащив DL](dl-dragging.md), [DL \_ канцелдраг](dl-canceldrag.md)или [DL \_](dl-dropped.md).</span><span class="sxs-lookup"><span data-stu-id="f9064-355">The drag list notification code, which is identified by the **uNotification** member of the [**DRAGLISTINFO**](/windows/win32/api/commctrl/ns-commctrl-draglistinfo) structure included with the drag list message, can be [DL\_BEGINDRAG](dl-begindrag.md), [DL\_DRAGGING](dl-dragging.md), [DL\_CANCELDRAG](dl-canceldrag.md), or [DL\_DROPPED](dl-dropped.md).</span></span>

<span data-ttu-id="f9064-356">Код [уведомления \_ бегиндраг DL](dl-begindrag.md) отправляется, когда курсор находится на элементе списка и пользователь нажимает левую кнопку мыши.</span><span class="sxs-lookup"><span data-stu-id="f9064-356">The [DL\_BEGINDRAG](dl-begindrag.md) notification code is sent when the cursor is on a list item and the user clicks the left mouse button.</span></span> <span data-ttu-id="f9064-357">Родительское окно может возвращать **значение true** , чтобы начать операцию перетаскивания, или **значение false** , чтобы запретить перетаскивание.</span><span class="sxs-lookup"><span data-stu-id="f9064-357">The parent window can return **TRUE** to begin the drag operation or **FALSE** to disallow dragging.</span></span> <span data-ttu-id="f9064-358">Таким образом, родительское окно может включить перетаскивание для некоторых элементов списка и отключить его для других.</span><span class="sxs-lookup"><span data-stu-id="f9064-358">In this way, the parent window can enable dragging for some list items and disable it for others.</span></span> <span data-ttu-id="f9064-359">Определить, какой элемент списка находится в указанном расположении, можно с помощью функции [**лбитемфромпт**](/windows/desktop/api/Commctrl/nf-commctrl-lbitemfrompt) .</span><span class="sxs-lookup"><span data-stu-id="f9064-359">You can determine which list item is at the specified location by using the [**LBItemFromPt**](/windows/desktop/api/Commctrl/nf-commctrl-lbitemfrompt) function.</span></span>

<span data-ttu-id="f9064-360">Если [выполняется перетаскивание, код уведомления при \_ ](dl-dragging.md) перемещении мыши отсылается при нажатии мышью или через равные промежутки времени, если мышь не перемещается.</span><span class="sxs-lookup"><span data-stu-id="f9064-360">If dragging is in effect, the [DL\_DRAGGING](dl-dragging.md) notification code is sent whenever the mouse is moved, or at regular intervals if the mouse is not being moved.</span></span> <span data-ttu-id="f9064-361">Родительское окно должно сначала определить элемент списка в курсоре с помощью [**лбитемфромпт**](/windows/desktop/api/Commctrl/nf-commctrl-lbitemfrompt) , а затем нарисовать значок вставки с помощью функции [**дравинсерт**](/windows/desktop/api/Commctrl/nf-commctrl-drawinsert) .</span><span class="sxs-lookup"><span data-stu-id="f9064-361">The parent window should first determine the list item under the cursor by using [**LBItemFromPt**](/windows/desktop/api/Commctrl/nf-commctrl-lbitemfrompt) and then draw the insert icon by using the [**DrawInsert**](/windows/desktop/api/Commctrl/nf-commctrl-drawinsert) function.</span></span> <span data-ttu-id="f9064-362">Если указать **значение true** для параметра *баутоскролл* в **лбитемфромпт**, то окно списка можно прокручивать по одной строке, если курсор находится выше или ниже области клиента.</span><span class="sxs-lookup"><span data-stu-id="f9064-362">By specifying **TRUE** for the *bAutoScroll* parameter of **LBItemFromPt**, you can cause the list box to scroll by one line if the cursor is above or below its client area.</span></span> <span data-ttu-id="f9064-363">Значение, возвращаемое для этого уведомления, указывает тип курсора мыши, который должен быть установлен в поле со списком перетаскивания.</span><span class="sxs-lookup"><span data-stu-id="f9064-363">The value you return for this notification specifies the type of mouse cursor that the drag list box should set.</span></span>

<span data-ttu-id="f9064-364">Код [уведомления \_ канцелдраг DL](dl-canceldrag.md) отправляется, если пользователь отменяет операцию перетаскивания щелчком правой кнопки мыши или нажатием клавиши ESC.</span><span class="sxs-lookup"><span data-stu-id="f9064-364">The [DL\_CANCELDRAG](dl-canceldrag.md) notification code is sent if the user cancels a drag operation by clicking the right mouse button or pressing the ESC key.</span></span> <span data-ttu-id="f9064-365">Если пользователь завершает операцию перетаскивания, выпуская левую кнопку мыши, даже если курсор не находится над элементом списка, отправляется код уведомления [DL \_ ](dl-dropped.md) .</span><span class="sxs-lookup"><span data-stu-id="f9064-365">The [DL\_DROPPED](dl-dropped.md) notification code is sent if the user completes a drag operation by releasing the left mouse button, even if the cursor is not over a list item.</span></span> <span data-ttu-id="f9064-366">Перед отправкой уведомления в поле со списком перетаскивания снимается захват мыши.</span><span class="sxs-lookup"><span data-stu-id="f9064-366">The drag list box releases the mouse capture before sending either notification.</span></span> <span data-ttu-id="f9064-367">Возвращаемое значение этих двух уведомлений игнорируется.</span><span class="sxs-lookup"><span data-stu-id="f9064-367">The return value of these two notifications is ignored.</span></span> <span data-ttu-id="f9064-368">Перетащить список</span><span class="sxs-lookup"><span data-stu-id="f9064-368">Drag List</span></span>

 

