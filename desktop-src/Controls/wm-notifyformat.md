---
title: Сообщение WM_NOTIFYFORMAT (Winuser. h)
description: Определяет, принимает ли окно структуры ANSI или Unicode в \_ сообщении уведомления WM notify. \_Сообщения WM нотифиформат отправляются из общего элемента управления в родительское окно и из родительского окна в общий элемент управления.
ms.assetid: 45ddef45-3300-448d-b609-5fe931b08336
keywords:
- Элементы управления Windows для WM_NOTIFYFORMAT сообщений
topic_type:
- apiref
api_name:
- WM_NOTIFYFORMAT
api_location:
- Winuser.h
api_type:
- HeaderDef
ms.topic: reference
ms.date: 05/31/2018
ms.openlocfilehash: 57e9c7d74b21d0f5785273d1b60d612a346f2d85
ms.sourcegitcommit: a1494c819bc5200050696e66057f1020f5b142cb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/12/2020
ms.locfileid: "103988897"
---
# <a name="wm_notifyformat-message"></a>\_Сообщение НОТИФИФОРМАТ WM

Определяет, принимает ли окно структуры ANSI или Unicode в сообщении уведомления [**WM \_ Notify**](wm-notify.md) . **WM \_ Сообщения НОТИФИФОРМАТ** отправляются из общего элемента управления в его родительское окно и из родительского окна в общий элемент управления.

## <a name="parameters"></a>Параметры

<dl> <dt>

*wParam* 
</dt> <dd>

Маркер окна, отправляющего сообщение **WM \_ нотифиформат** . Если аргумент *lParam* имеет значение NF \_ Query, этот параметр является маркером элемента управления. Если аргумент *lParam* имеет значение NF \_ Requery, этот параметр является маркером родительского окна элемента управления.

</dd> <dt>

*lParam* 
</dt> <dd>

Значение команды, указывающее природу сообщения **WM \_ нотифиформат** . Это может быть одно из следующих значений:



| Значение                                                                                                                                                | Значение                                                                                                                                                                                                                                                                                                                                                                                    |
|------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span id="NF_QUERY"></span><span id="nf_query"></span><dl> <dt>**\_запрос NF**</dt> </dl>       | Сообщение — это запрос, позволяющий определить, следует ли использовать структуры ANSI или Unicode в сообщениях [**\_ уведомления WM**](wm-notify.md) . Эта команда отправляется из элемента управления в родительское окно во время создания элемента управления и в ответ на \_ команду NF Requery.<br/>                                                                                                         |
| <span id="NF_REQUERY"></span><span id="nf_requery"></span><dl> <dt>**NF \_ Requery**</dt> </dl> | Сообщение является запросом элемента управления на отправку \_ формы запроса NF этого сообщения родительскому окну. Эта команда отправляется из родительского окна. Родительское окно запрашивает у элемента управления, чтобы запросить тип структур для использования в сообщениях [**\_ уведомления WM**](wm-notify.md) . Если параметр *lParam* — NF \_ Requery, возвращаемое значение является результатом операции Requery.<br/> |



 

</dd> </dl>

## <a name="return-value"></a>Возвращаемое значение

Возвращает одно из следующих значений.



| Код возврата                                                                                 | Описание                                                                                                    |
|---------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------|
| <dl> <dt>**NFR \_ ANSI**</dt> </dl>    | Структуры ANSI следует использовать в сообщениях [**WM \_ Notify**](wm-notify.md) , отправленных элементом управления.<br/>     |
| <dl> <dt>**NFR \_ Юникод**</dt> </dl> | Структуры Юникода следует использовать в сообщениях [**WM \_ Notify**](wm-notify.md) , отправленных элементом управления. <br/> |
| <dl> <dt>**0**</dt> </dl>            | Произошла ошибка.<br/>                                                                                  |



 

## <a name="remarks"></a>Комментарии

При создании общего элемента управления элемент управления отправляет сообщение **WM \_ нотифиформат** в свое родительское окно, чтобы определить тип структур, используемых в сообщениях [**\_ уведомления WM**](wm-notify.md) . Если родительское окно не обрабатывает это сообщение, функция [**дефвиндовпрок**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) реагирует в соответствии с типом родительского окна. То есть, если родительское окно является окном Юникода, **дефвиндовпрок** ВОЗВРАЩАЕТ значение NFR \_ Unicode, а если родительское окно является окном ANSI, **дефвиндовпрок** возвращает значение NFR \_ ANSI. Если родительское окно является диалоговым и не обрабатывает это сообщение, функция [**дефдлгпрок**](/windows/desktop/api/winuser/nf-winuser-defdlgprocw) будет реагировать в соответствии с типом диалогового окна (Юникод или ANSI).

Родительское окно может изменить тип структур, используемых стандартным элементом управления в сообщениях [**WM \_ Notify**](wm-notify.md) , установив параметр *lParam* в NF \_ Requery и отправив сообщение **WM \_ нотифиформат** в элемент управления. Это приводит к тому, что элемент управления отправляет \_ форму запроса NF формы **WM \_ нотифиформат** в родительское окно.

Все стандартные элементы управления отправляют сообщения **WM \_ нотифиформат** . Однако стандартные элементы управления Windows (элементы управления "поле ввода", поля со списком, списки, кнопки, полосы прокрутки и статические элементы управления) не имеют.

## <a name="requirements"></a>Требования



| Требование | Значение |
|-------------------------------------|--------------------------------------------------------------------------------------|
| Минимальная версия клиента<br/> | Только для \[ классических приложений Windows Vista\]<br/>                                       |
| Минимальная версия сервера<br/> | \[Только для настольных приложений Windows Server 2003\]<br/>                                 |
| Header<br/>                   | <dl> <dt>Winuser. h</dt> </dl> |



 

