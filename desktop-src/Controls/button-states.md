---
title: Состояния кнопок
description: В этом разделе описывается, как при выборе кнопки изменяется состояние и как приложение должно отвечать.
ms.assetid: 7302f0f3-f29d-43d7-8e25-4f36d5ef6a86
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 96865191ac64b14dd35ff1d22631c6bf11763aff
ms.sourcegitcommit: 5f33645661bf8c825a7a2e73950b1f4ea0f1cd82
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/21/2020
ms.locfileid: "104488385"
---
# <a name="button-states"></a><span data-ttu-id="62806-103">Состояния кнопок</span><span class="sxs-lookup"><span data-stu-id="62806-103">Button States</span></span>

<span data-ttu-id="62806-104">В этом разделе описывается, как при выборе кнопки изменяется состояние и как приложение должно отвечать.</span><span class="sxs-lookup"><span data-stu-id="62806-104">This section discusses how selecting a button changes its state and how the application should respond.</span></span>

<span data-ttu-id="62806-105">Раздел состоит из следующих разделов:</span><span class="sxs-lookup"><span data-stu-id="62806-105">The section consists of the following topics:</span></span>

-   [<span data-ttu-id="62806-106">Выбор кнопки</span><span class="sxs-lookup"><span data-stu-id="62806-106">Button Selection</span></span>](#button-selection)
-   [<span data-ttu-id="62806-107">Элементы состояния кнопки</span><span class="sxs-lookup"><span data-stu-id="62806-107">Elements of a Button State</span></span>](#elements-of-a-button-state)
    -   [<span data-ttu-id="62806-108">Состояние фокусировки</span><span class="sxs-lookup"><span data-stu-id="62806-108">Focus State</span></span>](#focus-state)
    -   [<span data-ttu-id="62806-109">Состояние отправки</span><span class="sxs-lookup"><span data-stu-id="62806-109">Push State</span></span>](#push-state)
    -   [<span data-ttu-id="62806-110">Состояние проверки</span><span class="sxs-lookup"><span data-stu-id="62806-110">Check State</span></span>](#check-state)
-   [<span data-ttu-id="62806-111">Изменения состояния кнопки</span><span class="sxs-lookup"><span data-stu-id="62806-111">Changes to a Button State</span></span>](#changes-to-a-button-state)

## <a name="button-selection"></a><span data-ttu-id="62806-112">Выбор кнопки</span><span class="sxs-lookup"><span data-stu-id="62806-112">Button Selection</span></span>

<span data-ttu-id="62806-113">Пользователь может выбрать кнопку тремя способами: щелкнув ее с помощью мыши, перейдя к ней, нажав клавишу ВВОД или (если кнопка входит в группу, определяемую стилем [**\_ группы WS**](/windows/desktop/winmsg/window-styles) ), переходя к выбранной кнопке в группе и используя клавиши со стрелками для перемещения в этой группе.</span><span class="sxs-lookup"><span data-stu-id="62806-113">The user can select a button in three ways: by clicking it with the mouse, by tabbing to it and then pressing the ENTER key, or (if the button is part of a group defined by the [**WS\_GROUP**](/windows/desktop/winmsg/window-styles) style) by tabbing to the selected button in the group and using the arrow keys to move within that group.</span></span> <span data-ttu-id="62806-114">Два метода перехода являются частью стандартного интерфейса клавиатуры, предоставляемого системой.</span><span class="sxs-lookup"><span data-stu-id="62806-114">The two tabbing methods are part of the predefined keyboard interface provided by the system.</span></span> <span data-ttu-id="62806-115">Полное описание этого интерфейса см. в разделе [диалоговые окна](/windows/desktop/dlgbox/dialog-boxes).</span><span class="sxs-lookup"><span data-stu-id="62806-115">For a complete description of this interface, see [Dialog Boxes](/windows/desktop/dlgbox/dialog-boxes).</span></span>

<span data-ttu-id="62806-116">При выборе кнопки обычно выводятся следующие события:</span><span class="sxs-lookup"><span data-stu-id="62806-116">Selecting a button typically causes the following events:</span></span>

-   <span data-ttu-id="62806-117">Система придает кнопке фокус клавиатуры.</span><span class="sxs-lookup"><span data-stu-id="62806-117">The system gives the button the keyboard focus.</span></span>
-   <span data-ttu-id="62806-118">Кнопка отправляет родительскому окну сообщение, чтобы уведомить его о выделении.</span><span class="sxs-lookup"><span data-stu-id="62806-118">The button sends its parent window a message to notify it of the selection.</span></span>
-   <span data-ttu-id="62806-119">Родительское окно (или система) отправляет кнопке сообщение, чтобы изменить его состояние.</span><span class="sxs-lookup"><span data-stu-id="62806-119">The parent window (or the system) sends the button a message to change its state.</span></span>
-   <span data-ttu-id="62806-120">Родительское окно (или система) перерисовывает кнопку, чтобы отразить ее новое состояние.</span><span class="sxs-lookup"><span data-stu-id="62806-120">The parent window (or the system) repaints the button to reflect its new state.</span></span>

## <a name="elements-of-a-button-state"></a><span data-ttu-id="62806-121">Элементы состояния кнопки</span><span class="sxs-lookup"><span data-stu-id="62806-121">Elements of a Button State</span></span>

<span data-ttu-id="62806-122">Состояние кнопки может быть характеризуется состоянием фокуса, состоянием отправки и состоянием проверки.</span><span class="sxs-lookup"><span data-stu-id="62806-122">A button's state can be characterized by its focus state, push state, and check state.</span></span>

-   [<span data-ttu-id="62806-123">Состояние фокусировки</span><span class="sxs-lookup"><span data-stu-id="62806-123">Focus State</span></span>](#focus-state)
-   [<span data-ttu-id="62806-124">Состояние отправки</span><span class="sxs-lookup"><span data-stu-id="62806-124">Push State</span></span>](#push-state)
-   [<span data-ttu-id="62806-125">Состояние проверки</span><span class="sxs-lookup"><span data-stu-id="62806-125">Check State</span></span>](#check-state)

### <a name="focus-state"></a><span data-ttu-id="62806-126">Состояние фокусировки</span><span class="sxs-lookup"><span data-stu-id="62806-126">Focus State</span></span>

<span data-ttu-id="62806-127">Состояние фокуса применяется к флажку, переключателю, кнопке или рисуемой владельцем кнопке.</span><span class="sxs-lookup"><span data-stu-id="62806-127">The focus state applies to a check box, radio button, push button, or owner-drawn button.</span></span> <span data-ttu-id="62806-128">Кнопка получает фокус клавиатуры, когда пользователь выбирает его и теряет фокус, когда пользователь выбирает другой элемент управления.</span><span class="sxs-lookup"><span data-stu-id="62806-128">A button receives the keyboard focus when the user selects it and loses the focus when the user selects another control.</span></span> <span data-ttu-id="62806-129">Только один элемент управления может одновременно иметь фокус клавиатуры.</span><span class="sxs-lookup"><span data-stu-id="62806-129">Only one control can have the keyboard focus at a time.</span></span>

<span data-ttu-id="62806-130">Когда кнопка имеет фокус клавиатуры, система обычно выделяет текст, значок или растровое изображение кнопки, поключив ее в пунктирную линию.</span><span class="sxs-lookup"><span data-stu-id="62806-130">When a button has the keyboard focus, the system typically highlights the text, icon, or bitmap of a button by surrounding it with a dotted line.</span></span> <span data-ttu-id="62806-131">Кроме того, при фокусе кнопка кнопки имеет жирную темную границу.</span><span class="sxs-lookup"><span data-stu-id="62806-131">In addition, a push button has a heavy dark border when it has the focus.</span></span> <span data-ttu-id="62806-132">Система автоматически изменяет выделение для автоматической кнопки, но приложение должно изменить выделение для неавтоматической кнопки, отправив сообщения.</span><span class="sxs-lookup"><span data-stu-id="62806-132">The system automatically changes the highlight for an automatic button, but the application must change the highlight for a non-automatic button by sending messages.</span></span>

### <a name="push-state"></a><span data-ttu-id="62806-133">Состояние отправки</span><span class="sxs-lookup"><span data-stu-id="62806-133">Push State</span></span>

<span data-ttu-id="62806-134">Состояние Push применяется к кнопке отправки, флажку, переключателю или по три состояния, но не к другим кнопкам.</span><span class="sxs-lookup"><span data-stu-id="62806-134">The push state applies to a push button, check box, radio button, or three-state check box, but does not apply to other buttons.</span></span> <span data-ttu-id="62806-135">Состояние отправки кнопки может быть либо отправлено, либо не отправлено.</span><span class="sxs-lookup"><span data-stu-id="62806-135">The push state of a button can be either pushed or not pushed.</span></span> <span data-ttu-id="62806-136">При нажатии кнопки «Отправить» (или любой кнопки с [**\_ пушлике**](button-styles.md) стилем «BS») кнопка рисуется как утопленная кнопка.</span><span class="sxs-lookup"><span data-stu-id="62806-136">When a push button (or any button with the [**BS\_PUSHLIKE**](button-styles.md) style) is pushed, the button is drawn as a sunken button.</span></span> <span data-ttu-id="62806-137">Если он не отправлен, он рисуется как вызванная кнопка.</span><span class="sxs-lookup"><span data-stu-id="62806-137">When it is not pushed, it is drawn as a raised button.</span></span> <span data-ttu-id="62806-138">При нажатии флажка, переключателя или флажка с тремя состояниями фон кнопки становится серым.</span><span class="sxs-lookup"><span data-stu-id="62806-138">When a check box, radio button, or three-state check box is clicked, the background of the button is grayed.</span></span> <span data-ttu-id="62806-139">Если он не отправлен, фон кнопки не отображается серым цветом.</span><span class="sxs-lookup"><span data-stu-id="62806-139">When it is not pushed, the background of the button is not grayed.</span></span>

### <a name="check-state"></a><span data-ttu-id="62806-140">Состояние проверки</span><span class="sxs-lookup"><span data-stu-id="62806-140">Check State</span></span>

<span data-ttu-id="62806-141">Состояние Check применяется к флажку, переключателю или по трем состояниям, но не применяется к другим кнопкам.</span><span class="sxs-lookup"><span data-stu-id="62806-141">The check state applies to a check box, radio button, or three-state check box, but does not apply to other buttons.</span></span> <span data-ttu-id="62806-142">Состояние может быть отмечено, снято или (для флажков с тремя состояниями) неопределенным.</span><span class="sxs-lookup"><span data-stu-id="62806-142">The state can be checked, cleared, or (for three-state check boxes) indeterminate.</span></span> <span data-ttu-id="62806-143">Флажок проверяется, если он содержит галочку, и удаляется, если нет.</span><span class="sxs-lookup"><span data-stu-id="62806-143">A check box is checked when it contains a check mark, and is cleared when it does not.</span></span> <span data-ttu-id="62806-144">Переключатель проверяется, если он содержит черную точку; он удаляется, если это не так.</span><span class="sxs-lookup"><span data-stu-id="62806-144">A radio button is checked when it contains a black dot; it is cleared when it does not.</span></span> <span data-ttu-id="62806-145">Флажок с тремя состояниями проверяется, если он содержит галочку, удаляется, если он отсутствует, и является неопределенным, если содержит серый прямоугольник.</span><span class="sxs-lookup"><span data-stu-id="62806-145">A three-state check box is checked when it contains a check mark, is cleared when it does not, and is indeterminate when it contains a grayed box.</span></span> <span data-ttu-id="62806-146">Система автоматически изменяет состояние проверки автоматической кнопки, но приложение должно изменить состояние проверки неавтоматической кнопки.</span><span class="sxs-lookup"><span data-stu-id="62806-146">The system automatically changes the check state of an automatic button, but the application must change the check state of a non-automatic button.</span></span>

## <a name="changes-to-a-button-state"></a><span data-ttu-id="62806-147">Изменения состояния кнопки</span><span class="sxs-lookup"><span data-stu-id="62806-147">Changes to a Button State</span></span>

<span data-ttu-id="62806-148">Когда пользователь выбирает кнопку, обычно требуется изменить один или несколько элементов состояния кнопки.</span><span class="sxs-lookup"><span data-stu-id="62806-148">When the user selects a button, it is generally necessary to change one or more of the button's state elements.</span></span> <span data-ttu-id="62806-149">Система автоматически изменяет состояние фокуса для всех типов кнопок, состояние принудительной отправки для кнопок или кнопок с помощью стиля [**BS \_ пушлике**](button-styles.md) и состояние проверки для всех автоматических кнопок.</span><span class="sxs-lookup"><span data-stu-id="62806-149">The system automatically changes the focus state for all button types, the push state for push buttons or buttons with the [**BS\_PUSHLIKE**](button-styles.md) style, and the check state for all automatic buttons.</span></span> <span data-ttu-id="62806-150">Приложение должно выполнять все остальные изменения состояния, принимая во внимание тип кнопки, стиль и текущее состояние.</span><span class="sxs-lookup"><span data-stu-id="62806-150">The application must make all other state changes, taking into account the button's type, style, and current state.</span></span> <span data-ttu-id="62806-151">В следующем списке показаны элементы состояния, которые необходимо изменить для каждого типа кнопки:</span><span class="sxs-lookup"><span data-stu-id="62806-151">The following list shows the state elements that must be changed for each button type:</span></span>

-   <span data-ttu-id="62806-152">Флажок должен изменить состояние проверки.</span><span class="sxs-lookup"><span data-stu-id="62806-152">A check box must change the check state.</span></span>
-   <span data-ttu-id="62806-153">Переключатель должен изменить состояние проверки.</span><span class="sxs-lookup"><span data-stu-id="62806-153">A radio button must change the check state.</span></span> <span data-ttu-id="62806-154">Также может потребоваться изменить состояние проверки других переключателей в той же группе, чтобы обеспечить взаимоисключающую природу переключателей.</span><span class="sxs-lookup"><span data-stu-id="62806-154">It may also be necessary to change the check state of other radio buttons in the same group to ensure the mutually exclusive nature of radio buttons.</span></span>
-   <span data-ttu-id="62806-155">Так как состояние кнопки, рисуемой владельцем, зависит от приложения, то, какое приложение должно измениться в кнопке, может быть различным.</span><span class="sxs-lookup"><span data-stu-id="62806-155">Because the state of an owner-drawn button is application dependent, what the application must change in the button can vary.</span></span> <span data-ttu-id="62806-156">Элементы группы не должны изменяться, так как пользователи не могут выбрать поля группы.</span><span class="sxs-lookup"><span data-stu-id="62806-156">No elements of a group box must be changed, because users cannot select group boxes.</span></span>

<span data-ttu-id="62806-157">Приложение может определить состояние кнопки, отправив ей сообщение BM- [**\_ Check**](bm-getcheck.md) или BM- [**\_ State**](bm-getstate.md) ; приложение может установить состояние кнопки, отправив ему сообщение [**BM \_ сетчекк**](bm-setcheck.md) или [**BM \_ SETSTATE**](bm-setstate.md) .</span><span class="sxs-lookup"><span data-stu-id="62806-157">An application can determine a button's state by sending it a [**BM\_GETCHECK**](bm-getcheck.md) or [**BM\_GETSTATE**](bm-getstate.md) message; the application can set a button's state by sending it a [**BM\_SETCHECK**](bm-setcheck.md) or [**BM\_SETSTATE**](bm-setstate.md) message.</span></span>

 

 