---
title: Сообщение EM_STREAMOUT (RichEdit. h)
description: Заставляет форматированный элемент управления "поле ввода" передавать свое содержимое в приложение \ 8211; определенная функция обратного вызова Едитстреамкаллбакк. Затем функция обратного вызова может записать поток данных в файл или в любое другое выбранное расположение.
ms.assetid: 3f14aaac-4b17-47af-8f2b-503390631a88
keywords:
- Элементы управления Windows для EM_STREAMOUT сообщений
topic_type:
- apiref
api_name:
- EM_STREAMOUT
api_location:
- Richedit.h
api_type:
- HeaderDef
ms.topic: reference
ms.date: 05/31/2018
ms.openlocfilehash: 5cbdef51348593f8dbcfdb1ef579aca7dba6f96e
ms.sourcegitcommit: a1494c819bc5200050696e66057f1020f5b142cb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/12/2020
ms.locfileid: "103988696"
---
# <a name="em_streamout-message"></a>\_Сообщение о потоке EM

Заставляет форматируемый элемент управления "поле ввода" передавать его содержимое в определенную приложением функцию обратного вызова [*едитстреамкаллбакк*](/windows/desktop/api/Richedit/nc-richedit-editstreamcallback) . Затем функция обратного вызова может записать поток данных в файл или в любое другое выбранное расположение.

## <a name="parameters"></a>Параметры

<dl> <dt>

*wParam* 
</dt> <dd>

Задает формат данных и параметры замены.

Это значение должно иметь одно из следующих значений.



| Значение                                                                                                                                                      | Значение                                                    |
|------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------|
| <span id="SF_RTF"></span><span id="sf_rtf"></span><dl> <dt>**SF \_ RTF**</dt> </dl>                   | RTF.<br/>                                            |
| <span id="SF_RTFNOOBJS"></span><span id="sf_rtfnoobjs"></span><dl> <dt>**SF \_ ртфнубжс**</dt> </dl> | RTF с пробелами вместо COM-объектов.<br/>        |
| <span id="SF_TEXT"></span><span id="sf_text"></span><dl> <dt>**\_текст**</dt> </dl>                | Текст с пробелами вместо COM-объектов.<br/>       |
| <span id="SF_TEXTIZED"></span><span id="sf_textized"></span><dl> <dt>**с \_ текстом**</dt> </dl>    | Текст с текстовым представлением COM-объектов.<br/> |



 

Параметр **SF \_ ртфнубжс** полезен, если приложение хранит сами COM-объекты, так как представление RTF COM-объектов не очень компактно. Управляющее слово, \\ обжаттф, за которым следует пробел, означает расположение объекта.

Кроме того, можно указать следующие флаги.



| Значение                                                                                                                                                            | Значение                                                                                                                                                                                                                                                                                |
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span id="SFF_PLAINRTF"></span><span id="sff_plainrtf"></span><dl> <dt>**СФФ \_ плаинртф**</dt> </dl>       | Если этот параметр задан, элемент управления Rich Edit обрабатывает только ключевые слова, общие для всех языков, игнорируя ключевые слова, зависящие от языка. Если этот параметр не указан, элемент управления Rich Edit пересылает все ключевые слова. Этот флаг можно сочетать с флагом **SF \_ RTF** или **SF \_ ртфнубжс** .<br/> |
| <span id="SFF_SELECTION"></span><span id="sff_selection"></span><dl> <dt>**СФФ \_ Выбор**</dt> </dl>    | Если этот параметр задан, элемент управления Rich Edit создает потоковую передачу только содержимого текущего выделенного фрагмента. Если не указано, элемент управления выдает все содержимое в потоке. Этот флаг можно сочетать с любыми значениями формата данных.<br/>                                                        |
| <span id="SF_UNICODE"></span><span id="sf_unicode"></span><dl> <dt>**SF \_ Юникод**</dt> </dl>             | **Microsoft Rich Edit 2,0 и более поздние версии:** Указывает текст в Юникоде. Этот флаг можно объединить с флагом **\_ текста** .<br/>                                                                                                                                                        |
| <span id="SF_USECODEPAGE"></span><span id="sf_usecodepage"></span><dl> <dt>**SF \_ усекодепаже**</dt> </dl> | **Расширенное редактирование 3,0 и более поздних версий:** Создает RTF в формате UTF-8 и текст с помощью других кодовых страниц. Кодовая страница задается в высоком слове *wParam*. Например, для UTF-8 RTF установите для параметра *wParam* значение (CP \_ UTF8 << 16) \| SF \_ \| \_ RTF.<br/>                               |



 

</dd> <dt>

*lParam* 
</dt> <dd>

Указатель на структуру [**едитстреам**](/windows/desktop/api/Richedit/ns-richedit-editstream) . На входе **пфнкаллбакк** член этой структуры должен указывать на приложение, определенную [*едитстреамкаллбакк*](/windows/desktop/api/Richedit/nc-richedit-editstreamcallback) функцию. В выходных данных элемент **дверрор** может содержать ненулевой код ошибки, если произошла ошибка.

</dd> </dl>

## <a name="return-value"></a>Возвращаемое значение

Это сообщение возвращает число символов, записанных в поток данных.

## <a name="remarks"></a>Комментарии

При отправке сообщения **о \_ потоке EM** элемент управления Rich Edit выполняет повторяющиеся вызовы функции [*едитстреамкаллбакк*](/windows/desktop/api/Richedit/nc-richedit-editstreamcallback) , указанной членом **пфнкаллбакк** структуры [**едитстреам**](/windows/desktop/api/Richedit/ns-richedit-editstream) . Каждый раз при вызове функции обратного вызова элемент управления передает буфер, содержащий часть содержимого элемента управления. Этот процесс будет продолжен до тех пор, пока элемент управления не перейдет все содержимое в функцию обратного вызова или пока не произойдет ошибка.

## <a name="requirements"></a>Требования



| Требование | Значение |
|-------------------------------------|---------------------------------------------------------------------------------------|
| Минимальная версия клиента<br/> | Только для \[ классических приложений Windows Vista\]<br/>                                        |
| Минимальная версия сервера<br/> | \[Только для настольных приложений Windows Server 2003\]<br/>                                  |
| Header<br/>                   | <dl> <dt>RichEdit. h</dt> </dl> |



## <a name="see-also"></a>См. также раздел

<dl> <dt>

**Ссылки**
</dt> <dt>

[**едитстреам**](/windows/desktop/api/Richedit/ns-richedit-editstream)
</dt> <dt>

[*едитстреамкаллбакк*](/windows/desktop/api/Richedit/nc-richedit-editstreamcallback)
</dt> <dt>

[**\_поток EM**](em-streamin.md)
</dt> </dl>

 

 





