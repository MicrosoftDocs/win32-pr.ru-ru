---
title: Сведения об элементах управления "Выбор даты и времени"
description: Элемент управления "Выбор даты и времени" (DTP) предоставляет простой и интуитивно понятный интерфейс для обмена данными о дате и времени с пользователем.
ms.assetid: 6749c3ae-2c52-4183-ac4e-68ca7ebf1e13
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 04604c01a73aa8f2ebb8542061412372faee5282
ms.sourcegitcommit: 5f33645661bf8c825a7a2e73950b1f4ea0f1cd82
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/21/2020
ms.locfileid: "104070738"
---
# <a name="about-date-and-time-picker-controls"></a><span data-ttu-id="bb426-103">Сведения об элементах управления "Выбор даты и времени"</span><span class="sxs-lookup"><span data-stu-id="bb426-103">About Date and Time Picker Controls</span></span>

<span data-ttu-id="bb426-104">*Элемент управления "Выбор даты и времени" (DTP)* предоставляет простой и интуитивно понятный интерфейс для обмена данными о дате и времени с пользователем.</span><span class="sxs-lookup"><span data-stu-id="bb426-104">A *date and time picker (DTP) control* provides a simple and intuitive interface through which to exchange date and time information with a user.</span></span> <span data-ttu-id="bb426-105">Например, с помощью элемента управления DTP можно попросить пользователя ввести дату, а затем легко получить выбор.</span><span class="sxs-lookup"><span data-stu-id="bb426-105">For example, with a DTP control you can ask the user to enter a date and then easily retrieve the selection.</span></span>

<span data-ttu-id="bb426-106">Рассматриваются следующие темы:</span><span class="sxs-lookup"><span data-stu-id="bb426-106">The following topics are discussed:</span></span>

-   [<span data-ttu-id="bb426-107">Пользовательский интерфейс выбора даты и времени</span><span class="sxs-lookup"><span data-stu-id="bb426-107">Date and Time Picker User Interface</span></span>](#date-and-time-picker-user-interface)
-   [<span data-ttu-id="bb426-108">Стили и форматы элемента управления "Выбор даты и времени"</span><span class="sxs-lookup"><span data-stu-id="bb426-108">Date and Time Picker Control Styles and Formats</span></span>](#date-and-time-picker-control-styles-and-formats)
    -   [<span data-ttu-id="bb426-109">Стандартные форматы</span><span class="sxs-lookup"><span data-stu-id="bb426-109">Preset Formats</span></span>](#preset-formats)
    -   [<span data-ttu-id="bb426-110">Пользовательские форматы</span><span class="sxs-lookup"><span data-stu-id="bb426-110">Custom formats</span></span>](#custom-formats)
    -   [<span data-ttu-id="bb426-111">Строки форматирования</span><span class="sxs-lookup"><span data-stu-id="bb426-111">Format Strings</span></span>](#format-strings)
    -   [<span data-ttu-id="bb426-112">Поля обратного вызова</span><span class="sxs-lookup"><span data-stu-id="bb426-112">Callback fields</span></span>](#callback-fields)
-   [<span data-ttu-id="bb426-113">Сообщения об элементах управления средства выбора даты и времени</span><span class="sxs-lookup"><span data-stu-id="bb426-113">Date and Time Picker Control Notification Messages</span></span>](#date-and-time-picker-control-notification-messages)
-   [<span data-ttu-id="bb426-114">См. также</span><span class="sxs-lookup"><span data-stu-id="bb426-114">Related topics</span></span>](#related-topics)

> [!Note]
> <span data-ttu-id="bb426-115">Windows не поддерживает даты до 1601.</span><span class="sxs-lookup"><span data-stu-id="bb426-115">Windows does not support dates prior to 1601.</span></span> <span data-ttu-id="bb426-116">Дополнительные сведения см. в разделе Структура [**fileTime**](/windows/desktop/api/minwinbase/ns-minwinbase-filetime) .</span><span class="sxs-lookup"><span data-stu-id="bb426-116">See the [**FILETIME**](/windows/desktop/api/minwinbase/ns-minwinbase-filetime) structure for details.</span></span>
>
> <span data-ttu-id="bb426-117">Элемент управления основан на григорианском календаре, который появился в 1753.</span><span class="sxs-lookup"><span data-stu-id="bb426-117">The control is based on the Gregorian calendar, which was introduced in 1753.</span></span> <span data-ttu-id="bb426-118">В нем не будут вычисляться даты, которые соответствуют юлианским календарям.</span><span class="sxs-lookup"><span data-stu-id="bb426-118">It will not calculate dates that are consistent with the Julian calendar.</span></span>

## <a name="date-and-time-picker-user-interface"></a><span data-ttu-id="bb426-119">Пользовательский интерфейс выбора даты и времени</span><span class="sxs-lookup"><span data-stu-id="bb426-119">Date and Time Picker User Interface</span></span>

<span data-ttu-id="bb426-120">В клиентской области элемента управления "Выбор даты и времени" (DTP) отображаются сведения о дате или времени, а также и то, и другое, и действует как интерфейс, через который пользователи изменяют данные.</span><span class="sxs-lookup"><span data-stu-id="bb426-120">The client area of a date and time picker (DTP) control displays date or time information, or both, and acts as the interface through which users modify the information.</span></span> <span data-ttu-id="bb426-121">Дату можно выбрать из календаря или с помощью элемента управления "вверх-вниз"; время можно изменить, введя поля в полях, определяемых [строками формата](#format-strings)элемента управления.</span><span class="sxs-lookup"><span data-stu-id="bb426-121">The date can be selected from a calendar, or by using an up-down control; the time can be changed by typing in fields that are defined by the control's [Format Strings](#format-strings).</span></span> <span data-ttu-id="bb426-122">При необходимости элемент управления отображает флажок.</span><span class="sxs-lookup"><span data-stu-id="bb426-122">Optionally, the control displays a check box.</span></span> <span data-ttu-id="bb426-123">Если этот флажок установлен, можно получить значение элемента управления; в противном случае элемент управления считается неинициализированным.</span><span class="sxs-lookup"><span data-stu-id="bb426-123">When it is checked, the value in the control can be retrieved; otherwise, the control is considered to be uninitialized.</span></span>

<span data-ttu-id="bb426-124">На следующем рисунке показано окно, содержащее три элемента управления "Выбор даты".</span><span class="sxs-lookup"><span data-stu-id="bb426-124">The following illustration shows a window that contains three date-picker controls.</span></span> <span data-ttu-id="bb426-125">Первый элемент управления "Выбор даты" был создан с использованием стиля [**DTS \_ шовноне**](date-and-time-picker-control-styles.md) , второй — со стилем "невыполненный [**", \_**](date-and-time-picker-control-styles.md) а третий — без специальных стилей.</span><span class="sxs-lookup"><span data-stu-id="bb426-125">The first date-picker control was created with the [**DTS\_SHOWNONE**](date-and-time-picker-control-styles.md) style, the second with the [**DTS\_UPDOWN**](date-and-time-picker-control-styles.md) style, and the third with no special styles.</span></span> <span data-ttu-id="bb426-126">В третьем элементе управления пользователь щелкнул стрелку вниз, чтобы отобразить календарь.</span><span class="sxs-lookup"><span data-stu-id="bb426-126">In the third control, the user has clicked the down arrow to display the calendar.</span></span>

![снимок экрана окна, демонстрирующее три стиля элементов управления "Выбор даты"](images/dtpdatepick.png)

<span data-ttu-id="bb426-128">На следующем рисунке показаны окна с тремя элементами управления, которые содержат время.</span><span class="sxs-lookup"><span data-stu-id="bb426-128">The following illustration shows a windows with three controls that contain the time.</span></span>

<span data-ttu-id="bb426-129">Первый элемент управления был создан с использованием стиля [**DTS \_ TIMEFORMAT**](date-and-time-picker-control-styles.md) и показывает время в заданном по умолчанию времени, которое состоит из четырех полей.</span><span class="sxs-lookup"><span data-stu-id="bb426-129">The first control has been created with the [**DTS\_TIMEFORMAT**](date-and-time-picker-control-styles.md) style and shows the time in the default time, which consists of four fields.</span></span> <span data-ttu-id="bb426-130">Пользователь может ввести допустимое значение в любое из этих полей или выбрать поле и изменить значение с помощью элемента управления "вверх/вниз" или клавиш со стрелками.</span><span class="sxs-lookup"><span data-stu-id="bb426-130">The user can type a valid value in any of these fields, or select the field and change the value by using the up-down control or arrow keys.</span></span>

<span data-ttu-id="bb426-131">Второй элемент управления показывает пользовательский набор форматов с помощью [**DateTime \_ сетформат**](/windows/desktop/api/Commctrl/nf-commctrl-datetime_setformat).</span><span class="sxs-lookup"><span data-stu-id="bb426-131">The second control shows a custom format set by using [**DateTime\_SetFormat**](/windows/desktop/api/Commctrl/nf-commctrl-datetime_setformat).</span></span> <span data-ttu-id="bb426-132">Как и в первом элементе управления, пользователь может изменить поля времени, введя или используя клавиши со стрелками.</span><span class="sxs-lookup"><span data-stu-id="bb426-132">As with the first control, the user can change the time fields by typing or by using arrow keys.</span></span> <span data-ttu-id="bb426-133">День недели можно изменить, выбрав дату в календаре, которая открывается, когда пользователь щелкает стрелку вниз.</span><span class="sxs-lookup"><span data-stu-id="bb426-133">The day of the week can be changed by selecting a date from the calendar that opens when the user clicks on the down arrow.</span></span>

<span data-ttu-id="bb426-134">Третий элемент управления показывает, как произвольный текст можно добавить в элемент управления.</span><span class="sxs-lookup"><span data-stu-id="bb426-134">The third control shows how arbitrary text can be added to the control.</span></span> <span data-ttu-id="bb426-135">Пользователь может выбрать час (от 1 до 24), введя, с помощью клавиш со стрелками или с помощью элемента управления "вверх-вниз".</span><span class="sxs-lookup"><span data-stu-id="bb426-135">The user can select an hour (from 1 to 24) by typing, by using the arrow keys, or by using the up-down control.</span></span>

![снимок экрана окна, в котором показаны три элемента управления, которые содержат время](images/dtpdatetimepick.png)

<span data-ttu-id="bb426-137">Элемент управления DTP автоматически обновляет внутреннюю информацию на основе входных данных пользователя.</span><span class="sxs-lookup"><span data-stu-id="bb426-137">The DTP control automatically updates internal information based on the user's input.</span></span> <span data-ttu-id="bb426-138">Элемент управления распознает следующие элементы как допустимые входные данные.</span><span class="sxs-lookup"><span data-stu-id="bb426-138">The control recognizes the following as valid input.</span></span>



| <span data-ttu-id="bb426-139">Входная Категория</span><span class="sxs-lookup"><span data-stu-id="bb426-139">Input Category</span></span> | <span data-ttu-id="bb426-140">Описание</span><span class="sxs-lookup"><span data-stu-id="bb426-140">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                  |
|----------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="bb426-141">Клавиши со стрелками</span><span class="sxs-lookup"><span data-stu-id="bb426-141">Arrow Keys</span></span>     | <span data-ttu-id="bb426-142">Элемент управления принимает клавиши со стрелками для навигации по полям в элементе управления и изменения значений.</span><span class="sxs-lookup"><span data-stu-id="bb426-142">The control accepts arrow keys to navigate the fields in the control and change values.</span></span> <span data-ttu-id="bb426-143">Пользователь может нажать клавиши или для перемещения по элементу управления, если пользователь пытается перейти за последнее поле в заданном направлении, фокус клавиатуры «заключает» в поле на противоположной стороне элемента управления.</span><span class="sxs-lookup"><span data-stu-id="bb426-143">The user can press the or keys to move through the control If the user attempts to move past the last field in a given direction, the keyboard focus "wraps around" to the field on the opposite side of the control.</span></span> <span data-ttu-id="bb426-144">Ключи и изменяют значения в текущем поле постепенно.</span><span class="sxs-lookup"><span data-stu-id="bb426-144">The and keys change values in the current field incrementally.</span></span> |
| <span data-ttu-id="bb426-145">Конечная и домашняя</span><span class="sxs-lookup"><span data-stu-id="bb426-145">End and Home</span></span>   | <span data-ttu-id="bb426-146">Элемент управления принимает \_ виртуальные ключи VK End и VK \_ Home для изменения значения в текущем поле на его верхние и нижние пределы соответственно.</span><span class="sxs-lookup"><span data-stu-id="bb426-146">The control accepts the VK\_END and VK\_HOME virtual keys to change the value within the current field to its upper and lower limits, respectively.</span></span>                                                                                                                                                                                                                          |
| <span data-ttu-id="bb426-147">Функциональные ключи</span><span class="sxs-lookup"><span data-stu-id="bb426-147">Function Keys</span></span>  | <span data-ttu-id="bb426-148">Ключ активирует режим редактирования.</span><span class="sxs-lookup"><span data-stu-id="bb426-148">The key activates edit mode.</span></span> <span data-ttu-id="bb426-149">Ключ приводит к тому, что элемент управления отображает элемент управления "календарь с раскрывающимся списком" (для этого также можно нажать клавишу).</span><span class="sxs-lookup"><span data-stu-id="bb426-149">The key causes the control to display a drop-down month calendar control (pressing does this as well).</span></span>                                                                                                                                                                                                                                          |
| <span data-ttu-id="bb426-150">С помощью чисел</span><span class="sxs-lookup"><span data-stu-id="bb426-150">Numbers</span></span>        | <span data-ttu-id="bb426-151">Элемент управления принимает числовые входные данные в сегментах, состоящий из двух символов.</span><span class="sxs-lookup"><span data-stu-id="bb426-151">The control accepts numeric input in two-character segments.</span></span> <span data-ttu-id="bb426-152">Если значение, вводимое пользователем, является недопустимым (например, если для параметра month задать значение 14), элемент управления отклоняет его и сбрасывает экран до предыдущего значения.</span><span class="sxs-lookup"><span data-stu-id="bb426-152">If the value entered by the user is invalid (like setting the month to 14), the control rejects it and resets the display to the previous value.</span></span>                                                                                                                                                                |
| <span data-ttu-id="bb426-153">Плюс и минус</span><span class="sxs-lookup"><span data-stu-id="bb426-153">Plus and Minus</span></span> | <span data-ttu-id="bb426-154">Элемент управления принимает \_ виртуальные ключи VK Add и VK \_ Subtract из цифровой клавиатуры для увеличения и уменьшения значения в текущем поле.</span><span class="sxs-lookup"><span data-stu-id="bb426-154">The control accepts the VK\_ADD and VK\_SUBTRACT virtual keys from the numeric keypad to increment and decrement the value in the current field.</span></span>                                                                                                                                                                                                                             |



 

<span data-ttu-id="bb426-155">Элементы управления DTP, не использующие стиль [**" \_ испадающий" DTS**](date-and-time-picker-control-styles.md) , отображают кнопку со стрелкой.</span><span class="sxs-lookup"><span data-stu-id="bb426-155">DTP controls that do not use the [**DTS\_UPDOWN**](date-and-time-picker-control-styles.md) style display an arrow button.</span></span> <span data-ttu-id="bb426-156">Если пользователь нажимает эту кнопку, элемент управления "Календарь на месяц" становится недоступным.</span><span class="sxs-lookup"><span data-stu-id="bb426-156">If the user clicks this button, a month calendar control drops down.</span></span> <span data-ttu-id="bb426-157">Пользователь может выбрать конкретную дату, щелкнув область календаря.</span><span class="sxs-lookup"><span data-stu-id="bb426-157">The user can select a specific date by clicking an area of the calendar.</span></span>

## <a name="date-and-time-picker-control-styles-and-formats"></a><span data-ttu-id="bb426-158">Стили и форматы элемента управления "Выбор даты и времени"</span><span class="sxs-lookup"><span data-stu-id="bb426-158">Date and Time Picker Control Styles and Formats</span></span>

<span data-ttu-id="bb426-159">Элементы управления "Выбор даты и времени" (DTP) имеют несколько [стилей элемента управления "Выбор даты и времени](date-and-time-picker-control-styles.md) ", которые определяют внешний вид и поведение элемента управления.</span><span class="sxs-lookup"><span data-stu-id="bb426-159">Date and time picker (DTP) controls have several [Date and Time Picker Control Styles](date-and-time-picker-control-styles.md) that determine a control's appearance and behavior.</span></span> <span data-ttu-id="bb426-160">Укажите стиль при создании элемента управления с помощью параметра *Двстиле* [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa).</span><span class="sxs-lookup"><span data-stu-id="bb426-160">Specify the style when creating the control with the *dwStyle* parameter of [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa).</span></span> <span data-ttu-id="bb426-161">Чтобы извлечь или изменить стиль окна после создания элемента управления, используйте [**жетвиндовлонг**](/windows/desktop/api/winuser/nf-winuser-getwindowlonga) и [**SetWindowLong**](/windows/desktop/api/winuser/nf-winuser-setwindowlonga).</span><span class="sxs-lookup"><span data-stu-id="bb426-161">To retrieve or change the window style after you have created the control, use [**GetWindowLong**](/windows/desktop/api/winuser/nf-winuser-getwindowlonga) and [**SetWindowLong**](/windows/desktop/api/winuser/nf-winuser-setwindowlonga).</span></span>

### <a name="preset-formats"></a><span data-ttu-id="bb426-162">Стандартные форматы</span><span class="sxs-lookup"><span data-stu-id="bb426-162">Preset Formats</span></span>

<span data-ttu-id="bb426-163">Существует три стандартных формата, доступных для отображения даты и один для отображения времени.</span><span class="sxs-lookup"><span data-stu-id="bb426-163">There are three preset formats available for displaying the date and one for displaying time.</span></span> <span data-ttu-id="bb426-164">Задайте эти форматы, выбрав один из следующих стилей окна.</span><span class="sxs-lookup"><span data-stu-id="bb426-164">Set these formats by choosing one of the following window styles.</span></span>



|                                                                                                       |                                                            |
|-------------------------------------------------------------------------------------------------------|------------------------------------------------------------|
| [<span data-ttu-id="bb426-165">**лонгдатеформат служб DTS \_**</span><span class="sxs-lookup"><span data-stu-id="bb426-165">**DTS\_LONGDATEFORMAT**</span></span>](date-and-time-picker-control-styles.md)                 | <span data-ttu-id="bb426-166">Отображение будет выглядеть следующим образом: "Пятница, 19 апреля, 1996".</span><span class="sxs-lookup"><span data-stu-id="bb426-166">The display will look like: "Friday, April 19, 1996".</span></span>      |
| [<span data-ttu-id="bb426-167">**шортдатеформат служб DTS \_**</span><span class="sxs-lookup"><span data-stu-id="bb426-167">**DTS\_SHORTDATEFORMAT**</span></span>](date-and-time-picker-control-styles.md)               | <span data-ttu-id="bb426-168">Отображение будет выглядеть следующим образом: "4/19/96".</span><span class="sxs-lookup"><span data-stu-id="bb426-168">The display will look like: "4/19/96".</span></span>                     |
| [<span data-ttu-id="bb426-169">**шортдатецентуриформат служб DTS \_**</span><span class="sxs-lookup"><span data-stu-id="bb426-169">**DTS\_SHORTDATECENTURYFORMAT**</span></span>](date-and-time-picker-control-styles.md) | <span data-ttu-id="bb426-170">**Версия 5,80**.</span><span class="sxs-lookup"><span data-stu-id="bb426-170">**Version 5.80**.</span></span> <span data-ttu-id="bb426-171">Отображение будет выглядеть следующим образом: "4/19/1996".</span><span class="sxs-lookup"><span data-stu-id="bb426-171">The display will look like: "4/19/1996".</span></span> |
| [<span data-ttu-id="bb426-172">**TIMEFORMAT служб DTS \_**</span><span class="sxs-lookup"><span data-stu-id="bb426-172">**DTS\_TIMEFORMAT**</span></span>](date-and-time-picker-control-styles.md)                         | <span data-ttu-id="bb426-173">Отобразится следующий вид: "5:31:42 PM".</span><span class="sxs-lookup"><span data-stu-id="bb426-173">The display will look like: "5:31:42 PM".</span></span>                  |



 

### <a name="custom-formats"></a><span data-ttu-id="bb426-174">Пользовательские форматы</span><span class="sxs-lookup"><span data-stu-id="bb426-174">Custom formats</span></span>

<span data-ttu-id="bb426-175">Элемент управления DTP полагается на строку формата, чтобы определить, как она будет отображать поля данных.</span><span class="sxs-lookup"><span data-stu-id="bb426-175">A DTP control relies on a format string to determine how it will display fields of information.</span></span> <span data-ttu-id="bb426-176">Если стандартные форматы недостаточны, можно создать пользовательский формат, определив собственную строку формата.</span><span class="sxs-lookup"><span data-stu-id="bb426-176">If the preset formats are not sufficient, you can create a custom format by defining your own format string.</span></span> <span data-ttu-id="bb426-177">Пользовательские форматы обеспечивают большую гибкость для приложения.</span><span class="sxs-lookup"><span data-stu-id="bb426-177">Custom formats provide greater flexibility for an application.</span></span> <span data-ttu-id="bb426-178">Они позволяют указать порядок, в котором элемент управления будет отображать поля сведений.</span><span class="sxs-lookup"><span data-stu-id="bb426-178">They enable you to specify the order in which the control will display fields of information.</span></span> <span data-ttu-id="bb426-179">Можно включить основной текст, а также поля обратного вызова для запроса сведений от пользователя.</span><span class="sxs-lookup"><span data-stu-id="bb426-179">You can include body text as well as callback fields for requesting information from the user.</span></span> <span data-ttu-id="bb426-180">После создания строки ее необходимо назначить элементу управления DTP с помощью сообщения [**DTM \_ сетформат**](dtm-setformat.md) .</span><span class="sxs-lookup"><span data-stu-id="bb426-180">Once the string is created, you assign it to the DTP control with a [**DTM\_SETFORMAT**](dtm-setformat.md) message.</span></span>

### <a name="format-strings"></a><span data-ttu-id="bb426-181">Строки формата</span><span class="sxs-lookup"><span data-stu-id="bb426-181">Format Strings</span></span>

<span data-ttu-id="bb426-182">Строка формата DTP состоит из ряда элементов, представляющих определенный фрагмент данных, и определения его формата отображения.</span><span class="sxs-lookup"><span data-stu-id="bb426-182">A DTP format string consists of a series of elements that represent a particular piece of information and define its display format.</span></span> <span data-ttu-id="bb426-183">Элементы будут отображаться в том порядке, в котором они отображаются в строке формата.</span><span class="sxs-lookup"><span data-stu-id="bb426-183">The elements will be displayed in the order they appear in the format string.</span></span>

<span data-ttu-id="bb426-184">Элементы формата даты и времени будут заменены фактическими датой и временем.</span><span class="sxs-lookup"><span data-stu-id="bb426-184">Date and time format elements will be replaced by the actual date and time.</span></span> <span data-ttu-id="bb426-185">Они определяются следующими группами символов.</span><span class="sxs-lookup"><span data-stu-id="bb426-185">They are defined by the following groups of characters.</span></span>



| <span data-ttu-id="bb426-186">Элемент</span><span class="sxs-lookup"><span data-stu-id="bb426-186">Element</span></span> | <span data-ttu-id="bb426-187">Описание</span><span class="sxs-lookup"><span data-stu-id="bb426-187">Description</span></span>                                                                       |
|---------|-----------------------------------------------------------------------------------|
| <span data-ttu-id="bb426-188">"d"</span><span class="sxs-lookup"><span data-stu-id="bb426-188">"d"</span></span>     | <span data-ttu-id="bb426-189">День (один или два цифры).</span><span class="sxs-lookup"><span data-stu-id="bb426-189">The one- or two-digit day.</span></span>                                                        |
| <span data-ttu-id="bb426-190">"dd"</span><span class="sxs-lookup"><span data-stu-id="bb426-190">"dd"</span></span>    | <span data-ttu-id="bb426-191">День, состоящих из двух цифр.</span><span class="sxs-lookup"><span data-stu-id="bb426-191">The two-digit day.</span></span> <span data-ttu-id="bb426-192">Значения дня с одной цифрой предшествуют нулю.</span><span class="sxs-lookup"><span data-stu-id="bb426-192">Single-digit day values are preceded by a zero.</span></span>                |
| <span data-ttu-id="bb426-193">"ddd"</span><span class="sxs-lookup"><span data-stu-id="bb426-193">"ddd"</span></span>   | <span data-ttu-id="bb426-194">Сокращение дня недели из трех символов.</span><span class="sxs-lookup"><span data-stu-id="bb426-194">The three-character weekday abbreviation.</span></span>                                         |
| <span data-ttu-id="bb426-195">"dddd"</span><span class="sxs-lookup"><span data-stu-id="bb426-195">"dddd"</span></span>  | <span data-ttu-id="bb426-196">Полное название дня недели.</span><span class="sxs-lookup"><span data-stu-id="bb426-196">The full weekday name.</span></span>                                                            |
| <span data-ttu-id="bb426-197">"h"</span><span class="sxs-lookup"><span data-stu-id="bb426-197">"h"</span></span>     | <span data-ttu-id="bb426-198">1-или 2-значный час в 12-часовом формате.</span><span class="sxs-lookup"><span data-stu-id="bb426-198">The one- or two-digit hour in 12-hour format.</span></span>                                     |
| <span data-ttu-id="bb426-199">"hh"</span><span class="sxs-lookup"><span data-stu-id="bb426-199">"hh"</span></span>    | <span data-ttu-id="bb426-200">Час из двух цифр в 12-часовом формате.</span><span class="sxs-lookup"><span data-stu-id="bb426-200">The two-digit hour in 12-hour format.</span></span> <span data-ttu-id="bb426-201">Однозначным значениям предшествует ноль.</span><span class="sxs-lookup"><span data-stu-id="bb426-201">Single-digit values are preceded by a zero.</span></span> |
| <span data-ttu-id="bb426-202">"H"</span><span class="sxs-lookup"><span data-stu-id="bb426-202">"H"</span></span>     | <span data-ttu-id="bb426-203">Час с 1 или 2 цифрами в 24-часовом формате.</span><span class="sxs-lookup"><span data-stu-id="bb426-203">The one- or two-digit hour in 24-hour format.</span></span>                                     |
| <span data-ttu-id="bb426-204">"HH"</span><span class="sxs-lookup"><span data-stu-id="bb426-204">"HH"</span></span>    | <span data-ttu-id="bb426-205">Час из двух цифр в 24-часовом формате.</span><span class="sxs-lookup"><span data-stu-id="bb426-205">The two-digit hour in 24-hour format.</span></span> <span data-ttu-id="bb426-206">Однозначным значениям предшествует ноль.</span><span class="sxs-lookup"><span data-stu-id="bb426-206">Single-digit values are preceded by a zero.</span></span> |
| <span data-ttu-id="bb426-207">"m"</span><span class="sxs-lookup"><span data-stu-id="bb426-207">"m"</span></span>     | <span data-ttu-id="bb426-208">1-или двузначное число минут.</span><span class="sxs-lookup"><span data-stu-id="bb426-208">The one- or two-digit minute.</span></span>                                                     |
| <span data-ttu-id="bb426-209">"mm"</span><span class="sxs-lookup"><span data-stu-id="bb426-209">"mm"</span></span>    | <span data-ttu-id="bb426-210">Минута, состоящих из двух цифр.</span><span class="sxs-lookup"><span data-stu-id="bb426-210">The two-digit minute.</span></span> <span data-ttu-id="bb426-211">Однозначным значениям предшествует ноль.</span><span class="sxs-lookup"><span data-stu-id="bb426-211">Single-digit values are preceded by a zero.</span></span>                 |
| <span data-ttu-id="bb426-212">"M"</span><span class="sxs-lookup"><span data-stu-id="bb426-212">"M"</span></span>     | <span data-ttu-id="bb426-213">Номер месяца, состоящих из одного или двух цифр.</span><span class="sxs-lookup"><span data-stu-id="bb426-213">The one- or two-digit month number.</span></span>                                               |
| <span data-ttu-id="bb426-214">"MM"</span><span class="sxs-lookup"><span data-stu-id="bb426-214">"MM"</span></span>    | <span data-ttu-id="bb426-215">Номер месяца из двух цифр.</span><span class="sxs-lookup"><span data-stu-id="bb426-215">The two-digit month number.</span></span> <span data-ttu-id="bb426-216">Однозначным значениям предшествует ноль.</span><span class="sxs-lookup"><span data-stu-id="bb426-216">Single-digit values are preceded by a zero.</span></span>           |
| <span data-ttu-id="bb426-217">"MMM"</span><span class="sxs-lookup"><span data-stu-id="bb426-217">"MMM"</span></span>   | <span data-ttu-id="bb426-218">Сокращение месяца из трех символов.</span><span class="sxs-lookup"><span data-stu-id="bb426-218">The three-character month abbreviation.</span></span>                                           |
| <span data-ttu-id="bb426-219">"MMMM"</span><span class="sxs-lookup"><span data-stu-id="bb426-219">"MMMM"</span></span>  | <span data-ttu-id="bb426-220">Полное название месяца.</span><span class="sxs-lookup"><span data-stu-id="bb426-220">The full month name.</span></span>                                                              |
| <span data-ttu-id="bb426-221">"t"</span><span class="sxs-lookup"><span data-stu-id="bb426-221">"t"</span></span>     | <span data-ttu-id="bb426-222">Аббревиатура с одной буквы до полудня (т. е. отображается как «A»).</span><span class="sxs-lookup"><span data-stu-id="bb426-222">The one-letter AM/PM abbreviation (that is, AM is displayed as "A").</span></span>              |
| <span data-ttu-id="bb426-223">"tt"</span><span class="sxs-lookup"><span data-stu-id="bb426-223">"tt"</span></span>    | <span data-ttu-id="bb426-224">Двузначное обозначение AM/PM (то есть AM отображается как «AM»).</span><span class="sxs-lookup"><span data-stu-id="bb426-224">The two-letter AM/PM abbreviation (that is, AM is displayed as "AM").</span></span>             |
| <span data-ttu-id="bb426-225">"yy"</span><span class="sxs-lookup"><span data-stu-id="bb426-225">"yy"</span></span>    | <span data-ttu-id="bb426-226">Последние две цифры года (то есть 1996 будут отображаться как "96").</span><span class="sxs-lookup"><span data-stu-id="bb426-226">The last two digits of the year (that is, 1996 would be displayed as "96").</span></span>       |
| <span data-ttu-id="bb426-227">"yyyy"</span><span class="sxs-lookup"><span data-stu-id="bb426-227">"yyyy"</span></span>  | <span data-ttu-id="bb426-228">Полный год (то есть 1996 будет отображаться как "1996").</span><span class="sxs-lookup"><span data-stu-id="bb426-228">The full year (that is, 1996 would be displayed as "1996").</span></span>                       |



 

<span data-ttu-id="bb426-229">Чтобы сделать эту информацию более удобочитаемой, можно добавить основной текст в строку формата, заключив ее в одинарные кавычки.</span><span class="sxs-lookup"><span data-stu-id="bb426-229">To make the information more readable, you can add body text to the format string by enclosing it in single quotes.</span></span> <span data-ttu-id="bb426-230">Пробелы и знаки препинания не обязательно должны быть заключены в кавычки.</span><span class="sxs-lookup"><span data-stu-id="bb426-230">Spaces and punctuation marks do not need to be quoted.</span></span>

> [!Note]  
> <span data-ttu-id="bb426-231">Неформатировать символы, не разделенные одинарными кавычками, приведет к непредсказуемому отображению элемента управления DTP.</span><span class="sxs-lookup"><span data-stu-id="bb426-231">Nonformat characters that are not delimited by single quotes will result in unpredictable display by the DTP control.</span></span>

<span data-ttu-id="bb426-232">Например, чтобы отобразить текущую дату в формате "" сегодня: 04:22:31 вторник Мар 23, 1996 ", строка формата" "уже сегодня:" HH ": m": dddd МММ DD "," гггг ".</span><span class="sxs-lookup"><span data-stu-id="bb426-232">For example, to display the current date with the format "'Today is: 04:22:31 Tuesday Mar 23, 1996", the format string is "'Today is: 'hh':'m':'s dddd MMM dd', 'yyyy".</span></span> <span data-ttu-id="bb426-233">Чтобы включить одинарную кавычку в текст основного текста, используйте две последовательные одинарные кавычки.</span><span class="sxs-lookup"><span data-stu-id="bb426-233">To include a single quote in your body text, use two consecutive single quotes.</span></span> <span data-ttu-id="bb426-234">Например, "" не забыть "МММ дд", "yyyy" выдает выходные данные, которые выглядят следующим образом: не забывайте 23 марта 1996.</span><span class="sxs-lookup"><span data-stu-id="bb426-234">For example, "'Don't forget' MMM dd',' yyyy" produces output that looks like: Do not forget Mar 23, 1996.</span></span> <span data-ttu-id="bb426-235">Не обязательно использовать кавычки с запятой, так что "' не забывайте" МММ дд, гггг "также является допустимым и создает те же выходные данные.</span><span class="sxs-lookup"><span data-stu-id="bb426-235">It is not necessary to use quotes with the comma, so "'Don't forget' MMM dd, yyyy" is also valid, and produces the same output.</span></span>

### <a name="callback-fields"></a><span data-ttu-id="bb426-236">Поля обратного вызова</span><span class="sxs-lookup"><span data-stu-id="bb426-236">Callback fields</span></span>

<span data-ttu-id="bb426-237">В дополнение к [строкам стандартного формата](#format-strings) и основному тексту можно также определить определенные части отображаемых данных как [поля обратного вызова](#callback-fields).</span><span class="sxs-lookup"><span data-stu-id="bb426-237">In addition to the standard [Format Strings](#format-strings) and body text, you can also define certain parts of the display as [Callback fields](#callback-fields).</span></span> <span data-ttu-id="bb426-238">Эти поля можно использовать для запроса сведений о пользователе.</span><span class="sxs-lookup"><span data-stu-id="bb426-238">These fields can be used to query the user for information.</span></span> <span data-ttu-id="bb426-239">Чтобы объявить поле обратного вызова, включите один или несколько символов "X" (код ASCII 88) в любом месте строки формата.</span><span class="sxs-lookup"><span data-stu-id="bb426-239">To declare a callback field, include one or more "X" characters (ASCII Code 88) anywhere in the format string.</span></span> <span data-ttu-id="bb426-240">Можно создать поля обратного вызова, имеющие уникальный идентификатор, повторив символ "X".</span><span class="sxs-lookup"><span data-stu-id="bb426-240">You can create callback fields that have a unique identity by repeating the "X" character.</span></span> <span data-ttu-id="bb426-241">Таким словами, строка формата "XX dddd МММ дд", "yyy XXX" содержит два уникальных поля обратного вызова: "XX" и "XXX".</span><span class="sxs-lookup"><span data-stu-id="bb426-241">Thus, the format string "XX dddd MMM dd', 'yyy XXX" contains two unique callback fields, "XX" and "XXX".</span></span> <span data-ttu-id="bb426-242">Как и другие поля элемента управления DTP, поля обратного вызова отображаются в порядке слева направо в зависимости от их расположения в строке формата.</span><span class="sxs-lookup"><span data-stu-id="bb426-242">Like other DTP control fields, callback fields are displayed in left-to-right order based on their location in the format string.</span></span>

<span data-ttu-id="bb426-243">Когда элемент управления DTP анализирует строку формата и встречает поле обратного вызова, он отправляет коды уведомлений [ДТН \_ Format](dtn-format.md) и [ДТН \_ форматкуери](dtn-formatquery.md) .</span><span class="sxs-lookup"><span data-stu-id="bb426-243">When the DTP control parses the format string and encounters a callback field, it sends [DTN\_FORMAT](dtn-format.md) and [DTN\_FORMATQUERY](dtn-formatquery.md) notification codes.</span></span> <span data-ttu-id="bb426-244">Элемент строки формата, соответствующий полю обратного вызова, включается в уведомления, чтобы позволить принимающему приложению определить, какое поле обратного вызова запрашивается.</span><span class="sxs-lookup"><span data-stu-id="bb426-244">The format string element corresponding to the callback field is included with the notifications to allow the receiving application to determine which callback field is being queried.</span></span> <span data-ttu-id="bb426-245">Владелец элемента управления должен ответить на эти уведомления, чтобы убедиться в правильности отображения пользовательских сведений.</span><span class="sxs-lookup"><span data-stu-id="bb426-245">The owner of the control must respond to these notifications to ensure that the custom information is properly displayed.</span></span>

## <a name="date-and-time-picker-control-notification-messages"></a><span data-ttu-id="bb426-246">Сообщения об элементах управления средства выбора даты и времени</span><span class="sxs-lookup"><span data-stu-id="bb426-246">Date and Time Picker Control Notification Messages</span></span>

<span data-ttu-id="bb426-247">Элемент управления "Выбор даты и времени" (DTP) отправляет коды уведомлений при получении пользователем входных данных или процессов и реагирует на поля обратного вызова.</span><span class="sxs-lookup"><span data-stu-id="bb426-247">A date and time picker (DTP) control sends notification codes when it receives user input or processes and reacts to callback fields.</span></span> <span data-ttu-id="bb426-248">Родительский элемент управления получает эти коды уведомлений в виде сообщений [**\_ уведомления WM**](wm-notify.md) .</span><span class="sxs-lookup"><span data-stu-id="bb426-248">The parent of the control receives these notification codes in the form of [**WM\_NOTIFY**](wm-notify.md) messages.</span></span>

<span data-ttu-id="bb426-249">С элементами управления DTP используются следующие коды уведомлений.</span><span class="sxs-lookup"><span data-stu-id="bb426-249">The following notification codes are used with DTP controls.</span></span>



| <span data-ttu-id="bb426-250">Код уведомления</span><span class="sxs-lookup"><span data-stu-id="bb426-250">Notification code</span></span>                             | <span data-ttu-id="bb426-251">Описание</span><span class="sxs-lookup"><span data-stu-id="bb426-251">Description</span></span>                                                                                                                                                                                                       |
|-----------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="bb426-252">ДТН \_ крупный план</span><span class="sxs-lookup"><span data-stu-id="bb426-252">DTN\_CLOSEUP</span></span>](dtn-closeup.md)               | <span data-ttu-id="bb426-253">Указывает, что раскрывающийся календарь будет удален.</span><span class="sxs-lookup"><span data-stu-id="bb426-253">Indicates that the drop-down month calendar is about to be removed.</span></span>                                                                                                                                               |
| [<span data-ttu-id="bb426-254">ДТН \_ датетимечанже</span><span class="sxs-lookup"><span data-stu-id="bb426-254">DTN\_DATETIMECHANGE</span></span>](dtn-datetimechange.md) | <span data-ttu-id="bb426-255">Сигнализирует об изменении в элементе управления DTP.</span><span class="sxs-lookup"><span data-stu-id="bb426-255">Signals a change within the DTP control.</span></span>                                                                                                                                                                          |
| [<span data-ttu-id="bb426-256">\_раскрывающийся список ДТН</span><span class="sxs-lookup"><span data-stu-id="bb426-256">DTN\_DROPDOWN</span></span>](dtn-dropdown.md)             | <span data-ttu-id="bb426-257">Указывает, что будет отображен раскрывающийся календарь с месяцю.</span><span class="sxs-lookup"><span data-stu-id="bb426-257">Indicates that the drop-down month calendar is about to be displayed.</span></span>                                                                                                                                             |
| [<span data-ttu-id="bb426-258">\_Формат ДТН</span><span class="sxs-lookup"><span data-stu-id="bb426-258">DTN\_FORMAT</span></span>](dtn-format.md)                 | <span data-ttu-id="bb426-259">Запрашивает текст, отображаемый в части строки формата, описанной в качестве поля обратного вызова.</span><span class="sxs-lookup"><span data-stu-id="bb426-259">Requests text to display in a portion of the format string described as a callback field.</span></span>                                                                                                                         |
| [<span data-ttu-id="bb426-260">ДТН \_ форматкуери</span><span class="sxs-lookup"><span data-stu-id="bb426-260">DTN\_FORMATQUERY</span></span>](dtn-formatquery.md)       | <span data-ttu-id="bb426-261">Запрашивает сведения о максимально допустимом размере текста, отображаемого в поле обратного вызова.</span><span class="sxs-lookup"><span data-stu-id="bb426-261">Requests information about the maximum allowable size of the text to be displayed in a callback field.</span></span>                                                                                                            |
| [<span data-ttu-id="bb426-262">ДТН \_ усерстринг</span><span class="sxs-lookup"><span data-stu-id="bb426-262">DTN\_USERSTRING</span></span>](dtn-userstring.md)         | <span data-ttu-id="bb426-263">Сигнализирует об окончании операции редактирования пользователем в элементе управления.</span><span class="sxs-lookup"><span data-stu-id="bb426-263">Signals the end of a user's edit operation within the control.</span></span> <span data-ttu-id="bb426-264">Это уведомление отправляется только элементами управления DTP, которые используют [**стиль \_ Аппканпарсе служб DTS**](date-and-time-picker-control-styles.md) .</span><span class="sxs-lookup"><span data-stu-id="bb426-264">This notification is sent only by DTP controls that use the [**DTS\_APPCANPARSE**](date-and-time-picker-control-styles.md) style.</span></span> |
| [<span data-ttu-id="bb426-265">ДТН \_ вмкэйдовн</span><span class="sxs-lookup"><span data-stu-id="bb426-265">DTN\_WMKEYDOWN</span></span>](dtn-wmkeydown.md)           | <span data-ttu-id="bb426-266">Сигнализирует, что пользователь нажал на ключ в поле обратного вызова элемента управления DTP.</span><span class="sxs-lookup"><span data-stu-id="bb426-266">Signals that the user has pressed a key in a callback field of the DTP control.</span></span>                                                                                                                                   |



 

## <a name="related-topics"></a><span data-ttu-id="bb426-267">См. также</span><span class="sxs-lookup"><span data-stu-id="bb426-267">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="bb426-268">Справочник по элементу выбора даты и времени</span><span class="sxs-lookup"><span data-stu-id="bb426-268">Date and Time Picker Control Reference</span></span>](date-and-time-picker-control-reference.md)
</dt> </dl>

 

 