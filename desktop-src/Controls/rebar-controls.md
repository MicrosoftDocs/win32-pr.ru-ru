---
title: Общие сведения об элементах управления главной панели
description: Элемент управления "Главная панель" выступает в качестве контейнера для дочерних окон.
ms.assetid: vs|controls|~\controls\rebar\rebar.htm
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 56bc68629db7387f4ba408a769f7d87a64256000
ms.sourcegitcommit: 5f33645661bf8c825a7a2e73950b1f4ea0f1cd82
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/21/2020
ms.locfileid: "104070727"
---
# <a name="about-rebar-controls"></a><span data-ttu-id="f59ce-103">Общие сведения об элементах управления главной панели</span><span class="sxs-lookup"><span data-stu-id="f59ce-103">About Rebar Controls</span></span>

<span data-ttu-id="f59ce-104">*Элемент управления "Главная панель* " выступает в качестве контейнера для дочерних окон.</span><span class="sxs-lookup"><span data-stu-id="f59ce-104">A *Rebar control* acts as a container for child windows.</span></span> <span data-ttu-id="f59ce-105">Он может содержать одну или несколько *полос*, и каждая полоса может иметь любое сочетание полосы захвата, точечного рисунка, метки текста и одного дочернего окна.</span><span class="sxs-lookup"><span data-stu-id="f59ce-105">It can contain one or more *bands*, and each band can have any combination of a gripper bar, a bitmap, a text label, and one child window.</span></span> <span data-ttu-id="f59ce-106">Приложение назначает дочернее окно (как правило, другой элемент управления) в полосу управления главной панелью.</span><span class="sxs-lookup"><span data-stu-id="f59ce-106">An application assigns a child window—typically another control— to a rebar control band.</span></span> <span data-ttu-id="f59ce-107">При динамическом изменении расположения элемента управления "Главная панель" элемент управления "Главная панель" управляет размером и положением дочернего окна, назначенного этому диапазону.</span><span class="sxs-lookup"><span data-stu-id="f59ce-107">As you dynamically reposition a rebar control band, the rebar control manages the size and position of the child window assigned to that band.</span></span> <span data-ttu-id="f59ce-108">Кроме того, приложение может указать фоновое растровое изображение для полосы, а элемент управления "Главная панель" будет отображать дочернее окно полосы по точечному рисунку.</span><span class="sxs-lookup"><span data-stu-id="f59ce-108">Also, an application can specify a background bitmap for a band, and the rebar control will display the band's child window over the bitmap.</span></span>

<span data-ttu-id="f59ce-109">На следующем снимке экрана показан элемент управления "Главная панель" с двумя полосами.</span><span class="sxs-lookup"><span data-stu-id="f59ce-109">The following screen shot shows a rebar control that has two bands.</span></span> <span data-ttu-id="f59ce-110">Одна содержит панель инструментов, а другая содержит поле со списком.</span><span class="sxs-lookup"><span data-stu-id="f59ce-110">One contains a toolbar, and the other contains a combobox.</span></span> <span data-ttu-id="f59ce-111">Обе полосы имеют захват, позволяющий перемещать их и изменять их размер.</span><span class="sxs-lookup"><span data-stu-id="f59ce-111">Both bands have a gripper that allows them to be moved and resized.</span></span>

![снимок экрана диалогового окна, показывающего элемент управления главной панели с полосой, содержащей панель инструментов и полосу, содержащую поле со списком](images/rb-rebar.png)

> [!Note]  
> <span data-ttu-id="f59ce-113">Элемент управления "Главная панель" реализован в версии 4,70 и более поздних Comctl32.dll.</span><span class="sxs-lookup"><span data-stu-id="f59ce-113">The rebar control is implemented in version 4.70 and later of Comctl32.dll.</span></span>

 

## <a name="rebar-bands-and-child-windows"></a><span data-ttu-id="f59ce-114">Полосы главной панели и дочерние окна</span><span class="sxs-lookup"><span data-stu-id="f59ce-114">Rebar Bands and Child Windows</span></span>

<span data-ttu-id="f59ce-115">Приложение определяет признаки полосы главной панели с помощью сообщений [**RB \_ Инсертбанд**](rb-insertband.md) и [**RB \_ сетбандинфо**](rb-setbandinfo.md) .</span><span class="sxs-lookup"><span data-stu-id="f59ce-115">An application defines a rebar band's traits by using the [**RB\_INSERTBAND**](rb-insertband.md) and [**RB\_SETBANDINFO**](rb-setbandinfo.md) messages.</span></span> <span data-ttu-id="f59ce-116">Эти сообщения принимают адрес структуры [**ребарбандинфо**](/windows/win32/api/commctrl/ns-commctrl-rebarbandinfoa) в качестве параметра *lParam* .</span><span class="sxs-lookup"><span data-stu-id="f59ce-116">These messages accept the address of a [**REBARBANDINFO**](/windows/win32/api/commctrl/ns-commctrl-rebarbandinfoa) structure as the *lParam* parameter.</span></span> <span data-ttu-id="f59ce-117">Элементы структуры **ребарбандинфо** определяют признаки заданного диапазона.</span><span class="sxs-lookup"><span data-stu-id="f59ce-117">The **REBARBANDINFO** structure members define the traits of a given band.</span></span> <span data-ttu-id="f59ce-118">Чтобы задать признаки полосы, установите элемент **кбсизе** , чтобы указать размер структуры в байтах.</span><span class="sxs-lookup"><span data-stu-id="f59ce-118">To set a band's traits, set the **cbsize** member to indicate the size of the structure, in bytes.</span></span> <span data-ttu-id="f59ce-119">Затем задайте элемент **фмаск** , чтобы указать, какие элементы структуры заполняет приложение.</span><span class="sxs-lookup"><span data-stu-id="f59ce-119">Then set the **fMask** member to indicate which structure members your application is filling.</span></span>

<span data-ttu-id="f59ce-120">Чтобы назначить дочернее окно полосе, включите \_ дочерний флаг рббим в элемент **Фмаск** структуры [**ребарбандинфо**](/windows/win32/api/commctrl/ns-commctrl-rebarbandinfoa) , а затем присвойте элементу **хвндчилд** значение маркера дочернего окна.</span><span class="sxs-lookup"><span data-stu-id="f59ce-120">To assign a child window to a band, include the RBBIM\_CHILD flag in the **fMask** member of the [**REBARBANDINFO**](/windows/win32/api/commctrl/ns-commctrl-rebarbandinfoa) structure, and then set the **hwndChild** member to the child window's handle.</span></span> <span data-ttu-id="f59ce-121">Приложения могут устанавливать минимально допустимую ширину и высоту дочернего окна в элементах **кксминчилд** и **циминчилд** .</span><span class="sxs-lookup"><span data-stu-id="f59ce-121">Applications can set the minimum allowable width and height of a child window in the **cxMinChild** and **cyMinChild** members.</span></span>

<span data-ttu-id="f59ce-122">При уничтожении элемента управления главной панели он уничтожает все дочерние окна, назначенные для полос внутри него.</span><span class="sxs-lookup"><span data-stu-id="f59ce-122">When a rebar control is destroyed, it destroys any child windows assigned to the bands within it.</span></span> <span data-ttu-id="f59ce-123">Чтобы элемент управления не удалил дочерние окна, назначенные его полосам, удалите эти полосы, отправив сообщение [**RB \_ делетебанд**](rb-deleteband.md) , а затем используйте сообщение [**RB \_ сетпарент**](rb-setparent.md) для сброса родителя в другое окно перед уничтожением элемента управления главной панели.</span><span class="sxs-lookup"><span data-stu-id="f59ce-123">To prevent the control from destroying child windows assigned to its bands, remove the bands by sending the [**RB\_DELETEBAND**](rb-deleteband.md) message, and then use the [**RB\_SETPARENT**](rb-setparent.md) message to reset the parent to another window before destroying the rebar control.</span></span>

## <a name="the-rebar-control-user-interface"></a><span data-ttu-id="f59ce-124">Пользовательский интерфейс элемента управления "Главная панель"</span><span class="sxs-lookup"><span data-stu-id="f59ce-124">The Rebar Control User Interface</span></span>

<span data-ttu-id="f59ce-125">Размер всех панелей управления главной панели можно изменять, за исключением тех, которые используют \_ стиль рббс FIXEDSIZE.</span><span class="sxs-lookup"><span data-stu-id="f59ce-125">All rebar control bands can be resized, except those that use the RBBS\_FIXEDSIZE style.</span></span> <span data-ttu-id="f59ce-126">Чтобы изменить порядок полос в элементе управления, щелкните и перетащите полосу захвата диапазона.</span><span class="sxs-lookup"><span data-stu-id="f59ce-126">To resize or change the order of bands within the control, click and drag a band's gripper bar.</span></span> <span data-ttu-id="f59ce-127">Элемент управления "Главная панель" автоматически изменяет размеры и расположение дочерних окон, назначенных его полосам.</span><span class="sxs-lookup"><span data-stu-id="f59ce-127">The rebar control automatically resizes and repositions child windows assigned to its bands.</span></span> <span data-ttu-id="f59ce-128">Кроме того, можно включить или отключить размер полосы, щелкнув полосу текста, если она есть.</span><span class="sxs-lookup"><span data-stu-id="f59ce-128">Additionally, you can toggle the size of a band by clicking the band text, if there is any.</span></span>

## <a name="the-rebar-controls-image-list"></a><span data-ttu-id="f59ce-129">Список изображений элемента управления "Главная панель"</span><span class="sxs-lookup"><span data-stu-id="f59ce-129">The Rebar Control's Image List</span></span>

<span data-ttu-id="f59ce-130">Если приложение использует список изображений с элементом управления главной панели, он должен отправить сообщение [**\_ сетбаринфо RB**](rb-setbarinfo.md) перед добавлением полос в элемент управления.</span><span class="sxs-lookup"><span data-stu-id="f59ce-130">If an application is using an image list with a rebar control, it must send the [**RB\_SETBARINFO**](rb-setbarinfo.md) message before adding bands to the control.</span></span> <span data-ttu-id="f59ce-131">Это сообщение принимает адрес структуры [**ребаринфо**](/windows/win32/api/commctrl/ns-commctrl-rebarinfo) в качестве параметра *lParam* .</span><span class="sxs-lookup"><span data-stu-id="f59ce-131">This message accepts the address of a [**REBARINFO**](/windows/win32/api/commctrl/ns-commctrl-rebarinfo) structure as the *lParam* parameter.</span></span> <span data-ttu-id="f59ce-132">Перед отправкой сообщения подготовьте структуру **ребаринфо** , задав для элемента **кбсизе** размер структуры в байтах.</span><span class="sxs-lookup"><span data-stu-id="f59ce-132">Before sending the message, prepare the **REBARINFO** structure by setting the **cbSize** member to the size of the structure, in bytes.</span></span> <span data-ttu-id="f59ce-133">Затем, если элемент управления "Главная панель" будет отображать изображения на полосах, установите для элемента **фмаск** \_ флаг IMAGELIST рбим и присвойте элементу **химл** маркер списка изображений.</span><span class="sxs-lookup"><span data-stu-id="f59ce-133">Then, if the rebar control is going to display images on the bands, set the **fMask** member to the RBIM\_IMAGELIST flag and assign an image list handle to the **himl** member.</span></span> <span data-ttu-id="f59ce-134">Если Главная панель не будет использовать образы полос, задайте для **фмаск** значение 0.</span><span class="sxs-lookup"><span data-stu-id="f59ce-134">If the rebar will not use band images, set **fMask** to zero.</span></span>

## <a name="rebar-control-message-forwarding"></a><span data-ttu-id="f59ce-135">Пересылка сообщений управления главной панелью</span><span class="sxs-lookup"><span data-stu-id="f59ce-135">Rebar Control Message Forwarding</span></span>

<span data-ttu-id="f59ce-136">Элемент управления "Главная панель" пересылает все сообщения окна [**\_ уведомления WM**](wm-notify.md) в родительское окно.</span><span class="sxs-lookup"><span data-stu-id="f59ce-136">A rebar control forwards all [**WM\_NOTIFY**](wm-notify.md) window messages to its parent window.</span></span> <span data-ttu-id="f59ce-137">Кроме того, элемент управления "Главная панель" пересылает сообщения, отправленные ей из окон, назначенные его делениям, например [**WM \_ чартоитем**](wm-chartoitem.md), [**WM \_ Command**](/windows/desktop/menurc/wm-command)и др.</span><span class="sxs-lookup"><span data-stu-id="f59ce-137">Additionally, a rebar control forwards any messages sent to it from windows assigned to its bands, like [**WM\_CHARTOITEM**](wm-chartoitem.md), [**WM\_COMMAND**](/windows/desktop/menurc/wm-command), and others.</span></span>

 

 