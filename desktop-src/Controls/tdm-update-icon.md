---
title: Сообщение TDM_UPDATE_ICON (Коммктрл. h)
description: Обновляет значок диалогового окна задачи.
ms.assetid: 1094d9ca-90b4-4ba6-a14b-0d4e96243a34
keywords:
- Элементы управления Windows для TDM_UPDATE_ICON сообщений
topic_type:
- apiref
api_name:
- TDM_UPDATE_ICON
api_location:
- Commctrl.h
api_type:
- HeaderDef
ms.topic: reference
ms.date: 05/31/2018
ms.openlocfilehash: 9b2da73ebb3bf0355f50bc08a08f0b35de97576b
ms.sourcegitcommit: a1494c819bc5200050696e66057f1020f5b142cb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/12/2020
ms.locfileid: "103989371"
---
# <a name="tdm_update_icon-message"></a>\_ \_ Сообщение значка обновления TDM

Обновляет значок диалогового окна задачи.

## <a name="parameters"></a>Параметры

<dl> <dt>

*wParam* \[ окне\]
</dt> <dd>

Указывает, какой элемент Icon обновить. Этот параметр должен иметь одно из следующих значений:



| Значение                                                                                                                                                                   | Значение                 |
|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------|
| <span id="TDIE_ICON_MAIN"></span><span id="tdie_icon_main"></span><dl> <dt>**\_значок тдие \_**</dt> </dl>       | Основной значок.<br/>   |
| <span id="TDIE_ICON_FOOTER"></span><span id="tdie_icon_footer"></span><dl> <dt>**\_Нижний колонтитул значка тдие \_**</dt> </dl> | Значок нижнего колонтитула.<br/> |



 

</dd> <dt>

*lParam* \[ окне\]
</dt> <dd>

Указатель на строку (ПКВСТР) или обработчик для отображаемого значка (ХИКОН). Если параметр *lParam* имеет **значение NULL**, значок не отображается, независимо от значения параметра *wParam*.

Если значение *wParam* равно тдие \_ Icon \_ Main и для \_ \_ \_ элемента **dwFlags** в структуре [**таскдиалогконфиг**](/windows/desktop/api/Commctrl/ns-commctrl-taskdialogconfig) , используемой для создания диалогового окна задачи, установлен флаг TDF use Хикон Main, то параметр *lParam* должен содержать маркер для отображаемого значка (Хикон).

Если для параметра *wParam* задано значение тдие, \_ а для \_ \_ \_ \_ элемента **dwFlags** структуры [**таскдиалогконфиг**](/windows/desktop/api/Commctrl/ns-commctrl-taskdialogconfig) , использованной для создания диалогового окна задачи, установлен флаг TDF use Хикон Footer, то параметр *lParam* должен содержать маркер для отображаемого значка (Хикон).

Если TDF \_ использовать \_ Хикон \_ Main или TDF \_ USE \_ Хикон \_ footer flags **не** задано для элемента **dwFlags** , параметр *lParam* должен указывать на заканчивающуюся нулем строку Юникода (пквстр), которая содержит допустимый идентификатор ресурса, передаваемый через макрос [**макеинтресаурце**](/windows/desktop/api/winuser/nf-winuser-makeintresourcea) . Значок отображается на основе значения *wParam*: Если значение равно тдие \_ Icon \_ Main (основной значок), значок отображается в заголовке; если значение равно тдие \_ значка \_ , значок отображается в нижнем колонтитуле. Ресурс должен быть либо из модуля ресурсов приложения (указанный в элементе **HINSTANCE** структуры [**таскдиалогконфиг**](/windows/desktop/api/Commctrl/ns-commctrl-taskdialogconfig) ), либо если значение **HINSTANCE** равно **NULL**, из модуля ресурсов системы (imageres.dll). Чтобы определить системный ресурс, используйте допустимый идентификатор системы, переданный в макросе **макеинтресаурце** , или одно из следующих предопределенных значений из коммктрл. h:



| Значение                                                                                                                                                                            | Значение                                             |
|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------|
| <span id="TD_ERROR_ICON"></span><span id="td_error_icon"></span><dl> <dt>**\_значок ошибки \_ TD**</dt> </dl>                   | Значок "отключить знак".<br/>                        |
| <span id="TD_WARNING_ICON"></span><span id="td_warning_icon"></span><dl> <dt>**\_значок предупреждения \_ TD**</dt> </dl>             | Значок восклицательного знака.<br/>               |
| <span id="TD_INFORMATION_ICON"></span><span id="td_information_icon"></span><dl> <dt>**\_значок сведений \_ TD**</dt> </dl> | Строчная буква i в значке круга.<br/> |
| <span id="TD_SHIELD_ICON"></span><span id="td_shield_icon"></span><dl> <dt>**\_значок щита \_ TD**</dt> </dl>                | Значок щита безопасности.<br/>                  |



 

</dd> </dl>

## <a name="return-value"></a>Возвращаемое значение

Возвращаемое значение игнорируется.

## <a name="remarks"></a>Комментарии

Макет диалогового окна задачи со значком может завершиться ошибкой, и это может не отражаться в возвращаемом значении. Возвращаемое значение S " \_ ОК" отражает только то, что диалоговое окно задачи получило сообщение и попыталось обработать его. Если происходит сбой макета диалогового окна задачи, диалоговое окно закроется, а в зарегистрированной функции обратного вызова будет возвращен код **HRESULT** . Дополнительные сведения о синтаксисе функции обратного вызова см. в разделе [*таскдиалогкаллбаккпрок*](/windows/win32/api/commctrl/nc-commctrl-pftaskdialogcallback).

Если диалоговое окно задачи создается без нижнего колонтитула (то есть соответствующие элементы в структуре [**таскдиалогконфиг**](/windows/desktop/api/Commctrl/ns-commctrl-taskdialogconfig) , используемой для создания диалогового окна задачи имеют **значение NULL**) и сообщение отправляется, нижний колонтитул не добавляется динамически в диалоговое окно задачи. То же самое справедливо для отправки этого сообщения для обновления значка заголовка при создании диалогового окна задачи без заголовка. Чтобы добавить верхний или нижний колонтитул во время выполнения, используйте функцию [**TDM \_ навигации \_ Page**](tdm-navigate-page.md) .

## <a name="requirements"></a>Требования



| Требование | Значение |
|-------------------------------------|---------------------------------------------------------------------------------------|
| Минимальная версия клиента<br/> | Только для \[ классических приложений Windows Vista\]<br/>                                        |
| Минимальная версия сервера<br/> | \[Только для настольных приложений Windows Server 2008\]<br/>                                  |
| Header<br/>                   | <dl> <dt>Коммктрл. h</dt> </dl> |



 

