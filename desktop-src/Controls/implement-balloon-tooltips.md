---
title: Как реализовать всплывающие подсказки
description: Всплывающие подсказки похожи на стандартные подсказки, но отображаются в виде мультипликационного стиля \ 0034; \ 0034; с ресурсом, указывающим на средство.
ms.assetid: 59FEA8B6-772D-4BEF-A18C-945EC6A56FA2
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: fe578f69092a35a7f3ccc5eaa6a5987128ebdd66
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/16/2019
ms.locfileid: "103774204"
---
# <a name="how-to-implement-balloon-tooltips"></a>Как реализовать всплывающие подсказки

Всплывающие подсказки аналогичны стандартным всплывающим подсказкам, но отображаются в виде всплывающей подсказки, указывающей на средство. Всплывающие подсказки могут быть либо однострочными, либо многострочными. Они создаются и обрабатываются во многом так же, как стандартные подсказки.

На следующем рисунке показано расположение по умолчанию для области и прямоугольника. Если средство слишком близко к верхней части экрана, подсказка отображается ниже и справа от прямоугольника средства. Если средство слишком близко к правой части экрана, применяются аналогичные принципы, но всплывающая подсказка отображается слева от прямоугольника средства.

![снимок экрана: диалоговое окно; всплывающая подсказка с одной строкой текста появляется над и справа от целевого объекта](images/tt-balloon.png)

Можно изменить положение по умолчанию, установив флаг **TTF \_ центертип** в элементе **уфлагс** структуры всплывающей подсказки [**тулинфо**](/windows/win32/api/commctrl/ns-commctrl-tttoolinfoa) . В этом случае область обычно указывает на центр нижнего края прямоугольника инструмента, и текстовая рамка отображается непосредственно под инструментом. Область подключается к текстовому прямоугольнику в центре верхнего края. Если средство слишком близко к нижней части экрана, то текстовая рамка центрируется над инструментом, а область подключается к центру нижнего края.

На следующем рисунке показана всплывающая подсказка, расположенная по центру инструмента.

![снимок экрана: диалоговое окно; всплывающая подсказка с одной строкой текста отображается в центре целевого объекта](images/tt-ballooncenter.png)

Если необходимо указать, где находятся точки, установите флаг **TTF \_ Track** в элементе **уфлагс** структуры ToolTip [**тулинфо**](/windows/win32/api/commctrl/ns-commctrl-tttoolinfoa) . Затем необходимо указать координату, отправив сообщение [**ТТМ \_ траккпоситион**](ttm-trackposition.md) с координатами x и y в значении *lParam* . Если также установлен параметр **TTF \_ центертип** , то он по-прежнему указывает на расположение, указанное в сообщении **\_ траккпоситион ТТМ** .

## <a name="what-you-need-to-know"></a>Что необходимо знать

### <a name="technologies"></a>Технологии

-   [Элементы управления Windows](window-controls.md)

### <a name="prerequisites"></a>Предварительные условия

-   C/C++
-   Программирование пользовательского интерфейса Windows

## <a name="instructions"></a>Инструкции

### <a name="implement-balloon-tooltips"></a>Реализация всплывающих подсказок

В следующем примере кода показано, как реализовать центрированную всплывающую подсказку с помощью стиля элемента управления "всплывающая подсказка **TTS \_** ".


```C++
hwndToolTips = CreateWindow(TOOLTIPS_CLASS, NULL, 
                            WS_POPUP | TTS_NOPREFIX | TTS_BALLOON, 
                            0, 0, 0, 0, NULL, NULL, g_hinst, NULL);

if (hwndTooltip)
{
    TOOLINFO ti;

    ti.cbSize   = sizeof(ti);
    ti.uFlags   = TTF_TRANSPARENT | TTF_CENTERTIP;
    ti.hwnd     = hwnd;
    ti.uId      = 0;
    ti.hinst    = NULL;
    ti.lpszText = LPSTR_TEXTCALLBACK;

    GetClientRect(hwnd, &ti.rect);

    SendMessage(hwndToolTips, TTM_ADDTOOL, 0, (LPARAM) &ti );

}
            
```



## <a name="related-topics"></a>См. также

<dl> <dt>

[Использование элементов управления ToolTip](using-tooltip-contro.md)
</dt> <dt>

[**Стили всплывающих подсказок**](tooltip-styles.md)
</dt> </dl>

 

 




