---
title: Использование сведений о разрывах слов и строк
description: Форматированный элемент управления "поле ввода" вызывает функцию, называемую процедурой разрыва слов, чтобы найти разрывы между словами и определить, где она может разбивать строки.
ms.assetid: DDCE9814-0D39-494C-953A-FB6A98100EEA
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: feb90064e455bfeb8ee126e6107d75ef29b3a4f3
ms.sourcegitcommit: 5f33645661bf8c825a7a2e73950b1f4ea0f1cd82
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/21/2020
ms.locfileid: "105654377"
---
# <a name="how-to-use-word-and-line-break-information"></a>Использование сведений о разрывах слов и строк

Форматированный элемент управления "поле ввода" вызывает функцию, называемую процедурой разрыва слов, чтобы найти разрывы между словами и определить, где она может разбивать строки. Этот элемент управления использует эти сведения при выполнении операций переноса по словам и при обработке сочетания клавиш CTRL + стрелка влево и CTRL + стрелка вправо. Приложение может отправить сообщения в элемент управления Rich Edit, чтобы заменить процедуру разбиения по словам по умолчанию, получить сведения о разрыве слов и определить линию, на которую попадает заданный символ.

## <a name="what-you-need-to-know"></a>Что необходимо знать

### <a name="technologies"></a>Технологии

-   [Элементы управления Windows](window-controls.md)

### <a name="prerequisites"></a>Предварительные условия

-   C/C++
-   Программирование пользовательского интерфейса Windows

## <a name="instructions"></a>Инструкции

### <a name="use-word-and-line-break-information"></a>Использование сведений о слове и разрыве строки

Процедуры разбиения по словам для элементов управления с широкими возможностями похожи на элементы управления редактирования, но имеют дополнительные возможности: процедуры разбиения на слова для обоих видов элементов управления могут определить, является ли символ разделителем, и найти ближайшее разрыв слова до или после указанной позиции. Разделитель — это символ, обозначающий конец слова, например пробел. Как правило, в элементе управления "Правка" разрыв слова происходит только после разделителей. Однако для большинства азиатских языков применяются разные правила.

Процедуры разбиения по словам для элементов управления Rich Edit также группируют символы в классы символов, каждый из которых определяется значением в диапазоне от 0x00 до 0x0F. Перерывы происходят либо после разделителей, либо между символами разных классов. Таким образом, процедура разбиения по словам с различными классами для алфавитно-цифровых символов и знаков препинания будет искать два разрыва слов в строке "Win.doc" (до и после точки).

Класс символа можно сочетать с нулем или несколькими флагами разрыва слов для формирования 8-разрядного значения. При выполнении операций переноса по словам в элементе управления с расширенным редактированием используются флаги разбиения по словам, чтобы определить, где может нарушиться линия. Расширенное редактирование использует следующие флаги разрыва слов.



| Flag            | Описание                                                                                                                       |
|-----------------|-----------------------------------------------------------------------------------------------------------------------------------|
| ВБФ \_ BREAKAFTER | Строки могут быть разорваны после символа.                                                                                          |
| ВБФ \_ бреаклине  | Символ является разделителем. Разделители означают концы слов. Строки могут быть разорваны после разделителей.                            |
| ВБФ \_    | Символ является пробелом. Замыкающие пробельные символы не включаются в длину строки при переносе. |



 

Значение ВБФ \_ BREAKAFTER используется, чтобы разрешить перенос после символа, который не помечает конец слова, например дефис.

Процедуру разрыва слов по умолчанию для элемента управления Rich Edit можно заменить собственной процедурой с помощью сообщения [**EM \_ сетвордбреакпрок**](em-setwordbreakproc.md) . Дополнительные сведения о процедурах разбиения по словам см. в описании функции [*едитвордбреакпрок*](/windows/win32/api/winuser/nc-winuser-editwordbreakproca) .

> [!Note]  
> Эта замена не рекомендуется для Microsoft Rich Edit 2,0 и более поздних версий из-за сложности многоязыковой разбивки слов.

 

Для Microsoft Rich Edit 1,0 можно использовать сообщение [**EM \_ сетвордбреакпроцекс**](em-setwordbreakprocex.md) , чтобы заменить расширенную процедуру разрыва слов по умолчанию функцией [*едитвордбреакпроцекс*](/windows/desktop/api/Richedit/nc-richedit-editwordbreakprocex) . Эта функция предоставляет дополнительные сведения о тексте, например кодировку. Для получения адреса текущей расширенной процедуры разбиения по словам можно использовать сообщение [**EM \_ жетвордбреакпроцекс**](em-getwordbreakprocex.md) . Обратите внимание, что Microsoft Rich Edit 2,0 и более поздние версии не поддерживают *едитвордбреакпроцекс*, **EM \_ жетвордбреакпроцекс** и **EM \_ сетвордбреакпроцекс**.

Сообщение [**EM \_ финдвордбреак**](em-findwordbreak.md) можно использовать для поиска разрывов слов или для определения класса символа и флагов разрыва слов. В свою очередь, элемент управления вызывает процедуру разбиения на слова, чтобы получить запрошенную информацию.

Чтобы определить, на какой строке заданный символ попадает, можно использовать сообщение [**\_ екслинефромчар EM**](em-exlinefromchar.md) .

## <a name="related-topics"></a>См. также

<dl> <dt>

[Использование элементов управления Rich Edit](using-rich-edit-controls.md)
</dt> <dt>

[Демонстрация стандартных элементов управления Windows (Кппвиндовскоммонконтролс)](https://github.com/microsoftarchive/msdn-code-gallery-microsoft/tree/master/OneCodeTeam/Windows%20common%20controls%20demo%20(CppWindowsCommonControls)/%5BC++%5D-Windows%20common%20controls%20demo%20(CppWindowsCommonControls)/C++/CppWindowsCommonControls)
</dt> </dl>

 

 