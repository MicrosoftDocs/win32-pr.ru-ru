---
title: Строки состояния (элементы управления Windows)
description: Строка состояния — это горизонтальное окно в нижней части родительского окна, в котором приложение может отображать различные типы сведений о состоянии.
ms.assetid: vs|controls|~\controls\status\status.htm
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 3c2d1130b25cf0dc6373021e063210b765aa34a5
ms.sourcegitcommit: 8fa6614b715bddf14648cce36d2df22e5232801a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/10/2020
ms.locfileid: "105654405"
---
# <a name="status-bars-windows-controls"></a><span data-ttu-id="e36f0-103">Строки состояния (элементы управления Windows)</span><span class="sxs-lookup"><span data-stu-id="e36f0-103">Status Bars (Windows Controls)</span></span>

<span data-ttu-id="e36f0-104">*Строка состояния* — это горизонтальное окно в нижней части родительского окна, в котором приложение может отображать различные типы сведений о состоянии.</span><span class="sxs-lookup"><span data-stu-id="e36f0-104">A *status bar* is a horizontal window at the bottom of a parent window in which an application can display various kinds of status information.</span></span> <span data-ttu-id="e36f0-105">Строку состояния можно разделить на части, чтобы отобразить более одного типа информации.</span><span class="sxs-lookup"><span data-stu-id="e36f0-105">The status bar can be divided into parts to display more than one type of information.</span></span> <span data-ttu-id="e36f0-106">На следующем снимке экрана показана строка состояния в приложении Microsoft Windows Paint.</span><span class="sxs-lookup"><span data-stu-id="e36f0-106">The following screen shot shows the status bar in the Microsoft Windows Paint application.</span></span> <span data-ttu-id="e36f0-107">В этом случае строка состояния содержит текст "для справки выберите пункт" разделы справки "в меню" Справка ".</span><span class="sxs-lookup"><span data-stu-id="e36f0-107">In this case, the status bar contains the text "For Help, click Help Topics on the Help Menu".</span></span> <span data-ttu-id="e36f0-108">Строка состояния — это область в нижней части окна, содержащая текст справки и сведения о координатах.</span><span class="sxs-lookup"><span data-stu-id="e36f0-108">The status bar is the area at the bottom of the window that contains Help text and coordinate information.</span></span>

![снимок экрана приложения Paint со строкой состояния, содержащей подсказки о справке в Интернете](images/sb-paint.png)

<span data-ttu-id="e36f0-110">Этот раздел содержит следующие темы.</span><span class="sxs-lookup"><span data-stu-id="e36f0-110">This section includes the following topics.</span></span>

-   [<span data-ttu-id="e36f0-111">Типы и стили</span><span class="sxs-lookup"><span data-stu-id="e36f0-111">Types and Styles</span></span>](#types-and-styles)
-   [<span data-ttu-id="e36f0-112">Размер и высота</span><span class="sxs-lookup"><span data-stu-id="e36f0-112">Size and Height</span></span>](#size-and-height)
-   [<span data-ttu-id="e36f0-113">Строки состояния с несколькими частями</span><span class="sxs-lookup"><span data-stu-id="e36f0-113">Multiple-Part Status Bars</span></span>](#multiple-part-status-bars)
-   [<span data-ttu-id="e36f0-114">Операции с текстом строки состояния</span><span class="sxs-lookup"><span data-stu-id="e36f0-114">Status Bar Text Operations</span></span>](#status-bar-text-operations)
-   [<span data-ttu-id="e36f0-115">Строки состояния, рисуемые владельцем</span><span class="sxs-lookup"><span data-stu-id="e36f0-115">Owner-Drawn Status Bars</span></span>](#owner-drawn-status-bars)
-   [<span data-ttu-id="e36f0-116">Строки состояния в простом режиме</span><span class="sxs-lookup"><span data-stu-id="e36f0-116">Simple Mode Status Bars</span></span>](#simple-mode-status-bars)
-   [<span data-ttu-id="e36f0-117">Обработка сообщений в строке состояния по умолчанию</span><span class="sxs-lookup"><span data-stu-id="e36f0-117">Default Status Bar Message Processing</span></span>](#default-status-bar-message-processing)

## <a name="types-and-styles"></a><span data-ttu-id="e36f0-118">Типы и стили</span><span class="sxs-lookup"><span data-stu-id="e36f0-118">Types and Styles</span></span>

<span data-ttu-id="e36f0-119">По умолчанию строка состояния находится в нижней части родительского окна, но для ее отображения в верхней части клиентской области родительского окна можно указать стиль в [**\_ верхнем стиле CCS**](common-control-styles.md) .</span><span class="sxs-lookup"><span data-stu-id="e36f0-119">The default position of a status bar is along the bottom of the parent window, but you can specify the [**CCS\_TOP**](common-control-styles.md) style to have it appear at the top of the parent window's client area.</span></span>

<span data-ttu-id="e36f0-120">Можно указать стиль [**сбарс \_ сизегрип**](status-bar-styles.md) , чтобы включить захват изменения размера в правый конец строки состояния.</span><span class="sxs-lookup"><span data-stu-id="e36f0-120">You can specify the [**SBARS\_SIZEGRIP**](status-bar-styles.md) style to include a sizing grip at the right end of the status bar.</span></span>

> [!Note]  
> <span data-ttu-id="e36f0-121">Не рекомендуется объединять стили [**CCS \_ Top**](common-control-styles.md) и [**сбарс \_ сизегрип**](status-bar-styles.md) , так как полученный захват изменения размера не работает.</span><span class="sxs-lookup"><span data-stu-id="e36f0-121">Combining the [**CCS\_TOP**](common-control-styles.md) and [**SBARS\_SIZEGRIP**](status-bar-styles.md) styles is not recommended because the resulting sizing grip is not functional.</span></span>

 

## <a name="size-and-height"></a><span data-ttu-id="e36f0-122">Размер и высота</span><span class="sxs-lookup"><span data-stu-id="e36f0-122">Size and Height</span></span>

<span data-ttu-id="e36f0-123">Процедура окна для строки состояния автоматически задает начальный размер и расположение окна, игнорируя значения, указанные в функции [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) .</span><span class="sxs-lookup"><span data-stu-id="e36f0-123">The window procedure for the status bar automatically sets the initial size and position of the window, ignoring the values specified in the [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) function.</span></span> <span data-ttu-id="e36f0-124">Ширина совпадает с шириной клиентской области родительского окна.</span><span class="sxs-lookup"><span data-stu-id="e36f0-124">The width is the same as that of the parent window's client area.</span></span> <span data-ttu-id="e36f0-125">Высота зависит от метрик шрифта, выбранного в настоящий момент в контексте устройства в строке состояния, и от ширины границ окна.</span><span class="sxs-lookup"><span data-stu-id="e36f0-125">The height is based on the metrics of the font that is currently selected into the status bar's device context and on the width of the window's borders.</span></span>

<span data-ttu-id="e36f0-126">Процедура окна автоматически корректирует размер строки состояния каждый раз, когда она получает сообщение о [**\_ размере WM**](/windows/desktop/winmsg/wm-size) .</span><span class="sxs-lookup"><span data-stu-id="e36f0-126">The window procedure automatically adjusts the size of the status bar whenever it receives a [**WM\_SIZE**](/windows/desktop/winmsg/wm-size) message.</span></span> <span data-ttu-id="e36f0-127">Как правило, при изменении размера родительского окна родительский элемент отправляет сообщение о **\_ размере WM** в строку состояния.</span><span class="sxs-lookup"><span data-stu-id="e36f0-127">Typically, when the size of the parent window changes, the parent sends a **WM\_SIZE** message to the status bar.</span></span>

<span data-ttu-id="e36f0-128">Приложение может установить минимальную высоту области рисования в строке состояния, отправив окну сообщение [**SB \_ сетминхеигхт**](sb-setminheight.md) , указав минимальную высоту (в пикселях).</span><span class="sxs-lookup"><span data-stu-id="e36f0-128">An application can set the minimum height of a status bar's drawing area by sending the window an [**SB\_SETMINHEIGHT**](sb-setminheight.md) message, specifying the minimum height, in pixels.</span></span> <span data-ttu-id="e36f0-129">Область рисования не включает границы окна.</span><span class="sxs-lookup"><span data-stu-id="e36f0-129">The drawing area does not include the window's borders.</span></span> <span data-ttu-id="e36f0-130">Минимальная высота полезна для рисования в строке состояния, рисуемой владельцем.</span><span class="sxs-lookup"><span data-stu-id="e36f0-130">A minimum height is useful for drawing in an owner-drawn status bar.</span></span> <span data-ttu-id="e36f0-131">Дополнительные сведения см. в разделе [строки состояния, рисуемые владельцем](#owner-drawn-status-bars) далее в этой главе.</span><span class="sxs-lookup"><span data-stu-id="e36f0-131">For more information, see [Owner-Drawn Status Bars](#owner-drawn-status-bars) later in this chapter.</span></span>

<span data-ttu-id="e36f0-132">Чтобы получить ширину границ строки состояния, отправьте окно с сообщением [**SB \_**](sb-getborders.md) .</span><span class="sxs-lookup"><span data-stu-id="e36f0-132">You retrieve the widths of the borders of a status bar by sending the window an [**SB\_GETBORDERS**](sb-getborders.md) message.</span></span> <span data-ttu-id="e36f0-133">Сообщение включает адрес массива из трех элементов, который получает ширину.</span><span class="sxs-lookup"><span data-stu-id="e36f0-133">The message includes the address of a three-element array that receives the widths.</span></span>

## <a name="multiple-part-status-bars"></a><span data-ttu-id="e36f0-134">Строки состояния Multiple-Part</span><span class="sxs-lookup"><span data-stu-id="e36f0-134">Multiple-Part Status Bars</span></span>

<span data-ttu-id="e36f0-135">Строка состояния может содержать множество различных частей, каждая из которых отображает отдельную строку текста.</span><span class="sxs-lookup"><span data-stu-id="e36f0-135">A status bar can have many different parts, each displaying a different line of text.</span></span> <span data-ttu-id="e36f0-136">Строку состояния можно разделить на части, отправив окно с сообщением [**SB \_ сетпартс**](sb-setparts.md) , указав количество создаваемых частей и адрес целочисленного массива.</span><span class="sxs-lookup"><span data-stu-id="e36f0-136">You divide a status bar into parts by sending the window an [**SB\_SETPARTS**](sb-setparts.md) message, specifying the number of parts to create and the address of an integer array.</span></span> <span data-ttu-id="e36f0-137">Массив содержит по одному элементу для каждой части, и каждый элемент Указывает координату клиента правого края части.</span><span class="sxs-lookup"><span data-stu-id="e36f0-137">The array contains one element for each part, and each element specifies the client coordinate of the right edge of a part.</span></span>

<span data-ttu-id="e36f0-138">Строка состояния может содержать не более 256 частей, хотя приложения обычно используют гораздо меньше.</span><span class="sxs-lookup"><span data-stu-id="e36f0-138">A status bar can have a maximum of 256 parts, although applications typically use far fewer than that.</span></span> <span data-ttu-id="e36f0-139">Вы получаете число частей в строке состояния, а также координату правого края каждой из частей, отправляя окно сообщения [**SB \_**](sb-getparts.md) .</span><span class="sxs-lookup"><span data-stu-id="e36f0-139">You retrieve a count of the parts in a status bar, as well as the coordinate of the right edge of each part, by sending the window an [**SB\_GETPARTS**](sb-getparts.md) message.</span></span>

## <a name="status-bar-text-operations"></a><span data-ttu-id="e36f0-140">Операции с текстом строки состояния</span><span class="sxs-lookup"><span data-stu-id="e36f0-140">Status Bar Text Operations</span></span>

<span data-ttu-id="e36f0-141">Можно задать текст любой части строки состояния, отправив сообщение [**SB \_ SETTEXT**](sb-settext.md) , указав Отсчитываемый от нуля индекс части, адрес строки для рисования в части, а также метод рисования строки.</span><span class="sxs-lookup"><span data-stu-id="e36f0-141">You set the text of any part of a status bar by sending the [**SB\_SETTEXT**](sb-settext.md) message, specifying the zero-based index of a part, an address of the string to draw in the part, and the technique for drawing the string.</span></span> <span data-ttu-id="e36f0-142">Метод рисования определяет, имеет ли текст границы и стиль границы.</span><span class="sxs-lookup"><span data-stu-id="e36f0-142">The drawing technique determines whether the text has a border and, if it does, the style of the border.</span></span> <span data-ttu-id="e36f0-143">Он также определяет, отвечает ли родительское окно для рисования текста.</span><span class="sxs-lookup"><span data-stu-id="e36f0-143">It also determines whether the parent window is responsible for drawing the text.</span></span> <span data-ttu-id="e36f0-144">Дополнительные сведения см. в разделе [строки состояния, рисуемые владельцем](#owner-drawn-status-bars) ниже.</span><span class="sxs-lookup"><span data-stu-id="e36f0-144">For more information, see the [Owner-Drawn Status Bars](#owner-drawn-status-bars) section below.</span></span>

<span data-ttu-id="e36f0-145">По умолчанию текст выдается по левому краю в пределах указанной части строки состояния.</span><span class="sxs-lookup"><span data-stu-id="e36f0-145">By default, text is left-aligned within the specified part of a status bar.</span></span> <span data-ttu-id="e36f0-146">В тексте можно внедрять символы табуляции ( \\ t), чтобы выровнять их по центру или по правому краю.</span><span class="sxs-lookup"><span data-stu-id="e36f0-146">You can embed tab characters (\\ t) in the text to center or right-align it.</span></span> <span data-ttu-id="e36f0-147">Текст справа от одного символа табуляции выравнивается по центру, а текст справа от второго символа табуляции выравнивается по правому краю.</span><span class="sxs-lookup"><span data-stu-id="e36f0-147">Text to the right of a single tab character is centered, and text to the right of a second tab character is right-aligned.</span></span>

<span data-ttu-id="e36f0-148">Чтобы получить текст из строки состояния, используйте сообщения [**SB \_ Жеттекстленгс**](sb-gettextlength.md) и [**SB \_ gettext**](sb-gettext.md) .</span><span class="sxs-lookup"><span data-stu-id="e36f0-148">To retrieve text from a status bar, use the [**SB\_GETTEXTLENGTH**](sb-gettextlength.md) and [**SB\_GETTEXT**](sb-gettext.md) messages.</span></span>

<span data-ttu-id="e36f0-149">Если приложение использует строку состояния, которая содержит только одну часть, можно использовать сообщения [**WM \_ SETTEXT**](/windows/desktop/winmsg/wm-settext), [**WM \_ gettext**](/windows/desktop/winmsg/wm-gettext)и [**WM \_ жеттекстленгс**](/windows/desktop/winmsg/wm-gettextlength) для выполнения текстовых операций.</span><span class="sxs-lookup"><span data-stu-id="e36f0-149">If your application uses a status bar that has only one part, you can use the [**WM\_SETTEXT**](/windows/desktop/winmsg/wm-settext), [**WM\_GETTEXT**](/windows/desktop/winmsg/wm-gettext), and [**WM\_GETTEXTLENGTH**](/windows/desktop/winmsg/wm-gettextlength) messages to perform text operations.</span></span> <span data-ttu-id="e36f0-150">Эти сообщения относятся только к части с нулевым индексом, что позволяет обрабатывать строку состояния так же, как и статический элемент управления Text.</span><span class="sxs-lookup"><span data-stu-id="e36f0-150">These messages deal only with the part that has an index of zero, allowing you to treat the status bar much like a static text control.</span></span>

<span data-ttu-id="e36f0-151">Чтобы отобразить строку состояния без создания строки состояния, используйте функцию [**дравстатустекст**](/windows/desktop/api/Commctrl/nf-commctrl-drawstatustexta) .</span><span class="sxs-lookup"><span data-stu-id="e36f0-151">To display a line of status without creating a status bar, use the [**DrawStatusText**](/windows/desktop/api/Commctrl/nf-commctrl-drawstatustexta) function.</span></span> <span data-ttu-id="e36f0-152">Функция использует те же методы для отображения состояния в качестве процедуры окна для строки состояния, но не задает автоматически размер и расположение сведений о состоянии.</span><span class="sxs-lookup"><span data-stu-id="e36f0-152">The function uses the same techniques to draw the status as the window procedure for the status bar, but it does not automatically set the size and position of the status information.</span></span> <span data-ttu-id="e36f0-153">При вызове функции необходимо указать размер и расположение сведений о состоянии, а также контекст устройства, в котором будет нарисовано окно.</span><span class="sxs-lookup"><span data-stu-id="e36f0-153">When calling the function, you must specify the size and position of the status information as well as the device context of the window in which to draw it.</span></span>

## <a name="owner-drawn-status-bars"></a><span data-ttu-id="e36f0-154">Строки состояния Owner-Drawn</span><span class="sxs-lookup"><span data-stu-id="e36f0-154">Owner-Drawn Status Bars</span></span>

<span data-ttu-id="e36f0-155">Отдельные части строки состояния можно определить как фрагменты, рисуемые владельцем.</span><span class="sxs-lookup"><span data-stu-id="e36f0-155">You can define individual parts of a status bar to be owner-drawn parts.</span></span> <span data-ttu-id="e36f0-156">Использование этой методики обеспечивает больше возможностей управления, чем в противном случае.</span><span class="sxs-lookup"><span data-stu-id="e36f0-156">Using this technique gives you more control than you would otherwise have over the appearance of the window part.</span></span> <span data-ttu-id="e36f0-157">Например, можно отобразить точечный рисунок, а не текст или нарисовать текст, используя другой шрифт.</span><span class="sxs-lookup"><span data-stu-id="e36f0-157">For example, you can display a bitmap rather than text or draw text using a different font.</span></span>

<span data-ttu-id="e36f0-158">Чтобы определить часть окна как рисуемую владельцем, отправьте сообщение [**SB \_ SETTEXT**](sb-settext.md) в строку состояния, указав часть и \_ метод рисования SBT овнердрав.</span><span class="sxs-lookup"><span data-stu-id="e36f0-158">To define a window part as owner-drawn, send the [**SB\_SETTEXT**](sb-settext.md) message to the status bar, specifying the part and the SBT\_OWNERDRAW drawing technique.</span></span> <span data-ttu-id="e36f0-159">Если \_ указан SBT овнердрав, параметр *lParam* является значением, заданным в приложении 32 бит, которое приложение может использовать при рисовании части.</span><span class="sxs-lookup"><span data-stu-id="e36f0-159">When SBT\_OWNERDRAW is specified, the *lParam* parameter is a 32-bit application-defined value that the application can use when drawing the part.</span></span> <span data-ttu-id="e36f0-160">Например, можно указать маркер шрифта, маркер точечного рисунка, адрес строки и т. д.</span><span class="sxs-lookup"><span data-stu-id="e36f0-160">For example, you can specify a font handle, a bitmap handle, an address of a string, and so on.</span></span>

<span data-ttu-id="e36f0-161">Когда строка состояния должна нарисовать рисуемую владельцем часть, она отправляет сообщение [**WM \_ DRAWITEM**](wm-drawitem.md) в родительское окно.</span><span class="sxs-lookup"><span data-stu-id="e36f0-161">When a status bar needs to draw an owner-drawn part, it sends the [**WM\_DRAWITEM**](wm-drawitem.md) message to the parent window.</span></span> <span data-ttu-id="e36f0-162">Параметр *wParam* сообщения является идентификатором дочернего окна строки состояния, а параметр *lParam* — адресом структуры [**дравитемструкт**](/windows/win32/api/winuser/ns-winuser-drawitemstruct) .</span><span class="sxs-lookup"><span data-stu-id="e36f0-162">The *wParam* parameter of the message is the child window identifier of the status bar, and the *lParam* parameter is the address of a [**DRAWITEMSTRUCT**](/windows/win32/api/winuser/ns-winuser-drawitemstruct) structure.</span></span> <span data-ttu-id="e36f0-163">Родительское окно использует сведения в структуре для отрисовки части.</span><span class="sxs-lookup"><span data-stu-id="e36f0-163">The parent window uses the information in the structure to draw the part.</span></span> <span data-ttu-id="e36f0-164">Для рисуемой владельцем части строки состояния **дравитемструкт** содержит следующие сведения.</span><span class="sxs-lookup"><span data-stu-id="e36f0-164">For an owner-drawn part of a status bar, **DRAWITEMSTRUCT** contains the following information.</span></span>



| <span data-ttu-id="e36f0-165">Член</span><span class="sxs-lookup"><span data-stu-id="e36f0-165">Member</span></span>         | <span data-ttu-id="e36f0-166">Описание</span><span class="sxs-lookup"><span data-stu-id="e36f0-166">Description</span></span>                                                                                                            |
|----------------|------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="e36f0-167">**ктлтипе**</span><span class="sxs-lookup"><span data-stu-id="e36f0-167">**CtlType**</span></span>    | <span data-ttu-id="e36f0-168">Определено не используйте.</span><span class="sxs-lookup"><span data-stu-id="e36f0-168">Undefined; do not use.</span></span>                                                                                                 |
| <span data-ttu-id="e36f0-169">**ктлид**</span><span class="sxs-lookup"><span data-stu-id="e36f0-169">**CtlID**</span></span>      | <span data-ttu-id="e36f0-170">Идентификатор дочернего окна строки состояния.</span><span class="sxs-lookup"><span data-stu-id="e36f0-170">Child window identifier of the status bar.</span></span>                                                                             |
| <span data-ttu-id="e36f0-171">**itemID**</span><span class="sxs-lookup"><span data-stu-id="e36f0-171">**itemID**</span></span>     | <span data-ttu-id="e36f0-172">Отсчитываемый от нуля индекс части для рисования.</span><span class="sxs-lookup"><span data-stu-id="e36f0-172">Zero-based index of the part to be drawn.</span></span>                                                                              |
| <span data-ttu-id="e36f0-173">**итемактион**</span><span class="sxs-lookup"><span data-stu-id="e36f0-173">**itemAction**</span></span> | <span data-ttu-id="e36f0-174">Определено не используйте.</span><span class="sxs-lookup"><span data-stu-id="e36f0-174">Undefined; do not use.</span></span>                                                                                                 |
| <span data-ttu-id="e36f0-175">**ItemState**</span><span class="sxs-lookup"><span data-stu-id="e36f0-175">**itemState**</span></span>  | <span data-ttu-id="e36f0-176">Определено не используйте.</span><span class="sxs-lookup"><span data-stu-id="e36f0-176">Undefined; do not use.</span></span>                                                                                                 |
| <span data-ttu-id="e36f0-177">**хвндитем**</span><span class="sxs-lookup"><span data-stu-id="e36f0-177">**hwndItem**</span></span>   | <span data-ttu-id="e36f0-178">Маркер строки состояния.</span><span class="sxs-lookup"><span data-stu-id="e36f0-178">Handle to the status bar.</span></span>                                                                                              |
| <span data-ttu-id="e36f0-179">**hDC**</span><span class="sxs-lookup"><span data-stu-id="e36f0-179">**hDC**</span></span>        | <span data-ttu-id="e36f0-180">Обработайте с контекстом устройства строки состояния.</span><span class="sxs-lookup"><span data-stu-id="e36f0-180">Handle to the device context of the status bar.</span></span>                                                                        |
| <span data-ttu-id="e36f0-181">**rcItem**</span><span class="sxs-lookup"><span data-stu-id="e36f0-181">**rcItem**</span></span>     | <span data-ttu-id="e36f0-182">Координаты отображаемой части окна.</span><span class="sxs-lookup"><span data-stu-id="e36f0-182">Coordinates of the window part to be drawn.</span></span> <span data-ttu-id="e36f0-183">Координаты задаются относительно левого верхнего угла строки состояния.</span><span class="sxs-lookup"><span data-stu-id="e36f0-183">The coordinates are relative to the upper left corner of the status bar.</span></span>   |
| <span data-ttu-id="e36f0-184">**итемдата**</span><span class="sxs-lookup"><span data-stu-id="e36f0-184">**itemData**</span></span>   | <span data-ttu-id="e36f0-185">Определяемое приложением 32-разрядное значение, указанное в параметре *lParam* сообщения [**SB \_ SETTEXT**](sb-settext.md) .</span><span class="sxs-lookup"><span data-stu-id="e36f0-185">Application-defined 32-bit value specified in the *lParam* parameter of the [**SB\_SETTEXT**](sb-settext.md) message.</span></span> |



 

## <a name="simple-mode-status-bars"></a><span data-ttu-id="e36f0-186">Строки состояния в простом режиме</span><span class="sxs-lookup"><span data-stu-id="e36f0-186">Simple Mode Status Bars</span></span>

<span data-ttu-id="e36f0-187">Вы поместили строку состояния в "простой режим", отправив ей [**\_ простое**](sb-simple.md) сообщение.</span><span class="sxs-lookup"><span data-stu-id="e36f0-187">You put a status bar in "simple mode" by sending it an [**SB\_SIMPLE**](sb-simple.md) message.</span></span> <span data-ttu-id="e36f0-188">В простой режим в строке состояния отображается только одна часть.</span><span class="sxs-lookup"><span data-stu-id="e36f0-188">A simple mode status bar displays only one part.</span></span> <span data-ttu-id="e36f0-189">Когда задается текст окна, окно становится недействительным, но не перерисовывается до следующего [**\_ рисования WM**](/windows/desktop/gdi/wm-paint).</span><span class="sxs-lookup"><span data-stu-id="e36f0-189">When the text of the window is set, the window is invalidated, but it is not redrawn until the next [**WM\_PAINT**](/windows/desktop/gdi/wm-paint).</span></span> <span data-ttu-id="e36f0-190">Ожидание сообщения уменьшает мерцание экрана за счет минимизации количества попыток перерисовки окна.</span><span class="sxs-lookup"><span data-stu-id="e36f0-190">Waiting for the message reduces screen flicker by minimizing the number of times the window is redrawn.</span></span> <span data-ttu-id="e36f0-191">Строка состояния простого режима полезна для отображения текста справки для пунктов меню, когда пользователь прокручивается по меню.</span><span class="sxs-lookup"><span data-stu-id="e36f0-191">A simple mode status bar is useful for displaying Help text for menu items while the user is scrolling through the menu.</span></span>

<span data-ttu-id="e36f0-192">Строка, отображаемая в строке состояния в простом режиме, сохраняется отдельно от строк, отображаемых в непростом режиме.</span><span class="sxs-lookup"><span data-stu-id="e36f0-192">The string that a status bar displays while in simple mode is maintained separately from the strings that it displays while in nonsimple mode.</span></span> <span data-ttu-id="e36f0-193">Это означает, что окно можно перевести в простой режим, задать его текст и вернуться к непростому режиму без изменения текста в непростом режиме.</span><span class="sxs-lookup"><span data-stu-id="e36f0-193">This means you can put the window in simple mode, set its text, and switch back to nonsimple mode without the nonsimple mode text being changed.</span></span>

<span data-ttu-id="e36f0-194">При задании текста в строке состояния простого режима можно указать любой метод рисования, кроме SBT \_ овнердрав.</span><span class="sxs-lookup"><span data-stu-id="e36f0-194">When setting the text of a simple mode status bar, you can specify any drawing technique except SBT\_OWNERDRAW.</span></span> <span data-ttu-id="e36f0-195">Строка состояния простого режима не поддерживает рисование владельцем.</span><span class="sxs-lookup"><span data-stu-id="e36f0-195">A simple mode status bar does not support owner drawing.</span></span>

## <a name="default-status-bar-message-processing"></a><span data-ttu-id="e36f0-196">Обработка сообщений в строке состояния по умолчанию</span><span class="sxs-lookup"><span data-stu-id="e36f0-196">Default Status Bar Message Processing</span></span>

<span data-ttu-id="e36f0-197">В этом разделе описываются сообщения, обрабатываемые процедурой окна для предопределенного класса [**статускласснаме**](common-control-window-classes.md) .</span><span class="sxs-lookup"><span data-stu-id="e36f0-197">This section describes the messages handled by the window procedure for the predefined [**STATUSCLASSNAME**](common-control-window-classes.md) class.</span></span>



| <span data-ttu-id="e36f0-198">Сообщение</span><span class="sxs-lookup"><span data-stu-id="e36f0-198">Message</span></span>               | <span data-ttu-id="e36f0-199">Обработка по умолчанию</span><span class="sxs-lookup"><span data-stu-id="e36f0-199">Default processing</span></span>                                                                                                                                                                                                                                                       |
|-----------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="e36f0-200">**\_Создание WM**</span><span class="sxs-lookup"><span data-stu-id="e36f0-200">**WM\_CREATE**</span></span>        | <span data-ttu-id="e36f0-201">Инициализирует строку состояния.</span><span class="sxs-lookup"><span data-stu-id="e36f0-201">Initializes the status bar.</span></span>                                                                                                                                                                                                                                              |
| <span data-ttu-id="e36f0-202">**WM \_ destroy**</span><span class="sxs-lookup"><span data-stu-id="e36f0-202">**WM\_DESTROY**</span></span>       | <span data-ttu-id="e36f0-203">Освобождает ресурсы, выделенные для строки состояния.</span><span class="sxs-lookup"><span data-stu-id="e36f0-203">Frees resources allocated for the status bar.</span></span>                                                                                                                                                                                                                            |
| <span data-ttu-id="e36f0-204">**WM, \_ Шрифт**</span><span class="sxs-lookup"><span data-stu-id="e36f0-204">**WM\_GETFONT**</span></span>       | <span data-ttu-id="e36f0-205">Возвращает маркер текущего шрифта, с которым строка состояния рисует текст.</span><span class="sxs-lookup"><span data-stu-id="e36f0-205">Returns the handle to the current font with which the status bar draws its text.</span></span>                                                                                                                                                                                         |
| <span data-ttu-id="e36f0-206">**WM \_ gettext**</span><span class="sxs-lookup"><span data-stu-id="e36f0-206">**WM\_GETTEXT**</span></span>       | <span data-ttu-id="e36f0-207">Копирует текст из первой части строки состояния в буфер.</span><span class="sxs-lookup"><span data-stu-id="e36f0-207">Copies the text from the first part of a status bar to a buffer.</span></span> <span data-ttu-id="e36f0-208">Он возвращает 32-разрядное значение, указывающее длину текста в символах, а также метод, используемый для рисования текста.</span><span class="sxs-lookup"><span data-stu-id="e36f0-208">It returns a 32-bit value that specifies the length, in characters, of the text and the technique used to draw the text.</span></span>                                                                                |
| <span data-ttu-id="e36f0-209">**WM \_ жеттекстленгс**</span><span class="sxs-lookup"><span data-stu-id="e36f0-209">**WM\_GETTEXTLENGTH**</span></span> | <span data-ttu-id="e36f0-210">Возвращает 32-разрядное значение, определяющее длину текста в первой части строки состояния (в символах) и метод, используемый для рисования текста.</span><span class="sxs-lookup"><span data-stu-id="e36f0-210">Returns a 32-bit value that specifies the length, in characters, of the text in the first part of a status bar and the technique used to draw the text.</span></span>                                                                                                                  |
| <span data-ttu-id="e36f0-211">**WM \_ нчиттест**</span><span class="sxs-lookup"><span data-stu-id="e36f0-211">**WM\_NCHITTEST**</span></span>     | <span data-ttu-id="e36f0-212">Возвращает значение ХТБОТТОМРИГХТ, если курсор мыши находится на захвате изменения размера, что приводит к отображению курсора изменения размера в системе.</span><span class="sxs-lookup"><span data-stu-id="e36f0-212">Returns the HTBOTTOMRIGHT value if the mouse cursor is in the sizing grip, causing the system to display the sizing cursor.</span></span> <span data-ttu-id="e36f0-213">Если курсор мыши не находится на захвате изменения размера, строка состояния передает это сообщение функции [**дефвиндовпрок**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) .</span><span class="sxs-lookup"><span data-stu-id="e36f0-213">If the mouse cursor is not in the sizing grip, the status bar passes this message to the [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) function.</span></span> |
| <span data-ttu-id="e36f0-214">**WM \_ Paint**</span><span class="sxs-lookup"><span data-stu-id="e36f0-214">**WM\_PAINT**</span></span>         | <span data-ttu-id="e36f0-215">Закрашивает недействительную область строки состояния.</span><span class="sxs-lookup"><span data-stu-id="e36f0-215">Paints the invalid region of the status bar.</span></span> <span data-ttu-id="e36f0-216">Если параметр *wParam* не равен **null**, то элемент управления предполагает, что значение является HDC и рисует его с помощью контекста устройства.</span><span class="sxs-lookup"><span data-stu-id="e36f0-216">If the *wParam* parameter is non-**NULL**, the control assumes that the value is an HDC and paints using that device context.</span></span>                                                                                               |
| <span data-ttu-id="e36f0-217">**WM \_ сетфонт**</span><span class="sxs-lookup"><span data-stu-id="e36f0-217">**WM\_SETFONT**</span></span>       | <span data-ttu-id="e36f0-218">Выбирает маркер шрифта в контексте устройства для строки состояния.</span><span class="sxs-lookup"><span data-stu-id="e36f0-218">Selects the font handle into the device context for the status bar.</span></span>                                                                                                                                                                                                      |
| <span data-ttu-id="e36f0-219">**WM \_ SETTEXT**</span><span class="sxs-lookup"><span data-stu-id="e36f0-219">**WM\_SETTEXT**</span></span>       | <span data-ttu-id="e36f0-220">Копирует указанный текст в первую часть строки состояния, используя операцию рисования по умолчанию (указанную как нуль).</span><span class="sxs-lookup"><span data-stu-id="e36f0-220">Copies the specified text into the first part of a status bar, using the default drawing operation (specified as zero).</span></span> <span data-ttu-id="e36f0-221">При успешном выполнении он возвращает **значение true** или **false** в противном случае.</span><span class="sxs-lookup"><span data-stu-id="e36f0-221">It returns **TRUE** if successful, or **FALSE** otherwise.</span></span>                                                                                       |
| <span data-ttu-id="e36f0-222">**\_Размер WM**</span><span class="sxs-lookup"><span data-stu-id="e36f0-222">**WM\_SIZE**</span></span>          | <span data-ttu-id="e36f0-223">Изменяет размер строки состояния в соответствии с текущей шириной клиентской области родительского окна и высотой текущего шрифта в строке состояния.</span><span class="sxs-lookup"><span data-stu-id="e36f0-223">Resizes the status bar based on the current width of the parent window's client area and the height of the current font of the status bar.</span></span>                                                                                                                               |



 

 

 
