---
description: Взаимозаблокированный однонаправленный список (Слист) упрощает задачу вставки и удаления из связанного списка.
ms.assetid: 35463ace-33ab-4eb9-9901-2504a92456e2
title: Взаимозаблокированные однонаправленные списки
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 9af39847fa2fd1b1873c661d6ec904783e0139b9
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "105663884"
---
# <a name="interlocked-singly-linked-lists"></a><span data-ttu-id="3fe9b-103">Взаимозаблокированные однонаправленные списки</span><span class="sxs-lookup"><span data-stu-id="3fe9b-103">Interlocked Singly Linked Lists</span></span>

<span data-ttu-id="3fe9b-104">*Взаимозаблокированный однонаправленный список* (слист) упрощает задачу вставки и удаления из связанного списка.</span><span class="sxs-lookup"><span data-stu-id="3fe9b-104">An *interlocked singly linked list* (SList) eases the task of insertion and deletion from a linked list.</span></span> <span data-ttu-id="3fe9b-105">Слистс реализуются с помощью неблочного алгоритма для обеспечения атомарной синхронизации, повышения производительности системы и предотвращения таких проблем, как инверсия приоритетов и блокировка колонны.</span><span class="sxs-lookup"><span data-stu-id="3fe9b-105">SLists are implemented using a nonblocking algorithm to provide atomic synchronization, increase system performance, and avoid problems such as priority inversion and lock convoys.</span></span>

<span data-ttu-id="3fe9b-106">Слистс легко реализовать и использовать в 32-разрядном коде.</span><span class="sxs-lookup"><span data-stu-id="3fe9b-106">SLists are straightforward to implement and use in 32-bit code.</span></span> <span data-ttu-id="3fe9b-107">Однако их сложно реализовать в 64-разрядном коде, поскольку объем данных, которыми обмениваются собственные примитивы обмена, не удваивается, так как он находится в 32-разрядном коде.</span><span class="sxs-lookup"><span data-stu-id="3fe9b-107">However, it is challenging to implement them in 64-bit code because the amount of data exchangeable by the native interlocked exchange primitives is not double the address size, as it is in 32-bit code.</span></span> <span data-ttu-id="3fe9b-108">Таким образом, Слистс обеспечивают перенос высокомасштабируемых высококачественных алгоритмов в Windows.</span><span class="sxs-lookup"><span data-stu-id="3fe9b-108">Therefore, SLists enable porting high-end scalable algorithms to Windows.</span></span>

<span data-ttu-id="3fe9b-109">**Windows 8:** Начиная с Windows 8, для 64-разрядного кода доступны соответствующие собственные примитивы обмена с взаимоблокировкой, например [**InterlockedCompare64Exchange128**](/previous-versions/windows/desktop/legacy/ms683553(v=vs.85)).</span><span class="sxs-lookup"><span data-stu-id="3fe9b-109">**Windows 8:** Starting in Windows 8 the appropriate native interlocked exchange primitives are available for 64-bit code, for example [**InterlockedCompare64Exchange128**](/previous-versions/windows/desktop/legacy/ms683553(v=vs.85)).</span></span>

<span data-ttu-id="3fe9b-110">Приложения могут использовать Слистс, вызывая функцию [**инитиализеслиссеад**](/windows/win32/api/interlockedapi/nf-interlockedapi-initializeslisthead) для инициализации заголовка списка.</span><span class="sxs-lookup"><span data-stu-id="3fe9b-110">Applications can use SLists by calling the [**InitializeSListHead**](/windows/win32/api/interlockedapi/nf-interlockedapi-initializeslisthead) function to initialize the head of the list.</span></span> <span data-ttu-id="3fe9b-111">Чтобы вставить элементы в список, используйте функцию [**интерлоккедпушентрислист**](/windows/win32/api/interlockedapi/nf-interlockedapi-interlockedpushentryslist) .</span><span class="sxs-lookup"><span data-stu-id="3fe9b-111">To insert items into the list, use the [**InterlockedPushEntrySList**](/windows/win32/api/interlockedapi/nf-interlockedapi-interlockedpushentryslist) function.</span></span> <span data-ttu-id="3fe9b-112">Чтобы удалить элементы из списка, используйте функцию [**интерлоккедпопентрислист**](/windows/win32/api/interlockedapi/nf-interlockedapi-interlockedpopentryslist) .</span><span class="sxs-lookup"><span data-stu-id="3fe9b-112">To delete items from the list, use the [**InterlockedPopEntrySList**](/windows/win32/api/interlockedapi/nf-interlockedapi-interlockedpopentryslist) function.</span></span>

<span data-ttu-id="3fe9b-113">Все элементы списка должны быть выровнены по границе **\_ \_ выравнивания выделения памяти** .</span><span class="sxs-lookup"><span data-stu-id="3fe9b-113">All list items must be aligned on a **MEMORY\_ALLOCATION\_ALIGNMENT** boundary.</span></span> <span data-ttu-id="3fe9b-114">Несогласованные элементы могут привести к непредсказуемым результатам.</span><span class="sxs-lookup"><span data-stu-id="3fe9b-114">Unaligned items can cause unpredictable results.</span></span> <span data-ttu-id="3fe9b-115">См. раздел **\_ выравниваемая \_ malloc**.</span><span class="sxs-lookup"><span data-stu-id="3fe9b-115">See **\_aligned\_malloc**.</span></span>

<span data-ttu-id="3fe9b-116">Пример см. в разделе [Использование однонаправленных списков](using-singly-linked-lists.md).</span><span class="sxs-lookup"><span data-stu-id="3fe9b-116">For an example, see [Using Singly Linked Lists](using-singly-linked-lists.md).</span></span>

<span data-ttu-id="3fe9b-117">В следующей таблице перечислены функции Слист.</span><span class="sxs-lookup"><span data-stu-id="3fe9b-117">The following table lists the SList functions.</span></span>



| <span data-ttu-id="3fe9b-118">Функция</span><span class="sxs-lookup"><span data-stu-id="3fe9b-118">Function</span></span>                                                         | <span data-ttu-id="3fe9b-119">Описание</span><span class="sxs-lookup"><span data-stu-id="3fe9b-119">Description</span></span>                                                                                                                                               |
|------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="3fe9b-120">**инитиализеслиссеад**</span><span class="sxs-lookup"><span data-stu-id="3fe9b-120">**InitializeSListHead**</span></span>](/windows/win32/api/interlockedapi/nf-interlockedapi-initializeslisthead)               | <span data-ttu-id="3fe9b-121">Инициализирует заголовок однонаправленного списка.</span><span class="sxs-lookup"><span data-stu-id="3fe9b-121">Initializes the head of a singly linked list.</span></span>                                                                                                             |
| [<span data-ttu-id="3fe9b-122">**интерлоккедфлушслист**</span><span class="sxs-lookup"><span data-stu-id="3fe9b-122">**InterlockedFlushSList**</span></span>](/windows/win32/api/interlockedapi/nf-interlockedapi-interlockedflushslist)           | <span data-ttu-id="3fe9b-123">Очищает весь список элементов в однонаправленном списке.</span><span class="sxs-lookup"><span data-stu-id="3fe9b-123">Flushes the entire list of items in a singly linked list.</span></span>                                                                                                 |
| [<span data-ttu-id="3fe9b-124">**интерлоккедпопентрислист**</span><span class="sxs-lookup"><span data-stu-id="3fe9b-124">**InterlockedPopEntrySList**</span></span>](/windows/win32/api/interlockedapi/nf-interlockedapi-interlockedpopentryslist)     | <span data-ttu-id="3fe9b-125">Удаляет элемент, расположенный перед однонаправленным списком.</span><span class="sxs-lookup"><span data-stu-id="3fe9b-125">Removes an item from the front of a singly linked list.</span></span>                                                                                                   |
| [<span data-ttu-id="3fe9b-126">**интерлоккедпушентрислист**</span><span class="sxs-lookup"><span data-stu-id="3fe9b-126">**InterlockedPushEntrySList**</span></span>](/windows/win32/api/interlockedapi/nf-interlockedapi-interlockedpushentryslist)   | <span data-ttu-id="3fe9b-127">Вставляет элемент в начало однонаправленного списка.</span><span class="sxs-lookup"><span data-stu-id="3fe9b-127">Inserts an item at the front of a singly linked list.</span></span>                                                                                                     |
| <span data-ttu-id="3fe9b-128">[**интерлоккедпушлистслист**](/previous-versions/windows/desktop/legacy/hh448545(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="3fe9b-128">[**InterlockedPushListSList**](/previous-versions/windows/desktop/legacy/hh448545(v=vs.85))</span></span>     | <span data-ttu-id="3fe9b-129">Вставляет однонаправленный список в начале другого однонаправленного списка.</span><span class="sxs-lookup"><span data-stu-id="3fe9b-129">Inserts a singly-linked list at the front of another singly linked list.</span></span>                                                                                  |
| [<span data-ttu-id="3fe9b-130">**интерлоккедпушлистслистекс**</span><span class="sxs-lookup"><span data-stu-id="3fe9b-130">**InterlockedPushListSListEx**</span></span>](/windows/desktop/api/interlockedapi/nf-interlockedapi-interlockedpushlistslistex) | <span data-ttu-id="3fe9b-131">Вставляет однонаправленный список в начале другого однонаправленного списка.</span><span class="sxs-lookup"><span data-stu-id="3fe9b-131">Inserts a singly-linked list at the front of another singly linked list.</span></span> <span data-ttu-id="3fe9b-132">В этой версии метода не используется соглашение о вызовах **\_ \_ fastcall** .</span><span class="sxs-lookup"><span data-stu-id="3fe9b-132">This version of the method does not use the **\_\_fastcall** calling convention.</span></span> |
| [<span data-ttu-id="3fe9b-133">**ртлфирстентрислист**</span><span class="sxs-lookup"><span data-stu-id="3fe9b-133">**RtlFirstEntrySList**</span></span>](/windows/desktop/api/WinNT/nf-winnt-rtlfirstentryslist)                 | <span data-ttu-id="3fe9b-134">Извлекает первую запись в однонаправленном списке.</span><span class="sxs-lookup"><span data-stu-id="3fe9b-134">Retrieves the first entry in a singly linked list.</span></span>                                                                                                        |
| [<span data-ttu-id="3fe9b-135">**куеридепсслист**</span><span class="sxs-lookup"><span data-stu-id="3fe9b-135">**QueryDepthSList**</span></span>](/windows/win32/api/interlockedapi/nf-interlockedapi-querydepthslist)                       | <span data-ttu-id="3fe9b-136">Возвращает количество записей в указанном однонаправленном списке.</span><span class="sxs-lookup"><span data-stu-id="3fe9b-136">Retrieves the number of entries in the specified singly linked list.</span></span>                                                                                      |



 

 

 
