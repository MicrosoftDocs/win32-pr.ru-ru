---
description: Объект синхронизации — это объект, маркер которого может быть указан в одной из функций ожидания для координации выполнения нескольких потоков.
ms.assetid: 11558ae9-1056-48bf-96f5-94a051df41c3
title: Объекты синхронизации
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 299cbd6225b3cc7629378f5fe500fc36ccbe8e86
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "104545663"
---
# <a name="synchronization-objects"></a>Объекты синхронизации

*Объект синхронизации* — это объект, маркер которого может быть указан в одной из [функций ожидания](wait-functions.md) для координации выполнения нескольких потоков. Несколько процессов могут иметь один и тот же объект синхронизации, что позволяет выполнять синхронизацию между процессами.

Следующие типы объектов предоставляются исключительно для синхронизации.



| Тип           | Описание                                                                                                                                                                                                      |
|----------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Событие          | Уведомляет один или более ожидающих потоков о том, что произошло событие. Дополнительные сведения см. в разделе [объекты событий](event-objects.md).                                                                                   |
| Mutex          | Может принадлежать только одному потоку за раз, что позволяет потокам координировать взаимоисключающий доступ к общему ресурсу. Дополнительные сведения см. в разделе [объекты мьютекса](mutex-objects.md).                          |
| Semaphore      | Сохраняет число от нуля до некоторого максимального значения, ограничивая число потоков, одновременно обращающихся к общему ресурсу. Дополнительные сведения см. в разделе [объекты семафора](semaphore-objects.md). |
| Ожидающий таймер | Уведомляет один или несколько ожидающих потоков о поступлении указанного времени. Дополнительные сведения см. в разделе [ожидающие объекты таймера](waitable-timer-objects.md).                                                          |



 

Хотя для других целей можно использовать следующие объекты для синхронизации.



| Объект                       | Описание                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
|------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Уведомление об изменении          | Состояние, созданное функцией [**финдфирстчанженотификатион**](/windows/win32/api/fileapi/nf-fileapi-findfirstchangenotificationa) , задается сигнальным при возникновении определенного типа изменений в указанном каталоге или дереве каталогов. Дополнительные сведения см. в разделе [Получение уведомлений об изменениях каталога](../fileio/obtaining-directory-change-notifications.md).                                                                                                                                   |
| Входные данные консоли                | Создается при создании консоли. Маркер для ввода консоли возвращается функцией [**CreateFile**](/windows/win32/api/fileapi/nf-fileapi-createfilea) при указании Конин $ или функцией [**жетстдхандле**](/windows/console/getstdhandle) . Его состояние задается сигнальным, если в входном буфере консоли есть непрочтенные входные данные, и устанавливается на несигнальное, если входной буфер пуст. Дополнительные сведения о консолях см. в статье [приложения в символьном режиме](/windows/console/character-mode-applications) . |
| Задание                          | Создается путем вызова функции [**креатежобобжект**](/windows/win32/api/jobapi2/nf-jobapi2-createjobobjectw) . Состояние объекта задания задается сигнальным, когда все его процессы завершаются из-за превышения указанного предела времени завершения задания. Дополнительные сведения об объектах заданий см. в разделе [объекты задания](../procthread/job-objects.md).                                                                                                                                                             |
| Уведомление о ресурсе памяти | Создается функцией [**креатемемориресаурценотификатион**](/windows/win32/api/memoryapi/nf-memoryapi-creatememoryresourcenotification) . Его состояние задается сигнальным при возникновении определенного типа изменений в пределах физической памяти. Дополнительные сведения о памяти см. в разделе [Управление памятью](../memory/memory-management.md).                                                                                                                                                                                  |
| Процесс                      | Создается путем вызова функции [**CreateProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createprocessa) . Его состояние устанавливается в несигнальном состоянии во время выполнения процесса и устанавливается в сигнальный режим при завершении процесса. Дополнительные сведения о процессах см. в разделе [процессы и потоки](../procthread/processes-and-threads.md).                                                                                                                                                                                  |
| Thread                       | Создается при создании нового потока путем вызова функции [**CreateProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createprocessa), [**CreateThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createthread)или [**креатеремотесреад**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createremotethread) . Его состояние устанавливается в несигнальном состоянии во время выполнения потока и устанавливается на сигнальное время завершения потока. Дополнительные сведения о потоках см. в разделе [процессы и потоки](../procthread/processes-and-threads.md).                                                            |



 

В некоторых случаях в качестве объекта синхронизации можно также использовать файл, именованный канал или коммуникационное устройство. Однако их использование для этой цели не рекомендуется. Вместо этого используйте асинхронный ввод-вывод и дождитесь, когда объект события задается в структуре [**OVERLAPPED**](/windows/win32/api/minwinbase/ns-minwinbase-overlapped) . Использование объекта события более безопасно в связи с путаницой, которая может возникать при выполнении нескольких одновременно перекрывающихся операций над одним и тем же файлом, именованным каналом или устройством связи. В этом случае нет способа выяснить, какая операция привела к тому, что состояние объекта будет сигнальным.

Дополнительные сведения о операциях ввода-вывода в файлах, именованных каналах и обмене данными см. в разделе [Синхронизация и перекрытие входных и выходных](synchronization-and-overlapped-input-and-output.md)данных.

 

 
