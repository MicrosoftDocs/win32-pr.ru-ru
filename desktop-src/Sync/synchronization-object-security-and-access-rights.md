---
description: Модель безопасности Windows позволяет управлять доступом к событиям, мьютексу, семафору и ожидающим объектам таймера. Очереди таймера, блокируемые переменные и объекты критических секций не являются защищаемыми. Дополнительные сведения см. в разделе Модель Access-Control.
ms.assetid: 92478298-617c-4672-a1cc-9a8e9af40327
title: Безопасность объекта синхронизации и права доступа
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: d1c4bfdb17a6e1c4d99a3e9722e67a3b48a3c788
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "105663419"
---
# <a name="synchronization-object-security-and-access-rights"></a><span data-ttu-id="f38fd-105">Безопасность объекта синхронизации и права доступа</span><span class="sxs-lookup"><span data-stu-id="f38fd-105">Synchronization Object Security and Access Rights</span></span>

<span data-ttu-id="f38fd-106">Модель безопасности Windows позволяет управлять доступом к событиям, мьютексу, семафору и ожидающим объектам таймера.</span><span class="sxs-lookup"><span data-stu-id="f38fd-106">The Windows security model enables you to control access to event, mutex, semaphore, and waitable timer objects.</span></span> <span data-ttu-id="f38fd-107">Очереди таймера, блокируемые переменные и объекты критических секций не являются защищаемыми.</span><span class="sxs-lookup"><span data-stu-id="f38fd-107">Timer queues, interlocked variables, and critical section objects are not securable.</span></span> <span data-ttu-id="f38fd-108">Дополнительные сведения см. в разделе [модель управления доступом](../secauthz/access-control-model.md).</span><span class="sxs-lookup"><span data-stu-id="f38fd-108">For more information, see [Access-Control Model](../secauthz/access-control-model.md).</span></span>

<span data-ttu-id="f38fd-109">Можно указать [дескриптор безопасности](../secauthz/security-descriptors.md) для объекта межпроцессной синхронизации при вызове функции [**CreateEvent**](/windows/win32/api/synchapi/nf-synchapi-createeventa), [**CreateMutex**](/windows/win32/api/synchapi/nf-synchapi-createmutexa), [**createsemaphore-**](/windows/desktop/api/WinBase/nf-winbase-createsemaphorea)или [**сбой createwaitabletimer**](/windows/win32/api/synchapi/nf-synchapi-createwaitabletimerw) .</span><span class="sxs-lookup"><span data-stu-id="f38fd-109">You can specify a [security descriptor](../secauthz/security-descriptors.md) for an interprocess synchronization object when you call the [**CreateEvent**](/windows/win32/api/synchapi/nf-synchapi-createeventa), [**CreateMutex**](/windows/win32/api/synchapi/nf-synchapi-createmutexa), [**CreateSemaphore**](/windows/desktop/api/WinBase/nf-winbase-createsemaphorea), or [**CreateWaitableTimer**](/windows/win32/api/synchapi/nf-synchapi-createwaitabletimerw) function.</span></span> <span data-ttu-id="f38fd-110">Если указано **значение NULL**, то объект получает дескриптор безопасности по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="f38fd-110">If you specify **NULL**, the object gets a default security descriptor.</span></span> <span data-ttu-id="f38fd-111">[Списки управления доступом (ACL)](../secauthz/access-control-lists.md) в дескрипторе безопасности по умолчанию для объекта синхронизации берутся из основного маркера или токена олицетворения создателя.</span><span class="sxs-lookup"><span data-stu-id="f38fd-111">The [Access-Control Lists (ACLs)](../secauthz/access-control-lists.md) in the default security descriptor for a synchronization object come from the primary or impersonation token of the creator.</span></span>

<span data-ttu-id="f38fd-112">Чтобы получить или задать дескриптор безопасности события, мьютекса, семафора или ожидающего объекта таймера, вызовите функции [**жетнамедсекуритинфо**](/windows/win32/api/aclapi/nf-aclapi-getnamedsecurityinfoa), [**сетнамедсекуритинфо**](/windows/win32/api/aclapi/nf-aclapi-setnamedsecurityinfoa), [**жетсекуритинфо**](/windows/win32/api/aclapi/nf-aclapi-getsecurityinfo)или [**сетсекуритинфо**](/windows/win32/api/aclapi/nf-aclapi-setsecurityinfo) .</span><span class="sxs-lookup"><span data-stu-id="f38fd-112">To get or set the security descriptor of an event, mutex, semaphore, or waitable timer object, call the [**GetNamedSecurityInfo**](/windows/win32/api/aclapi/nf-aclapi-getnamedsecurityinfoa), [**SetNamedSecurityInfo**](/windows/win32/api/aclapi/nf-aclapi-setnamedsecurityinfoa), [**GetSecurityInfo**](/windows/win32/api/aclapi/nf-aclapi-getsecurityinfo), or [**SetSecurityInfo**](/windows/win32/api/aclapi/nf-aclapi-setsecurityinfo) functions.</span></span>

<span data-ttu-id="f38fd-113">Дескрипторы, возвращаемые функцией [**CreateEvent**](/windows/win32/api/synchapi/nf-synchapi-createeventa), [**CreateMutex**](/windows/win32/api/synchapi/nf-synchapi-createmutexa), [**createsemaphore-**](/windows/desktop/api/WinBase/nf-winbase-createsemaphorea)и [**сбой createwaitabletimer**](/windows/win32/api/synchapi/nf-synchapi-createwaitabletimerw) , имеют полный доступ к новому объекту.</span><span class="sxs-lookup"><span data-stu-id="f38fd-113">The handles returned by [**CreateEvent**](/windows/win32/api/synchapi/nf-synchapi-createeventa), [**CreateMutex**](/windows/win32/api/synchapi/nf-synchapi-createmutexa), [**CreateSemaphore**](/windows/desktop/api/WinBase/nf-winbase-createsemaphorea), and [**CreateWaitableTimer**](/windows/win32/api/synchapi/nf-synchapi-createwaitabletimerw) have full access to the new object.</span></span> <span data-ttu-id="f38fd-114">При вызове функций [**опеневент**](/windows/win32/api/synchapi/nf-synchapi-openeventa), [**опенмутекс**](/windows/win32/api/synchapi/nf-synchapi-openmutexw), [**опенсемафоре**](/windows/win32/api/synchapi/nf-synchapi-opensemaphorew)и [**опенваитаблетимер**](/windows/win32/api/synchapi/nf-synchapi-openwaitabletimerw) система проверяет запрошенные права доступа к дескриптору безопасности объекта.</span><span class="sxs-lookup"><span data-stu-id="f38fd-114">When you call the [**OpenEvent**](/windows/win32/api/synchapi/nf-synchapi-openeventa), [**OpenMutex**](/windows/win32/api/synchapi/nf-synchapi-openmutexw), [**OpenSemaphore**](/windows/win32/api/synchapi/nf-synchapi-opensemaphorew), and [**OpenWaitableTimer**](/windows/win32/api/synchapi/nf-synchapi-openwaitabletimerw) functions, the system checks the requested access rights against the object's security descriptor.</span></span>

<span data-ttu-id="f38fd-115">Допустимые права доступа для объектов межпроцессной синхронизации включают [стандартные права доступа](../secauthz/standard-access-rights.md) и некоторые права доступа для конкретного объекта.</span><span class="sxs-lookup"><span data-stu-id="f38fd-115">The valid access rights for the interprocess synchronization objects include the [standard access rights](../secauthz/standard-access-rights.md) and some object-specific access rights.</span></span> <span data-ttu-id="f38fd-116">В следующей таблице перечислены стандартные права доступа, используемые всеми объектами.</span><span class="sxs-lookup"><span data-stu-id="f38fd-116">The following table lists the standard access rights used by all objects.</span></span>

| <span data-ttu-id="f38fd-117">Значение</span><span class="sxs-lookup"><span data-stu-id="f38fd-117">Value</span></span>                           | <span data-ttu-id="f38fd-118">Значение</span><span class="sxs-lookup"><span data-stu-id="f38fd-118">Meaning</span></span>                                                                                                                                                                                                                                                                                  |
|---------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="f38fd-119">**Delete** (0x00010000L)</span><span class="sxs-lookup"><span data-stu-id="f38fd-119">**DELETE** (0x00010000L)</span></span>        | <span data-ttu-id="f38fd-120">Требуется для удаления объекта.</span><span class="sxs-lookup"><span data-stu-id="f38fd-120">Required to delete the object.</span></span>                                                                                                                                                                                                                                                           |
| <span data-ttu-id="f38fd-121">**Чтение \_ Элемент управления** (0x00020000L)</span><span class="sxs-lookup"><span data-stu-id="f38fd-121">**READ\_CONTROL** (0x00020000L)</span></span> | <span data-ttu-id="f38fd-122">Требуется для чтения сведений в дескрипторе безопасности объекта, не включая сведения из списка SACL.</span><span class="sxs-lookup"><span data-stu-id="f38fd-122">Required to read information in the security descriptor for the object, not including the information in the SACL.</span></span> <span data-ttu-id="f38fd-123">Для чтения или записи списка SACL необходимо запросить право доступа к **\_ системе \_ безопасности системы доступа** .</span><span class="sxs-lookup"><span data-stu-id="f38fd-123">To read or write the SACL, you must request the **ACCESS\_SYSTEM\_SECURITY** access right.</span></span> <span data-ttu-id="f38fd-124">Дополнительные сведения см. в статье [право доступа к SACL](../secauthz/sacl-access-right.md).</span><span class="sxs-lookup"><span data-stu-id="f38fd-124">For more information, see [SACL Access Right](../secauthz/sacl-access-right.md).</span></span> |
| <span data-ttu-id="f38fd-125">**Синхронизация** (0x00100000L)</span><span class="sxs-lookup"><span data-stu-id="f38fd-125">**SYNCHRONIZE** (0x00100000L)</span></span>   | <span data-ttu-id="f38fd-126">Право на использование данного объекта для синхронизации.</span><span class="sxs-lookup"><span data-stu-id="f38fd-126">The right to use the object for synchronization.</span></span> <span data-ttu-id="f38fd-127">Это позволяет потоку ожидать, пока объект находится в сигнальном состоянии.</span><span class="sxs-lookup"><span data-stu-id="f38fd-127">This enables a thread to wait until the object is in the signaled state.</span></span>                                                                                                                                                                |
| <span data-ttu-id="f38fd-128">**Запись \_ DAC** (0x00040000L)</span><span class="sxs-lookup"><span data-stu-id="f38fd-128">**WRITE\_DAC** (0x00040000L)</span></span>    | <span data-ttu-id="f38fd-129">Требуется для изменения списка DACL в дескрипторе безопасности объекта.</span><span class="sxs-lookup"><span data-stu-id="f38fd-129">Required to modify the DACL in the security descriptor for the object.</span></span>                                                                                                                                                                                                                   |
| <span data-ttu-id="f38fd-130">**Запись \_ Владелец** (0x00080000L)</span><span class="sxs-lookup"><span data-stu-id="f38fd-130">**WRITE\_OWNER** (0x00080000L)</span></span>  | <span data-ttu-id="f38fd-131">Требуется для изменения владельца в дескрипторе безопасности объекта.</span><span class="sxs-lookup"><span data-stu-id="f38fd-131">Required to change the owner in the security descriptor for the object.</span></span>                                                                                                                                                                                                                  |



 

<span data-ttu-id="f38fd-132">В следующей таблице перечислены права доступа, зависящие от объекта, для объектов событий.</span><span class="sxs-lookup"><span data-stu-id="f38fd-132">The following table lists the object-specific access rights for event objects.</span></span> <span data-ttu-id="f38fd-133">Эти права поддерживаются в дополнение к стандартным правам доступа.</span><span class="sxs-lookup"><span data-stu-id="f38fd-133">These rights are supported in addition to the standard access rights.</span></span>



| <span data-ttu-id="f38fd-134">Значение</span><span class="sxs-lookup"><span data-stu-id="f38fd-134">Value</span></span>                             | <span data-ttu-id="f38fd-135">Значение</span><span class="sxs-lookup"><span data-stu-id="f38fd-135">Meaning</span></span>                                                                                                                                                                                                                                                                                          |
|-----------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="f38fd-136">**Событие \_ ВСЕ \_ доступ** (0x1F0003)</span><span class="sxs-lookup"><span data-stu-id="f38fd-136">**EVENT\_ALL\_ACCESS** (0x1F0003)</span></span> | <span data-ttu-id="f38fd-137">Все возможные права доступа для объекта события.</span><span class="sxs-lookup"><span data-stu-id="f38fd-137">All possible access rights for an event object.</span></span> <span data-ttu-id="f38fd-138">Используйте это право, только если приложению требуется доступ за пределами, предоставленными стандартными правами доступа и **\_ \_ состоянием изменения события**.</span><span class="sxs-lookup"><span data-stu-id="f38fd-138">Use this right only if your application requires access beyond that granted by the standard access rights and **EVENT\_MODIFY\_STATE**.</span></span> <span data-ttu-id="f38fd-139">Использование этого права доступа повышает вероятность того, что приложение должно быть запущено администратором.</span><span class="sxs-lookup"><span data-stu-id="f38fd-139">Using this access right increases the possibility that your application must be run by an Administrator.</span></span> |
| <span data-ttu-id="f38fd-140">**Событие \_ ИЗМЕНИТЬ \_ состояние** (0x0002)</span><span class="sxs-lookup"><span data-stu-id="f38fd-140">**EVENT\_MODIFY\_STATE** (0x0002)</span></span> | <span data-ttu-id="f38fd-141">Измените доступ к состоянию, который требуется для функций [**выполнить SetEvent**](/windows/win32/api/synchapi/nf-synchapi-setevent), [**ресетевент**](/windows/win32/api/synchapi/nf-synchapi-resetevent) и [**PulseEvent**](/windows/desktop/api/WinBase/nf-winbase-pulseevent) .</span><span class="sxs-lookup"><span data-stu-id="f38fd-141">Modify state access, which is required for the [**SetEvent**](/windows/win32/api/synchapi/nf-synchapi-setevent), [**ResetEvent**](/windows/win32/api/synchapi/nf-synchapi-resetevent) and [**PulseEvent**](/windows/desktop/api/WinBase/nf-winbase-pulseevent) functions.</span></span>                                                                                                                                    |



 

<span data-ttu-id="f38fd-142">В следующей таблице перечислены права доступа, зависящие от объекта, для объектов мьютекса.</span><span class="sxs-lookup"><span data-stu-id="f38fd-142">The following table lists the object-specific access rights for mutex objects.</span></span> <span data-ttu-id="f38fd-143">Эти права поддерживаются в дополнение к стандартным правам доступа.</span><span class="sxs-lookup"><span data-stu-id="f38fd-143">These rights are supported in addition to the standard access rights.</span></span>



| <span data-ttu-id="f38fd-144">Значение</span><span class="sxs-lookup"><span data-stu-id="f38fd-144">Value</span></span>                             | <span data-ttu-id="f38fd-145">Значение</span><span class="sxs-lookup"><span data-stu-id="f38fd-145">Meaning</span></span>                                                                                                                                                                                                                                                            |
|-----------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="f38fd-146">**Мьютекс \_ ВСЕ \_ доступ** (0x1F0001)</span><span class="sxs-lookup"><span data-stu-id="f38fd-146">**MUTEX\_ALL\_ACCESS** (0x1F0001)</span></span> | <span data-ttu-id="f38fd-147">Все возможные права доступа для объекта Mutex.</span><span class="sxs-lookup"><span data-stu-id="f38fd-147">All possible access rights for a mutex object.</span></span> <span data-ttu-id="f38fd-148">Используйте это право, только если приложению требуется доступ за пределами, предоставленными стандартными правами доступа.</span><span class="sxs-lookup"><span data-stu-id="f38fd-148">Use this right only if your application requires access beyond that granted by the standard access rights.</span></span> <span data-ttu-id="f38fd-149">Использование этого права доступа повышает вероятность того, что приложение должно быть запущено администратором.</span><span class="sxs-lookup"><span data-stu-id="f38fd-149">Using this access right increases the possibility that your application must be run by an Administrator.</span></span> |
| <span data-ttu-id="f38fd-150">**Мьютекс \_ ИЗМЕНИТЬ \_ состояние** (0x0001)</span><span class="sxs-lookup"><span data-stu-id="f38fd-150">**MUTEX\_MODIFY\_STATE** (0x0001)</span></span> | <span data-ttu-id="f38fd-151">Зарезервировано для последующего использования.</span><span class="sxs-lookup"><span data-stu-id="f38fd-151">Reserved for future use.</span></span>                                                                                                                                                                                                                                           |



 

<span data-ttu-id="f38fd-152">В следующей таблице перечислены права доступа, зависящие от объекта, для объектов семафора.</span><span class="sxs-lookup"><span data-stu-id="f38fd-152">The following table lists the object-specific access rights for semaphore objects.</span></span> <span data-ttu-id="f38fd-153">Эти права поддерживаются в дополнение к стандартным правам доступа.</span><span class="sxs-lookup"><span data-stu-id="f38fd-153">These rights are supported in addition to the standard access rights.</span></span>



| <span data-ttu-id="f38fd-154">Значение</span><span class="sxs-lookup"><span data-stu-id="f38fd-154">Value</span></span>                                 | <span data-ttu-id="f38fd-155">Значение</span><span class="sxs-lookup"><span data-stu-id="f38fd-155">Meaning</span></span>                                                                                                                                                                                                                                                                                                 |
|---------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="f38fd-156">**Семафор \_ ВСЕ \_ доступ** (0x1F0003)</span><span class="sxs-lookup"><span data-stu-id="f38fd-156">**SEMAPHORE\_ALL\_ACCESS** (0x1F0003)</span></span> | <span data-ttu-id="f38fd-157">Все возможные права доступа для объекта семафора.</span><span class="sxs-lookup"><span data-stu-id="f38fd-157">All possible access rights for a semaphore object.</span></span> <span data-ttu-id="f38fd-158">Используйте это право, только если приложению требуется доступ за пределами, предоставленными стандартными правами доступа и **\_ изменением \_ состояния семафора**.</span><span class="sxs-lookup"><span data-stu-id="f38fd-158">Use this right only if your application requires access beyond that granted by the standard access rights and **SEMAPHORE\_MODIFY\_STATE**.</span></span> <span data-ttu-id="f38fd-159">Использование этого права доступа повышает вероятность того, что приложение должно быть запущено администратором.</span><span class="sxs-lookup"><span data-stu-id="f38fd-159">Using this access right increases the possibility that your application must be run by an Administrator.</span></span> |
| <span data-ttu-id="f38fd-160">**Семафор \_ ИЗМЕНИТЬ \_ состояние** (0x0002)</span><span class="sxs-lookup"><span data-stu-id="f38fd-160">**SEMAPHORE\_MODIFY\_STATE** (0x0002)</span></span> | <span data-ttu-id="f38fd-161">Измените доступ к состоянию, который требуется для функции [**ReleaseSemaphore**](/windows/win32/api/synchapi/nf-synchapi-releasesemaphore) .</span><span class="sxs-lookup"><span data-stu-id="f38fd-161">Modify state access, which is required for the [**ReleaseSemaphore**](/windows/win32/api/synchapi/nf-synchapi-releasesemaphore) function.</span></span>                                                                                                                                                                                                   |



 

<span data-ttu-id="f38fd-162">В следующей таблице перечислены права доступа, зависящие от объекта, для ожидающих объектов таймера.</span><span class="sxs-lookup"><span data-stu-id="f38fd-162">The following table lists the object-specific access rights for waitable timer objects.</span></span> <span data-ttu-id="f38fd-163">Эти права поддерживаются в дополнение к стандартным правам доступа.</span><span class="sxs-lookup"><span data-stu-id="f38fd-163">These rights are supported in addition to the standard access rights.</span></span>



| <span data-ttu-id="f38fd-164">Значение</span><span class="sxs-lookup"><span data-stu-id="f38fd-164">Value</span></span>                             | <span data-ttu-id="f38fd-165">Значение</span><span class="sxs-lookup"><span data-stu-id="f38fd-165">Meaning</span></span>                                                                                                                                                                                                                                                                                                  |
|-----------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="f38fd-166">**Таймер \_ ВСЕ \_ доступ** (0x1F0003)</span><span class="sxs-lookup"><span data-stu-id="f38fd-166">**TIMER\_ALL\_ACCESS** (0x1F0003)</span></span> | <span data-ttu-id="f38fd-167">Все возможные права доступа для ожидающего объекта таймера.</span><span class="sxs-lookup"><span data-stu-id="f38fd-167">All possible access rights for a waitable timer object.</span></span> <span data-ttu-id="f38fd-168">Используйте это право, только если приложению требуется доступ за пределами, предоставленными стандартными правами доступа и **\_ \_ состоянием изменения таймера**.</span><span class="sxs-lookup"><span data-stu-id="f38fd-168">Use this right only if your application requires access beyond that granted by the standard access rights and **TIMER\_MODIFY\_STATE**.</span></span> <span data-ttu-id="f38fd-169">Использование этого права доступа повышает вероятность того, что приложение должно быть запущено администратором.</span><span class="sxs-lookup"><span data-stu-id="f38fd-169">Using this access right increases the possibility that your application must be run by an Administrator.</span></span> |
| <span data-ttu-id="f38fd-170">**Таймер \_ ИЗМЕНИТЬ \_ состояние** (0x0002)</span><span class="sxs-lookup"><span data-stu-id="f38fd-170">**TIMER\_MODIFY\_STATE** (0x0002)</span></span> | <span data-ttu-id="f38fd-171">Измените доступ к состоянию, который требуется для функций [**сетваитаблетимер**](/windows/win32/api/synchapi/nf-synchapi-setwaitabletimer) и [**канцелваитаблетимер**](/windows/win32/api/synchapi/nf-synchapi-cancelwaitabletimer) .</span><span class="sxs-lookup"><span data-stu-id="f38fd-171">Modify state access, which is required for the [**SetWaitableTimer**](/windows/win32/api/synchapi/nf-synchapi-setwaitabletimer) and [**CancelWaitableTimer**](/windows/win32/api/synchapi/nf-synchapi-cancelwaitabletimer) functions.</span></span>                                                                                                                                            |
| <span data-ttu-id="f38fd-172">**Таймер \_ \_Состояние запроса** (0x0001)</span><span class="sxs-lookup"><span data-stu-id="f38fd-172">**TIMER\_QUERY\_STATE** (0x0001)</span></span>  | <span data-ttu-id="f38fd-173">Зарезервировано для последующего использования.</span><span class="sxs-lookup"><span data-stu-id="f38fd-173">Reserved for future use.</span></span>                                                                                                                                                                                                                                                                                 |



 

<span data-ttu-id="f38fd-174">Для чтения или записи списка SACL объекта синхронизации взаимодействия необходимо запросить право доступа к **\_ системе \_ безопасности системы доступа** .</span><span class="sxs-lookup"><span data-stu-id="f38fd-174">To read or write the SACL of an interprocess synchronization object, you must request the **ACCESS\_SYSTEM\_SECURITY** access right.</span></span> <span data-ttu-id="f38fd-175">Дополнительные сведения см. в разделе [списки управления доступом (ACL)](../secauthz/access-control-lists.md) и [права доступа к спискам SACL](../secauthz/sacl-access-right.md).</span><span class="sxs-lookup"><span data-stu-id="f38fd-175">For more information, see [Access-Control Lists (ACLs)](../secauthz/access-control-lists.md) and [SACL Access Right](../secauthz/sacl-access-right.md).</span></span>

 

 
