---
title: Репликация разделов каталога приложений
description: Разделы каталога приложений чаще всего используются для хранения динамических данных.
ms.assetid: b5fbec54-ee1a-4fe6-b4b7-67fc4e77d043
ms.tgt_platform: multiple
keywords:
- Репликация разделов каталога приложений Active Directory
- Разделы каталога приложений AD, репликация
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 41523b86ae8d3a744d4eb288c5b240a60222aa21
ms.sourcegitcommit: 803f3ccd65bdefe36bd851b9c6e7280be9489016
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/17/2020
ms.locfileid: "104069820"
---
# <a name="application-directory-partition-replication"></a><span data-ttu-id="2efbf-105">Репликация разделов каталога приложений</span><span class="sxs-lookup"><span data-stu-id="2efbf-105">Application Directory Partition Replication</span></span>

<span data-ttu-id="2efbf-106">Разделы каталога приложений чаще всего используются для хранения динамических данных.</span><span class="sxs-lookup"><span data-stu-id="2efbf-106">Application directory partitions are most often used to store dynamic data.</span></span> <span data-ttu-id="2efbf-107">Поскольку данные изменяются чаще, чем данные конфигурации для леса, для каждой секции можно задать область репликации и частоту раздела каталога приложений.</span><span class="sxs-lookup"><span data-stu-id="2efbf-107">Because data changes more often than the configuration data for a forest, the replication scope and frequency of an application directory partition can be set for each partition.</span></span> <span data-ttu-id="2efbf-108">Можно использовать функции репликации служб домен Active Directory, но данные репликации можно настроить так, чтобы они соответствовали типу данных, хранящихся в секции.</span><span class="sxs-lookup"><span data-stu-id="2efbf-108">The replication features of Active Directory Domain Services can be utilized, but the replication data can be fine-tuned to suit the type of data stored on the partition.</span></span>

<span data-ttu-id="2efbf-109">Операционная система не применяет максимальное количество реплик, но количество реплик должно быть минимальным, чтобы снизить влияние репликации данных раздела динамического каталога приложений на производительность.</span><span class="sxs-lookup"><span data-stu-id="2efbf-109">The operating system does not enforce a maximum number of replicas, but the number of replicas should be kept to a minimum to reduce the performance impact of replicating the dynamic application directory partition data.</span></span>

<span data-ttu-id="2efbf-110">KCC создает и поддерживает топологию репликации для раздела каталога приложений.</span><span class="sxs-lookup"><span data-stu-id="2efbf-110">The KCC generates and maintains the replication topology for an application directory partition.</span></span>

## <a name="application-directory-partition-replication-within-a-site"></a><span data-ttu-id="2efbf-111">Репликация разделов каталога приложений в пределах сайта</span><span class="sxs-lookup"><span data-stu-id="2efbf-111">Application Directory Partition Replication Within a Site</span></span>

<span data-ttu-id="2efbf-112">Можно настроить интервалы репликации, управляющие репликацией раздела каталога приложений внутри сайта.</span><span class="sxs-lookup"><span data-stu-id="2efbf-112">The replication intervals that control intra-site replication of an application directory partition can be configured.</span></span> <span data-ttu-id="2efbf-113">Это позволяет синхронизировать динамические данные в разделе каталога приложений более быстро, чем более статические данные в разделе домена.</span><span class="sxs-lookup"><span data-stu-id="2efbf-113">This enables the dynamic data in an application directory partition to be synchronized more promptly than the more static data in a domain partition.</span></span> <span data-ttu-id="2efbf-114">Дополнительные сведения о программной настройке раздела каталога приложений см. в разделе [изменение конфигурации раздела каталога приложений](modifying-application-directory-partition-configuration.md).</span><span class="sxs-lookup"><span data-stu-id="2efbf-114">For more information about programmatically configuring an application directory partition, see [Modifying Application Directory Partition Configuration](modifying-application-directory-partition-configuration.md).</span></span>

<span data-ttu-id="2efbf-115">Два атрибута в объекте [**crossRef**](/windows/desktop/ADSchema/c-crossref) раздела каталога приложений и два значения реестра на каждом контроллере домена Windows 2000 и более поздних версий контролируют задержку при инициации уведомления об изменении на партнерах репликации в пределах сайта.</span><span class="sxs-lookup"><span data-stu-id="2efbf-115">Two attributes on the application directory partition's [**crossRef**](/windows/desktop/ADSchema/c-crossref) object and two registry values on each Windows 2000 and later domain controller control the latency of initiating an originating change notification to replication partners within a site.</span></span>

-   <span data-ttu-id="2efbf-116">Атрибут [**msDS-Replication-notify-First-DSA-Delay**](/windows/desktop/ADSchema/a-msds-replication-notify-first-dsa-delay) объекта [**crossRef**](/windows/desktop/ADSchema/c-crossref) указывает задержку (в секундах) после изменения исходного объекта до уведомления первого партнера репликации.</span><span class="sxs-lookup"><span data-stu-id="2efbf-116">The [**msDS-Replication-Notify-First-DSA-Delay**](/windows/desktop/ADSchema/a-msds-replication-notify-first-dsa-delay) attribute of a [**crossRef**](/windows/desktop/ADSchema/c-crossref) object specifies the delay, in seconds, after an originating object change before the first replication partner is notified.</span></span> <span data-ttu-id="2efbf-117">Значение реестра на каждом контроллере домена может указывать на аналогичное значение.</span><span class="sxs-lookup"><span data-stu-id="2efbf-117">A registry value on each domain controller can specify a similar value.</span></span> <span data-ttu-id="2efbf-118">В лесу Windows Server 2003 первая задержка по умолчанию составляет 15 секунд.</span><span class="sxs-lookup"><span data-stu-id="2efbf-118">In a Windows Server 2003 forest, the default first delay is 15 seconds.</span></span> <span data-ttu-id="2efbf-119">В лесу в смешанном режиме первая задержка по умолчанию составляет пять минут.</span><span class="sxs-lookup"><span data-stu-id="2efbf-119">In a mixed-mode forest, the default first delay is five minutes.</span></span>
-   <span data-ttu-id="2efbf-120">Атрибут [**msDS-Replication-Notification-последующий-DSA-Delay**](/windows/desktop/ADSchema/a-msds-replication-notify-subsequent-dsa-delay) объекта [**crossRef**](/windows/desktop/ADSchema/c-crossref) указывает задержку (в секундах) между последовательными уведомлениями второго, третьего и так далее для партнеров репликации.</span><span class="sxs-lookup"><span data-stu-id="2efbf-120">The [**msDS-Replication-Notify-Subsequent-DSA-Delay**](/windows/desktop/ADSchema/a-msds-replication-notify-subsequent-dsa-delay) attribute of a [**crossRef**](/windows/desktop/ADSchema/c-crossref) object specifies the delay, in seconds, between subsequent notifications to the second, third, and so on replication partners.</span></span> <span data-ttu-id="2efbf-121">Значение реестра на каждом контроллере домена может указывать на аналогичное значение.</span><span class="sxs-lookup"><span data-stu-id="2efbf-121">A registry value on each domain controller can specify a similar value.</span></span> <span data-ttu-id="2efbf-122">В лесу Windows Server 2003 последующая задержка по умолчанию — 3 секунды.</span><span class="sxs-lookup"><span data-stu-id="2efbf-122">In a Windows Server 2003 forest, the default subsequent delay is 3 seconds.</span></span> <span data-ttu-id="2efbf-123">В лесу со смешанным режимом последующая задержка по умолчанию составляет 30 секунд.</span><span class="sxs-lookup"><span data-stu-id="2efbf-123">In a mixed-mode forest, the default subsequent delay is 30 seconds.</span></span>

<span data-ttu-id="2efbf-124">Атрибуты [**crossRef**](/windows/desktop/ADSchema/c-crossref) применяются ко всем контроллерам домена, на которых размещена реплика раздела каталога приложений, и затрагивают только репликацию раздела каталога приложений, определенного объектом **crossRef** .</span><span class="sxs-lookup"><span data-stu-id="2efbf-124">The [**crossRef**](/windows/desktop/ADSchema/c-crossref) attributes apply to all domain controllers hosting a replica of the application directory partition and affect only replication of the application directory partition identified by the **crossRef** object.</span></span> <span data-ttu-id="2efbf-125">Значения реестра применяются только к контроллеру домена, на котором они заданы, и влияют на репликацию внутри сайта для всех разделов, размещаемых контроллером домена.</span><span class="sxs-lookup"><span data-stu-id="2efbf-125">The registry values apply only to the domain controller on which they are set, and affect intra-site replication for all partitions that the domain controller is hosting.</span></span> <span data-ttu-id="2efbf-126">Если не заданы ни атрибуты **crossRef** , ни значения реестра, контроллер домена использует значения по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="2efbf-126">If neither the **crossRef** attributes nor its registry values are set, a domain controller uses the default values.</span></span> <span data-ttu-id="2efbf-127">Если заданы значения реестра, они переопределяют все значения, заданные в объекте **crossRef** .</span><span class="sxs-lookup"><span data-stu-id="2efbf-127">If the registry values are set, they override any values set in the **crossRef** object.</span></span> <span data-ttu-id="2efbf-128">По умолчанию значения параметров реестра и **crossRef** не заданы, поэтому используются значения по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="2efbf-128">By default, the registry and **crossRef** values are not set, so the default values are used.</span></span> <span data-ttu-id="2efbf-129">Это позволяет администратору ускорить репликацию для всех реплик раздела каталога приложений, задав значения **crossRef** , обеспечивая более тонкую настройку с помощью параметров реестра на каждом контроллере домена.</span><span class="sxs-lookup"><span data-stu-id="2efbf-129">This enables an administrator to speed up replication for all replicas of an application directory partition by setting the **crossRef** values, while enabling finer tuning with the registry settings on each domain controller.</span></span>

<span data-ttu-id="2efbf-130">Начиная с Windows Server 2003, разделы домена также используют эти атрибуты объекта [**crossRef**](/windows/desktop/ADSchema/c-crossref) для управления задержкой репликации внутри сайта.</span><span class="sxs-lookup"><span data-stu-id="2efbf-130">Beginning with Windows Server 2003, domain partitions also use these attributes of the [**crossRef**](/windows/desktop/ADSchema/c-crossref) object to control intra-site replication latency.</span></span> <span data-ttu-id="2efbf-131">Это изменение из предыдущих версий сервера, в которых интервалы задержки управляются значениями реестра на каждом контроллере домена.</span><span class="sxs-lookup"><span data-stu-id="2efbf-131">This is a change from previous server versions in which the delay intervals were controlled by registry values on each domain controller.</span></span> <span data-ttu-id="2efbf-132">При обновлении леса до Windows Server 2003 существующие значения реестра сохраняются только в том случае, если они были изменены из значений по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="2efbf-132">When the forest is upgraded to Windows Server 2003, the existing registry values are preserved only if they have been modified from the default values.</span></span> <span data-ttu-id="2efbf-133">Интервалы уведомлений контроллеров домена в реестре переопределяют интервалы уведомлений, хранящиеся в объекте **crossRef** секции.</span><span class="sxs-lookup"><span data-stu-id="2efbf-133">The domain controllers notification intervals in the registry override the notification intervals stored on the partition **crossRef** object.</span></span>

## <a name="application-directory-partition-replication-across-sites"></a><span data-ttu-id="2efbf-134">Репликация разделов каталога приложений между сайтами</span><span class="sxs-lookup"><span data-stu-id="2efbf-134">Application Directory Partition Replication Across Sites</span></span>

<span data-ttu-id="2efbf-135">В репликах раздела каталога приложений, расположенных между сайтами, отслеживается расписание межсайтовой репликации, как это делается для раздела домена и репликации глобального каталога.</span><span class="sxs-lookup"><span data-stu-id="2efbf-135">The replicas of an application directory partition that are located across sites observe the inter-site replication schedule as done for domain partition and global catalog replication.</span></span> <span data-ttu-id="2efbf-136">Тем не менее реплики раздела каталога приложений чаще всего находятся в пределах сайта при размещении действительно меняющихся данных, так как задержка репликации между сайтами может оказаться неприемлемой для того, чтобы реплики были единообразно связаны друг с другом.</span><span class="sxs-lookup"><span data-stu-id="2efbf-136">However, replicas of an application directory partition are more often located within a site when hosting truly volatile data because inter-site replication latency may not be acceptable to get the replicas to be consistent with each other.</span></span>

## <a name="application-directory-partitions-are-not-replicated-to-global-catalogs"></a><span data-ttu-id="2efbf-137">Разделы каталога приложений не реплицируются в глобальные каталоги</span><span class="sxs-lookup"><span data-stu-id="2efbf-137">Application Directory Partitions Are Not Replicated To Global Catalogs</span></span>

<span data-ttu-id="2efbf-138">Объекты в разделе каталога приложений не реплицируются в глобальный каталог.</span><span class="sxs-lookup"><span data-stu-id="2efbf-138">Objects in an application directory partition are not replicated to the global catalog.</span></span> <span data-ttu-id="2efbf-139">Раздел каталога приложений представляется как размещение динамических данных и объектов, для которых он не может быть разумным и не позволяет реплицировать объекты широко.</span><span class="sxs-lookup"><span data-stu-id="2efbf-139">The application directory partition is envisioned as hosting dynamic data and objects for which it may neither be sensible, nor feasible to replicate the objects widely.</span></span> <span data-ttu-id="2efbf-140">По этой причине раздел каталога приложений предлагает контролируемую область и частоту репликации.</span><span class="sxs-lookup"><span data-stu-id="2efbf-140">For this reason, the application directory partition offers controlled scope and frequency of replication.</span></span> <span data-ttu-id="2efbf-141">По этой причине нет причин разрешить репликацию этих объектов в глобальный каталог и, следовательно, распределяться по всему лесу, где существует сервер глобального каталога.</span><span class="sxs-lookup"><span data-stu-id="2efbf-141">Because of this, there is no reason to allow these objects to replicate to the global catalog and hence be distributed across the entire forest where a global catalog server exists.</span></span> <span data-ttu-id="2efbf-142">Это не ограничивает объекты в разделе каталога приложений с помощью атрибутов в схеме, помеченной как [**исмемберофпартиалаттрибутесет**](/windows/desktop/ADSchema/a-ismemberofpartialattributeset).</span><span class="sxs-lookup"><span data-stu-id="2efbf-142">This does not restrict objects in an application directory partition from using attributes in the schema marked as [**isMemberOfPartialAttributeSet**](/windows/desktop/ADSchema/a-ismemberofpartialattributeset).</span></span> <span data-ttu-id="2efbf-143">Как и в случае с любым контроллером домена, сервер глобального каталога можно настроить так, чтобы он был полной репликой раздела каталога приложений.</span><span class="sxs-lookup"><span data-stu-id="2efbf-143">As with any domain controller, a global catalog server can still be configured to be a full replica of an application directory partition.</span></span>

 

 