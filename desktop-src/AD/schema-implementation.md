---
title: Реализация схемы
description: В домен Active Directory Services определения классов и атрибутов хранятся в каталоге как экземпляры классов classSchema и attributeSchema соответственно.
ms.assetid: 917f8e65-df2c-457e-bfd8-3f1ce0d0fbae
ms.tgt_platform: multiple
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: a7ff18046841b5603be235266e33a7252049f93c
ms.sourcegitcommit: 803f3ccd65bdefe36bd851b9c6e7280be9489016
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/17/2020
ms.locfileid: "104069748"
---
# <a name="schema-implementation"></a><span data-ttu-id="8fd56-103">Реализация схемы</span><span class="sxs-lookup"><span data-stu-id="8fd56-103">Schema Implementation</span></span>

<span data-ttu-id="8fd56-104">В домен Active Directory Services определения классов и атрибутов хранятся в каталоге как экземпляры классов [**classSchema**](/windows/desktop/ADSchema/c-classschema) и [**attributeSchema**](/windows/desktop/ADSchema/c-attributeschema) соответственно.</span><span class="sxs-lookup"><span data-stu-id="8fd56-104">In Active Directory Domain Services, class and attribute definitions are stored in the directory as instances of the [**classSchema**](/windows/desktop/ADSchema/c-classschema) and [**attributeSchema**](/windows/desktop/ADSchema/c-attributeschema) classes, respectively.</span></span> <span data-ttu-id="8fd56-105">**classSchema** и **attributeSchema** — это классы, определенные в схеме.</span><span class="sxs-lookup"><span data-stu-id="8fd56-105">**classSchema** and **attributeSchema** are classes defined in the schema.</span></span> <span data-ttu-id="8fd56-106">Для работы со схемой Active Directory используйте те же операции LDAP, которые используются для работы с другим объектом.</span><span class="sxs-lookup"><span data-stu-id="8fd56-106">To manipulate the Active Directory schema, use the same LDAP operations used to manipulate other object.</span></span> <span data-ttu-id="8fd56-107">Поскольку схема является ключевой частью каталога, влияющего на весь лес, к расширениям схемы применяются специальные ограничения.</span><span class="sxs-lookup"><span data-stu-id="8fd56-107">Because the schema is a key part of the directory that affects the entire forest, special restrictions apply to schema extensions.</span></span> <span data-ttu-id="8fd56-108">Дополнительные сведения об ограничениях см. [в разделе ограничения на расширения схемы](restrictions-on-schema-extension.md).</span><span class="sxs-lookup"><span data-stu-id="8fd56-108">For more information about restrictions, see [Restrictions on Schema Extensions](restrictions-on-schema-extension.md).</span></span>

<span data-ttu-id="8fd56-109">Для суммирования реализации схемы:</span><span class="sxs-lookup"><span data-stu-id="8fd56-109">To summarize the schema implementation:</span></span>

-   <span data-ttu-id="8fd56-110">Экземпляры класса [**classSchema**](/windows/desktop/ADSchema/c-classschema) определяют каждый класс объектов, поддерживаемый службами домен Active Directory.</span><span class="sxs-lookup"><span data-stu-id="8fd56-110">Instances of the [**classSchema**](/windows/desktop/ADSchema/c-classschema) class define every object class supported by Active Directory Domain Services.</span></span> <span data-ttu-id="8fd56-111">Атрибуты объекта **classSchema** , например его атрибуты [**mayContain**](/windows/desktop/ADSchema/a-maycontain) и [**mustContain**](/windows/desktop/ADSchema/a-mustcontain) , описывают класс объекта так же, как атрибуты объекта пользователя, например его атрибуты [**userPrincipalName**](/windows/desktop/ADSchema/a-userprincipalname) и [**telephoneNumber**](/windows/desktop/ADSchema/a-telephonenumber) , описывают этого пользователя.</span><span class="sxs-lookup"><span data-stu-id="8fd56-111">The attributes of a **classSchema** object, for example, its [**mayContain**](/windows/desktop/ADSchema/a-maycontain) and [**mustContain**](/windows/desktop/ADSchema/a-mustcontain) attributes, describe an object class, the same way that the attributes of a user object, for example, its [**userPrincipalName**](/windows/desktop/ADSchema/a-userprincipalname) and [**telephoneNumber**](/windows/desktop/ADSchema/a-telephonenumber) attributes, describe that user.</span></span> <span data-ttu-id="8fd56-112">Дополнительные сведения см. в разделе [характеристики классов объектов](characteristics-of-object-classes.md).</span><span class="sxs-lookup"><span data-stu-id="8fd56-112">For more information, see [Characteristics of Object Classes](characteristics-of-object-classes.md).</span></span>
-   <span data-ttu-id="8fd56-113">Экземпляры класса [**attributeSchema**](/windows/desktop/ADSchema/c-attributeschema) используются для определения каждого атрибута, поддерживаемого службами домен Active Directory.</span><span class="sxs-lookup"><span data-stu-id="8fd56-113">Instances of the [**attributeSchema**](/windows/desktop/ADSchema/c-attributeschema) class are used to define every attribute supported by Active Directory Domain Services.</span></span> <span data-ttu-id="8fd56-114">Атрибуты объекта **attributeSchema** , например атрибуты **attributeSyntax** и **иссинглевалуед** , описывают атрибут так же, как атрибуты пользовательского объекта описывают этого пользователя.</span><span class="sxs-lookup"><span data-stu-id="8fd56-114">The attributes of an **attributeSchema** object, for example, its **attributeSyntax** and **isSingleValued** attributes, describe an attribute, the same way the attributes of a user object describe that user.</span></span> <span data-ttu-id="8fd56-115">Дополнительные сведения см. в разделе [характеристики атрибутов](characteristics-of-attributes.md).</span><span class="sxs-lookup"><span data-stu-id="8fd56-115">For more information, see [Characteristics of Attributes](characteristics-of-attributes.md).</span></span>
-   <span data-ttu-id="8fd56-116">Экземпляры классов [**attributeSchema**](/windows/desktop/ADSchema/c-attributeschema) и [**classSchema**](/windows/desktop/ADSchema/c-classschema) хранятся в хорошо известном месте в каталоге, контейнере схемы.</span><span class="sxs-lookup"><span data-stu-id="8fd56-116">Instances of the [**attributeSchema**](/windows/desktop/ADSchema/c-attributeschema) and [**classSchema**](/windows/desktop/ADSchema/c-classschema) classes are stored in a well-known place in the directory, the schema container.</span></span> <span data-ttu-id="8fd56-117">Контейнер схемы всегда имеет различающееся имя формы:</span><span class="sxs-lookup"><span data-stu-id="8fd56-117">The schema container always has a distinguished name of the form:</span></span>

    ```C++
    CN=Schema,CN=Configuration,<DC=forestroot>
    ```

    

    <span data-ttu-id="8fd56-118">где " &lt; DC = forestroot &gt; " — это различающееся имя корня леса, например "DC = Fabrikam, DC = com".</span><span class="sxs-lookup"><span data-stu-id="8fd56-118">where "&lt;DC=forestroot&gt;" is the distinguished name of the root of the forest, for example, "DC=Fabrikam,DC=Com".</span></span>

    <span data-ttu-id="8fd56-119">Чтобы получить различающееся имя контейнера схемы, прочитайте атрибут **счеманамингконтекст** в RootDSE.</span><span class="sxs-lookup"><span data-stu-id="8fd56-119">To get the distinguished name of the schema container, read the **schemaNamingContext** attribute of rootDSE.</span></span> <span data-ttu-id="8fd56-120">Дополнительные сведения о rootDSE и ее атрибутах см. в разделе [Привязка бессерверных данных и RootDSE](serverless-binding-and-rootdse.md).</span><span class="sxs-lookup"><span data-stu-id="8fd56-120">For more information about rootDSE and its attributes, see [Serverless Binding and RootDSE](serverless-binding-and-rootdse.md).</span></span>

<span data-ttu-id="8fd56-121">При обдумывании схемы Помните:</span><span class="sxs-lookup"><span data-stu-id="8fd56-121">When thinking about the schema, remember:</span></span>

-   <span data-ttu-id="8fd56-122">Изменения схемы являются глобальными.</span><span class="sxs-lookup"><span data-stu-id="8fd56-122">Schema changes are global.</span></span> <span data-ttu-id="8fd56-123">Для всего леса существует одна схема.</span><span class="sxs-lookup"><span data-stu-id="8fd56-123">There is a single schema for an entire forest.</span></span> <span data-ttu-id="8fd56-124">Схема глобально реплицируется: копия схемы существует на каждом контроллере домена в лесу.</span><span class="sxs-lookup"><span data-stu-id="8fd56-124">The schema is globally replicated: a copy of the schema exists on every domain controller in the forest.</span></span> <span data-ttu-id="8fd56-125">При расширении схемы это делается для всего леса.</span><span class="sxs-lookup"><span data-stu-id="8fd56-125">When you extend the schema, you do so for the entire forest.</span></span>
-   <span data-ttu-id="8fd56-126">Добавление схем необратимо.</span><span class="sxs-lookup"><span data-stu-id="8fd56-126">Schema additions are not reversible.</span></span> <span data-ttu-id="8fd56-127">При добавлении в схему нового класса или атрибута его нельзя удалить.</span><span class="sxs-lookup"><span data-stu-id="8fd56-127">When a new class or attribute is added to the schema, it cannot be removed.</span></span> <span data-ttu-id="8fd56-128">Существующий атрибут или класс можно отключить, но не удалять.</span><span class="sxs-lookup"><span data-stu-id="8fd56-128">An existing attribute or class can be disabled, but not removed.</span></span> <span data-ttu-id="8fd56-129">Дополнительные сведения см. в разделе [Отключение существующих классов и атрибутов](disabling-existing-classes-and-attributes.md).</span><span class="sxs-lookup"><span data-stu-id="8fd56-129">For more information, see [Disabling Existing Classes and Attributes](disabling-existing-classes-and-attributes.md).</span></span>
-   <span data-ttu-id="8fd56-130">Отключение класса или атрибута не влияет на существующие экземпляры класса или атрибута, но не позволяет создавать новые экземпляры.</span><span class="sxs-lookup"><span data-stu-id="8fd56-130">Disabling a class or attribute does not affect existing instances of the class or attribute, but it prevents new instances from being created.</span></span> <span data-ttu-id="8fd56-131">Нельзя отключить атрибут, если он включен в любой класс, который не отключен.</span><span class="sxs-lookup"><span data-stu-id="8fd56-131">You cannot disable an attribute if it is included in any class that is not disabled.</span></span>

 

 