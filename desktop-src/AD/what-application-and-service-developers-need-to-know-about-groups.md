---
title: Какие разработчики приложений и служб должны знать о группах
description: При разработке приложения или службы можно использовать группы для делегирования администрирования или управления доступом к приложению или службе в целом или частично.
ms.assetid: 19e189a5-2880-4b45-84c8-e7b542c4fbb6
ms.tgt_platform: multiple
keywords:
- Какие разработчики приложений и служб должны знать о группах
- группы AD, сведения для разработчиков приложений и служб
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: dd23f598925c959502e1013ff43ad18bbb42ed7b
ms.sourcegitcommit: 803f3ccd65bdefe36bd851b9c6e7280be9489016
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/17/2020
ms.locfileid: "103789438"
---
# <a name="what-application-and-service-developers-need-to-know-about-groups"></a><span data-ttu-id="1d50d-105">Какие разработчики приложений и служб должны знать о группах</span><span class="sxs-lookup"><span data-stu-id="1d50d-105">What Application and Service Developers Need to Know About Groups</span></span>

<span data-ttu-id="1d50d-106">При разработке приложения или службы можно использовать группы для делегирования администрирования или управления доступом к приложению или службе в целом или частично.</span><span class="sxs-lookup"><span data-stu-id="1d50d-106">When developing an application or service, you can use groups to delegate administration or control access to the application or service as a whole or part.</span></span> <span data-ttu-id="1d50d-107">Например, приложение может контролировать, кто может выполнять различные административные операции.</span><span class="sxs-lookup"><span data-stu-id="1d50d-107">For example, an application can control who can perform various administrative operations.</span></span> <span data-ttu-id="1d50d-108">Для этого создайте записи ACE, предоставляющие указанные права доступа соответствующим группам.</span><span class="sxs-lookup"><span data-stu-id="1d50d-108">To do this, create ACEs that grant specified access rights to the appropriate groups.</span></span> <span data-ttu-id="1d50d-109">Хорошей практикой в программировании является наличие ACE, предоставляющего доступ к группе, чем наличие нескольких записей ACE, предоставляющих доступ отдельным пользователям или компьютерам.</span><span class="sxs-lookup"><span data-stu-id="1d50d-109">It is good programming practice to have an ACE that grants access to a group than to have several ACEs that grant access to individual users or computers.</span></span>

<span data-ttu-id="1d50d-110">При использовании групп рекомендуется использовать следующие рекомендации:</span><span class="sxs-lookup"><span data-stu-id="1d50d-110">It is recommended that applications use the following guidelines when using groups:</span></span>

-   <span data-ttu-id="1d50d-111">Не создавайте зависимости от жестко запрограммированных групп, что может создать сложности при удалении или перемещении группы.</span><span class="sxs-lookup"><span data-stu-id="1d50d-111">Do not create dependencies on hard-coded groups, which can create complications if the group is deleted or moved.</span></span>
-   <span data-ttu-id="1d50d-112">Старайтесь не использовать встроенные группы, если только функция группы не предоставляет конкретные потребности для приложения.</span><span class="sxs-lookup"><span data-stu-id="1d50d-112">Avoid using built-in groups unless the function of the group provides the specific needs for the application.</span></span> <span data-ttu-id="1d50d-113">Например, не следует требовать, чтобы пользователь был членом группы администраторов, только чтобы предоставить пользователю разрешение на создание учетной записи компьютера.</span><span class="sxs-lookup"><span data-stu-id="1d50d-113">For example, do not require that a user be a member of the Administrators group just to provide the user with permission to create a computer account.</span></span> <span data-ttu-id="1d50d-114">Это предоставляет пользователю разрешения и привилегии, которые могут не требоваться, что может вызвать уязвимость системы безопасности.</span><span class="sxs-lookup"><span data-stu-id="1d50d-114">Doing this provides the user with permissions and privileges that they may not need, which can cause security vulnerability.</span></span> <span data-ttu-id="1d50d-115">Вместо этого следует создать новую группу безопасности с нужными разрешениями и добавить пользователя в эту новую группу.</span><span class="sxs-lookup"><span data-stu-id="1d50d-115">Instead, you should create a new security group that has the specific permissions required and add the user to this new group.</span></span>
-   <span data-ttu-id="1d50d-116">При создании новых групп учитывайте следующие рекомендации.</span><span class="sxs-lookup"><span data-stu-id="1d50d-116">When creating new groups, keep in mind the following recommendations:</span></span>
    -   <span data-ttu-id="1d50d-117">Защитите группу, задавая ACE, которые определяют, кто может добавлять или удалять элементы.</span><span class="sxs-lookup"><span data-stu-id="1d50d-117">Protect the group by setting ACEs that control who can add or remove members.</span></span>
    -   <span data-ttu-id="1d50d-118">Используйте глобальные группы, если они используются для управления доступом к объектам в службах домен Active Directory Services.</span><span class="sxs-lookup"><span data-stu-id="1d50d-118">Use global groups if they are used for access control on objects in Active Directory Domain Services.</span></span>
    -   <span data-ttu-id="1d50d-119">Используйте универсальные группы только при необходимости (данные элементов необходимы глобально с помощью глобального каталога; группа может содержать пользователей или группы).</span><span class="sxs-lookup"><span data-stu-id="1d50d-119">Use universal groups only if necessary (member data is required globally using global catalog; group can contain any user/group).</span></span> <span data-ttu-id="1d50d-120">Если вы используете универсальные группы, разместите глобальные группы в универсальной группе и добавьте или удалите пользователей из глобальной группы.</span><span class="sxs-lookup"><span data-stu-id="1d50d-120">If you do use universal groups, place global groups in the universal group and add/remove users from the global group.</span></span> <span data-ttu-id="1d50d-121">Избегайте избыточного изменения универсальных групп для повышения эффективности репликации.</span><span class="sxs-lookup"><span data-stu-id="1d50d-121">Avoid excess change to universal groups for replication efficiency.</span></span>
-   <span data-ttu-id="1d50d-122">Не используйте членство в группах для контроля доступа.</span><span class="sxs-lookup"><span data-stu-id="1d50d-122">Do not use group membership for access control.</span></span> <span data-ttu-id="1d50d-123">Вместо этого используйте ACE и контролируйте доступ, выполнив проверку доступа системой.</span><span class="sxs-lookup"><span data-stu-id="1d50d-123">Instead, use an ACE and control access by having the system perform an access check.</span></span>

<span data-ttu-id="1d50d-124">Для управления доступом к операциям, которые не помещаются в предопределенные права доступа для объектов в домен Active Directory Services, используйте функцию Управление доступом к данным в Windows 2000.</span><span class="sxs-lookup"><span data-stu-id="1d50d-124">To control access to operations that do not fit within the predefined access rights for objects in Active Directory Domain services, use the control access rights feature of access control in Windows 2000.</span></span> <span data-ttu-id="1d50d-125">Дополнительные сведения см. в [**разделе \_ \_ перечисление прав ADS**](/windows/win32/api/iads/ne-iads-ads_rights_enum).</span><span class="sxs-lookup"><span data-stu-id="1d50d-125">For more information, see [**ADS\_RIGHTS\_ENUM**](/windows/win32/api/iads/ne-iads-ads_rights_enum).</span></span>

<span data-ttu-id="1d50d-126">**Использование права доступа Control для управления правом на выполнение операции**</span><span class="sxs-lookup"><span data-stu-id="1d50d-126">**To use a control access right to control the right to perform an operation**</span></span>

1.  <span data-ttu-id="1d50d-127">Создайте право доступа к управлению, определяющее тип доступа к приложению или службе.</span><span class="sxs-lookup"><span data-stu-id="1d50d-127">Create a control access right that defines the type of access to the application or service.</span></span> <span data-ttu-id="1d50d-128">Дополнительные сведения см. в разделе [Управление правами доступа](control-access-rights.md).</span><span class="sxs-lookup"><span data-stu-id="1d50d-128">For more information, see [Control Access Rights](control-access-rights.md).</span></span>
2.  <span data-ttu-id="1d50d-129">Создайте объект в службах домен Active Directory, представляющих приложение, службу или ресурс.</span><span class="sxs-lookup"><span data-stu-id="1d50d-129">Create an object in Active Directory Domain Services that represents the application, service, or resource.</span></span>
3.  <span data-ttu-id="1d50d-130">Добавьте ACE объекта в список DACL в дескрипторе безопасности объекта, чтобы предоставить или запретить пользователям или группам право доступа к этому объекту.</span><span class="sxs-lookup"><span data-stu-id="1d50d-130">Add object ACEs to the DACL in the object security descriptor to grant or deny users or groups the control access right on that object.</span></span> <span data-ttu-id="1d50d-131">Дополнительные сведения см. [в разделе Установка прав доступа для объекта](setting-access-rights-on-an-object.md).</span><span class="sxs-lookup"><span data-stu-id="1d50d-131">For more information, see [Setting Access Rights on an Object](setting-access-rights-on-an-object.md).</span></span>
4.  <span data-ttu-id="1d50d-132">Когда пользователь пытается выполнить защищенную операцию, приложение или служба использует функцию [**акцессчеккбитипересултлист**](/windows/desktop/api/securitybaseapi/nf-securitybaseapi-accesscheckbytyperesultlist) , чтобы определить, предоставлено ли пользователю право доступа к управлению.</span><span class="sxs-lookup"><span data-stu-id="1d50d-132">When a user attempts to perform the protected operation, your application or service uses the [**AccessCheckByTypeResultList**](/windows/desktop/api/securitybaseapi/nf-securitybaseapi-accesscheckbytyperesultlist) function to determine whether the control access right is granted to the user.</span></span> <span data-ttu-id="1d50d-133">Дополнительные сведения см. [в разделе Проверка прав доступа к элементу управления в списке ACL объекта](checking-a-control-access-right-in-an-objectampaposs-acl.md).</span><span class="sxs-lookup"><span data-stu-id="1d50d-133">For more information, see [Checking a Control Access Right in an Object's ACL](checking-a-control-access-right-in-an-objectampaposs-acl.md).</span></span>
5.  <span data-ttu-id="1d50d-134">В зависимости от результата проверки доступа к объекту приложение или служба могут предоставить или запретить пользователю доступ к приложению или службе.</span><span class="sxs-lookup"><span data-stu-id="1d50d-134">Based on the result of the access check on the object, your application or service can grant or deny the user access to the application or service.</span></span>

<span data-ttu-id="1d50d-135">Приложение службы может также создать группу, члены которой будут разными экземплярами службы.</span><span class="sxs-lookup"><span data-stu-id="1d50d-135">A service application could also create a group whose members would be the various service instances.</span></span> <span data-ttu-id="1d50d-136">Например, служба с экземплярами, установленными на нескольких компьютерах в рамках предприятия, может иметь общий файл журнала, в который будут записываться все экземпляры службы.</span><span class="sxs-lookup"><span data-stu-id="1d50d-136">For example, a service with instances installed on multiple computers throughout an enterprise might have a common log file that all service instances write to.</span></span> <span data-ttu-id="1d50d-137">Программа установки службы создает файл журнала и использует список DACL для предоставления доступа только членам группы.</span><span class="sxs-lookup"><span data-stu-id="1d50d-137">The service installation program creates the log file and uses a DACL to grant access only to members of a group.</span></span> <span data-ttu-id="1d50d-138">Членами группы могут быть учетные записи пользователей, с которыми работают различные экземпляры службы, или если службы выполняются под учетной записью LocalSystem, эти элементы будут учетными записями компьютеров серверов узла.</span><span class="sxs-lookup"><span data-stu-id="1d50d-138">The group members would be the user accounts under which the various service instances are running, or if the services run under the LocalSystem account, the members would be the computer accounts of the host servers.</span></span>

 

 