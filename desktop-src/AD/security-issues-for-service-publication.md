---
title: Проблемы безопасности для публикации службы
description: Система ограничена возможностью создания, изменения или удаления объектов точек подключения. Учитывайте и обрабатывайте эти ограничения при публикации службы.
ms.assetid: 38e20a47-738d-4951-ad74-249039afeb52
ms.tgt_platform: multiple
keywords:
- Проблемы безопасности при публикации службы AD
- Active Directory, использование, безопасность, проблемы безопасности публикации служб
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: fee5be89c490fa938cdc9c7cf3d7d72434a3dffa
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/16/2019
ms.locfileid: "103773088"
---
# <a name="security-issues-for-service-publication"></a><span data-ttu-id="59ca2-106">Проблемы безопасности для публикации службы</span><span class="sxs-lookup"><span data-stu-id="59ca2-106">Security Issues for Service Publication</span></span>

<span data-ttu-id="59ca2-107">Система ограничена возможностью создания, изменения или удаления объектов точек подключения.</span><span class="sxs-lookup"><span data-stu-id="59ca2-107">The system restricts the ability to create, modify, or delete connection point objects.</span></span> <span data-ttu-id="59ca2-108">Учитывайте и обрабатывайте эти ограничения при публикации службы.</span><span class="sxs-lookup"><span data-stu-id="59ca2-108">Be aware of, and handle, these restrictions when you publish a service.</span></span>

<span data-ttu-id="59ca2-109">Клиенты должны иметь возможность доверять данным, опубликованным в объекте точки подключения в каталоге.</span><span class="sxs-lookup"><span data-stu-id="59ca2-109">Clients must be able to trust the data published in a connection point object in the directory.</span></span> <span data-ttu-id="59ca2-110">По этой причине разрешение на создание объекта точки подключения обычно ограничивается привилегированными пользователями, такими как Администраторы домена.</span><span class="sxs-lookup"><span data-stu-id="59ca2-110">For this reason, permission to create a connection point object is typically restricted to privileged users, such as domain administrators.</span></span> <span data-ttu-id="59ca2-111">Это предотвращает неавторизованные пользователи обманчив клиентов, создавая недопустимые точки соединения для хорошо известных служб.</span><span class="sxs-lookup"><span data-stu-id="59ca2-111">This prevents unauthorized users from deceiving clients by creating invalid connection points for well-known services.</span></span>

<span data-ttu-id="59ca2-112">Службы не должны запускаться с правами администратора домена.</span><span class="sxs-lookup"><span data-stu-id="59ca2-112">Services must not run with domain administrator privileges.</span></span> <span data-ttu-id="59ca2-113">Это означает, что служба обычно не может создать собственную точку подключения.</span><span class="sxs-lookup"><span data-stu-id="59ca2-113">This means that a service typically cannot create its own connection point.</span></span> <span data-ttu-id="59ca2-114">Вместо этого вы предоставляете приложение установки или настройки службы, которое создает точку подключения.</span><span class="sxs-lookup"><span data-stu-id="59ca2-114">Instead, you provide a service installation or configuration application that creates the connection point.</span></span> <span data-ttu-id="59ca2-115">Этот установщик должен запускаться пользователем с необходимыми привилегиями.</span><span class="sxs-lookup"><span data-stu-id="59ca2-115">This installer must be run by a user with the necessary privileges.</span></span>

<span data-ttu-id="59ca2-116">Хотя служба обычно не может создать свою точку подключения, она должна иметь возможность обновлять свойства точки подключения во время выполнения.</span><span class="sxs-lookup"><span data-stu-id="59ca2-116">Although a service cannot typically create its connection point, it must be able to update the connection point properties at run time.</span></span> <span data-ttu-id="59ca2-117">Свойства точки подключения содержат данные привязки, используемые клиентами для подключения к службе.</span><span class="sxs-lookup"><span data-stu-id="59ca2-117">The connection point properties contain the binding data used by clients to connect to the service.</span></span> <span data-ttu-id="59ca2-118">При изменении данных привязки служба должна обновить точку подключения. в противном случае клиенты не смогут использовать службу.</span><span class="sxs-lookup"><span data-stu-id="59ca2-118">If the binding data changes, the service must update the connection point; otherwise, clients cannot use the service.</span></span> <span data-ttu-id="59ca2-119">Это означает, что установщик также должен изменить дескриптор безопасности объекта точки подключения, чтобы служба выполняла чтение и запись соответствующих свойств во время выполнения.</span><span class="sxs-lookup"><span data-stu-id="59ca2-119">This means that the installer must also modify the security descriptor on the connection point object to enable the service to read and write the appropriate properties at run time.</span></span> <span data-ttu-id="59ca2-120">Дополнительные сведения и пример кода см. в разделе [Включение учетной записи службы для доступа к свойствам SCP](enabling-service-account-to-access-scp-properties.md).</span><span class="sxs-lookup"><span data-stu-id="59ca2-120">For more information and a code example, see [Enabling Service Account to Access SCP Properties](enabling-service-account-to-access-scp-properties.md).</span></span>

<span data-ttu-id="59ca2-121">Служба, работающая под учетной записью LocalSystem, может создать точку подключения в качестве дочернего объекта в своем собственном объекте компьютера в каталоге.</span><span class="sxs-lookup"><span data-stu-id="59ca2-121">A service running under the LocalSystem account can create a connection point as a child object under its own computer object in the directory.</span></span> <span data-ttu-id="59ca2-122">Такая служба является исключением правил служб, не создающих собственные точки подключения.</span><span class="sxs-lookup"><span data-stu-id="59ca2-122">Such a service is an exception to the rule of services not creating their own connection points.</span></span> <span data-ttu-id="59ca2-123">Служба LocalSystem также имеет разрешение на изменение свойств объектов точек подключения в собственном объекте компьютера.</span><span class="sxs-lookup"><span data-stu-id="59ca2-123">A LocalSystem service also has permission to modify the properties of connection point objects under its own computer object.</span></span> <span data-ttu-id="59ca2-124">Имейте в виду, что служба должна запускаться под учетной записью LocalSystem только в случае крайней необходимости.</span><span class="sxs-lookup"><span data-stu-id="59ca2-124">Be aware that a service should run under the LocalSystem account only if absolutely necessary.</span></span> <span data-ttu-id="59ca2-125">Дополнительные сведения см. [в разделе рекомендации по выбору учетной записи входа в службу](guidelines-for-selecting-a-service-logon-account.md).</span><span class="sxs-lookup"><span data-stu-id="59ca2-125">For more information, see [Guidelines for Selecting a Service Logon Account](guidelines-for-selecting-a-service-logon-account.md).</span></span>

<span data-ttu-id="59ca2-126">Приложение, которое создает объект точки подключения или любой объект, должно иметь разрешения на создание дочерних объектов для класса объектов, который будет создан в контейнере, где будет создан объект.</span><span class="sxs-lookup"><span data-stu-id="59ca2-126">The application that creates a connection point object, or any object, must have create child permissions for the object class to be created in the container where the object will be created.</span></span> <span data-ttu-id="59ca2-127">Чтобы удалить объект, процесс, выполняющий операцию, должен иметь разрешения на удаление дочерних объектов для класса объекта, который должен быть удален в контейнере, где находится объект, или иметь разрешения на удаление самого объекта.</span><span class="sxs-lookup"><span data-stu-id="59ca2-127">To remove an object, the process performing the operation must have delete child permissions for the object class to be deleted on the container holding the object, or have delete permissions on the object itself.</span></span> <span data-ttu-id="59ca2-128">Для обновления точки подключения процесс, выполняющий операцию, должен иметь доступ на запись к свойствам, которые должны быть обновлены для объекта.</span><span class="sxs-lookup"><span data-stu-id="59ca2-128">To update a connection point the process performing the operation must have write-access to the properties to be updated on the object.</span></span>

 

 




