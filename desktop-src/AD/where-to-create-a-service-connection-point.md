---
title: Где можно создать точку подключения службы
description: При установке экземпляра служб домен Active Directory Services установщик службы создает объекты точки подключения службы (SCP) в службах домен Active Directory.
ms.assetid: a90566d9-dd68-43e2-be9e-300d57a7fbf4
ms.tgt_platform: multiple
keywords:
- где можно создать точку подключения службы AD
- Active Directory, где можно создать точку подключения службы
- где можно создать точку подключения службы AD
- Создание точки подключения службы AD
- точка подключения службы AD
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: cf122ebabcfd8085ebad46314ffd1c09f827e783
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/16/2019
ms.locfileid: "104067345"
---
# <a name="where-to-create-a-service-connection-point"></a><span data-ttu-id="b9016-108">Где можно создать точку подключения службы</span><span class="sxs-lookup"><span data-stu-id="b9016-108">Where to Create a Service Connection Point</span></span>

<span data-ttu-id="b9016-109">При установке экземпляра служб домен Active Directory Services установщик службы создает объекты точки подключения службы (SCP) в службах домен Active Directory.</span><span class="sxs-lookup"><span data-stu-id="b9016-109">When an instance of Active Directory Domain Services is installed, the service installer creates service connection point objects (SCP) in Active Directory Domain Services.</span></span> <span data-ttu-id="b9016-110">Основная цель заключается в том, чтобы максимально сокращать трафик репликации и обеспечить эффективное администрирование и обслуживание объектов.</span><span class="sxs-lookup"><span data-stu-id="b9016-110">The primary objective should be to minimize replication traffic and to enable efficient administration and maintenance of objects.</span></span>

<span data-ttu-id="b9016-111">Имейте в виду, что клиентские приложения ищут запрашивая, выполняя поиск в каталоге ключевых слов в SCP.</span><span class="sxs-lookup"><span data-stu-id="b9016-111">Be aware that client applications find SCPs by searching the directory for keywords in the SCP.</span></span> <span data-ttu-id="b9016-112">Атрибут **ключевых слов** SCP включен в глобальный каталог. Клиенты могут выполнять поиск в глобальном каталоге, чтобы найти запрашивая в лесу.</span><span class="sxs-lookup"><span data-stu-id="b9016-112">The **keywords** attribute of an SCP is included in the Global Catalog; clients can search the Global Catalog to find SCPs in the forest.</span></span> <span data-ttu-id="b9016-113">По этой причине клиент не влияет на место публикации запрашивая.</span><span class="sxs-lookup"><span data-stu-id="b9016-113">For this reason, the client does not influence where to publish SCPs.</span></span>

## <a name="minimize-replication-traffic"></a><span data-ttu-id="b9016-114">Уменьшение трафика репликации</span><span class="sxs-lookup"><span data-stu-id="b9016-114">Minimize Replication Traffic</span></span>

<span data-ttu-id="b9016-115">Чтобы избежать трафика репликации, создайте запрашивая в разделе домена домена главного компьютера службы.</span><span class="sxs-lookup"><span data-stu-id="b9016-115">To minimize replication traffic, create SCPs in the domain partition of the domain of the service host computer.</span></span> <span data-ttu-id="b9016-116">Например, можно создать запрашивая как дочерние объекты объекта Computer, на котором установлена служба.</span><span class="sxs-lookup"><span data-stu-id="b9016-116">For example, you can create SCPs as child objects of the computer object on which the service is installed.</span></span> <span data-ttu-id="b9016-117">Раздел домена служб домен Active Directory Services, иногда называемый контекстом именования доменов, содержит объекты конкретного домена, такие как объекты для пользователей и компьютеров домена.</span><span class="sxs-lookup"><span data-stu-id="b9016-117">A domain partition of Active Directory Domain Services, sometimes called a domain naming context, contains domain-specific objects such as the objects for the users and computers of the domain.</span></span> <span data-ttu-id="b9016-118">Полная реплика всех объектов в разделе домена реплицируется на каждый контроллер домена (DC) для домена, но не реплицируется на контроллеры доменов других доменов.</span><span class="sxs-lookup"><span data-stu-id="b9016-118">A full replica of all objects in the domain partition is replicated to every domain controller (DC) for the domain, but it is not replicated to DCs of other domains.</span></span>

<span data-ttu-id="b9016-119">Не создавайте запрашивая в разделе конфигурации, который также называется контекстом именования конфигурации, так как изменения в разделе конфигурации реплицируются на каждый контроллер домена в лесу.</span><span class="sxs-lookup"><span data-stu-id="b9016-119">Do not create SCPs in the Configuration partition, also known as the configuration naming context, because changes to the Configuration partition are replicated to every DC in the forest.</span></span> <span data-ttu-id="b9016-120">Как отмечалось выше, клиенты в лесу могут запрашивать глобальный каталог для поиска запрашивая в любом месте леса, поэтому создание запрашивая в разделе конфигурации не делает их более видимыми для клиентов. Он создает только больший трафик репликации.</span><span class="sxs-lookup"><span data-stu-id="b9016-120">As noted above, clients throughout the forest can query the Global Catalog to find SCPs anywhere in the forest, so creating SCPs in the Configuration partition does not make them more visible to clients; it only generates more replication traffic.</span></span>

## <a name="ease-of-administration"></a><span data-ttu-id="b9016-121">Простота администрирования</span><span class="sxs-lookup"><span data-stu-id="b9016-121">Ease of Administration</span></span>

<span data-ttu-id="b9016-122">При администрировании объектов учитывайте следующие рекомендации.</span><span class="sxs-lookup"><span data-stu-id="b9016-122">Consider the following guidelines for object administration:</span></span>

-   <span data-ttu-id="b9016-123">Размещение объектов, зависящих от службы, где администраторы могут управлять доступом к ним с помощью политики и унаследованных разрешений на доступ.</span><span class="sxs-lookup"><span data-stu-id="b9016-123">Place service-specific objects where administrators can control access to them using policy and inherited access permissions.</span></span>
-   <span data-ttu-id="b9016-124">Поместите объекты в папку, где администратор может легко их найти.</span><span class="sxs-lookup"><span data-stu-id="b9016-124">Place the objects in where an administrator can easily find them.</span></span>

<span data-ttu-id="b9016-125">Хорошим расположением по умолчанию, удовлетворяющим обеим целям, является создание SCP и других объектов, зависящих от службы, в объекте Computer главного компьютера каждого экземпляра службы.</span><span class="sxs-lookup"><span data-stu-id="b9016-125">A good default location that satisfies both goals is to create SCP and other service-specific objects under the computer object of the host computer of each service instance.</span></span> <span data-ttu-id="b9016-126">Дополнительные сведения см. [в разделе Публикация в объекте компьютера](publishing-under-a-computer-object.md).</span><span class="sxs-lookup"><span data-stu-id="b9016-126">For more information, see [Publishing Under a Computer Object](publishing-under-a-computer-object.md).</span></span>

<span data-ttu-id="b9016-127">Хорошим вариантом для служб, не привязанных к одному узлу, является создание контейнера для объектов службы в контейнере System в разделе домена.</span><span class="sxs-lookup"><span data-stu-id="b9016-127">A good alternative for services not tied to a single host is to create a container for the service objects under the System container in a domain partition.</span></span> <span data-ttu-id="b9016-128">Дополнительные сведения см. [в разделе Публикация в контейнере системы домена](publishing-in-a-domain-system-container.md).</span><span class="sxs-lookup"><span data-stu-id="b9016-128">For more information, see [Publishing in a Domain System Container](publishing-in-a-domain-system-container.md).</span></span>

<span data-ttu-id="b9016-129">На следующей диаграмме показана часть иерархии контейнеров по умолчанию для раздела домена.</span><span class="sxs-lookup"><span data-stu-id="b9016-129">The following diagram shows part of the default container hierarchy for a domain partition.</span></span>

![Иерархия контейнеров по умолчанию для разделов домена](images/domain-container-heirarchy.png)

<span data-ttu-id="b9016-131">На схеме показана иерархия доменов по умолчанию, входящая в домен Active Directory Services.</span><span class="sxs-lookup"><span data-stu-id="b9016-131">The diagram shows the default domain hierarchy included with Active Directory Domain Services.</span></span> <span data-ttu-id="b9016-132">Однако многие организации создают иерархию контейнеров подразделений (OU) для группирования классов объектов, таких как пользователи и компьютеры, в целях администрирования.</span><span class="sxs-lookup"><span data-stu-id="b9016-132">However, many enterprises create a hierarchy of organizational unit (OU) containers to group object classes, such as users and computers, together for purposes of administration.</span></span> <span data-ttu-id="b9016-133">Затем администраторы могут применять к подразделению политики и наследуемые записи управления доступом (ACE) для делегирования административных полномочий для объектов в подразделении.</span><span class="sxs-lookup"><span data-stu-id="b9016-133">Administrators can then apply policy and inheritable access-control entries (ACEs) to an OU to delegate administrative authority for objects in the OU.</span></span> <span data-ttu-id="b9016-134">Это позволяет администраторам эффективно управлять предприятием, но у программистов служб есть несколько последствий.</span><span class="sxs-lookup"><span data-stu-id="b9016-134">This enables administrators to efficiently manage an enterprise, but it has a few consequences for service programmers:</span></span>

-   <span data-ttu-id="b9016-135">Объект "компьютер" для узла службы может не находиться в контейнере "компьютеры", как показано на схеме.</span><span class="sxs-lookup"><span data-stu-id="b9016-135">The computer object for a service host might not be under the Computers container as shown in the diagram.</span></span> <span data-ttu-id="b9016-136">Дополнительные сведения о том, как найти объект компьютера для локального компьютера, см. [в разделе Публикация в объекте Computer](publishing-under-a-computer-object.md).</span><span class="sxs-lookup"><span data-stu-id="b9016-136">For more information about how to find the computer object for the local computer, see [Publishing Under a Computer Object](publishing-under-a-computer-object.md).</span></span>
-   <span data-ttu-id="b9016-137">Администраторы могут перемещать объекты по мере изменения потребностей Организации.</span><span class="sxs-lookup"><span data-stu-id="b9016-137">Administrators may move objects as their organizational needs change.</span></span> <span data-ttu-id="b9016-138">Это означает, что вы не можете зависеть от объектов, остающихся в фиксированном расположении; то есть ваша служба не может зависеть от различающегося имени объекта.</span><span class="sxs-lookup"><span data-stu-id="b9016-138">This means that you cannot depend on your objects remaining in a fixed location; that is, your service cannot depend on an object distinguished name remaining the same.</span></span> <span data-ttu-id="b9016-139">Вместо этого используйте атрибут **objectGUID** объекта, который не изменяется при перемещении или переименовании объекта.</span><span class="sxs-lookup"><span data-stu-id="b9016-139">Instead, use an object's **objectGUID** attribute, which does not change if the object is moved or renamed.</span></span> <span data-ttu-id="b9016-140">Дополнительные сведения и пример кода, который создает точку подключения службы, хранит ее **objectGUID**, а позднее извлекает **objectGUID** для привязки к SCP, см. в разделе [Создание и обслуживание точки соединения службы](creating-and-maintaining-a-service-connection-point.md).</span><span class="sxs-lookup"><span data-stu-id="b9016-140">For more information, and a code example that creates an SCP, stores its **objectGUID**, and later retrieves the **objectGUID** to bind to the SCP, see [Creating and Maintaining a Service Connection Point](creating-and-maintaining-a-service-connection-point.md).</span></span>
-   <span data-ttu-id="b9016-141">Все стандартные классы объектов, связанные со службами, а также любые подклассы этих классов являются допустимыми дочерними элементами классов **Computer** и **OrganizationalUnit** .</span><span class="sxs-lookup"><span data-stu-id="b9016-141">All of the standard service-related object classes, as well as any subclasses of these classes, are valid children of the **computer** and **organizationalUnit** classes.</span></span> <span data-ttu-id="b9016-142">Если вы расширяете схему, чтобы определить собственный класс для конкретной службы, убедитесь, что классы **Computer** и **OrganizationalUnit** включены в возможные старшие.</span><span class="sxs-lookup"><span data-stu-id="b9016-142">If you extend the schema to define your own service-specific class, be sure that the **computer** and **organizationalUnit** classes are included in the possible superiors.</span></span>
-   <span data-ttu-id="b9016-143">Установщик службы определяет расположение по умолчанию для создания запрашивая.</span><span class="sxs-lookup"><span data-stu-id="b9016-143">The service installer determines the default location for creating SCPs.</span></span> <span data-ttu-id="b9016-144">Может потребоваться разрешить администратору устанавливать службу, чтобы указать альтернативный путь установки.</span><span class="sxs-lookup"><span data-stu-id="b9016-144">You may want to allow the administrator installing the service to specify an alternate install path.</span></span>

<span data-ttu-id="b9016-145">Объекты, зависящие от службы, не следует создавать в следующих областях:</span><span class="sxs-lookup"><span data-stu-id="b9016-145">Service-specific objects should not be created in the following areas:</span></span>

-   <span data-ttu-id="b9016-146">Службы не должны публиковать объекты непосредственно в контейнерах пользователей или компьютеров раздела домена, а также создавать новые контейнеры в этих контейнерах.</span><span class="sxs-lookup"><span data-stu-id="b9016-146">Services should not publish objects directly in the Users or Computers containers of a domain partition, nor should they create new containers in these containers.</span></span> <span data-ttu-id="b9016-147">Однако службы могут публиковать объекты как дочерние объекты объекта Computer, независимо от того, хранится ли объект компьютера в контейнере Computers.</span><span class="sxs-lookup"><span data-stu-id="b9016-147">However, services can publish objects as child objects of a computer object, whether or not the computer object is stored in the Computers container.</span></span>
-   <span data-ttu-id="b9016-148">Службы, использующие интерфейсы регистрации и разрешения Windows Sockets (РНР) или службы имен RPC (Рпкнс) для объявления сами, создают соответствующие объекты в контейнерах Винсокксервицес и Рпксервицес в системном контейнере раздела домена.</span><span class="sxs-lookup"><span data-stu-id="b9016-148">Services, that use Windows Sockets registration and resolution (RnR) or the RPC name service (RpcNs) APIs to advertise themselves, create the proper objects in the WinsockServices and RpcServices containers under a domain partition's System container.</span></span> <span data-ttu-id="b9016-149">Не создавайте объекты явным образом в этих контейнерах.</span><span class="sxs-lookup"><span data-stu-id="b9016-149">Do not explicitly create objects in these containers.</span></span> <span data-ttu-id="b9016-150">Это не приводит к непосредственным вредам, но может быть запутанным для администраторов.</span><span class="sxs-lookup"><span data-stu-id="b9016-150">Doing so does not cause direct harm, but may be confusing for administrators.</span></span>

 

 




