---
title: При создании ссылок
description: Ссылка — это способ, с помощью которого сервер службы каталогов сообщает, что он не содержит данных, необходимых для выполнения запроса, но имеет ссылку на сервер, который может содержать необходимые данные.
ms.assetid: 2c11a52a-26e2-4a50-a0a3-5463a0852b27
ms.tgt_platform: multiple
keywords:
- Active Directory создания ссылок
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 06e47c1e172f3eaed34dad452aa46847980cd66f
ms.sourcegitcommit: 803f3ccd65bdefe36bd851b9c6e7280be9489016
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/17/2020
ms.locfileid: "103890363"
---
# <a name="when-referrals-are-generated"></a><span data-ttu-id="5aae5-104">При создании ссылок</span><span class="sxs-lookup"><span data-stu-id="5aae5-104">When Referrals Are Generated</span></span>

<span data-ttu-id="5aae5-105">Ссылка — это способ, с помощью которого сервер службы каталогов сообщает, что он не содержит данных, необходимых для выполнения запроса, но имеет ссылку на сервер, который может содержать необходимые данные.</span><span class="sxs-lookup"><span data-stu-id="5aae5-105">A referral is the way that a directory server communicates that it does not contain the data required to complete a query, but has a reference to a server that may contain the required data.</span></span> <span data-ttu-id="5aae5-106">Имейте в виду, что ссылки не просто создаются запросами запросов.</span><span class="sxs-lookup"><span data-stu-id="5aae5-106">Be aware that referrals are not just generated by query requests.</span></span>

<span data-ttu-id="5aae5-107">Следующие операции могут привести к созданию одной или нескольких ссылок:</span><span class="sxs-lookup"><span data-stu-id="5aae5-107">The following operations can result in one or more referrals:</span></span>

-   <span data-ttu-id="5aae5-108">Привязка к серверу, не содержащему объект, указанный в запрошенном различающемся имени, но имеющий данные о сервере или домене, который может содержать этот объект.</span><span class="sxs-lookup"><span data-stu-id="5aae5-108">Binding to a server that does not contain the object specified by the requested distinguished name but has data about a server or domain that may contain that object.</span></span> <span data-ttu-id="5aae5-109">Для ADSI это может произойти, если приложение вызывает [**адсжетобжект**](/windows/desktop/api/adshlp/nf-adshlp-adsgetobject) или [**ADsOpenObject**](/windows/desktop/api/adshlp/nf-adshlp-adsopenobject) для привязки к объекту, существующему в другом домене леса (внутренняя ссылка), или к контексту именования, который полностью отделен от леса (внешняя ссылка).</span><span class="sxs-lookup"><span data-stu-id="5aae5-109">For ADSI, this can occur if the application calls [**ADsGetObject**](/windows/desktop/api/adshlp/nf-adshlp-adsgetobject) or [**ADsOpenObject**](/windows/desktop/api/adshlp/nf-adshlp-adsopenobject) to bind to an object that exists in another domain in the forest (internal referral) or a naming context that is completely separate from the forest (external referral).</span></span> <span data-ttu-id="5aae5-110">Для API LDAP это может произойти при выполнении операций добавления, изменения, удаления или поиска, задающих объект, существующий в другом домене леса (внутренняя ссылка) или в контексте именования, который полностью отделен от леса (внешняя ссылка).</span><span class="sxs-lookup"><span data-stu-id="5aae5-110">For the LDAP API, this can occur when performing add, modify, delete, or search operations that specify an object that exists in another domain in the forest (internal referral) or a naming context that is completely separate from the forest (external referral).</span></span>

    <span data-ttu-id="5aae5-111">Если разрешение имен не удается найти объект локально и для этой части пространства имен отсутствуют объекты **crossRef** , контроллер домена попытается создать внешнюю ссылку на основе компонентов домена различающегося имени.</span><span class="sxs-lookup"><span data-stu-id="5aae5-111">If name resolution fails to find an object locally and there are no **crossRef** objects for that portion of the namespace, the domain controller will attempt to construct an external referral based on the domain components of the distinguished name.</span></span> <span data-ttu-id="5aae5-112">Например, если поиск был основан на "CN = a, CN = b, DC = c, DC = d, DC = e", контроллер домена будет создавать ссылку на LDAP-сервер по адресу "c. d. e".</span><span class="sxs-lookup"><span data-stu-id="5aae5-112">For example, if a search was based at "CN=a,CN=b,DC=c,DC=d,DC=e", the domain controller will construct a referral to the LDAP server at DNS address "c.d.e".</span></span>

    <span data-ttu-id="5aae5-113">Все контроллеры домена Windows 2000 (которые поддерживают только DC = именование для верхних компонентов) распознают друг друга, и никакие внешние перекрестные ссылки не требуются, чтобы клиент мог выполнить привязку из одного леса к другому.</span><span class="sxs-lookup"><span data-stu-id="5aae5-113">All Windows 2000 domain controllers (which support only DC= naming for the upper components) recognize each other, and no external cross references are required for a client to bind from one forest to another.</span></span> <span data-ttu-id="5aae5-114">Если другие серверы каталогов, отличные от Windows 2000 (например, сервер Netscape), используют DC = Naming и имеют соответствующую запись SRV RR, зарегистрированную в DNS, это также позволит получить преимущества автоматических ссылок.</span><span class="sxs-lookup"><span data-stu-id="5aae5-114">If other non-Windows 2000 directory servers, such as a Netscape server, is using DC= naming and has an appropriate SRV RR registered in DNS, it will get the advantage of the automatic referrals as well.</span></span> <span data-ttu-id="5aae5-115">В противном случае внешний объект **crossRef** необходимо добавить вручную.</span><span class="sxs-lookup"><span data-stu-id="5aae5-115">If not, an external **crossRef** object must be added manually.</span></span>

-   <span data-ttu-id="5aae5-116">Выполнение поиска по поддереву в домене, содержащем подчиненные домены в лесу или подчиненных внешних доменах, схемах или контейнерах конфигурации.</span><span class="sxs-lookup"><span data-stu-id="5aae5-116">Performing a subtree search on a domain that contains subordinate domains in the forest or subordinate external domains, schema, or configuration containers.</span></span> <span data-ttu-id="5aae5-117">Будет создан ссылка на подчиненный домен, внешний домен, схему или контейнер конфигурации.</span><span class="sxs-lookup"><span data-stu-id="5aae5-117">A referral to the subordinate domain, external domain, schema or configuration container will be created.</span></span> <span data-ttu-id="5aae5-118">Если включен отслеживание ссылок, ссылка будет прозрачной для вызывающего объекта.</span><span class="sxs-lookup"><span data-stu-id="5aae5-118">If referral chasing is enabled, the referral will be transparent to the caller.</span></span>

 

 