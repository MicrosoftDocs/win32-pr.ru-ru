---
title: Поиск содержимого домена
description: Прежде чем приступить к обсуждению места привязки для начала поиска объектов в домене, полезно понять, как данные хранятся в службах домен Active Directory.
ms.assetid: fd0b4556-465b-4338-87cb-375450590c44
ms.tgt_platform: multiple
keywords:
- Active Directory содержимого домена
- Поиск содержимого домена Active Directory
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 9c18cd879e950fd9c467f6674092947d430d8f87
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/16/2019
ms.locfileid: "104067357"
---
# <a name="searching-domain-contents"></a><span data-ttu-id="57544-105">Поиск содержимого домена</span><span class="sxs-lookup"><span data-stu-id="57544-105">Searching Domain Contents</span></span>

<span data-ttu-id="57544-106">Прежде чем приступить к обсуждению места привязки для начала поиска объектов в домене, полезно понять, как данные хранятся в службах домен Active Directory.</span><span class="sxs-lookup"><span data-stu-id="57544-106">Before discussing where to bind to begin a search for objects in a domain, it is helpful to understand how data is stored in Active Directory Domain Services.</span></span>

<span data-ttu-id="57544-107">При наличии леса с несколькими доменами домен Active Directory Services не сохраняет все данные объектов на одном контроллере домена — для повышения производительности, масштабируемости и надежности.</span><span class="sxs-lookup"><span data-stu-id="57544-107">If you have a forest with more than one domain, Active Directory Domain Services does not store all object data on a single domain controller — for performance, scalability, and reliability reasons.</span></span> <span data-ttu-id="57544-108">Контроллер домена содержит все сведения только о домене, членом которого он является, (у него есть полная реплика домена).</span><span class="sxs-lookup"><span data-stu-id="57544-108">A domain controller holds all information about only the domain that it is a member of (it has a full replica of the domain).</span></span> <span data-ttu-id="57544-109">Но контроллер домена не содержит полные сведения о любом другом домене.</span><span class="sxs-lookup"><span data-stu-id="57544-109">But a domain controller does not hold complete information about any other domain.</span></span>

<span data-ttu-id="57544-110">При привязке к объекту домена с отключенным отслеживанием ссылок можно выполнять поиск любого объекта в этом домене и только в этом домене.</span><span class="sxs-lookup"><span data-stu-id="57544-110">If you bind to the domain object with referral chasing turned off, you can search for any object in that domain and only that domain.</span></span> <span data-ttu-id="57544-111">Дополнительные сведения о прослеживании ссылок см. в разделе [ссылки](referrals.md).</span><span class="sxs-lookup"><span data-stu-id="57544-111">For more information about referral chasing, see [Referrals](referrals.md).</span></span> <span data-ttu-id="57544-112">Поиск может получить любое свойство и может использовать фильтр запроса, содержащий любое свойство.</span><span class="sxs-lookup"><span data-stu-id="57544-112">A search can retrieve any property and can use a query filter containing any property.</span></span>

<span data-ttu-id="57544-113">В лесу домены упорядочиваются иерархически как деревья доменов.</span><span class="sxs-lookup"><span data-stu-id="57544-113">In a forest, domains are arranged hierarchically as domain trees.</span></span> <span data-ttu-id="57544-114">Доменным деревом может быть только один домен или домен с одним или несколькими дочерними доменами.</span><span class="sxs-lookup"><span data-stu-id="57544-114">A domain tree can be just a single domain or a domain with one or more child domains.</span></span> <span data-ttu-id="57544-115">Эти дочерние домены, в свою очередь, могут иметь дочерние домены под ними.</span><span class="sxs-lookup"><span data-stu-id="57544-115">These child domains, in turn, can have child domains beneath them.</span></span> <span data-ttu-id="57544-116">Доменное дерево — это также непрерывное пространство имен.</span><span class="sxs-lookup"><span data-stu-id="57544-116">A domain tree is also a contiguous namespace.</span></span> <span data-ttu-id="57544-117">Непрерывное пространство имен означает, что дочерние домены являются продолжением иерархии именования.</span><span class="sxs-lookup"><span data-stu-id="57544-117">A contiguous namespace means that the child domains are a continuation of the naming hierarchy.</span></span> <span data-ttu-id="57544-118">Например, домен fabrikam.com (или DC = Fabrikam, DC = COM) может иметь дочерний домен с именем мидивисион (mydivision.fabrikam.com или DC = мидивисион, DC = Fabrikam, DC = COM), который, в свою очередь, может иметь дочерний домен с именем мидев (mydev.mydivision.fabrikam.com или DC = мидев, DC = мидивисион, DC = Fabrikam, DC = COM).</span><span class="sxs-lookup"><span data-stu-id="57544-118">For example, a domain fabrikam.com (or DC=Fabrikam, DC=COM) can have a child domain named mydivision (mydivision.fabrikam.com or DC=mydivision, DC=Fabrikam, DC=COM), which in turn could have a child domain named mydev (mydev.mydivision.fabrikam.com or DC=mydev, DC=mydivision, DC=Fabrikam, DC=COM).</span></span>

<span data-ttu-id="57544-119">При привязке к объекту домена (с включенным отслеживанием ссылок) для домена в дереве доменов будет осуществляться поиск в этом домене и всей иерархии в нем.</span><span class="sxs-lookup"><span data-stu-id="57544-119">If you bind to a domain object (with referral chasing turned on) for a domain within a domain tree, you will search that domain and the entire hierarchy within it.</span></span> <span data-ttu-id="57544-120">Поиск может получить любое свойство и может использовать фильтр запроса, содержащий любое свойство.</span><span class="sxs-lookup"><span data-stu-id="57544-120">The search can retrieve any property and can use a query filter containing any property.</span></span>

<span data-ttu-id="57544-121">Если контроллер домена содержит полную реплику только собственного домена, можно выполнить поиск по поддереву в дереве доменов.</span><span class="sxs-lookup"><span data-stu-id="57544-121">If a domain controller contains a full replica of only its own domain, you can perform a subtree search on a domain tree.</span></span> <span data-ttu-id="57544-122">Домен содержит ссылки на его дочерние домены.</span><span class="sxs-lookup"><span data-stu-id="57544-122">A domain holds references to its child domains.</span></span> <span data-ttu-id="57544-123">Когда контроллер домена обрабатывает запрос на поиск поддерева в собственном домене, контроллер домена выполняет поиск в этом домене, а затем возвращает ссылки на каждый из его дочерних доменов клиенту.</span><span class="sxs-lookup"><span data-stu-id="57544-123">When a domain controller processes a subtree search request against its own domain, the domain controller searches that domain and then returns referrals to each of its child domains to the client.</span></span> <span data-ttu-id="57544-124">Ссылка — это способ, с помощью которого сервер службы каталогов сообщает, что он не содержит сведений, необходимых для выполнения запроса (например, запроса), но имеет ссылку на сервер, который может содержать необходимые сведения.</span><span class="sxs-lookup"><span data-stu-id="57544-124">A referral is the way that a directory server communicates that it does not contain the information required to complete a request (such as a query) but has a reference to a server that may contain the required information.</span></span> <span data-ttu-id="57544-125">В случае поиска в поддереве дерева доменов для каждого прямого дочернего домена возвращается ссылка, чтобы поиск можно было продолжить на контроллере домена в каждом дочернем домене.</span><span class="sxs-lookup"><span data-stu-id="57544-125">In the case of a subtree search of a domain tree, a referral is returned for each direct child domain so that the search can be continued at a domain controller in each child domain.</span></span> <span data-ttu-id="57544-126">Если отслеживание ссылок включено, клиентская библиотека LDAP (Wldap32.dll) использует эти ссылки для привязки к контроллеру домена в каждом дочернем домене и продолжит поиск.</span><span class="sxs-lookup"><span data-stu-id="57544-126">If referral chasing is turned on, the LDAP client library (Wldap32.dll) uses those referrals to bind to a domain controller in each child domain and continue the search.</span></span> <span data-ttu-id="57544-127">Если отслеживание ссылок отключено, клиент LDAP не разрешает ссылки и поиск завершается.</span><span class="sxs-lookup"><span data-stu-id="57544-127">If referral chasing is turned off, the LDAP client does not resolve the referrals and the search is complete.</span></span>

<span data-ttu-id="57544-128">Поиск в поддереве в дереве доменов с включенным отслеживанием ссылок может занимать много времени, если существует медленная связь с контроллерами домена для дочерних доменов.</span><span class="sxs-lookup"><span data-stu-id="57544-128">A subtree search on a domain tree with referral chasing turned on can be time-consuming if there is a slow connection to the domain controllers for the child domains.</span></span> <span data-ttu-id="57544-129">Если требуется выполнить поиск только в одном домене, следует включить отслеживание ссылок, чтобы не выполнять поиск в дочерних доменах без необходимости.</span><span class="sxs-lookup"><span data-stu-id="57544-129">If you want to search only a single domain, you should turn referral chasing off to avoid having to search the child domains unnecessarily.</span></span>

 

 




