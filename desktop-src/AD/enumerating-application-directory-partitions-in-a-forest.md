---
title: Перечисление разделов каталога приложений в лесу
description: Как и разделы домена, каждый раздел каталога приложений представляется объектом crossRef в контейнере разделов раздела конфигурации.
ms.assetid: dd1ff72d-ed19-4e8c-a401-a5b1b3d577e8
ms.tgt_platform: multiple
keywords:
- Перечисление разделов каталога приложений в лесу AD
- Разделы каталога приложений AD, перечисление в лесу
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 8d42bbe28ef37932394721d0c234ba3970ac263b
ms.sourcegitcommit: 803f3ccd65bdefe36bd851b9c6e7280be9489016
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/17/2020
ms.locfileid: "104069775"
---
# <a name="enumerating-application-directory-partitions-in-a-forest"></a><span data-ttu-id="9650a-105">Перечисление разделов каталога приложений в лесу</span><span class="sxs-lookup"><span data-stu-id="9650a-105">Enumerating Application Directory Partitions in a Forest</span></span>

<span data-ttu-id="9650a-106">Как и разделы домена, каждый раздел каталога приложений представляется объектом [**crossRef**](/windows/desktop/ADSchema/c-crossref) в контейнере разделов раздела конфигурации.</span><span class="sxs-lookup"><span data-stu-id="9650a-106">Like domain partitions, every application directory partition is represented by a [**crossRef**](/windows/desktop/ADSchema/c-crossref) object in the Partitions container of the configuration partition.</span></span> <span data-ttu-id="9650a-107">Каждый объект **crossRef** хранит данные о соответствующей секции.</span><span class="sxs-lookup"><span data-stu-id="9650a-107">Each **crossRef** object stores data about its corresponding partition.</span></span>

<span data-ttu-id="9650a-108">Объект [**crossRef**](/windows/desktop/ADSchema/c-crossref) , представляющий раздел домена, отличается от объекта **crossRef** , который представляет раздел каталога приложения по содержимому атрибута [**systemFlags**](/windows/desktop/ADSchema/a-systemflags) .</span><span class="sxs-lookup"><span data-stu-id="9650a-108">A [**crossRef**](/windows/desktop/ADSchema/c-crossref) object that represents a domain partition is distinguished from a **crossRef** object that represents an application directory partition by the contents of the [**systemFlags**](/windows/desktop/ADSchema/a-systemflags) attribute.</span></span> <span data-ttu-id="9650a-109">Объект **crossRef** , представляющий раздел домена, будет содержать флаги [**AD \_ системфлаг \_ CR \_ NTDS \_ NC**](/windows/win32/api/iads/ne-iads-ads_systemflag_enum) и **ADS \_ системфлаг \_ CR \_ NTDS \_** , заданные в атрибуте **systemFlags** .</span><span class="sxs-lookup"><span data-stu-id="9650a-109">The **crossRef** object that represents a domain partition will have both the [**ADS\_SYSTEMFLAG\_CR\_NTDS\_NC**](/windows/win32/api/iads/ne-iads-ads_systemflag_enum) and **ADS\_SYSTEMFLAG\_CR\_NTDS\_DOMAIN** flags set in the **systemFlags** attribute.</span></span> <span data-ttu-id="9650a-110">Объект **crossRef** , представляющий раздел каталога приложений, будет иметь флаг **ADS \_ системфлаг \_ CR \_ NTDS \_ NC** , а флаг AD **\_ Системфлаг \_ CR \_ NTDS \_ domain** не будет установлен в атрибуте **systemFlags** .</span><span class="sxs-lookup"><span data-stu-id="9650a-110">The **crossRef** object that represents an application directory partition will have the **ADS\_SYSTEMFLAG\_CR\_NTDS\_NC** flag set and the **ADS\_SYSTEMFLAG\_CR\_NTDS\_DOMAIN** flag will not be set in the **systemFlags** attribute.</span></span>

<span data-ttu-id="9650a-111">Для объектов [**crossRef**](/windows/desktop/ADSchema/c-crossref) , представляющих разделы схемы и конфигурации, также будет установлен флаг On [**ADS \_ системфлаг \_ CR \_ NTDS \_ NC**](/windows/win32/api/iads/ne-iads-ads_systemflag_enum) , а флаг **AD \_ Системфлаг \_ CR \_ NTDS \_ domain** не будет установлен в атрибуте [**systemFlags**](/windows/desktop/ADSchema/a-systemflags) .</span><span class="sxs-lookup"><span data-stu-id="9650a-111">The [**crossRef**](/windows/desktop/ADSchema/c-crossref) objects that represent the Schema and Configuration partitions will also have the have [**ADS\_SYSTEMFLAG\_CR\_NTDS\_NC**](/windows/win32/api/iads/ne-iads-ads_systemflag_enum) flag set and the **ADS\_SYSTEMFLAG\_CR\_NTDS\_DOMAIN** flag will not be set in the [**systemFlags**](/windows/desktop/ADSchema/a-systemflags) attribute.</span></span> <span data-ttu-id="9650a-112">Для этого эти два объекта **crossRef** должны быть различны по содержимому атрибута [**NCName**](/windows/desktop/ADSchema/a-ncname) .</span><span class="sxs-lookup"><span data-stu-id="9650a-112">This requires that these two **crossRef** objects be distinguished by the contents of the [**nCName**](/windows/desktop/ADSchema/a-ncname) attribute.</span></span> <span data-ttu-id="9650a-113">Атрибут **NCName** для объекта **crossRef** , представляющего контейнер схемы, будет идентичен атрибуту **счеманамингконтекст** объекта RootDSE.</span><span class="sxs-lookup"><span data-stu-id="9650a-113">The **nCName** attribute for the **crossRef** object that represents the Schema container will be identical to the **schemaNamingContext** attribute of the RootDSE object.</span></span> <span data-ttu-id="9650a-114">Аналогичным образом атрибут **NCName** для объекта **crossRef** , представляющего контейнер конфигурации, будет совпадать с атрибутом **конфигуратионнамингконтекст** объекта RootDSE.</span><span class="sxs-lookup"><span data-stu-id="9650a-114">Similarly, the **nCName** attribute for the **crossRef** object that represents the Configuration container will be identical to the **configurationNamingContext** attribute of the RootDSE object.</span></span>

<span data-ttu-id="9650a-115">**Чтобы найти все разделы каталога приложений в лесу, выполните следующие действия.**</span><span class="sxs-lookup"><span data-stu-id="9650a-115">**To identify all application directory partitions in a forest, perform the following steps**</span></span>

1.  <span data-ttu-id="9650a-116">В контейнере секции раздела конфигурации найдите или перечислите все объекты [**crossRef**](/windows/desktop/ADSchema/c-crossref) .</span><span class="sxs-lookup"><span data-stu-id="9650a-116">In the Partitions container of the configuration partition, search for or enumerate all [**crossRef**](/windows/desktop/ADSchema/c-crossref) objects.</span></span>
2.  <span data-ttu-id="9650a-117">Если у объекта [**crossRef**](/windows/desktop/ADSchema/c-crossref) нет установленного флага [**ADS \_ системфлаг \_ CR \_ NTDS \_ NC**](/windows/win32/api/iads/ne-iads-ads_systemflag_enum) или в значении атрибута [**systemFlags**](/windows/desktop/ADSchema/a-systemflags) установлен флаг **\_ домена ADS системфлаг \_ CR \_ NTDS \_** , исключите объект из результирующего набора.</span><span class="sxs-lookup"><span data-stu-id="9650a-117">If a [**crossRef**](/windows/desktop/ADSchema/c-crossref) object does not have the [**ADS\_SYSTEMFLAG\_CR\_NTDS\_NC**](/windows/win32/api/iads/ne-iads-ads_systemflag_enum) flag set or has the **ADS\_SYSTEMFLAG\_CR\_NTDS\_DOMAIN** flag set in the [**systemFlags**](/windows/desktop/ADSchema/a-systemflags) attribute value, exclude the object from the result set.</span></span>
3.  <span data-ttu-id="9650a-118">Исключите секцию схемы из результирующего набора, сравнив атрибут [**NCName**](/windows/desktop/ADSchema/a-ncname) объекта [**crossRef**](/windows/desktop/ADSchema/c-crossref) с атрибутом **счеманамингконтекст** объекта RootDSE.</span><span class="sxs-lookup"><span data-stu-id="9650a-118">Exclude the Schema partition from the result set by comparing the [**nCName**](/windows/desktop/ADSchema/a-ncname) attribute of the [**crossRef**](/windows/desktop/ADSchema/c-crossref) object to the **schemaNamingContext** attribute of the RootDSE object.</span></span>
4.  <span data-ttu-id="9650a-119">Исключите раздел конфигурации из результирующего набора, сравнив атрибут [**NCName**](/windows/desktop/ADSchema/a-ncname) объекта [**crossRef**](/windows/desktop/ADSchema/c-crossref) с атрибутом **конфигуратионнамингконтекст** объекта RootDSE.</span><span class="sxs-lookup"><span data-stu-id="9650a-119">Exclude the Configuration partition from the result set by comparing the [**nCName**](/windows/desktop/ADSchema/a-ncname) attribute of the [**crossRef**](/windows/desktop/ADSchema/c-crossref) object to the **configurationNamingContext** attribute of the RootDSE object.</span></span>
5.  <span data-ttu-id="9650a-120">Остальные объекты [**crossRef**](/windows/desktop/ADSchema/c-crossref) в результирующем наборе представляют разделы каталога приложений.</span><span class="sxs-lookup"><span data-stu-id="9650a-120">The remaining [**crossRef**](/windows/desktop/ADSchema/c-crossref) objects in the result set all represent application directory partitions.</span></span>

 

 