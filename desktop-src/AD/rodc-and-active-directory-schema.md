---
title: Read-Only DCs и схема Active Directory
description: В Windows Server 2008 появился новый тип контроллера домена — контроллер домена только для чтения (RODC).
ms.assetid: 9d9082d2-6f7f-4ffa-b8c7-6414be764d0c
ms.tgt_platform: multiple
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: b4284ffdda7ed2fbe481c201f7da69371209ce55
ms.sourcegitcommit: 773fa6257ead6c74154ad3cf46d21e49adc900aa
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/09/2020
ms.locfileid: "104134730"
---
# <a name="read-only-dcs-and-the-active-directory-schema"></a><span data-ttu-id="03560-103">Read-Only DCs и схема Active Directory</span><span class="sxs-lookup"><span data-stu-id="03560-103">Read-Only DCs and the Active Directory Schema</span></span>

<span data-ttu-id="03560-104">В Windows Server 2008 появился новый тип контроллера домена — контроллер домена только для чтения (RODC).</span><span class="sxs-lookup"><span data-stu-id="03560-104">Windows Server 2008 introduces a new type of domain controller, the Read-only Domain Controller (RODC).</span></span> <span data-ttu-id="03560-105">Это предоставляет контроллер домена для использования в филиалах, где невозможно разместить полный контроллер домена.</span><span class="sxs-lookup"><span data-stu-id="03560-105">This provides a domain controller for use at branch offices where a full domain controller cannot be placed.</span></span> <span data-ttu-id="03560-106">Цель состоит в том, чтобы разрешить пользователям в филиалах входить в систему и выполнять такие задачи, как общий доступ к файлам и принтерам, даже если отсутствует сетевое подключение к сайтам концентратора.</span><span class="sxs-lookup"><span data-stu-id="03560-106">The intent is to allow users in the branch offices to logon and perform tasks like file/printer sharing even when there is no network connectivity to hub sites.</span></span>

<span data-ttu-id="03560-107">Контроллер RODC не изменяет способ использования схемы.</span><span class="sxs-lookup"><span data-stu-id="03560-107">RODC does not change the way schema is used.</span></span> <span data-ttu-id="03560-108">Однако стоит отметить, что схема поддерживает Read-Only частичный набор атрибутов (RO-PAS), который также называется отфильтрованным атрибутом RODC, который является специальным набором атрибутов, который не реплицируется на Контроллеры RODC по соображениям безопасности.</span><span class="sxs-lookup"><span data-stu-id="03560-108">However, it is worthwhile to mention that the schema supports a Read-Only Partial Attribute Set (RO-PAS), also referred to as an RODC filtered attribute set, which is a special attribute set that is NOT replicated to RODCs for security reasons.</span></span> <span data-ttu-id="03560-109">RO-PAS определяются в схеме с помощью атрибута [**searchFlags**](/windows/desktop/ADSchema/a-searchflags) .</span><span class="sxs-lookup"><span data-stu-id="03560-109">RO-PAS are defined in the schema via the [**searchFlags**](/windows/desktop/ADSchema/a-searchflags) attribute.</span></span>

## <a name="rodc-filtered-attribute-set"></a><span data-ttu-id="03560-110">Набор фильтруемых атрибутов RODC</span><span class="sxs-lookup"><span data-stu-id="03560-110">RODC filtered attribute set</span></span>

<span data-ttu-id="03560-111">Некоторые приложения, использующие [домен Active Directory Services](active-directory-domain-services.md) в качестве хранилища данных, могут иметь данные, аналогичные учетным данным (например, пароли, учетные данные или ключи шифрования), которые не должны храниться на контроллере домена Read-Only в случае кражи или компрометации RODC.</span><span class="sxs-lookup"><span data-stu-id="03560-111">Some applications that use [Active Directory Domain Services](active-directory-domain-services.md) as a data store may have credential-like data (such as passwords, credentials, or encryption keys) that should not be stored on a Read-Only Domain Controller in case the RODC is stolen or compromised.</span></span> <span data-ttu-id="03560-112">Для этого типа приложения можно добавить атрибут в набор атрибутов, отфильтрованных RODC, чтобы предотвратить репликацию на Контроллеры RODC в лесу и пометить атрибут как конфиденциальный, что удаляет возможность чтения данных для членов группы «Пользователи, прошедшие проверку подлинности» (включая все контроллеры RODC).</span><span class="sxs-lookup"><span data-stu-id="03560-112">For this type of application, you can add the attribute to the RODC filtered attribute set to prevent it from replicating to RODCs in the forest, and mark the attribute as confidential, which removes the ability to read the data for members of the Authenticated Users group (including any RODCs).</span></span>

## <a name="adding-attributes-to-the-rodc-filtered-attribute-set"></a><span data-ttu-id="03560-113">Добавление атрибутов в набор фильтруемых атрибутов RODC</span><span class="sxs-lookup"><span data-stu-id="03560-113">Adding attributes to the RODC filtered attribute set</span></span>

<span data-ttu-id="03560-114">Набор фильтруемых атрибутов RODC является динамическим набором атрибутов, которые не реплицируются ни на один RODC в лесу.</span><span class="sxs-lookup"><span data-stu-id="03560-114">The RODC filtered attribute set is a dynamic set of attributes that is not replicated to any RODCs in the forest.</span></span> <span data-ttu-id="03560-115">Можно настроить отфильтрованный атрибут RODC, установленный на хозяине схемы, работающем под управлением Windows Server 2008.</span><span class="sxs-lookup"><span data-stu-id="03560-115">You can configure the RODC filtered attribute set on a schema master that runs Windows Server 2008.</span></span> <span data-ttu-id="03560-116">Когда атрибуты не реплицируются на Контроллеры RODC, эти данные не могут быть предоставлены ненужным, если украден или скомпрометирован контроллер домена только для чтения.</span><span class="sxs-lookup"><span data-stu-id="03560-116">When the attributes are prevented from replicating to RODCs, that data cannot be exposed unnecessarily if an RODC is stolen or compromised.</span></span>

<span data-ttu-id="03560-117">К набору фильтруемых атрибутов RODC нельзя добавлять атрибуты, критические для системы.</span><span class="sxs-lookup"><span data-stu-id="03560-117">You cannot add system-critical attributes to the RODC filtered attribute set.</span></span> <span data-ttu-id="03560-118">Атрибут является критическим системой, если он необходим для AD DS, локального центра безопасности (LSA), диспетчера учетных записей безопасности (SAM) и любого из поставщиков служб безопасности Майкрософт, таких как протокол проверки подлинности Kerberos, для правильной работы.</span><span class="sxs-lookup"><span data-stu-id="03560-118">An attribute is system critical if it is required for AD DS, Local Security Authority (LSA), Security Accounts Manager (SAM), and any of Microsoft-specific Security Service Providers, such as the Kerberos authentication protocol, to function properly.</span></span> <span data-ttu-id="03560-119">В выпусках Windows Server 2008 после бета-версии 3 атрибут, критический для системы, имеет значение атрибута Счемафлагсекс (значение атрибута Счемафлагсекс & 0x1 = **true**).</span><span class="sxs-lookup"><span data-stu-id="03560-119">In releases of Windows Server 2008 after Beta 3, a system-critical attribute has a schemaFlagsEx attribute value of (schemaFlagsEx attribute value & 0x1 = **TRUE**).</span></span>

<span data-ttu-id="03560-120">Пошаговые инструкции по добавлению атрибутов в набор фильтруемых атрибутов RODC см. [в приложении г из]( /previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc772331(v=ws.10))пошагового руководств по RODC.</span><span class="sxs-lookup"><span data-stu-id="03560-120">For step by step instructions to adding attributes to the RODC filtered attribute set, see [Appendix D of the step-by-step guide for RODCs]( /previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc772331(v=ws.10)).</span></span>

## <a name="marking-attributes-as-confidential"></a><span data-ttu-id="03560-121">Пометка атрибутов как конфиденциальных</span><span class="sxs-lookup"><span data-stu-id="03560-121">Marking attributes as confidential</span></span>

<span data-ttu-id="03560-122">Кроме того, рекомендуется помечать как конфиденциальные атрибуты, настроенные как часть набора фильтруемых атрибутов RODC.</span><span class="sxs-lookup"><span data-stu-id="03560-122">In addition, it is recommended that you also mark as confidential any attributes that you configure as part of the RODC filtered attribute set.</span></span> <span data-ttu-id="03560-123">Чтобы пометить атрибут как конфиденциальный, необходимо удалить разрешение чтение для атрибута для группы Пользователи, прошедшие проверку подлинности.</span><span class="sxs-lookup"><span data-stu-id="03560-123">To mark an attribute confidential, you have to remove the Read permission for the attribute for the Authenticated Users group.</span></span> <span data-ttu-id="03560-124">Пометка атрибута как конфиденциального обеспечивает дополнительную защиту для RODC, который скомпрометирован, путем удаления разрешений, необходимых для чтения данных, подобных учетным данным.</span><span class="sxs-lookup"><span data-stu-id="03560-124">Marking the attribute as confidential provides an additional safeguard against an RODC that is compromised by removing the permissions that are necessary to read the credential-like data.</span></span> <span data-ttu-id="03560-125">Дополнительные сведения о пометке атрибутов как конфиденциальных см. [в статье 922836 базы знаний Майкрософт]( https://support.microsoft.com/kb/922836).</span><span class="sxs-lookup"><span data-stu-id="03560-125">For more information about marking attributes as confidential, see [article 922836 in the Microsoft Knowledge Base]( https://support.microsoft.com/kb/922836).</span></span>

## <a name="related-topics"></a><span data-ttu-id="03560-126">См. также</span><span class="sxs-lookup"><span data-stu-id="03560-126">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="03560-127">Пошаговое руководством для контроллеров домена только для чтения</span><span class="sxs-lookup"><span data-stu-id="03560-127">Step-by-Step Guide for Read-only Domain Controllers</span></span>]( https://support.microsoft.com/kb/922836)
</dt> </dl>

 

 