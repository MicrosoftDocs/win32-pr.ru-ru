---
description: Расширенные лингвистические службы (ELS) реализованы в виде библиотеки динамической компоновки (DLL), предоставляющей разнообразные функции лингвистической поддержки для текста, определяемого приложением.
ms.assetid: 23d4e42a-a5bb-467c-a8b9-6a57ae39daa0
title: О расширенных лингвистических службах
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 7a6594fcfe67954a56cb09e239221b2b529d4d01
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "105683741"
---
# <a name="about-extended-linguistic-services"></a>О расширенных лингвистических службах

Расширенные лингвистические службы (ELS) реализованы в виде библиотеки динамической компоновки (DLL), предоставляющей разнообразные функции лингвистической поддержки для текста, определяемого приложением. Эта технология включает платформу и подключаемые модули ELS для нескольких предопределенных лингвистических типов служб, доступных для приложения через платформу.

> [!Note]  
> Модуль ELS устанавливается автоматически вместе с Windows 7 и более поздними версиями.

 

## <a name="els-platform"></a>Платформа ELS

Платформа ELS — это интерфейс между приложением и службами ELS. Он предоставляет простой способ реализации нескольких видов лингвистической функциональности с помощью одного API, что позволяет приложению получать доступ к определенным службам и использовать их. Дополнительные сведения об API см. в разделе [Справочник по расширенным лингвистическим службам.](extended-linguistic-services-reference.md)

> [!Note]  
> Когда приложение вызывает любую из функций API ELS, платформа выделяет память и ресурсы, необходимые для связи со службами. Приложение отвечает за вызов платформы еще раз для высвобождения этих ресурсов.

 

Платформа выполняется внутри области виртуальной памяти приложения, а вся выделенная память является частью этого пространства. Поэтому приложению нужно только связать библиотеку DLL компонента ELS (Elscore.dll) путем связывания с Елскоре. lib или динамически загрузкой Elscore.dll.

## <a name="els-services"></a>ELS Services

В Windows 7 и более поздних версиях платформа ELS поддерживает только следующие стандартные службы.

-   [Microsoft распознавание языка](microsoft-language-detection.md)
-   [Обнаружение сценариев Майкрософт](microsoft-script-detection.md)
-   [Службы транслитерации](transliteration-services.md)

> [!Note]  
> Будущие версии ELS будут поддерживать дополнительные службы, предоставляемые корпорацией Майкрософт или поставщиками услуг.

 

Каждая служба связана с категорией службы, которая описывает, что делает служба. Категория представлена нелокализованной строкой. Он используется приложениями для перечисления доступных служб. Текущие категории служб:

-   "Распознавание языка"
-   «Определение сценария»
-   Латиницу

Платформа использует метаданные службы для перечисления служб, запрошенных приложением. Такие свойства, как глобальный уникальный идентификатор (GUID) службы, Поддерживаемые языки ввода и вывода и скрипты, а также Категория службы могут использоваться приложением для перечисления требуемых ELS служб.

Каждая служба ELS реализуется как подключаемый модуль, поддерживаемый библиотекой DLL, которая может быть установлена в операционной системе, чтобы платформа ELS могла обнаружить и использовать ее. При необходимости службы могут предоставлять собственные подслужбы.

## <a name="main-els-operations"></a>Основные операции ELS

В этом разделе описаны основные операции, поддерживаемые платформой ELS. Платформа поддерживает как синхронные, так и асинхронные режимы вызова. Режим асинхронного вызова использует пул потоков приложения, чтобы запланировать потоки на обработку запросов.

> [!Note]  
> Поскольку платформа поддерживает асинхронный режим, ELS Services не требуется реализовывать этот тип функций самостоятельно.

 

### <a name="service-enumeration"></a>Перечисление служб

Платформа ELS загружает все службы ELS и управляет ими, делая операцию прозрачной для приложения. Приложение перечисляет доступные службы путем вызова [**маппингжетсервицес**](/windows/desktop/api/Elscore/nf-elscore-mappinggetservices). Инструкции по программированию см. в разделе [перечисление и освобождение служб](enumerating-and-freeing-services.md).

> [!Note]  
> Рекомендуется по соображениям производительности, чтобы приложение перечислило доступные службы только один раз. Платформа ELS снова проверяет службы при следующем перечислении, чтобы убедиться, что результаты перечисления всегда актуальны.

 

### <a name="text-recognition"></a>Распознавание текста

После перечисления служб приложение вызывает функцию [**маппингрекогнизетекст**](/windows/desktop/api/Elscore/nf-elscore-mappingrecognizetext) , чтобы использовать определенную службу ELS для отображения любого текстового диапазона входного текста для вывода. Примером распознавания текста является использование службы обнаружения языка, которая получает текстовый сегмент и обнаруживает наиболее вероятный язык.

После того как служба распознает текст, [**маппингрекогнизетекст**](/windows/desktop/api/Elscore/nf-elscore-mappingrecognizetext) возвращает структуру [**\_ \_ контейнера свойств сопоставления**](/windows/desktop/api/Elscore/ns-elscore-mapping_property_bag) , заполненную выходными данными и свойствами, созданными службой. Чтобы избежать утечек памяти, приложение должно освободить контейнер свойств путем вызова [**маппингфрипропертибаг**](/windows/desktop/api/Elscore/nf-elscore-mappingfreepropertybag) для каждого момента, когда [**маппингрекогнизетекст**](/windows/desktop/api/Elscore/nf-elscore-mappingrecognizetext) возвращает значение \_ ОК. Обычно приложение делает это при завершении использования выходных данных или когда выходные данные больше не нужны, так как входная область текста была изменена, например, изменена или удалена. При освобождении контейнера свойств **маппингфрипропертибаг** возвращает.

Инструкции по программированию для распознавания текста приведены в статье [запрос распознавания текста](requesting-text-recognition.md).

### <a name="service-termination"></a>Завершение работы службы

Если приложению больше не требуются службы ELS Services, оно вызывает [**маппингфрисервицес**](/windows/desktop/api/Elscore/nf-elscore-mappingfreeservices) перед завершением. Дополнительные сведения см. в разделе [перечисление и освобождение служб](enumerating-and-freeing-services.md).

### <a name="versioning"></a>Управление версиями

Будущие версии ELS позволяют обновлять службы ELS. Приложение сможет проверить номер версии структуры [**\_ \_ сведений о службе сопоставления**](/windows/desktop/api/Elscore/ns-elscore-mapping_service_info) , чтобы обнаружить изменения в службах.

> [!Note]  
> Приложение ELS не должно предполагать, что разные версии одной и той же службы могут извлекать точно такие же результаты.

 

 

 



