---
description: В этом разделе приводятся рекомендации по развертыванию приложения MUI для оптимального использования логикой загрузки приложений и загрузчиком ресурсов.
ms.assetid: 6c10b355-9bdd-4dba-8446-91034d4fe9b8
title: Развертывание приложения
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: c2023e5fc2dbde51a6ef996126e7557c9ffce8d5
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "105664752"
---
# <a name="application-deployment"></a><span data-ttu-id="e5899-103">Развертывание приложения</span><span class="sxs-lookup"><span data-stu-id="e5899-103">Application Deployment</span></span>

<span data-ttu-id="e5899-104">В этом разделе приводятся рекомендации по развертыванию приложения MUI для оптимального использования логикой загрузки приложений и загрузчиком ресурсов.</span><span class="sxs-lookup"><span data-stu-id="e5899-104">This section describes considerations for deploying your MUI application for optimal use by the application loading logic and the resource loader.</span></span>

## <a name="packaging"></a><span data-ttu-id="e5899-105">Упаковка</span><span class="sxs-lookup"><span data-stu-id="e5899-105">Packaging</span></span>

<span data-ttu-id="e5899-106">Упаковка для приложения зависит от типа предоставляемой языковой поддержки, так как Windows устанавливает языковые пакеты на основе предпочтений пользователя.</span><span class="sxs-lookup"><span data-stu-id="e5899-106">Packaging for the application depends on the type of language support provided, as Windows installs language packs based on user preferences.</span></span> <span data-ttu-id="e5899-107">Например, если вы решили поддерживать системные параметры языка, вам может потребоваться обеспечить поддержку всех языков в одном пакете независимо от предполагаемого пользователя.</span><span class="sxs-lookup"><span data-stu-id="e5899-107">For example, if you have decided on supporting system language settings, you might want to provide all language support in a single package, regardless of the intended user.</span></span>

<span data-ttu-id="e5899-108">Если приложение и ресурсы велики, следует использовать один пакет для каждого поддерживаемого языка.</span><span class="sxs-lookup"><span data-stu-id="e5899-108">If the application and resources are large, you should use one package per supported language.</span></span> <span data-ttu-id="e5899-109">Например, этот тип упаковки можно использовать, если приложение представляет языки, выбираемые пользователем, и пользователю требуется динамическое добавление и удаление языковых ресурсов.</span><span class="sxs-lookup"><span data-stu-id="e5899-109">For instance, you might use this packaging type if your application is presenting user-selectable languages and the user needs dynamic addition and removal of language resources.</span></span>

## <a name="file-placement-on-windows-vista-and-later"></a><span data-ttu-id="e5899-110">Размещение файлов в Windows Vista и более поздних версиях</span><span class="sxs-lookup"><span data-stu-id="e5899-110">File Placement on Windows Vista and Later</span></span>

<span data-ttu-id="e5899-111">В этом разделе описывается размещение файлов для приложения MUI, предназначенного только для Windows Vista и более поздних версий.</span><span class="sxs-lookup"><span data-stu-id="e5899-111">This section describes file placement for a MUI application targeted only at Windows Vista and later.</span></span>

### <a name="place-the-ln-file"></a><span data-ttu-id="e5899-112">Размещение LN файла</span><span class="sxs-lookup"><span data-stu-id="e5899-112">Place the LN File</span></span>

<span data-ttu-id="e5899-113">Типичным LN-файлом для приложения MUI является файл exe или DLL, например BakerDelta.dll.</span><span class="sxs-lookup"><span data-stu-id="e5899-113">A typical LN file for a MUI application is an .exe file or a .dll file, for example, BakerDelta.dll.</span></span> <span data-ttu-id="e5899-114">Этот файл следует поместить в корневую папку, в которой установлено приложение, например X: \\ \\ <somepath> \\BakerDelta.dll.</span><span class="sxs-lookup"><span data-stu-id="e5899-114">You should place this file in the root folder where your application is installed, for example, X:\\\\<somepath>\\BakerDelta.dll.</span></span>

### <a name="place-language-specific-resource-files"></a><span data-ttu-id="e5899-115">Размещение файлов ресурсов Language-Specific</span><span class="sxs-lookup"><span data-stu-id="e5899-115">Place Language-Specific Resource Files</span></span>

<span data-ttu-id="e5899-116">Файлы ресурсов конкретного языка должны иметь предсказуемые имена, сформированные путем добавления ". MUI" к полному имени LN-файла, например BakerDelta.dll. MUI.</span><span class="sxs-lookup"><span data-stu-id="e5899-116">Your language-specific resource files must have predictable names formed by appending ".mui" to the full name of the LN file, for example, BakerDelta.dll.mui.</span></span> <span data-ttu-id="e5899-117">Эти файлы должны размещаться во вложенных папках с именами соответствующих [языков](language-names.md).</span><span class="sxs-lookup"><span data-stu-id="e5899-117">These files must be placed in subfolders named after the appropriate [language names](language-names.md).</span></span> <span data-ttu-id="e5899-118">В следующем примере показано размещение ресурсов для файла BakerDelta.dll LN с файлами ресурсов для английского языка (Великобритания), английского (США), нейтрального английского, испанского (Испания), испанского (Мексика) и нейтрального испанского:</span><span class="sxs-lookup"><span data-stu-id="e5899-118">The following example shows placement of resources for the BakerDelta.dll LN file, with language-specific resource files for English (United Kingdom), English (United States), neutral English, Spanish (Spain), Spanish (Mexico), and neutral Spanish:</span></span>

-   <span data-ttu-id="e5899-119">X: \\ \\ <somepath> \\BakerDelta.dll</span><span class="sxs-lookup"><span data-stu-id="e5899-119">X:\\\\<somepath>\\BakerDelta.dll</span></span>
-   <span data-ttu-id="e5899-120">X: \\ \\ <somepath> \\ en-GB \\BakerDelta.dll. MUI</span><span class="sxs-lookup"><span data-stu-id="e5899-120">X:\\\\<somepath>\\en-GB\\BakerDelta.dll.mui</span></span>
-   <span data-ttu-id="e5899-121">X: \\ \\ <somepath> \\ en-US \\BakerDelta.dll. MUI</span><span class="sxs-lookup"><span data-stu-id="e5899-121">X:\\\\<somepath>\\en-US\\BakerDelta.dll.mui</span></span>
-   <span data-ttu-id="e5899-122">X: \\ \\ <somepath> \\ en \\BakerDelta.dll. MUI</span><span class="sxs-lookup"><span data-stu-id="e5899-122">X:\\\\<somepath>\\en\\BakerDelta.dll.mui</span></span>
-   <span data-ttu-id="e5899-123">X: \\ \\ <somepath> \\ es-ES \\BakerDelta.dll. MUI</span><span class="sxs-lookup"><span data-stu-id="e5899-123">X:\\\\<somepath>\\es-ES\\BakerDelta.dll.mui</span></span>
-   <span data-ttu-id="e5899-124">X: \\ \\ <somepath> \\ es-MX \\BakerDelta.dll. MUI</span><span class="sxs-lookup"><span data-stu-id="e5899-124">X:\\\\<somepath>\\es-MX\\BakerDelta.dll.mui</span></span>
-   <span data-ttu-id="e5899-125">X: \\ \\ <somepath> \\ ES \\BakerDelta.dll. MUI</span><span class="sxs-lookup"><span data-stu-id="e5899-125">X:\\\\<somepath>\\es\\BakerDelta.dll.mui</span></span>

<span data-ttu-id="e5899-126">Файлы ресурсов должны размещаться в правильных расположениях во время установки приложения MUI или языкового пакета.</span><span class="sxs-lookup"><span data-stu-id="e5899-126">The resource files must be placed in their correct locations during installation of the MUI application or a language package.</span></span> <span data-ttu-id="e5899-127">Важно поместить каждый файл в правильную папку, так как загрузчик ресурсов не может правильно работать в противном случае.</span><span class="sxs-lookup"><span data-stu-id="e5899-127">It is important to place each file in the correct folder, as the resource loader cannot operate properly otherwise.</span></span> <span data-ttu-id="e5899-128">Используя приведенный выше пример, загрузчик ресурсов проверяет X: \\ <somepath> \\ en-US \\BakerDelta.dll. MUI для ресурсов на английском языке (США).</span><span class="sxs-lookup"><span data-stu-id="e5899-128">Using the example above, the resource loader examines X:\\<somepath>\\en-US\\BakerDelta.dll.mui for English (United States) resources.</span></span> <span data-ttu-id="e5899-129">Если загрузчик выполняет поиск в этом файле и встречает только ресурсы на испанском языке, он завершается ошибкой.</span><span class="sxs-lookup"><span data-stu-id="e5899-129">If the loader looks in that file and encounters only Spanish-language resources, it fails.</span></span>

## <a name="file-placement-on-a-pre-windows-vista-operating-system"></a><span data-ttu-id="e5899-130">Размещение файлов в операционных системах, предшествующих Windows Vista</span><span class="sxs-lookup"><span data-stu-id="e5899-130">File Placement on a Pre-Windows Vista Operating System</span></span>

<span data-ttu-id="e5899-131">Приложение, запускаемое в операционной системе, предшествующей Windows Vista, может использовать Windows Vista для размещения файлов ресурсов, зависящих от языка, в папках на основе имен языков.</span><span class="sxs-lookup"><span data-stu-id="e5899-131">An application to run on a pre-Windows Vista operating system can use the Windows Vista convention of placing language-specific resource files in folders based on language names.</span></span> <span data-ttu-id="e5899-132">Кроме того, приложение может соответствовать более старому соглашению, в котором пути образуются из [идентификаторов языка](language-identifiers.md).</span><span class="sxs-lookup"><span data-stu-id="e5899-132">Alternatively, the application can conform to an older convention that forms paths from [language identifiers](language-identifiers.md).</span></span> <span data-ttu-id="e5899-133">Для приложений, поддерживающих только один язык, можно просто разместить файл ресурсов, зависящий от языка, в корневом каталоге с двоичным файлом.</span><span class="sxs-lookup"><span data-stu-id="e5899-133">For applications that only support a single language, you can just place the language-specific resource file in the root directory with the binary file.</span></span>

<span data-ttu-id="e5899-134">Например, рассмотрим LN-файл с именем BakerDelta.dll, а также файлы ресурсов для английского языка (Великобритания), Английский (США), нейтральный английский, Испанский (Испания), Испанский (Мексика) и нейтральный испанский.</span><span class="sxs-lookup"><span data-stu-id="e5899-134">For example, consider an LN file called BakerDelta.dll, with language-specific resource files for English (United Kingdom), English (United States), neutral English, Spanish (Spain), Spanish (Mexico), and neutral Spanish.</span></span> <span data-ttu-id="e5899-135">Установка в операционных системах, предшествующих Windows Vista, может поместить эти файлы следующим образом:</span><span class="sxs-lookup"><span data-stu-id="e5899-135">An installation on a pre-Windows Vista operating system might place these files as follows:</span></span>

-   <span data-ttu-id="e5899-136">X: \\ \\ <somepath> \\BakerDelta.dll</span><span class="sxs-lookup"><span data-stu-id="e5899-136">X:\\\\<somepath>\\BakerDelta.dll</span></span>
-   <span data-ttu-id="e5899-137">X: \\ \\ <somepath> \\BakerDelta.dll. MUI (необязательный MUI-файл, содержащий ресурсы на языке операционной системы в качестве конечного резервного)</span><span class="sxs-lookup"><span data-stu-id="e5899-137">X:\\\\<somepath>\\BakerDelta.dll.mui (optional .mui file containing resources in the language of the operating system as the ultimate fallback)</span></span>
-   <span data-ttu-id="e5899-138">X: \\ \\ <somepath> \\ MUI \\ 0809 \\BakerDelta.dll. MUI</span><span class="sxs-lookup"><span data-stu-id="e5899-138">X:\\\\<somepath>\\MUI\\0809\\BakerDelta.dll.mui</span></span>
-   <span data-ttu-id="e5899-139">X: \\ \\ <somepath> \\ MUI \\ 0409 \\BakerDelta.dll. MUI</span><span class="sxs-lookup"><span data-stu-id="e5899-139">X:\\\\<somepath>\\MUI\\0409\\BakerDelta.dll.mui</span></span>
-   <span data-ttu-id="e5899-140">X: \\ \\ <somepath> \\ MUI \\ 0209 \\BakerDelta.dll. MUI</span><span class="sxs-lookup"><span data-stu-id="e5899-140">X:\\\\<somepath>\\MUI\\0209\\BakerDelta.dll.mui</span></span>
-   <span data-ttu-id="e5899-141">X: \\ \\ <somepath> \\ MUI \\ 040a \\BakerDelta.dll. MUI</span><span class="sxs-lookup"><span data-stu-id="e5899-141">X:\\\\<somepath>\\MUI\\040a\\BakerDelta.dll.mui</span></span>
-   <span data-ttu-id="e5899-142">X: \\ \\ <somepath> \\ MUI \\ 080a \\BakerDelta.dll. MUI</span><span class="sxs-lookup"><span data-stu-id="e5899-142">X:\\\\<somepath>\\MUI\\080a\\BakerDelta.dll.mui</span></span>
-   <span data-ttu-id="e5899-143">X: \\ \\ <somepath> \\ MUI \\ 0209 \\BakerDelta.dll. MUI</span><span class="sxs-lookup"><span data-stu-id="e5899-143">X:\\\\<somepath>\\MUI\\0209\\BakerDelta.dll.mui</span></span>

<span data-ttu-id="e5899-144">Помимо этих файлов приложение может настроить конечный файл ресурсов для конкретного языка, который будет находиться в той же папке, что и само приложение.</span><span class="sxs-lookup"><span data-stu-id="e5899-144">In addition to these files, the application can set up an ultimate fallback language-specific resource file, to reside in the same folder as the application itself.</span></span> <span data-ttu-id="e5899-145">В приведенном выше примере это файл X: \\ <somepath> \\BakerDelta.dll. MUI.</span><span class="sxs-lookup"><span data-stu-id="e5899-145">For the above example, this file is X:\\<somepath>\\BakerDelta.dll.mui.</span></span>

## <a name="installation"></a><span data-ttu-id="e5899-146">Установка</span><span class="sxs-lookup"><span data-stu-id="e5899-146">Installation</span></span>

<span data-ttu-id="e5899-147">Логика установки для копирования и настройки файлов приложений зависит от поддерживаемых языков и расположения файлов языковых ресурсов в правильных расположениях установки.</span><span class="sxs-lookup"><span data-stu-id="e5899-147">Installation logic for copying and setting up application files relies on the supported languages and the location of language resource files in the correct install locations.</span></span> <span data-ttu-id="e5899-148">Установщик должен установить и настроить приложение, чтобы пользователь мог легко добавлять и удалять языки.</span><span class="sxs-lookup"><span data-stu-id="e5899-148">An installer must install and set up the application so that the user can easily add and remove languages.</span></span>

<span data-ttu-id="e5899-149">Если приложение просто устанавливает язык целевой операционной системы, установщик должен обнаружить пользовательский интерфейс операционной системы, чтобы определить ресурсы приложения для установки.</span><span class="sxs-lookup"><span data-stu-id="e5899-149">If your application simply installs the language of the target operating system, the installer must detect the operating system user interface to determine the application resources to install.</span></span> <span data-ttu-id="e5899-150">Чтобы обеспечить оптимальное взаимодействие с пользователем, установщик должен также обнаружить язык пользовательского интерфейса, чтобы предоставить локализованный пользовательский интерфейс для самой установки.</span><span class="sxs-lookup"><span data-stu-id="e5899-150">To support the best user experience, the installer should also detect the user interface language to present a localized user interface for the installation itself.</span></span>

<span data-ttu-id="e5899-151">Для создания программ установки рекомендуется использовать установщик Windows (MSI).</span><span class="sxs-lookup"><span data-stu-id="e5899-151">It is recommended to use Windows Installer (MSI) to create your installation software.</span></span> <span data-ttu-id="e5899-152">Связанные ресурсы должны включаться в файл ресурсов базового языка, как описано в разделе [Создание файла ресурсов базового языка](creating-the-base-language-resource-file.md).</span><span class="sxs-lookup"><span data-stu-id="e5899-152">Associated resources should be included in the base language resource file, as described in [Creating the Base Language Resource File](creating-the-base-language-resource-file.md).</span></span> <span data-ttu-id="e5899-153">Инструкции по использованию MSI для подготовки установщика приложений см. в разделе [установщик Windows](../msi/windows-installer-portal.md).</span><span class="sxs-lookup"><span data-stu-id="e5899-153">For instructions on using MSI to prepare the application installer, see [Windows Installer](../msi/windows-installer-portal.md).</span></span>

## <a name="uninstall-program"></a><span data-ttu-id="e5899-154">Программа удаления</span><span class="sxs-lookup"><span data-stu-id="e5899-154">Uninstall Program</span></span>

<span data-ttu-id="e5899-155">Вам также может потребоваться сделать программу удаления приложением MUI.</span><span class="sxs-lookup"><span data-stu-id="e5899-155">You might also want to furnish an uninstall program with your MUI application.</span></span> <span data-ttu-id="e5899-156">Кроме того, для создания этой программы рекомендуется использовать MSI.</span><span class="sxs-lookup"><span data-stu-id="e5899-156">MSI is also recommended for creation of this program.</span></span> <span data-ttu-id="e5899-157">Инструкции по использованию MSI для подготовки программ удаления см. в разделе [установщик Windows](../msi/windows-installer-portal.md).</span><span class="sxs-lookup"><span data-stu-id="e5899-157">For instructions on using MSI to prepare the uninstall software, see [Windows Installer](../msi/windows-installer-portal.md).</span></span>

## <a name="related-topics"></a><span data-ttu-id="e5899-158">См. также</span><span class="sxs-lookup"><span data-stu-id="e5899-158">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="e5899-159">Использование многоязыкового интерфейса пользователя</span><span class="sxs-lookup"><span data-stu-id="e5899-159">Using Multilingual User Interface</span></span>](using-multilingual-user-interface.md)
</dt> </dl>

 

 
