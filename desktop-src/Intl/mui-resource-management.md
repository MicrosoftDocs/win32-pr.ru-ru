---
description: Глобализованное приложение должно определять разнообразные элементы пользовательского интерфейса, такие как меню, диалоговые окна, строки справки и другие элементы, представленные в виде локализованных ресурсов.
ms.assetid: 4d8b769d-0830-4e4e-b284-ce0b21dfe5d4
title: Управление ресурсами MUI
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: aeed59c4b835e2c93e5f4cfc9988509349d8b0ee
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "105662643"
---
# <a name="mui-resource-management"></a><span data-ttu-id="179bc-103">Управление ресурсами MUI</span><span class="sxs-lookup"><span data-stu-id="179bc-103">MUI Resource Management</span></span>

<span data-ttu-id="179bc-104">Глобализованное приложение должно определять разнообразные элементы пользовательского интерфейса, такие как меню, диалоговые окна, строки справки и другие элементы, представленные в виде локализованных ресурсов.</span><span class="sxs-lookup"><span data-stu-id="179bc-104">Your globalized application must define a variety of user interface elements, such as menus, dialog boxes, help strings, and other items, represented as localized resources.</span></span> <span data-ttu-id="179bc-105">Язык пользовательского интерфейса станет одним из параметров приложения.</span><span class="sxs-lookup"><span data-stu-id="179bc-105">The user interface language becomes one of the settings for the application.</span></span> <span data-ttu-id="179bc-106">В этом разделе описывается технология ресурсов MUI, которую мы рекомендуем использовать для создания ресурсов приложения.</span><span class="sxs-lookup"><span data-stu-id="179bc-106">This section describes the MUI resource technology, which we recommend that you use for creating your application resources.</span></span>

## <a name="features-of-the-mui-resource-technology"></a><span data-ttu-id="179bc-107">Возможности технологии ресурсов MUI</span><span class="sxs-lookup"><span data-stu-id="179bc-107">Features of the MUI Resource Technology</span></span>

<span data-ttu-id="179bc-108">Технология ресурсов MUI, представленная в Windows Vista и более поздних версиях, имеет следующие характеристики.</span><span class="sxs-lookup"><span data-stu-id="179bc-108">The MUI resource technology, exposed in Windows Vista and later, has the following characteristics:</span></span>

-   <span data-ttu-id="179bc-109">Файлы ресурсов, относящиеся к конкретному языку, хранятся отдельно от двоичного файла кода приложения, поэтому изменение кода не влияет на ресурсы.</span><span class="sxs-lookup"><span data-stu-id="179bc-109">Language-specific resource files are stored separately from the application code binary, so that a code change does not affect the resources.</span></span>
-   <span data-ttu-id="179bc-110">Ресурсы для нескольких языков можно развернуть в одной установке или в отдельных установках для каждого языка.</span><span class="sxs-lookup"><span data-stu-id="179bc-110">The resources for multiple languages can be deployed in a single installation or separate installations for each language.</span></span>
-   <span data-ttu-id="179bc-111">Ресурс загружается и отображается в соответствии с языком приложения, заданным пользователем.</span><span class="sxs-lookup"><span data-stu-id="179bc-111">A resource is loaded and displayed according to the language of the application as set by the user.</span></span>

<span data-ttu-id="179bc-112">Эта технология связывает ресурсы, определенные в файлах конкретного языка, с определенной версией файла, не зависящего от языка (LN).</span><span class="sxs-lookup"><span data-stu-id="179bc-112">This technology associates the resources defined in language-specific files with a particular version of a language-neutral (LN) file.</span></span> <span data-ttu-id="179bc-113">LN-файл — это PE-файл Win32, представляющий двоичные и независимые от языка ресурсы кода приложения.</span><span class="sxs-lookup"><span data-stu-id="179bc-113">The LN file is a Win32 PE file representing the application code binary and language-neutral resources.</span></span> <span data-ttu-id="179bc-114">Сопоставление файлов использует контрольную сумму, отраженную в данных конфигурации ресурсов, содержащихся во всех связанных файлах.</span><span class="sxs-lookup"><span data-stu-id="179bc-114">Association of files uses a checksum reflected in resource configuration data contained in all associated files.</span></span> <span data-ttu-id="179bc-115">Загрузчик ресурсов использует контрольную сумму, чтобы убедиться, что файлы содержат одну и ту же версию необходимых ресурсов.</span><span class="sxs-lookup"><span data-stu-id="179bc-115">The resource loader uses the checksum to verify that the files hold the same version of the required resources.</span></span> <span data-ttu-id="179bc-116">Он также проверяет язык в файле, соответствующем конкретному языку, с именем папки.</span><span class="sxs-lookup"><span data-stu-id="179bc-116">It also validates the language in the language-specific file with its folder name.</span></span> <span data-ttu-id="179bc-117">Загрузчик не загружает файл ресурсов, если соответствующая связь не установлена.</span><span class="sxs-lookup"><span data-stu-id="179bc-117">The loader does not load a resource file if the appropriate association is not established.</span></span>

<span data-ttu-id="179bc-118">В частности, основная контрольная сумма вычисляется по основным и дополнительным номерам версий файла и имени файла (с учетом регистра), которые получаются из ресурса версии.</span><span class="sxs-lookup"><span data-stu-id="179bc-118">Specifically the main checksum is calculated from the major and minor version numbers of a file and the file name (case sensitive), which are obtained from the version resource.</span></span> <span data-ttu-id="179bc-119">Эта контрольная сумма не должна изменяться между версиями RTM и Service Pack одного и того же компонента.</span><span class="sxs-lookup"><span data-stu-id="179bc-119">This checksum should not change between RTM and service pack versions of the same component.</span></span> <span data-ttu-id="179bc-120">Кроме того, контрольная сумма службы используется для определения соответствующей версии файла ресурсов, предназначенного для конкретного языка, для загрузки.</span><span class="sxs-lookup"><span data-stu-id="179bc-120">Additionally, a service checksum is used to determine the appropriate version of the language-specific resource file to load.</span></span> <span data-ttu-id="179bc-121">Эта контрольная сумма вычисляется на основе локализуемых ресурсов в файле.</span><span class="sxs-lookup"><span data-stu-id="179bc-121">This checksum is calculated based on the localizable resources in the file.</span></span>

<span data-ttu-id="179bc-122">Многоязыковой интерфейс пользователя позволяет использовать две служебные программы для подготовки файлов ресурсов для приложения.</span><span class="sxs-lookup"><span data-stu-id="179bc-122">MUI furnishes two resource utilities that you can use to prepare resource files for your application.</span></span> <span data-ttu-id="179bc-123">Служебная программа для многоязыкового интерфейса пользователя с именем МУИРКТ позволяет создать LN-файл и связанные с ним зависящие от языка файлы ресурсов.</span><span class="sxs-lookup"><span data-stu-id="179bc-123">A MUI-specific utility, called MUIRCT, allows you to build an LN file and associated language-specific resource files.</span></span> <span data-ttu-id="179bc-124">В Windows Vista и более поздних версиях компилятор Windows RC также был изменен для создания этих файлов в соответствии с технологией ресурсов MUI.</span><span class="sxs-lookup"><span data-stu-id="179bc-124">On Windows Vista and later, the Windows RC Compiler has also been modified to build these files according to the MUI resource technology.</span></span> <span data-ttu-id="179bc-125">Синтаксис и сведения об этих средствах см. в разделе [Служебные программы](resource-utilities.md).</span><span class="sxs-lookup"><span data-stu-id="179bc-125">For syntax and details of these tools, see [Resource Utilities](resource-utilities.md).</span></span>

## <a name="ln-file"></a><span data-ttu-id="179bc-126">LN, файл</span><span class="sxs-lookup"><span data-stu-id="179bc-126">LN File</span></span>

<span data-ttu-id="179bc-127">LN-файл для приложения MUI содержит исполняемый код и независимые от языка ресурсы, которые являются общими и устанавливаются всеми языковыми версиями приложения.</span><span class="sxs-lookup"><span data-stu-id="179bc-127">The LN file for a MUI application contains executable code and language-neutral resources that are shared and installed by all language versions of the application.</span></span>

## <a name="language-specific-resource-file"></a><span data-ttu-id="179bc-128">Файл ресурсов Language-Specific</span><span class="sxs-lookup"><span data-stu-id="179bc-128">Language-Specific Resource File</span></span>

<span data-ttu-id="179bc-129">Файл ресурсов, зависящий от языка, обычно содержит строки пользовательского интерфейса и другие элементы, требующие локализации для определенного языка.</span><span class="sxs-lookup"><span data-stu-id="179bc-129">A language-specific resource file normally contains user interface strings and other elements that require localization for a particular language.</span></span> <span data-ttu-id="179bc-130">Приложение MUI использует один файл ресурсов, зависящий от языка, для каждого поддерживаемого языка.</span><span class="sxs-lookup"><span data-stu-id="179bc-130">Your MUI application uses one language-specific resource file per supported language.</span></span> <span data-ttu-id="179bc-131">LN-файл для приложения одинаков для каждого файла ресурсов, зависящего от языка.</span><span class="sxs-lookup"><span data-stu-id="179bc-131">The LN file for the application is the same for each language-specific resource file.</span></span>

<span data-ttu-id="179bc-132">При построении с использованием технологии ресурсов MUI файлы определенного языка имеют расширение MUI и обрабатываются следующим образом:</span><span class="sxs-lookup"><span data-stu-id="179bc-132">When built using the MUI resource technology, language-specific files have a ".mui" extension and are handled as follows:</span></span>

-   <span data-ttu-id="179bc-133">Зависящие от языка файлы, связанные с заданным LN-файлом, имеют одинаковое имя файла, которое формируется путем добавления расширения MUI в полное имя файла (с расширением) соответствующего LN-файла.</span><span class="sxs-lookup"><span data-stu-id="179bc-133">The language-specific files associated with a given LN file all share the same file name, which is formed by adding the extension ".mui" to the full file name (with extension) of the corresponding LN file.</span></span> <span data-ttu-id="179bc-134">Например, LN-файл с именем «Myfile.dll» содержит файлы, зависящие от языка, с именем «Myfile.dll. MUI».</span><span class="sxs-lookup"><span data-stu-id="179bc-134">For example, an LN file named "Myfile.dll" has language-specific files named "Myfile.dll.mui".</span></span>
-   <span data-ttu-id="179bc-135">Файлы, относящиеся к конкретному языку, находятся во вложенных папках папки, содержащей LN-файл.</span><span class="sxs-lookup"><span data-stu-id="179bc-135">The language-specific files reside in subfolders of the folder containing the LN file.</span></span> <span data-ttu-id="179bc-136">Имя каждой папки отражает язык.</span><span class="sxs-lookup"><span data-stu-id="179bc-136">Each folder name reflects the language.</span></span>

## <a name="resource-configuration-data"></a><span data-ttu-id="179bc-137">Данные конфигурации ресурсов</span><span class="sxs-lookup"><span data-stu-id="179bc-137">Resource Configuration Data</span></span>

<span data-ttu-id="179bc-138">Чтобы связать LN-файл с файлами, зависящими от языка, технология ресурсов MUI использует данные конфигурации ресурсов, включая контрольную сумму.</span><span class="sxs-lookup"><span data-stu-id="179bc-138">To associate an LN file with its language-specific files, the MUI resource technology uses resource configuration data, including the checksum.</span></span> <span data-ttu-id="179bc-139">Процедура создания ресурсов помещает эти сведения в раздел конфигурации версии-КАНДИДАТа каждого файла LN и конкретного языка.</span><span class="sxs-lookup"><span data-stu-id="179bc-139">The resource build procedure places this information in an RC Config section of each LN and language-specific file.</span></span> <span data-ttu-id="179bc-140">Доступная для человека форма этой информации доступна через служебную программу МУИРКТ.</span><span class="sxs-lookup"><span data-stu-id="179bc-140">A human-readable form of this information is available via the MUIRCT utility.</span></span> <span data-ttu-id="179bc-141">Дополнительные сведения см. в разделе [Служебные программы](resource-utilities.md).</span><span class="sxs-lookup"><span data-stu-id="179bc-141">For more information, see [Resource Utilities](resource-utilities.md).</span></span>

## <a name="related-topics"></a><span data-ttu-id="179bc-142">См. также</span><span class="sxs-lookup"><span data-stu-id="179bc-142">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="179bc-143">Сведения о многоязычном пользовательском интерфейсе</span><span class="sxs-lookup"><span data-stu-id="179bc-143">About Multilingual User Interface</span></span>](about-multilingual-user-interface.md)
</dt> <dt>

[<span data-ttu-id="179bc-144">Служебные программы</span><span class="sxs-lookup"><span data-stu-id="179bc-144">Resource Utilities</span></span>](resource-utilities.md)
</dt> </dl>

 

 



