---
description: Большинство приложений, написанных сегодня, обрабатывали символьные данные в основном как Юникод, используя кодировку UTF-16.
ms.assetid: 866f09f4-629e-4097-a974-fbda9389d077
title: Кодовые страницы
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: c28528ba13e3db3f0c72dd7c071eb8b7886ab003
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "105683531"
---
# <a name="code-pages"></a><span data-ttu-id="80733-103">Кодовые страницы</span><span class="sxs-lookup"><span data-stu-id="80733-103">Code Pages</span></span>

<span data-ttu-id="80733-104">Большинство приложений, написанных сегодня, обрабатывали символьные данные в основном как [Юникод](unicode.md), используя кодировку UTF-16.</span><span class="sxs-lookup"><span data-stu-id="80733-104">Most applications written today handle character data primarily as [Unicode](unicode.md), using the UTF-16 encoding.</span></span> <span data-ttu-id="80733-105">Однако многие устаревшие приложения по прежнему используют наборы символов, основанные на кодовых страницах.</span><span class="sxs-lookup"><span data-stu-id="80733-105">However, many legacy applications continue to use character sets based on code pages.</span></span> <span data-ttu-id="80733-106">Даже новым приложениям иногда приходится работать с кодовыми страницами, часто по одной из следующих причин:</span><span class="sxs-lookup"><span data-stu-id="80733-106">Even new applications sometimes have to work with code pages, often for one of the following reasons:</span></span>

-   <span data-ttu-id="80733-107">Для взаимодействия с устаревшими приложениями.</span><span class="sxs-lookup"><span data-stu-id="80733-107">To communicate with legacy applications.</span></span>
-   <span data-ttu-id="80733-108">Для взаимодействия со старыми серверами электронной почты и новостей, которые могут не всегда поддерживать Юникод.</span><span class="sxs-lookup"><span data-stu-id="80733-108">To communicate with older mail and news servers, which might not always support Unicode.</span></span>
-   <span data-ttu-id="80733-109">Для взаимодействия с консолью Windows.</span><span class="sxs-lookup"><span data-stu-id="80733-109">To communicate with the Windows Console.</span></span>

> [!Note]  
> <span data-ttu-id="80733-110">Новые приложения Windows должны использовать [Юникод](unicode.md) , чтобы избежать несоответствий между различными кодовыми страницами и простотой локализации.</span><span class="sxs-lookup"><span data-stu-id="80733-110">New Windows applications should use [Unicode](unicode.md) to avoid the inconsistencies of varied code pages and for ease of localization.</span></span>

 

<span data-ttu-id="80733-111">Каждая кодовая страница представлена идентификатором кодовой страницы, например 1252, и обрабатывается функциями API, поддерживающими Юникод и кодировка символов.</span><span class="sxs-lookup"><span data-stu-id="80733-111">Each code page is represented by a code page identifier, for example, 1252, and is handled by the Unicode and character set API functions.</span></span> <span data-ttu-id="80733-112">Список поддерживаемых идентификаторов кодовых страниц см. в разделе [идентификаторы кодовых страниц](code-page-identifiers.md).</span><span class="sxs-lookup"><span data-stu-id="80733-112">For a list of supported code page identifiers, see [Code Page Identifiers](code-page-identifiers.md).</span></span> <span data-ttu-id="80733-113">В справочнике по кодовым страницам в [центре разработчиков Microsoft Go Global](https://msdn.microsoft.com/goglobal) содержатся полные описания многих кодовых страниц.</span><span class="sxs-lookup"><span data-stu-id="80733-113">The "Code Pages" reference on the Microsoft [Go Global Developer Center](https://msdn.microsoft.com/goglobal) gives full descriptions of many code pages.</span></span>

<span data-ttu-id="80733-114">Кодовые страницы Windows, обычно называемые «кодовыми страницами ANSI», являются кодовыми страницами, для которых значения, отличные от ASCII (значения больше 127), представляют международные символы.</span><span class="sxs-lookup"><span data-stu-id="80733-114">Windows code pages, commonly called "ANSI code pages", are code pages for which non-ASCII values (values greater than 127) represent international characters.</span></span> <span data-ttu-id="80733-115">Эти кодовые страницы изначально используются в Windows Me, а также доступны в Windows NT и более поздних версиях.</span><span class="sxs-lookup"><span data-stu-id="80733-115">These code pages are used natively in Windows Me, and are also available on Windows NT and later.</span></span>

> [!Note]  
> <span data-ttu-id="80733-116">Первоначально кодовая страница Windows 1252, кодовая страница, обычно используемая для английского и других европейских языков, основана на черновике Американский национальный институт стандартов (ANSI) (ANSI).</span><span class="sxs-lookup"><span data-stu-id="80733-116">Originally, Windows code page 1252, the code page commonly used for English and other Western European languages, was based on an American National Standards Institute (ANSI) draft.</span></span> <span data-ttu-id="80733-117">Этот черновик в конечном итоге стал стандартом ISO 8859-1, но код кодовой страницы Windows 1252 был реализован до того, как он стал окончательным, и не идентичен стандарту ISO 8859-1.</span><span class="sxs-lookup"><span data-stu-id="80733-117">That draft eventually became ISO 8859-1, but Windows code page 1252 was implemented before the standard became final, and is not exactly the same as ISO 8859-1.</span></span>

 

<span data-ttu-id="80733-118">Многие функции Windows API имеют версии "A" (ANSI) и "W" (широкие возможности Юникода).</span><span class="sxs-lookup"><span data-stu-id="80733-118">Many Windows API functions have "A" (ANSI) and "W" (wide, Unicode) versions.</span></span> <span data-ttu-id="80733-119">Версия "A" обрабатывает текст на основе кодовых страниц Windows, а версия "W" обрабатывает текст в Юникоде.</span><span class="sxs-lookup"><span data-stu-id="80733-119">The "A" version handles text based on Windows code pages, while the "W" version handles Unicode text.</span></span> <span data-ttu-id="80733-120">См. раздел [типы данных Windows для строк](windows-data-types-for-strings.md) и [соглашений для прототипов функций](conventions-for-function-prototypes.md).</span><span class="sxs-lookup"><span data-stu-id="80733-120">See [Windows Data Types for Strings](windows-data-types-for-strings.md) and [Conventions for Function Prototypes](conventions-for-function-prototypes.md).</span></span>

<span data-ttu-id="80733-121">Кодовые страницы Windows также иногда называют «активными кодовыми страницами» или «системными активными кодовыми страницами».</span><span class="sxs-lookup"><span data-stu-id="80733-121">Windows code pages are also sometimes referred to as "active code pages" or "system active code pages".</span></span> <span data-ttu-id="80733-122">Операционная система Windows всегда имеет одну активную в настоящий момент кодовую страницу Windows.</span><span class="sxs-lookup"><span data-stu-id="80733-122">A Windows operating system always has one currently active Windows code page.</span></span> <span data-ttu-id="80733-123">Все [версии функций API в ANSI](conventions-for-function-prototypes.md) используют текущую активную кодовую страницу.</span><span class="sxs-lookup"><span data-stu-id="80733-123">All [ANSI versions of API functions](conventions-for-function-prototypes.md) use the currently active code page.</span></span>

<span data-ttu-id="80733-124">Кодовые страницы изготовителя оборудования (OEM) — это кодовые страницы, для которых значения, отличные от ASCII, представляют символы рисования строк и пунктуации.</span><span class="sxs-lookup"><span data-stu-id="80733-124">Original equipment manufacturer (OEM) code pages are code pages for which non-ASCII values represent line drawing and punctuation characters.</span></span> <span data-ttu-id="80733-125">Эти кодовые страницы изначально использовались для MS-DOS и по-прежнему используются для консольных приложений.</span><span class="sxs-lookup"><span data-stu-id="80733-125">These code pages were originally used for MS-DOS and are still used for console applications.</span></span> <span data-ttu-id="80733-126">Они также используются для нерасширенных имен файлов в файловых системах FAT12, FAT16 и FAT32, как описано в разделе [наборы символов, используемые в именах файлов](character-sets-used-in-file-names.md).</span><span class="sxs-lookup"><span data-stu-id="80733-126">They are also used for the non-extended file names in the FAT12, FAT16, and FAT32 file systems, as described in [Character Sets Used in File Names](character-sets-used-in-file-names.md).</span></span> <span data-ttu-id="80733-127">Обычно кодовая страница OEM для английского языка — кодовая страница 437.</span><span class="sxs-lookup"><span data-stu-id="80733-127">The usual OEM code page for English is code page 437.</span></span>

<span data-ttu-id="80733-128">Для кодовых страниц Windows и кодовых страниц OEM значения кода 0x00 до 0x7F соответствуют 7-разрядной кодировке ASCII.</span><span class="sxs-lookup"><span data-stu-id="80733-128">For both Windows code pages and OEM code pages, the code values 0x00 through 0x7F correspond to the 7-bit ASCII character set.</span></span> <span data-ttu-id="80733-129">Значения кода 0x00 до 0x19 и 0x7F всегда представляют стандартизированные управляющие символы, а 0x20 – 0x7E — стандартизированные отображаемые символы.</span><span class="sxs-lookup"><span data-stu-id="80733-129">Code values 0x00 through 0x19 and 0x7F always represent standardized control characters and 0x20 through 0x7E represent standardized displayable characters.</span></span> <span data-ttu-id="80733-130">Символы, представленные оставшимися кодами, от 0x80 до 0xFF, зависят от наборов символов.</span><span class="sxs-lookup"><span data-stu-id="80733-130">Characters represented by the remaining codes, 0x80 through 0xff, vary among character sets.</span></span> <span data-ttu-id="80733-131">Каждый набор символов содержит различные специальные символы, обычно настроенные для языка или группы языков.</span><span class="sxs-lookup"><span data-stu-id="80733-131">Each character set includes different special characters, typically customized for a language or group of languages.</span></span> <span data-ttu-id="80733-132">Кодовая страница Windows 1252 и OEM кодовая страница 437 обычно используются в США.</span><span class="sxs-lookup"><span data-stu-id="80733-132">Windows code page 1252 and OEM code page 437 are generally used in the United States.</span></span>

<span data-ttu-id="80733-133">Помимо кодовых страниц Windows и OEM, приложения могут использовать немашинные кодовые страницы.</span><span class="sxs-lookup"><span data-stu-id="80733-133">In addition to Windows and OEM code pages, your applications can use non-native code pages.</span></span> <span data-ttu-id="80733-134">Примерами являются кодовые страницы EBCDIC и Macintosh.</span><span class="sxs-lookup"><span data-stu-id="80733-134">Examples are EBCDIC and Macintosh code pages.</span></span>

<span data-ttu-id="80733-135">Две кодировки Юникода (UTF-7 и UTF-8) реализуются как кодовые страницы.</span><span class="sxs-lookup"><span data-stu-id="80733-135">Two encodings of Unicode (UTF-7 and UTF-8) are implemented as code pages.</span></span> <span data-ttu-id="80733-136">Как и в случае с другими кодовыми страницами, каждая страница известна числовым идентификатором и может обрабатываться множеством одинаковых функций API Юникода и кодировки символов.</span><span class="sxs-lookup"><span data-stu-id="80733-136">Like other code pages, each page is known by a numeric identifier and can be handled with many of the same Unicode and character set API functions.</span></span>

<span data-ttu-id="80733-137">Кодовые страницы могут быть страницами [однобайтовой](single-byte-character-sets.md) кодировки (SBCS) [или двухбайтовой кодировкой](double-byte-character-sets.md) (DBCS).</span><span class="sxs-lookup"><span data-stu-id="80733-137">Code pages can be either [single-byte character set](single-byte-character-sets.md) (SBCS) pages or [double-byte character set](double-byte-character-sets.md) (DBCS) pages.</span></span> <span data-ttu-id="80733-138">На страницах SBCS каждый байт кодирует один символ напрямую, чтобы можно было представить ровно 256 различных символов (включая управляющие символы, буквы, цифры, знаки препинания, символы и т. д.).</span><span class="sxs-lookup"><span data-stu-id="80733-138">In SBCS pages, each byte directly encodes a single character, so that it is possible to represent exactly 256 distinct characters (including control characters, letters, digits, punctuation, symbols, and the like).</span></span> <span data-ttu-id="80733-139">Кодовые страницы DBCS используются для таких языков, как японский и китайский.</span><span class="sxs-lookup"><span data-stu-id="80733-139">DBCS code pages are used for languages such as Japanese and Chinese.</span></span> <span data-ttu-id="80733-140">В такой кодовой странице некоторые символы имеют две байтовые кодировки с определенными байтами (всегда значения больше 127), служащие "старшими байтами".</span><span class="sxs-lookup"><span data-stu-id="80733-140">In such a code page, some characters have two-byte encodings with certain byte values (always values greater than 127) serving as "lead bytes".</span></span> <span data-ttu-id="80733-141">Вместо кодирования символов в своих собственных значениях старшие байты могут быть сопоставлены с символом только в сочетании с "младшим байтом".</span><span class="sxs-lookup"><span data-stu-id="80733-141">Instead of encoding characters in their own right, lead bytes can be mapped to a character only in conjunction with a "trail byte".</span></span>

<span data-ttu-id="80733-142">Для некоторых устаревших протоколов требуется использовать однобайтовые и ДВУХБАЙТОВЫЕ кодовые страницы.</span><span class="sxs-lookup"><span data-stu-id="80733-142">Some legacy protocols require the use of SBCS and DBCS code pages.</span></span> <span data-ttu-id="80733-143">Каждая кодовая страница SBCS и DBCS поддерживает разные символы, но ни одна кодовая страница не поддерживает полный набор символов, предоставляемых в Юникоде.</span><span class="sxs-lookup"><span data-stu-id="80733-143">Each SBCS/DBCS code page supports different characters, but no code page supports the full breadth of characters provided by Unicode.</span></span> <span data-ttu-id="80733-144">Каждая кодовая страница SBCS/DBCS поддерживает разные подмножества, которые кодируются по-разному.</span><span class="sxs-lookup"><span data-stu-id="80733-144">Each SBCS/DBCS code page supports a different subset, differently encoded.</span></span>

> [!Note]  
> <span data-ttu-id="80733-145">Данные, преобразованные из одной однобайтовой или ДВУХБАЙТОВОЙ кодовой страницы в другую, могут быть повреждены, так как одно и то же значение данных на разных кодовых страницах может кодировать другой символ.</span><span class="sxs-lookup"><span data-stu-id="80733-145">Data converted from one SBCS or DBCS code page to another is subject to corruption, because the same data value on different code pages can encode a different character.</span></span> <span data-ttu-id="80733-146">Данные, преобразованные из Юникода в SBCS или DBCS, подвергаются потери данных, так как данная кодовая страница может не представлять каждый символ, используемый в определенных данных в Юникоде.</span><span class="sxs-lookup"><span data-stu-id="80733-146">Data converted from Unicode to SBCS or DBCS is subject to data loss, because a given code page might not be able to represent every character used in that particular Unicode data.</span></span>

 

<span data-ttu-id="80733-147">В дополнение к кодовым страницам SBCS и DBCS в приложениях доступны кодовые страницы набора многобайтовых наборов символов 52936, 54936, 51949 и 5022x, которые используют такой же подход, как и для DBCS.</span><span class="sxs-lookup"><span data-stu-id="80733-147">In addition to SBCS and DBCS code pages, your applications have available the multibyte character set code pages 52936, 54936, 51949, and 5022x, which use an approach similar to that for a DBCS.</span></span> <span data-ttu-id="80733-148">Однако многобайтовая кодовая страница набора символов выходит за пределы двухбайтовых кодировок некоторых символов.</span><span class="sxs-lookup"><span data-stu-id="80733-148">A multibyte character set code page goes beyond two-byte encodings of some characters, however.</span></span> <span data-ttu-id="80733-149">UTF-7 и UTF-8 используют аналогичный подход для кодирования Юникода, основанный на 7-и 8-разрядных байтах соответственно.</span><span class="sxs-lookup"><span data-stu-id="80733-149">UTF-7 and UTF-8 use a similar approach to encode Unicode based on a 7-bit and 8-bit bytes, respectively.</span></span> <span data-ttu-id="80733-150">Дополнительные сведения см. в статье [Юникод](unicode.md).</span><span class="sxs-lookup"><span data-stu-id="80733-150">For more information, see [Unicode](unicode.md).</span></span>

<span data-ttu-id="80733-151">Несколько функций Юникода и наборов символов позволяют приложениям работать с кодовыми страницами.</span><span class="sxs-lookup"><span data-stu-id="80733-151">Several Unicode and character set functions allow your applications to handle code pages.</span></span> <span data-ttu-id="80733-152">Приложение может использовать функции [**жеткпинфо**](/windows/desktop/api/Winnls/nf-winnls-getcpinfo) и [**жеткпинфоекс**](/windows/desktop/api/Winnls/nf-winnls-getcpinfoexa) для получения сведений о кодовой странице.</span><span class="sxs-lookup"><span data-stu-id="80733-152">An application can use the [**GetCPInfo**](/windows/desktop/api/Winnls/nf-winnls-getcpinfo) and [**GetCPInfoEx**](/windows/desktop/api/Winnls/nf-winnls-getcpinfoexa) functions to obtain information about a code page.</span></span> <span data-ttu-id="80733-153">Эти сведения включают символ по умолчанию, используемый, когда символ в преобразованной строке не имеет соответствующей записи в кодовой странице.</span><span class="sxs-lookup"><span data-stu-id="80733-153">This information includes the default character used when a character in a converted string has no corresponding entry in the code page.</span></span>

<span data-ttu-id="80733-154">Приложение может использовать функции [**MultiByteToWideChar**](/windows/desktop/api/Stringapiset/nf-stringapiset-multibytetowidechar) и [**WideCharToMultiByte**](/windows/desktop/api/Stringapiset/nf-stringapiset-widechartomultibyte) для преобразования между строками на основе кодовых страниц Windows и строк Юникода.</span><span class="sxs-lookup"><span data-stu-id="80733-154">An application can use the [**MultiByteToWideChar**](/windows/desktop/api/Stringapiset/nf-stringapiset-multibytetowidechar) and [**WideCharToMultiByte**](/windows/desktop/api/Stringapiset/nf-stringapiset-widechartomultibyte) functions to convert between strings based on Windows code pages and Unicode strings.</span></span> <span data-ttu-id="80733-155">Хотя их имена ссылаются на "многобайтовый", эти функции хорошо подходят для однобайтовых кодовых страниц, DBCS и многобайтовых наборов символов.</span><span class="sxs-lookup"><span data-stu-id="80733-155">Although their names refer to "MultiByte", these functions work equally well with SBCS, DBCS, and multibyte character set code pages.</span></span>

> [!Note]  
> <span data-ttu-id="80733-156">[**WideCharToMultiByte**](/windows/desktop/api/Stringapiset/nf-stringapiset-widechartomultibyte) может потерять некоторые данные, если переданная кодовая страница не может представлять все символы в строке Юникода.</span><span class="sxs-lookup"><span data-stu-id="80733-156">[**WideCharToMultiByte**](/windows/desktop/api/Stringapiset/nf-stringapiset-widechartomultibyte) can lose some data if the supplied code page cannot represent all characters in a Unicode string.</span></span>

 

<span data-ttu-id="80733-157">Приложение может выполнять преобразование между кодовыми страницами Windows и кодовыми страницами OEM с помощью стандартных функций библиотеки времени выполнения C.</span><span class="sxs-lookup"><span data-stu-id="80733-157">Your application can convert between Windows code pages and OEM code pages using the standard C runtime library functions.</span></span> <span data-ttu-id="80733-158">Однако использование этих функций представляет риск потери данных, поскольку символы, которые могут быть представлены каждой кодовой страницей, не совпадают.</span><span class="sxs-lookup"><span data-stu-id="80733-158">However, use of these functions presents a risk of data loss because the characters that can be represented by each code page do not match exactly.</span></span>

<span data-ttu-id="80733-159">Приложения также могут вызывать функцию [**жетакп**](/windows/desktop/api/Winnls/nf-winnls-getacp) .</span><span class="sxs-lookup"><span data-stu-id="80733-159">Your applications can also call the [**GetACP**](/windows/desktop/api/Winnls/nf-winnls-getacp) function.</span></span> <span data-ttu-id="80733-160">Эта функция получает идентификатор текущей кодовой страницы Windows (ANSI).</span><span class="sxs-lookup"><span data-stu-id="80733-160">This function retrieves the identifier of the current Windows (ANSI) code page.</span></span>

## <a name="related-topics"></a><span data-ttu-id="80733-161">См. также</span><span class="sxs-lookup"><span data-stu-id="80733-161">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="80733-162">Кодировки</span><span class="sxs-lookup"><span data-stu-id="80733-162">Character Sets</span></span>](character-sets.md)
</dt> </dl>

 

 



