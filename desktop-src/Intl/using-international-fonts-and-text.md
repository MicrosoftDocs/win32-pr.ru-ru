---
description: В каждом основном выпуске Windows добавлены шрифты для поддержки международных языков и сценариев.
ms.assetid: 77b8c200-2682-4651-855a-602f768edc9b
title: Перечисление международных шрифтов и выбор
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 63e5d0d07a0953f72f097f8578f5e32b3ee49093
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "104350275"
---
# <a name="international-font-enumeration-and-selection"></a><span data-ttu-id="af9ef-103">Перечисление международных шрифтов и выбор</span><span class="sxs-lookup"><span data-stu-id="af9ef-103">International Font Enumeration and Selection</span></span>

<span data-ttu-id="af9ef-104">В каждом основном выпуске Windows добавлены шрифты для поддержки международных языков и сценариев.</span><span class="sxs-lookup"><span data-stu-id="af9ef-104">In each major release of Windows, there are fonts added to support international languages and scripts.</span></span> <span data-ttu-id="af9ef-105">В Windows вы можете ссылаться на [сценарии и](https://msdn.microsoft.com/globalization/mt791278) шрифты, которые были добавлены в каждой версии Windows, начиная с Windows 2000, а также с поддерживаемыми сценариями, регионами и языками.</span><span class="sxs-lookup"><span data-stu-id="af9ef-105">Please reference [Script and Font Support in Windows](https://msdn.microsoft.com/globalization/mt791278) for the fonts that have been added in each Windows version since Windows 2000, as well as their supported scripts, regions, and languages.</span></span>

## <a name="enumfontfamiliesex"></a><span data-ttu-id="af9ef-106">EnumFontFamiliesEx</span><span class="sxs-lookup"><span data-stu-id="af9ef-106">EnumFontFamiliesEx</span></span>

<span data-ttu-id="af9ef-107">Чтобы перечислить международные шрифты в приложении, можно использовать функцию [**EnumFontFamiliesEx**](/windows/win32/api/wingdi/nf-wingdi-enumfontfamiliesexa) .</span><span class="sxs-lookup"><span data-stu-id="af9ef-107">To enumerate international fonts in your application, you can use the [**EnumFontFamiliesEx**](/windows/win32/api/wingdi/nf-wingdi-enumfontfamiliesexa) function.</span></span> <span data-ttu-id="af9ef-108">**EnumFontFamiliesEx** позволяет перечислять шрифты на основе имени гарнитуры и набора символов, передавая указатель на структуру [**LOGFONT**](/windows/win32/api/wingdi/ns-wingdi-logfonta) , содержащую имя гарнитуры и сведения о кодировке.</span><span class="sxs-lookup"><span data-stu-id="af9ef-108">**EnumFontFamiliesEx** allows you to enumerate fonts based on typeface name and charset by passing in a pointer to a [**LOGFONT**](/windows/win32/api/wingdi/ns-wingdi-logfonta) structure that contains the typeface name and charset information.</span></span> <span data-ttu-id="af9ef-109">Чтобы вызвать **EnumFontFamiliesEx**, можно указать либо имя гарнитуры, либо набор символов, либо можно запросить все доступные.</span><span class="sxs-lookup"><span data-stu-id="af9ef-109">To call **EnumFontFamiliesEx**, you can either specify a typeface name or a charset, or you can ask for whatever is available.</span></span> <span data-ttu-id="af9ef-110">Если задать для гарнитуры имя **LOGFONT** , **будет перечисляться** все имена гарнитур.</span><span class="sxs-lookup"><span data-stu-id="af9ef-110">Setting the typeface name of the **LOGFONT** to **NULL** enumerates all typeface names.</span></span> <span data-ttu-id="af9ef-111">Установка для поля CharSet **\_ кодировки по умолчанию** перечисляет все наборов символов.</span><span class="sxs-lookup"><span data-stu-id="af9ef-111">Setting the charset field to **DEFAULT\_CHARSET** enumerates all charsets.</span></span>

<span data-ttu-id="af9ef-112">Обратите внимание, что наборов символов — это устаревшее понятие, соответствующее наборам символов до Юникода.</span><span class="sxs-lookup"><span data-stu-id="af9ef-112">Note that charsets are a legacy notion corresponding to pre-Unicode character sets.</span></span> <span data-ttu-id="af9ef-113">В настоящее время механизм перечисления шрифтов, поддерживающих произвольные скрипты или диапазоны символов в Юникоде, отсутствует.</span><span class="sxs-lookup"><span data-stu-id="af9ef-113">At this time, there is no mechanism to enumerate fonts supporting arbitrary scripts or character ranges in Unicode.</span></span> <span data-ttu-id="af9ef-114">Структура [**невтекстметрицекс**](/windows/win32/api/wingdi/ns-wingdi-newtextmetricexa) , передаваемая [**енумфонтфамекспрок**](/previous-versions//dd162618(v=vs.85)) , включает в себя структуру [**фонтсигнатуре**](/windows/win32/api/wingdi/ns-wingdi-fontsignature) , которая включает более подробные объявления, предоставляемые разработчиком шрифтов, в соответствии с кодовыми страницами и диапазонами Юникода, поддерживаемыми шрифтом.</span><span class="sxs-lookup"><span data-stu-id="af9ef-114">The [**NEWTEXTMETRICEX**](/windows/win32/api/wingdi/ns-wingdi-newtextmetricexa) structure passed by [**EnumFontFamExProc**](/previous-versions//dd162618(v=vs.85)) includes the [**FONTSIGNATURE**](/windows/win32/api/wingdi/ns-wingdi-fontsignature) structure, which includes more detailed declarations provided by the font developer as to what code pages and what Unicode ranges the font supports.</span></span> <span data-ttu-id="af9ef-115">Чтобы более точно определить, какие диапазоны символов поддерживает данный шрифт, выберите шрифт в контексте устройства и вызовите [**жетфонтуникодеранжес**](/windows/win32/api/wingdi/nf-wingdi-getfontunicoderanges).</span><span class="sxs-lookup"><span data-stu-id="af9ef-115">To determine more precisely what character ranges a given font supports, select the font into a device context and call [**GetFontUnicodeRanges**](/windows/win32/api/wingdi/nf-wingdi-getfontunicoderanges).</span></span> <span data-ttu-id="af9ef-116">Обратите внимание, что этот API не поддерживает дополнительные плоскости в Юникоде.</span><span class="sxs-lookup"><span data-stu-id="af9ef-116">Note that this API does not support Unicode supplementary planes.</span></span>

## <a name="choosefont"></a><span data-ttu-id="af9ef-117">ChooseFont</span><span class="sxs-lookup"><span data-stu-id="af9ef-117">ChooseFont</span></span>

<span data-ttu-id="af9ef-118">Функцию [**ChooseFont**](/previous-versions/windows/desktop/legacy/ms646914(v=vs.85)) можно использовать для вывода общего диалогового окна, позволяющего пользователю выбирать международные шрифты на основе charset.</span><span class="sxs-lookup"><span data-stu-id="af9ef-118">You can use the [**ChooseFont**](/previous-versions/windows/desktop/legacy/ms646914(v=vs.85)) function to display a common dialog box that allows the user to select international fonts based on charset.</span></span> <span data-ttu-id="af9ef-119">Можно указать один из трех флагов для определения на основе charset, какие шрифты отображаются в диалоговом окне ChooseFont: **CF \_ скриптсонли**, **CF \_ селектскрипт** или **CF \_ носкриптсел**.</span><span class="sxs-lookup"><span data-stu-id="af9ef-119">You can specify one of three flags to determine, based on charset, which fonts are displayed in the ChooseFont dialog: **CF\_SCRIPTSONLY**, **CF\_SELECTSCRIPT**, or **CF\_NOSCRIPTSEL**.</span></span>

<span data-ttu-id="af9ef-120">Флаг **CF \_ СКРИПТСОНЛИ** указывает API на вывод списка шрифтов для всех наборов символов, не являющихся символами или OEM.</span><span class="sxs-lookup"><span data-stu-id="af9ef-120">The **CF\_SCRIPTSONLY** flag tells the API to list fonts for all character sets that are not Symbol or OEM.</span></span>

<span data-ttu-id="af9ef-121">Если требуется отображать только шрифты, охватывающие определенный набор символов, необходимо указать флаг **CF \_ селектскрипт**.</span><span class="sxs-lookup"><span data-stu-id="af9ef-121">If you want to display only fonts that cover a particular charset, you need to specify the flag **CF\_SELECTSCRIPT**.</span></span> <span data-ttu-id="af9ef-122">Перед вызовом [**ChooseFont**](/previous-versions/windows/desktop/legacy/ms646914(v=vs.85))инициализируйте поле *лфчарсет* структуры [**LOGFONT**](/windows/win32/api/wingdi/ns-wingdi-logfonta) .</span><span class="sxs-lookup"><span data-stu-id="af9ef-122">Before calling [**ChooseFont**](/previous-versions/windows/desktop/legacy/ms646914(v=vs.85)), initialize the *lfCharSet* field of the [**LOGFONT**](/windows/win32/api/wingdi/ns-wingdi-logfonta) structure.</span></span> <span data-ttu-id="af9ef-123">Если вы хотите указать только charset, установите для других полей структуры **LOGFONT** **значение NULL**.</span><span class="sxs-lookup"><span data-stu-id="af9ef-123">If you are interested in specifying only the charset, set the other fields of the **LOGFONT** structure to **NULL**.</span></span> <span data-ttu-id="af9ef-124">Чтобы **ChooseFont** просматривает структуру **LOGFONT** , необходимо также указать флаг **CF \_ иниттологфонтструкт** .</span><span class="sxs-lookup"><span data-stu-id="af9ef-124">To have **ChooseFont** look at the **LOGFONT** structure, you also need to specify the **CF\_INITTOLOGFONTSTRUCT** flag.</span></span>

<span data-ttu-id="af9ef-125">Наконец, как и любое другое поле в диалоговом окне Шрифт, можно выбрать вывод списка пустых сценариев.</span><span class="sxs-lookup"><span data-stu-id="af9ef-125">Finally, as with any other field in the Font dialog box, you might choose to display a blank script list box.</span></span> <span data-ttu-id="af9ef-126">Эта возможность полезна, если пользователь выделил несколько различных шрифтов, охватывающих несколько наборов символов.</span><span class="sxs-lookup"><span data-stu-id="af9ef-126">This capability is useful if the user has highlighted several different fonts spanning several charsets.</span></span> <span data-ttu-id="af9ef-127">В этом случае необходимо вызвать [**ChooseFont**](/previous-versions/windows/desktop/legacy/ms646914(v=vs.85)) с флагом **CF \_ носкриптсел** .</span><span class="sxs-lookup"><span data-stu-id="af9ef-127">In this case, you would call [**ChooseFont**](/previous-versions/windows/desktop/legacy/ms646914(v=vs.85)) with the **CF\_NOSCRIPTSEL** flag.</span></span>

<span data-ttu-id="af9ef-128">Начиная с Windows 7, [**ChooseFont**](/previous-versions/windows/desktop/legacy/ms646914(v=vs.85)) реализует поддержку скрытия шрифтов из списков выбора шрифтов.</span><span class="sxs-lookup"><span data-stu-id="af9ef-128">Starting with Windows 7, [**ChooseFont**](/previous-versions/windows/desktop/legacy/ms646914(v=vs.85)) implements support for the hiding of fonts from font selection lists.</span></span> <span data-ttu-id="af9ef-129">**ChooseFont** будет отображать только указанные шрифты и отфильтровывать скрытые шрифты при отображении шрифтов в списке.</span><span class="sxs-lookup"><span data-stu-id="af9ef-129">**ChooseFont** will only list the shown fonts and filter out the hidden fonts while displaying fonts in the list box.</span></span> <span data-ttu-id="af9ef-130">Добавлен дополнительный флаг (**CF \_ инактивефонтс**) в элементе flags структуры [**ChooseFont**](/previous-versions/windows/desktop/legacy/ms646914(v=vs.85)) , позволяющий отображать все установленные шрифты в списке шрифтов, то же, что и **ChooseFont** , как и в Windows 7.</span><span class="sxs-lookup"><span data-stu-id="af9ef-130">The additional flag (**CF\_INACTIVEFONTS**) in the flags member of the [**ChooseFont**](/previous-versions/windows/desktop/legacy/ms646914(v=vs.85)) structure is added to allow you to display all the installed fonts in the font list, the same as **ChooseFont** behaved before Windows 7.</span></span> <span data-ttu-id="af9ef-131">Сведения о различиях в работе в Windows 7 для функции **ChooseFont** см. в разделе [**ChooseFont () общее диалоговое окно Win32**](../win7appqual/choosefont-win32-common-dialog.md) в [Windows 7 Application Quality Cookbook](../win7appqual/windows-7-application-quality-cookbook.md).</span><span class="sxs-lookup"><span data-stu-id="af9ef-131">For the details of behavior differences in Windows 7 for the **ChooseFont** function, please see [**ChooseFont() Win32 Common Dialog**](../win7appqual/choosefont-win32-common-dialog.md) in the [Windows 7 Application Quality Cookbook](../win7appqual/windows-7-application-quality-cookbook.md).</span></span> <span data-ttu-id="af9ef-132">Ознакомьтесь с функциями **ChooseFont** и структурой **ChooseFont** , чтобы получить сведения о различиях в работе конечных пользователей в Windows 7.</span><span class="sxs-lookup"><span data-stu-id="af9ef-132">Please reference **ChooseFont** function and **CHOOSEFONT** structure for the end user experience differences in Windows 7.</span></span>

<span data-ttu-id="af9ef-133">Обратите внимание, что наборов символов — это устаревшее понятие, соответствующее наборам символов до Юникода.</span><span class="sxs-lookup"><span data-stu-id="af9ef-133">Note that charsets are a legacy notion corresponding to pre-Unicode character sets.</span></span> <span data-ttu-id="af9ef-134">В настоящее время не существует механизма фильтрации шрифтов на основе скриптов Юникода или диапазонов символов.</span><span class="sxs-lookup"><span data-stu-id="af9ef-134">At this time, there is no mechanism to filter fonts based on Unicode scripts or character ranges.</span></span>

## <a name="font-controls-in-windows-scenic-ribbon"></a><span data-ttu-id="af9ef-135">Элементы управления шрифтами на ленте Windows Scenic</span><span class="sxs-lookup"><span data-stu-id="af9ef-135">Font Controls in Windows Scenic Ribbon</span></span>

<span data-ttu-id="af9ef-136">В Windows 7 появилась Windows Scenic лента, которая включает набор элементов управления, предназначенных для выбора шрифта.</span><span class="sxs-lookup"><span data-stu-id="af9ef-136">Windows 7 introduces the Windows Scenic Ribbon which comes with a set of controls targeted to font selection.</span></span> <span data-ttu-id="af9ef-137">Эти элементы управления шрифтами поддерживают новый режим скрытия шрифта Windows 7.</span><span class="sxs-lookup"><span data-stu-id="af9ef-137">These font controls support the new Windows 7 font hiding behavior.</span></span> <span data-ttu-id="af9ef-138">Эти элементы управления шрифтом можно использовать для отображения только показанных шрифтов и предоставления пользователю возможности выбора шрифта.</span><span class="sxs-lookup"><span data-stu-id="af9ef-138">You can use those font controls to list only shown fonts and allow the user to select the font.</span></span>

> [!Note]  
> <span data-ttu-id="af9ef-139">Поддержка скрытия шрифтов недоступна, если лента Windows Scenic запущена на любой платформе до Windows 7.</span><span class="sxs-lookup"><span data-stu-id="af9ef-139">Support for hiding fonts is not available when the Windows Scenic Ribbon is running on any platform prior to Windows 7.</span></span>

 

## <a name="related-topics"></a><span data-ttu-id="af9ef-140">См. также</span><span class="sxs-lookup"><span data-stu-id="af9ef-140">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="af9ef-141">**EnumFontFamiliesEx**</span><span class="sxs-lookup"><span data-stu-id="af9ef-141">**EnumFontFamiliesEx**</span></span>](/windows/win32/api/wingdi/nf-wingdi-enumfontfamiliesexa)
</dt> <dt>

<span data-ttu-id="af9ef-142">[**ChooseFont**](/previous-versions/windows/desktop/legacy/ms646914(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="af9ef-142">[**ChooseFont**](/previous-versions/windows/desktop/legacy/ms646914(v=vs.85))</span></span>
</dt> <dt>

[<span data-ttu-id="af9ef-143">**Структура CHOOSEFONT**</span><span class="sxs-lookup"><span data-stu-id="af9ef-143">**CHOOSEFONT structure**</span></span>](/windows/win32/api/commdlg/ns-commdlg-choosefonta)
</dt> <dt>

[<span data-ttu-id="af9ef-144">**Элементы управления шрифтами на ленте Windows Scenic**</span><span class="sxs-lookup"><span data-stu-id="af9ef-144">**Font Controls in Windows Scenic Ribbon**</span></span>](../windowsribbon/windowsribbon-element-fontcontrol.md)
</dt> <dt>

[<span data-ttu-id="af9ef-145">**ChooseFont () общее диалоговое окно Win32**</span><span class="sxs-lookup"><span data-stu-id="af9ef-145">**ChooseFont() Win32 Common Dialog**</span></span>](../win7appqual/choosefont-win32-common-dialog.md)
</dt> </dl>

 

 
