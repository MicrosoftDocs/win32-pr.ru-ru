---
description: Описание основных принципов многоязыкового интерфейса пользователя
ms.assetid: 9ab19a56-4d31-471d-949e-a539751b62e3
title: Описание основных принципов многоязыкового интерфейса пользователя
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 82dbeedb246944bef6c23c739eafddff86423b35
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "103991367"
---
# <a name="mui-fundamental-concepts-explained"></a><span data-ttu-id="58f97-103">Описание основных принципов многоязыкового интерфейса пользователя</span><span class="sxs-lookup"><span data-stu-id="58f97-103">MUI Fundamental Concepts Explained</span></span>

-   [<span data-ttu-id="58f97-104">Предварительные требования для MUI</span><span class="sxs-lookup"><span data-stu-id="58f97-104">Prerequisite for MUI</span></span>](#prerequisite-for-mui)
-   [<span data-ttu-id="58f97-105">Отделение исходного кода от ресурсов, зависящих от языка</span><span class="sxs-lookup"><span data-stu-id="58f97-105">Separation of source code from language specific resources</span></span>](#separation-of-source-code-from-language-specific-resources)
    -   [<span data-ttu-id="58f97-106">Первые дни: код и ресурсы вместе</span><span class="sxs-lookup"><span data-stu-id="58f97-106">The early days: code and resources live together</span></span>](#the-early-days-code-and-resources-live-together)
    -   [<span data-ttu-id="58f97-107">Логически отделение кода и локализуемых ресурсов</span><span class="sxs-lookup"><span data-stu-id="58f97-107">Logically separating code and localizable resources</span></span>](#logically-separating-code-and-localizable-resources)
    -   [<span data-ttu-id="58f97-108">Физическая разделяющая код и ресурсы</span><span class="sxs-lookup"><span data-stu-id="58f97-108">Physically separating code and resources</span></span>](#physically-separating-code-and-resources)
-   [<span data-ttu-id="58f97-109">Динамическая загрузка ресурсов для конкретного языка</span><span class="sxs-lookup"><span data-stu-id="58f97-109">Dynamically loading language-specific resources</span></span>](#dynamically-loading-language-specific-resources)
-   [<span data-ttu-id="58f97-110">Создание приложений многоязыкового интерфейса пользователя</span><span class="sxs-lookup"><span data-stu-id="58f97-110">Building MUI applications</span></span>](#building-mui-applications)

## <a name="prerequisite-for-mui"></a><span data-ttu-id="58f97-111">Предварительные требования для MUI</span><span class="sxs-lookup"><span data-stu-id="58f97-111">Prerequisite for MUI</span></span>

<span data-ttu-id="58f97-112">Базовым необходимым условием для создания приложения, совместимого с MUI, для Windows Vista и других приложений является проектирование приложения в соответствии с [рекомендациями по глобализации](https://msdn.microsoft.com/goglobal/bb688110.aspx)Windows.</span><span class="sxs-lookup"><span data-stu-id="58f97-112">The basic prerequisite for building a MUI-compliant application for Windows Vista and beyond is to design the application in accordance with Windows [globalization guidelines](https://msdn.microsoft.com/goglobal/bb688110.aspx).</span></span>

## <a name="separation-of-source-code-from-language-specific-resources"></a><span data-ttu-id="58f97-113">Отделение исходного кода от ресурсов, зависящих от языка</span><span class="sxs-lookup"><span data-stu-id="58f97-113">Separation of source code from language specific resources</span></span>

<span data-ttu-id="58f97-114">Одной из фундаментальных технологий многоязыкового интерфейса пользователя является отделение исходного кода приложения от зависящих от языка ресурсов, что позволяет более эффективно использовать многоязычные сценарии в приложениях.</span><span class="sxs-lookup"><span data-stu-id="58f97-114">One of the fundamental premises of MUI technology is the separation of application source code from language-specific resources, to enable multi-lingual scenarios in applications more efficiently.</span></span> <span data-ttu-id="58f97-115">Разделение кода и ресурсов достигается с помощью различных механизмов и в разные градусы со временем, как описано в следующих разделах.</span><span class="sxs-lookup"><span data-stu-id="58f97-115">The separation of code and resources has been achieved via different mechanisms and to different degrees over time, as outlined in the following sections.</span></span> <span data-ttu-id="58f97-116">Каждый метод обеспечивает различные степени гибкости при сборке, развертывании и обслуживании приложения.</span><span class="sxs-lookup"><span data-stu-id="58f97-116">Each method provided varying degrees of flexibility in building, deploying, and servicing the application.</span></span>

<span data-ttu-id="58f97-117">Рекомендуемым решением для приложений, совместимых с MUI, является последний описанный здесь способ, а именно физическое разделение исходного кода приложения и ресурсов, в результате чего ресурсы могут быть разбиты на один файл на поддерживаемый язык для обеспечения максимальной гибкости при сборке, развертывании и обслуживании.</span><span class="sxs-lookup"><span data-stu-id="58f97-117">The recommended solution for MUI-compliant applications is the last method outlined here, namely the physical separation of application source code and resources, with the resources themselves further broken down into one file per supported language for maximum flexibility in building, deploying, and servicing.</span></span>

### <a name="the-early-days-code-and-resources-live-together"></a><span data-ttu-id="58f97-118">Первые дни: код и ресурсы вместе</span><span class="sxs-lookup"><span data-stu-id="58f97-118">The early days: code and resources live together</span></span>

<span data-ttu-id="58f97-119">Изначально локализованные приложения были созданы путем изменения исходного кода и изменения ресурсов (обычно строки) в самом коде и повторной компиляции приложений.</span><span class="sxs-lookup"><span data-stu-id="58f97-119">Initially, localized applications were created by editing the source code and changing the resources (usually strings) in the code itself and recompiling the applications.</span></span> <span data-ttu-id="58f97-120">Это означало, что для создания локализованной версии необходимо скопировать исходный исходный код, преобразовать элементы текста (recompiles) в исходный код и перекомпилировать код.</span><span class="sxs-lookup"><span data-stu-id="58f97-120">This meant that to produce a localized version, one had to copy the original source code, translate the text (resources) elements within the source code, and recompile the code.</span></span> <span data-ttu-id="58f97-121">На следующем рисунке показан код приложения с текстом, который необходимо локализовать.</span><span class="sxs-lookup"><span data-stu-id="58f97-121">The following image shows application code with text that needs to be localized.</span></span>

![Концептуальная схема, показывающая приложение, которое содержит блоки внедренных текстовых ресурсов](images/mui-fundamental-concepts-explained-fig3.gif)

<span data-ttu-id="58f97-123">Хотя такой подход позволяет создавать локализованные приложения, он также имеет значительные недостатки.</span><span class="sxs-lookup"><span data-stu-id="58f97-123">While this approach enables the creation of localized applications, it also has significant drawbacks:</span></span>

-   <span data-ttu-id="58f97-124">Для этого требуется несколько версий исходного кода, по крайней мере один для исходного языка и один для каждого из целевых языков.</span><span class="sxs-lookup"><span data-stu-id="58f97-124">It requires multiple versions of the source code, at least one for the source language and one for each of the target languages.</span></span> <span data-ttu-id="58f97-125">Это создает значительные проблемы, синхронизирующие различные языковые версии приложения.</span><span class="sxs-lookup"><span data-stu-id="58f97-125">This creates significant issues synchronizing the different language releases of the application.</span></span> <span data-ttu-id="58f97-126">В частности, если дефект необходимо исправить в коде, ошибку необходимо исправить в каждой копии исходного кода (по одному на каждый язык).</span><span class="sxs-lookup"><span data-stu-id="58f97-126">In particular, when a defect needs to be fixed in the code, the defect needs to be fixed in every copy of the source code (one per language).</span></span>
-   <span data-ttu-id="58f97-127">Это также чрезвычайно подвержено ошибкам, так как в нем требуются локализаторы, не являющиеся разработчиками, для внесения изменений в исходный код, что создает значительный риск с точки зрения целостности кода.</span><span class="sxs-lookup"><span data-stu-id="58f97-127">It is also extremely error-prone as it required localizers—who are not developers—to make modifications in source code, thus creating a considerable risk in terms of code integrity.</span></span>

<span data-ttu-id="58f97-128">Сочетание этих недостатков делает это очень неэффективным, и требуется лучшая модель.</span><span class="sxs-lookup"><span data-stu-id="58f97-128">The combination of these drawbacks makes this an extremely inefficient proposition, and a better model was needed.</span></span>

### <a name="logically-separating-code-and-localizable-resources"></a><span data-ttu-id="58f97-129">Логически отделение кода и локализуемых ресурсов</span><span class="sxs-lookup"><span data-stu-id="58f97-129">Logically separating code and localizable resources</span></span>

<span data-ttu-id="58f97-130">Значительное улучшение по сравнению с предыдущей моделью — это логическое разделение кода и локализуемых ресурсов для приложения.</span><span class="sxs-lookup"><span data-stu-id="58f97-130">A significant improvement over the preceding model is the logical separation of code and localizable resources for an application.</span></span> <span data-ttu-id="58f97-131">Это изолирует код от ресурсов и гарантирует, что код остается нетронутым при изменении ресурсов при локализации.</span><span class="sxs-lookup"><span data-stu-id="58f97-131">This isolates the code from the resources and ensures that code remains untouched when resources are being changed by localization.</span></span> <span data-ttu-id="58f97-132">С точки зрения реализации строки и другие элементы пользовательского интерфейса хранятся в файлах ресурсов, которые относительно просты в преобразовании и логически отделены от разделов кода.</span><span class="sxs-lookup"><span data-stu-id="58f97-132">From an implementation standpoint, strings and other user interface elements are stored in resource files, which are relatively easy to translate and are logically separated from the code sections.</span></span>

<span data-ttu-id="58f97-133">В идеале, Добавление поддержки для любого языка может быть так же простым, как перевод локализуемых ресурсов на этот новый язык, и использование этих переведенных ресурсов для создания новой локализованной версии приложения без внесения каких-либо изменений в код.</span><span class="sxs-lookup"><span data-stu-id="58f97-133">Ideally, adding support for any given language can be as simple as translating the localizable resources into this new language and using these translated resources to create a new localized version of the application—without requiring any code modification.</span></span> <span data-ttu-id="58f97-134">На следующем рисунке показано, как код и локализуемые ресурсы должны быть логически разделены внутри приложения.</span><span class="sxs-lookup"><span data-stu-id="58f97-134">The following image illustrates how code and localizable resources should be logically separated within an application.</span></span>

![Концептуальная схема, на которой показано приложение, которое содержит локализуемые ресурсы, отделенные от кода](images/mui-fundamental-concepts-explained-fig4.gif)

<span data-ttu-id="58f97-136">Эта модель упрощает создание локализованных версий приложения и является значительным улучшением по сравнению с предыдущей моделью.</span><span class="sxs-lookup"><span data-stu-id="58f97-136">This model enables an easier creation of localized versions of an application and is a significant improvement over the previous model.</span></span> <span data-ttu-id="58f97-137">Эта модель, реализованная с помощью средств управления ресурсами, была очень успешной в течение нескольких лет и по-прежнему используется многими приложениями уже сегодня.</span><span class="sxs-lookup"><span data-stu-id="58f97-137">This model, implemented through the use of resource management tools, has been very successful over the years and is still commonly used by many applications today.</span></span> <span data-ttu-id="58f97-138">Однако у него есть серьезные недостатки:</span><span class="sxs-lookup"><span data-stu-id="58f97-138">However, it does have significant drawbacks:</span></span>

-   <span data-ttu-id="58f97-139">В то время как логически разделены, код и локализованные ресурсы по-прежнему физически объединяются в один исполняемый файл.</span><span class="sxs-lookup"><span data-stu-id="58f97-139">While logically separated, code and localized resources are still physically joined in one executable file.</span></span> <span data-ttu-id="58f97-140">В частности, Обслуживание по-прежнему проблематично, так как один и тот же дефект кода (идентичный во всех языковых версиях) требует наличия исправления для каждого языка.</span><span class="sxs-lookup"><span data-stu-id="58f97-140">In particular, serviceability is still problematic as the same code defect (identical in all language versions) requires a patch per language.</span></span> <span data-ttu-id="58f97-141">Таким образом, если один из них отправляет приложение на 20 языках, исправление службы должно выдаваться 20 раз (по одному для каждого языка), хотя код только один раз исправляется.</span><span class="sxs-lookup"><span data-stu-id="58f97-141">Therefore, if one is shipping the application in 20 languages, a service patch needs to be issued 20 times (one for each language), even though the code is only fixed once.</span></span>
-   <span data-ttu-id="58f97-142">Распространение и использование многоязычных приложений не поддерживается этой моделью.</span><span class="sxs-lookup"><span data-stu-id="58f97-142">Distribution and use of multi-lingual applications are not adequately supported by this model.</span></span> <span data-ttu-id="58f97-143">Это может быть серьезной проблемой в сценариях OEM и Enterprise.</span><span class="sxs-lookup"><span data-stu-id="58f97-143">This can be a significant problem in OEM and enterprise scenarios.</span></span> <span data-ttu-id="58f97-144">Например, если компьютер должен совместно использоваться двумя пользователями, использующими разные языки, необходимо дважды установить приложения с этой моделью, а затем включить какой-либо механизм для переключения между двумя установками.</span><span class="sxs-lookup"><span data-stu-id="58f97-144">For instance, if a computer is to be shared between two users using different languages, applications will need to be installed twice with this model, and then some mechanism will need to be enabled to alternate between the two installations.</span></span> <span data-ttu-id="58f97-145">Предполагается, что отсутствуют дополнительные зависимости, препятствующие реализации этого сценария.</span><span class="sxs-lookup"><span data-stu-id="58f97-145">This assumes that there are no additional dependencies that prevent even this scenario from being implemented.</span></span> <span data-ttu-id="58f97-146">На следующем рисунке показан пример ошибки с одним кодом, которая требует наличия двух исправлений.</span><span class="sxs-lookup"><span data-stu-id="58f97-146">The following image shows an example of a single code defect that requires two patches.</span></span>

![Концептуальная схема, в которой показаны два локализованных приложения с одинаковыми дефектами кода](images/mui-fundamental-concepts-explained-fig5.gif)

<span data-ttu-id="58f97-148">Очевидно, что хотя эта модель хорошо работает в некоторых сценариях, ее ограничения для многоязычных приложений и их развертываний могут быть очень проблематичными.</span><span class="sxs-lookup"><span data-stu-id="58f97-148">It is clear that while this model works well in some scenarios, its limitations for multi-lingual applications and their deployments can be very problematic.</span></span>

<span data-ttu-id="58f97-149">Разновидность этой модели, которая устраняет некоторые проблемы, связанные с многоязычными приложениями, представляет собой модель, в которой локализуемые ресурсы содержат набор различных языковых ресурсов.</span><span class="sxs-lookup"><span data-stu-id="58f97-149">A variation of this model that alleviates some of the multi-lingual applications issues is the model where the localizable resources contain a set of different language resources.</span></span> <span data-ttu-id="58f97-150">Эта модель имеет общую базу кода и несколько ресурсов для разных языков в одном приложении.</span><span class="sxs-lookup"><span data-stu-id="58f97-150">This model has a common code base and several resources for different languages in the same application.</span></span> <span data-ttu-id="58f97-151">Например, приложение может поставляться на английском, немецком, французском, испанском, нидерландском и итальянском языках в одном пакете.</span><span class="sxs-lookup"><span data-stu-id="58f97-151">For example, an application can ship with English, German, French, Spanish, Dutch, and Italian in the same package.</span></span> <span data-ttu-id="58f97-152">На следующем рисунке показано приложение, которое содержит несколько языковых ресурсов.</span><span class="sxs-lookup"><span data-stu-id="58f97-152">The following image shows an application that contains multiple language resources.</span></span>

![Концептуальная схема, на которой показано приложение с кодом, отделенным от двух ресурсов, зависящих от языкового стандарта](images/mui-fundamental-concepts-explained-fig6.gif)

<span data-ttu-id="58f97-154">Эта модель упрощает обслуживание приложения при необходимости исправления дефекта кода, что является улучшением, но не улучшает предыдущие модели, когда речь идет о поддержке дополнительных языков.</span><span class="sxs-lookup"><span data-stu-id="58f97-154">This model makes it easier to service the application when a code defect needs to be fixed—which is an improvement—but does not improve over previous models when it comes to supporting additional languages.</span></span> <span data-ttu-id="58f97-155">В этом случае по-прежнему необходимо освободить новую версию приложения (и этот выпуск потенциально осложняется тем, что все языковые ресурсы будут синхронизированы в одном распространении).</span><span class="sxs-lookup"><span data-stu-id="58f97-155">In this case, one still needs to release a new version of the application (and that release is potentially complicated by the need to ensure that all language resources are synchronized within the same distribution).</span></span>

### <a name="physically-separating-code-and-resources"></a><span data-ttu-id="58f97-156">Физическая разделяющая код и ресурсы</span><span class="sxs-lookup"><span data-stu-id="58f97-156">Physically separating code and resources</span></span>

<span data-ttu-id="58f97-157">Следующим эволюционным шагом является физическое разделение кода и ресурсов.</span><span class="sxs-lookup"><span data-stu-id="58f97-157">The next evolutionary step is to physically separate code and resources.</span></span> <span data-ttu-id="58f97-158">В этой модели ресурсы являются абстрактными по отношению к коду и физически разделены в разных файлах реализации.</span><span class="sxs-lookup"><span data-stu-id="58f97-158">In this model, the resources are abstracted from the code and physically separated in different implementation files.</span></span> <span data-ttu-id="58f97-159">В частности, это означает, что код может стать независимым от языка; Этот же физический код фактически поставляется для всех локализованных версий приложения.</span><span class="sxs-lookup"><span data-stu-id="58f97-159">In particular, this means that the code can become truly language independent; the same physical code is actually shipped for all localized versions of an application.</span></span> <span data-ttu-id="58f97-160">На следующем рисунке показано, что код и локализуемые ресурсы должны быть физически разделены.</span><span class="sxs-lookup"><span data-stu-id="58f97-160">The following image illustrates that code and localizable resources must be physically separated.</span></span>

![Концептуальная схема, показывающая приложение, отделенное от его локализуемых ресурсов](images/mui-fundamental-concepts-explained-fig7.gif)

<span data-ttu-id="58f97-162">Этот подход имеет несколько преимуществ по сравнению с предыдущими подходами:</span><span class="sxs-lookup"><span data-stu-id="58f97-162">This approach has several advantages over the previous approaches:</span></span>

-   <span data-ttu-id="58f97-163">Развертывание многоязычных решений значительно упрощено.</span><span class="sxs-lookup"><span data-stu-id="58f97-163">Deployment of multi-lingual solutions is greatly simplified.</span></span> <span data-ttu-id="58f97-164">Для добавления поддержки любого определенного языка требуется только доставка и установка нового набора языковых ресурсов для этого конкретного языка.</span><span class="sxs-lookup"><span data-stu-id="58f97-164">Adding support for any given language requires only shipping and installing a new set of language resources for this particular language.</span></span> <span data-ttu-id="58f97-165">Это особенно важно, если языковые ресурсы недоступны одновременно.</span><span class="sxs-lookup"><span data-stu-id="58f97-165">This is particularly important when language resources are not all simultaneously available.</span></span> <span data-ttu-id="58f97-166">С помощью этой модели можно развернуть приложение в наборе основных языков и увеличить количество поддерживаемых языков с течением времени без необходимости изменять или повторно развертывать фактический код.</span><span class="sxs-lookup"><span data-stu-id="58f97-166">With this model, one can deploy an application in a set of core languages and increase the number of supported languages over time without having to modify or redeploy the actual code.</span></span> <span data-ttu-id="58f97-167">Это преимущество расширяется резервным механизмом, который обеспечивает частичную локализацию приложений и компонентов системы на определенном языке, гарантируя, что ресурсы, не найденные на этом предпочитаемом языке, будут возвращаться к другому языку, который пользователи также понимают.</span><span class="sxs-lookup"><span data-stu-id="58f97-167">This advantage is further extended by a fallback mechanism that allows for partial localization of applications and system components in a given language by ensuring that resources that are not found in this preferred language "fall back" to another language that the users also understand.</span></span> <span data-ttu-id="58f97-168">В целом, эта модель помогает уменьшить существенные изученные затраты на развертывание приложений на нескольких языках, так как в этом случае развертывание одного образа выполняется гораздо более эффективно.</span><span class="sxs-lookup"><span data-stu-id="58f97-168">Overall, this model helps alleviate the considerable burden that global companies face in deploying applications in multiple languages as it enables single image deployment in a much more effective way.</span></span>
-   <span data-ttu-id="58f97-169">Улучшено удобство обслуживания.</span><span class="sxs-lookup"><span data-stu-id="58f97-169">Serviceability is improved.</span></span> <span data-ttu-id="58f97-170">Дефект кода необходимо исправить и развернуть только один раз, так как код полностью независим от локализации.</span><span class="sxs-lookup"><span data-stu-id="58f97-170">A code defect only needs to be fixed and deployed once, as the code is completely localization-independent.</span></span> <span data-ttu-id="58f97-171">В этой модели, выполнив исправление для дефекта кода, при условии, что изменение не связано с пользовательским интерфейсом, гораздо проще и экономичнее, чем в любой из предыдущих моделей.</span><span class="sxs-lookup"><span data-stu-id="58f97-171">With this model, issuing a correction for a code defect, provided the change is not UI-related, is much simpler and cost effective than in any of the previous models.</span></span>

## <a name="dynamically-loading-language-specific-resources"></a><span data-ttu-id="58f97-172">Динамическая загрузка ресурсов для конкретного языка</span><span class="sxs-lookup"><span data-stu-id="58f97-172">Dynamically loading language-specific resources</span></span>

<span data-ttu-id="58f97-173">Основные принципы многоязыкового интерфейса пользователя, которые [физически разделяют исходный код от ресурсов, зависящих от языка](#physically-separating-code-and-resources), и создание независящего от языка двоичного файла для приложения, по сути, устанавливают архитектуру, пригодного для реализации динамической загрузки зависящих от языка ресурсов на основе языковых параметров пользователя и системы.</span><span class="sxs-lookup"><span data-stu-id="58f97-173">The MUI fundamental concepts of [physically separating source code from language-specific resources](#physically-separating-code-and-resources), and building a language-neutral core binary for an application, essentially set up an architecture that is conducive to implementing the dynamic loading of language-specific resources based on user and system language settings.</span></span>

<span data-ttu-id="58f97-174">Исходный код приложения, Объединенный в двоичный файл, не зависящий от языка, может использовать интерфейсы API многоязыкового интерфейса пользователя на платформе Windows для абстракции выбора соответствующего языка пользовательского интерфейса для данного контекста.</span><span class="sxs-lookup"><span data-stu-id="58f97-174">Application source code bundled into the language-neutral core binary can utilize MUI APIs in the Windows platform to abstract the selection of the appropriate display user interface language for a given context.</span></span> <span data-ttu-id="58f97-175">MUI поддерживает это:</span><span class="sxs-lookup"><span data-stu-id="58f97-175">MUI supports this by:</span></span>

-   <span data-ttu-id="58f97-176">Создание списка приоритетов отображаемых языков пользовательского интерфейса на основе параметров системы, пользователя и уровня приложения, уровня пользователя и системного уровня.</span><span class="sxs-lookup"><span data-stu-id="58f97-176">Constructing a prioritized list of display user interface languages based on system, user, and application-level, user-level, and system-level settings.</span></span>
-   <span data-ttu-id="58f97-177">Реализация резервного механизма, который выбирает подходящий кандидат из этого списка языков по расстановке, исходя из доступности локализованных ресурсов.</span><span class="sxs-lookup"><span data-stu-id="58f97-177">Implementing a fallback mechanism that chooses an appropriate candidate from this prioritized list of languages, based on the availability of localized resources.</span></span>

<span data-ttu-id="58f97-178">Ниже перечислены преимущества динамической загрузки ресурсов пользовательского интерфейса с приоритетными вариантами.</span><span class="sxs-lookup"><span data-stu-id="58f97-178">The benefits of dynamically loading user-interface resources with prioritized fallback are:</span></span>

-   <span data-ttu-id="58f97-179">Он обеспечивает частичную локализацию приложений и компонентов системы на определенном языке, так как ресурсы, не найденные на этом предпочитаемом языке, автоматически переходят на следующий язык в списке с приоритетом.</span><span class="sxs-lookup"><span data-stu-id="58f97-179">It allows for partial localization of applications and system components in a given language, as resources that are not found in this preferred language will automatically fall back to the next language on the prioritized list.</span></span>
-   <span data-ttu-id="58f97-180">Это позволяет выполнять такие сценарии, как динамическое переключение с одного языка на другой.</span><span class="sxs-lookup"><span data-stu-id="58f97-180">It enables scenarios such as switching dynamically from one language to another.</span></span>
-   <span data-ttu-id="58f97-181">Он позволяет создавать региональные или международные образы с единым развертыванием, охватывающие набор языков для изготовителей оборудования и предприятий.</span><span class="sxs-lookup"><span data-stu-id="58f97-181">It allows creating regional or worldwide single deployment images that cover a set of languages for OEMs and enterprises.</span></span>

## <a name="building-mui-applications"></a><span data-ttu-id="58f97-182">Создание приложений многоязыкового интерфейса пользователя</span><span class="sxs-lookup"><span data-stu-id="58f97-182">Building MUI applications</span></span>

<span data-ttu-id="58f97-183">В предыдущих разделах были описаны варианты отделения исходного кода от ресурсов конкретного языка, а также полученное преимущество использования основных API-интерфейсов платформы Windows для динамической загрузки локализованных ресурсов.</span><span class="sxs-lookup"><span data-stu-id="58f97-183">The previous sections outlined the options for separating source code from language-specific resources, and the resultant benefit in being able to utilize core Windows platform APIs to dynamically load localized resources.</span></span> <span data-ttu-id="58f97-184">Хотя это и есть рекомендации, следует обратить внимание на то, что для разработки приложения MUI для платформы Windows не существует определенного специального способа.</span><span class="sxs-lookup"><span data-stu-id="58f97-184">While these are guidelines, it should also be pointed out that there is no specific prescriptive way to develop a MUI application for the Windows platform.</span></span>

<span data-ttu-id="58f97-185">Разработчики приложений имеют полное решение о том, как они работают с различными параметрами языка пользовательского интерфейса, параметрами создания ресурсов и методами загрузки ресурсов.</span><span class="sxs-lookup"><span data-stu-id="58f97-185">Application developers have full choice in how they handle various user-interface language settings, resource creation options, and resource loading methods.</span></span> <span data-ttu-id="58f97-186">Разработчики могут оценить рекомендации, приведенные в этом документе, и выбрать сочетание, которое соответствует их требованиям и среде разработки.</span><span class="sxs-lookup"><span data-stu-id="58f97-186">Developers can evaluate the guidelines provided in this document and choose a combination that fits their requirements and development environment.</span></span>

<span data-ttu-id="58f97-187">В следующей таблице перечислены различные варианты проектирования, доступные разработчикам приложений, которые ищут создание приложения MUI для платформы Windows.</span><span class="sxs-lookup"><span data-stu-id="58f97-187">The following table summarizes the different design options available to application developers who are looking to create a MUI application for the Windows platform.</span></span>



<table>
<thead>
<tr class="header">
<th><span data-ttu-id="58f97-188">Параметры языка пользовательского интерфейса</span><span class="sxs-lookup"><span data-stu-id="58f97-188">User interface language settings</span></span></th>
<th><span data-ttu-id="58f97-189">создание ресурсов;</span><span class="sxs-lookup"><span data-stu-id="58f97-189">Resource creation</span></span></th>
<th><span data-ttu-id="58f97-190">Загрузка ресурсов</span><span class="sxs-lookup"><span data-stu-id="58f97-190">Resource loading</span></span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td rowspan="2"><span data-ttu-id="58f97-191">Следуйте параметрам языка пользовательского интерфейса в операционной системе $ {Remove} $</span><span class="sxs-lookup"><span data-stu-id="58f97-191">Follow UI language settings in the operating system${REMOVE}$</span></span><br />
</td>
<td><span data-ttu-id="58f97-192">Один язык в двоичном файле с разделенным ресурсом (технология ресурсов MUI)</span><span class="sxs-lookup"><span data-stu-id="58f97-192">Single language in a split resource binary (MUI Resource Technology)</span></span><br/> <span data-ttu-id="58f97-193">-или-</span><span class="sxs-lookup"><span data-stu-id="58f97-193">-or-</span></span><br/> <span data-ttu-id="58f97-194">Несколько языков в двоичном файле ресурсов без разбиения</span><span class="sxs-lookup"><span data-stu-id="58f97-194">Multiple languages in a non-split resource binary</span></span><br/></td>
<td><span data-ttu-id="58f97-195">Приложение вызывает функции загрузки стандартных ресурсов.</span><span class="sxs-lookup"><span data-stu-id="58f97-195">Application calls standard resource loading functions.</span></span> <span data-ttu-id="58f97-196">Ресурсы возвращаются на языках, соответствующих параметрам операционной системы.</span><span class="sxs-lookup"><span data-stu-id="58f97-196">Resources are returned in the languages matching the operating system settings.</span></span><br/></td>
</tr>
<tr class="even">
<td><span data-ttu-id="58f97-197">Механизм ресурсов для конкретного приложения</span><span class="sxs-lookup"><span data-stu-id="58f97-197">Application-specific resource mechanism</span></span><br/></td>
<td><span data-ttu-id="58f97-198">Приложение вызывает интерфейс API многоязыкового интерфейса пользователя, чтобы получить предпочтительные для потока языки интерфейса пользователя или языки пользовательского интерфейса, предпочитаемые процессом, из операционной системы и использовать эти параметры для загрузки собственных ресурсов.</span><span class="sxs-lookup"><span data-stu-id="58f97-198">Application calls MUI API to retrieve the thread-preferred UI languages or process-preferred UI languages from the operating system and use these settings to load its own resources.</span></span><br/></td>

</tr>
<tr class="odd">
<td rowspan="2"><span data-ttu-id="58f97-199">Параметры языка пользовательского интерфейса, зависящие от приложения $ {Remove} $</span><span class="sxs-lookup"><span data-stu-id="58f97-199">Application-specific UI language settings${REMOVE}$</span></span><br />
</td>
<td><span data-ttu-id="58f97-200">Один язык в двоичном файле с разделенным ресурсом</span><span class="sxs-lookup"><span data-stu-id="58f97-200">Single language in a split resource binary</span></span><br/> <span data-ttu-id="58f97-201">-или-</span><span class="sxs-lookup"><span data-stu-id="58f97-201">-or-</span></span><br/> <span data-ttu-id="58f97-202">Несколько языков в двоичном файле ресурсов без разбиения</span><span class="sxs-lookup"><span data-stu-id="58f97-202">Multiple languages in a non-split resource binary</span></span><br/></td>
<td><span data-ttu-id="58f97-203">Приложение вызывает интерфейс API многоязыкового интерфейса пользователя, чтобы задать языки пользовательского интерфейса для конкретного приложения или предпочтительные языки интерфейса, а затем вызывает стандартные функции загрузки ресурсов.</span><span class="sxs-lookup"><span data-stu-id="58f97-203">Application calls MUI API to set application-specific UI languages or process-preferred UI languages and then calls standard resource loading functions.</span></span> <span data-ttu-id="58f97-204">Ресурсы возвращаются на языках, установленных на языках приложения или системы.</span><span class="sxs-lookup"><span data-stu-id="58f97-204">Resources are returned in the languages set by the application or system languages.</span></span><br/> <span data-ttu-id="58f97-205">-или-</span><span class="sxs-lookup"><span data-stu-id="58f97-205">-or-</span></span><br/> <span data-ttu-id="58f97-206">Приложение проверяет ресурсы на определенном языке и обрабатывает их отдельные ресурсы из полученных двоичных данных.</span><span class="sxs-lookup"><span data-stu-id="58f97-206">Application probes resources in a specific language and handles its own resource extraction from the retrieved binary data.</span></span><br/></td>
</tr>
<tr class="even">
<td><span data-ttu-id="58f97-207">Механизм ресурсов для конкретного приложения</span><span class="sxs-lookup"><span data-stu-id="58f97-207">Application-specific resource mechanism</span></span><br/></td>
<td><span data-ttu-id="58f97-208">Приложение управляет собственной загрузкой ресурсов.</span><span class="sxs-lookup"><span data-stu-id="58f97-208">Application manages its own resource loading.</span></span><br/></td>

</tr>
</tbody>
</table>



 

 

 




