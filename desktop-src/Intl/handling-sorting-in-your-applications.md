---
description: Некоторые приложения, такие как Microsoft Active Directory, Microsoft Exchange и Microsoft Access, поддерживают сортировку базы данных языкового стандарта и языковых строк, индексируемых по имени (строка UTF-16), и связанные с ними весовые коэффициенты сортировки.
ms.assetid: c8fc32bd-02bd-4a40-a836-d9ad9f69c209
title: Обработка сортировки в приложениях
ms.topic: article
ms.date: 03/04/2020
ms.openlocfilehash: c0bba3d78a5219781226ecf58292ed461c902090
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "103913699"
---
# <a name="handling-sorting-in-your-applications"></a><span data-ttu-id="a6f41-103">Обработка сортировки в приложениях</span><span class="sxs-lookup"><span data-stu-id="a6f41-103">Handling Sorting in Your Applications</span></span>

<span data-ttu-id="a6f41-104">Некоторые приложения, такие как Microsoft Active Directory, Microsoft Exchange и Microsoft Access, поддерживают сортировку базы данных языкового стандарта и языковых строк, индексируемых по имени (строка UTF-16), и связанные с ними весовые коэффициенты сортировки.</span><span class="sxs-lookup"><span data-stu-id="a6f41-104">Some applications, such as Microsoft Active Directory, Microsoft Exchange, and Microsoft Access, maintain a sortable database of locale and language strings indexed by name (UTF-16 string), and their associated sorting weights.</span></span>

<span data-ttu-id="a6f41-105">[Сортировка](sorting.md) обычно интуитивно понятна для пользователей в собственных языковых стандартах.</span><span class="sxs-lookup"><span data-stu-id="a6f41-105">[Sorting](sorting.md) is usually intuitive for users in their own locales.</span></span> <span data-ttu-id="a6f41-106">Тем не менее он может быть интуитивно понятным для разработчиков приложений.</span><span class="sxs-lookup"><span data-stu-id="a6f41-106">However, it can be non-intuitive for application developers.</span></span> <span data-ttu-id="a6f41-107">В этом разделе обсуждаются вопросы, касающиеся обработки сортировки в приложениях.</span><span class="sxs-lookup"><span data-stu-id="a6f41-107">This topic discusses considerations for handling sorting in your applications.</span></span> <span data-ttu-id="a6f41-108">Сортировка может быть либо лингвистическими, либо порядковыми (не лингвистическими).</span><span class="sxs-lookup"><span data-stu-id="a6f41-108">Sorting can be either linguistic or ordinal (non-linguistic).</span></span>

## <a name="sorting-functions"></a><span data-ttu-id="a6f41-109">Функции сортировки</span><span class="sxs-lookup"><span data-stu-id="a6f41-109">Sorting Functions</span></span>

<span data-ttu-id="a6f41-110">В приложениях можно использовать различные функции сортировки:</span><span class="sxs-lookup"><span data-stu-id="a6f41-110">You can use a variety of sorting functions in your applications:</span></span>

-   <span data-ttu-id="a6f41-111">Функции сравнения строк NLS.</span><span class="sxs-lookup"><span data-stu-id="a6f41-111">NLS string comparison functions.</span></span> <span data-ttu-id="a6f41-112">Примеры: [**CompareString**](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw) и [**компарестринжекс**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringex), [**CompareStringOrdinal**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringordinal), [**LCMapString завершилось ошибкой**](/windows/desktop/api/Winnls/nf-winnls-lcmapstringa), [**лкмапстринжекс**](/windows/desktop/api/Winnls/nf-winnls-lcmapstringex), [**финднлсстринг**](/windows/desktop/api/Winnls/nf-winnls-findnlsstring), [**финднлсстринжекс**](/windows/desktop/api/Winnls/nf-winnls-findnlsstringex)и [**финдстрингординал**](/windows/desktop/api/Libloaderapi/nf-libloaderapi-findstringordinal).</span><span class="sxs-lookup"><span data-stu-id="a6f41-112">Examples are [**CompareString**](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw) and [**CompareStringEx**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringex), [**CompareStringOrdinal**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringordinal), [**LCMapString**](/windows/desktop/api/Winnls/nf-winnls-lcmapstringa), [**LCMapStringEx**](/windows/desktop/api/Winnls/nf-winnls-lcmapstringex), [**FindNLSString**](/windows/desktop/api/Winnls/nf-winnls-findnlsstring), [**FindNLSStringEx**](/windows/desktop/api/Winnls/nf-winnls-findnlsstringex), and [**FindStringOrdinal**](/windows/desktop/api/Libloaderapi/nf-libloaderapi-findstringordinal).</span></span> <span data-ttu-id="a6f41-113">См. раздел [вопросы безопасности: международные функции](security-considerations--international-features.md) для обсуждения проблем безопасности, связанных с функциями сравнения строк.</span><span class="sxs-lookup"><span data-stu-id="a6f41-113">See [Security Considerations: International Features](security-considerations--international-features.md) for a discussion of security issues related to the string comparison functions.</span></span>
-   <span data-ttu-id="a6f41-114">Функции-оболочки, которые внутренне вызывают функции сравнения строк.</span><span class="sxs-lookup"><span data-stu-id="a6f41-114">Wrapper functions that internally call the string comparison functions.</span></span> <span data-ttu-id="a6f41-115">Наиболее распространенными функциями являются [**лстркмп**](/windows/win32/api/winbase/nf-winbase-lstrcmpa) и [**лстркмпи**](/windows/win32/api/winbase/nf-winbase-lstrcmpia), которые вызывают [**CompareString**](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw).</span><span class="sxs-lookup"><span data-stu-id="a6f41-115">The most common functions are [**lstrcmp**](/windows/win32/api/winbase/nf-winbase-lstrcmpa) and [**lstrcmpi**](/windows/win32/api/winbase/nf-winbase-lstrcmpia), which call [**CompareString**](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw).</span></span>

<span data-ttu-id="a6f41-116">Обычно функции сортировки оценивают строки по символам.</span><span class="sxs-lookup"><span data-stu-id="a6f41-116">Usually the sorting functions evaluate strings character by character.</span></span> <span data-ttu-id="a6f41-117">Однако многие языки содержат элементы с несколькими символами, например две пары символов "CH" в традиционном испанском.</span><span class="sxs-lookup"><span data-stu-id="a6f41-117">However, many languages have multiple-character elements, such as the two-character pair "CH" in traditional Spanish.</span></span> <span data-ttu-id="a6f41-118">[**CompareString**](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw) и [**компарестринжекс**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringex) используют предоставляемый приложением идентификатор или имя локали для идентификации элементов с несколькими символами.</span><span class="sxs-lookup"><span data-stu-id="a6f41-118">[**CompareString**](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw) and [**CompareStringEx**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringex) use the application-supplied locale identifier or name to identify multiple-character elements.</span></span> <span data-ttu-id="a6f41-119">В отличие от этого, [**лстркмп**](/windows/win32/api/winbase/nf-winbase-lstrcmpa)и [**лстркмпи**](/windows/win32/api/winbase/nf-winbase-lstrcmpia) используют языковой стандарт пользователя.</span><span class="sxs-lookup"><span data-stu-id="a6f41-119">In contrast, [**lstrcmp**](/windows/win32/api/winbase/nf-winbase-lstrcmpa), and [**lstrcmpi**](/windows/win32/api/winbase/nf-winbase-lstrcmpia) use the user's locale.</span></span>

<span data-ttu-id="a6f41-120">Еще один пример — вьетнамский, который содержит много элементов с двумя символами, таких как допустимые символы в верхнем регистре, регистр заголовка и строчные формы «водо», которые имеют соответственно.</span><span class="sxs-lookup"><span data-stu-id="a6f41-120">Another example is Vietnamese, which contains many two-character elements, such as the valid uppercase, title case, and lowercase forms of "GI", which are "GI, "Gi", and "gi", respectively.</span></span> <span data-ttu-id="a6f41-121">Любая из этих форм рассматривается как один элемент сортировки и, если регистр игнорируется, сравнивается как равный.</span><span class="sxs-lookup"><span data-stu-id="a6f41-121">Any of these forms is treated as a as a single sorting element and, if casing is ignored, compares as equal.</span></span> <span data-ttu-id="a6f41-122">Однако поскольку ««» не является допустимым в качестве одного элемента, [**CompareString**](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw), [**компарестринжекс**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringex), [**лстркмп**](/windows/win32/api/winbase/nf-winbase-lstrcmpa)и [**лстркмпи**](/windows/win32/api/winbase/nf-winbase-lstrcmpia) обрабатывают ««»» как два отдельных элемента.</span><span class="sxs-lookup"><span data-stu-id="a6f41-122">However, because "gI" is not valid as a single element, [**CompareString**](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw), [**CompareStringEx**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringex), [**lstrcmp**](/windows/win32/api/winbase/nf-winbase-lstrcmpa), and [**lstrcmpi**](/windows/win32/api/winbase/nf-winbase-lstrcmpia) treat "gI" as two separate elements.</span></span>

<span data-ttu-id="a6f41-123">Функции [**CompareString**](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw), [**компарестринжекс**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringex), [**лстркмп**](/windows/win32/api/winbase/nf-winbase-lstrcmpa), [**лстркмпи**](/windows/win32/api/winbase/nf-winbase-lstrcmpia), [**LCMapString завершилось ошибкой**](/windows/desktop/api/Winnls/nf-winnls-lcmapstringa), [**лкмапстринжекс**](/windows/desktop/api/Winnls/nf-winnls-lcmapstringex), [**финднлсстринг**](/windows/desktop/api/Winnls/nf-winnls-findnlsstring)и [**финднлсстринжекс**](/windows/desktop/api/Winnls/nf-winnls-findnlsstringex) по умолчанию используют методику сортировки слов.</span><span class="sxs-lookup"><span data-stu-id="a6f41-123">The functions [**CompareString**](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw), [**CompareStringEx**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringex), [**lstrcmp**](/windows/win32/api/winbase/nf-winbase-lstrcmpa), [**lstrcmpi**](/windows/win32/api/winbase/nf-winbase-lstrcmpia), [**LCMapString**](/windows/desktop/api/Winnls/nf-winnls-lcmapstringa), [**LCMapStringEx**](/windows/desktop/api/Winnls/nf-winnls-lcmapstringex), [**FindNLSString**](/windows/desktop/api/Winnls/nf-winnls-findnlsstring), and [**FindNLSStringEx**](/windows/desktop/api/Winnls/nf-winnls-findnlsstringex) all default to use of a "word sort" technique.</span></span> <span data-ttu-id="a6f41-124">Для такого типа сортировки все знаки пунктуации и другие символы, не являющиеся буквенно-цифровыми, за исключением дефиса и апострофа, перед любым буквенно-цифровым символом.</span><span class="sxs-lookup"><span data-stu-id="a6f41-124">For this type of sort, all punctuation marks and other nonalphanumeric characters, except for the hyphen and the apostrophe, come before any alphanumeric character.</span></span> <span data-ttu-id="a6f41-125">Дефис и апостроф обрабатываются иначе, чем другие небуквенно-цифровые символы, чтобы гарантировать, что слова, такие как «Coop» и «Co-операция», останутся в отсортированном списке.</span><span class="sxs-lookup"><span data-stu-id="a6f41-125">The hyphen and the apostrophe are treated differently from the other nonalphanumeric characters to ensure that words such as "coop" and "co-op" stay together in a sorted list.</span></span>

<span data-ttu-id="a6f41-126">Вместо сортировки по словам приложение может запросить метод сортировки строк из функций сортировки, указав \_ флаг Sort стрингсорт.</span><span class="sxs-lookup"><span data-stu-id="a6f41-126">Instead of a word sort, the application can request a "string sort" technique from the sorting functions by specifying the SORT\_STRINGSORT flag.</span></span> <span data-ttu-id="a6f41-127">Строка сортировки обрабатывает дефис и апостроф так же, как любой другой символ, не являющийся буквенно-цифровым.</span><span class="sxs-lookup"><span data-stu-id="a6f41-127">A string sort treats the hyphen and apostrophe just like any other nonalphanumeric character.</span></span> <span data-ttu-id="a6f41-128">Их положения в последовательности сортировки предшествуют буквенно-цифровым символам.</span><span class="sxs-lookup"><span data-stu-id="a6f41-128">Their positions in the sorting sequence are before the alphanumeric characters.</span></span>

<span data-ttu-id="a6f41-129">В следующей таблице сравниваются результаты слова Sort с результатами сортировки строк.</span><span class="sxs-lookup"><span data-stu-id="a6f41-129">The following table compares the results of a word sort with the results of a string sort.</span></span> 

| <span data-ttu-id="a6f41-130">Сортировка по словам</span><span class="sxs-lookup"><span data-stu-id="a6f41-130">Word Sort</span></span> | <span data-ttu-id="a6f41-131">Сортировка строк</span><span class="sxs-lookup"><span data-stu-id="a6f41-131">String Sort</span></span> |
|-----------|-------------|
| <span data-ttu-id="a6f41-132">биллет</span><span class="sxs-lookup"><span data-stu-id="a6f41-132">billet</span></span>    | <span data-ttu-id="a6f41-133">счет</span><span class="sxs-lookup"><span data-stu-id="a6f41-133">bill's</span></span>      |
| <span data-ttu-id="a6f41-134">ведомостей</span><span class="sxs-lookup"><span data-stu-id="a6f41-134">bills</span></span>     | <span data-ttu-id="a6f41-135">биллет</span><span class="sxs-lookup"><span data-stu-id="a6f41-135">billet</span></span>      |
| <span data-ttu-id="a6f41-136">счет</span><span class="sxs-lookup"><span data-stu-id="a6f41-136">bill's</span></span>    | <span data-ttu-id="a6f41-137">ведомостей</span><span class="sxs-lookup"><span data-stu-id="a6f41-137">bills</span></span>       |
| <span data-ttu-id="a6f41-138">он не может</span><span class="sxs-lookup"><span data-stu-id="a6f41-138">cannot</span></span>    | <span data-ttu-id="a6f41-139">нельзя</span><span class="sxs-lookup"><span data-stu-id="a6f41-139">can't</span></span>       |
| <span data-ttu-id="a6f41-140">не можете</span><span class="sxs-lookup"><span data-stu-id="a6f41-140">cant</span></span>      | <span data-ttu-id="a6f41-141">он не может</span><span class="sxs-lookup"><span data-stu-id="a6f41-141">cannot</span></span>      |
| <span data-ttu-id="a6f41-142">нельзя</span><span class="sxs-lookup"><span data-stu-id="a6f41-142">can't</span></span>     | <span data-ttu-id="a6f41-143">не можете</span><span class="sxs-lookup"><span data-stu-id="a6f41-143">cant</span></span>        |
| <span data-ttu-id="a6f41-144">параллель</span><span class="sxs-lookup"><span data-stu-id="a6f41-144">con</span></span>       | <span data-ttu-id="a6f41-145">Совместная операция</span><span class="sxs-lookup"><span data-stu-id="a6f41-145">co-op</span></span>       |
| <span data-ttu-id="a6f41-146">Coop</span><span class="sxs-lookup"><span data-stu-id="a6f41-146">coop</span></span>      | <span data-ttu-id="a6f41-147">параллель</span><span class="sxs-lookup"><span data-stu-id="a6f41-147">con</span></span>         |
| <span data-ttu-id="a6f41-148">Совместная операция</span><span class="sxs-lookup"><span data-stu-id="a6f41-148">co-op</span></span>     | <span data-ttu-id="a6f41-149">Coop</span><span class="sxs-lookup"><span data-stu-id="a6f41-149">coop</span></span>        |



 

## <a name="sort-strings-linguistically"></a><span data-ttu-id="a6f41-150">Сортировка строк по лингвистическому сортировке</span><span class="sxs-lookup"><span data-stu-id="a6f41-150">Sort Strings Linguistically</span></span>

<span data-ttu-id="a6f41-151">Функции [**CompareString**](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw) и [**компарестринжекс**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringex) проверяют лингвистическое равенство.</span><span class="sxs-lookup"><span data-stu-id="a6f41-151">The [**CompareString**](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw) and [**CompareStringEx**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringex) functions test for linguistic equality.</span></span> <span data-ttu-id="a6f41-152">Приложения должны использовать эти функции с правильным языковым стандартом для сортировки строк лингвистически.</span><span class="sxs-lookup"><span data-stu-id="a6f41-152">Your applications should use these functions with the correct locale for sorting strings linguistically.</span></span>

> [!Note]  
> <span data-ttu-id="a6f41-153">Чтобы обеспечить совместимость с Юникодом, приложение должно предпочитать [**компарестринжекс**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringex) или версию программы [**CompareString**](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw)в Юникоде.</span><span class="sxs-lookup"><span data-stu-id="a6f41-153">For compatibility with Unicode, an application should prefer [**CompareStringEx**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringex) or the Unicode version of [**CompareString**](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw).</span></span> <span data-ttu-id="a6f41-154">Еще одна причина для предустановления [**компарестринжекс**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringex) заключается в том, что корпорация Майкрософт выполняет миграцию в сторону использования имен языковых стандартов вместо идентификаторов языкового стандарта для новых языков, чтобы обеспечить взаимодействие.</span><span class="sxs-lookup"><span data-stu-id="a6f41-154">Another reason for preferring [**CompareStringEx**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringex) is that Microsoft is migrating toward the use of locale names instead of locale identifiers for new locales, for interoperability reasons.</span></span> <span data-ttu-id="a6f41-155">Любое приложение, работающее только в Windows Vista и более поздних версиях, должно использовать [**компарестринжекс**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringex).</span><span class="sxs-lookup"><span data-stu-id="a6f41-155">Any application that runs only on Windows Vista and later should use [**CompareStringEx**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringex).</span></span>

 

<span data-ttu-id="a6f41-156">Другой способ проверки лингвистического равенства заключается в использовании [**лстркмп**](/windows/win32/api/winbase/nf-winbase-lstrcmpa) или [**лстркмпи**](/windows/win32/api/winbase/nf-winbase-lstrcmpia), которые всегда используют сортировку по словам.</span><span class="sxs-lookup"><span data-stu-id="a6f41-156">Another way of testing for linguistic equality is to use [**lstrcmp**](/windows/win32/api/winbase/nf-winbase-lstrcmpa) or [**lstrcmpi**](/windows/win32/api/winbase/nf-winbase-lstrcmpia), which always use a word sort.</span></span> <span data-ttu-id="a6f41-157">Функция [**лстркмпи**](/windows/win32/api/winbase/nf-winbase-lstrcmpia) вызывает [**CompareString**](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw) с \_ флагом нормы IGNORECASE, а [**лстркмп**](/windows/win32/api/winbase/nf-winbase-lstrcmpa) вызывает его без этого флага.</span><span class="sxs-lookup"><span data-stu-id="a6f41-157">The [**lstrcmpi**](/windows/win32/api/winbase/nf-winbase-lstrcmpia) function calls [**CompareString**](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw) with the NORM\_IGNORECASE flag, while [**lstrcmp**](/windows/win32/api/winbase/nf-winbase-lstrcmpa) calls it without that flag.</span></span> <span data-ttu-id="a6f41-158">Общие сведения об использовании функций-оболочек см. в разделе [**строки**](../menurc/strings.md).</span><span class="sxs-lookup"><span data-stu-id="a6f41-158">For an overview of the use of the wrapper functions, see [**Strings**](../menurc/strings.md).</span></span>

<span data-ttu-id="a6f41-159">Функции получают лингвистически соответствующие результаты для всех языков.</span><span class="sxs-lookup"><span data-stu-id="a6f41-159">The functions retrieve linguistically appropriate results for all locales.</span></span> <span data-ttu-id="a6f41-160">Ожидания пользователей для разных языковых стандартов могут значительно различаться при сортировке, как показано в следующих примерах.</span><span class="sxs-lookup"><span data-stu-id="a6f41-160">User expectations for different locales can differ significantly in sorting behavior, as shown in the following examples.</span></span>

-   <span data-ttu-id="a6f41-161">Многие языковые стандарты выравнивают лигатуру AE (æ) с буквами AE.</span><span class="sxs-lookup"><span data-stu-id="a6f41-161">Many locales equate the ae ligature (æ) with the letters ae.</span></span> <span data-ttu-id="a6f41-162">Однако Исландский (Исландия) считает его отдельной буквой и помещает ее после Z в последовательности сортировки.</span><span class="sxs-lookup"><span data-stu-id="a6f41-162">However, Icelandic (Iceland) considers it a separate letter and places it after Z in the sorting sequence.</span></span>
-   <span data-ttu-id="a6f41-163">Кольцо (a) обычно сортируется с разностью диакритических знаков из. Однако шведский (Швеция) помещает кольцо после Z в последовательности сортировки.</span><span class="sxs-lookup"><span data-stu-id="a6f41-163">The A Ring (Å) normally sorts with merely a diacritic difference from A. However, Swedish (Sweden) places the A Ring after Z in the sorting sequence.</span></span>

<span data-ttu-id="a6f41-164">Функции попытаются проверить, что кодовые точки, определенные в стандарте Юникода, являются каноническими, равными строкам эквивалентных кодовых позиций.</span><span class="sxs-lookup"><span data-stu-id="a6f41-164">The functions attempt to verify rigorously that code points defined in the Unicode standard are canonically equal to a string of equivalent code points.</span></span> <span data-ttu-id="a6f41-165">Например, кодовая точка, представляющая строчную букву "u" с диересис (u), канонно равна строчной букве "u" в сочетании с диересис (ё).</span><span class="sxs-lookup"><span data-stu-id="a6f41-165">For example, the code point that represents a lowercase "u" with a dieresis (ü) is canonically equal to a lowercase "u" combined with the dieresis (¨).</span></span> <span data-ttu-id="a6f41-166">Однако обратите внимание, что каноническая эквивалентность не всегда возможна.</span><span class="sxs-lookup"><span data-stu-id="a6f41-166">Note, however, that canonical equivalence is not always possible.</span></span>

<span data-ttu-id="a6f41-167">Почти все данные, введенные с помощью клавиатуры Windows и редакторов методов ввода (IME), соответствуют форме нормализации C, определенной в стандарте Юникода, а преобразование входящих данных из других платформ с помощью функций нормализации Юникода в NLS предоставляет наиболее согласованные результаты, особенно для языков, использующих скрипты тибетский или хангыль для современных хангыль.</span><span class="sxs-lookup"><span data-stu-id="a6f41-167">As almost all data entered using Windows keyboards and input method editors (IMEs) conforms to the form C normalization defined in the Unicode standard, converting incoming data from other platforms using the NLS Unicode normalization functions provides most consistent results, especially for locales that use the Tibetan script or the Hangul script for modern Hangul.</span></span> <span data-ttu-id="a6f41-168">Дополнительные сведения о поддержке нормализации Юникода в Windows Vista и более поздних версиях см. в разделе [Использование нормализации Юникода для представления строк](using-unicode-normalization-to-represent-strings.md).</span><span class="sxs-lookup"><span data-stu-id="a6f41-168">For more information on Unicode normalization support in Windows Vista and later, see [Using Unicode Normalization to Represent Strings](using-unicode-normalization-to-represent-strings.md).</span></span>

<span data-ttu-id="a6f41-169">Если при сравнении строк следует предпочтение языка пользователя, например при сортировке элементов для упорядоченного элемента управления ListView, приложение может выполнить одно из следующих действий:</span><span class="sxs-lookup"><span data-stu-id="a6f41-169">When string comparison follows the user's language preference, for example, when sorting items for an ordered ListView control, the application can do one of the following:</span></span>

-   <span data-ttu-id="a6f41-170">Вызовите [**лстркмп**](/windows/win32/api/winbase/nf-winbase-lstrcmpa) или [**лстркмпи**](/windows/win32/api/winbase/nf-winbase-lstrcmpia) , используя языковой стандарт пользователя.</span><span class="sxs-lookup"><span data-stu-id="a6f41-170">Call [**lstrcmp**](/windows/win32/api/winbase/nf-winbase-lstrcmpa) or [**lstrcmpi**](/windows/win32/api/winbase/nf-winbase-lstrcmpia) with the user's locale.</span></span>
-   <span data-ttu-id="a6f41-171">Вызовите [**CompareString**](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw) или [**компарестринжекс**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringex) , чтобы определить языковой стандарт для сравнения, передать дополнительные флаги для внедрения символов NULL или передать явные длины для соответствия частям строки.</span><span class="sxs-lookup"><span data-stu-id="a6f41-171">Call [**CompareString**](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw) or [**CompareStringEx**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringex) to define a locale for the comparison, to pass additional flags, to embed null characters, or to pass explicit lengths to match parts of a string.</span></span>

<span data-ttu-id="a6f41-172">Если результаты сравнения должны быть единообразными независимо от языкового стандарта, например при сравнении извлеченных данных с предопределенным списком или с внутренним значением, приложение должно использовать [**CompareString**](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw) или [**компарестринжекс**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringex) с параметром *locale* , для которого задано значение инвариантный языковой стандарт \_ .</span><span class="sxs-lookup"><span data-stu-id="a6f41-172">When the results of the comparison should be consistent regardless of locale, for example, when comparing retrieved data against a predefined list or an internal value, the application should use [**CompareString**](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw) or [**CompareStringEx**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringex) with the *Locale* parameter set to LOCALE\_INVARIANT.</span></span> <span data-ttu-id="a6f41-173">Для [**CompareString**](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw)один из следующих вызовов будет соответствовать, даже если Мистр имеет значение "инлап".</span><span class="sxs-lookup"><span data-stu-id="a6f41-173">For [**CompareString**](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw), either of the following calls will match even if mystr is "INLAP".</span></span> <span data-ttu-id="a6f41-174">В этом случае вызов [**лстркмпи**](/windows/win32/api/winbase/nf-winbase-lstrcmpia) с учетом локали завершится ошибкой, если текущий языковой стандарт — Вьетнам.</span><span class="sxs-lookup"><span data-stu-id="a6f41-174">In this case, a locale-sensitive call to [**lstrcmpi**](/windows/win32/api/winbase/nf-winbase-lstrcmpia) will fail if the current locale is Vietnamese.</span></span>

<span data-ttu-id="a6f41-175">В Windows XP.</span><span class="sxs-lookup"><span data-stu-id="a6f41-175">On Windows XP:</span></span>


```C++
int iReturn = CompareString(LOCALE_INVARIANT, NORM_IGNORECASE, mystr, -1, _T("InLap"), -1);
```



<span data-ttu-id="a6f41-176">В более ранних операционных системах:</span><span class="sxs-lookup"><span data-stu-id="a6f41-176">On earlier operating systems:</span></span>


```C++
DWORD lcid = MAKELCID(MAKELANGID(LANG_ENGLISH, SUBLANG_ENGLISH_US), SORT_DEFAULT);
int iReturn = CompareString(lcid, NORM_IGNORECASE, mystr, -1, _T("InLap"), -1);
```



## <a name="sort-strings-ordinally"></a><span data-ttu-id="a6f41-177">Сортировка строк по порядковому номеру</span><span class="sxs-lookup"><span data-stu-id="a6f41-177">Sort Strings Ordinally</span></span>

<span data-ttu-id="a6f41-178">При сортировке по порядковому номеру (не лингвистическая) в приложениях всегда следует использовать функцию [**CompareStringOrdinal**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringordinal) .</span><span class="sxs-lookup"><span data-stu-id="a6f41-178">For ordinal (non-linguistic) sorting, your applications should always use the [**CompareStringOrdinal**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringordinal) function.</span></span>

> [!Note]  
> <span data-ttu-id="a6f41-179">Эта функция доступна только для Windows Vista и более поздних версий.</span><span class="sxs-lookup"><span data-stu-id="a6f41-179">This function is only available for Windows Vista and later.</span></span>

 

<span data-ttu-id="a6f41-180">[**CompareStringOrdinal**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringordinal) сравнивает две строки [Юникода](unicode.md) для проверки на двоичное равенство, в отличие от лингвистического равенства.</span><span class="sxs-lookup"><span data-stu-id="a6f41-180">[**CompareStringOrdinal**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringordinal) compares two [Unicode](unicode.md) strings to test for binary equality, as opposed to linguistic equality.</span></span> <span data-ttu-id="a6f41-181">Примерами таких нелингвистических строк являются имена файлов NTFS, переменные среды и имена мьютексов, именованных каналов или маилслотс.</span><span class="sxs-lookup"><span data-stu-id="a6f41-181">Examples of such non-linguistic strings are NTFS file names, environment variables, and the names of mutexes, named pipes, or mailslots.</span></span> <span data-ttu-id="a6f41-182">За исключением варианта учета регистра, эта функция игнорирует все недвоичные эквиваленты.</span><span class="sxs-lookup"><span data-stu-id="a6f41-182">Except for the option of case-insensitivity, this function disregards all non-binary equivalences.</span></span> <span data-ttu-id="a6f41-183">В отличие от других функций сортировки, она проверяет все кодовые точки на равенство, включая те, которые не имеют веса в лингвистических схемах сортировки.</span><span class="sxs-lookup"><span data-stu-id="a6f41-183">Unlike some other sorting functions, it tests all code points for equality, including those that are not given any weight in linguistic sorting schemes.</span></span>

<span data-ttu-id="a6f41-184">Все приведенные ниже инструкции применяются к [**CompareStringOrdinal**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringordinal) в двоичных сравнениях, но не к [**CompareString**](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw), [**компарестринжекс**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringex), [**лстркмп**](/windows/win32/api/winbase/nf-winbase-lstrcmpa)или [**лстркмпи**](/windows/win32/api/winbase/nf-winbase-lstrcmpia).</span><span class="sxs-lookup"><span data-stu-id="a6f41-184">All of the following statements apply to [**CompareStringOrdinal**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringordinal) in binary comparisons, but not to [**CompareString**](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw), [**CompareStringEx**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringex), [**lstrcmp**](/windows/win32/api/winbase/nf-winbase-lstrcmpa), or [**lstrcmpi**](/windows/win32/api/winbase/nf-winbase-lstrcmpia).</span></span>

-   <span data-ttu-id="a6f41-185">Канонические эквивалентные последовательности в Юникоде, такие как Латинская СТРОЧная БУКВа A с КОЛЬЦОм выше (U + 00e5) и Латинская СТРОЧная БУКВа A + ОБЪЕДИНЕНный Звонок выше (U + 0061 U + 030A), не равны, несмотря на то, что они выглядят как одинаковые ("a").</span><span class="sxs-lookup"><span data-stu-id="a6f41-185">Canonically equivalent sequences in Unicode, such as LATIN SMALL LETTER A WITH RING ABOVE (U+00e5) and LATIN SMALL LETTER A + COMBINING RING ABOVE (U+0061 U+030a), are not equal even though they appear identical ("å").</span></span>
-   <span data-ttu-id="a6f41-186">Канонические строки в Юникоде, например Латинская БУКВа SMALL ПРОПИСная Y (U + 028f) и Латинская ПРОПИСная БУКВа Y (U + 0059), которые выглядят очень похожими ("ʏ" и "Y") и отличаются только некоторыми особыми весовыми коэффициентами регистра в лингвистических таблицах, считаются полностью непохожими символами.</span><span class="sxs-lookup"><span data-stu-id="a6f41-186">Canonically similar strings in Unicode, such as LATIN LETTER SMALL CAPITAL Y (U+028f) and LATIN CAPITAL LETTER Y (U+0059), which look very similar ("ʏ" and "Y") and vary only by some special case weights in the linguistic tables, are considered to be entirely dissimilar characters.</span></span> <span data-ttu-id="a6f41-187">Даже если приложение устанавливает для *Бигнорекасе* **значение true**, эти строки сравниваются как разные.</span><span class="sxs-lookup"><span data-stu-id="a6f41-187">Even if the application sets *bIgnoreCase* to **TRUE**, these strings compare as different.</span></span>
-   <span data-ttu-id="a6f41-188">Кодовые точки, которые определены, но не имеют веса лингвистической сортировки, такие как соединение НУЛЕВой ширины (U + 200d), обрабатываются как имеющие весовые точки кода.</span><span class="sxs-lookup"><span data-stu-id="a6f41-188">Code points that are defined but have no linguistic sorting weight, such as ZERO WIDTH JOINER (U+200d), are treated as having their code point weights.</span></span>
-   <span data-ttu-id="a6f41-189">Кодовые точки, определенные в более поздних версиях Юникода, но не имеющие веса в текущих лингвистических таблицах, обрабатываются как имеющие весовые коэффициенты кодовых точек.</span><span class="sxs-lookup"><span data-stu-id="a6f41-189">Code points that are defined in later versions of Unicode but have no weight in current linguistic tables are treated as having their code point weights.</span></span>
-   <span data-ttu-id="a6f41-190">Кодовые точки, неопределенные в Юникоде, обрабатываются как имеющие вес кодовых точек.</span><span class="sxs-lookup"><span data-stu-id="a6f41-190">Code points that are undefined by Unicode are treated as having their code point weights.</span></span>
-   <span data-ttu-id="a6f41-191">Когда приложение устанавливает для *Бигнорекасе* **значение true**, функция сопоставляет регистр с использованием таблицы верхнего регистра операционной системы вместо сведений в лингвистических таблицах сортировки.</span><span class="sxs-lookup"><span data-stu-id="a6f41-191">When the application sets *bIgnoreCase* to **TRUE**, the function maps case using the operating system uppercasing table, instead of the information in the linguistic sorting tables.</span></span> <span data-ttu-id="a6f41-192">Поэтому сопоставление не зависит от языкового стандарта.</span><span class="sxs-lookup"><span data-stu-id="a6f41-192">Thus the mapping is independent of locale.</span></span>

<span data-ttu-id="a6f41-193">Дополнительные сведения о канонических эквивалентных последовательностях в Юникоде и канонических аналогичных строках в Юникоде см. в разделе [Использование нормализации Юникода для представления строк](using-unicode-normalization-to-represent-strings.md).</span><span class="sxs-lookup"><span data-stu-id="a6f41-193">For more information about canonically equivalent sequences in Unicode and canonically similar strings in Unicode, see [Using Unicode Normalization to Represent Strings](using-unicode-normalization-to-represent-strings.md).</span></span>

## <a name="sort-code-points"></a><span data-ttu-id="a6f41-194">Сортировка кодовых точек</span><span class="sxs-lookup"><span data-stu-id="a6f41-194">Sort Code Points</span></span>

<span data-ttu-id="a6f41-195">Некоторые кодовые точки Юникода не имеют веса, например НУЛЕВой ширины, отличной от, U + 200c.</span><span class="sxs-lookup"><span data-stu-id="a6f41-195">Some Unicode code points have no weight, for example, ZERO WIDTH NON JOINER, U+200c.</span></span> <span data-ttu-id="a6f41-196">Функции сортировки намеренно оценивают невзвешенные кодовые точки как эквивалентные, так как они не имеют веса при сортировке.</span><span class="sxs-lookup"><span data-stu-id="a6f41-196">The sorting functions intentionally evaluate the no-weight code points as equivalent because they have no weight in sorting.</span></span> <span data-ttu-id="a6f41-197">В Windows Vista и более поздних версиях приложение может сортировать эти кодовые точки путем вызова функций сравнения строк NLS, особенно [**CompareStringOrdinal**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringordinal), для оценки всех кодовых позиций в литерале, двоичного смысла, например, при проверке пароля.</span><span class="sxs-lookup"><span data-stu-id="a6f41-197">On Windows Vista and later, the application can sort these code points by calling the NLS string comparison functions, particularly [**CompareStringOrdinal**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringordinal), for evaluation of all code points in a literal, binary sense, for example, in password validation.</span></span> <span data-ttu-id="a6f41-198">В операционных системах, предшествующих Windows Vista, приложение должно использовать функцию среды выполнения C **strcmp** или **wcscmp**.</span><span class="sxs-lookup"><span data-stu-id="a6f41-198">On pre-Windows Vista operating systems, the application should use the C runtime function **strcmp** or **wcscmp**.</span></span>

<span data-ttu-id="a6f41-199">Функции сортировки игнорируют диакритические знаки, такие как бреве;, а не пробелы, U + 0306, если в приложении задан флаг пропуска Hlink \_ .</span><span class="sxs-lookup"><span data-stu-id="a6f41-199">Sorting functions ignore diacritics, such as NON SPACING BREVE, U+0306, when the application specifies the hlink\_NONSPACE flag.</span></span> <span data-ttu-id="a6f41-200">Аналогичным образом эти функции игнорируют символы, например знак равенства, U + 003D, если \_ задан флаг символов Hlink.</span><span class="sxs-lookup"><span data-stu-id="a6f41-200">Similarly, these functions ignore symbols, for example, EQUALS SIGN, U+003d , when the hlink\_SYMBOLS flag is specified.</span></span> <span data-ttu-id="a6f41-201">В Windows Vista и более поздних версиях приложение вызывает [**CompareStringOrdinal**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringordinal) для оценки диакритических знаков и кодовых позиций символов в литерале, двоичный смысл.</span><span class="sxs-lookup"><span data-stu-id="a6f41-201">On Windows Vista and later, the application calls [**CompareStringOrdinal**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringordinal) for evaluation of diacritics and symbol code points in a literal, binary sense.</span></span> <span data-ttu-id="a6f41-202">В операционных системах, предшествующих Windows Vista, приложение должно использовать **strcmp** или **wcscmp**.</span><span class="sxs-lookup"><span data-stu-id="a6f41-202">On pre-Windows Vista operating systems, the application should use **strcmp** or **wcscmp**.</span></span>

<span data-ttu-id="a6f41-203">Некоторые кодовые точки, такие как 0xFFFF и 0x058b, в настоящее время не назначаются в Юникоде.</span><span class="sxs-lookup"><span data-stu-id="a6f41-203">Some code points, such as 0xFFFF and 0x058b, are currently not assigned in Unicode.</span></span> <span data-ttu-id="a6f41-204">Эти кодовые точки не получают веса при сортировке и никогда не должны передаваться в функции сортировки.</span><span class="sxs-lookup"><span data-stu-id="a6f41-204">These code points do not receive any weight in sorting, and should never be passed to the sorting functions.</span></span> <span data-ttu-id="a6f41-205">Приложение должно использовать [**иснлсдефинедстринг**](/windows/desktop/api/Winnls/nf-winnls-isnlsdefinedstring) для обнаружения кодовых точек не в Юникоде в потоке данных.</span><span class="sxs-lookup"><span data-stu-id="a6f41-205">The application should use [**IsNLSDefinedString**](/windows/desktop/api/Winnls/nf-winnls-isnlsdefinedstring) to detect non-Unicode code points in a data stream.</span></span>

> [!Note]  
> <span data-ttu-id="a6f41-206">Результаты [**иснлсдефинедстринг**](/windows/desktop/api/Winnls/nf-winnls-isnlsdefinedstring) могут различаться в зависимости от версии в Юникоде, если в более поздней версии символ добавляется в Юникод, а затем добавляется в таблицы сортировки Windows.</span><span class="sxs-lookup"><span data-stu-id="a6f41-206">Results of [**IsNLSDefinedString**](/windows/desktop/api/Winnls/nf-winnls-isnlsdefinedstring) might vary depending on the Unicode version passed if a character is added to Unicode in a later version and it is subsequently added to the Windows sorting tables.</span></span> <span data-ttu-id="a6f41-207">Дополнительные сведения см. в статье [Использование управления версиями для сортировки](#use-sort-versioning).</span><span class="sxs-lookup"><span data-stu-id="a6f41-207">For more information, see [Use Sort Versioning](#use-sort-versioning).</span></span>

 

## <a name="sort-digits-as-numbers"></a><span data-ttu-id="a6f41-208">Сортировка цифр как чисел</span><span class="sxs-lookup"><span data-stu-id="a6f41-208">Sort Digits as Numbers</span></span>

<span data-ttu-id="a6f41-209">В Windows 7 и более поздних версиях приложение может вызывать [**CompareString**](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw), [**компарестринжекс**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringex), [**LCMapString завершилось ошибкой**](/windows/desktop/api/Winnls/nf-winnls-lcmapstringa)или [**лкмапстринжекс**](/windows/desktop/api/Winnls/nf-winnls-lcmapstringex) с помощью \_ флага Sort дигитсаснумберс.</span><span class="sxs-lookup"><span data-stu-id="a6f41-209">On Windows 7 and later, the application can call [**CompareString**](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw), [**CompareStringEx**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringex), [**LCMapString**](/windows/desktop/api/Winnls/nf-winnls-lcmapstringa), or [**LCMapStringEx**](/windows/desktop/api/Winnls/nf-winnls-lcmapstringex) using the SORT\_DIGITSASNUMBERS flag.</span></span> <span data-ttu-id="a6f41-210">Этот флаг поддерживает сортировку, которая обрабатывает цифры как цифры, например сортировку "2" перед "10".</span><span class="sxs-lookup"><span data-stu-id="a6f41-210">This flag supports sorting that treats digits as numbers, for example, sorting of "2" before "10".</span></span>

<span data-ttu-id="a6f41-211">Обратите внимание, что использование этого флага не подходит для шестнадцатеричных цифр, как показано ниже.</span><span class="sxs-lookup"><span data-stu-id="a6f41-211">Note that the use of this flag is not appropriate for hexadecimal digits such as the following.</span></span> <dl> <span data-ttu-id="a6f41-212">01AF</span><span class="sxs-lookup"><span data-stu-id="a6f41-212">01AF</span></span>  
<span data-ttu-id="a6f41-213">1BCD</span><span class="sxs-lookup"><span data-stu-id="a6f41-213">1BCD</span></span>  
<span data-ttu-id="a6f41-214">002A</span><span class="sxs-lookup"><span data-stu-id="a6f41-214">002A</span></span>  
<span data-ttu-id="a6f41-215">12FA</span><span class="sxs-lookup"><span data-stu-id="a6f41-215">12FA</span></span>  
<span data-ttu-id="a6f41-216">AB1C</span><span class="sxs-lookup"><span data-stu-id="a6f41-216">AB1C</span></span>  
<span data-ttu-id="a6f41-217">AB02</span><span class="sxs-lookup"><span data-stu-id="a6f41-217">AB02</span></span>  
<span data-ttu-id="a6f41-218">AB12</span><span class="sxs-lookup"><span data-stu-id="a6f41-218">AB12</span></span>  
</dl>

<span data-ttu-id="a6f41-219">В этом случае "числа" сортируются по порядку, но пользователь воспринимает неправильный отсортированный шестнадцатеричный список.</span><span class="sxs-lookup"><span data-stu-id="a6f41-219">In this case the "numbers" are sorted in order, but the user perceives a poorly sorted hexadecimal list.</span></span>

## <a name="map-strings"></a><span data-ttu-id="a6f41-220">Строки отображения</span><span class="sxs-lookup"><span data-stu-id="a6f41-220">Map Strings</span></span>

<span data-ttu-id="a6f41-221">Приложение использует функцию [**LCMapString завершилось ошибкой**](/windows/desktop/api/Winnls/nf-winnls-lcmapstringa) или [**лкмапстринжекс**](/windows/desktop/api/Winnls/nf-winnls-lcmapstringex) для отображения строк, если \_ не указан лкмап SORTKEY.</span><span class="sxs-lookup"><span data-stu-id="a6f41-221">The application uses the [**LCMapString**](/windows/desktop/api/Winnls/nf-winnls-lcmapstringa) or [**LCMapStringEx**](/windows/desktop/api/Winnls/nf-winnls-lcmapstringex) function to map strings, if LCMAP\_SORTKEY is not specified.</span></span> <span data-ttu-id="a6f41-222">Сопоставленная строка завершается нулем, если исходная строка завершается нулем.</span><span class="sxs-lookup"><span data-stu-id="a6f41-222">A mapped string is null-terminated if the source string is null-terminated.</span></span>

<span data-ttu-id="a6f41-223">При преобразовании между прописными и строчными буквами функция не гарантирует, что один символ будет сопоставляться с одним символом.</span><span class="sxs-lookup"><span data-stu-id="a6f41-223">When transforming between uppercase and lowercase, the function does not guarantee that a single character will map to a single character.</span></span> <span data-ttu-id="a6f41-224">Например, \_ Флаги лкмап нижнего регистра и лкмап в \_ верхнем регистре могут сопоставлять немецкий диез S (",") с самим собой.</span><span class="sxs-lookup"><span data-stu-id="a6f41-224">For example, the LCMAP\_LOWERCASE and LCMAP\_UPPERCASE flags may map the German Sharp S ("ß") to itself.</span></span> <span data-ttu-id="a6f41-225">Кроме того, флаг ЛКМАП в \_ верхнем регистре может сопоставлять ««?» с «SS», а флаг лкмап в \_ нижнем регистре может СОПОСТАВЛЯТЬ «SS» с ««?».</span><span class="sxs-lookup"><span data-stu-id="a6f41-225">Alternatively, the LCMAP\_UPPERCASE flag may map "ß" to "SS" and the LCMAP\_LOWERCASE flag may map "SS" to "ß".</span></span> <span data-ttu-id="a6f41-226">Поведение зависит от версии NLS.</span><span class="sxs-lookup"><span data-stu-id="a6f41-226">The behavior depends on the NLS version.</span></span>

<span data-ttu-id="a6f41-227">При преобразовании между прописными и строчными буквами функция не чувствительна к контексту.</span><span class="sxs-lookup"><span data-stu-id="a6f41-227">When transforming between uppercase and lowercase, the function is not sensitive to context.</span></span> <span data-ttu-id="a6f41-228">Например, хотя флаг ЛКМАП в \_ верхнем регистре правильно сопоставляет греческую строчную Сигма ("σ") и греческую строчную букву Сигма ("ς") до греческого прописного Сигма ("σ"), флаг лкмап в \_ нижнем регистре всегда сопоставляет "σ" с "σ", никогда — "ς".</span><span class="sxs-lookup"><span data-stu-id="a6f41-228">For example, while the LCMAP\_UPPERCASE flag correctly maps both Greek lowercase sigma ("σ") and Greek lowercase final sigma ("ς") to Greek uppercase sigma ("Σ"), the LCMAP\_LOWERCASE flag always maps "Σ" to "σ", never to "ς".</span></span>

<span data-ttu-id="a6f41-229">По умолчанию функция сопоставляет строчную букву i с прописной буквой I, даже если параметр *locale* указывает Турецкий или азербайджанский.</span><span class="sxs-lookup"><span data-stu-id="a6f41-229">By default, the function maps the lowercase "i" to the uppercase "I", even when the *Locale* parameter specifies Turkish or Azerbaijani.</span></span> <span data-ttu-id="a6f41-230">Чтобы переопределить это поведение для турецкого или азербайджанский, приложение должно указать ЛКМАП \_ лингвистический \_ регистр.</span><span class="sxs-lookup"><span data-stu-id="a6f41-230">To override this behavior for Turkish or Azerbaijani, the application should specify LCMAP\_LINGUISTIC\_CASING.</span></span> <span data-ttu-id="a6f41-231">Если этот флаг указан с соответствующим языковым стандартом, "ı" (строчная буква I) является формой "I" в нижнем регистре "I" (прописная буква I), а "i" (с точками в нижнем регистре) является формой "i" в верхнем регистре.</span><span class="sxs-lookup"><span data-stu-id="a6f41-231">If this flag is specified with the appropriate locale, "ı" (lowercase dotless I) is the lowercase form of "I" (uppercase dotless I) and "i" (lowercase dotted I) is the lowercase form of "İ" (uppercase dotted I).</span></span>

<span data-ttu-id="a6f41-232">Если \_ задан флаг лкмап хирагана для сопоставления символов катакана с хирагана-символами, а ширина лкмап \_ не задана, [**LCMapString завершилось ошибкой**](/windows/desktop/api/Winnls/nf-winnls-lcmapstringa) или [**лкмапстринжекс**](/windows/desktop/api/Winnls/nf-winnls-lcmapstringex) сопоставляет символы полной ширины с хирагана.</span><span class="sxs-lookup"><span data-stu-id="a6f41-232">If the LCMAP\_HIRAGANA flag is specified to map katakana characters to hiragana characters, and LCMAP\_FULLWIDTH is not specified, [**LCMapString**](/windows/desktop/api/Winnls/nf-winnls-lcmapstringa) or [**LCMapStringEx**](/windows/desktop/api/Winnls/nf-winnls-lcmapstringex) only maps full-width characters to hiragana.</span></span> <span data-ttu-id="a6f41-233">В этом случае все символы катакана половинной ширины помещаются в строку назначения, без сопоставления с хирагана.</span><span class="sxs-lookup"><span data-stu-id="a6f41-233">In this case, any half-width katakana characters are placed as in the destination string, with no mapping to hiragana.</span></span> <span data-ttu-id="a6f41-234">Приложение должно указать ЛКМАПную \_ ширину, чтобы сопоставлять символы катакана половинной ширины с хирагана.</span><span class="sxs-lookup"><span data-stu-id="a6f41-234">The application must specify LCMAP\_FULLWIDTH to map half-width katakana characters to hiragana.</span></span> <span data-ttu-id="a6f41-235">Причина этого ограничения состоит в том, что все символы хирагана имеют полноширинные символы.</span><span class="sxs-lookup"><span data-stu-id="a6f41-235">The reason for this restriction is that all hiragana characters are full-width characters.</span></span>

<span data-ttu-id="a6f41-236">Если приложению необходимо удалить символы из исходной строки, оно может вызвать функцию сопоставления с \_ \_ установленными флагами нормы ИГНОРЕСИМБОЛС и нормы игноренонспаце, а все остальные флаги сняты.</span><span class="sxs-lookup"><span data-stu-id="a6f41-236">If the application needs to strip characters from the source string, it can call the mapping function with the NORM\_IGNORESYMBOLS and NORM\_IGNORENONSPACE flags set, and all other flags cleared.</span></span> <span data-ttu-id="a6f41-237">Если приложение делает это с исходной строкой, которая не завершается нулем, функция может вернуть пустую строку и не будет возвращать ошибку.</span><span class="sxs-lookup"><span data-stu-id="a6f41-237">If the application does this with a source string that is not null-terminated, it is possible for the function to return an empty string and not return an error.</span></span>

## <a name="create-sort-keys"></a><span data-ttu-id="a6f41-238">Создание ключей сортировки</span><span class="sxs-lookup"><span data-stu-id="a6f41-238">Create Sort Keys</span></span>

<span data-ttu-id="a6f41-239">Когда приложение указывает ЛКМАП \_ SORTKEY, [**LCMapString завершилось ошибкой**](/windows/desktop/api/Winnls/nf-winnls-lcmapstringa) или [**лкмапстринжекс**](/windows/desktop/api/Winnls/nf-winnls-lcmapstringex) создает ключ сортировки, двоичный массив байтовых значений.</span><span class="sxs-lookup"><span data-stu-id="a6f41-239">When the application specifies LCMAP\_SORTKEY, [**LCMapString**](/windows/desktop/api/Winnls/nf-winnls-lcmapstringa) or [**LCMapStringEx**](/windows/desktop/api/Winnls/nf-winnls-lcmapstringex) generates a sort key, a binary array of byte values.</span></span> <span data-ttu-id="a6f41-240">Ключ сортировки не является истинной строкой, и ее значения представляют поведение сортировки исходной строки, но не являются осмысленными отображаемыми значениями.</span><span class="sxs-lookup"><span data-stu-id="a6f41-240">The sort key is not a true string and its values represent the sorting behavior of the source string, but are not meaningful display values.</span></span>

> [!Note]  
> <span data-ttu-id="a6f41-241">Функция игнорирует арабскую кашиды во время создания ключа сортировки.</span><span class="sxs-lookup"><span data-stu-id="a6f41-241">The function ignores the Arabic kashida during generation of a sort key.</span></span> <span data-ttu-id="a6f41-242">Если приложение вызывает функцию для создания ключа сортировки для строки, содержащей арабскую кашиды, функция не создает значение ключа сортировки.</span><span class="sxs-lookup"><span data-stu-id="a6f41-242">If an application calls the function to create a sort key for a string containing an Arabic kashida, the function creates no sort key value.</span></span>

 

<span data-ttu-id="a6f41-243">Ключ сортировки может содержать нечетное число байтов.</span><span class="sxs-lookup"><span data-stu-id="a6f41-243">The sort key can contain an odd number of bytes.</span></span> <span data-ttu-id="a6f41-244">Флаг ЛКМАП \_ битерев только меняет число байтов на противоположное.</span><span class="sxs-lookup"><span data-stu-id="a6f41-244">The LCMAP\_BYTEREV flag only reverses an even number of bytes.</span></span> <span data-ttu-id="a6f41-245">Последний байт (с нечетным положением) в ключе сортировки не является обратным.</span><span class="sxs-lookup"><span data-stu-id="a6f41-245">The last byte (odd-positioned) in the sort key is not reversed.</span></span> <span data-ttu-id="a6f41-246">Если завершающий байт 0x00 является байтовым байтом с нечетным положением, он остается последним байтом в ключе сортировки.</span><span class="sxs-lookup"><span data-stu-id="a6f41-246">If the terminating 0x00 byte is an odd-positioned byte, it remains the last byte in the sort key.</span></span> <span data-ttu-id="a6f41-247">Если конечный байт 0x00 является равномерно позиционированным байтом, он обменивается позициями с предшествующим байтом.</span><span class="sxs-lookup"><span data-stu-id="a6f41-247">If the terminating 0x00 byte is an even-positioned byte, it exchanges positions with the byte that precedes it.</span></span>

<span data-ttu-id="a6f41-248">При формировании ключа сортировки функция рассматривает дефис и апостроф иначе, чем другие символы пунктуации, поэтому такие слова, как «Coop» и «Co-op», останутся в списке.</span><span class="sxs-lookup"><span data-stu-id="a6f41-248">When generating the sort key, the function treats the hyphen and apostrophe differently from other punctuation symbols, so that words such as "coop" and "co-op" stay together in a list.</span></span> <span data-ttu-id="a6f41-249">Все символы пунктуации, отличные от дефиса и апострофа, сортируются до буквенно-цифровых символов.</span><span class="sxs-lookup"><span data-stu-id="a6f41-249">All punctuation symbols other than the hyphen and apostrophe sort before alphanumeric characters.</span></span> <span data-ttu-id="a6f41-250">Приложение может изменить это поведение, установив \_ флаг Sort стрингсорт, как описано в разделе [функции сортировки](#sorting-functions).</span><span class="sxs-lookup"><span data-stu-id="a6f41-250">The application can change this behavior by setting the SORT\_STRINGSORT flag, as described in [Sorting Functions](#sorting-functions).</span></span>

<span data-ttu-id="a6f41-251">При использовании в [memcmp](/cpp/c-runtime-library/reference/memcmp-wmemcmp)ключ сортировки дает тот же порядок, что и при использовании исходной строки в [**CompareString**](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw) или [**компарестринжекс**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringex).</span><span class="sxs-lookup"><span data-stu-id="a6f41-251">When used in [memcmp](/cpp/c-runtime-library/reference/memcmp-wmemcmp), the sort key produces the same order as when the source string is used in [**CompareString**](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw) or [**CompareStringEx**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringex).</span></span> <span data-ttu-id="a6f41-252">Функция [memcmp](/cpp/c-runtime-library/reference/memcmp-wmemcmp) должна использоваться вместо [strcmp](/cpp/c-runtime-library/reference/strcmp-wcscmp-mbscmp), так как ключ сортировки может иметь внедренные значения NULL.</span><span class="sxs-lookup"><span data-stu-id="a6f41-252">The [memcmp](/cpp/c-runtime-library/reference/memcmp-wmemcmp) function should be used instead of [strcmp](/cpp/c-runtime-library/reference/strcmp-wcscmp-mbscmp), because the sort key can have embedded null bytes.</span></span>

## <a name="use-sort-versioning"></a><span data-ttu-id="a6f41-253">Использовать сортировку версий</span><span class="sxs-lookup"><span data-stu-id="a6f41-253">Use Sort Versioning</span></span>

<span data-ttu-id="a6f41-254">Таблица [сортировки](sorting.md) имеет два числа, которые определяют ее версию: определенную версию и версию NLS.</span><span class="sxs-lookup"><span data-stu-id="a6f41-254">A [sorting](sorting.md) table has two numbers that identify its version: the defined version and the NLS version.</span></span> <span data-ttu-id="a6f41-255">Оба числа являются значениями типа DWORD, состоящими из основного значения и незначительного значения.</span><span class="sxs-lookup"><span data-stu-id="a6f41-255">Both numbers are DWORD values, composed of a major value and a minor value.</span></span> <span data-ttu-id="a6f41-256">Первый байт значения зарезервирован, два следующих байта представляют основной номер версии, а последний байт представляет дополнительный номер версии.</span><span class="sxs-lookup"><span data-stu-id="a6f41-256">The first byte of a value is reserved, the next two bytes represent the major version, and the last byte represents the minor version.</span></span> <span data-ttu-id="a6f41-257">В шестнадцатеричных терминах используется шаблон 0xRRMMMMmm, где R равно reserved, M равно Major, а m равно Minor.</span><span class="sxs-lookup"><span data-stu-id="a6f41-257">In hexadecimal terms, the pattern is 0xRRMMMMmm, where R equals Reserved, M equals major, and m equals minor.</span></span> <span data-ttu-id="a6f41-258">Например, основная версия 3 с дополнительной версией 4 представлена как 0x304.</span><span class="sxs-lookup"><span data-stu-id="a6f41-258">For example, a major version of 3 with a minor version of 4 is represented as 0x304.</span></span>

<span data-ttu-id="a6f41-259">Определенная версия определяет поработать кодовых точек и одинакова для всех языков.</span><span class="sxs-lookup"><span data-stu-id="a6f41-259">The defined version identifies the repertoire of code points and is the same for all locales.</span></span> <span data-ttu-id="a6f41-260">Основной номер версии указывает на изменения существующих кодовых позиций.</span><span class="sxs-lookup"><span data-stu-id="a6f41-260">The major version increments to indicate changes to existing code points.</span></span> <span data-ttu-id="a6f41-261">Дополнительный номер версии указывает, что были добавлены кодовые точки, но ранее не были изменены никакие из существующих кодовых точек.</span><span class="sxs-lookup"><span data-stu-id="a6f41-261">The minor version increments to indicate that code points have been added, but that no previously existing code points have been changed.</span></span>

<span data-ttu-id="a6f41-262">Версия NLS зависит от [идентификатора локали](locale-identifiers.md) или [имени локали](locale-names.md)и отслеживает изменения веса кодовых точек для затронутого языкового стандарта.</span><span class="sxs-lookup"><span data-stu-id="a6f41-262">The NLS version is specific to a [locale identifier](locale-identifiers.md) or [locale name](locale-names.md), and tracks changes to code point weights for the affected locale.</span></span> <span data-ttu-id="a6f41-263">Основная версия увеличивается при изменении весовых коэффициентов для кодовых точек, которые уже были отсортированы.</span><span class="sxs-lookup"><span data-stu-id="a6f41-263">The major version increments when weights are changed for code points that were already sortable.</span></span> <span data-ttu-id="a6f41-264">Дополнительный номер версии увеличивается при назначении новых кодовых точек весовым коэффициентам, но все остальные ранее весовые коэффициенты кодовых точек остаются без изменений.</span><span class="sxs-lookup"><span data-stu-id="a6f41-264">The minor version increments when new code points are assigned weights, but all other previously sortable code point weights remain unchanged.</span></span>

> [!Note]  
> <span data-ttu-id="a6f41-265">Для основной версии одна или несколько кодовых точек изменяются, поэтому приложению необходимо повторно индексировать все данные, чтобы они были допустимыми.</span><span class="sxs-lookup"><span data-stu-id="a6f41-265">For a major version, one or more code points are changed so that the application must re-index all data for comparisons to be valid.</span></span> <span data-ttu-id="a6f41-266">Для дополнительной версии ничего не перемещается, но добавляются кодовые точки.</span><span class="sxs-lookup"><span data-stu-id="a6f41-266">For a minor version, nothing is moved but code points are added.</span></span> <span data-ttu-id="a6f41-267">Для этого типа версии приложению необходимо только повторно индексировать строки с ранее несортированными значениями.</span><span class="sxs-lookup"><span data-stu-id="a6f41-267">For this type of version, the application only has to re-index strings with previously unsortable values.</span></span>

 

> [!IMPORTANT]
> <span data-ttu-id="a6f41-268">Основная версия была изменена в Windows 8.</span><span class="sxs-lookup"><span data-stu-id="a6f41-268">The major version has been changed in Windows 8.</span></span> <span data-ttu-id="a6f41-269">Данные, созданные в более ранних версиях Windows, необходимо повторно индексировать.</span><span class="sxs-lookup"><span data-stu-id="a6f41-269">Data created under earlier versions of Windows must be re-indexed.</span></span>

 

<span data-ttu-id="a6f41-270">Как определенные, так и версии NLS применяются к отбираемым кодовым точкам, полученным с помощью функции [**LCMapString завершилось ошибкой**](/windows/desktop/api/Winnls/nf-winnls-lcmapstringa) или [**лкмапстринжекс**](/windows/desktop/api/Winnls/nf-winnls-lcmapstringex) \_ , с флагом лкмап SORTKEY, а также с использованием функций [**CompareString**](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw), [**компарестринжекс**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringex), [**финднлсстринг**](/windows/desktop/api/Winnls/nf-winnls-findnlsstring)и [**финднлсстринжекс**](/windows/desktop/api/Winnls/nf-winnls-findnlsstringex) .</span><span class="sxs-lookup"><span data-stu-id="a6f41-270">Both the defined and NLS versions apply to sortable code points retrieved using the [**LCMapString**](/windows/desktop/api/Winnls/nf-winnls-lcmapstringa) or [**LCMapStringEx**](/windows/desktop/api/Winnls/nf-winnls-lcmapstringex) function with the LCMAP\_SORTKEY flag, and also used by the [**CompareString**](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw), [**CompareStringEx**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringex), [**FindNLSString**](/windows/desktop/api/Winnls/nf-winnls-findnlsstring), and [**FindNLSStringEx**](/windows/desktop/api/Winnls/nf-winnls-findnlsstringex) functions.</span></span> <span data-ttu-id="a6f41-271">Если одна или несколько кодовых точек в строке не поддерживают сортировку, функция [**иснлсдефинедстринг**](/windows/desktop/api/Winnls/nf-winnls-isnlsdefinedstring) возвращает **значение false** , если эта строка передается в качестве параметра.</span><span class="sxs-lookup"><span data-stu-id="a6f41-271">If one or more code points in a string are unsortable, then the [**IsNLSDefinedString**](/windows/desktop/api/Winnls/nf-winnls-isnlsdefinedstring) function returns **FALSE** when that string is passed to it as a parameter.</span></span>

<span data-ttu-id="a6f41-272">Приложение может вызывать либо [**жетнлсверсион**](/windows/desktop/api/Winnls/nf-winnls-getnlsversion) , либо [**жетнлсверсионекс**](/windows/desktop/api/Winnls/nf-winnls-getnlsversionex) , чтобы получить определенную версию и версию NLS для таблицы сортировки.</span><span class="sxs-lookup"><span data-stu-id="a6f41-272">The application can call either [**GetNLSVersion**](/windows/desktop/api/Winnls/nf-winnls-getnlsversion) or [**GetNLSVersionEx**](/windows/desktop/api/Winnls/nf-winnls-getnlsversionex) to retrieve both the defined version and the NLS version for a sorting table.</span></span>

## <a name="index-the-database"></a><span data-ttu-id="a6f41-273">Индексирование базы данных</span><span class="sxs-lookup"><span data-stu-id="a6f41-273">Index the Database</span></span>

<span data-ttu-id="a6f41-274">По соображениям производительности при индексировании базы данных приложение должно следовать этой процедуре.</span><span class="sxs-lookup"><span data-stu-id="a6f41-274">For performance reasons, the application should follow this procedure when indexing the database.</span></span>

<span data-ttu-id="a6f41-275">**Правильная индексация базы данных**</span><span class="sxs-lookup"><span data-stu-id="a6f41-275">**To properly index the database**</span></span>

1.  <span data-ttu-id="a6f41-276">Для каждой функции сохраните версию NLS, ключи сортировки этой версии и сведения о сортировке для каждой индексированной строки.</span><span class="sxs-lookup"><span data-stu-id="a6f41-276">For each function, store the NLS version, the sort keys of that version, and an indication of sortability for each indexed string.</span></span>
2.  <span data-ttu-id="a6f41-277">При увеличении дополнительного номера версии повторно индексировать ранее несортированные строки.</span><span class="sxs-lookup"><span data-stu-id="a6f41-277">When the minor version increments, re-index previously unsortable strings.</span></span> <span data-ttu-id="a6f41-278">Строки, затрагиваемые этим обновлением, должны быть ограничены теми, для которых [**иснлсдефинедстринг**](/windows/desktop/api/Winnls/nf-winnls-isnlsdefinedstring) ранее возвращал **значение false**.</span><span class="sxs-lookup"><span data-stu-id="a6f41-278">The strings affected in this update should be confined to the ones for which [**IsNLSDefinedString**](/windows/desktop/api/Winnls/nf-winnls-isnlsdefinedstring) has previously returned **FALSE**.</span></span>
3.  <span data-ttu-id="a6f41-279">Когда основной номер версии увеличивается, повторно индексирует все строки, так как обновленные весовые коэффициенты могут изменить поведение любой строки.</span><span class="sxs-lookup"><span data-stu-id="a6f41-279">When the major version increments, re-index all strings because the updated weights might change the behavior of any string.</span></span> <span data-ttu-id="a6f41-280">Основные выпуски версий очень редки.</span><span class="sxs-lookup"><span data-stu-id="a6f41-280">Major version releases are very infrequent.</span></span>

<span data-ttu-id="a6f41-281">Проблемы с индексацией базы данных могут возникнуть по следующим причинам.</span><span class="sxs-lookup"><span data-stu-id="a6f41-281">Database indexing problems can arise for the following reasons:</span></span>

-   <span data-ttu-id="a6f41-282">Более поздняя операционная система может определить кодовые точки, не определенные для более ранней операционной системы, тем самым изменяя сортировку.</span><span class="sxs-lookup"><span data-stu-id="a6f41-282">A later operating system can define code points that are undefined for an earlier operating system, thus changing the sort.</span></span>
-   <span data-ttu-id="a6f41-283">Кодовые точки могут иметь разные веса сортировки в разных операционных системах из-за исправлений в языковой поддержке.</span><span class="sxs-lookup"><span data-stu-id="a6f41-283">Code points can have different sorting weights in different operating systems, due to corrections in language support.</span></span>

<span data-ttu-id="a6f41-284">Чтобы сократить необходимость повторного индексирования базы данных в этих обстоятельствах, приложение может использовать [**иснлсдефинедстринг**](/windows/desktop/api/Winnls/nf-winnls-isnlsdefinedstring) , чтобы отличать определенные от неопределенных строк, чтобы приложение могла отклонять строки с неопределенными кодовыми точками.</span><span class="sxs-lookup"><span data-stu-id="a6f41-284">To minimize the necessity to re-index the database in these circumstances, the application can use [**IsNLSDefinedString**](/windows/desktop/api/Winnls/nf-winnls-isnlsdefinedstring) to differentiate defined from undefined strings so that the application can reject strings with undefined code points.</span></span> <span data-ttu-id="a6f41-285">Использование [**жетнлсверсион**](/windows/desktop/api/Winnls/nf-winnls-getnlsversion) или [**жетнлсверсионекс**](/windows/desktop/api/Winnls/nf-winnls-getnlsversionex) позволяет приложению определить, влияет ли изменение NLS на языковой стандарт, используемый для конкретной таблицы индексов.</span><span class="sxs-lookup"><span data-stu-id="a6f41-285">Use of [**GetNLSVersion**](/windows/desktop/api/Winnls/nf-winnls-getnlsversion) or [**GetNLSVersionEx**](/windows/desktop/api/Winnls/nf-winnls-getnlsversionex) allows the application to determine if an NLS change affects the locale used for a particular index table.</span></span> <span data-ttu-id="a6f41-286">Если изменение не влияет на языковой стандарт, приложению не нужно повторно индексировать таблицу.</span><span class="sxs-lookup"><span data-stu-id="a6f41-286">If the change has no effect on the locale, the application has no need to re-index the table.</span></span>

## <a name="examples"></a><span data-ttu-id="a6f41-287">Примеры</span><span class="sxs-lookup"><span data-stu-id="a6f41-287">Examples</span></span>

<span data-ttu-id="a6f41-288">В следующей таблице показаны эффекты некоторых флагов, используемых в функциях сортировки.</span><span class="sxs-lookup"><span data-stu-id="a6f41-288">The following table illustrates the effects of certain flags used with the sorting functions.</span></span> <span data-ttu-id="a6f41-289">В каждом случае выбор флагов определяет, считаются ли два разных символа равными для целей сортировки.</span><span class="sxs-lookup"><span data-stu-id="a6f41-289">In each case, the selection of flags determines whether two different characters are considered equal for sorting purposes.</span></span>



| <span data-ttu-id="a6f41-290">Символ 1</span><span class="sxs-lookup"><span data-stu-id="a6f41-290">Character 1</span></span>                                                        | <span data-ttu-id="a6f41-291">Символ 2</span><span class="sxs-lookup"><span data-stu-id="a6f41-291">Character 2</span></span>                                             | <span data-ttu-id="a6f41-292">Значение по умолчанию</span><span class="sxs-lookup"><span data-stu-id="a6f41-292">Default</span></span> | <span data-ttu-id="a6f41-293">НОРМа \_ игноревидс</span><span class="sxs-lookup"><span data-stu-id="a6f41-293">NORM\_IGNOREWIDTH</span></span> | <span data-ttu-id="a6f41-294">НОРМа \_ игнорекана</span><span class="sxs-lookup"><span data-stu-id="a6f41-294">NORM\_IGNOREKANA</span></span> | <span data-ttu-id="a6f41-295">НОРМа \_ игноревидс </span><span class="sxs-lookup"><span data-stu-id="a6f41-295">NORM\_IGNOREWIDTH</span></span>\| <span data-ttu-id="a6f41-296">нормигнорекана</span><span class="sxs-lookup"><span data-stu-id="a6f41-296">NORMIGNOREKANA</span></span> |
|--------------------------------------------------------------------|---------------------------------------------------------|---------|-------------------|------------------|------------------------------------|
| <span data-ttu-id="a6f41-297">"あ"</span><span class="sxs-lookup"><span data-stu-id="a6f41-297">"あ"</span></span><br/> <span data-ttu-id="a6f41-298">U + 3042 БУКВА ХИРАГАНА</span><span class="sxs-lookup"><span data-stu-id="a6f41-298">U+3042 HIRAGANA LETTER A</span></span><br/>                | <span data-ttu-id="a6f41-299">"ガ"</span><span class="sxs-lookup"><span data-stu-id="a6f41-299">"ガ"</span></span><br/> <span data-ttu-id="a6f41-300">U + 30A2 БУКВА КАТАКАНА A</span><span class="sxs-lookup"><span data-stu-id="a6f41-300">U+30A2 KATAKANA LETTER A</span></span><br/>     | <span data-ttu-id="a6f41-301">Равны</span><span class="sxs-lookup"><span data-stu-id="a6f41-301">Unequal</span></span> | <span data-ttu-id="a6f41-302">Равны</span><span class="sxs-lookup"><span data-stu-id="a6f41-302">Unequal</span></span>           | <span data-ttu-id="a6f41-303">Равно</span><span class="sxs-lookup"><span data-stu-id="a6f41-303">Equal</span></span>            | <span data-ttu-id="a6f41-304">Равно</span><span class="sxs-lookup"><span data-stu-id="a6f41-304">Equal</span></span>                              |
| <span data-ttu-id="a6f41-305">"オ"</span><span class="sxs-lookup"><span data-stu-id="a6f41-305">"ｵ"</span></span><br/> <span data-ttu-id="a6f41-306">FF75 БУКВА КАТАКАНА U + A</span><span class="sxs-lookup"><span data-stu-id="a6f41-306">U+FF75 HALFWIDTH KATAKANA LETTER O</span></span><br/>       | <span data-ttu-id="a6f41-307">"オ"</span><span class="sxs-lookup"><span data-stu-id="a6f41-307">"オ"</span></span><br/> <span data-ttu-id="a6f41-308">U + 30AA, КАТАКАНА, БУКВА O</span><span class="sxs-lookup"><span data-stu-id="a6f41-308">U+30AA KATAKANA LETTER O</span></span><br/>     | <span data-ttu-id="a6f41-309">Равны</span><span class="sxs-lookup"><span data-stu-id="a6f41-309">Unequal</span></span> | <span data-ttu-id="a6f41-310">Равно</span><span class="sxs-lookup"><span data-stu-id="a6f41-310">Equal</span></span>             | <span data-ttu-id="a6f41-311">Равны</span><span class="sxs-lookup"><span data-stu-id="a6f41-311">Unequal</span></span>          | <span data-ttu-id="a6f41-312">Равно</span><span class="sxs-lookup"><span data-stu-id="a6f41-312">Equal</span></span>                              |
| <span data-ttu-id="a6f41-313">&</span><span class="sxs-lookup"><span data-stu-id="a6f41-313">"Ｂ"</span></span><br/> <span data-ttu-id="a6f41-314">FF22 ПРОПИСНАЯ ЛАТИНСКАЯ БУКВА B + U</span><span class="sxs-lookup"><span data-stu-id="a6f41-314">U+FF22 FULLWIDTH LATIN CAPITAL LETTER B</span></span><br/> | <span data-ttu-id="a6f41-315">"B"</span><span class="sxs-lookup"><span data-stu-id="a6f41-315">"B"</span></span><br/> <span data-ttu-id="a6f41-316">U + 0042 ЛАТИНСКАЯ ПРОПИСНАЯ БУКВА B</span><span class="sxs-lookup"><span data-stu-id="a6f41-316">U+0042 LATIN CAPITAL LETTER B</span></span><br/> | <span data-ttu-id="a6f41-317">Равны</span><span class="sxs-lookup"><span data-stu-id="a6f41-317">Unequal</span></span> | <span data-ttu-id="a6f41-318">Равно</span><span class="sxs-lookup"><span data-stu-id="a6f41-318">Equal</span></span>             | <span data-ttu-id="a6f41-319">Равны</span><span class="sxs-lookup"><span data-stu-id="a6f41-319">Unequal</span></span>          | <span data-ttu-id="a6f41-320">Равно</span><span class="sxs-lookup"><span data-stu-id="a6f41-320">Equal</span></span>                              |



 

## <a name="related-topics"></a><span data-ttu-id="a6f41-321">См. также</span><span class="sxs-lookup"><span data-stu-id="a6f41-321">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="a6f41-322">Поддержка национальных языков</span><span class="sxs-lookup"><span data-stu-id="a6f41-322">Using National Language Support</span></span>](using-national-language-support.md)
</dt> <dt>

[<span data-ttu-id="a6f41-323">Сортировка</span><span class="sxs-lookup"><span data-stu-id="a6f41-323">Sorting</span></span>](sorting.md)
</dt> <dt>

[<span data-ttu-id="a6f41-324">Извлечение и установка сведений о языковых стандартах</span><span class="sxs-lookup"><span data-stu-id="a6f41-324">Retrieving and Setting Locale Information</span></span>](retrieving-and-setting-locale-information.md)
</dt> <dt>

[<span data-ttu-id="a6f41-325">Использование нормализации Юникода для представления строк</span><span class="sxs-lookup"><span data-stu-id="a6f41-325">Using Unicode Normalization to Represent Strings</span></span>](using-unicode-normalization-to-represent-strings.md)
</dt> <dt>

[<span data-ttu-id="a6f41-326">Вопросы безопасности: международные функции</span><span class="sxs-lookup"><span data-stu-id="a6f41-326">Security Considerations: International Features</span></span>](security-considerations--international-features.md)
</dt> <dt>

[<span data-ttu-id="a6f41-327">**CompareString**</span><span class="sxs-lookup"><span data-stu-id="a6f41-327">**CompareString**</span></span>](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw)
</dt> <dt>

[<span data-ttu-id="a6f41-328">**компарестринжекс**</span><span class="sxs-lookup"><span data-stu-id="a6f41-328">**CompareStringEx**</span></span>](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringex)
</dt> <dt>

[<span data-ttu-id="a6f41-329">**CompareStringOrdinal**</span><span class="sxs-lookup"><span data-stu-id="a6f41-329">**CompareStringOrdinal**</span></span>](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringordinal)
</dt> <dt>

[<span data-ttu-id="a6f41-330">**финднлсстринг**</span><span class="sxs-lookup"><span data-stu-id="a6f41-330">**FindNLSString**</span></span>](/windows/desktop/api/Winnls/nf-winnls-findnlsstring)
</dt> <dt>

[<span data-ttu-id="a6f41-331">**финднлсстринжекс**</span><span class="sxs-lookup"><span data-stu-id="a6f41-331">**FindNLSStringEx**</span></span>](/windows/desktop/api/Winnls/nf-winnls-findnlsstringex)
</dt> <dt>

[<span data-ttu-id="a6f41-332">**LCMapString завершилось ошибкой**</span><span class="sxs-lookup"><span data-stu-id="a6f41-332">**LCMapString**</span></span>](/windows/desktop/api/Winnls/nf-winnls-lcmapstringa)
</dt> <dt>

[<span data-ttu-id="a6f41-333">**лкмапстринжекс**</span><span class="sxs-lookup"><span data-stu-id="a6f41-333">**LCMapStringEx**</span></span>](/windows/desktop/api/Winnls/nf-winnls-lcmapstringex)
</dt> </dl>

 

 
