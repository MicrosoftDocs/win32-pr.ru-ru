---
description: MUI позволяет приложениям управлять языками пользовательского интерфейса двумя способами.
ms.assetid: ae8ab98f-dc3b-414d-85c9-6bf204c2f776
title: Управление языком пользовательского интерфейса
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 852fe20d3edb9795c2c2a9d3ec45c1e8ffe053ef
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "104424053"
---
# <a name="user-interface-language-management"></a><span data-ttu-id="4d8ad-103">Управление языком пользовательского интерфейса</span><span class="sxs-lookup"><span data-stu-id="4d8ad-103">User Interface Language Management</span></span>

<span data-ttu-id="4d8ad-104">MUI позволяет приложениям управлять языками пользовательского интерфейса двумя способами.</span><span class="sxs-lookup"><span data-stu-id="4d8ad-104">MUI allows your applications to manage user interface languages in two ways.</span></span> <span data-ttu-id="4d8ad-105">Приложение может использовать простой подход к управлению языком по умолчанию для языковых параметров операционной системы.</span><span class="sxs-lookup"><span data-stu-id="4d8ad-105">An application can use a simple approach to language management by defaulting to the operating system language settings.</span></span> <span data-ttu-id="4d8ad-106">Кроме того, приложение может поддерживать собственные языки, из которых пользователь может выбрать.</span><span class="sxs-lookup"><span data-stu-id="4d8ad-106">Alternatively, the application can support its own languages from which the user can select.</span></span> <span data-ttu-id="4d8ad-107">API многоязыкового интерфейса пользователя также позволяет приложению осуществлять прямой доступ к языкам и спискам языков, поддерживаемым операционной системой и обслуживаемым загрузчиком ресурсов.</span><span class="sxs-lookup"><span data-stu-id="4d8ad-107">The MUI API also allows your application direct access to languages and language lists supported by the operating system and maintained by the resource loader.</span></span> <span data-ttu-id="4d8ad-108">Оставшаяся часть этого раздела определяет языки, поддерживаемые системой, и механизм переключения языка.</span><span class="sxs-lookup"><span data-stu-id="4d8ad-108">The remainder of this topic defines the system-supported languages and the language fallback mechanism.</span></span>

## <a name="languages-maintained-by-the-operating-system"></a><span data-ttu-id="4d8ad-109">Языки, поддерживаемые операционной системой</span><span class="sxs-lookup"><span data-stu-id="4d8ad-109">Languages Maintained by the Operating System</span></span>

### <a name="system-default-ui-languageinstall-language"></a><span data-ttu-id="4d8ad-110">Язык интерфейса по умолчанию для системы или язык установки</span><span class="sxs-lookup"><span data-stu-id="4d8ad-110">System Default UI Language/Install Language</span></span>

<span data-ttu-id="4d8ad-111">Системный язык пользовательского интерфейса по умолчанию — это язык локализованной версии, используемой для настройки Windows.</span><span class="sxs-lookup"><span data-stu-id="4d8ad-111">The system default UI language is the language of the localized version used to set up Windows.</span></span> <span data-ttu-id="4d8ad-112">Все меню, диалоговые окна, сообщения об ошибках и файлы справки представлены на этом языке, за исключением случаев, когда пользователь выбирает другой язык.</span><span class="sxs-lookup"><span data-stu-id="4d8ad-112">All menus, dialog boxes, error messages, and help files are represented in this language, except when the user selects a different language.</span></span>

<span data-ttu-id="4d8ad-113">В Windows Vista и более поздних версиях язык пользовательского интерфейса по умолчанию системы называется «языком установки» и играет более ограниченную роль.</span><span class="sxs-lookup"><span data-stu-id="4d8ad-113">On Windows Vista and later, the system default UI language is known as the "install language" and plays a more limited role.</span></span> <span data-ttu-id="4d8ad-114">В большинстве случаев он заменяется предпочитаемыми в системе языками пользовательского интерфейса.</span><span class="sxs-lookup"><span data-stu-id="4d8ad-114">For most purposes, it is superseded by the system preferred UI languages.</span></span> <span data-ttu-id="4d8ad-115">Однако в определенных контекстах полезно иметь один язык установки, который всегда полностью поддерживается.</span><span class="sxs-lookup"><span data-stu-id="4d8ad-115">However, in certain contexts it is useful to have a single install language that is always known to be fully supported.</span></span>

<span data-ttu-id="4d8ad-116">Функция MUI недоступна для установки языка пользовательского интерфейса по умолчанию системы.</span><span class="sxs-lookup"><span data-stu-id="4d8ad-116">No MUI function is available to set the system default UI language.</span></span> <span data-ttu-id="4d8ad-117">Чтобы получить этот язык, приложение может вызвать [**жетсистемдефаултуилангуаже**](/windows/desktop/api/Winnls/nf-winnls-getsystemdefaultuilanguage).</span><span class="sxs-lookup"><span data-stu-id="4d8ad-117">To retrieve this language, the application can call [**GetSystemDefaultUILanguage**](/windows/desktop/api/Winnls/nf-winnls-getsystemdefaultuilanguage).</span></span>

### <a name="system-ui-language"></a><span data-ttu-id="4d8ad-118">Язык пользовательского интерфейса системы</span><span class="sxs-lookup"><span data-stu-id="4d8ad-118">System UI Language</span></span>

<span data-ttu-id="4d8ad-119">Операционная система определяет язык ПОЛЬЗОВАТЕЛЬСКОГО интерфейса системы как язык пользовательского интерфейса, который может быть задан администратором на вкладке **Дополнительно** в области язык и региональные стандарты панели управления.</span><span class="sxs-lookup"><span data-stu-id="4d8ad-119">The operating system defines the system UI language as a user interface language that can be set by an administrator in the **Advanced** tab of the regional and language options portion of Control Panel.</span></span> <span data-ttu-id="4d8ad-120">Операционная система использует этот язык, если текущий пользователь не выполнил какие-либо параметры языка или если активная учетная запись не зарегистрирована.</span><span class="sxs-lookup"><span data-stu-id="4d8ad-120">The operating system uses this language if the current user has not made specific language settings or if no active account is logged in.</span></span> <span data-ttu-id="4d8ad-121">Язык можно изменить, только если на компьютере установлен более чем один язык пользовательского интерфейса.</span><span class="sxs-lookup"><span data-stu-id="4d8ad-121">The language can be changed only if more than one user interface language is installed on the computer.</span></span>

> [!Note]  
> <span data-ttu-id="4d8ad-122">Чтобы увидеть воздействие изменения языка, необходимо перезагрузить операционную систему для всех пользователей и служб.</span><span class="sxs-lookup"><span data-stu-id="4d8ad-122">The operating system must be rebooted for all users and services to see the effect of the language change.</span></span>

 

<span data-ttu-id="4d8ad-123">Функция MUI недоступна для установки языка пользовательского интерфейса системы.</span><span class="sxs-lookup"><span data-stu-id="4d8ad-123">No MUI function is available to set the system UI language.</span></span> <span data-ttu-id="4d8ad-124">Чтобы получить это значение, приложение, предназначенное для Windows Vista и более поздних версий, может вызвать [**жетсистемпреферредуилангуажес**](/windows/desktop/api/Winnls/nf-winnls-getsystempreferreduilanguages) и получить первый язык в списке Предпочитаемые языки интерфейса в системе.</span><span class="sxs-lookup"><span data-stu-id="4d8ad-124">To retrieve this value, an application targeted at Windows Vista and later can call [**GetSystemPreferredUILanguages**](/windows/desktop/api/Winnls/nf-winnls-getsystempreferreduilanguages) and obtain the first language in the system preferred UI languages list.</span></span> <span data-ttu-id="4d8ad-125">Приложения, предназначенные для операционных систем, предшествующих Windows Vista, не могут использовать [**жетсистемпреферредуилангуажес**](/windows/desktop/api/Winnls/nf-winnls-getsystempreferreduilanguages) и должны основываться на предположении, что язык пользовательского интерфейса системы всегда совпадает с языком системного интерфейса по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="4d8ad-125">Applications targeted at pre-Windows Vista operating systems cannot use [**GetSystemPreferredUILanguages**](/windows/desktop/api/Winnls/nf-winnls-getsystempreferreduilanguages) and should be based on the assumption that the system UI language is always the same as the system default UI language.</span></span>

### <a name="user-ui-language"></a><span data-ttu-id="4d8ad-126">Язык пользовательского интерфейса</span><span class="sxs-lookup"><span data-stu-id="4d8ad-126">User UI Language</span></span>

<span data-ttu-id="4d8ad-127">Язык пользовательского интерфейса определяет язык пользовательского интерфейса, используемый для меню, диалоговых окон, файлов справки и т. д.</span><span class="sxs-lookup"><span data-stu-id="4d8ad-127">The user UI language determines the user interface language used for menus, dialog boxes, help files, and so forth.</span></span> <span data-ttu-id="4d8ad-128">Его можно задать с помощью текущего пользователя на вкладке **язык** в разделе региональные и языковые параметры панели управления.</span><span class="sxs-lookup"><span data-stu-id="4d8ad-128">It can be set by the current user in the **Language** tab of the regional and language options portion of Control Panel.</span></span> <span data-ttu-id="4d8ad-129">Этот язык можно изменить, только если на компьютере установлен более чем один язык пользовательского интерфейса.</span><span class="sxs-lookup"><span data-stu-id="4d8ad-129">This language can be changed only if more than one user interface language is installed on the computer.</span></span> <span data-ttu-id="4d8ad-130">Обратите внимание, что пользователь должен выйти из системы и снова войти в систему, чтобы увидеть результат.</span><span class="sxs-lookup"><span data-stu-id="4d8ad-130">Note that the user will have to log off and then log back on to see the effect.</span></span> <span data-ttu-id="4d8ad-131">Например, многонациональной корпорации требуется развернуть Windows во всех своих дочерних подразделениях.</span><span class="sxs-lookup"><span data-stu-id="4d8ad-131">For example, a multinational corporation wants to deploy Windows in all of its subsidiaries.</span></span> <span data-ttu-id="4d8ad-132">Компания создает задание глобальной установки, которое устанавливает английскую языковую версию Windows на всех клиентах независимо от расположения.</span><span class="sxs-lookup"><span data-stu-id="4d8ad-132">The company creates a global install job, which installs the English language version of Windows on all clients, regardless of location.</span></span> <span data-ttu-id="4d8ad-133">В то же время он устанавливает отдельные языковые модули в зависимости от подразделения, членом которого является компьютер.</span><span class="sxs-lookup"><span data-stu-id="4d8ad-133">At the same time, it installs specific language modules depending on the organizational unit of which a computer is a member.</span></span> <span data-ttu-id="4d8ad-134">Когда пользователь впервые входит в систему до новой установленной операционной системы, Windows отображается как локализованная версия.</span><span class="sxs-lookup"><span data-stu-id="4d8ad-134">When the user logs on the first time to a newly installed operating system, Windows appears as a localized version.</span></span>

<span data-ttu-id="4d8ad-135">В Windows Vista и более поздних версиях язык пользовательского интерфейса пользователя является первым языком в списке предпочитаемых языков интерфейса пользователя.</span><span class="sxs-lookup"><span data-stu-id="4d8ad-135">On Windows Vista and later, the user UI language is the first language in the user preferred UI languages list.</span></span> <span data-ttu-id="4d8ad-136">Обратите внимание, что можно использовать резервные языки, если определенные ресурсы недоступны на этом языке.</span><span class="sxs-lookup"><span data-stu-id="4d8ad-136">Note that fallback languages can be used if particular resources are not available in this language.</span></span>

<span data-ttu-id="4d8ad-137">В операционных системах, предшествующих Windows Vista, язык пользовательского интерфейса обычно совпадает с языком системного интерфейса по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="4d8ad-137">On pre-Windows Vista operating systems, the user UI language is usually the same as the system default UI language.</span></span> <span data-ttu-id="4d8ad-138">Однако для многоязыкового интерфейса пользователя Windows два языка могут отличаться.</span><span class="sxs-lookup"><span data-stu-id="4d8ad-138">However, for Windows MUI, the two languages can be different.</span></span>

<span data-ttu-id="4d8ad-139">Чтобы получить пользовательский язык пользовательского интерфейса, приложение может вызвать [**жетусердефаултуилангуаже**](/windows/desktop/api/Winnls/nf-winnls-getuserdefaultuilanguage) или [**жетусерпреферредуилангуажес**](/windows/desktop/api/Winnls/nf-winnls-getuserpreferreduilanguages).</span><span class="sxs-lookup"><span data-stu-id="4d8ad-139">To retrieve the user UI language, an application can call [**GetUserDefaultUILanguage**](/windows/desktop/api/Winnls/nf-winnls-getuserdefaultuilanguage) or [**GetUserPreferredUILanguages**](/windows/desktop/api/Winnls/nf-winnls-getuserpreferreduilanguages).</span></span> <span data-ttu-id="4d8ad-140">Приложение не может изменить язык пользовательского интерфейса, так как для его установки не существует функции.</span><span class="sxs-lookup"><span data-stu-id="4d8ad-140">The application cannot change the user UI language, as there is no function to set it.</span></span>

## <a name="language-lists-maintained-by-the-operating-system"></a><span data-ttu-id="4d8ad-141">Списки языков, поддерживаемые операционной системой</span><span class="sxs-lookup"><span data-stu-id="4d8ad-141">Language Lists Maintained by the Operating System</span></span>

### <a name="system-preferred-ui-languages-list"></a><span data-ttu-id="4d8ad-142">Список предпочитаемых в системе языков интерфейса</span><span class="sxs-lookup"><span data-stu-id="4d8ad-142">System Preferred UI Languages List</span></span>

<span data-ttu-id="4d8ad-143">Загрузчик ресурсов поддерживает список предпочитаемых языков интерфейса пользователя.</span><span class="sxs-lookup"><span data-stu-id="4d8ad-143">The resource loader maintains a system preferred UI languages list.</span></span> <span data-ttu-id="4d8ad-144">В этот список включены языки, предпочитаемые операционной системой для собственных ресурсов, таких как меню и диалоговые окна, сообщения, INF-файлы и файлы справки.</span><span class="sxs-lookup"><span data-stu-id="4d8ad-144">Included in this list are languages preferred by the operating system for its own resources, such as menus and dialogs, messages, INF files, and help files.</span></span> <span data-ttu-id="4d8ad-145">Список состоит из системного языка интерфейса по умолчанию и языка пользовательского интерфейса системы и их резервных версий.</span><span class="sxs-lookup"><span data-stu-id="4d8ad-145">The list is made up of the system default UI language and the system UI language and their fallbacks.</span></span> <span data-ttu-id="4d8ad-146">Приложение может получить предпочтительные для системы языки пользовательского интерфейса, вызвав [**жетсистемпреферредуилангуажес**](/windows/desktop/api/Winnls/nf-winnls-getsystempreferreduilanguages).</span><span class="sxs-lookup"><span data-stu-id="4d8ad-146">An application can retrieve system preferred UI languages by calling [**GetSystemPreferredUILanguages**](/windows/desktop/api/Winnls/nf-winnls-getsystempreferreduilanguages).</span></span>

### <a name="user-preferred-ui-languages-list"></a><span data-ttu-id="4d8ad-147">Список предпочитаемых языков интерфейса пользователя</span><span class="sxs-lookup"><span data-stu-id="4d8ad-147">User Preferred UI Languages List</span></span>

<span data-ttu-id="4d8ad-148">Загрузчик ресурсов использует предпочитаемый пользователем список языков интерфейса пользователя, который включает языки, предпочитаемые пользователем.</span><span class="sxs-lookup"><span data-stu-id="4d8ad-148">The resource loader uses a user preferred UI languages list that includes languages that the user prefers.</span></span> <span data-ttu-id="4d8ad-149">Загрузчик ресурсов использует ресурсы, соответствующие языкам, из этого списка, если это возможно, для конкретного потока приложения.</span><span class="sxs-lookup"><span data-stu-id="4d8ad-149">The resource loader uses resources matching languages from this list, if available, for a particular application thread.</span></span> <span data-ttu-id="4d8ad-150">Эти языки имеют приоритет над любыми системными настройками.</span><span class="sxs-lookup"><span data-stu-id="4d8ad-150">These languages take precedence over any system preferences.</span></span> <span data-ttu-id="4d8ad-151">Чтобы получить предпочитаемый пользователем язык пользовательского интерфейса, приложение может вызвать [**жетусерпреферредуилангуажес**](/windows/desktop/api/Winnls/nf-winnls-getuserpreferreduilanguages).</span><span class="sxs-lookup"><span data-stu-id="4d8ad-151">To retrieve user preferred UI languages, your application can call [**GetUserPreferredUILanguages**](/windows/desktop/api/Winnls/nf-winnls-getuserpreferreduilanguages).</span></span>

### <a name="process-preferred-ui-languages-list"></a><span data-ttu-id="4d8ad-152">Список предпочтительных языков интерфейса пользователя</span><span class="sxs-lookup"><span data-stu-id="4d8ad-152">Process Preferred UI Languages List</span></span>

<span data-ttu-id="4d8ad-153">В Windows Vista и более поздних версиях загрузчик ресурсов сохраняет список предпочитаемых языков интерфейса для процессов, состоящий из до пяти допустимых языков, заданных выполняемым процессом для приложения MUI.</span><span class="sxs-lookup"><span data-stu-id="4d8ad-153">On Windows Vista and later, the resource loader maintains a process preferred UI languages list consisting of up to five valid languages set by a running process for a MUI application.</span></span> <span data-ttu-id="4d8ad-154">Эти языки можно задать в приложении с помощью вызова [**сетпроцесспреферредуилангуажес**](/windows/desktop/api/Winnls/nf-winnls-setprocesspreferreduilanguages).</span><span class="sxs-lookup"><span data-stu-id="4d8ad-154">The languages can be set by the application with a call to [**SetProcessPreferredUILanguages**](/windows/desktop/api/Winnls/nf-winnls-setprocesspreferreduilanguages).</span></span> <span data-ttu-id="4d8ad-155">Приложение может получить языки, вызвав [**жетпроцесспреферредуилангуажес**](/windows/desktop/api/Winnls/nf-winnls-getprocesspreferreduilanguages).</span><span class="sxs-lookup"><span data-stu-id="4d8ad-155">The application can retrieve the languages by calling [**GetProcessPreferredUILanguages**](/windows/desktop/api/Winnls/nf-winnls-getprocesspreferreduilanguages).</span></span>

### <a name="thread-preferred-ui-languages-list"></a><span data-ttu-id="4d8ad-156">Список предпочтительных языков интерфейса для потока</span><span class="sxs-lookup"><span data-stu-id="4d8ad-156">Thread Preferred UI Languages List</span></span>

<span data-ttu-id="4d8ad-157">В Windows Vista и более поздних версиях загрузчик ресурсов использует предпочтительный для потока язык интерфейса пользователя, который состоит из до пяти допустимых языков, заданных потоком в работающем процессе для приложения MUI.</span><span class="sxs-lookup"><span data-stu-id="4d8ad-157">On Windows Vista and later, the resource loader uses a thread preferred UI languages list that consists of up to five valid languages set by a thread in a running process for a MUI application.</span></span> <span data-ttu-id="4d8ad-158">Эти языки используются для настройки языков пользовательского интерфейса приложения и делают их отличными от языка операционной системы.</span><span class="sxs-lookup"><span data-stu-id="4d8ad-158">These languages are used to customize the application user interface languages and make them different from the operating system language.</span></span> <span data-ttu-id="4d8ad-159">Список предпочтительных языков интерфейса для потоков основан на предпочитаемых пользователем языках пользовательского интерфейса, предпочитаемых языках ПОЛЬЗОВАТЕЛЬСКОГО интерфейса системы и языке пользовательского интерфейса по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="4d8ad-159">The thread preferred UI languages list is based on the user preferred UI languages, the system preferred UI languages, and the system default UI language.</span></span>

<span data-ttu-id="4d8ad-160">Чтобы задать предпочтительные языки пользовательского интерфейса для потока, приложение должно вызвать [**сетсреадпреферредуилангуажес**](/windows/desktop/api/Winnls/nf-winnls-setthreadpreferreduilanguages).</span><span class="sxs-lookup"><span data-stu-id="4d8ad-160">To set the thread preferred UI languages, the application should call [**SetThreadPreferredUILanguages**](/windows/desktop/api/Winnls/nf-winnls-setthreadpreferreduilanguages).</span></span> <span data-ttu-id="4d8ad-161">Для получения этих языков приложение вызывает [**жетсреадпреферредуилангуажес**](/windows/desktop/api/Winnls/nf-winnls-getthreadpreferreduilanguages).</span><span class="sxs-lookup"><span data-stu-id="4d8ad-161">To retrieve these languages, the application calls [**GetThreadPreferredUILanguages**](/windows/desktop/api/Winnls/nf-winnls-getthreadpreferreduilanguages).</span></span>

## <a name="neutral-language-representation"></a><span data-ttu-id="4d8ad-162">Представление нейтрального языка</span><span class="sxs-lookup"><span data-stu-id="4d8ad-162">Neutral Language Representation</span></span>

<span data-ttu-id="4d8ad-163">Нейтральный язык представлен только на языке, без региона или языкового стандарта.</span><span class="sxs-lookup"><span data-stu-id="4d8ad-163">A neutral language is represented as the language alone, without region or locale.</span></span> <span data-ttu-id="4d8ad-164">Например, нейтральное представление языка «Английский (Канада)» (en-CA) представляется как «EN».</span><span class="sxs-lookup"><span data-stu-id="4d8ad-164">For example, the neutral representation of the English (Canada) language, en-CA, is represented as "en".</span></span> <span data-ttu-id="4d8ad-165">Несмотря на то, что нейтральный язык не связан с аспектами региона или языкового стандарта, его можно связать с набором ресурсов.</span><span class="sxs-lookup"><span data-stu-id="4d8ad-165">Even though a neutral language is not associated with the aspects of a region or locale, you can associate it with a resource set.</span></span> <span data-ttu-id="4d8ad-166">Как правило, ресурс нейтрального языка основан на использовании в наиболее распространенном регионе для языка.</span><span class="sxs-lookup"><span data-stu-id="4d8ad-166">Typically, a neutral language resource is based on the use in the most prevalent region for the language.</span></span>

<span data-ttu-id="4d8ad-167">Предположим, что приложение MUI локализуется немецкие языковые ресурсы для немецкого языка (Швейцария), представленного в виде de-CH и немецкого (Австрии), представленного как de-AT, при этом создается полный набор ресурсов для немецкого (Германия), представленных в виде de-DE.</span><span class="sxs-lookup"><span data-stu-id="4d8ad-167">As an illustration, suppose that your MUI application localizes German language resources for German (Switzerland) represented as de-CH and German (Austria) represented as de-AT, while building a full set of resources for German (Germany) represented as de-DE.</span></span> <span data-ttu-id="4d8ad-168">Необходимо принимать решения для этого приложения, учитывая все файлы ресурсов.</span><span class="sxs-lookup"><span data-stu-id="4d8ad-168">You must make decisions for this application considering entire resource files.</span></span> <span data-ttu-id="4d8ad-169">Если приложение дублирует ресурсы de-DE как ресурсы нейтрального языка, оно должно предоставить резервный язык для загрузчика ресурсов.</span><span class="sxs-lookup"><span data-stu-id="4d8ad-169">If the application duplicates the de-DE resources as neutral language resources, it must provide a fallback language for the resource loader.</span></span> <span data-ttu-id="4d8ad-170">Если загрузчик не находит определенный файл ресурсов, зависящий от конкретного языка, для de-CH или для отмены, он возвращается к независимым от языка ресурсам de.</span><span class="sxs-lookup"><span data-stu-id="4d8ad-170">If the loader does not find a particular language-specific resource file for de-CH or for de-AT, it falls back to the language-neutral "de" resources.</span></span> <span data-ttu-id="4d8ad-171">Скорее всего, эти ресурсы более подходят, чем ресурсы для совершенно другого языка, например английский (США), которые являются единственными возможными резервными запасами.</span><span class="sxs-lookup"><span data-stu-id="4d8ad-171">These resources are most likely more appropriate than resources for a completely different language, for example, English (United States), which are the only other possible fallbacks.</span></span>

<span data-ttu-id="4d8ad-172">Другой пример: приложение может не локализовать все для Белиз.</span><span class="sxs-lookup"><span data-stu-id="4d8ad-172">As another example, an application might not localize at all for Belize.</span></span> <span data-ttu-id="4d8ad-173">Однако поддержка предпочитаемого языка на английском языке (Белиз), представленного в виде EN-BZ, позволяет приложению возвращаться к ресурсам "en".</span><span class="sxs-lookup"><span data-stu-id="4d8ad-173">However, support of a language preference of English (Belize), represented as en-BZ, allows the application to fall back to "en" resources.</span></span>

## <a name="language-fallback-in-the-resource-loader"></a><span data-ttu-id="4d8ad-174">Откат языка в загрузчике ресурсов</span><span class="sxs-lookup"><span data-stu-id="4d8ad-174">Language Fallback in the Resource Loader</span></span>

<span data-ttu-id="4d8ad-175">В Windows Vista и более поздних версиях параметры языка пользовательского интерфейса располагаются в предварительно упорядоченном списке языков, используемом загрузчиком ресурсов.</span><span class="sxs-lookup"><span data-stu-id="4d8ad-175">Windows Vista and later arrange user interface language settings in a preordered fallback language list used by the resource loader.</span></span> <span data-ttu-id="4d8ad-176">Чтобы сформировать список, операционная система объединяет несколько языков в порядке, указанном ниже.</span><span class="sxs-lookup"><span data-stu-id="4d8ad-176">To form the list, the operating system combines several languages, in the order shown:</span></span>

-   <span data-ttu-id="4d8ad-177">Предпочтительные языки пользовательского интерфейса потока, состоящие из языка пользовательского интерфейса потока и его нейтральной формы.</span><span class="sxs-lookup"><span data-stu-id="4d8ad-177">Thread preferred UI languages, consisting of thread user interface language and its neutral form.</span></span> <span data-ttu-id="4d8ad-178">Примеры: fr-FR для французского языка (Франция) и его нейтральная форма "fr" и ES-ES для испанского языка (Испания) и его нейтральная форма "ES".</span><span class="sxs-lookup"><span data-stu-id="4d8ad-178">Examples are fr-FR for French (France) and its neutral form "fr" and es-ES for Spanish (Spain) and its neutral form "es".</span></span>
-   <span data-ttu-id="4d8ad-179">Предпочтительно обрабатывать предпочитаемые языки пользовательского интерфейса, состоящие из языка пользовательского интерфейса процесса и его нейтральной формы.</span><span class="sxs-lookup"><span data-stu-id="4d8ad-179">Process preferred UI languages, consisting of process user interface language and its neutral form.</span></span> <span data-ttu-id="4d8ad-180">Например, de-DE для немецкого языка (Германия) и его нейтральной формы «de».</span><span class="sxs-lookup"><span data-stu-id="4d8ad-180">An example is de-DE for German (Germany) and its neutral form "de".</span></span>
-   <span data-ttu-id="4d8ad-181">Язык пользовательского интерфейса пользователя и его нейтральная форма.</span><span class="sxs-lookup"><span data-stu-id="4d8ad-181">User UI language and its neutral form.</span></span> <span data-ttu-id="4d8ad-182">Примером является ja-JP для японского языка (Япония) и его нейтральной формы "ja".</span><span class="sxs-lookup"><span data-stu-id="4d8ad-182">An example is ja-JP for Japanese (Japan) and its neutral form "ja".</span></span>
-   <span data-ttu-id="4d8ad-183">Язык пользовательского интерфейса системы и его нейтральная форма.</span><span class="sxs-lookup"><span data-stu-id="4d8ad-183">System UI language and its neutral form.</span></span> <span data-ttu-id="4d8ad-184">В качестве примера он относится к итальянскому (Италия) и его нейтральной форме "IT".</span><span class="sxs-lookup"><span data-stu-id="4d8ad-184">An example is it-IT for Italian (Italy) and its neutral form "it".</span></span>
    > [!Note]  
    > <span data-ttu-id="4d8ad-185">Этот язык включен в список резервов только в том случае, если не задан язык пользовательского интерфейса пользователя.</span><span class="sxs-lookup"><span data-stu-id="4d8ad-185">This language is only included in the fallback list when the user UI language is not set.</span></span>

     

-   <span data-ttu-id="4d8ad-186">Системный язык пользовательского интерфейса по умолчанию и его нейтральная форма.</span><span class="sxs-lookup"><span data-stu-id="4d8ad-186">System default UI language and its neutral form.</span></span> <span data-ttu-id="4d8ad-187">Например, ES-ES для испанского языка (Испания) и его нейтральная форма ES.</span><span class="sxs-lookup"><span data-stu-id="4d8ad-187">An example is es-ES for Spanish (Spain) and its neutral form "es".</span></span>

<span data-ttu-id="4d8ad-188">Ниже приведен список Объединенных резервных списков.</span><span class="sxs-lookup"><span data-stu-id="4d8ad-188">The following shows the merged fallback list.</span></span> <span data-ttu-id="4d8ad-189">Обратите внимание, что дублирование языков, например es-ES и ES, устраняется.</span><span class="sxs-lookup"><span data-stu-id="4d8ad-189">Note that the duplication of languages, for example, es-ES and es, is eliminated.</span></span> <span data-ttu-id="4d8ad-190">Поскольку в примере задается язык пользовательского интерфейса ja-JP, язык пользовательского интерфейса системы не отображается в объединенном списке резервных данных.</span><span class="sxs-lookup"><span data-stu-id="4d8ad-190">Since the example sets the user UI language to ja-JP, the system UI language does not appear in the merged fallback list.</span></span>

<span data-ttu-id="4d8ad-191">fr-FR, fr, ES-ES, ES, de-DE, de, ja-JP, JA</span><span class="sxs-lookup"><span data-stu-id="4d8ad-191">fr-FR, fr, es-ES, es, de-DE, de, ja-JP, ja</span></span>

<span data-ttu-id="4d8ad-192">При загрузке ресурсов для приложения MUI загрузчик ресурсов пытается выбрать один из файлов, соответствующих списку предпочтительных языков интерфейса потока для текущего выполняемого потока приложения.</span><span class="sxs-lookup"><span data-stu-id="4d8ad-192">When loading resources for a MUI application, the resource loader tries to select one of the files matching the thread preferred UI languages list for the currently running application thread.</span></span> <span data-ttu-id="4d8ad-193">Если загрузчику ресурсов не удается найти прямое соответствие между выбранным языком и первым ресурсом, зависящим от конкретного языка, в объединенном списке резерва, он проверяет последующие языки в списке, пока не найдет приемлемое резервное.</span><span class="sxs-lookup"><span data-stu-id="4d8ad-193">If the resource loader cannot find a direct match between a selected language and the first language-specific resource in the merged fallback list, it checks the subsequent languages in the list until it finds an acceptable fallback.</span></span>

<span data-ttu-id="4d8ad-194">Если загрузчик ресурсов не находит нужных файлов, он должен использовать "гарантированно хороший" резервный язык.</span><span class="sxs-lookup"><span data-stu-id="4d8ad-194">If the resource loader finds no file that it needs, it must use a "guaranteed good" fallback language.</span></span> <span data-ttu-id="4d8ad-195">Для технологии ресурсов MUI загрузчик ресурсов определяет резервный язык на основе предоставленных данных конфигурации ресурсов.</span><span class="sxs-lookup"><span data-stu-id="4d8ad-195">For the MUI resource technology, the resource loader determines the fallback language from the provided resource configuration data.</span></span> <span data-ttu-id="4d8ad-196">Дополнительные сведения см. в разделе [Управление ресурсами MUI](mui-resource-management.md).</span><span class="sxs-lookup"><span data-stu-id="4d8ad-196">For more information, see [MUI Resource Management](mui-resource-management.md).</span></span>

## <a name="related-topics"></a><span data-ttu-id="4d8ad-197">См. также</span><span class="sxs-lookup"><span data-stu-id="4d8ad-197">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="4d8ad-198">Сведения о многоязычном пользовательском интерфейсе</span><span class="sxs-lookup"><span data-stu-id="4d8ad-198">About Multilingual User Interface</span></span>](about-multilingual-user-interface.md)
</dt> <dt>

[<span data-ttu-id="4d8ad-199">Языковые стандарты и языки</span><span class="sxs-lookup"><span data-stu-id="4d8ad-199">Locales and Languages</span></span>](locales-and-languages.md)
</dt> <dt>

[<span data-ttu-id="4d8ad-200">Терминология NLS</span><span class="sxs-lookup"><span data-stu-id="4d8ad-200">NLS Terminology</span></span>](nls-terminology.md)
</dt> </dl>

 

 



