---
description: Стандартные библиотеки среды выполнения C содержат версии строковых функций в Юникоде UTF-16 (Расширенная кодировка), которые можно использовать с Юникодом и строковыми функциями, которые можно использовать с символами из однобайтовых кодировок (SBCS). Тип данных типа WCHAR в Юникоде совместим с типом данных WCHAR \_ t в ANSI C и предоставляет доступ к строковым функциям в Юникоде. Версии Юникода для функций начинаются с букв &\# 0034; wcs&\# 0034; (иногда &\# 0034; \_ WCS&\# 0034;). Тип данных CHAR, используемый для кодовых страниц, совместим с символьным типом данных char в ANSI C, чтобы разрешить доступ к функциям символьных строк. Версии символов функций начинаются с букв &\# 0034; str&\# 0034;. Существуют также специальные версии для двухбайтовых наборов символов (DBCS), начинающихся с букв &\# 0034; \_ MBS&\# 0034;.
ms.assetid: a86626c1-7f90-4924-bfdd-384729bd0cc5
title: Стандартные функции C
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: f6247b3707f96908ef16d887462ba06573fd8dd7
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "103913523"
---
# <a name="standard-c-functions"></a>Стандартные функции C

Стандартные библиотеки среды выполнения C содержат версии строковых функций в Юникоде UTF-16 (Расширенная кодировка), которые можно использовать с [Юникодом](unicode.md) и строковыми функциями, которые можно использовать с символами из [однобайтовых](single-byte-character-sets.md) кодировок (SBCS). Тип данных типа WCHAR в Юникоде совместим с типом данных WCHAR \_ t в ANSI C и предоставляет доступ к строковым функциям в Юникоде. Версии Юникода для функций начинаются с букв "WCS" (или иногда " \_ WCS"). Тип данных CHAR, используемый для кодовых страниц, совместим с символьным типом данных char в ANSI C, чтобы разрешить доступ к функциям символьных строк. Версии символов функций начинаются с букв "str". Существуют также специальные версии для [двухбайтовых наборов символов](double-byte-character-sets.md) (DBCS), начинающихся с букв « \_ MBS».

Стандартные библиотеки среды выполнения C включают универсальные функции для всех стандартных строковых функций C. Они начинаются с " \_ TCS" и перечисляются в файле заголовка TCHAR. h. Эти функции используют общий тип данных TCHAR.

Приложение должно добавить следующие строки для использования универсальных функций и компиляции для Юникода.


```C++
#define _UNICODE

#include <tchar.h>
#include <wchar.h>
```



Обратите внимание, что оба файла Tchar. h и WCHAR. h являются обязательными, и для \_ переменной в Юникоде также требуется символ подчеркивания в начале. Эта номенклатура относится к стандартной библиотеке C. "Юникод", отображаемый без подчеркивания, предназначен для сред выполнения Microsoft Windows.

Функции [wcstombs](/cpp/c-runtime-library/reference/wcstombs-wcstombs-l) и [функции mbstowcs](/cpp/c-runtime-library/reference/mbstowcs-s-mbstowcs-s-l) могут выполнять преобразование из кодировки, поддерживаемой стандартной библиотекой C, в Юникод и обратно, с некоторыми ограничениями. Дополнительные сведения о переводе строк в Юникод и обратно см. в разделе [Преобразование между строковыми типами](translation-between-string-types.md).

Функция [printf](/cpp/c-runtime-library/reference/printf-printf-l-wprintf-wprintf-l) , определенная в файле Tchar. h, поддерживает те же спецификации формата, что и функции печати стрсафе. h, например [**стрингкбпринтф**](/windows/win32/api/strsafe/nf-strsafe-stringcbprintfa). Аналогичным образом TCHAR. h определяет функцию [wprintf](/cpp/c-runtime-library/reference/printf-printf-l-wprintf-wprintf-l) , в которой строка формата является строкой в Юникоде.

> [!Caution]  
> Низкая обработка буфера фрагментацией во многих проблемах безопасности, связанных с переполнением буфера. См. раздел [Справочник по стрсафе. h](../menurc/strsafe-ovw.md). Функции, определенные в Стрсафе. h, обеспечивают дополнительную обработку для правильной обработки буфера в коде. Они предназначены для замены встроенных аналогов C/C++, а также конкретных реализаций Microsoft Windows. Дополнительные сведения см. в разделе [вопросы безопасности: международные функции](security-considerations--international-features.md).

 

## <a name="related-topics"></a>См. также

<dl> <dt>

[Юникод в Windows API](unicode-in-the-windows-api.md)
</dt> </dl>

 

 
