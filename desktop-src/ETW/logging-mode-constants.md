---
description: Следующие константы представляют возможные режимы ведения журнала для сеанса трассировки событий.
ms.assetid: d12aaecb-776a-4476-9ba4-16af30fde9c2
title: Константы режима ведения журнала
ms.topic: article
ms.date: 06/03/2020
ms.openlocfilehash: daa0233346718040653edbc75a10615f9fd31765
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "104984573"
---
# <a name="logging-mode-constants"></a><span data-ttu-id="752eb-103">Константы режима ведения журнала</span><span class="sxs-lookup"><span data-stu-id="752eb-103">Logging Mode Constants</span></span>

<span data-ttu-id="752eb-104">Следующие константы представляют возможные режимы ведения журнала для сеанса трассировки событий.</span><span class="sxs-lookup"><span data-stu-id="752eb-104">The following constants represent the possible logging modes for an event tracing session.</span></span>

<span data-ttu-id="752eb-105">Константы используются в элементах **логфилемоде** [**\_ \_ журнала трассировки событий**](/windows/win32/api/evntrace/ns-evntrace-event_trace_logfilea), [**\_ \_ свойствах трассировки событий**](/windows/win32/api/evntrace/ns-evntrace-event_trace_properties) и структурах [**\_ \_ заголовка файла журнала трассировки**](/windows/win32/api/evntrace/ns-evntrace-trace_logfile_header) .</span><span class="sxs-lookup"><span data-stu-id="752eb-105">The constants are used in the **LogFileMode** members of [**EVENT\_TRACE\_LOGFILE**](/windows/win32/api/evntrace/ns-evntrace-event_trace_logfilea), [**EVENT\_TRACE\_PROPERTIES**](/windows/win32/api/evntrace/ns-evntrace-event_trace_properties) and [**TRACE\_LOGFILE\_HEADER**](/windows/win32/api/evntrace/ns-evntrace-trace_logfile_header) structures.</span></span> <span data-ttu-id="752eb-106">Эти константы определены в файле заголовка *евнтраце. h* .</span><span class="sxs-lookup"><span data-stu-id="752eb-106">These constants are defined in the *Evntrace.h* header file.</span></span>



<table>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header">
<th><span data-ttu-id="752eb-107">Режим</span><span class="sxs-lookup"><span data-stu-id="752eb-107">Mode</span></span></th>
<th><span data-ttu-id="752eb-108">Описание</span><span class="sxs-lookup"><span data-stu-id="752eb-108">Description</span></span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><span data-ttu-id="752eb-109"><strong>EVENT_TRACE_FILE_MODE_NONE</strong> (0x00000000)</span><span class="sxs-lookup"><span data-stu-id="752eb-109"><strong>EVENT_TRACE_FILE_MODE_NONE</strong> (0x00000000)</span></span></td>
<td><span data-ttu-id="752eb-110">То же, что <strong>EVENT_TRACE_FILE_MODE_SEQUENTIAL</strong> без указанного максимального размера файла.</span><span class="sxs-lookup"><span data-stu-id="752eb-110">Same as <strong>EVENT_TRACE_FILE_MODE_SEQUENTIAL</strong> with no maximum file size specified.</span></span></td>
</tr>
<tr class="even">
<td><span data-ttu-id="752eb-111"><strong>EVENT_TRACE_FILE_MODE_SEQUENTIAL</strong> (0x00000001)</span><span class="sxs-lookup"><span data-stu-id="752eb-111"><strong>EVENT_TRACE_FILE_MODE_SEQUENTIAL</strong> (0x00000001)</span></span></td>
<td><span data-ttu-id="752eb-112">Последовательное запись событий в файл журнала; останавливается, когда файл достигает максимального размера. Не используйте с <strong>EVENT_TRACE_FILE_MODE_CIRCULAR</strong> или <strong>EVENT_TRACE_FILE_MODE_NEWFILE</strong>.</span><span class="sxs-lookup"><span data-stu-id="752eb-112">Writes events to a log file sequentially; stops when the file reaches its maximum size.Do not use with <strong>EVENT_TRACE_FILE_MODE_CIRCULAR</strong> or <strong>EVENT_TRACE_FILE_MODE_NEWFILE</strong>.</span></span><br/></td>
</tr>
<tr class="odd">
<td><span data-ttu-id="752eb-113"><strong>EVENT_TRACE_FILE_MODE_CIRCULAR</strong> (0x00000002)</span><span class="sxs-lookup"><span data-stu-id="752eb-113"><strong>EVENT_TRACE_FILE_MODE_CIRCULAR</strong> (0x00000002)</span></span></td>
<td><span data-ttu-id="752eb-114">Записывает события в файл журнала.</span><span class="sxs-lookup"><span data-stu-id="752eb-114">Writes events to a log file.</span></span> <span data-ttu-id="752eb-115">Когда файл достигает максимального размера, самые старые события заменяются входящими событиями. Обратите внимание, что содержимое циклического файла журнала может отображаться неупорядоченно на многопроцессорных компьютерах.</span><span class="sxs-lookup"><span data-stu-id="752eb-115">After the file reaches the maximum size, the oldest events are replaced with incoming events.Note that the contents of the circular log file may appear out of order on multiprocessor computers.</span></span><br/> <span data-ttu-id="752eb-116">Не используйте с <strong>EVENT_TRACE_FILE_MODE_APPEND</strong>, <strong>EVENT_TRACE_FILE_MODE_NEWFILE</strong>или <strong>EVENT_TRACE_FILE_MODE_SEQUENTIAL</strong>.</span><span class="sxs-lookup"><span data-stu-id="752eb-116">Do not use with <strong>EVENT_TRACE_FILE_MODE_APPEND</strong>, <strong>EVENT_TRACE_FILE_MODE_NEWFILE</strong>, or <strong>EVENT_TRACE_FILE_MODE_SEQUENTIAL</strong>.</span></span><br/></td>
</tr>
<tr class="even">
<td><span data-ttu-id="752eb-117"><strong>EVENT_TRACE_FILE_MODE_APPEND</strong> (0x00000004)</span><span class="sxs-lookup"><span data-stu-id="752eb-117"><strong>EVENT_TRACE_FILE_MODE_APPEND</strong> (0x00000004)</span></span></td>
<td><span data-ttu-id="752eb-118">Добавляет события в существующий последовательный файл журнала.</span><span class="sxs-lookup"><span data-stu-id="752eb-118">Appends events to an existing sequential log file.</span></span> <span data-ttu-id="752eb-119">Если файл не существует, он будет создан.</span><span class="sxs-lookup"><span data-stu-id="752eb-119">If the file does not exist, it is created.</span></span> <span data-ttu-id="752eb-120">Используйте только в том случае, если задано <a href="wnode-header.md"><strong>системное время</strong></a> для разрешения часов, в противном случае <a href="/windows/win32/api/evntrace/nf-evntrace-processtrace"><strong>процесстраце</strong></a> будет возвращать события с неправильными штампами времени.</span><span class="sxs-lookup"><span data-stu-id="752eb-120">Use only if you specify <a href="wnode-header.md"><strong>system time</strong></a> for the clock resolution, otherwise, <a href="/windows/win32/api/evntrace/nf-evntrace-processtrace"><strong>ProcessTrace</strong></a> will return events with incorrect time stamps.</span></span> <span data-ttu-id="752eb-121">При использовании <strong>EVENT_TRACE_FILE_MODE_APPEND</strong>значения для <strong>bufferSize</strong>, <strong>NumberOfProcessors</strong>и <strong>клокктипе</strong> должны быть указаны явно и должны быть одинаковыми в средстве ведения журнала и в добавляемом файле.</span><span class="sxs-lookup"><span data-stu-id="752eb-121">When using <strong>EVENT_TRACE_FILE_MODE_APPEND</strong>, the values for <strong>BufferSize</strong>, <strong>NumberOfProcessors</strong>, and <strong>ClockType</strong> must be explicitly provided and must be the same in both the logger and the file being appended.</span></span><br/> <span data-ttu-id="752eb-122">Не используйте с <strong>EVENT_TRACE_REAL_TIME_MODE</strong>, <strong>EVENT_TRACE_FILE_MODE_CIRCULAR</strong>, <strong>EVENT_TRACE_FILE_MODE_NEWFILE</strong>или <strong>EVENT_TRACE_PRIVATE_LOGGER_MODE</strong>.</span><span class="sxs-lookup"><span data-stu-id="752eb-122">Do not use with <strong>EVENT_TRACE_REAL_TIME_MODE</strong>, <strong>EVENT_TRACE_FILE_MODE_CIRCULAR</strong>, <strong>EVENT_TRACE_FILE_MODE_NEWFILE</strong>, or <strong>EVENT_TRACE_PRIVATE_LOGGER_MODE</strong>.</span></span><br/> <span data-ttu-id="752eb-123"><strong>Windows 2000:</strong> Это значение не поддерживается.</span><span class="sxs-lookup"><span data-stu-id="752eb-123"><strong>Windows 2000:</strong> This value is not supported.</span></span><br/></td>
</tr>
<tr class="odd">
<td><span data-ttu-id="752eb-124"><strong>EVENT_TRACE_FILE_MODE_NEWFILE</strong> (0x00000008)</span><span class="sxs-lookup"><span data-stu-id="752eb-124"><strong>EVENT_TRACE_FILE_MODE_NEWFILE</strong> (0x00000008)</span></span></td>
<td><span data-ttu-id="752eb-125">Автоматически переключается на новый файл журнала, когда файл достигает максимального размера.</span><span class="sxs-lookup"><span data-stu-id="752eb-125">Automatically switches to a new log file when the file reaches the maximum size.</span></span> <span data-ttu-id="752eb-126">Необходимо <strong></strong> задать элемент максимумфилесизе <a href="/windows/win32/api/evntrace/ns-evntrace-event_trace_properties"><strong>EVENT_TRACE_PROPERTIES</strong></a> . Указанное имя файла должно быть отформатированной строкой (например, строка содержит% d, например к:\тест%д.ЕТЛ).</span><span class="sxs-lookup"><span data-stu-id="752eb-126">The <strong>MaximumFileSize</strong> member of <a href="/windows/win32/api/evntrace/ns-evntrace-event_trace_properties"><strong>EVENT_TRACE_PROPERTIES</strong></a> must be set.The specified file name must be a formatted string (for example, the string contains a %d, such as c:\test%d.etl).</span></span> <span data-ttu-id="752eb-127">Каждый раз, когда создается новый файл, счетчик увеличивается и используется его значение, отформатированная строка обновляется, а результирующая строка используется в качестве имени файла.</span><span class="sxs-lookup"><span data-stu-id="752eb-127">Each time a new file is created, a counter is incremented and its value is used, the formatted string is updated, and the resulting string is used as the file name.</span></span><br/> <span data-ttu-id="752eb-128">Этот параметр не разрешен для сеансов трассировки частных событий и не должен использоваться для сеансов ведения журнала ядра NT.</span><span class="sxs-lookup"><span data-stu-id="752eb-128">This option is not allowed for private event tracing sessions and should not be used for NT kernel logger sessions.</span></span><br/> <span data-ttu-id="752eb-129">Не используйте с <strong>EVENT_TRACE_FILE_MODE_CIRCULAR</strong>, <strong>EVENT_TRACE_FILE_MODE_APPEND</strong> или <strong>EVENT_TRACE_FILE_MODE_SEQUENTIAL</strong>.</span><span class="sxs-lookup"><span data-stu-id="752eb-129">Do not use with <strong>EVENT_TRACE_FILE_MODE_CIRCULAR</strong>, <strong>EVENT_TRACE_FILE_MODE_APPEND</strong> or <strong>EVENT_TRACE_FILE_MODE_SEQUENTIAL</strong>.</span></span><br/> <span data-ttu-id="752eb-130"><strong>Windows 2000:</strong> Это значение не поддерживается.</span><span class="sxs-lookup"><span data-stu-id="752eb-130"><strong>Windows 2000:</strong> This value is not supported.</span></span><br/></td>
</tr>
<tr class="even">
<td><span data-ttu-id="752eb-131"><strong>EVENT_TRACE_FILE_MODE_PREALLOCATE</strong>(0x00000020)</span><span class="sxs-lookup"><span data-stu-id="752eb-131"><strong>EVENT_TRACE_FILE_MODE_PREALLOCATE</strong>(0x00000020)</span></span></td>
<td><span data-ttu-id="752eb-132">Резервирует <a href="/windows/win32/api/evntrace/ns-evntrace-event_trace_properties"><strong>EVENT_TRACE_PROPERTIES. Максимумфилесизе</strong></a> байты места на диске для файла журнала заранее.</span><span class="sxs-lookup"><span data-stu-id="752eb-132">Reserves <a href="/windows/win32/api/evntrace/ns-evntrace-event_trace_properties"><strong>EVENT_TRACE_PROPERTIES.MaximumFileSize</strong></a> bytes of disk space for the log file in advance.</span></span> <span data-ttu-id="752eb-133">Файл занимает все пространство во время ведения журнала для циклического и последовательного файлов журнала.</span><span class="sxs-lookup"><span data-stu-id="752eb-133">The file occupies the entire space during logging, for both circular and sequential log files.</span></span> <span data-ttu-id="752eb-134">При прерывании сеанса размер файла журнала уменьшается до необходимого размера.</span><span class="sxs-lookup"><span data-stu-id="752eb-134">When you stop the session, the log file is reduced to the size needed.</span></span> <span data-ttu-id="752eb-135">Необходимо задать <a href="/windows/win32/api/evntrace/ns-evntrace-event_trace_properties"><strong>EVENT_TRACE_PROPERTIES. Максимумфилесизе</strong></a>.</span><span class="sxs-lookup"><span data-stu-id="752eb-135">You must set <a href="/windows/win32/api/evntrace/ns-evntrace-event_trace_properties"><strong>EVENT_TRACE_PROPERTIES.MaximumFileSize</strong></a>.</span></span><br/> <span data-ttu-id="752eb-136">Вы не можете использовать режим для сеансов трассировки закрытых событий.</span><span class="sxs-lookup"><span data-stu-id="752eb-136">You cannot use the mode for private event tracing sessions.</span></span><br/> <span data-ttu-id="752eb-137"><strong>Windows 2000:</strong> Это значение не поддерживается.</span><span class="sxs-lookup"><span data-stu-id="752eb-137"><strong>Windows 2000:</strong> This value is not supported.</span></span><br/></td>
</tr>
<tr class="odd">
<td><span data-ttu-id="752eb-138"><strong>EVENT_TRACE_NONSTOPPABLE_MODE</strong>(0x00000040)</span><span class="sxs-lookup"><span data-stu-id="752eb-138"><strong>EVENT_TRACE_NONSTOPPABLE_MODE</strong>(0x00000040)</span></span></td>
<td><span data-ttu-id="752eb-139">Не удается остановить сеанс ведения журнала.</span><span class="sxs-lookup"><span data-stu-id="752eb-139">The logging session cannot be stopped.</span></span> <span data-ttu-id="752eb-140">Этот режим поддерживается только авторегистратором. Этот параметр поддерживается в Windows Vista и более поздних версиях.</span><span class="sxs-lookup"><span data-stu-id="752eb-140">This mode is only supported by Autologger.This option is supported on Windows Vista and later.</span></span><br/><span data-ttu-id="752eb-141">.</span><span class="sxs-lookup"><span data-stu-id="752eb-141">.</span></span></td>
</tr>
<tr class="even">
<td><span data-ttu-id="752eb-142"><strong>EVENT_TRACE_SECURE_MODE</strong> (0X00000080)</span><span class="sxs-lookup"><span data-stu-id="752eb-142"><strong>EVENT_TRACE_SECURE_MODE</strong> (0X00000080)</span></span></td>
<td><span data-ttu-id="752eb-143">Позволяет ограничивать регистрацию событий в сеансе с помощью разрешения <a href="/windows/desktop/api/Evntcons/nf-evntcons-eventaccesscontrol"><strong>TRACELOG_LOG_EVENT</strong></a> .</span><span class="sxs-lookup"><span data-stu-id="752eb-143">Restricts who can log events to the session to those with <a href="/windows/desktop/api/Evntcons/nf-evntcons-eventaccesscontrol"><strong>TRACELOG_LOG_EVENT</strong></a> permission.</span></span> <span data-ttu-id="752eb-144">Этот параметр поддерживается в Windows Vista и более поздних версиях.</span><span class="sxs-lookup"><span data-stu-id="752eb-144">This option is supported on Windows Vista and later.</span></span><br/></td>
</tr>
<tr class="odd">
<td><span data-ttu-id="752eb-145"><strong>EVENT_TRACE_REAL_TIME_MODE</strong> (0x00000100)</span><span class="sxs-lookup"><span data-stu-id="752eb-145"><strong>EVENT_TRACE_REAL_TIME_MODE</strong> (0x00000100)</span></span></td>
<td><span data-ttu-id="752eb-146">Предоставляет события потребителям в режиме реального времени.</span><span class="sxs-lookup"><span data-stu-id="752eb-146">Delivers the events to consumers in real-time.</span></span> <span data-ttu-id="752eb-147">События доставляются при очистке буферов, а не на момент записи события поставщиком.</span><span class="sxs-lookup"><span data-stu-id="752eb-147">Events are delivered when the buffers are flushed, not at the time the provider writes the event.</span></span> <span data-ttu-id="752eb-148">Не следует включать режим реального времени, если нет потребителей для использования событий, так как вызовы для журнала событий будут завершаться сбоем при заполнении буферов.</span><span class="sxs-lookup"><span data-stu-id="752eb-148">You should not enable real-time mode if there are no consumers to consume the events because calls to log events will eventually fail when the buffers become full.</span></span> <span data-ttu-id="752eb-149">До Windows Vista, если события не использовались, события были отклонены. Не указывайте более одного потребителя в режиме реального времени в одном процессе на Windows XP Орвиндовс Server 2003.</span><span class="sxs-lookup"><span data-stu-id="752eb-149">Prior to Windows Vista, if the events were not being consumed, the events were discarded.Do not specify more than one real-time consumer in one process on Windows XP orWindows Server 2003.</span></span> <span data-ttu-id="752eb-150">Вместо этого один поток потребляет события и распределяет события среди других.</span><span class="sxs-lookup"><span data-stu-id="752eb-150">Instead, have one thread consume events and distribute the events to others.</span></span><br/> <span data-ttu-id="752eb-151"><strong>До Windows Vista:</strong> Не следует использовать режим реального времени, так как Поддерживаемая частота событий намного ниже, чем при чтении из файла журнала (события могут быть удалены).</span><span class="sxs-lookup"><span data-stu-id="752eb-151"><strong>Prior to Windows Vista:</strong> You should not use real-time mode because the supported event rate is much lower than reading from the log file (events may be dropped).</span></span> <span data-ttu-id="752eb-152">Кроме того, порядок событий не гарантируется на компьютерах с несколькими процессорами.</span><span class="sxs-lookup"><span data-stu-id="752eb-152">Also, the event order is not guaranteed on computers with multiple processors.</span></span> <span data-ttu-id="752eb-153">Режим реального времени более подходит для событий низкого уровня трафика, типов уведомлений.</span><span class="sxs-lookup"><span data-stu-id="752eb-153">The real-time mode is more suitable for low-traffic, notification type events.</span></span><br/> <br/> <span data-ttu-id="752eb-154">Этот режим можно сочетать с другими режимами файла журнала. Однако не используйте этот режим с EVENT_TRACE_PRIVATE_LOGGER_MODE.</span><span class="sxs-lookup"><span data-stu-id="752eb-154">You can combine this mode with other log file modes; however, do not use this mode with EVENT_TRACE_PRIVATE_LOGGER_MODE.</span></span> <span data-ttu-id="752eb-155">Обратите внимание, что при объединении этого режима с другими режимами файла журнала буферы будут сбрасываться каждую секунду, что приведет к записи в файл журнала частично заполненных буферов.</span><span class="sxs-lookup"><span data-stu-id="752eb-155">Note that if you combine this mode with other log file modes, buffers will be flushed once every second, resulting in partially filled buffers being written to your log file.</span></span> <span data-ttu-id="752eb-156">Например, если вы используете буферы размером 64 КБ и скорость ведения журнала составляет 1 событие каждую секунду, служба запишет в файл журнала 64 КБ/с.</span><span class="sxs-lookup"><span data-stu-id="752eb-156">For example if you use 64k buffers and your logging rate is 1 event every second, the service will write 64k/second to your log file.</span></span><br/></td>
</tr>
<tr class="even">
<td><span data-ttu-id="752eb-157"><strong>EVENT_TRACE_DELAY_OPEN_FILE_MODE</strong>(0x00000200)</span><span class="sxs-lookup"><span data-stu-id="752eb-157"><strong>EVENT_TRACE_DELAY_OPEN_FILE_MODE</strong>(0x00000200)</span></span></td>
<td><span data-ttu-id="752eb-158">Этот режим используется для задержки открытия файла журнала до возникновения события.</span><span class="sxs-lookup"><span data-stu-id="752eb-158">This mode is used to delay opening the log file until an event occurs.</span></span> <br/>
<blockquote><span data-ttu-id="752eb-159">
<strong>Примечание</strong>.</span><span class="sxs-lookup"><span data-stu-id="752eb-159">
<strong>Note:</strong></span></span><br />
<span data-ttu-id="752eb-160">В Windows Vista и более поздних версиях этот режим не применяется, не следует использовать.</span><span class="sxs-lookup"><span data-stu-id="752eb-160">On Windows Vista or later, this mode is not applicable should not be used.</span></span>
</blockquote>
<br/></td>
</tr>
<tr class="odd">
<td><span data-ttu-id="752eb-161"><strong>EVENT_TRACE_BUFFERING_MODE</strong> (0x00000400)</span><span class="sxs-lookup"><span data-stu-id="752eb-161"><strong>EVENT_TRACE_BUFFERING_MODE</strong> (0x00000400)</span></span></td>
<td><span data-ttu-id="752eb-162">Этот режим записывает события в буфер кольцевой памяти.</span><span class="sxs-lookup"><span data-stu-id="752eb-162">This mode writes events to a circular memory buffer.</span></span> <span data-ttu-id="752eb-163">События, записанные за пределами общего размера буфера, проудаляют самые старые события, оставшиеся в буфере.</span><span class="sxs-lookup"><span data-stu-id="752eb-163">Events written beyond the total size of the buffer evict the oldest events still remaining in the buffer.</span></span> <span data-ttu-id="752eb-164">Размер этого буфера памяти является продуктом <strong>MinimumBuffers</strong> и <strong>bufferSize</strong> (см. <a href="/windows/win32/api/evntrace/ns-evntrace-event_trace_properties"><strong>EVENT_TRACE_PROPERTIES</strong></a>). Как следствие этой формулы, любой буфер, использующий <strong>EVENT_TRACE_BUFFERING_MODE</strong> , будет игнорировать значение <strong>максимумбуфферс</strong> .</span><span class="sxs-lookup"><span data-stu-id="752eb-164">The size of this memory buffer is the product of <strong>MinimumBuffers</strong> and <strong>BufferSize</strong> (see <a href="/windows/win32/api/evntrace/ns-evntrace-event_trace_properties"><strong>EVENT_TRACE_PROPERTIES</strong></a>).As a consequence of this formula, any buffer that uses <strong>EVENT_TRACE_BUFFERING_MODE</strong> will ignore the <strong>MaximumBuffers</strong> value.</span></span><br/> <span data-ttu-id="752eb-165">События не записываются в файл журнала или доставляются в режиме реального времени, а ETW не очищает буферы.</span><span class="sxs-lookup"><span data-stu-id="752eb-165">Events are not written to a log file or delivered in real-time, and ETW does not flush the buffers.</span></span> <span data-ttu-id="752eb-166">Чтобы получить моментальный снимок буфера, вызовите функцию <a href="/windows/win32/api/evntrace/nf-evntrace-flushtracea"><strong>флуштраце</strong></a> .</span><span class="sxs-lookup"><span data-stu-id="752eb-166">To get a snapshot of the buffer, call the <a href="/windows/win32/api/evntrace/nf-evntrace-flushtracea"><strong>FlushTrace</strong></a> function.</span></span><br/> <span data-ttu-id="752eb-167">Этот режим особенно полезен для отладки драйверов устройств в сочетании с возможностью просмотра содержимого буферов в памяти с помощью расширения отладчика ядра <a href="/windows-hardware/drivers/devtest/trace-session">вмитраце</a> .</span><span class="sxs-lookup"><span data-stu-id="752eb-167">This mode is particularly useful for debugging device drivers in conjunction with the ability to view the contents of in-memory buffers with the <a href="/windows-hardware/drivers/devtest/trace-session">WMITrace</a> kernel debugger extension.</span></span><br/> <span data-ttu-id="752eb-168">Не используйте с <strong>EVENT_TRACE_FILE_MODE_SEQUENTIAL</strong>, <strong>EVENT_TRACE_FILE_MODE_CIRCULAR</strong>, <strong>EVENT_TRACE_FILE_MODE_APPEND</strong>, <strong>EVENT_TRACE_FILE_MODE_NEWFILE</strong>или <strong>EVENT_TRACE_REAL_TIME_MODE</strong>.</span><span class="sxs-lookup"><span data-stu-id="752eb-168">Do not use with <strong>EVENT_TRACE_FILE_MODE_SEQUENTIAL</strong>, <strong>EVENT_TRACE_FILE_MODE_CIRCULAR</strong>, <strong>EVENT_TRACE_FILE_MODE_APPEND</strong>, <strong>EVENT_TRACE_FILE_MODE_NEWFILE</strong>, or <strong>EVENT_TRACE_REAL_TIME_MODE</strong>.</span></span><br/></td>
</tr>
<tr class="even">
<td><span data-ttu-id="752eb-169"><strong>EVENT_TRACE_PRIVATE_LOGGER_MODE</strong> (0x00000800)</span><span class="sxs-lookup"><span data-stu-id="752eb-169"><strong>EVENT_TRACE_PRIVATE_LOGGER_MODE</strong> (0x00000800)</span></span></td>
<td><span data-ttu-id="752eb-170">Создает сеанс отслеживания событий пользовательского режима, который выполняется в том же процессе, что и его поставщик трассировки событий.</span><span class="sxs-lookup"><span data-stu-id="752eb-170">Creates a user-mode event tracing session that runs in the same process as its event trace provider.</span></span> <span data-ttu-id="752eb-171">Память для буферов берется из памяти процесса.</span><span class="sxs-lookup"><span data-stu-id="752eb-171">The memory for buffers comes from the process's memory.</span></span> <span data-ttu-id="752eb-172">Процессы, не требующие данных от ядра, могут исключить издержки, связанные с переходами в режиме ядра, с помощью закрытого сеанса трассировки событий.</span><span class="sxs-lookup"><span data-stu-id="752eb-172">Processes that do not require data from the kernel can eliminate the overhead associated with kernel-mode transitions by using a private event tracing session.</span></span><br/> <span data-ttu-id="752eb-173">Если поставщик регистрируется несколькими процессами, ETW добавляет идентификатор процесса в имя файла журнала, чтобы создать уникальное имя файла журнала.</span><span class="sxs-lookup"><span data-stu-id="752eb-173">If the provider is registered by multiple processes, ETW appends the process identifier to the log file name to create a unique log file name.</span></span> <span data-ttu-id="752eb-174">Например, если контроллер определяет имена файлов журнала как к:\милогс\мипривателог.ЕТЛ, ETW создает файл журнала как к:\милогс\ myprivatelog.etl_nnnn, где nnnn — это идентификатор процесса.</span><span class="sxs-lookup"><span data-stu-id="752eb-174">For example, if the controller specifies the log file names as c:\mylogs\myprivatelog.etl, ETW creates the log file as c:\mylogs\myprivatelog.etl_nnnn, where nnnn is the process identifier.</span></span> <span data-ttu-id="752eb-175">Идентификатор процесса не добавляется к первому процессу, который регистрирует поставщик. он добавляется только в последующие процессы, регистрирующие поставщик.</span><span class="sxs-lookup"><span data-stu-id="752eb-175">The process identifier is not appended to the first process that registers the provider, it is appended to only the subsequent processes that register the provider.</span></span><br/> <span data-ttu-id="752eb-176">Сеансы трассировки закрытых событий имеют следующие ограничения.</span><span class="sxs-lookup"><span data-stu-id="752eb-176">Private event tracing sessions have the following limitations:</span></span><br/>
<ul>
<li><span data-ttu-id="752eb-177">Закрытый сеанс может записывать события только для потоков процесса, в котором он выполняется.</span><span class="sxs-lookup"><span data-stu-id="752eb-177">A private session can record events only for the threads of the process in which it is executing.</span></span></li>
<li><span data-ttu-id="752eb-178">На процесс может быть до восьми частных сеансов.</span><span class="sxs-lookup"><span data-stu-id="752eb-178">There can be up to eight private session per process.</span></span></li>
<li><span data-ttu-id="752eb-179">Нельзя использовать частные сеансы с доставкой в режиме реального времени.</span><span class="sxs-lookup"><span data-stu-id="752eb-179">Private sessions cannot be used with real-time delivery.</span></span></li>
<li><span data-ttu-id="752eb-180">События, создаваемые частным сеансом, не включают время выполнения для инструкций в режиме ядра и инструкции пользовательского режима или сведения об используемом времени ЦП на уровне потока.</span><span class="sxs-lookup"><span data-stu-id="752eb-180">Events that are generated by a private session do not include execution time for kernel-mode versus user-mode instructions, or thread-level detail of the CPU time used.</span></span></li>
</ul>
<span data-ttu-id="752eb-181">Фильтры ИДЕНТИФИКАТОРов процессов и имена исполняемых файлов теперь можно передавать в интерфейсы API управления сеансами при запуске общедоступных служебных средств ведения журнала.</span><span class="sxs-lookup"><span data-stu-id="752eb-181">Process ID filters and executable name filters can now be passed in to session control APIs when system wide private loggers are started.</span></span> <span data-ttu-id="752eb-182">Для получения наилучших результатов в сценариях кросс-обработка одни и те же фильтры должны передаваться каждой операции управления во время сеанса, включая вызовы Enable/диасбле поставщика.</span><span class="sxs-lookup"><span data-stu-id="752eb-182">For the best results in cross process scenarios, the same filters should be passed to every control operation during the session, including provider enable/diasble calls.</span></span> <span data-ttu-id="752eb-183">Обратите внимание, что фильтры имеют тот же формат, который используется <a href="/windows/win32/api/evntrace/nf-evntrace-enabletraceex2"><strong>EnableTraceEx2</strong></a>.</span><span class="sxs-lookup"><span data-stu-id="752eb-183">Note that the filters have the same format as those consumed by <a href="/windows/win32/api/evntrace/nf-evntrace-enabletraceex2"><strong>EnableTraceEx2</strong></a>.</span></span> <br/> <span data-ttu-id="752eb-184">Этот режим можно использовать в сочетании с режимом <strong>EVENT_TRACE_PRIVATE_IN_PROC</strong> .</span><span class="sxs-lookup"><span data-stu-id="752eb-184">You can use this mode in conjunction with the <strong>EVENT_TRACE_PRIVATE_IN_PROC</strong> mode.</span></span><br/> <span data-ttu-id="752eb-185"><strong>До Windows 10, версия 1703:</strong> Только учетные записи LocalSystem, Administrator и Users в группе администраторов, которые выполняются в процессе с повышенными правами, могут создать частный сеанс.</span><span class="sxs-lookup"><span data-stu-id="752eb-185"><strong>Prior to Windows 10, version 1703:</strong> Only LocalSystem, the administrator, and users in the administrator group that run in an elevated process can create a private session.</span></span> <span data-ttu-id="752eb-186">Если включить флаг <strong>EVENT_TRACE_PRIVATE_IN_PROC</strong> , любой пользователь может создать внутрипроцессный частный сеанс.</span><span class="sxs-lookup"><span data-stu-id="752eb-186">If you include the <strong>EVENT_TRACE_PRIVATE_IN_PROC</strong> flag, any user can create an in-process private session.</span></span> <span data-ttu-id="752eb-187">Кроме того, в предыдущих версиях Windows для одного процесса может существовать только один частный сеанс (кроме случая, когда также указан режим EVENT_TRACE_PRIVATE_IN_PROC. в этом случае можно создать до трех в процессе частных сеансов).</span><span class="sxs-lookup"><span data-stu-id="752eb-187">Also, in prior versions of Windows, there can only be one private session per process (unless the EVENT_TRACE_PRIVATE_IN_PROC mode is also specified, in which case you can create up to three in-process private sessions).</span></span> <br/> <span data-ttu-id="752eb-188"><strong>До Windows Vista:</strong> Пользователи из группы "Пользователи журнала производительности" могут также создать частный сеанс.</span><span class="sxs-lookup"><span data-stu-id="752eb-188"><strong>Prior to Windows Vista:</strong> Users in the Performance Log Users group could also create a private session.</span></span><br/> <br/> <span data-ttu-id="752eb-189">Не используйте с EVENT_TRACE_REAL_TIME_MODE.</span><span class="sxs-lookup"><span data-stu-id="752eb-189">Do not use with EVENT_TRACE_REAL_TIME_MODE.</span></span><br/> <span data-ttu-id="752eb-190"><strong>До Windows 7 и Windows Server 2008 R2:</strong> Не используйте с EVENT_TRACE_FILE_MODE_NEWFILE.</span><span class="sxs-lookup"><span data-stu-id="752eb-190"><strong>Prior to Windows 7 and Windows Server 2008 R2:</strong> Do not use with EVENT_TRACE_FILE_MODE_NEWFILE.</span></span><br/></td>
</tr>
<tr class="odd">
<td><span data-ttu-id="752eb-191"><strong>EVENT_TRACE_ADD_HEADER_MODE</strong>(0x00001000)</span><span class="sxs-lookup"><span data-stu-id="752eb-191"><strong>EVENT_TRACE_ADD_HEADER_MODE</strong>(0x00001000)</span></span></td>
<td><span data-ttu-id="752eb-192">Этот параметр добавляет заголовок в файл журнала.</span><span class="sxs-lookup"><span data-stu-id="752eb-192">This option adds a header to the log file.</span></span><br/>
<blockquote><span data-ttu-id="752eb-193">
<strong>Примечание</strong>.</span><span class="sxs-lookup"><span data-stu-id="752eb-193">
<strong>Note:</strong></span></span><br />
<span data-ttu-id="752eb-194">В Windows Vista и более поздних версиях этот режим не применяется, не следует использовать.</span><span class="sxs-lookup"><span data-stu-id="752eb-194">On Windows Vista or later, this mode is not applicable should not be used.</span></span>
</blockquote>
<br/></td>
</tr>
<tr class="even">
<td><span data-ttu-id="752eb-195"><strong>EVENT_TRACE_USE_KBYTES_FOR_SIZE</strong>(0x00002000)</span><span class="sxs-lookup"><span data-stu-id="752eb-195"><strong>EVENT_TRACE_USE_KBYTES_FOR_SIZE</strong>(0x00002000)</span></span></td>
<td><span data-ttu-id="752eb-196">Используйте килобайты в качестве единицы измерения для указания размера файла.</span><span class="sxs-lookup"><span data-stu-id="752eb-196">Use kilobytes as the unit of measure for specifying the size of a file.</span></span> <span data-ttu-id="752eb-197">Единицей измерения по умолчанию является мегабайт.</span><span class="sxs-lookup"><span data-stu-id="752eb-197">The default unit of measure is megabytes.</span></span> <span data-ttu-id="752eb-198">Этот режим применяется к значению реестра <strong>MaxFileSize</strong> для сеанса <a href="configuring-and-starting-an-autologger-session.md">авторегистратора</a> и элементу <strong>максимумфилесизе</strong> в <a href="/windows/win32/api/evntrace/ns-evntrace-event_trace_properties"><strong>EVENT_TRACE_PROPERTIES</strong></a>.</span><span class="sxs-lookup"><span data-stu-id="752eb-198">This mode applies to the <strong>MaxFileSize</strong> registry value for an <a href="configuring-and-starting-an-autologger-session.md">AutoLogger</a> session and the <strong>MaximumFileSize</strong> member of <a href="/windows/win32/api/evntrace/ns-evntrace-event_trace_properties"><strong>EVENT_TRACE_PROPERTIES</strong></a>.</span></span> <span data-ttu-id="752eb-199">Этот параметр поддерживается в Windows Vista и более поздних версиях.</span><span class="sxs-lookup"><span data-stu-id="752eb-199">This option is supported on Windows Vista and later.</span></span><br/></td>
</tr>
<tr class="odd">
<td><span data-ttu-id="752eb-200"><strong>EVENT_TRACE_USE_GLOBAL_SEQUENCE</strong>(0x00004000)</span><span class="sxs-lookup"><span data-stu-id="752eb-200"><strong>EVENT_TRACE_USE_GLOBAL_SEQUENCE</strong>(0x00004000)</span></span></td>
<td><span data-ttu-id="752eb-201">Использует порядковые номера, уникальные для сеансов трассировки событий.</span><span class="sxs-lookup"><span data-stu-id="752eb-201">Uses sequence numbers that are unique across event tracing sessions.</span></span> <span data-ttu-id="752eb-202">Этот режим применяется только к событиям, регистрируемым с помощью функции <a href="/windows/win32/api/evntrace/nf-evntrace-tracemessage"><strong>трацемессаже</strong></a> .</span><span class="sxs-lookup"><span data-stu-id="752eb-202">This mode only applies to events logged using the <a href="/windows/win32/api/evntrace/nf-evntrace-tracemessage"><strong>TraceMessage</strong></a> function.</span></span> <span data-ttu-id="752eb-203">Дополнительные сведения см. в разделе <strong>трацемессаже</strong> to Usage Details.</span><span class="sxs-lookup"><span data-stu-id="752eb-203">For more information, see <strong>TraceMessage</strong> for usage details.</span></span><br/> <span data-ttu-id="752eb-204"><strong>EVENT_TRACE_USE_GLOBAL_SEQUENCE</strong> и <strong>EVENT_TRACE_USE_LOCAL_SEQUENCE</strong> являются взаимоисключающими.</span><span class="sxs-lookup"><span data-stu-id="752eb-204"><strong>EVENT_TRACE_USE_GLOBAL_SEQUENCE</strong> and <strong>EVENT_TRACE_USE_LOCAL_SEQUENCE</strong> are mutually exclusive.</span></span><br/> <span data-ttu-id="752eb-205"><strong>Windows 2000:</strong> Это значение не поддерживается.</span><span class="sxs-lookup"><span data-stu-id="752eb-205"><strong>Windows 2000:</strong> This value is not supported.</span></span><br/></td>
</tr>
<tr class="even">
<td><span data-ttu-id="752eb-206"><strong>EVENT_TRACE_USE_LOCAL_SEQUENCE</strong> (0x00008000)</span><span class="sxs-lookup"><span data-stu-id="752eb-206"><strong>EVENT_TRACE_USE_LOCAL_SEQUENCE</strong> (0x00008000)</span></span></td>
<td><span data-ttu-id="752eb-207">Использует порядковые номера, уникальные только для отдельного сеанса трассировки событий.</span><span class="sxs-lookup"><span data-stu-id="752eb-207">Uses sequence numbers that are unique only for an individual event tracing session.</span></span> <span data-ttu-id="752eb-208">Этот режим применяется только к событиям, регистрируемым с помощью функции <a href="/windows/win32/api/evntrace/nf-evntrace-tracemessage"><strong>трацемессаже</strong></a> .</span><span class="sxs-lookup"><span data-stu-id="752eb-208">This mode only applies to events logged using the <a href="/windows/win32/api/evntrace/nf-evntrace-tracemessage"><strong>TraceMessage</strong></a> function.</span></span> <span data-ttu-id="752eb-209">Дополнительные сведения см. в разделе <strong>трацемессаже</strong> to Usage Details.</span><span class="sxs-lookup"><span data-stu-id="752eb-209">For more information, see <strong>TraceMessage</strong> for usage details.</span></span><br/> <span data-ttu-id="752eb-210"><strong>EVENT_TRACE_USE_GLOBAL_SEQUENCE</strong> и <strong>EVENT_TRACE_USE_LOCAL_SEQUENCE</strong> являются взаимоисключающими.</span><span class="sxs-lookup"><span data-stu-id="752eb-210"><strong>EVENT_TRACE_USE_GLOBAL_SEQUENCE</strong> and <strong>EVENT_TRACE_USE_LOCAL_SEQUENCE</strong> are mutually exclusive.</span></span><br/> <span data-ttu-id="752eb-211"><strong>Windows 2000:</strong> Это значение не поддерживается.</span><span class="sxs-lookup"><span data-stu-id="752eb-211"><strong>Windows 2000:</strong> This value is not supported.</span></span><br/></td>
</tr>
<tr class="odd">
<td><span data-ttu-id="752eb-212"><strong>EVENT_TRACE_RELOG_MODE</strong> (0x00010000)</span><span class="sxs-lookup"><span data-stu-id="752eb-212"><strong>EVENT_TRACE_RELOG_MODE</strong> (0x00010000)</span></span></td>
<td><span data-ttu-id="752eb-213">Регистрирует событие, не включая <a href="/windows/win32/api/evntrace/ns-evntrace-event_trace_header"><strong>EVENT_TRACE_HEADER</strong></a>.</span><span class="sxs-lookup"><span data-stu-id="752eb-213">Logs the event without including <a href="/windows/win32/api/evntrace/ns-evntrace-event_trace_header"><strong>EVENT_TRACE_HEADER</strong></a>.</span></span>
<blockquote><span data-ttu-id="752eb-214">
<strong>Примечание</strong>.</span><span class="sxs-lookup"><span data-stu-id="752eb-214">
<strong>Note:</strong></span></span><br />
<span data-ttu-id="752eb-215">Этот режим не следует использовать.</span><span class="sxs-lookup"><span data-stu-id="752eb-215">This mode should not be used.</span></span> <span data-ttu-id="752eb-216">Он зарезервирован для внутреннего использования.</span><span class="sxs-lookup"><span data-stu-id="752eb-216">It is reserved for internal use.</span></span>
</blockquote>
<br/> <span data-ttu-id="752eb-217"><strong>Windows 2000:</strong> Это значение не поддерживается.</span><span class="sxs-lookup"><span data-stu-id="752eb-217"><strong>Windows 2000:</strong> This value is not supported.</span></span><br/></td>
</tr>
<tr class="even">
<td><span data-ttu-id="752eb-218"><strong>EVENT_TRACE_PRIVATE_IN_PROC</strong> (0x00020000)</span><span class="sxs-lookup"><span data-stu-id="752eb-218"><strong>EVENT_TRACE_PRIVATE_IN_PROC</strong> (0x00020000)</span></span></td>
<td><span data-ttu-id="752eb-219">Используйте в сочетании с режимом <strong>EVENT_TRACE_PRIVATE_LOGGER_MODE</strong> для запуска закрытого сеанса.</span><span class="sxs-lookup"><span data-stu-id="752eb-219">Use in conjunction with the <strong>EVENT_TRACE_PRIVATE_LOGGER_MODE</strong> mode to start a private session.</span></span> <span data-ttu-id="752eb-220">Этот режим гарантирует, что только процесс, который зарегистрировал GUID поставщика, может запустить сеанс ведения журнала с этим GUID.</span><span class="sxs-lookup"><span data-stu-id="752eb-220">This mode enforces that only the process that registered the provider GUID can start the logger session with that GUID.</span></span><br/> <span data-ttu-id="752eb-221">Для каждого процесса можно создать до трех процессов в виде частных сеансов.</span><span class="sxs-lookup"><span data-stu-id="752eb-221">You can create up to three in-process private sessions per process.</span></span><br/> <span data-ttu-id="752eb-222">Этот параметр поддерживается в Windows Vista и более поздних версиях.</span><span class="sxs-lookup"><span data-stu-id="752eb-222">This option is supported on Windows Vista and later.</span></span><br/></td>
</tr>
<tr class="odd">
<td><span data-ttu-id="752eb-223"><strong>EVENT_TRACE_MODE_RESERVED</strong>(0x00100000)</span><span class="sxs-lookup"><span data-stu-id="752eb-223"><strong>EVENT_TRACE_MODE_RESERVED</strong>(0x00100000)</span></span></td>
<td><span data-ttu-id="752eb-224">Этот параметр используется для сигнализации трассировки кучи и критической секции.</span><span class="sxs-lookup"><span data-stu-id="752eb-224">This option is used to signal heap and critical section tracing.</span></span> <span data-ttu-id="752eb-225">Этот параметр поддерживается в Windows Vista и более поздних версиях.</span><span class="sxs-lookup"><span data-stu-id="752eb-225">This option is supported on Windows Vista and later.</span></span><br/></td>
</tr>
<tr class="even">
<td><span data-ttu-id="752eb-226"><strong>EVENT_TRACE_STOP_ON_HYBRID_SHUTDOWN</strong>(0x00400000)</span><span class="sxs-lookup"><span data-stu-id="752eb-226"><strong>EVENT_TRACE_STOP_ON_HYBRID_SHUTDOWN</strong>(0x00400000)</span></span></td>
<td><span data-ttu-id="752eb-227">Этот параметр останавливает ведение журнала гибридного завершения работы.</span><span class="sxs-lookup"><span data-stu-id="752eb-227">This option stops logging on hybrid shutdown.</span></span> <span data-ttu-id="752eb-228">Если не указано ни <strong>EVENT_TRACE_STOP_ON_HYBRID_SHUTDOWN</strong> , ни <strong>EVENT_TRACE_PERSIST_ON_HYBRID_SHUTDOWN</strong> , ETW выбирает значение по умолчанию в зависимости от того, поступает ли вызывающий объект из сеанса 0. Этот параметр поддерживается в Windows 8 и Windows Server 2012.</span><span class="sxs-lookup"><span data-stu-id="752eb-228">If neither <strong>EVENT_TRACE_STOP_ON_HYBRID_SHUTDOWN</strong> or <strong>EVENT_TRACE_PERSIST_ON_HYBRID_SHUTDOWN</strong> is specified, ETW will chose a default based on whether the caller is coming from Session 0 or not.This option is supported on Windows 8 and Windows Server 2012.</span></span> <br/></td>
</tr>
<tr class="odd">
<td><span data-ttu-id="752eb-229"><strong>EVENT_TRACE_PERSIST_ON_HYBRID_SHUTDOWN</strong>(0x00800000)</span><span class="sxs-lookup"><span data-stu-id="752eb-229"><strong>EVENT_TRACE_PERSIST_ON_HYBRID_SHUTDOWN</strong>(0x00800000)</span></span></td>
<td><span data-ttu-id="752eb-230">Этот параметр позволяет продолжить ведение журнала гибридного завершения работы.</span><span class="sxs-lookup"><span data-stu-id="752eb-230">This option continues logging on hybrid shutdown.</span></span> <span data-ttu-id="752eb-231">Если не указано ни <strong>EVENT_TRACE_STOP_ON_HYBRID_SHUTDOWN</strong> , ни <strong>EVENT_TRACE_PERSIST_ON_HYBRID_SHUTDOWN</strong> , ETW выбирает значение по умолчанию в зависимости от того, поступает ли вызывающий объект из сеанса 0. Этот параметр поддерживается в Windows 8 и Windows Server 2012.</span><span class="sxs-lookup"><span data-stu-id="752eb-231">If neither <strong>EVENT_TRACE_STOP_ON_HYBRID_SHUTDOWN</strong> or <strong>EVENT_TRACE_PERSIST_ON_HYBRID_SHUTDOWN</strong> is specified, ETW will chose a default based on whether the caller is coming from Session 0 or not.This option is supported on Windows 8 and Windows Server 2012.</span></span> <br/></td>
</tr>
<tr class="even">
<td><span data-ttu-id="752eb-232"><strong>EVENT_TRACE_USE_PAGED_MEMORY</strong> (0x01000000)</span><span class="sxs-lookup"><span data-stu-id="752eb-232"><strong>EVENT_TRACE_USE_PAGED_MEMORY</strong> (0x01000000)</span></span></td>
<td><span data-ttu-id="752eb-233">Использует страничную память.</span><span class="sxs-lookup"><span data-stu-id="752eb-233">Uses paged memory.</span></span> <span data-ttu-id="752eb-234">Этот параметр рекомендуется использовать, чтобы события не использовали нестраничную память. Нестраничные буферы используют память в невыгружаемом страничном пространстве для буферного пространства.</span><span class="sxs-lookup"><span data-stu-id="752eb-234">This setting is recommended so that events do not use up the nonpaged memory.Nonpaged buffers use nonpaged memory for buffer space.</span></span> <span data-ttu-id="752eb-235">Поскольку буферы без страничного обмена никогда не выгружаются, сеанс ведения журнала работает нормально.</span><span class="sxs-lookup"><span data-stu-id="752eb-235">Because nonpaged buffers are never paged out, a logging session performs well.</span></span> <span data-ttu-id="752eb-236">Использование страничных буферов снижает нагрузку на ресурсы.</span><span class="sxs-lookup"><span data-stu-id="752eb-236">Using pageable buffers is less resource-intensive.</span></span><br/> <span data-ttu-id="752eb-237">Поставщики режима ядра и системные средства ведения журнала не могут регистрировать события в сеансах, в которых указан этот режим ведения журнала.</span><span class="sxs-lookup"><span data-stu-id="752eb-237">Kernel-mode providers and system loggers cannot log events to sessions that specify this logging mode.</span></span><br/> <span data-ttu-id="752eb-238">Этот режим игнорируется, если задан параметр <strong>EVENT_TRACE_PRIVATE_LOGGER_MODE</strong> .</span><span class="sxs-lookup"><span data-stu-id="752eb-238">This mode is ignored if <strong>EVENT_TRACE_PRIVATE_LOGGER_MODE</strong> is set.</span></span><br/> <span data-ttu-id="752eb-239">Этот режим нельзя использовать с журналом ядра NT.</span><span class="sxs-lookup"><span data-stu-id="752eb-239">You cannot use this mode with the NT Kernel Logger.</span></span><br/> <span data-ttu-id="752eb-240"><strong>Windows 2000:</strong> Это значение не поддерживается.</span><span class="sxs-lookup"><span data-stu-id="752eb-240"><strong>Windows 2000:</strong> This value is not supported.</span></span><br/></td>
</tr>
<tr class="odd">
<td><span data-ttu-id="752eb-241"><strong>EVENT_TRACE_SYSTEM_LOGGER_MODE</strong>(0x02000000)</span><span class="sxs-lookup"><span data-stu-id="752eb-241"><strong>EVENT_TRACE_SYSTEM_LOGGER_MODE</strong>(0x02000000)</span></span></td>
<td><span data-ttu-id="752eb-242">Этот параметр позволяет получить события от Системтрацепровидер.</span><span class="sxs-lookup"><span data-stu-id="752eb-242">This option will receive events from SystemTraceProvider.</span></span> <span data-ttu-id="752eb-243">Если параметр <a href="/windows/win32/api/evntrace/nf-evntrace-starttracea"><strong>старттраце</strong></a><em>Properties</em> <strong>логфилемоде</strong> включает этот флаг, средство ведения журнала будет системным средством ведения журнала. Этот параметр поддерживается в Windows 8 и Windows Server 2012.</span><span class="sxs-lookup"><span data-stu-id="752eb-243">If the <a href="/windows/win32/api/evntrace/nf-evntrace-starttracea"><strong>StartTrace</strong></a><em>Properties</em> parameter <strong>LogFileMode</strong> includes this flag, the logger will be a system logger.This option is supported on Windows 8 and Windows Server 2012.</span></span> <br/></td>
</tr>
<tr class="even">
<td><span data-ttu-id="752eb-244"><strong>EVENT_TRACE_INDEPENDENT_SESSION_MODE</strong>(0x08000000)</span><span class="sxs-lookup"><span data-stu-id="752eb-244"><strong>EVENT_TRACE_INDEPENDENT_SESSION_MODE</strong>(0x08000000)</span></span></td>
<td><span data-ttu-id="752eb-245">Указывает, что для сеанса ведения журнала не должны быть затронуты сбои <a href="/windows/desktop/api/Evntprov/nf-evntprov-eventwrite"><strong>EventWrite</strong></a> в других сеансах.</span><span class="sxs-lookup"><span data-stu-id="752eb-245">Indicates that a logging session should not be affected by <a href="/windows/desktop/api/Evntprov/nf-evntprov-eventwrite"><strong>EventWrite</strong></a> failures in other sessions.</span></span> <span data-ttu-id="752eb-246">Без этого флага, если событие не может быть опубликовано в одном из сеансов, на которое включен поставщик, событие не будет опубликовано ни в одном из сеансов.</span><span class="sxs-lookup"><span data-stu-id="752eb-246">Without this flag, if an event cannot be published to one of the sessions that a provider is enabled to, the event will not get published to any of the sessions.</span></span> <span data-ttu-id="752eb-247">Если этот флаг установлен, ошибка записи события в один сеанс не приведет к возврату функцией <strong>EventWrite</strong> кода ошибки в других сеансах.</span><span class="sxs-lookup"><span data-stu-id="752eb-247">When this flag is set, a failure to write an event to one session will not cause the <strong>EventWrite</strong> function to return an error code in other sessions.</span></span> <br/> <span data-ttu-id="752eb-248">Не используйте с <strong>EVENT_TRACE_PRIVATE_LOGGER_MODE</strong>.</span><span class="sxs-lookup"><span data-stu-id="752eb-248">Do not use with <strong>EVENT_TRACE_PRIVATE_LOGGER_MODE</strong>.</span></span> <br/> <span data-ttu-id="752eb-249">Этот параметр поддерживается в Windows 8.1, Windows Server 2012 R2 и более поздних версиях.</span><span class="sxs-lookup"><span data-stu-id="752eb-249">This option is supported on Windows 8.1, Windows Server 2012 R2, and later.</span></span><br/></td>
</tr>
<tr class="odd">
<td><span data-ttu-id="752eb-250"><strong>EVENT_TRACE_NO_PER_PROCESSOR_BUFFERING</strong> (0x10000000)</span><span class="sxs-lookup"><span data-stu-id="752eb-250"><strong>EVENT_TRACE_NO_PER_PROCESSOR_BUFFERING</strong> (0x10000000)</span></span></td>
<td><span data-ttu-id="752eb-251">Записывает события, которые были зарегистрированы на разных процессорах, в общий буфер.</span><span class="sxs-lookup"><span data-stu-id="752eb-251">Writes events that were logged on different processors to a common buffer.</span></span> <span data-ttu-id="752eb-252">Использование этого режима может устранить проблемы, возникшие при публикации событий на разных процессорах с помощью системного времени.</span><span class="sxs-lookup"><span data-stu-id="752eb-252">Using this mode can eliminate the issue of events appearing out of order when events are being published on different processors using system time.</span></span> <span data-ttu-id="752eb-253">Этот режим также позволяет устранить проблемы с циклическими журналами, которые появляются для удаления событий на нескольких процессорных компьютерах.</span><span class="sxs-lookup"><span data-stu-id="752eb-253">This mode can also eliminate the issue with circular logs appearing to drop events on multiple processor computers.</span></span><br/> <span data-ttu-id="752eb-254">Если этот режим не используется и используется системное время, события могут отображаться не по порядку на нескольких процессорных компьютерах.</span><span class="sxs-lookup"><span data-stu-id="752eb-254">If you do not use this mode and you use system time, the events may appear out of order on multiple processor computers.</span></span> <span data-ttu-id="752eb-255">Это обусловлено тем, что буферы ETW связаны с процессором, а не с потоком.</span><span class="sxs-lookup"><span data-stu-id="752eb-255">This is because ETW buffers are associated with a processor instead of a thread.</span></span> <span data-ttu-id="752eb-256">В результате, если поток переключается с одного ЦП на другой, буфер, связанный с последним ПРОЦЕССОРом, может быть записан на диск до того, как он был связан с предыдущим ПРОЦЕССОРом.</span><span class="sxs-lookup"><span data-stu-id="752eb-256">As a result, if a thread is switched from one CPU to another, the buffer associated with the latter CPU can be flushed to disk before the one associated with the former CPU.</span></span><br/> <span data-ttu-id="752eb-257">Если вы ожидаете большой объем событий (например, более 1 000 событий в секунду), не следует использовать этот режим.</span><span class="sxs-lookup"><span data-stu-id="752eb-257">If you expect a high volume of events (for example, more than 1,000 events per second), you should not use this mode.</span></span><br/> <span data-ttu-id="752eb-258">Обратите внимание, что номер процессора не входит в состав события.</span><span class="sxs-lookup"><span data-stu-id="752eb-258">Note that the processor number is not included with the event.</span></span><br/> <span data-ttu-id="752eb-259">Этот параметр поддерживается в Windows 7, Windows Server 2008 R2 и более поздних версиях.</span><span class="sxs-lookup"><span data-stu-id="752eb-259">This option is supported on Windows 7, Windows Server 2008 R2, and later.</span></span><br/></td>
</tr>
<tr class="even">
<td><span data-ttu-id="752eb-260"><strong>EVENT_TRACE_ADDTO_TRIAGE_DUMP</strong>(0x80000000)</span><span class="sxs-lookup"><span data-stu-id="752eb-260"><strong>EVENT_TRACE_ADDTO_TRIAGE_DUMP</strong>(0x80000000)</span></span></td>
<td><span data-ttu-id="752eb-261">Этот параметр добавляет буферы ETW к дампам рассмотрения.</span><span class="sxs-lookup"><span data-stu-id="752eb-261">This option adds ETW buffers to triage dumps.</span></span> <span data-ttu-id="752eb-262">Этот параметр поддерживается в Windows 8 и Windows Server 2012.</span><span class="sxs-lookup"><span data-stu-id="752eb-262">This option is supported on Windows 8 and Windows Server 2012.</span></span> <br/></td>
</tr>
</tbody>
</table>
