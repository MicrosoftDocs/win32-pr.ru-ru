---
description: В этом разделе описываются новые функции, добавленные в трассировку событий для Windows в каждом выпуске.
ms.assetid: 5d94a6d2-2280-4a97-aa5a-c9ca2c016c84
title: Новые возможности трассировки событий
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 613433834e5a11f2886b6ee314fdb60114f66976
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "103810924"
---
# <a name="whats-new-in-event-tracing"></a><span data-ttu-id="2c420-103">Новые возможности трассировки событий</span><span class="sxs-lookup"><span data-stu-id="2c420-103">What's New in Event Tracing</span></span>

<span data-ttu-id="2c420-104">В этом разделе описываются новые функции, добавленные в трассировку событий для Windows в каждом выпуске.</span><span class="sxs-lookup"><span data-stu-id="2c420-104">This section describes the new features that were added to Event Tracing for Windows in each release.</span></span>

## <a name="windows-10-version-1709"></a><span data-ttu-id="2c420-105">Windows 10 версии 1709</span><span class="sxs-lookup"><span data-stu-id="2c420-105">Windows 10, version 1709</span></span>

<span data-ttu-id="2c420-106">Теперь ETW может при необходимости отслеживаниь двоичных файлов для всех поставщиков, включенных в сеанс.</span><span class="sxs-lookup"><span data-stu-id="2c420-106">ETW can now optionally track binaries for all providers that are enabled to the session.</span></span> <span data-ttu-id="2c420-107">Отслеживание применяет задним числом для поставщиков, которые были включены в сеанс до вызова, а также для всех будущих поставщиков, включенных в сеанс.</span><span class="sxs-lookup"><span data-stu-id="2c420-107">The tracking applies retroactively for providers that were enabled to the session prior to the call, as well as for all future providers that are enabled to the session.</span></span> <span data-ttu-id="2c420-108">Теперь вы также можете запросить текущее максимальное количество системных средств ведения журнала, разрешенное операционной системой.</span><span class="sxs-lookup"><span data-stu-id="2c420-108">You can also now query for the currently-configured maximum number of system loggers allowed by the operating system.</span></span> <span data-ttu-id="2c420-109">Дополнительные сведения см. в описании значений **трацепровидербинаритраккинг** и **трацемакслогжерскуери** в перечислении [**\_ \_ классов сведений трассировки**](/windows/win32/api/evntrace/ne-evntrace-trace_query_info_class) , а также при [извлечении дополнительных данных трассировки событий](retrieving-additional-event-tracing-data.md).</span><span class="sxs-lookup"><span data-stu-id="2c420-109">For more information, see the **TraceProviderBinaryTracking** and **TraceMaxLoggersQuery** values of the [**TRACE\_INFO\_CLASS**](/windows/win32/api/evntrace/ne-evntrace-trace_query_info_class) enumeration, as well as [Retrieving Additional Event Tracing Data](retrieving-additional-event-tracing-data.md).</span></span>

<span data-ttu-id="2c420-110">Теперь ETW может фильтровать события на основе имени события.</span><span class="sxs-lookup"><span data-stu-id="2c420-110">ETW can now filter events based on event name.</span></span> <span data-ttu-id="2c420-111">Также можно определить, какие события получают свои стеки.</span><span class="sxs-lookup"><span data-stu-id="2c420-111">You can also determine which events get their stacks captured.</span></span> <span data-ttu-id="2c420-112">Дополнительные сведения см. в разделе **\_ \_ \_ \_ имя события типа фильтра** событий, **\_ тип фильтра \_ событий \_ стакквалк \_ имя** и \*\*\_ тип фильтра событий \_ \_ \_ \_ кВт \*\*\* значения структуры [**\_ \_ дескриптора**](/windows/desktop/api/Evntprov/ns-evntprov-event_filter_descriptor) событий, а также связанные с ними [**\_ \_ \_ имя события фильтра**](/windows/desktop/api/Evntprov/ns-evntprov-event_filter_event_name) событий и [\*\*\_ уровни фильтрации событий \_ \_ кВт \*\*\*](/windows/desktop/api/Evntprov/ns-evntprov-event_filter_level_kw) .</span><span class="sxs-lookup"><span data-stu-id="2c420-112">For more information, see the **EVENT\_FILTER\_TYPE\_EVENT\_NAME**, **EVENT\_FILTER\_TYPE\_STACKWALK\_NAME** , and **EVENT\_FILTER\_TYPE\_STACKWALK\_LEVEL\_KW** values of the [**EVENT\_FILTER\_DESCRIPTOR**](/windows/desktop/api/Evntprov/ns-evntprov-event_filter_descriptor) structure, as well as the associated [**EVENT\_FILTER\_EVENT\_NAME**](/windows/desktop/api/Evntprov/ns-evntprov-event_filter_event_name) and [**EVENT\_FILTER\_LEVEL\_KW**](/windows/desktop/api/Evntprov/ns-evntprov-event_filter_level_kw) structures.</span></span>

## <a name="windows-10"></a><span data-ttu-id="2c420-113">Windows 10</span><span class="sxs-lookup"><span data-stu-id="2c420-113">Windows 10</span></span>

<span data-ttu-id="2c420-114">[Трацелоггинг](../tracelogging/trace-logging-portal.md) строится на трассировке событий Windows и предоставляет упрощенный способ инструментирования кода для разработчиков в машинном коде, .NET и WinRT.</span><span class="sxs-lookup"><span data-stu-id="2c420-114">[TraceLogging](../tracelogging/trace-logging-portal.md) builds on ETW and provides a simplified way to instrument code for native, .NET and WinRT developers.</span></span> <span data-ttu-id="2c420-115">Трацелоггинг позволяет включать структурированные данные с событиями, сопоставлять события и не требует отдельного XML-файла манифеста инструментирования.</span><span class="sxs-lookup"><span data-stu-id="2c420-115">TraceLogging allows you to include structured data with events, correlate events, and does not require a separate instrumentation manifest XML file.</span></span>

<span data-ttu-id="2c420-116">[Признаки поставщика](provider-traits.md) были добавлены как метод присоединения дополнительных данных к регистрации отдельного поставщика.</span><span class="sxs-lookup"><span data-stu-id="2c420-116">[Provider Traits](provider-traits.md) were added as a method of attaching more data to an individual provider registration.</span></span> <span data-ttu-id="2c420-117">Их можно использовать для поставщиков на основе манифеста или Трацелоггинг.</span><span class="sxs-lookup"><span data-stu-id="2c420-117">They can be used for manifest-based or TraceLogging providers.</span></span> <span data-ttu-id="2c420-118">В настоящее время это включает поддержку добавления имени поставщика и (или) группы поставщиков к регистрации отдельного поставщика.</span><span class="sxs-lookup"><span data-stu-id="2c420-118">This currently includes support for adding a Provider Name and/or a Provider Group to an individual provider registration.</span></span> <span data-ttu-id="2c420-119">Группы поставщиков — это новая функция, позволяющая управлять несколькими поставщиками ETW в статистической обработке группой, к которой они принадлежат.</span><span class="sxs-lookup"><span data-stu-id="2c420-119">Provider Groups are a new feature to allow multiple ETW providers to be controlled in aggregate by the group they belong to.</span></span>

<span data-ttu-id="2c420-120">Состояние периодической записи — это способ, который позволяет регулярно отправлять уведомления о состоянии записи поставщикам.</span><span class="sxs-lookup"><span data-stu-id="2c420-120">Periodic capture state is a way to allow capture state notifications to be routinely sent to providers.</span></span> <span data-ttu-id="2c420-121">Если этот параметр включен, уведомления будут отправляться только в регистрации поставщиков, которые ранее были включены в текущий сеанс.</span><span class="sxs-lookup"><span data-stu-id="2c420-121">When this is enabled, notifications will only be sent to provider registrations that have been previously enabled to the current session.</span></span> <span data-ttu-id="2c420-122">Каждый поставщик может определить собственный ответ (если он есть) для уведомления.</span><span class="sxs-lookup"><span data-stu-id="2c420-122">Each provider can define its own response (if any) to a notification.</span></span> <span data-ttu-id="2c420-123">Сведения о реализации см. в разделе [**Трассировка \_ \_ \_ \_ сведений о состоянии периодической записи**](/windows/win32/api/evntrace/ns-evntrace-trace_periodic_capture_state_info).</span><span class="sxs-lookup"><span data-stu-id="2c420-123">For implementation details, see [**TRACE\_PERIODIC\_CAPTURE\_STATE\_INFO**](/windows/win32/api/evntrace/ns-evntrace-trace_periodic_capture_state_info).</span></span>

## <a name="windows-81-and-windows-server-2012-r2"></a><span data-ttu-id="2c420-124">Windows 8.1 и Windows Server 2012 R2</span><span class="sxs-lookup"><span data-stu-id="2c420-124">Windows 8.1 and Windows Server 2012 R2</span></span>

<span data-ttu-id="2c420-125">Следующие функции были добавлены в трассировку событий на Windows 8.1 и Windows Server 2012 R2.</span><span class="sxs-lookup"><span data-stu-id="2c420-125">The following features have been added to Event Tracing on Windows 8.1 and Windows Server 2012 R2.</span></span>

<span data-ttu-id="2c420-126">Функции, поддерживающие использование полезных данных событий, областей и фильтров проверки стека, используемых функцией [**EnableTraceEx2**](/windows/win32/api/evntrace/nf-evntrace-enabletraceex2) , [**и \_ структуры \_**](/windows/win32/api/evntrace/ns-evntrace-enable_trace_parameters) [**\_ \_ дескрипторов фильтров событий**](/windows/desktop/api/Evntprov/ns-evntprov-event_filter_descriptor) для фильтрации конкретных условий в сеансе ведения журнала.</span><span class="sxs-lookup"><span data-stu-id="2c420-126">Functions that support using event payload, scope, and stack walk filters used by the [**EnableTraceEx2**](/windows/win32/api/evntrace/nf-evntrace-enabletraceex2) function and the [**ENABLE\_TRACE\_PARAMETERS**](/windows/win32/api/evntrace/ns-evntrace-enable_trace_parameters) and [**EVENT\_FILTER\_DESCRIPTOR**](/windows/desktop/api/Evntprov/ns-evntprov-event_filter_descriptor) structures to filter on specific conditions in a logger session.</span></span> <span data-ttu-id="2c420-127">Дополнительные сведения можно найти в разделе</span><span class="sxs-lookup"><span data-stu-id="2c420-127">For more information, see:</span></span>

-   [<span data-ttu-id="2c420-128">**тдхаггрегатепайлоадфилтерс**</span><span class="sxs-lookup"><span data-stu-id="2c420-128">**TdhAggregatePayloadFilters**</span></span>](/windows/desktop/api/Tdh/nf-tdh-tdhaggregatepayloadfilters)
-   [<span data-ttu-id="2c420-129">**тдхклеануппайлоадевентфилтердескриптор**</span><span class="sxs-lookup"><span data-stu-id="2c420-129">**TdhCleanupPayloadEventFilterDescriptor**</span></span>](/windows/desktop/api/Tdh/nf-tdh-tdhcleanuppayloadeventfilterdescriptor)
-   [<span data-ttu-id="2c420-130">**тдхкреатепайлоадфилтер**</span><span class="sxs-lookup"><span data-stu-id="2c420-130">**TdhCreatePayloadFilter**</span></span>](/windows/desktop/api/Tdh/nf-tdh-tdhcreatepayloadfilter)
-   [<span data-ttu-id="2c420-131">**тдхделетепайлоадфилтер**</span><span class="sxs-lookup"><span data-stu-id="2c420-131">**TdhDeletePayloadFilter**</span></span>](/windows/desktop/api/Tdh/nf-tdh-tdhdeletepayloadfilter)

<span data-ttu-id="2c420-132">Кроме того, ознакомьтесь с значительно пересмотренной документацией по функции [**EnableTraceEx2**](/windows/win32/api/evntrace/nf-evntrace-enabletraceex2) и [**включите \_ \_ Параметры трассировки**](/windows/win32/api/evntrace/ns-evntrace-enable_trace_parameters) и структуры [**\_ \_ дескрипторов фильтра событий**](/windows/desktop/api/Evntprov/ns-evntprov-event_filter_descriptor) , используемые этими функциями.</span><span class="sxs-lookup"><span data-stu-id="2c420-132">In addition, see the extensively revised documentation for the [**EnableTraceEx2**](/windows/win32/api/evntrace/nf-evntrace-enabletraceex2) function and the [**ENABLE\_TRACE\_PARAMETERS**](/windows/win32/api/evntrace/ns-evntrace-enable_trace_parameters) and [**EVENT\_FILTER\_DESCRIPTOR**](/windows/desktop/api/Evntprov/ns-evntprov-event_filter_descriptor) structures that are used by these features.</span></span>

<span data-ttu-id="2c420-133">Структура, определяющая предикат фильтра полезных данных события, который описывает, как выполнить фильтрацию по одному полю в сеансе трассировки, используемом новой функцией [**тдхкреатепайлоадфилтер**](/windows/desktop/api/Tdh/nf-tdh-tdhcreatepayloadfilter) , и новую структуру, используемую фильтрами событий и проходами по стеку.</span><span class="sxs-lookup"><span data-stu-id="2c420-133">A structure that defines an event payload filter predicate that describes how to filter on a single field in a trace session used by the new [**TdhCreatePayloadFilter**](/windows/desktop/api/Tdh/nf-tdh-tdhcreatepayloadfilter) function and a new structure used by event ID and stack walk filters.</span></span> <span data-ttu-id="2c420-134">Дополнительные сведения можно найти в разделе</span><span class="sxs-lookup"><span data-stu-id="2c420-134">For more information, see:</span></span>

-   [<span data-ttu-id="2c420-135">**\_ \_ идентификатор события фильтра \_ событий**</span><span class="sxs-lookup"><span data-stu-id="2c420-135">**EVENT\_FILTER\_EVENT\_ID**</span></span>](/windows/desktop/api/Evntprov/ns-evntprov-event_filter_event_id)
-   [<span data-ttu-id="2c420-136">**\_предикат фильтра полезных данных \_**</span><span class="sxs-lookup"><span data-stu-id="2c420-136">**PAYLOAD\_FILTER\_PREDICATE**</span></span>](/windows/desktop/api/Tdh/ns-tdh-payload_filter_predicate)

<span data-ttu-id="2c420-137">Функции, которые извлекают сведения о событиях, имеющихся в манифесте поставщика.</span><span class="sxs-lookup"><span data-stu-id="2c420-137">Functions that retrieve information on events present in the provider manifest.</span></span> <span data-ttu-id="2c420-138">Дополнительные сведения можно найти в разделе</span><span class="sxs-lookup"><span data-stu-id="2c420-138">For more information, see:</span></span>

-   [<span data-ttu-id="2c420-139">**тдхенумератеманифестпровидеревентс**</span><span class="sxs-lookup"><span data-stu-id="2c420-139">**TdhEnumerateManifestProviderEvents**</span></span>](/windows/desktop/api/Tdh/nf-tdh-tdhenumeratemanifestproviderevents)
-   [<span data-ttu-id="2c420-140">**тдхжетманифестевентинформатион**</span><span class="sxs-lookup"><span data-stu-id="2c420-140">**TdhGetManifestEventInformation**</span></span>](/windows/desktop/api/Tdh/nf-tdh-tdhgetmanifesteventinformation)

<span data-ttu-id="2c420-141">Структура, определяющая массив событий в манифесте поставщика, который используется новой функцией [**тдхенумератеманифестпровидеревентс**](/windows/desktop/api/Tdh/nf-tdh-tdhenumeratemanifestproviderevents) .</span><span class="sxs-lookup"><span data-stu-id="2c420-141">A structure that defines an array of events in a provider manifest used by the new [**TdhEnumerateManifestProviderEvents**](/windows/desktop/api/Tdh/nf-tdh-tdhenumeratemanifestproviderevents) function.</span></span> <span data-ttu-id="2c420-142">Дополнительные сведения можно найти в разделе</span><span class="sxs-lookup"><span data-stu-id="2c420-142">For more information, see:</span></span>

-   [<span data-ttu-id="2c420-143">**\_сведения о событии поставщика \_**</span><span class="sxs-lookup"><span data-stu-id="2c420-143">**PROVIDER\_EVENT\_INFO**</span></span>](/windows/desktop/api/Tdh/ns-tdh-provider_event_info)

## <a name="windows-8-and-windows-server-2012"></a><span data-ttu-id="2c420-144">Windows 8 и Windows Server 2012</span><span class="sxs-lookup"><span data-stu-id="2c420-144">Windows 8 and Windows Server 2012</span></span>

<span data-ttu-id="2c420-145">В трассировку событий в Windows 8 и Windows Server 2012 добавлены следующие функции.</span><span class="sxs-lookup"><span data-stu-id="2c420-145">The following features have been added to the Event Tracing on Windows 8 and Windows Server 2012.</span></span>

<span data-ttu-id="2c420-146">Функции, выполняющие операции с объектом регистрации, обеспечивают синтаксический анализ полезных данных событий, предоставляют возможности обзора поставщика трассировки, параметры сеанса трассировки событий запросов и обработку файла трассировки с повторным протоколированием.</span><span class="sxs-lookup"><span data-stu-id="2c420-146">Functions that performs operations on a registration object, provide event payload parsing, provide trace provider browsing, query event tracing session settings, and process a relogged trace file.</span></span> <span data-ttu-id="2c420-147">Дополнительные сведения можно найти в разделе</span><span class="sxs-lookup"><span data-stu-id="2c420-147">For more information, see:</span></span>

-   [<span data-ttu-id="2c420-148">**евентсетинформатион**</span><span class="sxs-lookup"><span data-stu-id="2c420-148">**EventSetInformation**</span></span>](/windows/desktop/api/Evntprov/nf-evntprov-eventsetinformation)
-   [<span data-ttu-id="2c420-149">**тдхклоседекодингхандле**</span><span class="sxs-lookup"><span data-stu-id="2c420-149">**TdhCloseDecodingHandle**</span></span>](/windows/desktop/api/Tdh/nf-tdh-tdhclosedecodinghandle)
-   [<span data-ttu-id="2c420-150">**тдхжетдекодингпараметер**</span><span class="sxs-lookup"><span data-stu-id="2c420-150">**TdhGetDecodingParameter**</span></span>](/windows/desktop/api/Tdh/nf-tdh-tdhgetdecodingparameter)
-   [<span data-ttu-id="2c420-151">**тдхжетвпппроперти**</span><span class="sxs-lookup"><span data-stu-id="2c420-151">**TdhGetWppProperty**</span></span>](/windows/desktop/api/Tdh/nf-tdh-tdhgetwppproperty)
-   [<span data-ttu-id="2c420-152">**тдхжетвппмессаже**</span><span class="sxs-lookup"><span data-stu-id="2c420-152">**TdhGetWppMessage**</span></span>](/windows/desktop/api/Tdh/nf-tdh-tdhgetwppmessage)
-   [<span data-ttu-id="2c420-153">**тдхлоадманифестфромбинари**</span><span class="sxs-lookup"><span data-stu-id="2c420-153">**TdhLoadManifestFromBinary**</span></span>](/windows/desktop/api/Tdh/nf-tdh-tdhloadmanifestfrombinary)
-   [<span data-ttu-id="2c420-154">**тдхопендекодингхандле**</span><span class="sxs-lookup"><span data-stu-id="2c420-154">**TdhOpenDecodingHandle**</span></span>](/windows/desktop/api/Tdh/nf-tdh-tdhopendecodinghandle)
-   [<span data-ttu-id="2c420-155">**тдхсетдекодингпараметер**</span><span class="sxs-lookup"><span data-stu-id="2c420-155">**TdhSetDecodingParameter**</span></span>](/windows/desktop/api/Tdh/nf-tdh-tdhsetdecodingparameter)
-   [<span data-ttu-id="2c420-156">**трацекуеринформатион**</span><span class="sxs-lookup"><span data-stu-id="2c420-156">**TraceQueryInformation**</span></span>](/windows/win32/api/evntrace/nf-evntrace-tracequeryinformation)

<span data-ttu-id="2c420-157">Интерфейсы, предоставляющие сведения о процессе трассировки и регистрации событий, доступе к данным для определенного события и доступе к функциям повторного регистратора, которые позволяют управлять файлами журнала трассировки событий (ETL).</span><span class="sxs-lookup"><span data-stu-id="2c420-157">Interfaces that provide information to the relogger on the tracing process and when events are logged, access to data for a specific event, and access to relogger features that allow the manipulation of Event Trace Log (ETL) files.</span></span> <span data-ttu-id="2c420-158">Дополнительные сведения можно найти в разделе</span><span class="sxs-lookup"><span data-stu-id="2c420-158">For more information, see:</span></span>

-   [<span data-ttu-id="2c420-159">**итрацеевент**</span><span class="sxs-lookup"><span data-stu-id="2c420-159">**ITraceEvent**</span></span>](/windows/desktop/api/Relogger/nn-relogger-itraceevent)
-   [<span data-ttu-id="2c420-160">**итрацеевенткаллбакк**</span><span class="sxs-lookup"><span data-stu-id="2c420-160">**ITraceEventCallback**</span></span>](/windows/desktop/api/Relogger/nn-relogger-itraceeventcallback)
-   [<span data-ttu-id="2c420-161">**итрацерелогжер**</span><span class="sxs-lookup"><span data-stu-id="2c420-161">**ITraceRelogger**</span></span>](/windows/desktop/api/Relogger/nn-relogger-itracerelogger)

<span data-ttu-id="2c420-162">Дополнительные перечисления, используемые новыми функциями и интерфейсами.</span><span class="sxs-lookup"><span data-stu-id="2c420-162">Additional enumerations used by the new functions and interfaces.</span></span> <span data-ttu-id="2c420-163">Дополнительные сведения можно найти в разделе</span><span class="sxs-lookup"><span data-stu-id="2c420-163">For more information, see:</span></span>

-   [<span data-ttu-id="2c420-164">**\_класс сведений о СОбытии \_**</span><span class="sxs-lookup"><span data-stu-id="2c420-164">**EVENT\_INFO\_CLASS**</span></span>](/windows/desktop/api/Evntprov/ne-evntprov-event_info_class)
-   [<span data-ttu-id="2c420-165">**\_ \_ класс сведений о запросе трассировки \_**</span><span class="sxs-lookup"><span data-stu-id="2c420-165">**TRACE\_QUERY\_INFO\_CLASS**</span></span>](/windows/win32/api/evntrace/ne-evntrace-trace_query_info_class)

## <a name="windows-7-and-windows-server-2008-r2"></a><span data-ttu-id="2c420-166">Windows 7 и Windows Server 2008 R2</span><span class="sxs-lookup"><span data-stu-id="2c420-166">Windows 7 and Windows Server 2008 R2</span></span>

<span data-ttu-id="2c420-167">В этом выпуске были добавлены следующие функции:</span><span class="sxs-lookup"><span data-stu-id="2c420-167">The following features were added in this release:</span></span>

-   <span data-ttu-id="2c420-168">Способность поставщиков определять фильтры в манифесте.</span><span class="sxs-lookup"><span data-stu-id="2c420-168">The ability for providers to define filters in the manifest.</span></span> <span data-ttu-id="2c420-169">В Windows Vista контроллеры могут передавать данные фильтра поставщику.</span><span class="sxs-lookup"><span data-stu-id="2c420-169">In Windows Vista, controllers could pass filter data to the provider.</span></span> <span data-ttu-id="2c420-170">Однако макет данных фильтра не был определен в манифесте, поэтому поставщику пришлось бы использовать другие средства для предоставления определения фильтра контроллерам.</span><span class="sxs-lookup"><span data-stu-id="2c420-170">However, the layout of the filter data was not defined in the manifest, so the provider would have to use other means to provide the filter definition to controllers.</span></span> <span data-ttu-id="2c420-171">В этом выпуске поставщики могут определять определение фильтра в манифесте (см. атрибут **Filters** сложного типа [**ProviderType**](../wes/eventmanifestschema-providertype-complextype.md) ).</span><span class="sxs-lookup"><span data-stu-id="2c420-171">With this release, providers can define the filter definition in the manifest (see the **filters** attribute of the [**ProviderType**](../wes/eventmanifestschema-providertype-complextype.md) complex type).</span></span> <span data-ttu-id="2c420-172">Затем контроллеры могут использовать функцию [**тдхенумератепровидерфилтерс**](/windows/desktop/api/Tdh/nf-tdh-tdhenumerateproviderfilters) для определения фильтра.</span><span class="sxs-lookup"><span data-stu-id="2c420-172">Controllers can then use the [**TdhEnumerateProviderFilters**](/windows/desktop/api/Tdh/nf-tdh-tdhenumerateproviderfilters) function to determine the filter definition.</span></span> <span data-ttu-id="2c420-173">Поставщики, использующие фильтры, должны использовать функцию [**евентвритикс**](/windows/desktop/api/Evntprov/nf-evntprov-eventwriteex) для записи события.</span><span class="sxs-lookup"><span data-stu-id="2c420-173">Providers that use filters should use the [**EventWriteEx**](/windows/desktop/api/Evntprov/nf-evntprov-eventwriteex) function to write the event.</span></span>
-   <span data-ttu-id="2c420-174">Возможность использования одного буфера для сбора событий, создаваемых на нескольких процессорах.</span><span class="sxs-lookup"><span data-stu-id="2c420-174">The ability to use a single buffer to gather events generated on multiple processors.</span></span> <span data-ttu-id="2c420-175">Использование одного буфера устраняет неупорядоченные события на компьютерах с несколькими процессорами.</span><span class="sxs-lookup"><span data-stu-id="2c420-175">Using a single buffer eliminates events from appearing out of order on multi-processors computers.</span></span> <span data-ttu-id="2c420-176">Дополнительные сведения см. в [**статье \_ Трассировка событий \_ No \_ для каждого \_ процессора \_ в**](logging-mode-constants.md) режиме ведения журнала.</span><span class="sxs-lookup"><span data-stu-id="2c420-176">For details, see the [**EVENT\_TRACE\_NO\_PER\_PROCESSOR\_BUFFERING**](logging-mode-constants.md) logging mode.</span></span> <span data-ttu-id="2c420-177">По умолчанию ETW использует буферы каждого процессора.</span><span class="sxs-lookup"><span data-stu-id="2c420-177">By default, ETW uses per-processor buffers.</span></span>
-   <span data-ttu-id="2c420-178">Возможность захвата трассировки стека для событий.</span><span class="sxs-lookup"><span data-stu-id="2c420-178">The ability to capture a stack trace for events.</span></span> <span data-ttu-id="2c420-179">Сведения о включении трассировки стека для событий ядра см. в разделе Функция [**трацесетинформатион**](/windows/win32/api/evntrace/nf-evntrace-tracesetinformation) .</span><span class="sxs-lookup"><span data-stu-id="2c420-179">To enable stack tracing for kernel events, see the [**TraceSetInformation**](/windows/win32/api/evntrace/nf-evntrace-tracesetinformation) function.</span></span> <span data-ttu-id="2c420-180">Сведения о включении трассировки стека для пользовательских событий см. в статье Включение флага **\_ \_ \_ \_ трассировки стека свойств** для элемента **енаблепроперти** в разделе [**включить \_ \_ Параметры трассировки**](/windows/win32/api/evntrace/ns-evntrace-enable_trace_parameters).</span><span class="sxs-lookup"><span data-stu-id="2c420-180">To enable stack tracing for user events, see the **EVENT\_ENABLE\_PROPERTY\_STACK\_TRACE** flag for the **EnableProperty** member of [**ENABLE\_TRACE\_PARAMETERS**](/windows/win32/api/evntrace/ns-evntrace-enable_trace_parameters).</span></span>
-   <span data-ttu-id="2c420-181">Возможность указать режим **\_ \_ буферизации \_ трассировки событий** или режим ведения журнала **событий \_ \_ \_ \_** с использованием **\_ \_ закрытого \_ \_** режима ведения журнала трассировки событий (см. раздел [константы режима ведения журнала](logging-mode-constants.md)).</span><span class="sxs-lookup"><span data-stu-id="2c420-181">The ability to specify the **EVENT\_TRACE\_BUFFERING\_MODE** or **EVENT\_TRACE\_FILE\_MODE\_NEWFILE** logging mode with the **EVENT\_TRACE\_PRIVATE\_LOGGER\_MODE** logging mode (see [Logging Mode Constants](logging-mode-constants.md)).</span></span>
-   <span data-ttu-id="2c420-182">Возможность синхронного включения поставщика.</span><span class="sxs-lookup"><span data-stu-id="2c420-182">The ability to enable a provider synchronously.</span></span> <span data-ttu-id="2c420-183">По умолчанию поставщики включены асинхронно.</span><span class="sxs-lookup"><span data-stu-id="2c420-183">By default, providers are enabled asynchronously.</span></span> <span data-ttu-id="2c420-184">Чтобы включить поставщик в синхронном режиме, задайте параметр *timeout* для [**EnableTraceEx2**](/windows/win32/api/evntrace/nf-evntrace-enabletraceex2).</span><span class="sxs-lookup"><span data-stu-id="2c420-184">To enable a provider synchronously, set the *Timeout* parameter of [**EnableTraceEx2**](/windows/win32/api/evntrace/nf-evntrace-enabletraceex2).</span></span>
-   <span data-ttu-id="2c420-185">Способность контроллера запрашивать состояние поставщика в журнале.</span><span class="sxs-lookup"><span data-stu-id="2c420-185">The ability for the controller to request that the provider log its state.</span></span> <span data-ttu-id="2c420-186">Дополнительные сведения см. в описании флага **\_ \_ \_ \_ состояния записи кода управления событиями** для параметра *контролкоде* в [**EnableTraceEx2**](/windows/win32/api/evntrace/nf-evntrace-enabletraceex2).</span><span class="sxs-lookup"><span data-stu-id="2c420-186">For details, see the **EVENT\_CONTROL\_CODE\_CAPTURE\_STATE** flag for the *ControlCode* parameter of [**EnableTraceEx2**](/windows/win32/api/evntrace/nf-evntrace-enabletraceex2).</span></span>
-   <span data-ttu-id="2c420-187">Возможность для потребителей форматировать данные событий с помощью функции [**тдхформатпроперти**](/windows/desktop/api/Tdh/nf-tdh-tdhformatproperty) .</span><span class="sxs-lookup"><span data-stu-id="2c420-187">The ability for consumers to format event data using the [**TdhFormatProperty**](/windows/desktop/api/Tdh/nf-tdh-tdhformatproperty) function.</span></span>
-   <span data-ttu-id="2c420-188">Возможность декодирования манифестных событий на компьютерах, которые не содержат поставщика.</span><span class="sxs-lookup"><span data-stu-id="2c420-188">The ability to decode manifested events on computers that do not contain the provider.</span></span> <span data-ttu-id="2c420-189">Дополнительные сведения см. в описании функции [**тдхлоадманифест**](/windows/desktop/api/Tdh/nf-tdh-tdhloadmanifest) .</span><span class="sxs-lookup"><span data-stu-id="2c420-189">For details, see the [**TdhLoadManifest**](/windows/desktop/api/Tdh/nf-tdh-tdhloadmanifest) function.</span></span>

<span data-ttu-id="2c420-190">В этом выпуске были добавлены следующие функции:</span><span class="sxs-lookup"><span data-stu-id="2c420-190">The following functions were added in this release:</span></span>

-   [<span data-ttu-id="2c420-191">**EnableTraceEx2**</span><span class="sxs-lookup"><span data-stu-id="2c420-191">**EnableTraceEx2**</span></span>](/windows/win32/api/evntrace/nf-evntrace-enabletraceex2)
-   [<span data-ttu-id="2c420-192">**евентвритикс**</span><span class="sxs-lookup"><span data-stu-id="2c420-192">**EventWriteEx**</span></span>](/windows/desktop/api/Evntprov/nf-evntprov-eventwriteex)
-   [<span data-ttu-id="2c420-193">**тдхенумератепровидерфилтерс**</span><span class="sxs-lookup"><span data-stu-id="2c420-193">**TdhEnumerateProviderFilters**</span></span>](/windows/desktop/api/Tdh/nf-tdh-tdhenumerateproviderfilters)
-   [<span data-ttu-id="2c420-194">**тдхформатпроперти**</span><span class="sxs-lookup"><span data-stu-id="2c420-194">**TdhFormatProperty**</span></span>](/windows/desktop/api/Tdh/nf-tdh-tdhformatproperty)
-   [<span data-ttu-id="2c420-195">**тдхлоадманифест**</span><span class="sxs-lookup"><span data-stu-id="2c420-195">**TdhLoadManifest**</span></span>](/windows/desktop/api/Tdh/nf-tdh-tdhloadmanifest)
-   [<span data-ttu-id="2c420-196">**тдхунлоадманифест**</span><span class="sxs-lookup"><span data-stu-id="2c420-196">**TdhUnloadManifest**</span></span>](/windows/desktop/api/Tdh/nf-tdh-tdhunloadmanifest)
-   [<span data-ttu-id="2c420-197">**трацесетинформатион**</span><span class="sxs-lookup"><span data-stu-id="2c420-197">**TraceSetInformation**</span></span>](/windows/win32/api/evntrace/nf-evntrace-tracesetinformation)

<span data-ttu-id="2c420-198">В этом выпуске были добавлены следующие структуры:</span><span class="sxs-lookup"><span data-stu-id="2c420-198">The following structures were added in this release:</span></span>

-   [<span data-ttu-id="2c420-199">**ИД КЛАССического \_ события \_**</span><span class="sxs-lookup"><span data-stu-id="2c420-199">**CLASSIC\_EVENT\_ID**</span></span>](/windows/win32/api/evntrace/ns-evntrace-classic_event_id)
-   [<span data-ttu-id="2c420-200">**ВКЛЮЧИТЬ \_ \_ Параметры трассировки**</span><span class="sxs-lookup"><span data-stu-id="2c420-200">**ENABLE\_TRACE\_PARAMETERS**</span></span>](/windows/win32/api/evntrace/ns-evntrace-enable_trace_parameters)
-   [<span data-ttu-id="2c420-201">**\_ \_ \_ TRACE32 стека РАСШИРЕНных элементов событий \_**</span><span class="sxs-lookup"><span data-stu-id="2c420-201">**EVENT\_EXTENDED\_ITEM\_STACK\_TRACE32**</span></span>](/windows/desktop/api/Evntcons/ns-evntcons-event_extended_item_stack_trace32)
-   [<span data-ttu-id="2c420-202">**\_ \_ \_ TRACE64 стека РАСШИРЕНных элементов событий \_**</span><span class="sxs-lookup"><span data-stu-id="2c420-202">**EVENT\_EXTENDED\_ITEM\_STACK\_TRACE64**</span></span>](/windows/desktop/api/Evntcons/ns-evntcons-event_extended_item_stack_trace64)
-   [<span data-ttu-id="2c420-203">**\_заголовок фильтра \_ событий**</span><span class="sxs-lookup"><span data-stu-id="2c420-203">**EVENT\_FILTER\_HEADER**</span></span>](/windows/desktop/api/Evntprov/ns-evntprov-event_filter_header)
-   [<span data-ttu-id="2c420-204">**\_сведения о фильтре поставщика \_**</span><span class="sxs-lookup"><span data-stu-id="2c420-204">**PROVIDER\_FILTER\_INFO**</span></span>](/windows/desktop/api/Tdh/ns-tdh-provider_filter_info)

<span data-ttu-id="2c420-205">В этом выпуске были добавлены следующие перечисления:</span><span class="sxs-lookup"><span data-stu-id="2c420-205">The following enumerations were added in this release:</span></span>

-   [<span data-ttu-id="2c420-206">**\_класс сведений \_ трассировки**</span><span class="sxs-lookup"><span data-stu-id="2c420-206">**TRACE\_INFO\_CLASS**</span></span>](/windows/win32/api/evntrace/ne-evntrace-trace_query_info_class)

<span data-ttu-id="2c420-207">В этом выпуске были добавлены следующие классы MOF:</span><span class="sxs-lookup"><span data-stu-id="2c420-207">The following MOF classes were added in this release:</span></span>

-   [<span data-ttu-id="2c420-208">**стакквалк**</span><span class="sxs-lookup"><span data-stu-id="2c420-208">**StackWalk**</span></span>](stackwalk.md)
-   [<span data-ttu-id="2c420-209">**\_Событие стакквалк**</span><span class="sxs-lookup"><span data-stu-id="2c420-209">**StackWalk\_Event**</span></span>](stackwalk-event.md)

 

 
