---
description: Функции Direct3D 10,1
ms.assetid: e60c6116-e2f9-46b7-aed8-13e3e5ae2b90
title: Функции Direct3D 10,1
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 99935941f60a984407c688e4ae67f0a125b0130d
ms.sourcegitcommit: c7add10d695482e1ceb72d62b8a4ebd84ea050f7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "105701199"
---
# <a name="direct3d-101-features"></a><span data-ttu-id="23e04-103">Функции Direct3D 10,1</span><span class="sxs-lookup"><span data-stu-id="23e04-103">Direct3D 10.1 Features</span></span>

<span data-ttu-id="23e04-104">В Direct3D 10,1 расширен набор функций Direct3D 10,0 со следующими новыми функциями:</span><span class="sxs-lookup"><span data-stu-id="23e04-104">Direct3D 10.1 extends the feature set of Direct3D 10.0 with the following new features:</span></span>

-   <span data-ttu-id="23e04-105">Режимы смешения — независимые режимы наложения для каждого целевого объекта рендеринга с использованием нового интерфейса состояния Blend (см. [**интерфейс ID3D10BlendState1**](/windows/desktop/api/D3D10_1/nn-d3d10_1-id3d10blendstate1)).</span><span class="sxs-lookup"><span data-stu-id="23e04-105">Blend Modes - Independent blend modes per render target using the new blend-state interface (see [**ID3D10BlendState1 Interface**](/windows/desktop/api/D3D10_1/nn-d3d10_1-id3d10blendstate1)).</span></span> <span data-ttu-id="23e04-106">Операции смешения с двумя источниками ограничены для отрисовки целевого слота 0; Вы не можете выполнять запись в другие выходные данные или объекты отрисовки, привязанные к слотам, отличным от слота 0.</span><span class="sxs-lookup"><span data-stu-id="23e04-106">Dual source blending operations are restricted to render target slot 0; you may not write to other outputs or have any render targets bound to slots other than slot 0.</span></span>
-   <span data-ttu-id="23e04-107">Поведение при отборе — лица с нулевой областью автоматически исключаются; Это влияет только на каркасную визуализацию.</span><span class="sxs-lookup"><span data-stu-id="23e04-107">Culling Behavior - Zero-area faces are automatically culled; this affects wireframe rendering only.</span></span>
-   <span data-ttu-id="23e04-108">Правила с плавающей запятой. использует те же правила IEEE-754 для операций с плавающей запятой, за ИСКЛЮЧЕНИЕм 32-разрядных операции с плавающей запятой, что привело к получению результата в 0,5 (0,5 ULP) для бесконечного точного результата.</span><span class="sxs-lookup"><span data-stu-id="23e04-108">Floating Point Rules - Uses the same IEEE-754 rules for floating-point EXCEPT 32-bit floating point operations have been tightened to produce a result within 0.5 unit-last-place (0.5 ULP) of the infinitely precise result.</span></span> <span data-ttu-id="23e04-109">Это касается сложения, вычитания и умножения.</span><span class="sxs-lookup"><span data-stu-id="23e04-109">This applies to addition, subtraction, and multiplication.</span></span> <span data-ttu-id="23e04-110">(точность 0,5 ULP для умножения, 1,0 ULP для взаимного).</span><span class="sxs-lookup"><span data-stu-id="23e04-110">(accuracy to 0.5 ULP for multiply, 1.0 ULP for reciprocal).</span></span>
-   <span data-ttu-id="23e04-111">Форматы. точность смешения float16 увеличилась до 0,5 ULP.</span><span class="sxs-lookup"><span data-stu-id="23e04-111">Formats - The precision of float16 blending has increased to 0.5 ULP.</span></span> <span data-ttu-id="23e04-112">Для форматов UNORM16/SNORM16/SNORM8 также требуется смешение.</span><span class="sxs-lookup"><span data-stu-id="23e04-112">Blending is also required for UNORM16/SNORM16/SNORM8 formats.</span></span>
-   <span data-ttu-id="23e04-113">Многовыборочное сглаживание — множественная выборка была улучшена, чтобы обобщить прозрачность на основе покрытия и сделать многовыборочную работу более эффективной с помощью многопроходной отрисовки.</span><span class="sxs-lookup"><span data-stu-id="23e04-113">Multisample Anti-Aliasing - Multisampling has been enhanced to generalize coverage based transparency and make multisampling work more effectively with multi-pass rendering.</span></span> <span data-ttu-id="23e04-114">Чтобы добиться этого, все Многовыборочные семантики определяются так, как если бы шейдер пикселей всегда выполнялся один раз для каждого образца (выборка), вычисляя отдельный цвет для каждой выборки.</span><span class="sxs-lookup"><span data-stu-id="23e04-114">To achieve this, all multisample semantics are defined as if the pixel shader always runs once per sample (sample-frequency), computing a separate color per sample.</span></span> <span data-ttu-id="23e04-115">Если построитель текстуры не использует атрибуты для каждого образца, он вычислит одно и то же значение для каждого охваченного примера в пикселе.</span><span class="sxs-lookup"><span data-stu-id="23e04-115">If a pixel shader doesn't use any per-sample attributes, then it will compute the same value for each covered sample in a pixel.</span></span> <span data-ttu-id="23e04-116">В этом случае он эквивалентен оборудованию, который выполняет шейдер один раз на пиксель (пиксельная частота), и реплицирует результат во все охваченные образцы.</span><span class="sxs-lookup"><span data-stu-id="23e04-116">In that case, it is equivalent to the hardware executing the shader once per pixel (pixel-frequency), replicating the result to all covered samples.</span></span> <span data-ttu-id="23e04-117">Естественно, выполнение с попиксельной частотой всегда дает те же результаты, что и при выполнении одного шейдера с частотой выборки, когда атрибуты вычисляются с помощью пиксельной частоты.</span><span class="sxs-lookup"><span data-stu-id="23e04-117">Naturally, running at pixel-frequency always produces the same results as running the same shader at sample-frequency, when the attributes are sampled at a pixel-frequency.</span></span> <span data-ttu-id="23e04-118">Статистика конвейера Псинвокатионс увеличивается на частоте выборки, если только шейдер не работает с пиксельной частотой.</span><span class="sxs-lookup"><span data-stu-id="23e04-118">The PSInvocations pipeline statistic increments at sample-frequency unless the shader is running at pixel-frequency.</span></span>
-   <span data-ttu-id="23e04-119">Пропускная способность этапа конвейера — увеличен объем данных, которые могут передаваться между стадиями шейдера:</span><span class="sxs-lookup"><span data-stu-id="23e04-119">Pipeline Stage Bandwidth - Increased the amount of data that can be passed between shader stages:</span></span> 

    | <span data-ttu-id="23e04-120">Ресурс</span><span class="sxs-lookup"><span data-stu-id="23e04-120">Resource</span></span>                        | <span data-ttu-id="23e04-121">Ограничения</span><span class="sxs-lookup"><span data-stu-id="23e04-121">Limits</span></span>                    |
    |---------------------------------|---------------------------|
    | <span data-ttu-id="23e04-122">Регистры между этапами шейдера</span><span class="sxs-lookup"><span data-stu-id="23e04-122">Registers between Shader Stages</span></span> | <span data-ttu-id="23e04-123">32 (32-бит x 4 — компонент)</span><span class="sxs-lookup"><span data-stu-id="23e04-123">32 (32-bit x 4-component)</span></span> |
    | <span data-ttu-id="23e04-124">Входные регистры шейдера вершин</span><span class="sxs-lookup"><span data-stu-id="23e04-124">Vertex Shader Input Registers</span></span>   | <span data-ttu-id="23e04-125">32</span><span class="sxs-lookup"><span data-stu-id="23e04-125">32</span></span>                        |
    | <span data-ttu-id="23e04-126">Входные гнезда входного ассемблера</span><span class="sxs-lookup"><span data-stu-id="23e04-126">Input Assembler input slots</span></span>     | <span data-ttu-id="23e04-127">32</span><span class="sxs-lookup"><span data-stu-id="23e04-127">32</span></span>                        |

    

     

-   <span data-ttu-id="23e04-128">Правила растрирования — правила растрирования, которые были изменены для строк, Кроме того, добавлены новые функциональные возможности.</span><span class="sxs-lookup"><span data-stu-id="23e04-128">Rasterization Rules - The rules for rasterization have changed for lines, in addition, new functionality has been added.</span></span>
    -   <span data-ttu-id="23e04-129">Мултисамплинабле влияет только на растрирование строк (точки и треугольники не затрагиваются) и используется для выбора алгоритма рисования линий.</span><span class="sxs-lookup"><span data-stu-id="23e04-129">MultisampleEnable only affects line rasterization (points and triangles are unaffected), and is used to choose a line drawing algorithm.</span></span> <span data-ttu-id="23e04-130">Это означает, что некоторые Многовыборочные растровые изображения из Direct3D 10 больше не поддерживаются.</span><span class="sxs-lookup"><span data-stu-id="23e04-130">This means that some multisample rasterization from Direct3D 10 are no longer supported.</span></span>
    -   <span data-ttu-id="23e04-131">Новая частота выполнения построителя текстуры с помощью растрирования примитивов.</span><span class="sxs-lookup"><span data-stu-id="23e04-131">New sample-frequency pixel shader execution with primitive rasterization.</span></span>
-   <span data-ttu-id="23e04-132">Resources-Копиресаурце включается в двух новых сценариях:</span><span class="sxs-lookup"><span data-stu-id="23e04-132">Resources - CopyResource is enabled in two new scenarios:</span></span>
    -   <span data-ttu-id="23e04-133">Теперь в качестве источника или назначения можно использовать поверхности MSAA и цвета и глубины/трафаретов.</span><span class="sxs-lookup"><span data-stu-id="23e04-133">Both color and depth/stencil MSAA surfaces can now be used with CopyResource as either a source or destination</span></span>
    -   <span data-ttu-id="23e04-134">Преобразование формата при копировании между определенными предварительно структурированными, типизированными ресурсами 32/64/128 и сжатыми представлениями одинаковой битовой длины.</span><span class="sxs-lookup"><span data-stu-id="23e04-134">Format Conversion while copying between certain 32/64/128 bit prestructured, typed resources and compressed representations of the same bit widths.</span></span>
-   <span data-ttu-id="23e04-135">Выборка текстур — образцы \_ c и образцы \_ c \_ LZ для работы с Texture2DArrays и текстурекубеаррайс. Используйте элемент Location (компонент Alpha), чтобы указать индекс массива.</span><span class="sxs-lookup"><span data-stu-id="23e04-135">Texture Sampling - sample\_c and sample\_c\_lz instructions are defined to work with both Texture2DArrays and TextureCubeArrays, use the Location member (the alpha component) to specify an an array index.</span></span>
-   <span data-ttu-id="23e04-136">Представления — Текстурекубе и New Текстурекубеаррай (см. [**D3D10 \_ текскубе \_ array \_ SRV1**](/windows/desktop/api/d3d10_1/ns-d3d10_1-d3d10_texcube_array_srv1)) не являются реальными ресурсами, но являются новыми представлениями в ресурсе Texture2DArray.</span><span class="sxs-lookup"><span data-stu-id="23e04-136">Views - TextureCube and the new TextureCubeArray (see [**D3D10\_TEXCUBE\_ARRAY\_SRV1**](/windows/desktop/api/d3d10_1/ns-d3d10_1-d3d10_texcube_array_srv1)) are not actual resources, but are new views on a Texture2DArray resource.</span></span> <span data-ttu-id="23e04-137">Создайте представление ресурсов из ресурса Texture2DArray с новым флагом использования (D3D10 \_ Resource \_ \_ текстурекубе), используя новый интерфейс [**ID3D10ShaderResourceView1**](/windows/desktop/api/d3d10_1/nn-d3d10_1-id3d10shaderresourceview1) , чтобы привязать представление текстур Куба к конвейеру.</span><span class="sxs-lookup"><span data-stu-id="23e04-137">Create a resource view from a Texture2DArray resource with a new usage flag (D3D10\_RESOURCE\_MISC\_TEXTURECUBE), use the new [**ID3D10ShaderResourceView1 Interface**](/windows/desktop/api/d3d10_1/nn-d3d10_1-id3d10shaderresourceview1) interface to bind a cube-texture view to the pipeline.</span></span>

<span data-ttu-id="23e04-138">Для новых функций требуется тип устройства 10,1 (см. [**интерфейс ID3D10Device1**](/windows/desktop/api/D3D10_1/nn-d3d10_1-id3d10device1)), который можно создать с помощью вызова [**D3D10CreateDevice1**](/windows/desktop/api/D3D10_1/nf-d3d10_1-d3d10createdevice1), или можно одновременно создать устройство и цепочку перекачки, вызвав [**D3D10CreateDeviceAndSwapChain1**](/windows/desktop/api/D3D10_1/nf-d3d10_1-d3d10createdeviceandswapchain1).</span><span class="sxs-lookup"><span data-stu-id="23e04-138">The new features require a 10.1 device type (see [**ID3D10Device1 Interface**](/windows/desktop/api/D3D10_1/nn-d3d10_1-id3d10device1)) which can be created by calling [**D3D10CreateDevice1**](/windows/desktop/api/D3D10_1/nf-d3d10_1-d3d10createdevice1), or you can create the device and swap chain at the same time by calling [**D3D10CreateDeviceAndSwapChain1**](/windows/desktop/api/D3D10_1/nf-d3d10_1-d3d10createdeviceandswapchain1).</span></span>

<span data-ttu-id="23e04-139">В Windows Vista с пакетом обновления 1 (SP1) библиотеки Direct3D 10,0 и Direct3D 10,1 параллельно существуют в системе.</span><span class="sxs-lookup"><span data-stu-id="23e04-139">In Windows Vista Service Pack 1, Direct3D 10.0 and Direct3D 10.1 DLLs exist side-by-side on the system.</span></span> <span data-ttu-id="23e04-140">Для доступа к функциям 10,1 выполните одно из следующих действий.</span><span class="sxs-lookup"><span data-stu-id="23e04-140">To access 10.1 features, do either of the following:</span></span>

## <a name="accessing-101-features-on-vista-gold-and-vista-service-pack-1"></a><span data-ttu-id="23e04-141">Доступ к функциям 10,1 в Vista Gold и Vista с пакетом обновления 1 (SP1)</span><span class="sxs-lookup"><span data-stu-id="23e04-141">Accessing 10.1 Features on Vista Gold and Vista Service Pack 1</span></span>

<span data-ttu-id="23e04-142">Разработчики, которым требуется поддержка Vista Gold и с пакетом обновления 1 (SP1), должны учитывать отсутствие новых расширений API 10,1 в Vista Gold.</span><span class="sxs-lookup"><span data-stu-id="23e04-142">Developers that wish to support Vista Gold as well as SP1 will have to account for the lack of the new 10.1 API extensions on Vista Gold.</span></span> <span data-ttu-id="23e04-143">Как ДКСУТ, так и D3DX10 будут предоставлять удобные функции для создания соответствующего устройства на основе библиотек DLL, доступных в системе, и доступного оборудования (10,0 или 10,1).</span><span class="sxs-lookup"><span data-stu-id="23e04-143">Both DXUT and D3DX10 will provide convenience functions to create the appropriate device, based on the DLLs available on the system and the available hardware (10.0 or 10.1).</span></span> <span data-ttu-id="23e04-144">Устройство 10,1 наследуется от устройства 10,0 и может быть получено с помощью QueryInterface ().</span><span class="sxs-lookup"><span data-stu-id="23e04-144">The 10.1 device inherits from the 10.0 device, and can be retrieved using QueryInterface().</span></span> <span data-ttu-id="23e04-145">Рекомендуется, чтобы каждое приложение поддерживало отслеживание типа устройства и поддерживало указатель на устройство 10,1 (если доступно), чтобы избежать частых вызовов QueryInterface при необходимости в 10,1.</span><span class="sxs-lookup"><span data-stu-id="23e04-145">It is recommended that each application keeps track of the device type and maintains a pointer to the 10.1 device (if available) to avoid frequent QueryInterface calls when 10.1 functionality is desired.</span></span> <span data-ttu-id="23e04-146">Точно так же, где 10,1 представления ресурсов и объекты состояния связаны с пользовательским классом приложения, рекомендуется, чтобы приложение затронуло, является ли объект типом 10,0 или 10,1, чтобы избежать избыточных вызовов QueryInterface ().</span><span class="sxs-lookup"><span data-stu-id="23e04-146">Likewise, where 10.1 resource views and state objects are associated by an application's custom class, it is recommended that the application track whether the object is a 10.0 or 10.1 type to avoid redundant QueryInterface() calls.</span></span> <span data-ttu-id="23e04-147">D3DX10 включает набор служебных функций для упрощения этого процесса (см. раздел [**D3DX10CreateDevice**](d3dx10createdevice.md) and [**D3DX10CreateDeviceAndSwapChain**](d3dx10createdeviceandswapchain.md)).</span><span class="sxs-lookup"><span data-stu-id="23e04-147">D3DX10 includes a set of utility functions to simplify this process (see [**D3DX10CreateDevice**](d3dx10createdevice.md) and [**D3DX10CreateDeviceAndSwapChain**](d3dx10createdeviceandswapchain.md)).</span></span>

## <a name="accessing-101-features-on-vista-service-pack-1-exclusively"></a><span data-ttu-id="23e04-148">Эксклюзивный доступ к функциям 10,1 в ОС Vista с пакетом обновления 1</span><span class="sxs-lookup"><span data-stu-id="23e04-148">Accessing 10.1 Features on Vista Service Pack 1 Exclusively</span></span>

<span data-ttu-id="23e04-149">Некоторым разработчикам может потребоваться пакет обновления 1 (SP1) для Windows Vista, который будет широко распространяться для конечных пользователей и включает ряд усовершенствований за пределами Direct3D 10,1.</span><span class="sxs-lookup"><span data-stu-id="23e04-149">Some developers may choose to require Vista Service Pack 1, which will be distributed broadly to end-users and includes a series of improvements outside of Direct3D 10.1.</span></span> <span data-ttu-id="23e04-150">Эти разработчики могут использовать только заголовки и библиотеки Direct3D 10,1, принимая зависимость от DLL-библиотек Direct3D 10,1, поддерживающих как 10,0, так и 10,1 (некоторые вызовы могут завершиться неудачно на устройствах с 10,0, где новые функции не поддерживаются).</span><span class="sxs-lookup"><span data-stu-id="23e04-150">These developers can use the Direct3D 10.1 headers and libraries exclusively, taking a dependency on the Direct3D 10.1 DLLs which support both 10.0 and 10.1 hardware (some calls may fail, however, on 10.0 devices where the new functionality is not supported).</span></span>

<span data-ttu-id="23e04-151">Некоторые дополнительные примечания:</span><span class="sxs-lookup"><span data-stu-id="23e04-151">Some additional notes:</span></span>

-   <span data-ttu-id="23e04-152">API-интерфейсы, предоставляемые в D3DX10.dll, будут принимать устройства 10,0 и 10,1, а также будут использовать преимущества функции 10,1, если она доступна.</span><span class="sxs-lookup"><span data-stu-id="23e04-152">The APIs exposed in the D3DX10.dll will accept both 10.0 and 10.1 devices, and will take advantage of 10.1 functionality when available.</span></span>
-   <span data-ttu-id="23e04-153">D3D10SDKLayers.dll поддерживает устройство 10,1 и может выводить соответствующие функции отладки спев для 10,1.</span><span class="sxs-lookup"><span data-stu-id="23e04-153">D3D10SDKLayers.dll supports a 10.1 device and can output the appropriate debug spew for 10.1 features.</span></span>
-   <span data-ttu-id="23e04-154">D3D10Ref.dll реализует программное устройство 10,0 и 10,1.</span><span class="sxs-lookup"><span data-stu-id="23e04-154">D3D10Ref.dll implements a 10.0 and 10.1 software device.</span></span>
-   <span data-ttu-id="23e04-155">D3DX10 и FXC поддерживают обновленную модель шейдера 10,1 со следующими целевыми объектами: VS \_ 4 \_ 1, GS \_ 4 \_ 1, PS \_ 4 \_ 1 и FX \_ 4 \_ 1, которые можно привязать к устройству 10,1.</span><span class="sxs-lookup"><span data-stu-id="23e04-155">D3DX10 and FXC support the updated 10.1 shader model with the following targets: vs\_4\_1, gs\_4\_1, ps\_4\_1, and fx\_4\_1 which can be bound to a 10.1 device.</span></span> <span data-ttu-id="23e04-156">Устройство 10,1 поддерживает шейдеры Shader Model 4,0 и 4,1.</span><span class="sxs-lookup"><span data-stu-id="23e04-156">A 10.1 device supports shader model 4.0 and 4.1 shaders.</span></span>
-   <span data-ttu-id="23e04-157">Платформа Direct3D 10,0 Effects поддерживает устройства 10,0 и 10,1, однако любой прием, включающий в себя модель шейдеров 4,1 шейдеры или новые компоненты 10,1, должен использовать устройство с кодом 10,1.</span><span class="sxs-lookup"><span data-stu-id="23e04-157">The Direct3D 10.0 effect framework supports 10.0 and 10.1 devices, however, any technique that includes shader model 4.1 shaders or the new 10.1 features must use a 10.1 device.</span></span>

## <a name="related-topics"></a><span data-ttu-id="23e04-158">См. также</span><span class="sxs-lookup"><span data-stu-id="23e04-158">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="23e04-159">Рекомендации по программированию для Direct3D 10</span><span class="sxs-lookup"><span data-stu-id="23e04-159">Programming Guide for Direct3D 10</span></span>](d3d10-graphics-programming-guide.md)
</dt> </dl>

 

 



