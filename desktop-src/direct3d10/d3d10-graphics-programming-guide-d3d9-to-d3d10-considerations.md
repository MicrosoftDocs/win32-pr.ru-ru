---
description: На следующей странице представлена базовая структура основных различий между Direct3D 9 и Direct3D 10. В приведенной ниже структуре содержится ряд ценных сведений, помогающих разработчикам с поддержкой Direct3D 9 исследовать и связываться с Direct3D 10.
ms.assetid: 283b54e0-94cb-47a8-8cfc-5798e0538b9f
title: Рекомендации по Direct3D 9 к Direct3D 10 (Direct3D 10)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 467ceefe7784a9b408bb36c8bed13217cb6de7c4
ms.sourcegitcommit: c7add10d695482e1ceb72d62b8a4ebd84ea050f7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "103807168"
---
# <a name="direct3d-9-to-direct3d-10-considerations-direct3d-10"></a><span data-ttu-id="cdaa7-104">Рекомендации по Direct3D 9 к Direct3D 10 (Direct3D 10)</span><span class="sxs-lookup"><span data-stu-id="cdaa7-104">Direct3D 9 to Direct3D 10 Considerations (Direct3D 10)</span></span>

<span data-ttu-id="cdaa7-105">На следующей странице представлена базовая структура основных различий между Direct3D 9 и Direct3D 10.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-105">The following page provides a basic outline of key differences between Direct3D 9 and Direct3D 10.</span></span> <span data-ttu-id="cdaa7-106">В приведенной ниже структуре содержится ряд ценных сведений, помогающих разработчикам с поддержкой Direct3D 9 исследовать и связываться с Direct3D 10.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-106">The outline below provides some insight to assist developers with Direct3D 9 experience to explore and relate to Direct3D 10.</span></span>

<span data-ttu-id="cdaa7-107">Несмотря на то, что сведения в этом разделе сравнивают Direct3D 9 с Direct3D 10, поскольку Direct3D 11 построен на улучшениях Direct3D 10 и 10,1, эти сведения также необходимы для миграции с Direct3D 9 на Direct3D 11.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-107">Although the info in this topic compares Direct3D 9 with Direct3D 10, because Direct3D 11 builds on the improvements made in Direct3D 10 and 10.1, you also need this info to migrate from Direct3D 9 to Direct3D 11.</span></span> <span data-ttu-id="cdaa7-108">Сведения о переходе с Direct3D 10 на Direct3D 11 см. [в разделе Переход на Direct3D 11](../direct3d11/d3d11-programming-guide-migrating.md).</span><span class="sxs-lookup"><span data-stu-id="cdaa7-108">For info about moving beyond Direct3D 10 to Direct3D 11, see [Migrating to Direct3D 11](../direct3d11/d3d11-programming-guide-migrating.md).</span></span>

-   [<span data-ttu-id="cdaa7-109">Обзор основных структурных изменений в Direct3D 10</span><span class="sxs-lookup"><span data-stu-id="cdaa7-109">Overview of the Major Structural Changes in Direct3D 10</span></span>](#overview-of-the-major-structural-changes-in-direct3d-10)
    -   [<span data-ttu-id="cdaa7-110">Удаление функции FIXED</span><span class="sxs-lookup"><span data-stu-id="cdaa7-110">Removal of Fixed Function</span></span>](#removal-of-fixed-function)
    -   [<span data-ttu-id="cdaa7-111">Проверка времени создания объекта устройства</span><span class="sxs-lookup"><span data-stu-id="cdaa7-111">Device Object Creation Time Validation</span></span>](#device-object-creation-time-validation)
-   [<span data-ttu-id="cdaa7-112">Абстракции и разделение модулей</span><span class="sxs-lookup"><span data-stu-id="cdaa7-112">Engine Abstractions / Separation</span></span>](/windows)
    -   [<span data-ttu-id="cdaa7-113">Прямое удаление зависимостей Direct3D 9</span><span class="sxs-lookup"><span data-stu-id="cdaa7-113">Direct Removal of Direct3D 9 Dependencies</span></span>](#direct-removal-of-direct3d-9-dependencies)
-   [<span data-ttu-id="cdaa7-114">Рекомендации по быстрому решению проблем сборки приложений</span><span class="sxs-lookup"><span data-stu-id="cdaa7-114">Tricks for Quickly Resolving Application Build Issues</span></span>](#tricks-for-quickly-resolving-application-build-issues)
    -   [<span data-ttu-id="cdaa7-115">Переопределение типов Direct3D 9</span><span class="sxs-lookup"><span data-stu-id="cdaa7-115">Overriding Direct3D 9 Types</span></span>](#overriding-direct3d-9-types)
    -   [<span data-ttu-id="cdaa7-116">Устранение проблем с ссылками</span><span class="sxs-lookup"><span data-stu-id="cdaa7-116">Resolving Link Issues</span></span>](#resolving-link-issues)
    -   [<span data-ttu-id="cdaa7-117">Имитация заглавных устройств</span><span class="sxs-lookup"><span data-stu-id="cdaa7-117">Simulating Device CAPs</span></span>](#simulating-device-caps)
-   [<span data-ttu-id="cdaa7-118">Управление API Direct3D 10</span><span class="sxs-lookup"><span data-stu-id="cdaa7-118">Driving the Direct3D 10 API</span></span>](#driving-the-direct3d-10-api)
    -   [<span data-ttu-id="cdaa7-119">Создание ресурсов</span><span class="sxs-lookup"><span data-stu-id="cdaa7-119">Resource Creation</span></span>](#resource-creation)
    -   [<span data-ttu-id="cdaa7-120">Представления</span><span class="sxs-lookup"><span data-stu-id="cdaa7-120">Views</span></span>](#views)
    -   [<span data-ttu-id="cdaa7-121">Статический и динамический доступ к ресурсам</span><span class="sxs-lookup"><span data-stu-id="cdaa7-121">Static versus Dynamic Resource Access</span></span>](#static-versus-dynamic-resource-access)
    -   [<span data-ttu-id="cdaa7-122">Эффекты Direct3D 10</span><span class="sxs-lookup"><span data-stu-id="cdaa7-122">Direct3D 10 Effects</span></span>](#direct3d-10-effects)
    -   [<span data-ttu-id="cdaa7-123">HLSL без эффектов</span><span class="sxs-lookup"><span data-stu-id="cdaa7-123">HLSL without Effects</span></span>](#hlsl-without-effects)
    -   [<span data-ttu-id="cdaa7-124">Компиляция шейдера</span><span class="sxs-lookup"><span data-stu-id="cdaa7-124">Shader Compilation</span></span>](#shader-compilation)
    -   [<span data-ttu-id="cdaa7-125">Создание ресурсов шейдера</span><span class="sxs-lookup"><span data-stu-id="cdaa7-125">Creation of Shader Resources</span></span>](#creation-of-shader-resources)
    -   [<span data-ttu-id="cdaa7-126">Интерфейс слоя отражения шейдеров</span><span class="sxs-lookup"><span data-stu-id="cdaa7-126">Shader Reflection Layer Interface</span></span>](#shader-reflection-layer-interface)
    -   [<span data-ttu-id="cdaa7-127">Макеты входного ассемблера — компоновка вершинного шейдера и входного потока</span><span class="sxs-lookup"><span data-stu-id="cdaa7-127">Input Assembler Layouts - Vertex Shader / Input Stream Linkage</span></span>](/windows)
    -   [<span data-ttu-id="cdaa7-128">Влияние удаления неработающего кода шейдера</span><span class="sxs-lookup"><span data-stu-id="cdaa7-128">Impact of Shader Dead Code Removal</span></span>](#impact-of-shader-dead-code-removal)
    -   [<span data-ttu-id="cdaa7-129">Пример входной структуры шейдера вершин</span><span class="sxs-lookup"><span data-stu-id="cdaa7-129">Vertex Shader Input Structure Example</span></span>](#vertex-shader-input-structure-example)
    -   [<span data-ttu-id="cdaa7-130">Создание объекта состояния</span><span class="sxs-lookup"><span data-stu-id="cdaa7-130">State Object Creation</span></span>](#state-object-creation)
-   [<span data-ttu-id="cdaa7-131">Перенос текстур</span><span class="sxs-lookup"><span data-stu-id="cdaa7-131">Porting Textures</span></span>](#porting-textures)
    -   [<span data-ttu-id="cdaa7-132">Поддерживаемые форматы файлов</span><span class="sxs-lookup"><span data-stu-id="cdaa7-132">File Formats Supported</span></span>](#file-formats-supported)
    -   [<span data-ttu-id="cdaa7-133">Сопоставление форматов текстур</span><span class="sxs-lookup"><span data-stu-id="cdaa7-133">Mapping Texture Formats</span></span>](#mapping-texture-formats)
-   [<span data-ttu-id="cdaa7-134">Перенос шейдеров</span><span class="sxs-lookup"><span data-stu-id="cdaa7-134">Porting Shaders</span></span>](#porting-shaders)
    -   [<span data-ttu-id="cdaa7-135">Шейдер Direct3D 10 создается в HLSL</span><span class="sxs-lookup"><span data-stu-id="cdaa7-135">Direct3D 10 Shaders are Authored in HLSL</span></span>](#direct3d-10-shaders-are-authored-in-hlsl)
    -   [<span data-ttu-id="cdaa7-136">Сигнатуры и компоновка шейдера</span><span class="sxs-lookup"><span data-stu-id="cdaa7-136">Shader Signatures and Linkage</span></span>](#shader-signatures-and-linkage)
    -   [<span data-ttu-id="cdaa7-137">Компоновки этапа шейдера HLSL</span><span class="sxs-lookup"><span data-stu-id="cdaa7-137">HLSL Shader Stage linkages</span></span>](#hlsl-shader-stage-linkages)
    -   [<span data-ttu-id="cdaa7-138">Буферы констант</span><span class="sxs-lookup"><span data-stu-id="cdaa7-138">Constant Buffers</span></span>](#constant-buffers)
    -   [<span data-ttu-id="cdaa7-139">Пользовательские плоскости в HLSL на уровне компонентов 9 и выше</span><span class="sxs-lookup"><span data-stu-id="cdaa7-139">User clip planes in HLSL on feature level 9 and higher</span></span>](#user-clip-planes-in-hlsl-on-feature-level-9-and-higher)
-   [<span data-ttu-id="cdaa7-140">Дополнительные отличия Direct3D 10 для отслеживания</span><span class="sxs-lookup"><span data-stu-id="cdaa7-140">Additional Direct3D 10 Differences to Watch For</span></span>](#additional-direct3d-10-differences-to-watch-for)
    -   [<span data-ttu-id="cdaa7-141">Целые числа в качестве входных данных</span><span class="sxs-lookup"><span data-stu-id="cdaa7-141">Integers as Input</span></span>](#integers-as-input)
    -   [<span data-ttu-id="cdaa7-142">Курсоры мыши</span><span class="sxs-lookup"><span data-stu-id="cdaa7-142">Mouse Cursors</span></span>](#mouse-cursors)
    -   [<span data-ttu-id="cdaa7-143">Сопоставление пикселей текстуры с пикселами в Direct3D 10</span><span class="sxs-lookup"><span data-stu-id="cdaa7-143">Mapping Texels to Pixels in Direct3D 10</span></span>](#mapping-texels-to-pixels-in-direct3d-10)
    -   [<span data-ttu-id="cdaa7-144">Изменение поведения подсчета ссылок</span><span class="sxs-lookup"><span data-stu-id="cdaa7-144">Reference Counting Behavior Changes</span></span>](#reference-counting-behavior-changes)
    -   [<span data-ttu-id="cdaa7-145">Уровень совместной проверки</span><span class="sxs-lookup"><span data-stu-id="cdaa7-145">Test Cooperative Level</span></span>](#test-cooperative-level)
    -   [<span data-ttu-id="cdaa7-146">стретчрект</span><span class="sxs-lookup"><span data-stu-id="cdaa7-146">StretchRect</span></span>](#stretchrect)
-   [<span data-ttu-id="cdaa7-147">Дополнительные различия Direct3D 10,1</span><span class="sxs-lookup"><span data-stu-id="cdaa7-147">Additional Direct3D 10.1 Differences</span></span>](#additional-direct3d-101-differences)
-   [<span data-ttu-id="cdaa7-148">См. также</span><span class="sxs-lookup"><span data-stu-id="cdaa7-148">Related topics</span></span>](#related-topics)

## <a name="overview-of-the-major-structural-changes-in-direct3d-10"></a><span data-ttu-id="cdaa7-149">Обзор основных структурных изменений в Direct3D 10</span><span class="sxs-lookup"><span data-stu-id="cdaa7-149">Overview of the Major Structural Changes in Direct3D 10</span></span>

-   [<span data-ttu-id="cdaa7-150">Удаление функции FIXED</span><span class="sxs-lookup"><span data-stu-id="cdaa7-150">Removal of Fixed Function</span></span>](#removal-of-fixed-function)
-   [<span data-ttu-id="cdaa7-151">Проверка времени создания объекта устройства</span><span class="sxs-lookup"><span data-stu-id="cdaa7-151">Device Object Creation Time Validation</span></span>](#device-object-creation-time-validation)

<span data-ttu-id="cdaa7-152">Процесс подготовки к просмотру с помощью устройства Direct3D 10 структурно напоминает Direct3D 9.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-152">The process of rendering using the Direct3D 10 device is structurally similar to Direct3D 9.</span></span>

-   <span data-ttu-id="cdaa7-153">Установка источника потока вершин</span><span class="sxs-lookup"><span data-stu-id="cdaa7-153">Set a vertex stream source</span></span>
-   <span data-ttu-id="cdaa7-154">Настройка макета ввода в Direct3D 10 (установка объявления потока вершин в Direct3D 9)</span><span class="sxs-lookup"><span data-stu-id="cdaa7-154">Set input layout in Direct3D 10 (set vertex stream declaration in Direct3D 9)</span></span>
-   <span data-ttu-id="cdaa7-155">Объявить топологию примитива</span><span class="sxs-lookup"><span data-stu-id="cdaa7-155">Declare primitive topology</span></span>
-   <span data-ttu-id="cdaa7-156">Задать текстуры</span><span class="sxs-lookup"><span data-stu-id="cdaa7-156">Set textures</span></span>
-   <span data-ttu-id="cdaa7-157">Задание объектов состояния</span><span class="sxs-lookup"><span data-stu-id="cdaa7-157">Set state objects</span></span>
-   <span data-ttu-id="cdaa7-158">Задание шейдеров</span><span class="sxs-lookup"><span data-stu-id="cdaa7-158">Set shaders</span></span>
-   <span data-ttu-id="cdaa7-159">Draw</span><span class="sxs-lookup"><span data-stu-id="cdaa7-159">Draw</span></span>

<span data-ttu-id="cdaa7-160">Вызов [**Draw**](/windows/desktop/api/D3D10/nf-d3d10-id3d10device-draw) связывает операции вместе. порядок вызовов до вызова Draw является произвольным.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-160">The [**Draw**](/windows/desktop/api/D3D10/nf-d3d10-id3d10device-draw) call ties the operations together; the ordering of calls prior to the Draw call is arbitrary.</span></span> <span data-ttu-id="cdaa7-161">Ниже приведены основные отличия в структуре API Direct3D 10.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-161">The major differences in the Direct3D 10 API design are as follows:</span></span>

-   <span data-ttu-id="cdaa7-162">Удаление функции FIXED</span><span class="sxs-lookup"><span data-stu-id="cdaa7-162">Removal of Fixed Function</span></span>
-   <span data-ttu-id="cdaa7-163">Снятие CAPS-битов. базовый набор функций Direct3D 10 гарантируется</span><span class="sxs-lookup"><span data-stu-id="cdaa7-163">Removal of CAPS bits - Direct3D 10's base feature set is guaranteed</span></span>
-   <span data-ttu-id="cdaa7-164">Более строгое управление: доступ к ресурсам, состояние устройства, константы шейдеров, связывание шейдера (входы и выходы в шейдеры) между этапами</span><span class="sxs-lookup"><span data-stu-id="cdaa7-164">Stricter management of: resource access, device state, shader constants, shader linkage (inputs and outputs to shaders) between stages</span></span>
-   <span data-ttu-id="cdaa7-165">Изменение имени точки входа API отражает использование виртуальной памяти GPU (Map () вместо Lock ()).</span><span class="sxs-lookup"><span data-stu-id="cdaa7-165">API entry point name changes reflect the use of virtual GPU memory (Map() instead of Lock()).</span></span>
-   <span data-ttu-id="cdaa7-166">Слой отладки можно добавить на устройство во время создания</span><span class="sxs-lookup"><span data-stu-id="cdaa7-166">A debug layer can be added to the device at creation time</span></span>
-   <span data-ttu-id="cdaa7-167">Топология примитива теперь является явным состоянием (отделенным от вызова [**Draw**](/windows/desktop/api/D3D10/nf-d3d10-id3d10device-draw) )</span><span class="sxs-lookup"><span data-stu-id="cdaa7-167">The primitive topology is now an explicit state (separated from the [**Draw**](/windows/desktop/api/D3D10/nf-d3d10-id3d10device-draw) call)</span></span>
-   <span data-ttu-id="cdaa7-168">Константы явных шейдеров теперь хранятся в буферах констант</span><span class="sxs-lookup"><span data-stu-id="cdaa7-168">Explicit shader constants are now stored in constant buffers</span></span>
-   <span data-ttu-id="cdaa7-169">Создание шейдера выполняется полностью в HLSL.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-169">Shader authoring is done entirely in HLSL.</span></span> <span data-ttu-id="cdaa7-170">Компилятор HLSL теперь находится в основной библиотеке DLL Direct3D 10.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-170">The HLSL compiler now resides in the primary Direct3D 10 DLL.</span></span>
-   <span data-ttu-id="cdaa7-171">Новый программируемый этап — шейдер геометрии</span><span class="sxs-lookup"><span data-stu-id="cdaa7-171">New programmable stage - the geometry shader</span></span>
-   <span data-ttu-id="cdaa7-172">Удаление Бегинсцене ()/Ендсцене ()</span><span class="sxs-lookup"><span data-stu-id="cdaa7-172">Removal of BeginScene()/EndScene()</span></span>
-   <span data-ttu-id="cdaa7-173">Распространенные функции управления 2D, фокусами и адаптерами, реализованные в новом компоненте: DXGI</span><span class="sxs-lookup"><span data-stu-id="cdaa7-173">Common 2D, focus and adapter-management functionality implemented in a new component: DXGI</span></span>

### <a name="removal-of-fixed-function"></a><span data-ttu-id="cdaa7-174">Удаление функции FIXED</span><span class="sxs-lookup"><span data-stu-id="cdaa7-174">Removal of Fixed Function</span></span>

<span data-ttu-id="cdaa7-175">Иногда бывает удивительно, что даже в подсистеме Direct3D 9, которая полностью использует программируемый конвейер, остается ряд областей, зависящих от конвейера с фиксированной функцией (FF).</span><span class="sxs-lookup"><span data-stu-id="cdaa7-175">It is sometimes surprising that even in a Direct3D 9 engine that fully exploits the programmable pipeline, there remains a number of areas that depend on the fixed-function (FF) pipeline.</span></span> <span data-ttu-id="cdaa7-176">Наиболее распространенные области обычно связаны с отрисовкой пользовательского интерфейса на уровне экрана.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-176">The most common areas are usually related to screen-space aligned rendering for UI.</span></span> <span data-ttu-id="cdaa7-177">Именно по этой причине вам, скорее всего, потребуется создать шейдер для эмуляции FF или набор шейдеров, обеспечивающих необходимые варианты поведения при замене.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-177">It is for this reason that you are likely to need to build a FF emulation shader or set of shaders which provide the necessary replacement behaviors.</span></span>

<span data-ttu-id="cdaa7-178">Эта документация содержит технический документ с замещающими источниками шейдеров для наиболее распространенных вариантов поведения FF (см. пример с помощью функции "ЕС" в разделе " [фиксированная функция](https://msdn.microsoft.com/library/Ee416406(v=VS.85).aspx)").</span><span class="sxs-lookup"><span data-stu-id="cdaa7-178">This documentation contains a white paper containing replacement shader sources for the most common FF behaviors (see [Fixed Function EMU Sample](https://msdn.microsoft.com/library/Ee416406(v=VS.85).aspx)).</span></span> <span data-ttu-id="cdaa7-179">Некоторые функциональные возможности с фиксированной функцией, включая альфа-тест, были перемещены в шейдеры.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-179">Some fixed-function pixel behavior including alpha test has been moved into shaders.</span></span>

### <a name="device-object-creation-time-validation"></a><span data-ttu-id="cdaa7-180">Проверка времени создания объекта устройства</span><span class="sxs-lookup"><span data-stu-id="cdaa7-180">Device Object Creation Time Validation</span></span>

<span data-ttu-id="cdaa7-181">Конвейер Direct3D 10 был переработан с самого начала в оборудовании и программном обеспечении с основной целью снижения нагрузки ЦП (во время вывода).</span><span class="sxs-lookup"><span data-stu-id="cdaa7-181">The Direct3D 10 pipeline has been redesigned from the ground up in hardware and software with a primary intention to reduce CPU overhead (at Draw time).</span></span> <span data-ttu-id="cdaa7-182">Чтобы снизить затраты, всем типам данных устройства был присвоен объект с явными методами создания, предоставляемыми самим устройством.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-182">To reduce costs, all types of device data have been assigned an object with explicit creation methods provided by the device itself.</span></span> <span data-ttu-id="cdaa7-183">Это позволяет выполнять проверку данных в течение времени создания объекта, а не во время вызова Draw, как это часто происходит с Direct3D 9.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-183">This enables strict data validation at object creation time instead of during the Draw call as it often does with Direct3D 9.</span></span>

## <a name="engine-abstractions--separation"></a><span data-ttu-id="cdaa7-184">Абстракции и разделение модулей</span><span class="sxs-lookup"><span data-stu-id="cdaa7-184">Engine Abstractions / Separation</span></span>

<span data-ttu-id="cdaa7-185">Для приложений, в том числе игр, которые хотят поддерживать Direct3D 9 и Direct3D 10, необходимо, чтобы уровни отрисовки были абстрактными от остальной части базы кода.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-185">Applications, including Games, that wish to support both Direct3D 9 and Direct3D 10 need to have the rendering layers abstracted from the rest of the code base.</span></span> <span data-ttu-id="cdaa7-186">Существует много способов добиться этого, но ключ ко всем ним является структурой уровня абстракции для устройства Direct3D нижнего уровня.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-186">There are many ways to achieve this but key to all of them is the design of the abstraction layer for the lower-level Direct3D device.</span></span> <span data-ttu-id="cdaa7-187">Все системы должны взаимодействовать с оборудованием через общий уровень, предназначенный для предоставления ресурсов GPU и управления типами низкого уровня.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-187">All systems should communicate to the hardware through the common layer which is designed to provide GPU resource and low-level type management.</span></span>

### <a name="direct-removal-of-direct3d-9-dependencies"></a><span data-ttu-id="cdaa7-188">Прямое удаление зависимостей Direct3D 9</span><span class="sxs-lookup"><span data-stu-id="cdaa7-188">Direct Removal of Direct3D 9 Dependencies</span></span>

<span data-ttu-id="cdaa7-189">При переносе больших, ранее протестированных баз кода важно сокращать количество изменений в коде, которые абсолютно необходимы для сохранения ранее протестированных поведений в коде.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-189">When porting large, previously tested code bases, it is important to minimize the amount of code changes to those which are absolutely necessary to preserve previously tested behaviors in the code.</span></span> <span data-ttu-id="cdaa7-190">Рекомендации включают в себя четкое документирование того, где изменяются элементы с помощью комментариев.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-190">Best practices include clearly documenting where items change using comments.</span></span> <span data-ttu-id="cdaa7-191">Часто полезно иметь стандарт комментирования для этой работы, что позволяет быстро перемещаться по базе кода.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-191">It's often useful to have a commenting standard for this work which enables quick navigation through the code base.</span></span>

<span data-ttu-id="cdaa7-192">Ниже приведен пример списка стандартных комментариев одинарной и стартовой блоков, которые можно использовать для этой работы.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-192">The following is an example list of standard single line / start block comments which could be used for this work.</span></span>



| <span data-ttu-id="cdaa7-193">Элемент</span><span class="sxs-lookup"><span data-stu-id="cdaa7-193">Item</span></span>                                                                                                                                                                             | <span data-ttu-id="cdaa7-194">Описание</span><span class="sxs-lookup"><span data-stu-id="cdaa7-194">Description</span></span>                                                                                                                                                                                                                                                                                                                    |
|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="cdaa7-195"><span id="___Direct3D_10_REMOVED"></span><span id="___direct3d_10_removed"></span><span id="___DIRECT3D_10_REMOVED"></span>УДАЛЕН Direct3D 10</span><span class="sxs-lookup"><span data-stu-id="cdaa7-195"><span id="___Direct3D_10_REMOVED"></span><span id="___direct3d_10_removed"></span><span id="___DIRECT3D_10_REMOVED"></span>// Direct3D 10 REMOVED</span></span><br/>                     | <span data-ttu-id="cdaa7-196">Используйте это место, где удаляются строки или блоки кода</span><span class="sxs-lookup"><span data-stu-id="cdaa7-196">Use this where lines / blocks of code are removed</span></span><br/>                                                                                                                                                                                                                                                                   |
| <span data-ttu-id="cdaa7-197"><span id="___Direct3D_10_NEEDS_UPDATE"></span><span id="___direct3d_10_needs_update"></span><span id="___DIRECT3D_10_NEEDS_UPDATE"></span>ТРЕБУЕТСЯ обновление Direct3D 10</span><span class="sxs-lookup"><span data-stu-id="cdaa7-197"><span id="___Direct3D_10_NEEDS_UPDATE"></span><span id="___direct3d_10_needs_update"></span><span id="___DIRECT3D_10_NEEDS_UPDATE"></span>// Direct3D 10 NEEDS UPDATE</span></span><br/> | <span data-ttu-id="cdaa7-198">Он позволяет добавлять дополнительные примечания к комментарию по ОБНОВЛЕНию, который предлагает, какие рабочие и новые API следует использовать для последующих посещений кода для преобразования поведения.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-198">It helps to added additional notes to the NEED UPDATE comment that suggests what work / new API should be used for later visits to the code for behavior conversion.</span></span> <span data-ttu-id="cdaa7-199">Интенсивное использование Assert (**false**) также следует использовать там, где требуется \\ \\ обновление Direct3D 10, чтобы гарантировать неизвестный код аномального.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-199">Heavy use of assert(**false**) should also be used where \\\\ Direct3D 10 NEEDS UPDATE occurs to ensure you do not unknowingly run errant code</span></span><br/> |
| <span data-ttu-id="cdaa7-200"><span id="___Direct3D_10_CHANGED"></span><span id="___direct3d_10_changed"></span><span id="___DIRECT3D_10_CHANGED"></span>Изменен Direct3D 10</span><span class="sxs-lookup"><span data-stu-id="cdaa7-200"><span id="___Direct3D_10_CHANGED"></span><span id="___direct3d_10_changed"></span><span id="___DIRECT3D_10_CHANGED"></span>// Direct3D 10 CHANGED</span></span><br/>                     | <span data-ttu-id="cdaa7-201">Области, в которых были внесены существенные изменения, должны храниться для дальнейшего использования, но при этом закомментироваться</span><span class="sxs-lookup"><span data-stu-id="cdaa7-201">Areas where major changes have occurred should be kept for future reference but commented out</span></span><br/>                                                                                                                                                                                                                       |
| <span data-ttu-id="cdaa7-202"><span id="___Direct3D_10_END"></span><span id="___direct3d_10_end"></span><span id="___DIRECT3D_10_END"></span>ОКОНЧАНИе Direct3D 10</span><span class="sxs-lookup"><span data-stu-id="cdaa7-202"><span id="___Direct3D_10_END"></span><span id="___direct3d_10_end"></span><span id="___DIRECT3D_10_END"></span>// Direct3D 10 END</span></span><br/>                                     | <span data-ttu-id="cdaa7-203">Квалификатор конечного блока кода</span><span class="sxs-lookup"><span data-stu-id="cdaa7-203">End code block qualifier</span></span><br/>                                                                                                                                                                                                                                                                                            |



 

<span data-ttu-id="cdaa7-204">Для нескольких строк исходного кода следует использовать не только стили C/ \* \* /комментарии, но и добавить соответствующие комментарии начала и окончания вокруг этих областей.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-204">For multiple lines of source you should use the C style /\* \*/ comments too but add the relevant start / end comments around these areas.</span></span>

## <a name="tricks-for-quickly-resolving-application-build-issues"></a><span data-ttu-id="cdaa7-205">Рекомендации по быстрому решению проблем сборки приложений</span><span class="sxs-lookup"><span data-stu-id="cdaa7-205">Tricks for Quickly Resolving Application Build Issues</span></span>

-   [<span data-ttu-id="cdaa7-206">Переопределение типов Direct3D 9</span><span class="sxs-lookup"><span data-stu-id="cdaa7-206">Overriding Direct3D 9 Types</span></span>](#overriding-direct3d-9-types)
-   [<span data-ttu-id="cdaa7-207">Устранение проблем с ссылками</span><span class="sxs-lookup"><span data-stu-id="cdaa7-207">Resolving Link Issues</span></span>](#resolving-link-issues)
-   [<span data-ttu-id="cdaa7-208">Имитация заглавных устройств</span><span class="sxs-lookup"><span data-stu-id="cdaa7-208">Simulating Device CAPs</span></span>](#simulating-device-caps)

### <a name="overriding-direct3d-9-types"></a><span data-ttu-id="cdaa7-209">Переопределение типов Direct3D 9</span><span class="sxs-lookup"><span data-stu-id="cdaa7-209">Overriding Direct3D 9 Types</span></span>

<span data-ttu-id="cdaa7-210">Может оказаться полезным вставить файл заголовка высокого уровня, содержащий определения или переопределения типов для базовых типов Direct3D 9, которые больше не поддерживаются заголовками Direct3D 10.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-210">It may be useful to insert a high level header file containing type definitions / overrides for Direct3D 9 base types which are no longer supported by the Direct3D 10 headers.</span></span> <span data-ttu-id="cdaa7-211">Это поможет вам сократить объем изменений в коде и интерфейсах, в которых имеется прямое сопоставление типа Direct3D 9 с только что определенным типом Direct3D 10.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-211">This will help you minimize the amount of changes in the code and interfaces where there is a direct mapping from a Direct3D 9 type to the newly defined Direct3D 10 type.</span></span> <span data-ttu-id="cdaa7-212">Этот подход также полезен для сохранения поведения кода вместе в одном исходном файле.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-212">This approach is also useful for keeping code behaviors together in one source file.</span></span> <span data-ttu-id="cdaa7-213">В этом случае рекомендуется определить независимые от версии типы, которые описывают общие конструкции, используемые для отрисовки, но которые охватывают API Direct3D 9 и Direct3D 10.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-213">In this case, it is a good idea to define version neutral / generally named types which describe common constructs used for rendering yet span both Direct3D 9 and Direct3D 10 APIs.</span></span> <span data-ttu-id="cdaa7-214">Пример:</span><span class="sxs-lookup"><span data-stu-id="cdaa7-214">For example:</span></span>


```
#if defined(D3D9)
typedef IDirect3DIndexBuffer9   IDirect3DIndexBuffer;
typedef IDirect3DVertexBuffer9  IDirect3DVertexBuffer;
#else //D3D10
typedef ID3D10Buffer            IDirect3DIndexBuffer;
typedef ID3D10Buffer            IDirect3DVertexBuffer
#endif
```



<span data-ttu-id="cdaa7-215">Другие примеры Direct3D 10 включают следующие.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-215">Other Direct3D 10 specific examples of this include:</span></span>


```
typedef ID3D10TextureCube   IDirect3DCubeTexture;
typedef ID3D10Texture3D     IDirect3DVolumeTexture;
typedef D3D10_VIEWPORT      D3DVIEWPORT;
typedef ID3D10VertexShader  IDirect3DVertexShader;
typedef ID3D10PixelShader   IDirect3DPixelShader;
```



### <a name="resolving-link-issues"></a><span data-ttu-id="cdaa7-216">Устранение проблем с ссылками</span><span class="sxs-lookup"><span data-stu-id="cdaa7-216">Resolving Link Issues</span></span>

<span data-ttu-id="cdaa7-217">Рекомендуется разрабатывать приложения Direct3D 10 и Windows Vista, используя последнюю версию Microsoft Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-217">It is advisable to develop Direct3D 10 and Windows Vista applications using the latest version of Microsoft Visual Studio.</span></span> <span data-ttu-id="cdaa7-218">Однако можно создать приложение Windows Vista, которое зависит от Direct3D 10, с помощью более ранней версии 2003 Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-218">However, it is possible to build a Windows Vista application which depends on Direct3D 10 using the earlier 2003 version of Visual Studio.</span></span> <span data-ttu-id="cdaa7-219">Direct3D 10 — это компонент платформы Windows Vista, имеющий зависимости (как и в пакете SDK для сервера 2003 с пакетом обновления 1 (SP1)) в следующей библиотеке lib: Буффероверфлову. lib для разрешения любых \_ проблем компоновщика проверки безопасности буфера.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-219">Direct3D 10 is a Windows Vista platform component which has dependencies (as with the Server 2003 SP1 platform SDK) on the following lib: BufferOverflowU.lib is needed to solve any buffer\_security check linker issues.</span></span>

### <a name="simulating-device-caps"></a><span data-ttu-id="cdaa7-220">Имитация заглавных устройств</span><span class="sxs-lookup"><span data-stu-id="cdaa7-220">Simulating Device CAPs</span></span>

<span data-ttu-id="cdaa7-221">Многие приложения содержат области кода, которые зависят от доступных данных о заглавных дисках.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-221">Many applications contain areas of code which depend on device CAPS data being available.</span></span> <span data-ttu-id="cdaa7-222">Обойти это можно, переопределив перечисление устройств и заставляя ограничения для устройств в разумные значения.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-222">Work around this by overriding device enumeration and forcing device CAPS to sensible values.</span></span> <span data-ttu-id="cdaa7-223">Запланируйте повторное посещение областей, в которых существуют зависимости от политик авторизации подключений позже, если это возможно.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-223">Plan to re-visit areas where there are dependencies on CAPS later for full removal of CAPS where possible.</span></span>

## <a name="driving-the-direct3d-10-api"></a><span data-ttu-id="cdaa7-224">Управление API Direct3D 10</span><span class="sxs-lookup"><span data-stu-id="cdaa7-224">Driving the Direct3D 10 API</span></span>

<span data-ttu-id="cdaa7-225">В этом разделе рассматриваются изменения в работе, вызванные API Direct3D 10.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-225">This section focuses on the behavior changes caused by the Direct3D 10 API.</span></span>

-   [<span data-ttu-id="cdaa7-226">Создание ресурсов</span><span class="sxs-lookup"><span data-stu-id="cdaa7-226">Resource Creation</span></span>](#resource-creation)
-   [<span data-ttu-id="cdaa7-227">Представления</span><span class="sxs-lookup"><span data-stu-id="cdaa7-227">Views</span></span>](#views)
-   [<span data-ttu-id="cdaa7-228">Статический и динамический доступ к ресурсам</span><span class="sxs-lookup"><span data-stu-id="cdaa7-228">Static versus Dynamic Resource Access</span></span>](#static-versus-dynamic-resource-access)
-   [<span data-ttu-id="cdaa7-229">Эффекты Direct3D 10</span><span class="sxs-lookup"><span data-stu-id="cdaa7-229">Direct3D 10 Effects</span></span>](#direct3d-10-effects)
-   [<span data-ttu-id="cdaa7-230">HLSL без эффектов</span><span class="sxs-lookup"><span data-stu-id="cdaa7-230">HLSL without Effects</span></span>](#hlsl-without-effects)
-   [<span data-ttu-id="cdaa7-231">Компиляция шейдера</span><span class="sxs-lookup"><span data-stu-id="cdaa7-231">Shader Compilation</span></span>](#shader-compilation)
-   [<span data-ttu-id="cdaa7-232">Создание ресурсов шейдера</span><span class="sxs-lookup"><span data-stu-id="cdaa7-232">Creation of Shader Resources</span></span>](#creation-of-shader-resources)
-   [<span data-ttu-id="cdaa7-233">Интерфейс слоя отражения шейдеров</span><span class="sxs-lookup"><span data-stu-id="cdaa7-233">Shader Reflection Layer Interface</span></span>](#shader-reflection-layer-interface)
-   [<span data-ttu-id="cdaa7-234">Макеты входного ассемблера — компоновка вершинного шейдера и входного потока</span><span class="sxs-lookup"><span data-stu-id="cdaa7-234">Input Assembler Layouts - Vertex Shader / Input Stream Linkage</span></span>](/windows)
-   [<span data-ttu-id="cdaa7-235">Влияние удаления неработающего кода шейдера</span><span class="sxs-lookup"><span data-stu-id="cdaa7-235">Impact of Shader Dead Code Removal</span></span>](#impact-of-shader-dead-code-removal)
-   [<span data-ttu-id="cdaa7-236">Пример входной структуры шейдера вершин</span><span class="sxs-lookup"><span data-stu-id="cdaa7-236">Vertex Shader Input Structure Example</span></span>](#vertex-shader-input-structure-example)
-   [<span data-ttu-id="cdaa7-237">Создание объекта состояния</span><span class="sxs-lookup"><span data-stu-id="cdaa7-237">State Object Creation</span></span>](#state-object-creation)

### <a name="resource-creation"></a><span data-ttu-id="cdaa7-238">Создание ресурсов</span><span class="sxs-lookup"><span data-stu-id="cdaa7-238">Resource Creation</span></span>

<span data-ttu-id="cdaa7-239">API Direct3D 10 разрабатывал ресурсы как универсальные типы буфера, имеющие определенные флаги привязки в соответствии с запланированным использованием.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-239">The Direct3D 10 API has designed resources as generic buffer types which have specific bind flags according to the planned usage.</span></span> <span data-ttu-id="cdaa7-240">Эта точка проектирования была выбрана для упрощения повсеместного доступа к ресурсам в конвейере для таких сценариев, как отрисовка в буфер вершин, а затем мгновенное Рисование результатов без прерывания работы ЦП.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-240">This design point was chosen to facilitate near ubiquitous access of resources in the Pipeline for scenarios such as rendering to a vertex buffer then instantly drawing the results without interrupting the CPU.</span></span> <span data-ttu-id="cdaa7-241">В следующем примере показано выделение буферов вершин и буфера индексов, где можно увидеть, что описание ресурса отличается только флагами привязки ресурсов GPU.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-241">The following example demonstrates allocation of vertex buffers and index buffer where you can see that the resource description only differs by the GPU resource bind flags.</span></span>

<span data-ttu-id="cdaa7-242">API Direct3D 10 предоставил вспомогательные методы текстуры для явного создания ресурсов типа текстуры, но как можно себе представить, это фактически вспомогательные функции.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-242">The Direct3D 10 API has provided texture helper methods for explicitly creating texture type resources but as you can imagine, these are really helper functions.</span></span>

-   <span data-ttu-id="cdaa7-243">CreateTexture2D()</span><span class="sxs-lookup"><span data-stu-id="cdaa7-243">CreateTexture2D()</span></span>
-   <span data-ttu-id="cdaa7-244">Креатетекстурекубе ()</span><span class="sxs-lookup"><span data-stu-id="cdaa7-244">CreateTextureCube()</span></span>
-   <span data-ttu-id="cdaa7-245">CreateTexture3D()</span><span class="sxs-lookup"><span data-stu-id="cdaa7-245">CreateTexture3D()</span></span>

<span data-ttu-id="cdaa7-246">При использовании Direct3D 10, скорее всего, потребуется выделить больше элементов во время создания ресурса, чем вы используете с Direct3D 9.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-246">When targeting Direct3D 10, you are likely to want to allocate more items during resource creation time than you are used to with Direct3D 9.</span></span> <span data-ttu-id="cdaa7-247">Это станет наиболее очевидным благодаря созданию буферов и текстур целевых объектов рендеринга, в которых необходимо также создать представление для доступа к буферу и настройки ресурса на устройстве.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-247">This will become most apparent with the creation of Render Target buffers and Textures where you need to also create a view for accessing the buffer and setting the resource on the device.</span></span>

<span data-ttu-id="cdaa7-248">[Учебник 1. Основные сведения о Direct3D 10](https://msdn.microsoft.com/library/Ee416436(v=VS.85).aspx)</span><span class="sxs-lookup"><span data-stu-id="cdaa7-248">[Tutorial 1: Direct3D 10 Basics](https://msdn.microsoft.com/library/Ee416436(v=VS.85).aspx)</span></span>

> [!Note]  
> <span data-ttu-id="cdaa7-249">Direct3D 10 и более поздние версии Direct3D расширяют формат файлов DDS для поддержки новых форматов DXGI, массивов текстур и массивов карт Куба.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-249">Direct3D 10 and later versions of Direct3D extend the DDS file format to support new DXGI formats, texture arrays, and cube-map arrays.</span></span> <span data-ttu-id="cdaa7-250">Дополнительные сведения о расширении формата файла DDS см. в разделе [Guide по программированию для DDS](../direct3ddds/dx-graphics-dds-pguide.md).</span><span class="sxs-lookup"><span data-stu-id="cdaa7-250">For more information about the DDS file format extension, see the [Programming Guide for DDS](../direct3ddds/dx-graphics-dds-pguide.md).</span></span>

 

### <a name="views"></a><span data-ttu-id="cdaa7-251">Представления</span><span class="sxs-lookup"><span data-stu-id="cdaa7-251">Views</span></span>

<span data-ttu-id="cdaa7-252">Представление — это специально типизированный интерфейс для данных, хранящихся в буфере пикселей.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-252">A view is a specifically typed, interface to data stored in a pixel buffer.</span></span> <span data-ttu-id="cdaa7-253">Ресурс может одновременно выделить несколько представлений, и эта функция будет выделена в образце единого прохода render to кубической карты, который содержится в этом пакете SDK.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-253">A resource can have several views allocated on it at once and this feature is highlighted in the Single Pass Render to Cubemap sample contained in this SDK.</span></span>

[<span data-ttu-id="cdaa7-254">Страница с руководством программистов по доступу к ресурсам</span><span class="sxs-lookup"><span data-stu-id="cdaa7-254">Programmers Guide page on Resource Access</span></span>](d3d10-graphics-programming-guide-resources-access-views.md)

<span data-ttu-id="cdaa7-255">[Пример кубической карты](https://msdn.microsoft.com/library/Ee416398(v=VS.85).aspx)</span><span class="sxs-lookup"><span data-stu-id="cdaa7-255">[CubeMap Sample](https://msdn.microsoft.com/library/Ee416398(v=VS.85).aspx)</span></span>

### <a name="static-versus-dynamic-resource-access"></a><span data-ttu-id="cdaa7-256">Статический и динамический доступ к ресурсам</span><span class="sxs-lookup"><span data-stu-id="cdaa7-256">Static versus Dynamic Resource Access</span></span>

<span data-ttu-id="cdaa7-257">Для лучшей производительности приложения должны секционировать их данные с точки зрения статической и динамической природы данных.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-257">For best performance, applications should partition their data use in terms of the static vs dynamic nature of the data.</span></span> <span data-ttu-id="cdaa7-258">Direct3D 10 был разработан таким образом, чтобы воспользоваться преимуществами такого подхода и, таким образом, правила доступа для ресурсов значительно заблокировались по сравнению с Direct3D 9.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-258">Direct3D 10 has been designed to take advantage of this approach and as such, the access rules for resources have been significantly tightened up over Direct3D 9.</span></span> <span data-ttu-id="cdaa7-259">Для статических ресурсов необходимо в идеале заполнить ресурс данными во время создания.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-259">For static resources you should ideally populate the resource with its data during creation time.</span></span> <span data-ttu-id="cdaa7-260">Если ваш модуль разработан на основе точки проектирования создания, блокировки, заполнения и разблокировки Direct3D 9, вы можете отложить заполнение с помощью промежуточного ресурса и метода Упдатесубресаурце в интерфейсе ресурсов.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-260">If your engine has been designed around the Create, Lock, Fill, Unlock design point of Direct3D 9, you may defer population from Create time by using a staging resource and the UpdateSubResource method on the resource interface.</span></span>

### <a name="direct3d-10-effects"></a><span data-ttu-id="cdaa7-261">Эффекты Direct3D 10</span><span class="sxs-lookup"><span data-stu-id="cdaa7-261">Direct3D 10 Effects</span></span>

<span data-ttu-id="cdaa7-262">Использование системы влияния Direct3D 10 выходит за рамки этой статьи.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-262">Use of the Direct3D 10 Effects system is outside the scope of this article.</span></span> <span data-ttu-id="cdaa7-263">Система была написана, чтобы воспользоваться всеми преимуществами архитектурных преимуществ, предоставляемых Direct3D 10.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-263">The system has been written to take full advantage of the architectural benefits that Direct3D 10 provides.</span></span> <span data-ttu-id="cdaa7-264">Дополнительные сведения об использовании см. в разделе [Effects (Direct3D 10)](d3d10-graphics-programming-guide-effects.md) .</span><span class="sxs-lookup"><span data-stu-id="cdaa7-264">See the [Effects (Direct3D 10)](d3d10-graphics-programming-guide-effects.md) section for more detail on its use.</span></span>

### <a name="hlsl-without-effects"></a><span data-ttu-id="cdaa7-265">HLSL без эффектов</span><span class="sxs-lookup"><span data-stu-id="cdaa7-265">HLSL without Effects</span></span>

<span data-ttu-id="cdaa7-266">Конвейер шейдера Direct3D 10 может быть управляемым без использования системы влияния Direct3D 10.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-266">The Direct3D 10 Shader pipeline may be driven without the use of the Direct3D 10 Effects system.</span></span> <span data-ttu-id="cdaa7-267">Обратите внимание, что в этом случае весь буфер констант, шейдер, образец и привязка текстуры должны управляться самим приложением.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-267">Note that in this instance, all constant buffer, shader, sampler and texture binding must be managed by the application itself.</span></span> <span data-ttu-id="cdaa7-268">Для получения дополнительных сведений см. ссылку на образец и следующие разделы этого документа:</span><span class="sxs-lookup"><span data-stu-id="cdaa7-268">See the sample link and following sections of this document for more detail:</span></span>

<span data-ttu-id="cdaa7-269">[Пример HLSL без эффектов](https://msdn.microsoft.com/library/Ee416414(v=VS.85).aspx)</span><span class="sxs-lookup"><span data-stu-id="cdaa7-269">[HLSL without Effects sample](https://msdn.microsoft.com/library/Ee416414(v=VS.85).aspx)</span></span>

### <a name="shader-compilation"></a><span data-ttu-id="cdaa7-270">Компиляция шейдера</span><span class="sxs-lookup"><span data-stu-id="cdaa7-270">Shader Compilation</span></span>

<span data-ttu-id="cdaa7-271">Компилятор Direct3D 10 HLSL предоставляет усовершенствования определения языка HLSL и, таким образом, имеет возможность работы в двух режимах.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-271">The Direct3D 10 HLSL compiler brings enhancements to the HLSL language definition and therefore has the ability to operate in 2 modes.</span></span> <span data-ttu-id="cdaa7-272">Для полной поддержки встроенных функций и семантики в стиле Direct3D 9 компиляцию следует вызывать с помощью флага режима СОВМЕСТИМОСТИ, который можно указать для каждой компиляции.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-272">For complete support of Direct3D 9 style intrinsic functions and semantics, compilation should be invoked using the COMPATIBILITY MODE flag which can be specified on a per compile basis.</span></span>

<span data-ttu-id="cdaa7-273">HLSLная семантика языка и встроенные функции для Direct3D 10 в модели шейдеров 4,0 можно найти по адресу [HLSL](../direct3dhlsl/dx-graphics-hlsl.md).</span><span class="sxs-lookup"><span data-stu-id="cdaa7-273">The shader model 4.0 specific HLSL language semantics and intrinsic functions for Direct3D 10 can be found at [HLSL](../direct3dhlsl/dx-graphics-hlsl.md).</span></span> <span data-ttu-id="cdaa7-274">Основные изменения в синтаксисе из Direct3D 9 HLSL, чтобы получить наиболее заметные уведомления, находятся в области доступа к текстурам.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-274">Major changes in syntax from Direct3D 9 HLSL to take the most notice of are in the area of texture access.</span></span> <span data-ttu-id="cdaa7-275">Новый синтаксис является единственной формой, поддерживаемой компилятором вне режима совместимости.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-275">The new syntax is the only form supported by the compiler outside of compatibility mode.</span></span>

> [!Note]  
> <span data-ttu-id="cdaa7-276">API-интерфейсы типа компилятора Direct3D 10 ([**D3D10CompileShader**](/windows/desktop/api/D3D10Shader/nf-d3d10shader-d3d10compileshader) и [**D3D10CompileEffectFromMemory**](/windows/desktop/api/D3D10Effect/nf-d3d10effect-d3d10compileeffectfrommemory)) предоставляются средами выполнения Direct3D 10, 10,1 и 11, которые работают в Windows Vista и более поздних версиях.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-276">The Direct3D 10 compiler-type APIs ([**D3D10CompileShader**](/windows/desktop/api/D3D10Shader/nf-d3d10shader-d3d10compileshader) and [**D3D10CompileEffectFromMemory**](/windows/desktop/api/D3D10Effect/nf-d3d10effect-d3d10compileeffectfrommemory)) are supplied by the Direct3D 10, 10.1, and 11 runtimes that run in Windows Vista and later.</span></span> <span data-ttu-id="cdaa7-277">Интерфейсы API типа компилятора Direct3D 10 имеют те же функциональные возможности, что и компилятор HLSL, поставляемый в составе пакета SDK DirectX (Декабрь 2006).</span><span class="sxs-lookup"><span data-stu-id="cdaa7-277">The Direct3D 10 compiler-type APIs have the same functionality as the HLSL compiler that is shipped in the DirectX SDK (December 2006).</span></span> <span data-ttu-id="cdaa7-278">Этот компилятор HLSL не поддерживает профили Direct3D 10,1 (VS \_ 4 \_ 1, PS \_ 4 \_ 1, GS \_ 4 \_ 1, FX \_ 4 \_ 1), и в нем отсутствует ряд операций оптимизации и улучшений.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-278">This HLSL compiler does not support the Direct3D 10.1 profiles (vs\_4\_1, ps\_4\_1, gs\_4\_1, fx\_4\_1), and is missing a number of optimizations and improvements.</span></span> <span data-ttu-id="cdaa7-279">Вы можете получить компилятор HLSL, который поддерживает профили Direct3D 10,1 из последней версии [пакета SDK DirectX](/previous-versions/windows/apps/hh452744(v=win.10))для предыдущих версий.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-279">You can get an HLSL compiler that supports the Direct3D 10.1 profiles from the latest legacy [DirectX SDK release](/previous-versions/windows/apps/hh452744(v=win.10)).</span></span> <span data-ttu-id="cdaa7-280">Сведения о устаревшем пакете SDK DirectX см. в разделе [где находится пакет DirectX SDK?](../directx-sdk--august-2009-.md).</span><span class="sxs-lookup"><span data-stu-id="cdaa7-280">For info about the legacy DirectX SDK, see [Where is the DirectX SDK?](../directx-sdk--august-2009-.md).</span></span> <span data-ttu-id="cdaa7-281">Последнюю версию HLSL Fxc.exe компилятор командной строки и интерфейсы API [D3DCompiler](../direct3dhlsl/dx-graphics-d3dcompiler-reference.md) можно получить из Windows SDK.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-281">You can get the latest HLSL Fxc.exe command-line compiler and [D3DCompiler](../direct3dhlsl/dx-graphics-d3dcompiler-reference.md) APIs from the Windows SDK.</span></span>

 

### <a name="creation-of-shader-resources"></a><span data-ttu-id="cdaa7-282">Создание ресурсов шейдера</span><span class="sxs-lookup"><span data-stu-id="cdaa7-282">Creation of Shader Resources</span></span>

<span data-ttu-id="cdaa7-283">Создание скомпилированных экземпляров шейдеров за пределами Direct3D 10 Effects выполняется почти так же, как и Direct3D 9. Однако в Direct3D 10 важно, чтобы входные подписи шейдера использовались для последующего использования.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-283">The creation of compiled shader instances outside of the Direct3D 10 Effects system is done in a very similar manner to Direct3D 9 however, in Direct3D 10, it is important to keep the Shader Input signature around for later use.</span></span> <span data-ttu-id="cdaa7-284">Подпись возвращается по умолчанию в составе большого двоичного объекта шейдера, но может быть извлечена для уменьшения требований к памяти при необходимости.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-284">The signature is returned by default as part of the shader blob but may be extracted to reduce the memory requirements if needed.</span></span> <span data-ttu-id="cdaa7-285">Дополнительные сведения см. [в разделе Использование шейдеров в Direct3D 10](../direct3dhlsl/dx-graphics-hlsl-using-shaders-10.md).</span><span class="sxs-lookup"><span data-stu-id="cdaa7-285">For more details, see [Using Shaders in Direct3D 10](../direct3dhlsl/dx-graphics-hlsl-using-shaders-10.md).</span></span>

### <a name="shader-reflection-layer-interface"></a><span data-ttu-id="cdaa7-286">Интерфейс слоя отражения шейдеров</span><span class="sxs-lookup"><span data-stu-id="cdaa7-286">Shader Reflection Layer Interface</span></span>

<span data-ttu-id="cdaa7-287">Слой отражения шейдеров — это интерфейс, с помощью которого можно получить сведения о требованиях шейдера.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-287">The shader reflection layer is the interface by which information about the shader requirements may be obtained.</span></span> <span data-ttu-id="cdaa7-288">Это особенно полезно при создании связей входных сборок (см. ниже), где вам может потребоваться выполнить обходные требования к входным данным шейдера, чтобы обеспечить правильную входную структуру шейдера.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-288">This is particularly useful when creating Input Assembly linkages (see below) where you may need to traverse the shader input requirements to ensure you are supplying the correct input structure to the shader.</span></span> <span data-ttu-id="cdaa7-289">Можно создать экземпляр интерфейса уровня отражения одновременно с созданием экземпляра скомпилированного шейдера.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-289">You can create an instance of the reflection layer interface at the same time as creating an instance of a compiled shader.</span></span>

<span data-ttu-id="cdaa7-290">Слой отражения шейдера заменяет методы D3DX9, которые предоставляют аналогичные функциональные возможности.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-290">The shader reflection layer replaces D3DX9 methods that provide similar functionality.</span></span> <span data-ttu-id="cdaa7-291">Например, [**испараметерусед**](../direct3d9/id3dxeffect--isparameterused.md) заменяется методом [**DESC**](/windows/desktop/api/D3D10Shader/nf-d3d10shader-id3d10shaderreflectionvariable-getdesc) .</span><span class="sxs-lookup"><span data-stu-id="cdaa7-291">For example [**IsParameterUsed**](../direct3d9/id3dxeffect--isparameterused.md) is replaced by the [**GetDesc**](/windows/desktop/api/D3D10Shader/nf-d3d10shader-id3d10shaderreflectionvariable-getdesc) method.</span></span>

### <a name="input-assembler-layouts---vertex-shader--input-stream-linkage"></a><span data-ttu-id="cdaa7-292">Макеты входного ассемблера — компоновка вершинного шейдера и входного потока</span><span class="sxs-lookup"><span data-stu-id="cdaa7-292">Input Assembler Layouts - Vertex Shader / Input Stream Linkage</span></span>

<span data-ttu-id="cdaa7-293">Входной ассемблер (IA) заменяет объявление потока вершин в стиле Direct3D 9, и структура его описания очень похожа на форму.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-293">The Input Assembler (IA) replaces the Direct3D 9 style Vertex Stream Declaration and it's description structure is very similar in form.</span></span> <span data-ttu-id="cdaa7-294">Основное отличие архитектуры IA заключается в том, что созданный объект макета IA должен напрямую сопоставляться с конкретным форматом входной подписи шейдера.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-294">The main difference that the IA brings is that the IA layout object created must directly map to a specific format of shader input signature.</span></span> <span data-ttu-id="cdaa7-295">Объект сопоставления, созданный для связывания входного потока с шейдером, может использоваться в любом числе шейдеров, где входная сигнатура шейдера совпадает с подписью шейдера, используемой для создания макета ввода.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-295">The mapping object created to link the input stream to shader may be used across any number of shaders where the shader input signature matches that of the shader used to create the Input Layout.</span></span>

<span data-ttu-id="cdaa7-296">Чтобы лучше использовать конвейер со статическими данными, следует рассмотреть перестановки формата входного потока на возможные входные сигнатуры шейдеров и создать экземпляры объектов макета IA как можно раньше и использовать их там, где это возможно.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-296">To best drive the pipeline with static data, you should consider the permutations of input stream format to possible shader input signatures and create the IA layout object instances as early as is possible and reuse them where possible.</span></span>

### <a name="impact-of-shader-dead-code-removal"></a><span data-ttu-id="cdaa7-297">Влияние удаления неработающего кода шейдера</span><span class="sxs-lookup"><span data-stu-id="cdaa7-297">Impact of Shader Dead Code Removal</span></span>

<span data-ttu-id="cdaa7-298">В следующем разделе подробно описана существенная разница между Direct3D 9 и Direct3D 10, которая, скорее всего, требует тщательной обработки кода модуля.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-298">The following section details a significant difference between Direct3D 9 and Direct3D 10 that is likely to require careful handling in your engine code.</span></span> <span data-ttu-id="cdaa7-299">В шейдерах, содержащих условные выражения, в рамках процесса компиляции часто удаляются определенные пути кода.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-299">Shaders which contain conditional expressions often have certain code paths removed as part of the compilation process.</span></span> <span data-ttu-id="cdaa7-300">В Direct3D 9 два типа входных данных могут быть удалены (отмечены для удаления), если не используется: входные данные подписи (как в примере ниже) и постоянные входы.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-300">In Direct3D 9, two kinds of inputs may be removed (marked for removal) when unused: signature inputs (like the example below) and constant inputs.</span></span> <span data-ttu-id="cdaa7-301">Если конец буфера констант содержит неиспользуемые записи, объявление размера в шейдере будет отражать размер буфера констант без неиспользуемых записей в конце.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-301">If the end of the constant buffer contains unused entries, the size declaration in the shader will reflect the size of the constant buffer without the unused entries at the end.</span></span> <span data-ttu-id="cdaa7-302">Оба этих типа входных данных остаются в сигнатурах или константных буферах Direct3D 10 с особым исключением в случае неиспользуемых входных констант в конце буфера констант.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-302">Both of these kinds of inputs remain in signatures or constant buffers Direct3D 10 with a special exception in the case of unused constant inputs at the end of a constant buffer.</span></span> <span data-ttu-id="cdaa7-303">Это может повлиять на ядро при обработке больших шейдеров и создании макетов ввода.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-303">This may have an impact on the engine when handling large shaders and creating input layouts.</span></span> <span data-ttu-id="cdaa7-304">Элементы, удаленные с помощью оптимизации неработающих кодов в компиляторе, по-прежнему должны быть объявлены во входной структуре.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-304">Elements which are removed by dead code optimizations in the compiler must still be declared in the input structure.</span></span> <span data-ttu-id="cdaa7-305">Следующий пример демонстрирует это:</span><span class="sxs-lookup"><span data-stu-id="cdaa7-305">The following example demonstrates this:</span></span>

### <a name="vertex-shader-input-structure-example"></a><span data-ttu-id="cdaa7-306">Пример входной структуры шейдера вершин</span><span class="sxs-lookup"><span data-stu-id="cdaa7-306">Vertex Shader Input Structure Example</span></span>


```
struct VS_INPUT
{
float4 pos: SV_Position;
float2 uv1 : Texcoord1;
float2 uv2 : Texcoord2; *
};
```



<span data-ttu-id="cdaa7-307">\* Удаление неработающего кода Direct3D 9 приведет к удалению объявления в шейдере из-за удаления условного кода</span><span class="sxs-lookup"><span data-stu-id="cdaa7-307">\* Direct3D 9 dead code removal would remove the declaration in the shader due to conditional dead code removal</span></span>


```
float4x4  g_WorldViewProjMtx;
static const bool g_bLightMapped = false; // define a compile time constant

VS_INPUT main(VS_INPUT i) 
{
    VS_INPUT o;
    o.pos = mul( i.pos, g_WorldViewProjMtx);
    o.uv1 = i.uv1;
    if ( g_bLightMapped )
    {
        o.uv2 = i.uv2;
    }
    return o;
}
```



<span data-ttu-id="cdaa7-308">Или можно сделать еще более очевидным, что константа является константой времени компиляции со следующим объявлением:</span><span class="sxs-lookup"><span data-stu-id="cdaa7-308">Or, you could make it even more obvious that the constant is a compile time constant with the following declaration:</span></span>


```
#define LIGHT_MAPPED false
```



<span data-ttu-id="cdaa7-309">В приведенном выше примере в Direct3D 9 элемент UV2 был удален из-за неработающей оптимизации кода в компиляторе.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-309">In the above example, under Direct3D 9, the uv2 element would be removed due to dead code optimizations in the compiler.</span></span> <span data-ttu-id="cdaa7-310">В Direct3D 10 неработающий код по-прежнему будет удален, но макет входного ассемблера шейдера требует наличия определения входных данных.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-310">Under Direct3D 10, the dead code will still be removed but the shader input assembler layout requires the definition of the input data to exist.</span></span> <span data-ttu-id="cdaa7-311">Слой отражения шейдеров предоставляет средства для обработки этой ситуации в универсальном виде, позволяя проследить требования к входным данным шейдера и обеспечить полное описание входного потока для сопоставления сигнатур шейдера.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-311">The shader reflection layer provides the means to handle this situation in a generic manner whereby you can traverse the shader input requirements and ensure that you provide a full description of the Input Stream to shader signature mapping.</span></span>

<span data-ttu-id="cdaa7-312">Ниже приведен пример функции для обнаружения существования семантического имени или индекса в сигнатуре функции:</span><span class="sxs-lookup"><span data-stu-id="cdaa7-312">Here's an example function to detect the existence of a semantic name/index in a function signature:</span></span>


```
// Returns true if the SemanticName / SemanticIndex is used in the input signature.
// pReflector is a previously acquired shader reflection interface.
bool IsSignatureElementExpected(ID3D10ShaderReflection *pReflector, const LPCSTR SemanticName, UINT SemanticIndex)
{
    D3D10_SHADER_DESC               shaderDesc;
    D3D10_SIGNATURE_PARAMETER_DESC  paramDesc;

    Assert(pReflector);
    Assert(SemanticName);

    pReflector->GetDesc(&shaderDesc);

    for (UINT k=0; k<shaderDesc.InputParameters; k++)
    {
        pReflector->GetInputParameterDesc( k, &paramDesc);
        if (wcscmp( SemanticName, paramDesc.SemanticName)==0 && paramDesc.SemanticIndex == SemanticIndex) 
            return true;
    }

    return false;
}
```



### <a name="state-object-creation"></a><span data-ttu-id="cdaa7-313">Создание объекта состояния</span><span class="sxs-lookup"><span data-stu-id="cdaa7-313">State Object Creation</span></span>

<span data-ttu-id="cdaa7-314">При переносе кода модуля может помочь изначально использовать набор объектов состояния по умолчанию и отключить все параметры состояния визуализации устройства Direct3D 9 и состояния текстуры.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-314">When porting engine code, it may help to initially use a default set of state objects and disable all Direct3D 9 device render state / texture state setting.</span></span> <span data-ttu-id="cdaa7-315">Это приведет к визуализации артефактов, но является самым быстрым способом запуска и выполнения задач.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-315">This will cause rendering artifacts but is the quickest way to get things up and running.</span></span> <span data-ttu-id="cdaa7-316">Позднее можно создать систему управления объектами состояния, которая может использовать составной ключ, чтобы обеспечить максимальное повторное использование числа используемых объектов состояния.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-316">You can later construct a state object management system which can use a compound key to enable maximum reuse of the number of state objects being used.</span></span>

## <a name="porting-textures"></a><span data-ttu-id="cdaa7-317">Перенос текстур</span><span class="sxs-lookup"><span data-stu-id="cdaa7-317">Porting Textures</span></span>

### <a name="file-formats-supported"></a><span data-ttu-id="cdaa7-318">Поддерживаемые форматы файлов</span><span class="sxs-lookup"><span data-stu-id="cdaa7-318">File Formats Supported</span></span>

<span data-ttu-id="cdaa7-319">Функции **D3DXxxCreateXXX** и **D3DXxxSaveXXX** , которые создают или сохраняют текстуру из или в графический файл (например, [**D3DX10CreateTextureFromFile**](d3dx10createtexturefromfile.md)), поддерживают другой набор форматов файлов в Direct3D 10, чем в Direct3D 9:</span><span class="sxs-lookup"><span data-stu-id="cdaa7-319">The **D3DXxxCreateXXX** and **D3DXxxSaveXXX** functions that create or save a texture from or to a graphics file (for example, [**D3DX10CreateTextureFromFile**](d3dx10createtexturefromfile.md)) support a different set of file formats in Direct3D 10 than they did in Direct3D 9:</span></span>



| <span data-ttu-id="cdaa7-320">Формат файла</span><span class="sxs-lookup"><span data-stu-id="cdaa7-320">File Format</span></span> | <span data-ttu-id="cdaa7-321">Direct3D 9</span><span class="sxs-lookup"><span data-stu-id="cdaa7-321">Direct3D 9</span></span> | <span data-ttu-id="cdaa7-322">Direct3D 10</span><span class="sxs-lookup"><span data-stu-id="cdaa7-322">Direct3D 10</span></span> |
|-------------|------------|-------------|
| <span data-ttu-id="cdaa7-323">BMP</span><span class="sxs-lookup"><span data-stu-id="cdaa7-323">.bmp</span></span>        | <span data-ttu-id="cdaa7-324">x</span><span class="sxs-lookup"><span data-stu-id="cdaa7-324">x</span></span>          | <span data-ttu-id="cdaa7-325">x</span><span class="sxs-lookup"><span data-stu-id="cdaa7-325">x</span></span>           |
| <span data-ttu-id="cdaa7-326">.jpg</span><span class="sxs-lookup"><span data-stu-id="cdaa7-326">.jpg</span></span>        | <span data-ttu-id="cdaa7-327">x</span><span class="sxs-lookup"><span data-stu-id="cdaa7-327">x</span></span>          | <span data-ttu-id="cdaa7-328">x</span><span class="sxs-lookup"><span data-stu-id="cdaa7-328">x</span></span>           |
| <span data-ttu-id="cdaa7-329">TGA</span><span class="sxs-lookup"><span data-stu-id="cdaa7-329">.tga</span></span>        | <span data-ttu-id="cdaa7-330">x</span><span class="sxs-lookup"><span data-stu-id="cdaa7-330">x</span></span>          |             |
| <span data-ttu-id="cdaa7-331">.png</span><span class="sxs-lookup"><span data-stu-id="cdaa7-331">.png</span></span>        | <span data-ttu-id="cdaa7-332">x</span><span class="sxs-lookup"><span data-stu-id="cdaa7-332">x</span></span>          | <span data-ttu-id="cdaa7-333">x</span><span class="sxs-lookup"><span data-stu-id="cdaa7-333">x</span></span>           |
| <span data-ttu-id="cdaa7-334">DDS</span><span class="sxs-lookup"><span data-stu-id="cdaa7-334">.dds</span></span>        | <span data-ttu-id="cdaa7-335">x</span><span class="sxs-lookup"><span data-stu-id="cdaa7-335">x</span></span>          | <span data-ttu-id="cdaa7-336">x</span><span class="sxs-lookup"><span data-stu-id="cdaa7-336">x</span></span>           |
| <span data-ttu-id="cdaa7-337">стр/мин</span><span class="sxs-lookup"><span data-stu-id="cdaa7-337">.ppm</span></span>        | <span data-ttu-id="cdaa7-338">x</span><span class="sxs-lookup"><span data-stu-id="cdaa7-338">x</span></span>          |             |
| <span data-ttu-id="cdaa7-339">DIB</span><span class="sxs-lookup"><span data-stu-id="cdaa7-339">.dib</span></span>        | <span data-ttu-id="cdaa7-340">x</span><span class="sxs-lookup"><span data-stu-id="cdaa7-340">x</span></span>          |             |
| <span data-ttu-id="cdaa7-341">. HDR</span><span class="sxs-lookup"><span data-stu-id="cdaa7-341">.hdr</span></span>        | <span data-ttu-id="cdaa7-342">x</span><span class="sxs-lookup"><span data-stu-id="cdaa7-342">x</span></span>          |             |
| <span data-ttu-id="cdaa7-343">. ПФМ</span><span class="sxs-lookup"><span data-stu-id="cdaa7-343">.pfm</span></span>        | <span data-ttu-id="cdaa7-344">x</span><span class="sxs-lookup"><span data-stu-id="cdaa7-344">x</span></span>          |             |
| <span data-ttu-id="cdaa7-345">TIFF</span><span class="sxs-lookup"><span data-stu-id="cdaa7-345">.tiff</span></span>       |            | <span data-ttu-id="cdaa7-346">x</span><span class="sxs-lookup"><span data-stu-id="cdaa7-346">x</span></span>           |
| <span data-ttu-id="cdaa7-347">.gif</span><span class="sxs-lookup"><span data-stu-id="cdaa7-347">.gif</span></span>        |            | <span data-ttu-id="cdaa7-348">x</span><span class="sxs-lookup"><span data-stu-id="cdaa7-348">x</span></span>           |
| <span data-ttu-id="cdaa7-349">.tif</span><span class="sxs-lookup"><span data-stu-id="cdaa7-349">.tif</span></span>        |            | <span data-ttu-id="cdaa7-350">x</span><span class="sxs-lookup"><span data-stu-id="cdaa7-350">x</span></span>           |



 

<span data-ttu-id="cdaa7-351">Для получения дополнительных сведений Сравните перечисления Direct3D 9 [**D3DXIMAGE \_ FILEFORMAT**](../direct3d9/d3dximage-fileformat.md) с перечислениями [**\_ \_ \_ форматов файлов изображений D3DX10**](d3dx10-image-file-format.md) для Direct3D 10.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-351">For details, compare the Direct3D 9 [**D3DXIMAGE\_FILEFORMAT**](../direct3d9/d3dximage-fileformat.md) enumerations with the [**D3DX10\_IMAGE\_FILE\_FORMAT**](d3dx10-image-file-format.md) enumerations for Direct3D 10.</span></span>

> [!Note]  
> <span data-ttu-id="cdaa7-352">Библиотека служебной программы D3DX (D3DX 9, D3DX 10 и D3DX 11) является устаревшей для Windows 8.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-352">The D3DX (D3DX 9, D3DX 10, and D3DX 11) utility library is deprecated for Windows 8.</span></span> <span data-ttu-id="cdaa7-353">Для обработки файлов текстуры рекомендуется использовать [директкстекс](https://github.com/Microsoft/DirectXTex).</span><span class="sxs-lookup"><span data-stu-id="cdaa7-353">For texture file processing, we recommend that you use [DirectXTex](https://github.com/Microsoft/DirectXTex).</span></span>

 

### <a name="mapping-texture-formats"></a><span data-ttu-id="cdaa7-354">Сопоставление форматов текстур</span><span class="sxs-lookup"><span data-stu-id="cdaa7-354">Mapping Texture Formats</span></span>

<span data-ttu-id="cdaa7-355">В следующей таблице показано сопоставление форматов текстур с Direct3D 9 и Direct3D 10.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-355">The following table shows the mapping of texture formats from Direct3D 9 to Direct3D 10.</span></span> <span data-ttu-id="cdaa7-356">Любое содержимое в форматах, недоступных для DXGI, необходимо преобразовать с помощью подпрограмм служебной программы.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-356">Any content in formats not available in DXGI will need to be converted by utility routines.</span></span>



| <span data-ttu-id="cdaa7-357">Формат Direct3D 9</span><span class="sxs-lookup"><span data-stu-id="cdaa7-357">Direct3D 9 Format</span></span>                   | <span data-ttu-id="cdaa7-358">Формат Direct3D 10</span><span class="sxs-lookup"><span data-stu-id="cdaa7-358">Direct3D 10 Format</span></span>                                                                                                                                                                                                                                   |
|-------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="cdaa7-359">D3DFMT \_ неизвестный</span><span class="sxs-lookup"><span data-stu-id="cdaa7-359">D3DFMT\_UNKNOWN</span></span>                     | <span data-ttu-id="cdaa7-360">\_неизвестный формат DXGI \_</span><span class="sxs-lookup"><span data-stu-id="cdaa7-360">DXGI\_FORMAT\_UNKNOWN</span></span>                                                                                                                                                                                                                                |
| <span data-ttu-id="cdaa7-361">D3DFMT \_ R8G8B8</span><span class="sxs-lookup"><span data-stu-id="cdaa7-361">D3DFMT\_R8G8B8</span></span>                      | <span data-ttu-id="cdaa7-362">Недоступно</span><span class="sxs-lookup"><span data-stu-id="cdaa7-362">Not available</span></span>                                                                                                                                                                                                                                        |
| <span data-ttu-id="cdaa7-363">D3DFMT \_ A8R8G8B8</span><span class="sxs-lookup"><span data-stu-id="cdaa7-363">D3DFMT\_A8R8G8B8</span></span>                    | <span data-ttu-id="cdaa7-364">\_Формат DXGI \_ B8G8R8A8 \_ UNORM & в \_ формате DXGI \_ B8G8R8A8 \_ UNORM \_ sRGB ¹</span><span class="sxs-lookup"><span data-stu-id="cdaa7-364">DXGI\_FORMAT\_B8G8R8A8\_UNORM & DXGI\_FORMAT\_B8G8R8A8\_UNORM\_SRGB¹</span></span>                                                                                                                                                                                 |
| <span data-ttu-id="cdaa7-365">D3DFMT \_ X8R8G8B8</span><span class="sxs-lookup"><span data-stu-id="cdaa7-365">D3DFMT\_X8R8G8B8</span></span>                    | <span data-ttu-id="cdaa7-366">\_Формат DXGI \_ B8G8R8X8 \_ UNORM & в \_ формате DXGI \_ B8G8R8X8 \_ UNORM \_ sRGB ¹</span><span class="sxs-lookup"><span data-stu-id="cdaa7-366">DXGI\_FORMAT\_B8G8R8X8\_UNORM & DXGI\_FORMAT\_B8G8R8X8\_UNORM\_SRGB¹</span></span>                                                                                                                                                                                 |
| <span data-ttu-id="cdaa7-367">D3DFMT \_ R5G6B5</span><span class="sxs-lookup"><span data-stu-id="cdaa7-367">D3DFMT\_R5G6B5</span></span>                      | <span data-ttu-id="cdaa7-368">\_Формат DXGI \_ B5G6R5 \_ UNORM ²</span><span class="sxs-lookup"><span data-stu-id="cdaa7-368">DXGI\_FORMAT\_B5G6R5\_UNORM²</span></span>                                                                                                                                                                                                                         |
| <span data-ttu-id="cdaa7-369">D3DFMT \_ X1R5G5B5</span><span class="sxs-lookup"><span data-stu-id="cdaa7-369">D3DFMT\_X1R5G5B5</span></span>                    | <span data-ttu-id="cdaa7-370">Недоступно</span><span class="sxs-lookup"><span data-stu-id="cdaa7-370">Not available</span></span>                                                                                                                                                                                                                                        |
| <span data-ttu-id="cdaa7-371">D3DFMT \_ A1R5G5B5</span><span class="sxs-lookup"><span data-stu-id="cdaa7-371">D3DFMT\_A1R5G5B5</span></span>                    | <span data-ttu-id="cdaa7-372">\_Формат DXGI \_ B5G5R5A1 \_ UNORM ²</span><span class="sxs-lookup"><span data-stu-id="cdaa7-372">DXGI\_FORMAT\_B5G5R5A1\_UNORM²</span></span>                                                                                                                                                                                                                       |
| <span data-ttu-id="cdaa7-373">D3DFMT \_ A4R4G4B4</span><span class="sxs-lookup"><span data-stu-id="cdaa7-373">D3DFMT\_A4R4G4B4</span></span>                    | <span data-ttu-id="cdaa7-374">\_Формат DXGI \_ B4G4R4A4 \_ UNORM ³</span><span class="sxs-lookup"><span data-stu-id="cdaa7-374">DXGI\_FORMAT\_B4G4R4A4\_UNORM³</span></span>                                                                                                                                                                                                                       |
| <span data-ttu-id="cdaa7-375">D3DFMT \_ R3G3B2</span><span class="sxs-lookup"><span data-stu-id="cdaa7-375">D3DFMT\_R3G3B2</span></span>                      | <span data-ttu-id="cdaa7-376">Недоступно</span><span class="sxs-lookup"><span data-stu-id="cdaa7-376">Not available</span></span>                                                                                                                                                                                                                                        |
| <span data-ttu-id="cdaa7-377">D3DFMT \_ A8</span><span class="sxs-lookup"><span data-stu-id="cdaa7-377">D3DFMT\_A8</span></span>                          | <span data-ttu-id="cdaa7-378">\_Формат DXGI \_ a8 \_ UNORM</span><span class="sxs-lookup"><span data-stu-id="cdaa7-378">DXGI\_FORMAT\_A8\_UNORM</span></span>                                                                                                                                                                                                                              |
| <span data-ttu-id="cdaa7-379">D3DFMT \_ A8R3G3B2</span><span class="sxs-lookup"><span data-stu-id="cdaa7-379">D3DFMT\_A8R3G3B2</span></span>                    | <span data-ttu-id="cdaa7-380">Недоступно</span><span class="sxs-lookup"><span data-stu-id="cdaa7-380">Not available</span></span>                                                                                                                                                                                                                                        |
| <span data-ttu-id="cdaa7-381">D3DFMT \_ X4R4G4B4</span><span class="sxs-lookup"><span data-stu-id="cdaa7-381">D3DFMT\_X4R4G4B4</span></span>                    | <span data-ttu-id="cdaa7-382">Недоступно</span><span class="sxs-lookup"><span data-stu-id="cdaa7-382">Not available</span></span>                                                                                                                                                                                                                                        |
| <span data-ttu-id="cdaa7-383">D3DFMT \_ A2B10G10R10</span><span class="sxs-lookup"><span data-stu-id="cdaa7-383">D3DFMT\_A2B10G10R10</span></span>                 | <span data-ttu-id="cdaa7-384">\_R10G10B10A2 формата \_ DXGI</span><span class="sxs-lookup"><span data-stu-id="cdaa7-384">DXGI\_FORMAT\_R10G10B10A2</span></span>                                                                                                                                                                                                                            |
| <span data-ttu-id="cdaa7-385">D3DFMT \_ A8B8G8R8</span><span class="sxs-lookup"><span data-stu-id="cdaa7-385">D3DFMT\_A8B8G8R8</span></span>                    | <span data-ttu-id="cdaa7-386">\_Формат DXGI \_ R8G8B8A8 \_ UNORM & в \_ формате DXGI \_ R8G8B8A8 \_ UNORM \_ sRGB</span><span class="sxs-lookup"><span data-stu-id="cdaa7-386">DXGI\_FORMAT\_R8G8B8A8\_UNORM & DXGI\_FORMAT\_R8G8B8A8\_UNORM\_SRGB</span></span>                                                                                                                                                                                  |
| <span data-ttu-id="cdaa7-387">D3DFMT \_ X8B8G8R8</span><span class="sxs-lookup"><span data-stu-id="cdaa7-387">D3DFMT\_X8B8G8R8</span></span>                    | <span data-ttu-id="cdaa7-388">Недоступно</span><span class="sxs-lookup"><span data-stu-id="cdaa7-388">Not available</span></span>                                                                                                                                                                                                                                        |
| <span data-ttu-id="cdaa7-389">D3DFMT \_ G16R16</span><span class="sxs-lookup"><span data-stu-id="cdaa7-389">D3DFMT\_G16R16</span></span>                      | <span data-ttu-id="cdaa7-390">\_Формат DXGI \_ R16G16 \_ UNORM</span><span class="sxs-lookup"><span data-stu-id="cdaa7-390">DXGI\_FORMAT\_R16G16\_UNORM</span></span>                                                                                                                                                                                                                          |
| <span data-ttu-id="cdaa7-391">D3DFMT \_ A2R10G10B10</span><span class="sxs-lookup"><span data-stu-id="cdaa7-391">D3DFMT\_A2R10G10B10</span></span>                 | <span data-ttu-id="cdaa7-392">Недоступно</span><span class="sxs-lookup"><span data-stu-id="cdaa7-392">Not available</span></span>                                                                                                                                                                                                                                        |
| <span data-ttu-id="cdaa7-393">D3DFMT \_ A16B16G16R16</span><span class="sxs-lookup"><span data-stu-id="cdaa7-393">D3DFMT\_A16B16G16R16</span></span>                | <span data-ttu-id="cdaa7-394">\_Формат DXGI \_ R16G16B16A16 \_ UNORM</span><span class="sxs-lookup"><span data-stu-id="cdaa7-394">DXGI\_FORMAT\_R16G16B16A16\_UNORM</span></span>                                                                                                                                                                                                                    |
| <span data-ttu-id="cdaa7-395">D3DFMT \_ A8P8</span><span class="sxs-lookup"><span data-stu-id="cdaa7-395">D3DFMT\_A8P8</span></span>                        | <span data-ttu-id="cdaa7-396">Недоступно</span><span class="sxs-lookup"><span data-stu-id="cdaa7-396">Not available</span></span>                                                                                                                                                                                                                                        |
| <span data-ttu-id="cdaa7-397">D3DFMT \_ P8</span><span class="sxs-lookup"><span data-stu-id="cdaa7-397">D3DFMT\_P8</span></span>                          | <span data-ttu-id="cdaa7-398">Недоступно</span><span class="sxs-lookup"><span data-stu-id="cdaa7-398">Not available</span></span>                                                                                                                                                                                                                                        |
| <span data-ttu-id="cdaa7-399">D3DFMT \_ 8</span><span class="sxs-lookup"><span data-stu-id="cdaa7-399">D3DFMT\_L8</span></span>                          | <span data-ttu-id="cdaa7-400">\_Формат DXGI \_ R8 \_ UNORM. Примечание. Используйте. r свиззле в шейдере для дублирования красного в другие компоненты, чтобы получить поведение d3d9.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-400">DXGI\_FORMAT\_R8\_UNORM Note: Use .r swizzle in shader to duplicate red to other components to get D3D9 behavior.</span></span>                                                                                                                                    |
| <span data-ttu-id="cdaa7-401">D3DFMT \_ A8L8</span><span class="sxs-lookup"><span data-stu-id="cdaa7-401">D3DFMT\_A8L8</span></span>                        | <span data-ttu-id="cdaa7-402">\_Формат DXGI \_ R8G8 \_ UNORM Примечание. Используйте свиззле. рррг в шейдере, чтобы скопировать красный цвет и переместить зеленый в альфа-компоненты для получения поведения d3d9.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-402">DXGI\_FORMAT\_R8G8\_UNORM Note: Use swizzle .rrrg in shader to duplicate red and move green to the alpha components to get D3D9 behavior.</span></span>                                                                                                            |
| <span data-ttu-id="cdaa7-403">D3DFMT \_ A4L4</span><span class="sxs-lookup"><span data-stu-id="cdaa7-403">D3DFMT\_A4L4</span></span>                        | <span data-ttu-id="cdaa7-404">Недоступно</span><span class="sxs-lookup"><span data-stu-id="cdaa7-404">Not available</span></span>                                                                                                                                                                                                                                        |
| <span data-ttu-id="cdaa7-405">D3DFMT \_ V8U8</span><span class="sxs-lookup"><span data-stu-id="cdaa7-405">D3DFMT\_V8U8</span></span>                        | <span data-ttu-id="cdaa7-406">\_Формат DXGI \_ R8G8 \_ снорм</span><span class="sxs-lookup"><span data-stu-id="cdaa7-406">DXGI\_FORMAT\_R8G8\_SNORM</span></span>                                                                                                                                                                                                                            |
| <span data-ttu-id="cdaa7-407">D3DFMT \_ L6V5U5</span><span class="sxs-lookup"><span data-stu-id="cdaa7-407">D3DFMT\_L6V5U5</span></span>                      | <span data-ttu-id="cdaa7-408">Недоступно</span><span class="sxs-lookup"><span data-stu-id="cdaa7-408">Not available</span></span>                                                                                                                                                                                                                                        |
| <span data-ttu-id="cdaa7-409">D3DFMT \_ X8L8V8U8</span><span class="sxs-lookup"><span data-stu-id="cdaa7-409">D3DFMT\_X8L8V8U8</span></span>                    | <span data-ttu-id="cdaa7-410">Недоступно</span><span class="sxs-lookup"><span data-stu-id="cdaa7-410">Not available</span></span>                                                                                                                                                                                                                                        |
| <span data-ttu-id="cdaa7-411">D3DFMT \_ Q8W8V8U8</span><span class="sxs-lookup"><span data-stu-id="cdaa7-411">D3DFMT\_Q8W8V8U8</span></span>                    | <span data-ttu-id="cdaa7-412">\_Формат DXGI \_ R8G8B8A8 \_ снорм</span><span class="sxs-lookup"><span data-stu-id="cdaa7-412">DXGI\_FORMAT\_R8G8B8A8\_SNORM</span></span>                                                                                                                                                                                                                        |
| <span data-ttu-id="cdaa7-413">D3DFMT \_ V16U16</span><span class="sxs-lookup"><span data-stu-id="cdaa7-413">D3DFMT\_V16U16</span></span>                      | <span data-ttu-id="cdaa7-414">\_Формат DXGI \_ R16G16 \_ снорм</span><span class="sxs-lookup"><span data-stu-id="cdaa7-414">DXGI\_FORMAT\_R16G16\_SNORM</span></span>                                                                                                                                                                                                                          |
| <span data-ttu-id="cdaa7-415">D3DFMT \_ W11V11U10</span><span class="sxs-lookup"><span data-stu-id="cdaa7-415">D3DFMT\_W11V11U10</span></span>                   | <span data-ttu-id="cdaa7-416">Недоступно</span><span class="sxs-lookup"><span data-stu-id="cdaa7-416">Not available</span></span>                                                                                                                                                                                                                                        |
| <span data-ttu-id="cdaa7-417">D3DFMT \_ A2W10V10U10</span><span class="sxs-lookup"><span data-stu-id="cdaa7-417">D3DFMT\_A2W10V10U10</span></span>                 | <span data-ttu-id="cdaa7-418">Недоступно</span><span class="sxs-lookup"><span data-stu-id="cdaa7-418">Not available</span></span>                                                                                                                                                                                                                                        |
| <span data-ttu-id="cdaa7-419">D3DFMT \_ UYVY</span><span class="sxs-lookup"><span data-stu-id="cdaa7-419">D3DFMT\_UYVY</span></span>                        | <span data-ttu-id="cdaa7-420">Недоступно</span><span class="sxs-lookup"><span data-stu-id="cdaa7-420">Not available</span></span>                                                                                                                                                                                                                                        |
| <span data-ttu-id="cdaa7-421">D3DFMT \_ R8G8 \_ B8G8</span><span class="sxs-lookup"><span data-stu-id="cdaa7-421">D3DFMT\_R8G8\_B8G8</span></span>                  | <span data-ttu-id="cdaa7-422">\_Формат DXGI \_ G8R8 \_ G8B8 \_ UNORM (в DX9 данные были увеличены с помощью 255.0 f, но это можно обработать в коде шейдера).</span><span class="sxs-lookup"><span data-stu-id="cdaa7-422">DXGI\_FORMAT\_G8R8\_G8B8\_UNORM (in DX9 the data was scaled up by 255.0f, but this can be handled in shader code).</span></span>                                                                                                                                   |
| <span data-ttu-id="cdaa7-423">D3DFMT \_ YUY2</span><span class="sxs-lookup"><span data-stu-id="cdaa7-423">D3DFMT\_YUY2</span></span>                        | <span data-ttu-id="cdaa7-424">Недоступно</span><span class="sxs-lookup"><span data-stu-id="cdaa7-424">Not available</span></span>                                                                                                                                                                                                                                        |
| <span data-ttu-id="cdaa7-425">D3DFMT \_ G8R8 \_ G8B8</span><span class="sxs-lookup"><span data-stu-id="cdaa7-425">D3DFMT\_G8R8\_G8B8</span></span>                  | <span data-ttu-id="cdaa7-426">\_Формат DXGI \_ R8G8 \_ B8G8 \_ UNORM (в DX9 данные были увеличены с помощью 255.0 f, но это можно обработать в коде шейдера).</span><span class="sxs-lookup"><span data-stu-id="cdaa7-426">DXGI\_FORMAT\_R8G8\_B8G8\_UNORM (in DX9 the data was scaled up by 255.0f, but this can be handled in shader code).</span></span>                                                                                                                                   |
| <span data-ttu-id="cdaa7-427">D3DFMT \_ DXT1</span><span class="sxs-lookup"><span data-stu-id="cdaa7-427">D3DFMT\_DXT1</span></span>                        | <span data-ttu-id="cdaa7-428">\_Формат DXGI \_ BC1 \_ UNORM & в \_ формате DXGI \_ BC1 \_ UNORM \_ sRGB</span><span class="sxs-lookup"><span data-stu-id="cdaa7-428">DXGI\_FORMAT\_BC1\_UNORM & DXGI\_FORMAT\_BC1\_UNORM\_SRGB</span></span>                                                                                                                                                                                            |
| <span data-ttu-id="cdaa7-429">D3DFMT \_ DXT2</span><span class="sxs-lookup"><span data-stu-id="cdaa7-429">D3DFMT\_DXT2</span></span>                        | <span data-ttu-id="cdaa7-430">\_Формат DXGI \_ BC1 \_ UNORM & \_ в формате DXGI \_ BC1 \_ UNORM \_ sRGB Примечание. DXT1 и DXT2 совпадают с точки зрения API и оборудования... только разница была "предварительно умноженный Альфа", который может быть записан приложением и не нуждается в отдельном формате.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-430">DXGI\_FORMAT\_BC1\_UNORM & DXGI\_FORMAT\_BC1\_UNORM\_SRGB Note: DXT1 and DXT2 are the same from an API/hardware perspective... only difference was 'premultiplied alpha', which can be tracked by an application and doesn't need a separate format.</span></span> |
| <span data-ttu-id="cdaa7-431">D3DFMT \_ DXT3</span><span class="sxs-lookup"><span data-stu-id="cdaa7-431">D3DFMT\_DXT3</span></span>                        | <span data-ttu-id="cdaa7-432">\_Формат DXGI \_ BC2 \_ UNORM & в \_ формате DXGI \_ BC2 \_ UNORM \_ sRGB</span><span class="sxs-lookup"><span data-stu-id="cdaa7-432">DXGI\_FORMAT\_BC2\_UNORM & DXGI\_FORMAT\_BC2\_UNORM\_SRGB</span></span>                                                                                                                                                                                            |
| <span data-ttu-id="cdaa7-433">D3DFMT \_ DXT4</span><span class="sxs-lookup"><span data-stu-id="cdaa7-433">D3DFMT\_DXT4</span></span>                        | <span data-ttu-id="cdaa7-434">\_Формат DXGI \_ BC2 \_ UNORM & \_ в формате DXGI \_ BC2 \_ UNORM \_ sRGB Примечание. DXT3 и DXT4 совпадают с точки зрения API и оборудования... только разница была "предварительно умноженный Альфа", который может быть записан приложением и не нуждается в отдельном формате.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-434">DXGI\_FORMAT\_BC2\_UNORM & DXGI\_FORMAT\_BC2\_UNORM\_SRGB Note: DXT3 and DXT4 are the same from an API/hardware perspective... only difference was 'premultiplied alpha', which can be tracked by an application and doesn't need a separate format.</span></span> |
| <span data-ttu-id="cdaa7-435">D3DFMT \_ DXT5</span><span class="sxs-lookup"><span data-stu-id="cdaa7-435">D3DFMT\_DXT5</span></span>                        | <span data-ttu-id="cdaa7-436">\_Формат DXGI \_ BC3 \_ UNORM & в \_ формате DXGI \_ BC3 \_ UNORM \_ sRGB</span><span class="sxs-lookup"><span data-stu-id="cdaa7-436">DXGI\_FORMAT\_BC3\_UNORM & DXGI\_FORMAT\_BC3\_UNORM\_SRGB</span></span>                                                                                                                                                                                            |
| <span data-ttu-id="cdaa7-437">D3DFMT \_ D16 & D3DFMT \_ D16 \_ блокируемый</span><span class="sxs-lookup"><span data-stu-id="cdaa7-437">D3DFMT\_D16 & D3DFMT\_D16\_LOCKABLE</span></span> | <span data-ttu-id="cdaa7-438">\_Формат DXGI \_ D16 \_ UNORM</span><span class="sxs-lookup"><span data-stu-id="cdaa7-438">DXGI\_FORMAT\_D16\_UNORM</span></span>                                                                                                                                                                                                                             |
| <span data-ttu-id="cdaa7-439">D3DFMT \_ d32</span><span class="sxs-lookup"><span data-stu-id="cdaa7-439">D3DFMT\_D32</span></span>                         | <span data-ttu-id="cdaa7-440">Недоступно</span><span class="sxs-lookup"><span data-stu-id="cdaa7-440">Not available</span></span>                                                                                                                                                                                                                                        |
| <span data-ttu-id="cdaa7-441">D3DFMT \_ D15S1</span><span class="sxs-lookup"><span data-stu-id="cdaa7-441">D3DFMT\_D15S1</span></span>                       | <span data-ttu-id="cdaa7-442">Недоступно</span><span class="sxs-lookup"><span data-stu-id="cdaa7-442">Not available</span></span>                                                                                                                                                                                                                                        |
| <span data-ttu-id="cdaa7-443">D3DFMT \_ D24S8</span><span class="sxs-lookup"><span data-stu-id="cdaa7-443">D3DFMT\_D24S8</span></span>                       | <span data-ttu-id="cdaa7-444">Недоступно</span><span class="sxs-lookup"><span data-stu-id="cdaa7-444">Not available</span></span>                                                                                                                                                                                                                                        |
| <span data-ttu-id="cdaa7-445">D3DFMT \_ D24X8</span><span class="sxs-lookup"><span data-stu-id="cdaa7-445">D3DFMT\_D24X8</span></span>                       | <span data-ttu-id="cdaa7-446">Недоступно</span><span class="sxs-lookup"><span data-stu-id="cdaa7-446">Not available</span></span>                                                                                                                                                                                                                                        |
| <span data-ttu-id="cdaa7-447">D3DFMT \_ D24X4S4</span><span class="sxs-lookup"><span data-stu-id="cdaa7-447">D3DFMT\_D24X4S4</span></span>                     | <span data-ttu-id="cdaa7-448">Недоступно</span><span class="sxs-lookup"><span data-stu-id="cdaa7-448">Not available</span></span>                                                                                                                                                                                                                                        |
| <span data-ttu-id="cdaa7-449">D3DFMT \_ D16</span><span class="sxs-lookup"><span data-stu-id="cdaa7-449">D3DFMT\_D16</span></span>                         | <span data-ttu-id="cdaa7-450">\_Формат DXGI \_ D16 \_ UNORM</span><span class="sxs-lookup"><span data-stu-id="cdaa7-450">DXGI\_FORMAT\_D16\_UNORM</span></span>                                                                                                                                                                                                                             |
| <span data-ttu-id="cdaa7-451">D3DFMT \_ D32F \_ блокируемый</span><span class="sxs-lookup"><span data-stu-id="cdaa7-451">D3DFMT\_D32F\_LOCKABLE</span></span>              | <span data-ttu-id="cdaa7-452">\_Формат DXGI \_ d32 \_ float</span><span class="sxs-lookup"><span data-stu-id="cdaa7-452">DXGI\_FORMAT\_D32\_FLOAT</span></span>                                                                                                                                                                                                                             |
| <span data-ttu-id="cdaa7-453">D3DFMT \_ D24FS8</span><span class="sxs-lookup"><span data-stu-id="cdaa7-453">D3DFMT\_D24FS8</span></span>                      | <span data-ttu-id="cdaa7-454">Недоступно</span><span class="sxs-lookup"><span data-stu-id="cdaa7-454">Not available</span></span>                                                                                                                                                                                                                                        |
| <span data-ttu-id="cdaa7-455">D3DFMT \_ S1D15</span><span class="sxs-lookup"><span data-stu-id="cdaa7-455">D3DFMT\_S1D15</span></span>                       | <span data-ttu-id="cdaa7-456">Недоступно</span><span class="sxs-lookup"><span data-stu-id="cdaa7-456">Not available</span></span>                                                                                                                                                                                                                                        |
| <span data-ttu-id="cdaa7-457">D3DFMT \_ S8D24</span><span class="sxs-lookup"><span data-stu-id="cdaa7-457">D3DFMT\_S8D24</span></span>                       | <span data-ttu-id="cdaa7-458">\_Формат DXGI \_ D24 \_ UNORM \_ S8 \_ uint</span><span class="sxs-lookup"><span data-stu-id="cdaa7-458">DXGI\_FORMAT\_D24\_UNORM\_S8\_UINT</span></span>                                                                                                                                                                                                                   |
| <span data-ttu-id="cdaa7-459">D3DFMT \_ X8D24</span><span class="sxs-lookup"><span data-stu-id="cdaa7-459">D3DFMT\_X8D24</span></span>                       | <span data-ttu-id="cdaa7-460">Недоступно</span><span class="sxs-lookup"><span data-stu-id="cdaa7-460">Not available</span></span>                                                                                                                                                                                                                                        |
| <span data-ttu-id="cdaa7-461">D3DFMT \_ X4S4D24</span><span class="sxs-lookup"><span data-stu-id="cdaa7-461">D3DFMT\_X4S4D24</span></span>                     | <span data-ttu-id="cdaa7-462">Недоступно</span><span class="sxs-lookup"><span data-stu-id="cdaa7-462">Not available</span></span>                                                                                                                                                                                                                                        |
| <span data-ttu-id="cdaa7-463">D3DFMT \_ L16</span><span class="sxs-lookup"><span data-stu-id="cdaa7-463">D3DFMT\_L16</span></span>                         | <span data-ttu-id="cdaa7-464">\_Формат DXGI \_ R16 \_ UNORM Примечание. Используйте. r свиззле в шейдере для дублирования красного в другие компоненты, чтобы получить d3d9 поведение.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-464">DXGI\_FORMAT\_R16\_UNORM Note: Use .r swizzle in shader to duplicate red to other components to get D3D9 behavior.</span></span>                                                                                                                                   |
| <span data-ttu-id="cdaa7-465">D3DFMT \_ INDEX16</span><span class="sxs-lookup"><span data-stu-id="cdaa7-465">D3DFMT\_INDEX16</span></span>                     | <span data-ttu-id="cdaa7-466">\_Формат DXGI \_ R16 \_ uint</span><span class="sxs-lookup"><span data-stu-id="cdaa7-466">DXGI\_FORMAT\_R16\_UINT</span></span>                                                                                                                                                                                                                              |
| <span data-ttu-id="cdaa7-467">D3DFMT \_ INDEX32</span><span class="sxs-lookup"><span data-stu-id="cdaa7-467">D3DFMT\_INDEX32</span></span>                     | <span data-ttu-id="cdaa7-468">\_Формат DXGI \_ R32 \_ uint</span><span class="sxs-lookup"><span data-stu-id="cdaa7-468">DXGI\_FORMAT\_R32\_UINT</span></span>                                                                                                                                                                                                                              |
| <span data-ttu-id="cdaa7-469">D3DFMT \_ Q16W16V16U16</span><span class="sxs-lookup"><span data-stu-id="cdaa7-469">D3DFMT\_Q16W16V16U16</span></span>                | <span data-ttu-id="cdaa7-470">\_Формат DXGI \_ R16G16B16A16 \_ снорм</span><span class="sxs-lookup"><span data-stu-id="cdaa7-470">DXGI\_FORMAT\_R16G16B16A16\_SNORM</span></span>                                                                                                                                                                                                                    |
| <span data-ttu-id="cdaa7-471">D3DFMT \_ MULTI2 \_ ARGB8</span><span class="sxs-lookup"><span data-stu-id="cdaa7-471">D3DFMT\_MULTI2\_ARGB8</span></span>               | <span data-ttu-id="cdaa7-472">Недоступно</span><span class="sxs-lookup"><span data-stu-id="cdaa7-472">Not available</span></span>                                                                                                                                                                                                                                        |
| <span data-ttu-id="cdaa7-473">D3DFMT \_ R16F</span><span class="sxs-lookup"><span data-stu-id="cdaa7-473">D3DFMT\_R16F</span></span>                        | <span data-ttu-id="cdaa7-474">\_Формат DXGI \_ R16 \_ float</span><span class="sxs-lookup"><span data-stu-id="cdaa7-474">DXGI\_FORMAT\_R16\_FLOAT</span></span>                                                                                                                                                                                                                             |
| <span data-ttu-id="cdaa7-475">D3DFMT \_ G16R16F</span><span class="sxs-lookup"><span data-stu-id="cdaa7-475">D3DFMT\_G16R16F</span></span>                     | <span data-ttu-id="cdaa7-476">\_Формат DXGI \_ R16G16 \_ float</span><span class="sxs-lookup"><span data-stu-id="cdaa7-476">DXGI\_FORMAT\_R16G16\_FLOAT</span></span>                                                                                                                                                                                                                          |
| <span data-ttu-id="cdaa7-477">D3DFMT \_ A16B16G16R16F</span><span class="sxs-lookup"><span data-stu-id="cdaa7-477">D3DFMT\_A16B16G16R16F</span></span>               | <span data-ttu-id="cdaa7-478">\_Формат DXGI \_ R16G16B16A16 \_ float</span><span class="sxs-lookup"><span data-stu-id="cdaa7-478">DXGI\_FORMAT\_R16G16B16A16\_FLOAT</span></span>                                                                                                                                                                                                                    |
| <span data-ttu-id="cdaa7-479">D3DFMT \_ R32F</span><span class="sxs-lookup"><span data-stu-id="cdaa7-479">D3DFMT\_R32F</span></span>                        | <span data-ttu-id="cdaa7-480">\_Формат DXGI \_ R32 \_ float</span><span class="sxs-lookup"><span data-stu-id="cdaa7-480">DXGI\_FORMAT\_R32\_FLOAT</span></span>                                                                                                                                                                                                                             |
| <span data-ttu-id="cdaa7-481">D3DFMT \_ G32R32F</span><span class="sxs-lookup"><span data-stu-id="cdaa7-481">D3DFMT\_G32R32F</span></span>                     | <span data-ttu-id="cdaa7-482">\_Формат DXGI \_ R32G32 \_ float</span><span class="sxs-lookup"><span data-stu-id="cdaa7-482">DXGI\_FORMAT\_R32G32\_FLOAT</span></span>                                                                                                                                                                                                                          |
| <span data-ttu-id="cdaa7-483">D3DFMT \_ A32B32G32R32F</span><span class="sxs-lookup"><span data-stu-id="cdaa7-483">D3DFMT\_A32B32G32R32F</span></span>               | <span data-ttu-id="cdaa7-484">\_Формат DXGI \_ R32G32B32A32 \_ float</span><span class="sxs-lookup"><span data-stu-id="cdaa7-484">DXGI\_FORMAT\_R32G32B32A32\_FLOAT</span></span>                                                                                                                                                                                                                    |
| <span data-ttu-id="cdaa7-485">D3DFMT \_ CxV8U8</span><span class="sxs-lookup"><span data-stu-id="cdaa7-485">D3DFMT\_CxV8U8</span></span>                      | <span data-ttu-id="cdaa7-486">Недоступно</span><span class="sxs-lookup"><span data-stu-id="cdaa7-486">Not available</span></span>                                                                                                                                                                                                                                        |
| <span data-ttu-id="cdaa7-487">D3DDECLTYPE \_ FLOAT1</span><span class="sxs-lookup"><span data-stu-id="cdaa7-487">D3DDECLTYPE\_FLOAT1</span></span>                 | <span data-ttu-id="cdaa7-488">\_Формат DXGI \_ R32 \_ float</span><span class="sxs-lookup"><span data-stu-id="cdaa7-488">DXGI\_FORMAT\_R32\_FLOAT</span></span>                                                                                                                                                                                                                             |
| <span data-ttu-id="cdaa7-489">D3DDECLTYPE \_ FLOAT2</span><span class="sxs-lookup"><span data-stu-id="cdaa7-489">D3DDECLTYPE\_FLOAT2</span></span>                 | <span data-ttu-id="cdaa7-490">\_Формат DXGI \_ R32G32 \_ float</span><span class="sxs-lookup"><span data-stu-id="cdaa7-490">DXGI\_FORMAT\_R32G32\_FLOAT</span></span>                                                                                                                                                                                                                          |
| <span data-ttu-id="cdaa7-491">D3DDECLTYPE \_ FLOAT3</span><span class="sxs-lookup"><span data-stu-id="cdaa7-491">D3DDECLTYPE\_FLOAT3</span></span>                 | <span data-ttu-id="cdaa7-492">\_Формат DXGI \_ R32G32B32 \_ float</span><span class="sxs-lookup"><span data-stu-id="cdaa7-492">DXGI\_FORMAT\_R32G32B32\_FLOAT</span></span>                                                                                                                                                                                                                       |
| <span data-ttu-id="cdaa7-493">D3DDECLTYPE \_ FLOAT4</span><span class="sxs-lookup"><span data-stu-id="cdaa7-493">D3DDECLTYPE\_FLOAT4</span></span>                 | <span data-ttu-id="cdaa7-494">\_Формат DXGI \_ R32G32B32A32 \_ float</span><span class="sxs-lookup"><span data-stu-id="cdaa7-494">DXGI\_FORMAT\_R32G32B32A32\_FLOAT</span></span>                                                                                                                                                                                                                    |
| <span data-ttu-id="cdaa7-495">D3DDECLTYPED3DCOLOR</span><span class="sxs-lookup"><span data-stu-id="cdaa7-495">D3DDECLTYPED3DCOLOR</span></span>                 | <span data-ttu-id="cdaa7-496">Недоступно</span><span class="sxs-lookup"><span data-stu-id="cdaa7-496">Not available</span></span>                                                                                                                                                                                                                                        |
| <span data-ttu-id="cdaa7-497">D3DDECLTYPE \_ UBYTE4</span><span class="sxs-lookup"><span data-stu-id="cdaa7-497">D3DDECLTYPE\_UBYTE4</span></span>                 | <span data-ttu-id="cdaa7-498">\_Формат DXGI \_ R8G8B8A8 \_ uint Примечание. ШЕЙДЕР получает значения uint, но если требуется целочисленное число с плавающей запятой в стиле Direct3D 9 (0,0 f, 1,0 f... 255. f), UINT можно просто преобразовать в значение float32 в шейдере.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-498">DXGI\_FORMAT\_R8G8B8A8\_UINT Note: Shader gets UINT values, but if Direct3D 9 style integral floats are needed (0.0f, 1.0f... 255.f), UINT can just be converted to float32 in shader.</span></span>                                                               |
| <span data-ttu-id="cdaa7-499">D3DDECLTYPE \_ SHORT2</span><span class="sxs-lookup"><span data-stu-id="cdaa7-499">D3DDECLTYPE\_SHORT2</span></span>                 | <span data-ttu-id="cdaa7-500">\_Формат DXGI \_ R16G16 \_ Синт Примечание: ШЕЙДЕР получает значения Синт, но если требуется целочисленное число с плавающей запятой в стиле Direct3D 9, то можно просто преобразовать Синт в тип float32 в шейдере.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-500">DXGI\_FORMAT\_R16G16\_SINT Note: Shader gets SINT values, but if Direct3D 9 style integral floats are needed, SINT can just be converted to float32 in shader.</span></span>                                                                                       |
| <span data-ttu-id="cdaa7-501">D3DDECLTYPE \_ SHORT4</span><span class="sxs-lookup"><span data-stu-id="cdaa7-501">D3DDECLTYPE\_SHORT4</span></span>                 | <span data-ttu-id="cdaa7-502">\_Формат DXGI \_ R16G16B16A16 \_ Синт Примечание: ШЕЙДЕР получает значения Синт, но если требуется целочисленное число с плавающей запятой в стиле Direct3D 9, то можно просто преобразовать Синт в тип float32 в шейдере.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-502">DXGI\_FORMAT\_R16G16B16A16\_SINT Note: Shader gets SINT values, but if Direct3D 9 style integral floats are needed, SINT can just be converted to float32 in shader.</span></span>                                                                                 |
| <span data-ttu-id="cdaa7-503">D3DDECLTYPE \_ UBYTE4N</span><span class="sxs-lookup"><span data-stu-id="cdaa7-503">D3DDECLTYPE\_UBYTE4N</span></span>                | <span data-ttu-id="cdaa7-504">\_Формат DXGI \_ R8G8B8A8 \_ UNORM</span><span class="sxs-lookup"><span data-stu-id="cdaa7-504">DXGI\_FORMAT\_R8G8B8A8\_UNORM</span></span>                                                                                                                                                                                                                        |
| <span data-ttu-id="cdaa7-505">D3DDECLTYPE \_ SHORT2N</span><span class="sxs-lookup"><span data-stu-id="cdaa7-505">D3DDECLTYPE\_SHORT2N</span></span>                | <span data-ttu-id="cdaa7-506">\_Формат DXGI \_ R16G16 \_ снорм</span><span class="sxs-lookup"><span data-stu-id="cdaa7-506">DXGI\_FORMAT\_R16G16\_SNORM</span></span>                                                                                                                                                                                                                          |
| <span data-ttu-id="cdaa7-507">D3DDECLTYPE \_ SHORT4N</span><span class="sxs-lookup"><span data-stu-id="cdaa7-507">D3DDECLTYPE\_SHORT4N</span></span>                | <span data-ttu-id="cdaa7-508">\_Формат DXGI \_ R16G16B16A16 \_ снорм</span><span class="sxs-lookup"><span data-stu-id="cdaa7-508">DXGI\_FORMAT\_R16G16B16A16\_SNORM</span></span>                                                                                                                                                                                                                    |
| <span data-ttu-id="cdaa7-509">D3DDECLTYPE \_ USHORT2N</span><span class="sxs-lookup"><span data-stu-id="cdaa7-509">D3DDECLTYPE\_USHORT2N</span></span>               | <span data-ttu-id="cdaa7-510">\_Формат DXGI \_ R16G16 \_ UNORM</span><span class="sxs-lookup"><span data-stu-id="cdaa7-510">DXGI\_FORMAT\_R16G16\_UNORM</span></span>                                                                                                                                                                                                                          |
| <span data-ttu-id="cdaa7-511">D3DDECLTYPE \_ USHORT4N</span><span class="sxs-lookup"><span data-stu-id="cdaa7-511">D3DDECLTYPE\_USHORT4N</span></span>               | <span data-ttu-id="cdaa7-512">\_Формат DXGI \_ R16G16B16A16 \_ UNORM</span><span class="sxs-lookup"><span data-stu-id="cdaa7-512">DXGI\_FORMAT\_R16G16B16A16\_UNORM</span></span>                                                                                                                                                                                                                    |
| <span data-ttu-id="cdaa7-513">D3DDECLTYPE \_ UDEC3</span><span class="sxs-lookup"><span data-stu-id="cdaa7-513">D3DDECLTYPE\_UDEC3</span></span>                  | <span data-ttu-id="cdaa7-514">Недоступно</span><span class="sxs-lookup"><span data-stu-id="cdaa7-514">Not available</span></span>                                                                                                                                                                                                                                        |
| <span data-ttu-id="cdaa7-515">D3DDECLTYPE \_ DEC3N</span><span class="sxs-lookup"><span data-stu-id="cdaa7-515">D3DDECLTYPE\_DEC3N</span></span>                  | <span data-ttu-id="cdaa7-516">Недоступно</span><span class="sxs-lookup"><span data-stu-id="cdaa7-516">Not available</span></span>                                                                                                                                                                                                                                        |
| <span data-ttu-id="cdaa7-517">D3DDECLTYPE \_ FLOAT16 \_ 2</span><span class="sxs-lookup"><span data-stu-id="cdaa7-517">D3DDECLTYPE\_FLOAT16\_2</span></span>             | <span data-ttu-id="cdaa7-518">\_Формат DXGI \_ R16G16 \_ float</span><span class="sxs-lookup"><span data-stu-id="cdaa7-518">DXGI\_FORMAT\_R16G16\_FLOAT</span></span>                                                                                                                                                                                                                          |
| <span data-ttu-id="cdaa7-519">D3DDECLTYPE \_ FLOAT16 \_ 4</span><span class="sxs-lookup"><span data-stu-id="cdaa7-519">D3DDECLTYPE\_FLOAT16\_4</span></span>             | <span data-ttu-id="cdaa7-520">\_Формат DXGI \_ R16G16B16A16 \_ float</span><span class="sxs-lookup"><span data-stu-id="cdaa7-520">DXGI\_FORMAT\_R16G16B16A16\_FLOAT</span></span>                                                                                                                                                                                                                    |
| <span data-ttu-id="cdaa7-521">FourCC 'ATI1'</span><span class="sxs-lookup"><span data-stu-id="cdaa7-521">FourCC 'ATI1'</span></span>                       | <span data-ttu-id="cdaa7-522">\_Формат DXGI \_ BC4 \_ UNORM</span><span class="sxs-lookup"><span data-stu-id="cdaa7-522">DXGI\_FORMAT\_BC4\_UNORM</span></span>                                                                                                                                                                                                                             |
| <span data-ttu-id="cdaa7-523">FourCC 'ATI2'</span><span class="sxs-lookup"><span data-stu-id="cdaa7-523">FourCC 'ATI2'</span></span>                       | <span data-ttu-id="cdaa7-524">\_Формат DXGI \_ Bc5 \_ UNORM</span><span class="sxs-lookup"><span data-stu-id="cdaa7-524">DXGI\_FORMAT\_BC5\_UNORM</span></span>                                                                                                                                                                                                                             |



 

<span data-ttu-id="cdaa7-525">¹ DXGI 1,1, включенная в среду выполнения Direct3D 11, включает форматы BGRA.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-525">¹DXGI 1.1, which is included in the Direct3D 11 runtime, includes BGRA formats.</span></span> <span data-ttu-id="cdaa7-526">Однако поддержка этих форматов не является обязательной для устройств Direct3D 10 и 10,1 с драйверами, реализованными в модели Windows Vista (WDDM) (WDDM 1,0).</span><span class="sxs-lookup"><span data-stu-id="cdaa7-526">However, support for these formats is optional for Direct3D 10 and 10.1 devices with drivers that are implemented to the Windows Display Driver Model (WDDM) for Windows Vista (WDDM 1.0).</span></span> <span data-ttu-id="cdaa7-527">\_Вместо этого рекомендуется использовать формат DXGI \_ R8G8B8A8 \_ UNORM.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-527">Consider using DXGI\_FORMAT\_R8G8B8A8\_UNORM instead.</span></span> <span data-ttu-id="cdaa7-528">Кроме того, вы можете создать устройство с помощью [**D3D10 \_ Create \_ Device \_ BGRA \_ support**](/windows/desktop/api/D3D10/ne-d3d10-d3d10_create_device_flag) , чтобы обеспечить поддержку только компьютеров со средой выполнения Direct3D 11,0 и драйвера WDDM 1,1 или более поздней версии.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-528">Alternatively, you can create your device with [**D3D10\_CREATE\_DEVICE\_BGRA\_SUPPORT**](/windows/desktop/api/D3D10/ne-d3d10-d3d10_create_device_flag) to ensure that you only support computers with the Direct3D 11.0 runtime and a WDDM 1.1 driver or higher installed.</span></span>

<span data-ttu-id="cdaa7-529">² DXGI 1,0 определил формат 5:6:5 и 5:5:5:1, но они не поддерживались средой выполнения Direct3D 10. x или Direct3D 11,0.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-529">²DXGI 1.0 defined 5:6:5 and 5:5:5:1 formats, but they were not supported by the Direct3D 10.x or Direct3D 11.0 runtime.</span></span> <span data-ttu-id="cdaa7-530">Эти форматы поддерживаются при поддержке DXGI 1,2 в среде выполнения DirectX 11,1, которая необходима для видеоадаптеров уровня компонентов 11,1 и модели WDDM 1,2 (экранная модель драйвера, начиная с Windows 8) и уже поддерживается на уровнях компонентов 10level9.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-530">These formats are optionally supported with DXGI 1.2 in the DirectX 11.1 runtime, which is required for feature level 11.1 video adapters and WDDM 1.2 (display driver model starting with Windows 8) drivers and already supported on 10level9 feature levels.</span></span>

<span data-ttu-id="cdaa7-531">в ³ DXGI 1,2 появился формат 4:4:4:4.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-531">³DXGI 1.2 introduced the 4:4:4:4 format.</span></span> <span data-ttu-id="cdaa7-532">Этот формат дополнительно поддерживается в среде выполнения DirectX 11,1, которая необходима для видеоадаптеров уровня компонентов 11,1 и драйверов WDDM 1,2 и уже поддерживается на уровнях компонентов 10level9.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-532">This format is optionally supported in the DirectX 11.1 runtime, which is required for feature level 11.1 video adapters and WDDM 1.2 drivers and already supported on 10level9 feature levels.</span></span>

<span data-ttu-id="cdaa7-533">Для несжатых форматов DXGI ограничена поддержка произвольных шаблонов формата пикселей. Все несжатые форматы должны иметь тип RGBA.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-533">For uncompressed formats, DXGI has limited the support for arbitrary pixel format patterns; all uncompressed formats must be of type RGBA.</span></span> <span data-ttu-id="cdaa7-534">Это может потребовать группирующие существующих форматов пикселей, которые мы рекомендуем вычислять как предварительно автономный этап, где это возможно.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-534">This might require swizzling of existing assets pixel formats, which we recommend that you compute as an offline pre-process pass where possible.</span></span>

## <a name="porting-shaders"></a><span data-ttu-id="cdaa7-535">Перенос шейдеров</span><span class="sxs-lookup"><span data-stu-id="cdaa7-535">Porting Shaders</span></span>

### <a name="direct3d-10-shaders-are-authored-in-hlsl"></a><span data-ttu-id="cdaa7-536">Шейдер Direct3D 10 создается в HLSL</span><span class="sxs-lookup"><span data-stu-id="cdaa7-536">Direct3D 10 Shaders are Authored in HLSL</span></span>

<span data-ttu-id="cdaa7-537">Direct3D 10 ограничивает использование языка ассемблера только для целей отладки, поэтому все написанные шейдеры сборки, используемые в Direct3D 9, необходимо преобразовать в HLSL.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-537">Direct3D 10 limits the use of assembly language to that of debugging purposes only, therefore any hand written assembly shaders used in Direct3D 9 will need to be converted to HLSL.</span></span>

### <a name="shader-signatures-and-linkage"></a><span data-ttu-id="cdaa7-538">Сигнатуры и компоновка шейдера</span><span class="sxs-lookup"><span data-stu-id="cdaa7-538">Shader Signatures and Linkage</span></span>

<span data-ttu-id="cdaa7-539">Мы обсудили требования для компоновки входных данных для входных подписей вершин шейдеров, приведенных ранее в этом документе (см. выше).</span><span class="sxs-lookup"><span data-stu-id="cdaa7-539">We discussed the requirements for Input Assembly linkage to Vertex shader input signatures earlier in this document (see above).</span></span> <span data-ttu-id="cdaa7-540">Обратите внимание, что среда выполнения Direct3D 10 также заблокировала требования к этапу для промежуточной компоновки между шейдерами.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-540">Note that the Direct3D 10 runtime has also tightened the requirements for stage to stage linkage between shaders.</span></span> <span data-ttu-id="cdaa7-541">Это изменение повлияет на источники шейдеров, где привязка между этапами может быть не полностью описана в Direct3D 9.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-541">This change will affect shader sources where the binding between stages may not have been fully described under Direct3D 9.</span></span> <span data-ttu-id="cdaa7-542">Пример:</span><span class="sxs-lookup"><span data-stu-id="cdaa7-542">For example:</span></span>


```
VS_OUTPUT                       PS_INPUT
float4   pos : SV_POSITION;     float4 pos : SV_POSITION;
float4   uv1 : TEXCOORD1;       float4 uv1 : TEXCOORD1;
float4x3 tangentSp : TEXCOORD2; float4 tangent : TEXCOORD2; *
float4   Color : TEXCOORD6;     float4 color : TEXCOORD6;
```



<span data-ttu-id="cdaa7-543">\* Неработающая компоновка VS-PS. Несмотря на то, что шейдер пикселей может не заинтересить полную матрицу, компоновка должна указывать полный float4x3.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-543">\* Broken VS - PS Linkage - even though the pixel shader may not be interested in the full matrix, the linkage must specify the full float4x3.</span></span>

<span data-ttu-id="cdaa7-544">Обратите внимание, что семантика компоновки между этапами должна точно совпадать, однако входные целевые этапы могут быть префиксом выходных значений.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-544">Note, the linkage semantics between stages must match exactly however, the target stages inputs may be a prefix of the values being output.</span></span> <span data-ttu-id="cdaa7-545">В приведенном выше примере шейдер пикселей может иметь координаты и texcoord1 в качестве единственных входных данных, но не может располагать и texcoord2 в качестве единственных входных данных из-за ограничений упорядочивания.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-545">In the example above, the pixel shader could have position and texcoord1 as the only inputs, but it could not have the position and texcoord2 as the only inputs due to the ordering constraints.</span></span>

### <a name="hlsl-shader-stage-linkages"></a><span data-ttu-id="cdaa7-546">Компоновки этапа шейдера HLSL</span><span class="sxs-lookup"><span data-stu-id="cdaa7-546">HLSL Shader Stage linkages</span></span>

<span data-ttu-id="cdaa7-547">Связь между шейдерами может происходить в любой из следующих точек конвейера:</span><span class="sxs-lookup"><span data-stu-id="cdaa7-547">Linkage between shaders may occur at any of the following points in the pipeline:</span></span>

-   <span data-ttu-id="cdaa7-548">Вход ассемблера в шейдер вершин</span><span class="sxs-lookup"><span data-stu-id="cdaa7-548">Input Assembler to Vertex Shader</span></span>
-   <span data-ttu-id="cdaa7-549">Шейдер вершин к шейдеру пикселей</span><span class="sxs-lookup"><span data-stu-id="cdaa7-549">Vertex Shader to Pixel Shader</span></span>
-   <span data-ttu-id="cdaa7-550">Шейдер вершин к шейдеру Geometry</span><span class="sxs-lookup"><span data-stu-id="cdaa7-550">Vertex Shader to Geometry Shader</span></span>
-   <span data-ttu-id="cdaa7-551">Шейдер вершин для потокового вывода</span><span class="sxs-lookup"><span data-stu-id="cdaa7-551">Vertex Shader to Stream Output</span></span>
-   <span data-ttu-id="cdaa7-552">Шейдер геометрии в шейдер пикселей</span><span class="sxs-lookup"><span data-stu-id="cdaa7-552">Geometry Shader to Pixel Shader</span></span>
-   <span data-ttu-id="cdaa7-553">Шейдер геометрии для потоковой передачи</span><span class="sxs-lookup"><span data-stu-id="cdaa7-553">Geometry Shader to Stream Out</span></span>

### <a name="constant-buffers"></a><span data-ttu-id="cdaa7-554">Буферы констант</span><span class="sxs-lookup"><span data-stu-id="cdaa7-554">Constant Buffers</span></span>

<span data-ttu-id="cdaa7-555">Для простоты переноса содержимого с Direct3D 9 первоначальный подход к управлению константами за пределами системы эффектов может привести к созданию единственного буфера константы, содержащего все необходимые константы.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-555">For ease of porting content from Direct3D 9 an initial approach to constant management outside of the Effects system might involve the creation of a single constant buffer containing all the required constants.</span></span> <span data-ttu-id="cdaa7-556">Важно, чтобы производительность упорядочивались константы в буферы с ожидаемой частотой обновления.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-556">It is important for performance to order constants into buffers by the expected frequency of update.</span></span> <span data-ttu-id="cdaa7-557">Эта организация сокращает количество избыточных постоянных наборов до минимума.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-557">This organization will reduce the amount of redundant constant sets to a minimum.</span></span>

### <a name="user-clip-planes-in-hlsl-on-feature-level-9-and-higher"></a><span data-ttu-id="cdaa7-558">Пользовательские плоскости в HLSL на уровне компонентов 9 и выше</span><span class="sxs-lookup"><span data-stu-id="cdaa7-558">User clip planes in HLSL on feature level 9 and higher</span></span>

<span data-ttu-id="cdaa7-559">Начиная с Windows 8, атрибут функции **клиппланес** можно использовать в [ОБЪЯВЛЕНии функции](../direct3dhlsl/dx-graphics-hlsl-function-syntax.md) HLSL, а не в [SV \_ клипдистанце](../direct3dhlsl/dx-graphics-hlsl-semantics.md) , чтобы сделать шейдер на [уровне функций](../direct3d11/overviews-direct3d-11-devices-downlevel-intro.md) 9 x, а \_ также на уровне функций 10 и выше.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-559">Starting with Windows 8, you can use the **clipplanes** function attribute in an HLSL [function declaration](../direct3dhlsl/dx-graphics-hlsl-function-syntax.md) rather than [SV\_ClipDistance](../direct3dhlsl/dx-graphics-hlsl-semantics.md) to make your shader work on [feature level](../direct3d11/overviews-direct3d-11-devices-downlevel-intro.md) 9\_x as well as feature level 10 and higher.</span></span> <span data-ttu-id="cdaa7-560">Дополнительные сведения см. [в статье пользовательские ролики на устройствах на уровне компонентов 9](../direct3dhlsl/user-clip-planes-on-10level9.md).</span><span class="sxs-lookup"><span data-stu-id="cdaa7-560">For more info, see [User clip planes on feature level 9 hardware](../direct3dhlsl/user-clip-planes-on-10level9.md).</span></span>

## <a name="additional-direct3d-10-differences-to-watch-for"></a><span data-ttu-id="cdaa7-561">Дополнительные отличия Direct3D 10 для отслеживания</span><span class="sxs-lookup"><span data-stu-id="cdaa7-561">Additional Direct3D 10 Differences to Watch For</span></span>

### <a name="integers-as-input"></a><span data-ttu-id="cdaa7-562">Целые числа в качестве входных данных</span><span class="sxs-lookup"><span data-stu-id="cdaa7-562">Integers as Input</span></span>

<span data-ttu-id="cdaa7-563">В Direct3D 9 отсутствует фактическая поддержка целочисленных типов данных, однако оборудование Direct3D 10 поддерживает явные целочисленные типы.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-563">In Direct3D 9, there was no real hardware support for integer data types, however Direct3D 10 hardware supports explicit integer types.</span></span> <span data-ttu-id="cdaa7-564">При наличии данных с плавающей запятой в буфере вершин необходимо иметь входные данные с плавающей точкой.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-564">If you have floating-point data in your vertex buffer, then you must have a float input.</span></span> <span data-ttu-id="cdaa7-565">В противном случае целочисленный тип будет представлен в виде битового шаблона значения с плавающей запятой.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-565">Otherwise an integer type will be the bit pattern representation of the floating-point value.</span></span> <span data-ttu-id="cdaa7-566">Целочисленный тип не допускается для входных шейдеров пикселей, если только значение не помечено для интерполяции (см. раздел [модификаторы интерполяции](../direct3dhlsl/dx-graphics-hlsl-struct.md)).</span><span class="sxs-lookup"><span data-stu-id="cdaa7-566">An integer type is not allowed for a pixel shader input unless the value is marked for no interpolation (see [Interpolation Modifiers](../direct3dhlsl/dx-graphics-hlsl-struct.md)).</span></span>

### <a name="mouse-cursors"></a><span data-ttu-id="cdaa7-567">Курсоры мыши</span><span class="sxs-lookup"><span data-stu-id="cdaa7-567">Mouse Cursors</span></span>

<span data-ttu-id="cdaa7-568">В предыдущих версиях Windows стандартные подпрограммы для курсора мыши GDI не работали должным образом на всех полноэкранных эксклюзивных устройствах.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-568">On previous versions of Windows, the standard GDI mouse cursor routines did not operate correctly on all full-screen exclusive devices.</span></span> <span data-ttu-id="cdaa7-569">Для этих случаев были добавлены API-интерфейсы [**сеткурсорпропертиес**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-setcursorproperties), [**шовкурсор**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-showcursor)и [**сеткурсорпоситион**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-setcursorposition) .</span><span class="sxs-lookup"><span data-stu-id="cdaa7-569">The [**SetCursorProperties**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-setcursorproperties), [**ShowCursor**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-showcursor), and [**SetCursorPosition**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-setcursorposition) APIs were added to handle these cases.</span></span> <span data-ttu-id="cdaa7-570">Поскольку версия GDI Windows Vista полностью понимает поверхности [DXGI](../direct3ddxgi/d3d10-graphics-programming-guide-dxgi.md) , нет необходимости в этом специализированном API курсора мыши, поэтому эквивалент Direct3D 10 отсутствует.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-570">Since Windows Vista's version of GDI fully understands [DXGI](../direct3ddxgi/d3d10-graphics-programming-guide-dxgi.md) surfaces, there is no need for this specialized mouse cursor API so there is no Direct3D 10 equivalent.</span></span> <span data-ttu-id="cdaa7-571">Вместо этого приложения Direct3D 10 должны использовать стандартные [подпрограммы](../menurc/cursors.md) для работы с курсорами мыши GDI.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-571">Direct3D 10 applications should instead use the standard [GDI mouse cursor routines](../menurc/cursors.md) for mouse cursors.</span></span>

### <a name="mapping-texels-to-pixels-in-direct3d-10"></a><span data-ttu-id="cdaa7-572">Сопоставление пикселей текстуры с пикселами в Direct3D 10</span><span class="sxs-lookup"><span data-stu-id="cdaa7-572">Mapping Texels to Pixels in Direct3D 10</span></span>

<span data-ttu-id="cdaa7-573">В Direct3D 9 шаг текселя центры и пиксельные центры были половиной единицы (см. [непосредственное сопоставление пикселей текстуры с пикселами (Direct3D 9)](../direct3d9/directly-mapping-texels-to-pixels.md)).</span><span class="sxs-lookup"><span data-stu-id="cdaa7-573">In Direct3D 9, texel centers and pixel centers were a half unit apart (see [Directly Mapping Texels to Pixels (Direct3D 9)](../direct3d9/directly-mapping-texels-to-pixels.md)).</span></span> <span data-ttu-id="cdaa7-574">В Direct3D 10 центры шаг текселя уже находятся в половинных единицах, поэтому нет необходимости сдвигать координаты вершин.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-574">In Direct3D 10, texel centers are already at half-units, so there is no need to shift vertex coordinates at all.</span></span>

<span data-ttu-id="cdaa7-575">Визуализация в полноэкранном режиме осуществляется более прямо вперед с помощью Direct3D 10.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-575">Rendering full-screen quads is more straight-forward with Direct3D 10.</span></span> <span data-ttu-id="cdaa7-576">Четыре страницы с четырьмя экранами должны быть определены в клипспаце (-1, 1) и просто переданы через шейдер вершин без изменений.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-576">Full-screen quads should be defined in clipspace (-1,1) and simply passed through the vertex shader with no changes.</span></span> <span data-ttu-id="cdaa7-577">Таким образом, нет необходимости в повторной загрузке буфера вершин при каждом изменении разрешения экрана и отсутствии дополнительной работы в шейдере пикселей для управления координатами текстуры.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-577">This way, there is no need to reload your vertex buffer every time the screen resolution changes, and there's no extra work in the pixel shader to manipulate the texture coordinates.</span></span>

### <a name="reference-counting-behavior-changes"></a><span data-ttu-id="cdaa7-578">Изменение поведения подсчета ссылок</span><span class="sxs-lookup"><span data-stu-id="cdaa7-578">Reference Counting Behavior Changes</span></span>

<span data-ttu-id="cdaa7-579">В отличие от предыдущих версий Direct3D, различные функции наборов не будут содержать ссылку на объекты Devices.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-579">Unlike previous Direct3D versions, the various Set functions will not hold a reference to the devices objects.</span></span> <span data-ttu-id="cdaa7-580">Это означает, что приложение должно обеспечить наличие в нем ссылки на объект до тех пор, пока этот объект должен быть привязан к конвейеру.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-580">This means that the application must ensure that it holds a reference on the object for as long as it would like that object to be bound to the pipeline.</span></span> <span data-ttu-id="cdaa7-581">Когда число ссылок объекта становится равным нулю, объект будет отключен от конвейера при его уничтожении.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-581">When the ref count of the object drops to zero, then the object will be unbound from the pipeline as it is destroyed.</span></span> <span data-ttu-id="cdaa7-582">Этот стиль ссылки, удерживаемый также, называется слабой ссылкой, поэтому каждое место привязки в объекте устройства содержит слабую ссылку на интерфейс или объект.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-582">This style of reference holding is also known as weak-reference holding, so therefore each bind location on the Device object holds a weak-reference to the interface/ object.</span></span> <span data-ttu-id="cdaa7-583">Если явно не указано иное, это поведение следует предполагать для всех методов набора.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-583">Unless explicitly mentioned otherwise, this behavior should be assumed for all Set methods.</span></span> <span data-ttu-id="cdaa7-584">Всякий раз, когда уничтожение объекта приводит к тому, что точка привязки будет иметь **значение NULL** , отладочный слой выдаст предупреждение.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-584">Whenever destruction of an object causes a bind point to be set to **NULL** out, the Debug Layer will issue a warning.</span></span> <span data-ttu-id="cdaa7-585">Обратите внимание, что вызовы методов Get для устройства, такие как [**омжетрендертаржетс**](/windows/desktop/api/D3D10/nf-d3d10-id3d10device-omgetrendertargets) , увеличивают число ссылок возвращаемых объектов.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-585">Note, calls to device Get methods such as [**OMGetRenderTargets**](/windows/desktop/api/D3D10/nf-d3d10-id3d10device-omgetrendertargets) will increase the reference count of objects being returned.</span></span>

### <a name="test-cooperative-level"></a><span data-ttu-id="cdaa7-586">Уровень совместной проверки</span><span class="sxs-lookup"><span data-stu-id="cdaa7-586">Test Cooperative Level</span></span>

<span data-ttu-id="cdaa7-587">Функциональность API-интерфейса Direct3D 9 [**тесткуперативелевел**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-testcooperativelevel) аналогична настройке [ \_ \_ теста DXGI Present](../direct3ddxgi/dxgi-present.md) при вызове [**Present**](/windows/win32/api/dxgi/nf-dxgi-idxgiswapchain-present).</span><span class="sxs-lookup"><span data-stu-id="cdaa7-587">The functionality of the Direct3D 9 API [**TestCooperativeLevel**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-testcooperativelevel) is analogous to setting the [DXGI\_PRESENT\_TEST](../direct3ddxgi/dxgi-present.md) when calling [**Present**](/windows/win32/api/dxgi/nf-dxgi-idxgiswapchain-present).</span></span>

### <a name="stretchrect"></a><span data-ttu-id="cdaa7-588">стретчрект</span><span class="sxs-lookup"><span data-stu-id="cdaa7-588">StretchRect</span></span>

<span data-ttu-id="cdaa7-589">Функция, аналогичная методу Direct3D 9 [**IDirect3DDevice9:: стретчрект**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-stretchrect) , недоступна в Direct3D 10 и 10,1.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-589">A function similar to the Direct3D 9 [**IDirect3DDevice9::StretchRect**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-stretchrect) method is not available in Direct3D 10 and 10.1.</span></span> <span data-ttu-id="cdaa7-590">Чтобы скопировать поверхности ресурсов, используйте [**ID3D10Device:: кописубресаурцерегион**](/windows/desktop/api/D3D10/nf-d3d10-id3d10device-copysubresourceregion).</span><span class="sxs-lookup"><span data-stu-id="cdaa7-590">To copy resource surfaces, use [**ID3D10Device::CopySubresourceRegion**](/windows/desktop/api/D3D10/nf-d3d10-id3d10device-copysubresourceregion).</span></span> <span data-ttu-id="cdaa7-591">Для операций изменения размера отрисовывается на текстуре с помощью фильтрации текстур.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-591">For resizing operations, render to a texture by using texture filtering.</span></span> <span data-ttu-id="cdaa7-592">Для преобразования поверхностей MSAA в поверхности, не относящиеся к MSAA, используйте [**ID3D10Device:: ресолвесубресаурце**](/windows/desktop/api/d3d10/nf-d3d10-id3d10device-resolvesubresource).</span><span class="sxs-lookup"><span data-stu-id="cdaa7-592">For converting MSAA surfaces to non-MSAA surfaces, use [**ID3D10Device::ResolveSubresource**](/windows/desktop/api/d3d10/nf-d3d10-id3d10device-resolvesubresource).</span></span>

## <a name="additional-direct3d-101-differences"></a><span data-ttu-id="cdaa7-593">Дополнительные различия Direct3D 10,1</span><span class="sxs-lookup"><span data-stu-id="cdaa7-593">Additional Direct3D 10.1 Differences</span></span>

<span data-ttu-id="cdaa7-594">Windows Vista с пакетом обновления 1 (SP1) включала незначительное обновление Direct3D 10 и Direct3D 10,1, в котором доступны следующие дополнительные аппаратные функции:</span><span class="sxs-lookup"><span data-stu-id="cdaa7-594">Windows Vista with Service Pack 1 (SP1) included a minor update to Direct3D 10 and Direct3D 10.1, which exposed the following additional hardware features:</span></span>

-   <span data-ttu-id="cdaa7-595">Пошаговые шейдеры MSAA для каждого образца</span><span class="sxs-lookup"><span data-stu-id="cdaa7-595">MSAA per-sample shaders</span></span>
-   <span data-ttu-id="cdaa7-596">Чтение глубины MSAA — назад</span><span class="sxs-lookup"><span data-stu-id="cdaa7-596">MSAA depth read-back</span></span>
-   <span data-ttu-id="cdaa7-597">Независимые режимы наложения для каждого целевого объекта прорисовки</span><span class="sxs-lookup"><span data-stu-id="cdaa7-597">Independent blend modes per render target</span></span>
-   <span data-ttu-id="cdaa7-598">Массивы схем Куба</span><span class="sxs-lookup"><span data-stu-id="cdaa7-598">Cube map arrays</span></span>
-   <span data-ttu-id="cdaa7-599">Преобразовать в форматы блочного сжатия (BC)</span><span class="sxs-lookup"><span data-stu-id="cdaa7-599">Render to block-compressed (BC) formats</span></span>

<span data-ttu-id="cdaa7-600">В обновлении Direct3D 10,1 добавлена поддержка следующих новых интерфейсов, которые являются производными от существующих интерфейсов:</span><span class="sxs-lookup"><span data-stu-id="cdaa7-600">The Direct3D 10.1 update added support for the following new interfaces, which are derived from existing interfaces:</span></span>

-   [<span data-ttu-id="cdaa7-601">**ID3D10Device1**</span><span class="sxs-lookup"><span data-stu-id="cdaa7-601">**ID3D10Device1**</span></span>](/windows/desktop/api/D3D10_1/nn-d3d10_1-id3d10device1)
-   [<span data-ttu-id="cdaa7-602">**ID3D10BlendState1**</span><span class="sxs-lookup"><span data-stu-id="cdaa7-602">**ID3D10BlendState1**</span></span>](/windows/desktop/api/D3D10_1/nn-d3d10_1-id3d10blendstate1)
-   [<span data-ttu-id="cdaa7-603">**ID3D10ShaderResourceView1**</span><span class="sxs-lookup"><span data-stu-id="cdaa7-603">**ID3D10ShaderResourceView1**</span></span>](/windows/desktop/api/d3d10_1/nn-d3d10_1-id3d10shaderresourceview1)

<span data-ttu-id="cdaa7-604">Обновление Direct3D 10,1 также включало следующие дополнительные структуры:</span><span class="sxs-lookup"><span data-stu-id="cdaa7-604">The Direct3D 10.1 update also included the following additional structures:</span></span>

-   [<span data-ttu-id="cdaa7-605">**D3D10 \_ визуализации \_ целевого объекта \_ Blend \_ DESC1**</span><span class="sxs-lookup"><span data-stu-id="cdaa7-605">**D3D10\_RENDER\_TARGET\_BLEND\_DESC1**</span></span>](/windows/desktop/api/d3d10_1/ns-d3d10_1-d3d10_render_target_blend_desc1)
-   [<span data-ttu-id="cdaa7-606">**D3D10 \_ Blend \_ DESC1**</span><span class="sxs-lookup"><span data-stu-id="cdaa7-606">**D3D10\_BLEND\_DESC1**</span></span>](/windows/desktop/api/D3D10_1/ns-d3d10_1-d3d10_blend_desc1)
-   [<span data-ttu-id="cdaa7-607">**\_ \_ \_ DESC1 представления ресурсов шейдера \_ D3D10**</span><span class="sxs-lookup"><span data-stu-id="cdaa7-607">**D3D10\_SHADER\_RESOURCE\_VIEW\_DESC1**</span></span>](/windows/desktop/api/d3d10_1/ns-d3d10_1-d3d10_shader_resource_view_desc1)

<span data-ttu-id="cdaa7-608">API-интерфейс Direct3D 10,1 содержит новую концепцию с именем Feature Level.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-608">The Direct3D 10.1 API includes a new concept named feature level.</span></span> <span data-ttu-id="cdaa7-609">Эта концепция означает, что вы можете использовать API Direct3D 10,1 для работы с Direct3D 10,0 [**( \_ уровень компонентов D3D10 \_ \_ 10 \_ 0**](/windows/desktop/api/D3D10_1/ne-d3d10_1-d3d10_feature_level1)) или Direct3D 10,1 ([**D3D10 \_ компонентов \_ уровня \_ 10 \_ 1**](/windows/desktop/api/D3D10_1/ne-d3d10_1-d3d10_feature_level1)).</span><span class="sxs-lookup"><span data-stu-id="cdaa7-609">This concept means that you can use the Direct3D 10.1 API to drive Direct3D 10.0 ([**D3D10\_FEATURE\_LEVEL\_10\_0**](/windows/desktop/api/D3D10_1/ne-d3d10_1-d3d10_feature_level1)) or Direct3D 10.1 ([**D3D10\_FEATURE\_LEVEL\_10\_1**](/windows/desktop/api/D3D10_1/ne-d3d10_1-d3d10_feature_level1)) hardware.</span></span> <span data-ttu-id="cdaa7-610">Поскольку API Direct3D 10,1 является производным от интерфейсов Direct3D 10, приложения могут создать устройство Direct3D 10,1, а затем использовать его в качестве устройства Direct3D 10,0, за исключением тех, где требуются новые функции, характерные для 10,1 (при условии, что D3D10 уровень функций **\_ \_ \_ 10 \_ 1** имеется и поддерживает эти функции).</span><span class="sxs-lookup"><span data-stu-id="cdaa7-610">Because the Direct3D 10.1 API is derived from the Direct3D 10 interfaces, applications can create a Direct3D 10.1 device, then use it as a Direct3D 10.0 device except where new 10.1-specific features are needed (provided that the **D3D10\_FEATURE\_LEVEL\_10\_1** feature-level is present and supports these features).</span></span>

> [!Note]  
> <span data-ttu-id="cdaa7-611">Устройства Direct3D 10,1 могут использовать существующие профили шейдеров HLSLа 10,0 (VS \_ 4 \_ 0, PS \_ 4 \_ 0, GS \_ 4 \_ 0) и новые профили 10,1 (VS \_ 4 \_ 1, PS \_ 4 \_ 1, GS \_ 4 \_ 1) с дополнительными инструкциями и возможностями HLSL.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-611">Direct3D 10.1 devices can use the existing 10.0 HLSL shader profiles (vs\_4\_0, ps\_4\_0, gs\_4\_0) and the new 10.1 profiles (vs\_4\_1, ps\_4\_1, gs\_4\_1) with additional HLSL instructions and capabilities.</span></span>

 

<span data-ttu-id="cdaa7-612">Windows 7 содержала незначительное обновление для API Direct3D 10,1, включенного в среду выполнения Direct3D 11.</span><span class="sxs-lookup"><span data-stu-id="cdaa7-612">Windows 7 contained a minor update to the Direct3D 10.1 API that is included in the Direct3D 11 runtime.</span></span> <span data-ttu-id="cdaa7-613">Это обновление добавляет поддержку следующих уровней функций:</span><span class="sxs-lookup"><span data-stu-id="cdaa7-613">This update adds support for the following feature levels:</span></span>

-   [<span data-ttu-id="cdaa7-614">**D3D10 \_ \_ уровень функций \_ 9 \_ 1**</span><span class="sxs-lookup"><span data-stu-id="cdaa7-614">**D3D10\_FEATURE\_LEVEL\_9\_1**</span></span>](/windows/desktop/api/D3D10_1/ne-d3d10_1-d3d10_feature_level1)
-   [<span data-ttu-id="cdaa7-615">**D3D10 \_ \_ уровень функций \_ 9 \_ 2**</span><span class="sxs-lookup"><span data-stu-id="cdaa7-615">**D3D10\_FEATURE\_LEVEL\_9\_2**</span></span>](/windows/desktop/api/D3D10_1/ne-d3d10_1-d3d10_feature_level1)
-   [<span data-ttu-id="cdaa7-616">**D3D10 \_ \_ уровень компонентов \_ 9 \_ 3**</span><span class="sxs-lookup"><span data-stu-id="cdaa7-616">**D3D10\_FEATURE\_LEVEL\_9\_3**</span></span>](/windows/desktop/api/D3D10_1/ne-d3d10_1-d3d10_feature_level1)

<span data-ttu-id="cdaa7-617">В Windows 7 также добавлена поддержка Direct3D 10,1 для [платформы Windows Advanced растеризации (деформация)](../direct3darticles/directx-warp.md).</span><span class="sxs-lookup"><span data-stu-id="cdaa7-617">Windows 7 also added support to Direct3D 10.1 for [Windows Advanced Rasterization Platform (WARP)](../direct3darticles/directx-warp.md).</span></span> <span data-ttu-id="cdaa7-618">Драйвер деформации можно указать с помощью функции [**\_ \_ \_ искривления типа драйвера D3D10**](/windows/desktop/api/D3D10misc/ne-d3d10misc-d3d10_driver_type).</span><span class="sxs-lookup"><span data-stu-id="cdaa7-618">You can specify a WARP driver by using [**D3D10\_DRIVER\_TYPE\_WARP**](/windows/desktop/api/D3D10misc/ne-d3d10misc-d3d10_driver_type).</span></span>

<span data-ttu-id="cdaa7-619">Дополнительные сведения о Direct3D 10,1 см. в разделе [функции direct3d 10,1](d3d10-graphics-programming-guide-10-1.md) и перечисление [**D3D10 \_ компонентов \_ level1**](/windows/desktop/api/D3D10_1/ne-d3d10_1-d3d10_feature_level1) .</span><span class="sxs-lookup"><span data-stu-id="cdaa7-619">For more information about Direct3D 10.1, see [Direct3D 10.1 Features](d3d10-graphics-programming-guide-10-1.md) and the [**D3D10\_FEATURE\_LEVEL1**](/windows/desktop/api/D3D10_1/ne-d3d10_1-d3d10_feature_level1) enumeration.</span></span>

## <a name="related-topics"></a><span data-ttu-id="cdaa7-620">См. также</span><span class="sxs-lookup"><span data-stu-id="cdaa7-620">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="cdaa7-621">Рекомендации по программированию для Direct3D 10</span><span class="sxs-lookup"><span data-stu-id="cdaa7-621">Programming Guide for Direct3D 10</span></span>](d3d10-graphics-programming-guide.md)
</dt> </dl>

 

 
