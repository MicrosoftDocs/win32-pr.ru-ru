---
title: Тесты комплекта сертификации приложений для Windows
description: Ниже приведены сведения о тестировании для сертификации приложений декстоп.
ms.assetid: FA160F46-C266-4F89-B77F-166FEA9ED96B
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: a353eef0cd73fecac275b750345b3dd97d05dc87
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/20/2020
ms.locfileid: "105719144"
---
# <a name="windows-app-certification-kit-tests"></a><span data-ttu-id="21288-103">Тесты комплекта сертификации приложений для Windows</span><span class="sxs-lookup"><span data-stu-id="21288-103">Windows App Certification Kit tests</span></span>

<span data-ttu-id="21288-104">Ниже приведены сведения о тестировании для сертификации приложений декстоп.</span><span class="sxs-lookup"><span data-stu-id="21288-104">Below are test details for certifying dekstop apps.</span></span> <span data-ttu-id="21288-105">Дополнительные сведения см. в разделе [Использование набора сертификации приложений для Windows](using-the-windows-app-certification-kit.md).</span><span class="sxs-lookup"><span data-stu-id="21288-105">For information, please refer to [Using the Windows App Certification Kit](using-the-windows-app-certification-kit.md).</span></span>

-   [<span data-ttu-id="21288-106">Чистая обратимая установка</span><span class="sxs-lookup"><span data-stu-id="21288-106">Clean reversible install</span></span>](#clean-reversible-install)
-   [<span data-ttu-id="21288-107">Установка в правильных тестах папок</span><span class="sxs-lookup"><span data-stu-id="21288-107">Install to the correct folders test</span></span>](#install-to-the-correct-folders-test)
-   [<span data-ttu-id="21288-108">Проверка файлов с цифровой подписью</span><span class="sxs-lookup"><span data-stu-id="21288-108">Digitally signed file test</span></span>](#digitally-signed-file-test)
-   [<span data-ttu-id="21288-109">Поддержка Windows x64 Test</span><span class="sxs-lookup"><span data-stu-id="21288-109">Support x64 Windows test</span></span>](#support-x64-windows-test)
-   [<span data-ttu-id="21288-110">Проверка версии ОС</span><span class="sxs-lookup"><span data-stu-id="21288-110">OS version checking test</span></span>](#os-version-checking-test)
-   [<span data-ttu-id="21288-111">Проверка контроля учетных записей пользователей (UAC)</span><span class="sxs-lookup"><span data-stu-id="21288-111">User account control (UAC) test</span></span>](#user-account-control-uac-test)
-   [<span data-ttu-id="21288-112">Придерживаться сообщений диспетчера перезапуска системы</span><span class="sxs-lookup"><span data-stu-id="21288-112">Adhere to system restart manager messages</span></span>](#adhere-to-system-restart-manager-messages)
-   [<span data-ttu-id="21288-113">Проверка безопасного режима</span><span class="sxs-lookup"><span data-stu-id="21288-113">Safe mode test</span></span>](#safe-mode-test)
-   [<span data-ttu-id="21288-114">Тестирование многопользовательской сессии</span><span class="sxs-lookup"><span data-stu-id="21288-114">Multiuser session test</span></span>](#multiuser-session-test)
-   [<span data-ttu-id="21288-115">Проверка сбоев и зависаний</span><span class="sxs-lookup"><span data-stu-id="21288-115">Crashes and hangs test</span></span>](#crashes-and-hangs-test)
-   [<span data-ttu-id="21288-116">Тестирование совместимости и устойчивости</span><span class="sxs-lookup"><span data-stu-id="21288-116">Compatibility and resiliency test</span></span>](#compatibility-and-resiliency-test)
-   [<span data-ttu-id="21288-117">Тестирование рекомендаций по обеспечению безопасности Windows</span><span class="sxs-lookup"><span data-stu-id="21288-117">Windows Security best practices test</span></span>](#windows-security-best-practices-test)
-   [<span data-ttu-id="21288-118">Проверка средств безопасности Windows</span><span class="sxs-lookup"><span data-stu-id="21288-118">Windows Security features test</span></span>](#windows-security-features-test)
-   [<span data-ttu-id="21288-119">Тестирование с высоким разрешением</span><span class="sxs-lookup"><span data-stu-id="21288-119">High DPI test</span></span>](#high-dpi-test)

## <a name="clean-reversible-install"></a><span data-ttu-id="21288-120">Чистая обратимая установка</span><span class="sxs-lookup"><span data-stu-id="21288-120">Clean reversible install</span></span>

<span data-ttu-id="21288-121">Устанавливает и удаляет приложение и проверяет наличие остаточных файлов и записей реестра.</span><span class="sxs-lookup"><span data-stu-id="21288-121">Installs and uninstalls the app and checks for residual files and registry entries.</span></span>

-   <span data-ttu-id="21288-122">Историческая справка</span><span class="sxs-lookup"><span data-stu-id="21288-122">Background</span></span>
    -   <span data-ttu-id="21288-123">Чистая, обратимая установка позволяет пользователям развертывать и удалять приложения.</span><span class="sxs-lookup"><span data-stu-id="21288-123">A clean, reversible installation enables users to deploy and remove apps.</span></span> <span data-ttu-id="21288-124">Чтобы пройти этот тест, приложение должно выполнить следующие действия:</span><span class="sxs-lookup"><span data-stu-id="21288-124">To pass this test, the app must do the following:</span></span>
        -   <span data-ttu-id="21288-125">Приложение не перезапускает систему сразу после установки или удаления приложения.</span><span class="sxs-lookup"><span data-stu-id="21288-125">The app doesn't force the system to restart immediately after installing or uninstalling the app.</span></span> <span data-ttu-id="21288-126">*После завершения процесса установки или удаления приложения не требуется перезагружать систему сразу. Если для этого требуется перезагрузка системы, пользователи должны иметь возможность перезапускать систему в удобное для вас время.*</span><span class="sxs-lookup"><span data-stu-id="21288-126">*An app's install or uninstall process should never require a system restart right after it completes. If this requires the system to be restarted, users should be able to restart the system at their convenience.*</span></span>
        -   <span data-ttu-id="21288-127">Приложение не зависит от 8,3 коротких имен файлов (СФН).</span><span class="sxs-lookup"><span data-stu-id="21288-127">The app isn't dependent on 8.3 short file names (SFN).</span></span> <span data-ttu-id="21288-128">*Процессы установки и удаления приложения должны иметь возможность использовать длинные имена файлов и пути к папкам.*</span><span class="sxs-lookup"><span data-stu-id="21288-128">*The app's install and uninstall processes must be able to use long file names and folder paths.*</span></span>
        -   <span data-ttu-id="21288-129">Приложение не блокирует автоматическую установку и удаление</span><span class="sxs-lookup"><span data-stu-id="21288-129">The app doesn't block silent install/uninstall</span></span>
        -   <span data-ttu-id="21288-130">Приложение вносит необходимые записи в системный реестр.</span><span class="sxs-lookup"><span data-stu-id="21288-130">The app makes the required entries in the system registry.</span></span> <span data-ttu-id="21288-131">*Средства инвентаризации Windows и средства телеметрии нуждаются в полной информации об установленных приложениях. Установщики приложений должны создать правильные записи реестра, чтобы разрешить успешное обнаружение и удаление.*</span><span class="sxs-lookup"><span data-stu-id="21288-131">*Windows inventory tools and telemetry tools require complete info about installed apps. App installers must create the correct registry entries to allow successful detection and uninstalls.*</span></span>
    -   <span data-ttu-id="21288-132">Если вы используете установщик на основе MSI, MSI автоматически создает записи реестра, приведенные ниже.</span><span class="sxs-lookup"><span data-stu-id="21288-132">If you are using an MSI-based installer, MSI automatically creates the registry entries below.</span></span> <span data-ttu-id="21288-133">Если установщик MSI не используется, модуль установки должен создать следующие записи реестра во время установки:</span><span class="sxs-lookup"><span data-stu-id="21288-133">If you are not using an MSI installer, the installation module must create the following registry entries during installation:</span></span>
        -   <span data-ttu-id="21288-134">DisplayName</span><span class="sxs-lookup"><span data-stu-id="21288-134">DisplayName</span></span>
        -   <span data-ttu-id="21288-135">InstallLocation</span><span class="sxs-lookup"><span data-stu-id="21288-135">InstallLocation</span></span>
        -   <span data-ttu-id="21288-136">Publisher</span><span class="sxs-lookup"><span data-stu-id="21288-136">Publisher</span></span>
        -   <span data-ttu-id="21288-137">UninstallString</span><span class="sxs-lookup"><span data-stu-id="21288-137">UninstallString</span></span>
        -   <span data-ttu-id="21288-138">VersionMajor или MajorVersion</span><span class="sxs-lookup"><span data-stu-id="21288-138">VersionMajor or MajorVersion</span></span>
        -   <span data-ttu-id="21288-139">VersionMinor или MinorVersion</span><span class="sxs-lookup"><span data-stu-id="21288-139">VersionMinor or MinorVersion</span></span>
    -   <span data-ttu-id="21288-140">Приложение должно удалить все записи из раздела "Установка и удаление программ".</span><span class="sxs-lookup"><span data-stu-id="21288-140">The app must remove all of its entries in Add/Remove Programs.</span></span>
-   <span data-ttu-id="21288-141">Сведения о тесте</span><span class="sxs-lookup"><span data-stu-id="21288-141">Test details</span></span>
    -   <span data-ttu-id="21288-142">Этот тест проверяет процессы установки и удаления приложения на предмет необходимого поведения.</span><span class="sxs-lookup"><span data-stu-id="21288-142">This test checks the app's install and uninstall processes for the required behavior.</span></span>
-   <span data-ttu-id="21288-143">Действие по исправлению</span><span class="sxs-lookup"><span data-stu-id="21288-143">Corrective Action</span></span>
    -   <span data-ttu-id="21288-144">Изучите структуру и поведение приложения в соответствии с описанными выше требованиями.</span><span class="sxs-lookup"><span data-stu-id="21288-144">Review the app's design and behavior against the requirements described above.</span></span>

## <a name="install-to-the-correct-folders-test"></a><span data-ttu-id="21288-145">Установка в правильных тестах папок</span><span class="sxs-lookup"><span data-stu-id="21288-145">Install to the correct folders test</span></span>

<span data-ttu-id="21288-146">Проверяет, что приложение записывает свои программы и файлы данных в нужные папки.</span><span class="sxs-lookup"><span data-stu-id="21288-146">Verifies that the app writes its program and data files to the correct folders.</span></span>

-   <span data-ttu-id="21288-147">Историческая справка</span><span class="sxs-lookup"><span data-stu-id="21288-147">Background</span></span>
    -   <span data-ttu-id="21288-148">Приложения должны правильно работать с пользовательскими системными и пользовательскими папками, чтобы получить доступ к данным и параметрам, которые необходимы для защиты данных пользователя и параметров от несанкционированного доступа.</span><span class="sxs-lookup"><span data-stu-id="21288-148">Apps must user system and per-user folders correctly so it can access the data and settings it needs while protecting the user's data and settings from unauthorized access.</span></span>
-   <span data-ttu-id="21288-149">Папки программных файлов</span><span class="sxs-lookup"><span data-stu-id="21288-149">Program Files folders</span></span>
    -   <span data-ttu-id="21288-150">Приложение должно быть установлено в папку Program Files по умолчанию (% ProgramFiles% для собственных 32-разрядных и 64-разрядных приложений и% ProgramFiles (x86)% для 32-разрядных приложений, работающих на x64).</span><span class="sxs-lookup"><span data-stu-id="21288-150">The app must be installed in the Program Files folder by default (%ProgramFiles% for native 32-bit and 64-bit apps, and %ProgramFiles(x86)% for 32-bit apps running on x64).</span></span>
    -   <span data-ttu-id="21288-151">**Примечание.** Приложение не должно хранить данные пользователя или приложения в папке Program Files из-за разрешений безопасности, настроенных для этой папки.</span><span class="sxs-lookup"><span data-stu-id="21288-151">**Note:** The app must not store user data or app data in a Program Files folder because of the security permissions configured for this folder.</span></span>
    -   <span data-ttu-id="21288-152">Списки управления доступом в системных папках Windows позволяют только учетным записям администратора выполнять чтение и запись.</span><span class="sxs-lookup"><span data-stu-id="21288-152">The ACLs on Windows system folders allow only administrator accounts to read and write to them.</span></span> <span data-ttu-id="21288-153">В результате учетные записи обычного пользователя не будут иметь доступа к этим папкам.</span><span class="sxs-lookup"><span data-stu-id="21288-153">As a result, standard user accounts will not have access to these folders.</span></span> <span data-ttu-id="21288-154">Однако виртуализация файлов позволяет приложениям хранить файл, например файл конфигурации, в системном расположении, которое обычно доступно для записи только администраторам.</span><span class="sxs-lookup"><span data-stu-id="21288-154">File virtualization, however, lets apps store a file, such as a configuration file, in a system location that is typically writeable only by administrators.</span></span> <span data-ttu-id="21288-155">Запуск программ от имени обычного пользователя в этой ситуации может привести к сбою, если у них нет доступа к требуемому файлу.</span><span class="sxs-lookup"><span data-stu-id="21288-155">Running programs as a standard user in this situation could result in failure if they can't access a required file.</span></span>
    -   <span data-ttu-id="21288-156">Приложения должны использовать [известные папки](/previous-versions/windows/desktop/legacy/bb776911(v=vs.85)) , чтобы убедиться, что они смогут получить доступ к своим данным.</span><span class="sxs-lookup"><span data-stu-id="21288-156">Apps should use [Known Folders](/previous-versions/windows/desktop/legacy/bb776911(v=vs.85)) to ensure they will be able to access their data.</span></span>
    -   <span data-ttu-id="21288-157">**Примечание.** Windows предоставляет виртуализацию файлов для улучшения совместимости приложений и устранения проблем, возникающих при запуске приложений в качестве обычного пользователя в Windows.</span><span class="sxs-lookup"><span data-stu-id="21288-157">**Note:** Windows provides file virtualization to improve app compatibility and eliminate problems when apps run as a standard user on Windows.</span></span> <span data-ttu-id="21288-158">Приложение не должно полагаться на виртуализацию, присутствующую в будущих версиях Windows.</span><span class="sxs-lookup"><span data-stu-id="21288-158">Your app should not rely on virtualization being present in future versions of Windows.</span></span>
-   <span data-ttu-id="21288-159">Папки данных приложений для конкретного пользователя</span><span class="sxs-lookup"><span data-stu-id="21288-159">User-specific app data folders</span></span>
    -   <span data-ttu-id="21288-160">При установке "на компьютер" приложение не должно записывать пользовательские данные во время установки.</span><span class="sxs-lookup"><span data-stu-id="21288-160">In “per-machine” installations, the app must not write user-specific data during the installation.</span></span> <span data-ttu-id="21288-161">Данные установки для конкретного пользователя должны быть написаны только при первом запуске приложения пользователем.</span><span class="sxs-lookup"><span data-stu-id="21288-161">User-specific installation data should only be written when a user starts the app for the first time.</span></span> <span data-ttu-id="21288-162">Это обусловлено тем, что отсутствует правильное расположение пользователя для хранения данных во время установки.</span><span class="sxs-lookup"><span data-stu-id="21288-162">This is because there is no correct user location at which to store data at time of installation.</span></span> <span data-ttu-id="21288-163">Попытки приложения изменить поведение связи по умолчанию на уровне компьютера после установки будут неудачными.</span><span class="sxs-lookup"><span data-stu-id="21288-163">Attempts by an app to modify default association behaviors at a machine level after installation will be unsuccessful.</span></span> <span data-ttu-id="21288-164">Вместо этого значения по умолчанию должны задаваться на уровне отдельных пользователей, что не позволяет нескольким пользователям перезаписывать значения по умолчанию для других пользователей.</span><span class="sxs-lookup"><span data-stu-id="21288-164">Instead, defaults must be claimed on a per-user level, which prevents multiple users from overwriting each other's defaults.</span></span>
    -   <span data-ttu-id="21288-165">Все данные приложений, эксклюзивные для конкретного пользователя и не являющиеся общими для других пользователей компьютера, должны храниться в \\ <username> \\ APPDATA.</span><span class="sxs-lookup"><span data-stu-id="21288-165">All app data exclusive to a specific user and not to be shared with other users of the computer must be stored in Users\\<username>\\AppData.</span></span>
    -   <span data-ttu-id="21288-166">Все данные приложений, которые должны совместно использоваться пользователями компьютера, должны храниться в папка ProgramData.</span><span class="sxs-lookup"><span data-stu-id="21288-166">All app data that must be shared among users on the computer should be stored within ProgramData.</span></span>
-   <span data-ttu-id="21288-167">Другие системные папки и разделы реестра</span><span class="sxs-lookup"><span data-stu-id="21288-167">Other system folders and registry keys</span></span>
    -   <span data-ttu-id="21288-168">Приложение никогда не должно выполнять запись непосредственно в каталог Windows и в подкаталоги.</span><span class="sxs-lookup"><span data-stu-id="21288-168">The app should never write directly to the Windows directory and or subdirectories.</span></span> <span data-ttu-id="21288-169">Используйте правильные методы установки файлов, таких как шрифты или драйверы, в эти каталоги.</span><span class="sxs-lookup"><span data-stu-id="21288-169">Use the correct methods for installing files, such as fonts or drivers, to these directories.</span></span>
    -   <span data-ttu-id="21288-170">Приложения не должны запускаться автоматически при запуске, например путем добавления записи в одно или несколько из следующих расположений:</span><span class="sxs-lookup"><span data-stu-id="21288-170">Apps should not start automatically on startup, such as by adding an entry to one or more of these locations:</span></span>
        -   <span data-ttu-id="21288-171">Разделы реестра Run HKLM и или HKCU в разделе Software \\ Microsoft \\ Windows \\ CurrentVersion</span><span class="sxs-lookup"><span data-stu-id="21288-171">Registry run keys HKLM and, or HKCU under Software\\Microsoft\\Windows\\CurrentVersion</span></span>
        -   <span data-ttu-id="21288-172">Разделы реестра Run HKLM и HKCU в разделе Software \\ WOW6432Node \\ Microsoft \\ Windows \\ CurrentVersion</span><span class="sxs-lookup"><span data-stu-id="21288-172">Registry run keys HKLM, and or HKCU under Software\\Wow6432Node\\Microsoft\\windows\\CurrentVersion</span></span>
        -   <span data-ttu-id="21288-173">> запуска в меню "Пуск" Аллпрограмс</span><span class="sxs-lookup"><span data-stu-id="21288-173">Start Menu AllPrograms > STARTUP</span></span>
-   <span data-ttu-id="21288-174">Сведения о тесте</span><span class="sxs-lookup"><span data-stu-id="21288-174">Test details</span></span>
    -   <span data-ttu-id="21288-175">Этот тест проверяет, что приложение использует определенные расположения в файловой системе, предоставляемые Windows для хранения программных и компонентов, общие данные приложения и данные приложений, характерные для конкретного пользователя.</span><span class="sxs-lookup"><span data-stu-id="21288-175">This test verifies that the app uses the specific locations in the file system that Windows provides to store programs and software components, shared app data, and app data that is specific to a user.</span></span>
-   <span data-ttu-id="21288-176">Корректирующие действия</span><span class="sxs-lookup"><span data-stu-id="21288-176">Corrective actions</span></span>
    -   <span data-ttu-id="21288-177">Ознакомьтесь с тем, как приложение использует системные папки, и убедитесь, что оно правильно использует их.</span><span class="sxs-lookup"><span data-stu-id="21288-177">Review how the app uses the system's folders and make sure it's using them correctly.</span></span>
-   <span data-ttu-id="21288-178">Исключения и отказы</span><span class="sxs-lookup"><span data-stu-id="21288-178">Exceptions and Waivers</span></span>
    -   <span data-ttu-id="21288-179">Для настольных приложений требуется отказ от прав на запись в глобальный кэш сборок (GAC) (приложения .NET должны сохранять зависимости сборки в закрытом виде и хранить их в каталоге приложения, если только не требуется совместное использование сборки).</span><span class="sxs-lookup"><span data-stu-id="21288-179">A waiver is required for desktop apps writing to the global assembly cache (GAC) (.NET apps should keep assembly dependencies private, and store it in the app's directory unless sharing an assembly is explicitly required).</span></span>
    -   <span data-ttu-id="21288-180">Установка в папку Program Files не является обязательным требованием для настольных пакетов SW, чтобы получить логотип SW, только в категории основы SW.</span><span class="sxs-lookup"><span data-stu-id="21288-180">Installation to the Programs Files folder is not a requirement for Desktop SW packages to achieve SW Logo, only under the SW Fundamentals category.</span></span>

## <a name="digitally-signed-file-test"></a><span data-ttu-id="21288-181">Проверка файлов с цифровой подписью</span><span class="sxs-lookup"><span data-stu-id="21288-181">Digitally signed file test</span></span>

<span data-ttu-id="21288-182">Проверяет исполняемые файлы и драйверы устройств, чтобы убедиться, что они имеют действительную цифровую подпись.</span><span class="sxs-lookup"><span data-stu-id="21288-182">Tests executable files and device drivers to verify they have a valid digital signature.</span></span>

-   <span data-ttu-id="21288-183">Историческая справка</span><span class="sxs-lookup"><span data-stu-id="21288-183">Background</span></span>
    -   <span data-ttu-id="21288-184">Файлы с цифровой подписью позволяют проверить подлинность файла и определить, был ли файл незаконным.</span><span class="sxs-lookup"><span data-stu-id="21288-184">Digitally signed files make it possible to verify the file is genuine and to detect if the file has been tampered with.</span></span>
    -   <span data-ttu-id="21288-185">Применение подписывания кода в режиме ядра — это функция Windows, которая также называется целостностью кода (CI).</span><span class="sxs-lookup"><span data-stu-id="21288-185">Kernel-mode code signing enforcement is a Windows feature that is also known as code integrity (CI).</span></span> <span data-ttu-id="21288-186">CI улучшает безопасность Windows, проверяя целостность файла каждый раз, когда он загружается в память.</span><span class="sxs-lookup"><span data-stu-id="21288-186">CI improves the security of Windows by verifying the integrity of a file each time it is loaded into memory.</span></span> <span data-ttu-id="21288-187">CI определяет, был ли вредоносный код изменил системный двоичный файл, и создает событие диагностики и аудита системного журнала, когда не удается правильно проверить подпись модуля ядра.</span><span class="sxs-lookup"><span data-stu-id="21288-187">CI detects whether malicious code has modified a system binary file and generates a diagnostic and system-audit log event when the signature of a kernel module fails to verify correctly.</span></span>
    -   <span data-ttu-id="21288-188">Если приложению требуются повышенные разрешения, в запросе на повышение прав отображаются контекстные сведения о исполняемом файле, запрашивающем повышенный доступ.</span><span class="sxs-lookup"><span data-stu-id="21288-188">If the app requires elevated permissions, the elevation prompt displays contextual info about the executable file that is requesting elevated access.</span></span> <span data-ttu-id="21288-189">В зависимости от того, подписано ли приложение с помощью Authenticode, пользователь может увидеть запрос согласия или запрос учетных данных.</span><span class="sxs-lookup"><span data-stu-id="21288-189">Depending on whether the app is Authenticode signed, the user may see the consent prompt or the credential prompt.</span></span>
    -   <span data-ttu-id="21288-190">Строгие имена предотвращают подмену кода третьими сторонами при условии, что закрытый ключ защищен.</span><span class="sxs-lookup"><span data-stu-id="21288-190">Strong names prevent third parties from spoofing your code, as long as you keep the private key secure.</span></span> <span data-ttu-id="21288-191">Платформа .NET Framework проверяет цифровую подпись при загрузке сборки или ее установке в глобальный кэш сборок.</span><span class="sxs-lookup"><span data-stu-id="21288-191">The .NET Framework verifies the digital signature either when it loads the assembly or installs it in the GAC.</span></span> <span data-ttu-id="21288-192">Без доступа к закрытому ключу пользователь-злоумышленник не может изменить код и подписать его снова.</span><span class="sxs-lookup"><span data-stu-id="21288-192">Without access to the private key, a malicious user cannot modify your code and sign it again.</span></span>
-   <span data-ttu-id="21288-193">Сведения о тесте</span><span class="sxs-lookup"><span data-stu-id="21288-193">Test details</span></span>
    -   <span data-ttu-id="21288-194">Все исполняемые файлы, такие как расширения файлов exe, DLL, OCX, sys, CPL, DRV и SCR, должны быть подписаны с помощью сертификата Authenticode.</span><span class="sxs-lookup"><span data-stu-id="21288-194">All executable files, such as those with file extensions of .exe, .dll, .ocx, .sys, .cpl, .drv, and .scr, must be signed with an Authenticode certificate.</span></span>
    -   <span data-ttu-id="21288-195">Все драйверы режима ядра, установленные приложением, должны иметь подпись Майкрософт, полученную с помощью программы WHQL или DRS.</span><span class="sxs-lookup"><span data-stu-id="21288-195">All kernel mode drivers installed by the app must have a Microsoft signature obtained through the WHQL or DRS program.</span></span> <span data-ttu-id="21288-196">Все драйверы фильтра файловой системы должны быть подписаны WHQL.</span><span class="sxs-lookup"><span data-stu-id="21288-196">All file system filter drivers must be WHQL signed.</span></span>
-   <span data-ttu-id="21288-197">Действие по исправлению</span><span class="sxs-lookup"><span data-stu-id="21288-197">Corrective Action</span></span>
    -   <span data-ttu-id="21288-198">Подпишите исполняемые файлы приложения.</span><span class="sxs-lookup"><span data-stu-id="21288-198">Sign the app’s executable files.</span></span>
    -   <span data-ttu-id="21288-199">Используйте makecert.exe для создания сертификата или получения ключа подписывания кода из одного из коммерческих центров сертификации (ЦС), например VeriSign, Thawte или центра сертификации Майкрософт.</span><span class="sxs-lookup"><span data-stu-id="21288-199">Use makecert.exe to generate a certificate or obtain a code-signing key from one of the commercial certification authorities (CAs), such as VeriSign, Thawte, or a Microsoft CA.</span></span>
-   <span data-ttu-id="21288-200">Исключения и отказы</span><span class="sxs-lookup"><span data-stu-id="21288-200">Exceptions and waivers</span></span>
    -   <span data-ttu-id="21288-201">Отказы будут рассматриваться только для неподписанных распространяемых компонентов сторонних производителей.</span><span class="sxs-lookup"><span data-stu-id="21288-201">Waivers will be considered only for unsigned third-party redistributables.</span></span> <span data-ttu-id="21288-202">Для предоставления этого отказа требуется подтверждение связи с запросом подписанной версии распространяемого пакета (ов).</span><span class="sxs-lookup"><span data-stu-id="21288-202">A proof of communication requesting a signed version of the redistributable(s) is required for this waiver to be granted.</span></span>
    -   <span data-ttu-id="21288-203">Значение устройства — добавленные пакеты программного обеспечения исключаются из сертификации драйвера режима ядра, так как драйверы должны быть сертифицированы службой сертификации оборудования Windows.</span><span class="sxs-lookup"><span data-stu-id="21288-203">Device value-added software packages are exempt from the kernel mode driver certification, because drivers must be certified in by Windows Hardware Certification.</span></span>

## <a name="support-x64-windows-test"></a><span data-ttu-id="21288-204">Поддержка Windows x64 Test</span><span class="sxs-lookup"><span data-stu-id="21288-204">Support x64 Windows test</span></span>

<span data-ttu-id="21288-205">Протестируйте приложение, чтобы убедиться, что исполняемый файл создан для архитектуры платформы, на которой он будет установлен.</span><span class="sxs-lookup"><span data-stu-id="21288-205">Test the app to make sure the .exe is built for the platform architecture onto which it will be installed.</span></span>

-   <span data-ttu-id="21288-206">Историческая справка</span><span class="sxs-lookup"><span data-stu-id="21288-206">Background</span></span>
    -   <span data-ttu-id="21288-207">Исполняемый файл должен быть создан для архитектуры процессора, на котором он установлен.</span><span class="sxs-lookup"><span data-stu-id="21288-207">The executable file must be built for the processor architecture on which it is installed.</span></span> <span data-ttu-id="21288-208">Некоторые исполняемые файлы могут работать на разных архитектурах процессора, но это ненадежно.</span><span class="sxs-lookup"><span data-stu-id="21288-208">Some executable files might run on a different processor architecture, but this is not reliable.</span></span>
    -   <span data-ttu-id="21288-209">Совместимость архитектуры важна, поскольку 32-разрядные процессы не могут загружать 64-разрядные библиотеки DLL, а 64-разрядные процессы не могут 32 загружать динамические DLL-библиотеки.</span><span class="sxs-lookup"><span data-stu-id="21288-209">Architecture compatibility is important because 32-bit processes cannot load 64-bit DLLs and 64-bit processes cannot load 32-bit DLLs.</span></span> <span data-ttu-id="21288-210">Аналогичным образом, 64-разрядные версии Windows не поддерживают запуск 16-разрядных приложений Windows, так как дескрипторы имеют 32 значащих бит в 64-разрядной версии Windows а, поэтому они не могут быть переданы в 16-разрядные приложения.</span><span class="sxs-lookup"><span data-stu-id="21288-210">Likewise, 64-bit versions of Windows does not support running 16-bit Windows-based applications because handles have 32 significant bits on 64-bit Windows an so they can't be passed to 16-bit applications.</span></span> <span data-ttu-id="21288-211">Поэтому попытка запустить 16-разрядное приложение завершится сбоем в 64-разрядных версиях Windows.</span><span class="sxs-lookup"><span data-stu-id="21288-211">Therefore, trying to launch a 16-bit application will fail on 64-bit versions of Windows.</span></span>
    -   <span data-ttu-id="21288-212">32-разрядные драйверы устройств не могут работать в 64-разрядных версиях Windows, поэтому они должны быть перенесены в архитектуру 64-bit.</span><span class="sxs-lookup"><span data-stu-id="21288-212">32-bit device drivers cannot run on 64-bit versions of Windows and therefore, they must be ported to the 64-bit architecture.</span></span>
    -   <span data-ttu-id="21288-213">Для приложений пользовательского режима в 64-разрядной версии Windows есть WOW64, который позволяет выполнять 32-разрядные приложения Windows на системах под управлением 64-разрядных ОС Windows, хотя и при некоторых случаях с потерей производительности.</span><span class="sxs-lookup"><span data-stu-id="21288-213">For user-mode applications, 64-bit Windows includes WOW64, which enables 32-bit Windows applications to execute on systems running 64-bit Windows, albeit with some loss of performance.</span></span> <span data-ttu-id="21288-214">Для драйверов устройств не существует эквивалентного слоя перевода.</span><span class="sxs-lookup"><span data-stu-id="21288-214">No equivalent translation layer exists for device drivers.</span></span>
    -   <span data-ttu-id="21288-215">Для обеспечения совместимости с 64-разрядными версиями Windows приложения должны иметь встроенную поддержку 64-bit или, как минимум, 32-разрядные приложения на базе Windows должны беспрепятственно работать в 64-разрядных системах:</span><span class="sxs-lookup"><span data-stu-id="21288-215">To maintain compatibility with 64-bit versions of Windows, apps must natively support 64-bit or, at a minimum, 32-bit Windows-based apps must run seamlessly on 64-bit systems:</span></span>
        -   <span data-ttu-id="21288-216">Приложения и их установщики не должны содержат 16-разрядный код или используют любой 16-разрядный компонент.</span><span class="sxs-lookup"><span data-stu-id="21288-216">Apps and their installers mustn't contain any 16-bit code or rely on any 16-bit component.</span></span>
        -   <span data-ttu-id="21288-217">Программа установки приложения должна обнаружить и установить правильные драйверы и компоненты в 64-разрядных версиях Windows.</span><span class="sxs-lookup"><span data-stu-id="21288-217">App setup must detect and install the proper drivers and components on 64-bit versions of Windows.</span></span>
        -   <span data-ttu-id="21288-218">Все подключаемые модули оболочки должны работать в 64-разрядных версиях Windows.</span><span class="sxs-lookup"><span data-stu-id="21288-218">Any shell plug-ins must run on 64-bit versions of Windows.</span></span>
        -   <span data-ttu-id="21288-219">Приложения, выполняемые в эмуляторе WoW64, не должны пытаться обходить механизмы виртуализации WOW64.</span><span class="sxs-lookup"><span data-stu-id="21288-219">Apps that run under the WoW64 emulator should not attempt to bypass Wow64 virtualization mechanisms.</span></span> <span data-ttu-id="21288-220">При наличии конкретных сценариев, в которых приложения должны определить, работают ли они в эмуляторе WoW64, они должны сделать это, вызвав [**IsWow64Process**](/windows/desktop/api/wow64apiset/nf-wow64apiset-iswow64process).</span><span class="sxs-lookup"><span data-stu-id="21288-220">If there are specific scenarios where apps need to detect if they are running in a WoW64 emulator, they should do so by calling [**IsWow64Process**](/windows/desktop/api/wow64apiset/nf-wow64apiset-iswow64process).</span></span>
-   <span data-ttu-id="21288-221">Сведения о тесте</span><span class="sxs-lookup"><span data-stu-id="21288-221">Test details</span></span>
    -   <span data-ttu-id="21288-222">Приложение не должно устанавливать 16-разрядные двоичные файлы.</span><span class="sxs-lookup"><span data-stu-id="21288-222">The app should not install any 16-bit binaries.</span></span> <span data-ttu-id="21288-223">Приложению не следует устанавливать драйвер режима ядра 32, если он должен выполняться на компьютере с 64-разрядным компьютером.</span><span class="sxs-lookup"><span data-stu-id="21288-223">The app should not install a 32-bit kernel mode driver if it is supposed to run on a 64-bit machine.</span></span>
-   <span data-ttu-id="21288-224">Корректирующие действия</span><span class="sxs-lookup"><span data-stu-id="21288-224">Corrective Actions</span></span>
    -   <span data-ttu-id="21288-225">Создайте исполняемые файлы и драйверы для архитектуры процессора, для которых требуется установить их.</span><span class="sxs-lookup"><span data-stu-id="21288-225">Build the executable files and drivers for the processor architecture for which you want to install them.</span></span>

## <a name="os-version-checking-test"></a><span data-ttu-id="21288-226">Проверка версии ОС</span><span class="sxs-lookup"><span data-stu-id="21288-226">OS version checking test</span></span>

<span data-ttu-id="21288-227">Проверяет, как приложение проверяет версию Windows, в которой оно выполняется.</span><span class="sxs-lookup"><span data-stu-id="21288-227">Tests how the app checks for the version of Windows on which it's running.</span></span>

-   <span data-ttu-id="21288-228">Историческая справка</span><span class="sxs-lookup"><span data-stu-id="21288-228">Background</span></span>
    -   <span data-ttu-id="21288-229">Приложения проверяют версию ОС, проверяя версию, которая больше или равна требуемой версии, чтобы обеспечить совместимость с будущими версиями Windows.</span><span class="sxs-lookup"><span data-stu-id="21288-229">Apps check the OS version by testing for a version that is greater than or equal to the required version to ensure compatibility with future versions of Windows.</span></span>
-   <span data-ttu-id="21288-230">Сведения о тесте</span><span class="sxs-lookup"><span data-stu-id="21288-230">Test details</span></span>
    -   <span data-ttu-id="21288-231">Имитирует запуск приложения в различных версиях Windows, чтобы увидеть, как оно отвечает.</span><span class="sxs-lookup"><span data-stu-id="21288-231">Simulates running the app on different versions of Windows to see how it reacts.</span></span>
-   <span data-ttu-id="21288-232">Корректирующие действия</span><span class="sxs-lookup"><span data-stu-id="21288-232">Corrective actions</span></span>
    -   <span data-ttu-id="21288-233">Проверьте правильность версии Windows, проверив, не превышает ли текущая версия версию вашего приложения, службы или драйвера.</span><span class="sxs-lookup"><span data-stu-id="21288-233">Test for the correct version of Windows by testing if the current version is greater-than or equal to the version your app, service, or driver needs.</span></span>
    -   <span data-ttu-id="21288-234">Модули установки и удаления драйверов не должны проверять версию ОС.</span><span class="sxs-lookup"><span data-stu-id="21288-234">Driver installers and uninstall modules must never check the OS version.</span></span>
-   <span data-ttu-id="21288-235">Исключения и отказы</span><span class="sxs-lookup"><span data-stu-id="21288-235">Exceptions and Waivers</span></span>
    -   <span data-ttu-id="21288-236">Отказы будут учитываться для приложений, которые отвечают следующим условиям: *(относится только к сертификации приложений для настольных систем)* .</span><span class="sxs-lookup"><span data-stu-id="21288-236">Waivers will be considered for apps that meet the following criteria: *(Applies to desktop app certification only)*</span></span>
        -   <span data-ttu-id="21288-237">Приложения, поставляемые в виде одного пакета, работающего в Windows XP, Windows Vista и Windows 7, и необходимо проверить версию ОС, чтобы определить, какие компоненты следует установить в данной операционной системе.</span><span class="sxs-lookup"><span data-stu-id="21288-237">Apps that are delivered as one package that runs on Windows XP, Windows Vista, and Windows 7 and need to check the OS version to determine which components to install on a given operating system.</span></span>
        -   <span data-ttu-id="21288-238">Приложения, которые проверяют только минимальную версию ОС (только во время установки, а не во время выполнения), используя только утвержденные вызовы API и при необходимости перечисляются требования к минимальной версии в манифесте приложения.</span><span class="sxs-lookup"><span data-stu-id="21288-238">Apps that check only the minimum version of the OS (during install only, not at runtime) by using only the approved API calls and list the minimum version requirement in the app manifest as required.</span></span>
        -   <span data-ttu-id="21288-239">Такие приложения безопасности, как антивирусные приложения и брандмауэры, системные служебные программы, такие как программы дефрагментации и приложения для резервного копирования, а также средства диагностики, которые проверяют версию ОС с помощью только утвержденных вызовов API.</span><span class="sxs-lookup"><span data-stu-id="21288-239">Security apps such as antivirus and firewall apps, system utilities such as defrag utilities and backup apps, and diagnostics tools that check the OS version by using only the approved API calls.</span></span>

## <a name="user-account-control-uac-test"></a><span data-ttu-id="21288-240">Проверка контроля учетных записей пользователей (UAC)</span><span class="sxs-lookup"><span data-stu-id="21288-240">User account control (UAC) test</span></span>

<span data-ttu-id="21288-241">Проверяет приложение, чтобы убедиться, что для выполнения ему не нужны повышенные права.</span><span class="sxs-lookup"><span data-stu-id="21288-241">Tests the app to verify that it doesn't need unnecessarily elevated permissions to run.</span></span>

-   <span data-ttu-id="21288-242">Историческая справка</span><span class="sxs-lookup"><span data-stu-id="21288-242">Background</span></span>
    -   <span data-ttu-id="21288-243">Приложение, которое работает или устанавливается, только если пользователь является администратором, заставляет пользователей запускать приложение с необязательно повышенными разрешениями, что позволяет вредоносным программам вводить компьютер пользователя.</span><span class="sxs-lookup"><span data-stu-id="21288-243">An app that operates or installs only when the user is an administrator forces users to run the app with unnecessarily elevated permissions, which can allow malware to enter the user's computer.</span></span>
    -   <span data-ttu-id="21288-244">Если пользователи всегда вынуждены запускать приложения с повышенными маркерами доступа, приложение может использовать сервер в качестве точки входа для мошеннического или вредоносного кода.</span><span class="sxs-lookup"><span data-stu-id="21288-244">When users are always forced to run apps with elevated access tokens, the app can server as an entry point for deceptive or malicious code.</span></span> <span data-ttu-id="21288-245">Эта вредоносная программа может легко изменить операционную систему или, что более того, повлиять на работу других пользователей.</span><span class="sxs-lookup"><span data-stu-id="21288-245">This malware can easily modify the operating system, or worse, affect other users.</span></span> <span data-ttu-id="21288-246">Управлять пользователем с полным доступом администратора практически невозможно, так как администраторы могут устанавливать приложения и запускать любые приложения или сценарии на компьютере.</span><span class="sxs-lookup"><span data-stu-id="21288-246">It is nearly impossible to control a user that has full administrator access, because Administrators can install apps and run any apps or script on the computer.</span></span> <span data-ttu-id="21288-247">ИТ Managers всегда ищут способы создания "стандартных настольных компьютеров", где пользователи входят в систему как обычные пользователи.</span><span class="sxs-lookup"><span data-stu-id="21288-247">IT managers are always seeking ways to create "standard desktops" where users log on as standard users.</span></span> <span data-ttu-id="21288-248">Стандартные настольные системы значительно снижают расходы на службу поддержки и снижают затраты на ИТ.</span><span class="sxs-lookup"><span data-stu-id="21288-248">Standard desktops greatly reduce help desk costs and reduce IT overhead.</span></span>
    -   <span data-ttu-id="21288-249">Большинству приложений во время выполнения не требуются права администратора.</span><span class="sxs-lookup"><span data-stu-id="21288-249">Most applications don't require administrator privileges at run time.</span></span> <span data-ttu-id="21288-250">Учетная запись обычного пользователя должна иметь возможность запускать их.</span><span class="sxs-lookup"><span data-stu-id="21288-250">A standard-user account should be able to run them.</span></span> <span data-ttu-id="21288-251">Приложения Windows должны иметь манифест (встроенный или внешний) для определения уровня выполнения, который сообщает операционной системе о привилегиях, необходимых для запуска приложения.</span><span class="sxs-lookup"><span data-stu-id="21288-251">Windows apps must have a manifest (embedded or external) to define its execution level that tells OS the privileges needed to run the app.</span></span> <span data-ttu-id="21288-252">Манифест приложения применяется только к EXE-файлам, а не к DLL-файлам.</span><span class="sxs-lookup"><span data-stu-id="21288-252">The app manifest only applies to .exe files, not .dll files.</span></span> <span data-ttu-id="21288-253">Функция контроля учетных записей (UAC) не проверяет библиотеки DLL во время создания процесса.</span><span class="sxs-lookup"><span data-stu-id="21288-253">User Account Control (UAC) does not inspect DLLs during the creation of the process.</span></span> <span data-ttu-id="21288-254">Правила контроля учетных записей не применяются к службам Майкрософт.</span><span class="sxs-lookup"><span data-stu-id="21288-254">UAC rules don't apply to Microsoft services.</span></span> <span data-ttu-id="21288-255">Манифест приложения может быть встроенным или внешним.</span><span class="sxs-lookup"><span data-stu-id="21288-255">The app manifest can be embedded or external.</span></span>
    -   <span data-ttu-id="21288-256">Чтобы создать манифест, создайте файл с именем <\_ имя приложения # C1.exe. manifest и сохраните его в том же каталоге, что и файл exe.</span><span class="sxs-lookup"><span data-stu-id="21288-256">To create a manifest, create a file with the name <app\_name>.exe.manifest and store it in the same directory as the EXE.</span></span> <span data-ttu-id="21288-257">Обратите внимание, что любой внешний манифест не учитывается, если приложение имеет внутренний манифест.</span><span class="sxs-lookup"><span data-stu-id="21288-257">Note that any external manifest is ignored if the app has an internal manifest.</span></span>
        -   <span data-ttu-id="21288-258">Например, <requestedExecutionLevel Level = "" asInvoker \| highestAvailable \| requireAdministrator "" UIAccess = "" true \| false ""/></span><span class="sxs-lookup"><span data-stu-id="21288-258">For example, <requestedExecutionLevel level=""asInvoker \| highestAvailable \| requireAdministrator"" uiAccess=""true\|false""/></span></span>
        -   <span data-ttu-id="21288-259">Основной процесс приложения должен выполняться от имени обычного пользователя (**asInvoker**).</span><span class="sxs-lookup"><span data-stu-id="21288-259">The main process of the app must be run as a standard user (**asInvoker**).</span></span> <span data-ttu-id="21288-260">Все функции администрирования должны быть перемещены в отдельный процесс, работающий с правами администратора.</span><span class="sxs-lookup"><span data-stu-id="21288-260">Any administrative features must be moved into a separate process that runs with administrative privileges.</span></span>
        -   <span data-ttu-id="21288-261">Пользовательские приложения, для которых требуются повышенные привилегии, должны быть подписаны Authenticode.</span><span class="sxs-lookup"><span data-stu-id="21288-261">User facing apps that require elevated privileges must be Authenticode signed.</span></span>
-   <span data-ttu-id="21288-262">Сведения о тесте</span><span class="sxs-lookup"><span data-stu-id="21288-262">Test details</span></span>
    -   <span data-ttu-id="21288-263">Все исполняемые файлы для пользователя должны быть помечены атрибутом asInvoker.</span><span class="sxs-lookup"><span data-stu-id="21288-263">All the user facing exes should be marked with asInvoker attribute.</span></span> <span data-ttu-id="21288-264">Если они помечены как highestAvailable или requireAdministrator, они должны быть правильно подписаны с Authenticode.</span><span class="sxs-lookup"><span data-stu-id="21288-264">If they are marked as highestAvailable or requireAdministrator then they should be correctly authenticode signed.</span></span> <span data-ttu-id="21288-265">Любой исполняемый файл приложения не должен иметь атрибут uiAccess со значением true.</span><span class="sxs-lookup"><span data-stu-id="21288-265">Any app exe should not have the uiAccess attribute set to true.</span></span> <span data-ttu-id="21288-266">Любой исполняемый файл, запускаемый как служба, исключается из этой конкретной проверки.</span><span class="sxs-lookup"><span data-stu-id="21288-266">Any exe which runs as a service is excluded from this particular check.</span></span>
-   <span data-ttu-id="21288-267">Корректирующие действия</span><span class="sxs-lookup"><span data-stu-id="21288-267">Corrective actions</span></span>
    -   <span data-ttu-id="21288-268">Проверьте правильность записей и уровней разрешений в файле манифеста приложения.</span><span class="sxs-lookup"><span data-stu-id="21288-268">Review the app's manifest file for the correct entries and permission levels.</span></span>
-   <span data-ttu-id="21288-269">Исключения и отказы</span><span class="sxs-lookup"><span data-stu-id="21288-269">Exceptions and waivers</span></span>
    -   <span data-ttu-id="21288-270">Отказ требуется для приложений, которые запускают свой основной процесс с повышенными привилегиями (**requireAdministrator** или **highestAvailable**).</span><span class="sxs-lookup"><span data-stu-id="21288-270">A waiver is required for apps that run their main process with elevated privileges (**requireAdministrator** or **highestAvailable**).</span></span> <span data-ttu-id="21288-271">Основной процесс — это процесс, который предоставляет пользователю точку входа в приложение.</span><span class="sxs-lookup"><span data-stu-id="21288-271">The main process is the process that provides the user’s entry point to the app.</span></span>
    -   <span data-ttu-id="21288-272">Отказы будут учитываться в следующих сценариях:</span><span class="sxs-lookup"><span data-stu-id="21288-272">Waivers will be considered for the following scenarios:</span></span>
        -   <span data-ttu-id="21288-273">Административные или системные средства с уровнем выполнения, имеющим значение **highestAvailable**, **requireAdministrator** или Both.</span><span class="sxs-lookup"><span data-stu-id="21288-273">Administrative or system tools with execution level set to **highestAvailable**, **requireAdministrator**, or both.</span></span>
        -   <span data-ttu-id="21288-274">Только приложение платформы специальных возможностей или платформа автоматизации пользовательского интерфейса устанавливает флаг uiAccess в значение TRUE, чтобы обойти изоляцию полномочий пользовательского интерфейса (UIPI).</span><span class="sxs-lookup"><span data-stu-id="21288-274">Only Accessibility or UI automation framework app sets the uiAccess flag to TRUE to bypass the user interface privilege isolation (UIPI).</span></span> <span data-ttu-id="21288-275">Для правильного запуска приложения этот флаг должен быть подписан с помощью Authenticode и находиться в защищенном месте файловой системы, например в файлах программы.</span><span class="sxs-lookup"><span data-stu-id="21288-275">To properly start app utilization, this flag must be Authenticode signed, and must reside in a protected location in the file system, such as Program Files.</span></span>

## <a name="adhere-to-system-restart-manager-messages"></a><span data-ttu-id="21288-276">Придерживаться сообщений диспетчера перезапуска системы</span><span class="sxs-lookup"><span data-stu-id="21288-276">Adhere to system restart manager messages</span></span>

<span data-ttu-id="21288-277">Проверяет, как приложение реагирует на завершение работы системы и перезапускает сообщения.</span><span class="sxs-lookup"><span data-stu-id="21288-277">Tests how the app responds to system shutdown and restart messages.</span></span>

-   <span data-ttu-id="21288-278">Историческая справка</span><span class="sxs-lookup"><span data-stu-id="21288-278">Background</span></span>
    -   <span data-ttu-id="21288-279">Приложения должны выйти как можно быстрее при уведомлении системы о завершении работы, чтобы обеспечить реагирование на работу или выключение пользователя.</span><span class="sxs-lookup"><span data-stu-id="21288-279">Apps must exit as quickly as possible when they are notified the system is shutting down to provide a responsive shutdown or power-off experience for the user.</span></span>
    -   <span data-ttu-id="21288-280">При критическом завершении работы приложения, возвращающие значение FALSE в [**WM \_ куерендсессион**](/windows/desktop/Shutdown/wm-queryendsession) , отправляются в **WM \_ ENDSESSION** и закрываются, а время ожидания в ответ на \_ куерендсессион WM будет принудительно прервано.</span><span class="sxs-lookup"><span data-stu-id="21288-280">In a critical shutdown, apps that return FALSE to [**WM\_QUERYENDSESSION**](/windows/desktop/Shutdown/wm-queryendsession) will be sent **WM\_ENDSESSION** and closed, while those that time out in response to WM\_QUERYENDSESSION will be forcibly terminated.</span></span>
-   <span data-ttu-id="21288-281">Сведения о тесте</span><span class="sxs-lookup"><span data-stu-id="21288-281">Test details</span></span>
    -   <span data-ttu-id="21288-282">Проверка реакции приложения на завершение работы и выход из сообщений.</span><span class="sxs-lookup"><span data-stu-id="21288-282">Examines how the app responds to shut down and exit messages.</span></span>
-   <span data-ttu-id="21288-283">Корректирующие действия</span><span class="sxs-lookup"><span data-stu-id="21288-283">Corrective actions</span></span>
    -   <span data-ttu-id="21288-284">Если приложение не проходит проверку, проверьте, как он обрабатывает эти сообщения Windows:</span><span class="sxs-lookup"><span data-stu-id="21288-284">If your app fails this test, review how it handles these Windows messages:</span></span>
        -   <span data-ttu-id="21288-285">[**WM \_ Куерендсессион**](/windows/desktop/Shutdown/wm-queryendsession) с параметром *lParam*  =  **ENDSESSION \_ клосеапп**(0x1): классические приложения должны немедленно ответить (true) на подготовку к перезапуску.</span><span class="sxs-lookup"><span data-stu-id="21288-285">[**WM\_QUERYENDSESSION**](/windows/desktop/Shutdown/wm-queryendsession) with *LPARAM* = **ENDSESSION\_CLOSEAPP**(0x1): Desktop apps must respond (TRUE) immediately in preparation for a restart.</span></span> <span data-ttu-id="21288-286">Консольные приложения могут вызывать [**SetConsoleCtrlHandler**](/windows/console/setconsolectrlhandler) для получения уведомлений о завершении работы.</span><span class="sxs-lookup"><span data-stu-id="21288-286">Console apps can call [**SetConsoleCtrlHandler**](/windows/console/setconsolectrlhandler) to receive shutdown notification.</span></span> <span data-ttu-id="21288-287">Службы могут вызывать [**регистерсервицектрлхандлерекс**](/windows/desktop/api/winsvc/nf-winsvc-registerservicectrlhandlerexa) для получения уведомлений о завершении работы в подпрограммых обработчика.</span><span class="sxs-lookup"><span data-stu-id="21288-287">Services can call [**RegisterServiceCtrlHandlerEx**](/windows/desktop/api/winsvc/nf-winsvc-registerservicectrlhandlerexa) to receive shutdown notifications in a handler routine.</span></span>
        -   <span data-ttu-id="21288-288">[**WM \_ ENDSESSION**](/windows/desktop/Shutdown/wm-queryendsession) с *lParam*  =  **ENDSESSION \_ клосеапп**(0x1): приложения должны возвращать значение 0 в течение 30 секунд и завершать работу.</span><span class="sxs-lookup"><span data-stu-id="21288-288">[**WM\_ENDSESSION**](/windows/desktop/Shutdown/wm-queryendsession) with *LPARAM* = **ENDSESSION\_CLOSEAPP**(0x1): Apps must return a 0 value within 30 seconds and shut down.</span></span> <span data-ttu-id="21288-289">Как минимум, приложения должны подготовиться, сохранив данные пользователя, и указать сведения, необходимые после перезагрузки.</span><span class="sxs-lookup"><span data-stu-id="21288-289">At a minimum, apps should prepare by saving any user data and state the info that is needed after a restart.</span></span>
    -   <span data-ttu-id="21288-290">Консольные приложения, получающие уведомление о **\_ \_ событии CTRL C** , должны немедленно завершить работу.</span><span class="sxs-lookup"><span data-stu-id="21288-290">Console apps that receive the **CTRL\_C\_EVENT** notification should shut down immediately.</span></span> <span data-ttu-id="21288-291">Драйверы не должны отменять событие завершения работы системы.</span><span class="sxs-lookup"><span data-stu-id="21288-291">Drivers must not veto a system shutdown event.</span></span>
    -   <span data-ttu-id="21288-292">**Примечание.** Приложения, которые должны блокировать завершение работы из-за операции, которая не может быть прервана, должны использовать [**шутдовнблоккреасонкреате**](/windows/desktop/api/winuser/nf-winuser-shutdownblockreasoncreate) для регистрации строки, объясняющей причину для пользователя.</span><span class="sxs-lookup"><span data-stu-id="21288-292">**Note:** Apps that must block shutdown because of an operation that cannot be interrupted should use [**ShutdownBlockReasonCreate**](/windows/desktop/api/winuser/nf-winuser-shutdownblockreasoncreate) to register a string that explains the reason to the user.</span></span> <span data-ttu-id="21288-293">После завершения операции приложение должно вызвать [**шутдовнблоккреасондестрой**](/windows/desktop/api/winuser/nf-winuser-shutdownblockreasondestroy) , чтобы указать, что можно завершить работу системы.</span><span class="sxs-lookup"><span data-stu-id="21288-293">When the operation has completed, the app should call [**ShutdownBlockReasonDestroy**](/windows/desktop/api/winuser/nf-winuser-shutdownblockreasondestroy) to indicate that the system can be shut down.</span></span>

## <a name="safe-mode-test"></a><span data-ttu-id="21288-294">Проверка безопасного режима</span><span class="sxs-lookup"><span data-stu-id="21288-294">Safe mode test</span></span>

<span data-ttu-id="21288-295">Проверяет, настроен ли драйвер или служба для запуска в защищенном режиме.</span><span class="sxs-lookup"><span data-stu-id="21288-295">Tests if the driver or service is configured to start in safe mode.</span></span>

-   <span data-ttu-id="21288-296">Историческая справка</span><span class="sxs-lookup"><span data-stu-id="21288-296">Background</span></span>
    -   <span data-ttu-id="21288-297">В защищенном режиме пользователи могут диагностировать и устранять неполадки в Windows.</span><span class="sxs-lookup"><span data-stu-id="21288-297">Safe mode allows users to diagnose and troubleshoot problems with Windows.</span></span> <span data-ttu-id="21288-298">Только драйверы и службы, необходимые для базовой работы операционной системы или предоставления служб диагностики и восстановления, должны загружаться в защищенном режиме.</span><span class="sxs-lookup"><span data-stu-id="21288-298">Only drivers and services that are necessary to the basic operation of the operating system or provide diagnostic and recovery services should load in safe mode.</span></span> <span data-ttu-id="21288-299">Загрузка других файлов в защищенном режиме усложняет устранение проблем с операционной системой.</span><span class="sxs-lookup"><span data-stu-id="21288-299">Loading other files in safe mode makes it more difficult to troubleshoot problems with the operating system.</span></span>
    -   <span data-ttu-id="21288-300">По умолчанию только драйверы и службы, которые были предварительно установлены с Windows, запускаются в режиме «в локальной системе».</span><span class="sxs-lookup"><span data-stu-id="21288-300">By default, only the drivers and services that come pre-installed with Windows start in safe mode.</span></span> <span data-ttu-id="21288-301">Все остальные драйверы и службы следует отключить, если только система не потребует их для основных операций, а также для целей диагностики и восстановления.</span><span class="sxs-lookup"><span data-stu-id="21288-301">All other drivers and services should be disabled unless the system requires them for basic operations or for diagnostic and recovery purposes.</span></span>
-   <span data-ttu-id="21288-302">Сведения о тесте</span><span class="sxs-lookup"><span data-stu-id="21288-302">Test details</span></span>
    -   <span data-ttu-id="21288-303">Драйверы, установленные приложением, не должны быть помечены для загрузки в защищенном режиме.</span><span class="sxs-lookup"><span data-stu-id="21288-303">Drivers installed by the app should not be marked for loading in safe mode.</span></span>
-   <span data-ttu-id="21288-304">Корректирующие действия</span><span class="sxs-lookup"><span data-stu-id="21288-304">Corrective actions</span></span>
    -   <span data-ttu-id="21288-305">Если драйвер или служба не должны запускаться в защищенном режиме, удалите записи приложения из разделов реестра.</span><span class="sxs-lookup"><span data-stu-id="21288-305">If the driver or service should not start in safe mode, remove the app's entries from the registry keys.</span></span>
-   <span data-ttu-id="21288-306">Исключения и отказы</span><span class="sxs-lookup"><span data-stu-id="21288-306">Exceptions and waivers</span></span>
    -   <span data-ttu-id="21288-307">Для драйверов и служб, которые должны запускаться в защищенном режиме, требуется сертификация отказа.</span><span class="sxs-lookup"><span data-stu-id="21288-307">Drivers and services that must start in safe mode require a waiver to be certified.</span></span> <span data-ttu-id="21288-308">Запрос отказа должен включать каждый драйвер и службу для добавления в разделы реестра SafeBoot и описывать технические причины, по которым драйвер или служба должны работать в защищенном режиме.</span><span class="sxs-lookup"><span data-stu-id="21288-308">The waiver request must include each driver and service to add to the SafeBoot registry keys and describe the technical reasons for why the driver or service must run in safe mode.</span></span> <span data-ttu-id="21288-309">Установщик приложения должен зарегистрировать все такие драйверы и службы в следующих разделах реестра:</span><span class="sxs-lookup"><span data-stu-id="21288-309">The app installer must register all such drivers and services in these registry keys:</span></span>
        -   <span data-ttu-id="21288-310">HKLM/System/CurrentControlSet/Control/SafeBoot/минимум</span><span class="sxs-lookup"><span data-stu-id="21288-310">HKLM/System/CurrentControlSet/Control/SafeBoot/Minimal</span></span>
        -   <span data-ttu-id="21288-311">HKLM/System/CurrentControlSet/Control/SafeBoot/Network</span><span class="sxs-lookup"><span data-stu-id="21288-311">HKLM/System/CurrentControlSet/Control/SafeBoot/Network</span></span>
-   <span data-ttu-id="21288-312">**Примечание.** Необходимо протестировать драйверы и службы, которые необходимо запустить в защищенном режиме, чтобы обеспечить их функционирование в защищенном режиме без ошибок.</span><span class="sxs-lookup"><span data-stu-id="21288-312">**Note:** You must test the drivers and services you want to start in safe mode to ensure that they function in safe mode without any errors.</span></span>

## <a name="multiuser-session-test"></a><span data-ttu-id="21288-313">Тестирование многопользовательской сессии</span><span class="sxs-lookup"><span data-stu-id="21288-313">Multiuser session test</span></span>

<span data-ttu-id="21288-314">Проверка работы приложения при одновременном запуске в нескольких сеансах.</span><span class="sxs-lookup"><span data-stu-id="21288-314">Test how the app behaves when run in multiple sessions at the same time.</span></span>

-   <span data-ttu-id="21288-315">Историческая справка</span><span class="sxs-lookup"><span data-stu-id="21288-315">Background</span></span>
    -   <span data-ttu-id="21288-316">Пользователи Windows должны иметь возможность выполнять параллельные сеансы.</span><span class="sxs-lookup"><span data-stu-id="21288-316">Windows users must be able to run concurrent sessions.</span></span> <span data-ttu-id="21288-317">Приложения должны гарантировать, что, когда они выполняются в нескольких сеансах локально или удаленно, нормальная функциональность приложения не окажет негативного воздействия.</span><span class="sxs-lookup"><span data-stu-id="21288-317">Apps must ensure that when they run in multiple sessions, either locally or remotely, the normal functionality of the app is not adversely affected.</span></span> <span data-ttu-id="21288-318">Параметры приложения и файлы данных должны быть специфичными для пользователя, и конфиденциальность и предпочтения пользователя должны быть ограничены сеансом пользователя.</span><span class="sxs-lookup"><span data-stu-id="21288-318">App settings and data files must be user-specific and the user's privacy and preferences must be restricted to the user's session.</span></span>
-   <span data-ttu-id="21288-319">Сведения о тесте</span><span class="sxs-lookup"><span data-stu-id="21288-319">Test details</span></span>
    -   <span data-ttu-id="21288-320">Запускает несколько параллельных экземпляров приложения для проверки следующего:</span><span class="sxs-lookup"><span data-stu-id="21288-320">Runs multiple concurrent instances of the app to test the following:</span></span>
        -   <span data-ttu-id="21288-321">Несколько экземпляров приложения, выполняющегося одновременно, изолированы друг от друга.</span><span class="sxs-lookup"><span data-stu-id="21288-321">Multiple instances of an app running at the same time are isolated from each other.</span></span>
    -   <span data-ttu-id="21288-322">Это означает, что данные пользователя из одного экземпляра не видны другому экземпляру.</span><span class="sxs-lookup"><span data-stu-id="21288-322">This means that user data from one instance is not visible to another instance.</span></span> <span data-ttu-id="21288-323">Звук в неактивном сеансе пользователя не должен быть слышен в активном сеансе пользователя.</span><span class="sxs-lookup"><span data-stu-id="21288-323">Sound in an inactive user session should not be heard in an active user session.</span></span> <span data-ttu-id="21288-324">В случаях, когда несколько экземпляров приложения используют общие ресурсы, приложение должно убедиться в отсутствии конфликта.</span><span class="sxs-lookup"><span data-stu-id="21288-324">In cases where multiple app instances use shared resources, the app must ensure that there is not a conflict.</span></span>
        -   <span data-ttu-id="21288-325">Если приложение было установлено для нескольких пользователей, данные сохраняются в нужных папках и расположениях реестра.</span><span class="sxs-lookup"><span data-stu-id="21288-325">If the app was installed for multiple users, it stores data in the correct folder(s) and registry locations.</span></span>
        -   <span data-ttu-id="21288-326">Приложение может работать в нескольких пользовательских сеансах (быстрое переключение пользователей) как для локального, так и для удаленного доступа.</span><span class="sxs-lookup"><span data-stu-id="21288-326">The app can run in multiple user sessions (Fast User Switching) for both local and remote access.</span></span>
    -   <span data-ttu-id="21288-327">Чтобы убедиться в этом, приложение должно проверить другие сеансы службы терминалов для существующих экземпляров приложения.</span><span class="sxs-lookup"><span data-stu-id="21288-327">To ensure this, the app must check other terminal service (TS) sessions for existing instances of the app.</span></span> <span data-ttu-id="21288-328">Если приложение не поддерживает несколько пользовательских сеансов или удаленный доступ, оно должно ясно говорить пользователю, когда он запускается из такого сеанса.</span><span class="sxs-lookup"><span data-stu-id="21288-328">If the app does not support multiple user sessions or remote access, it must clearly say this to the user when it's launched from such a session.</span></span>
-   <span data-ttu-id="21288-329">Действие по исправлению</span><span class="sxs-lookup"><span data-stu-id="21288-329">Corrective action</span></span>
    -   <span data-ttu-id="21288-330">Убедитесь, что приложение не хранит файлы данных на уровне системы или параметры в пользовательских хранилищах данных, таких как профиль пользователя или HKCU.</span><span class="sxs-lookup"><span data-stu-id="21288-330">Make sure that the app doesn’t store system-wide data files or settings in user-specific data stores, such as User Profile or HKCU.</span></span> <span data-ttu-id="21288-331">Если это так, эти сведения не будут доступны другим пользователям.</span><span class="sxs-lookup"><span data-stu-id="21288-331">If it does, that info won’t be available to other users.</span></span>
    -   <span data-ttu-id="21288-332">Приложение должно устанавливать файл конфигурации и файлы данных на уровне системы во время установки, а также создавать пользовательские файлы и параметры после установки, когда пользователь его запускает.</span><span class="sxs-lookup"><span data-stu-id="21288-332">Your app must install system-wide configuration and data files during installation and create the user-specific files and settings after installation when a user runs it.</span></span>
    -   <span data-ttu-id="21288-333">Убедитесь, что приложение не блокирует несколько одновременных сеансов локально или удаленно.</span><span class="sxs-lookup"><span data-stu-id="21288-333">Make sure that the app doesn’t block multiple concurrent sessions, either locally or remotely.</span></span> <span data-ttu-id="21288-334">Приложение не должно зависеть от глобальных мьютексов или других именованных объектов для проверки или блокировки нескольких одновременных сеансов.</span><span class="sxs-lookup"><span data-stu-id="21288-334">The app must not depend on global mutexes or other named-objects to check for or block multiple concurrent sessions.</span></span>
    -   <span data-ttu-id="21288-335">Если приложение не может разрешить несколько одновременных сеансов на одного пользователя, используйте пространства имен для каждого пользователя или для каждого сеанса для мьютексов и других именованных объектов.</span><span class="sxs-lookup"><span data-stu-id="21288-335">If the app can’t allow multiple concurrent sessions per user, use per-user or per-session namespaces for mutexes and other named-objects.</span></span>

## <a name="crashes-and-hangs-test"></a><span data-ttu-id="21288-336">Проверка сбоев и зависаний</span><span class="sxs-lookup"><span data-stu-id="21288-336">Crashes and hangs test</span></span>

<span data-ttu-id="21288-337">Позволяет отслеживать работу приложения во время сертификационных испытаний, чтобы регистрировать сбои и зависания.</span><span class="sxs-lookup"><span data-stu-id="21288-337">Monitors the app during certification testing to record when it crashes or hangs.</span></span>

-   <span data-ttu-id="21288-338">Историческая справка</span><span class="sxs-lookup"><span data-stu-id="21288-338">Background</span></span>
    -   <span data-ttu-id="21288-339">Сбои приложений, такие как сбои и зависания, являются серьезным нарушением работы пользователей и вызывают разочарование.</span><span class="sxs-lookup"><span data-stu-id="21288-339">App failures such as crashes and hangs are a major disruption to users and cause frustration.</span></span> <span data-ttu-id="21288-340">Устранение таких сбоев повышает стабильность и надежность приложений, а также предоставляет пользователям улучшенные возможности работы с приложениями.</span><span class="sxs-lookup"><span data-stu-id="21288-340">Eliminating such failures improves app stability and reliability, and overall, provides users with a better app experience.</span></span> <span data-ttu-id="21288-341">Приложения, перестающие отвечать или завершающиеся аварийно, могут привести к потере данных пользователя и вызвать разочарование.</span><span class="sxs-lookup"><span data-stu-id="21288-341">Apps that stop responding or crash can cause the user to lose data and have a poor experience.</span></span>
-   <span data-ttu-id="21288-342">Сведения о тесте</span><span class="sxs-lookup"><span data-stu-id="21288-342">Test details</span></span>
    -   <span data-ttu-id="21288-343">Мы проверяем устойчивость и стабильность приложения с помощью сертификационного тестирования.</span><span class="sxs-lookup"><span data-stu-id="21288-343">We test the app resilience and stability throughout the certification testing.</span></span>
    -   <span data-ttu-id="21288-344">Набор сертификации приложений для Windows вызывает [**иаппликатионактиватионманажер:: активатеаппликатион**](/windows/desktop/api/shobjidl_core/nf-shobjidl_core-iapplicationactivationmanager-activateapplication) для запуска приложений для Магазина Windows.</span><span class="sxs-lookup"><span data-stu-id="21288-344">The Windows App Certification Kit calls [**IApplicationActivationManager::ActivateApplication**](/windows/desktop/api/shobjidl_core/nf-shobjidl_core-iapplicationactivationmanager-activateapplication) to launch Windows Store apps.</span></span> <span data-ttu-id="21288-345">Чтобы метод **ActivateApplication** запустил приложение, должен быть включен контроль учетных записей, а разрешение экрана должно быть не менее 1024x768 или 768x1024.</span><span class="sxs-lookup"><span data-stu-id="21288-345">For **ActivateApplication** to launch an app, User Account Control (UAC) must be enabled and the screen resolution must be at least 1024 x 768 or 768 x 1024.</span></span> <span data-ttu-id="21288-346">Если одно из этих условий не выполнено, приложение не пройдет этот тест.</span><span class="sxs-lookup"><span data-stu-id="21288-346">If either condition is not met, your app will fail this test.</span></span>
-   <span data-ttu-id="21288-347">Корректирующие действия</span><span class="sxs-lookup"><span data-stu-id="21288-347">Corrective Actions</span></span>
    -   <span data-ttu-id="21288-348">Убедитесь, что на тестовом компьютере включен контроль учетных записей.</span><span class="sxs-lookup"><span data-stu-id="21288-348">Make sure UAC is enabled on the test computer.</span></span>
    -   <span data-ttu-id="21288-349">Убедитесь, что вы запускаете тест на компьютере с достаточно большим разрешением экрана.</span><span class="sxs-lookup"><span data-stu-id="21288-349">Make sure you are running the test on a computer with large enough screen.</span></span>
    -   <span data-ttu-id="21288-350">Если ваше приложение не запускается, а тестовая платформа соответствует предварительным требованиям [**ActivateApplication**](/windows/desktop/api/shobjidl_core/nf-shobjidl_core-iapplicationactivationmanager-activateapplication), можно диагностировать проблему, просмотрев журнал событий активации.</span><span class="sxs-lookup"><span data-stu-id="21288-350">If your app fails to launch and your test platform satisfies the prerequisites of [**ActivateApplication**](/windows/desktop/api/shobjidl_core/nf-shobjidl_core-iapplicationactivationmanager-activateapplication), you can troubleshoot the problem by reviewing the activation event log.</span></span> <span data-ttu-id="21288-351">Чтобы найти эти записи в журнале событий, сделайте следующее.</span><span class="sxs-lookup"><span data-stu-id="21288-351">To find these entries in the event log:</span></span>
        1.  <span data-ttu-id="21288-352">Откройте eventvwr.exe и перейдите в \\ \\ узел приложения журналов Windows.</span><span class="sxs-lookup"><span data-stu-id="21288-352">Open eventvwr.exe and navigate to the \\Windows Logs\\Application node.</span></span>
        2.  <span data-ttu-id="21288-353">Отфильтруйте представление, чтобы показать события с идентификаторами 5900–6000.</span><span class="sxs-lookup"><span data-stu-id="21288-353">Filter the view to show Event Ids: 5900-6000.</span></span>
        3.  <span data-ttu-id="21288-354">Проверьте в журнале записи, которые могут объяснить невозможность запуска приложения.</span><span class="sxs-lookup"><span data-stu-id="21288-354">Review the log entries for info that might explain why the app didn't launch.</span></span>
    -   <span data-ttu-id="21288-355">Устраните неполадки в проблемном файле, выявите и устраните проблему.</span><span class="sxs-lookup"><span data-stu-id="21288-355">Troubleshoot the file with the problem, identify and fix the problem.</span></span> <span data-ttu-id="21288-356">Выполните повторную сборку приложения и повторите тестирование.</span><span class="sxs-lookup"><span data-stu-id="21288-356">Rebuild and re-test the app.</span></span>
-   <span data-ttu-id="21288-357">Дополнительные ресурсы</span><span class="sxs-lookup"><span data-stu-id="21288-357">Additional resources</span></span>
    -   [<span data-ttu-id="21288-358">Использование средство проверки приложений в жизненном цикле разработки программного обеспечения</span><span class="sxs-lookup"><span data-stu-id="21288-358">Using Application Verifier Within Your Software Development Lifecycle</span></span>](https://blogs.msdn.com/b/ntdebugging/archive/2014/01/13/debugging-a-windows-8-1-store-app-crash-dump.aspx)
    -   [<span data-ttu-id="21288-359">средство проверки приложений</span><span class="sxs-lookup"><span data-stu-id="21288-359">Application Verifier</span></span>]( https://go.microsoft.com/fwlink/p/?LinkId=708300)
    -   [<span data-ttu-id="21288-360">Использование средство проверки приложений</span><span class="sxs-lookup"><span data-stu-id="21288-360">Using Application Verifier</span></span>](https://www.microsoft.com/?ref=go)
    -   [<span data-ttu-id="21288-361">Библиотеки DLL библиотеки</span><span class="sxs-lookup"><span data-stu-id="21288-361">AppInit DLLs</span></span>](https://www.microsoft.com/?ref=go)
    -   <span data-ttu-id="21288-362">[Сокращение времени запуска (приложения для Магазина Windows на C#, VB, C++ и XAML)](/previous-versions/windows/apps/hh994639(v=win.10))</span><span class="sxs-lookup"><span data-stu-id="21288-362">[Minimize startup time (Windows Store apps using C#/VB/C++ and XAML)](/previous-versions/windows/apps/hh994639(v=win.10))</span></span>

## <a name="compatibility-and-resiliency-test"></a><span data-ttu-id="21288-363">Тестирование совместимости и устойчивости</span><span class="sxs-lookup"><span data-stu-id="21288-363">Compatibility and resiliency test</span></span>

-   <span data-ttu-id="21288-364">Историческая справка</span><span class="sxs-lookup"><span data-stu-id="21288-364">Background</span></span>
    -   <span data-ttu-id="21288-365">Эта проверка проверит два аспекта приложения: основные исполняемые файлы приложения (например, Пользовательская точка входа в приложение должно быть манифестом для совместимости), а также объявить правильный идентификатор GUID.</span><span class="sxs-lookup"><span data-stu-id="21288-365">This check will validate two aspects of an app, the app main executable(s) e.g. user facing app entry point must be manifested for compatibility, as well as declaring the right GUID.</span></span> <span data-ttu-id="21288-366">Для поддержки этого нового теста в отчете будет вложен узел в разделе "устойчивость & совместимости".</span><span class="sxs-lookup"><span data-stu-id="21288-366">To support this new test the report will have a sub node under ‘Compatibility & resiliency’.</span></span> <span data-ttu-id="21288-367">Приложение завершится ошибкой, если одно или оба этих условия отсутствуют.</span><span class="sxs-lookup"><span data-stu-id="21288-367">The app will fail if one or both of these conditions are missing.</span></span>
-   <span data-ttu-id="21288-368">Сведения о тесте</span><span class="sxs-lookup"><span data-stu-id="21288-368">Test Details</span></span>
    -   <span data-ttu-id="21288-369">**Совместимость:** Приложения должны быть полностью функциональными без использования режимов совместимости Windows, AppHelp сообщений или других исправлений совместимости.</span><span class="sxs-lookup"><span data-stu-id="21288-369">**Compatibility:** Apps must be fully functional without using Windows compatibility modes, AppHelp messages, or other compatibility fixes.</span></span> <span data-ttu-id="21288-370">Манифест совместимости позволяет Windows предоставить приложению правильное поведение совместимости в различных версиях ОС.</span><span class="sxs-lookup"><span data-stu-id="21288-370">A compatibility manifest allows Windows to provide your app the proper compatibility behavior under the different versions of the OS</span></span>
    -   <span data-ttu-id="21288-371">**Библиотеки:** Приложения не должны перечислять библиотеки DLL для загрузки \_ \_ раздела реестра hKey Local Machine \\ Software \\ Microsoft \\ Windows NT \\ CurrentVersion \\ Windows \\ библиотеки \_ DLL.</span><span class="sxs-lookup"><span data-stu-id="21288-371">**AppInit:** Apps must not list DLLs to load in the HKEY\_LOCAL\_MACHINE\\Software\\Microsoft\\Windows NT\\CurrentVersion\\Windows\\AppInit\_DLLs registry key.</span></span>
    -   <span data-ttu-id="21288-372">**Свитчбакк:** Приложение должно предоставить манифест свитчбакк.</span><span class="sxs-lookup"><span data-stu-id="21288-372">**Switchback:** The application must provide the switchback manifest.</span></span> <span data-ttu-id="21288-373">Если манифест отсутствует, Комплект сертификации приложений для Windows выдает предупреждающее сообщение.</span><span class="sxs-lookup"><span data-stu-id="21288-373">If the manifest is missing, Windows App Certification Kit gives a warning message.</span></span> <span data-ttu-id="21288-374">Комплект сертификации приложений для Windows также будет проверять, содержит ли манифест допустимый идентификатор GUID операционной системы.</span><span class="sxs-lookup"><span data-stu-id="21288-374">Windows App Certification Kit will also verify the manifest contains valid OS GUID.</span></span>
-   <span data-ttu-id="21288-375">Корректирующие действия</span><span class="sxs-lookup"><span data-stu-id="21288-375">Corrective actions</span></span>
    -   <span data-ttu-id="21288-376">Исправьте компонент приложения, использующий исправление совместимости.</span><span class="sxs-lookup"><span data-stu-id="21288-376">Fix the app's component that uses the compatibility fix.</span></span>
    -   <span data-ttu-id="21288-377">Убедитесь, что приложение не использует исправления совместимости для своих функций.</span><span class="sxs-lookup"><span data-stu-id="21288-377">Make sure that the app doesn’t rely on compatibility fixes for its functionality.</span></span>
    -   <span data-ttu-id="21288-378">Убедитесь, что приложение Манифесто, а раздел совместимости содержит соответствующие значения.</span><span class="sxs-lookup"><span data-stu-id="21288-378">Ensure your app is manifested and the compatibility section include the appropriate values</span></span>
-   <span data-ttu-id="21288-379">Дополнительные сведения</span><span class="sxs-lookup"><span data-stu-id="21288-379">Additional Information</span></span>
    -   <span data-ttu-id="21288-380">Дополнительные сведения см. в разделе [библиотеки DLL библиотеки](/previous-versions/windows/apps/hh994639(v=win.10)) .</span><span class="sxs-lookup"><span data-stu-id="21288-380">See [AppInit DLLs](/previous-versions/windows/apps/hh994639(v=win.10)) for more info.</span></span>

## <a name="windows-security-best-practices-test"></a><span data-ttu-id="21288-381">Тестирование рекомендаций по обеспечению безопасности Windows</span><span class="sxs-lookup"><span data-stu-id="21288-381">Windows Security best practices test</span></span>

-   <span data-ttu-id="21288-382">Историческая справка</span><span class="sxs-lookup"><span data-stu-id="21288-382">Background</span></span>
    -   <span data-ttu-id="21288-383">Приложение не должно изменять параметры безопасности Windows по умолчанию</span><span class="sxs-lookup"><span data-stu-id="21288-383">An app should not change the default Windows security settings</span></span>
-   <span data-ttu-id="21288-384">Сведения о тесте</span><span class="sxs-lookup"><span data-stu-id="21288-384">Test Details</span></span>
    -   <span data-ttu-id="21288-385">Проверяет безопасность приложения, запустив анализатор уязвимой зоны.</span><span class="sxs-lookup"><span data-stu-id="21288-385">Tests the app's security by running the Attack Surface Analyzer.</span></span> <span data-ttu-id="21288-386">Подход будет добавлять категории ошибок для каждого теста.</span><span class="sxs-lookup"><span data-stu-id="21288-386">The approach will be to add categories of failure on a per test basis.</span></span> <span data-ttu-id="21288-387">Например, некоторые категории для тестирования безопасности могут включать:</span><span class="sxs-lookup"><span data-stu-id="21288-387">For example some categories for security test may include:</span></span>
        -   <span data-ttu-id="21288-388">Сбой инициализации</span><span class="sxs-lookup"><span data-stu-id="21288-388">Initialization failure</span></span>
        -   <span data-ttu-id="21288-389">Сбой архитектуры безопасности</span><span class="sxs-lookup"><span data-stu-id="21288-389">Security Architecture failure</span></span>
        -   <span data-ttu-id="21288-390">Возможная ошибка переполнения буфера</span><span class="sxs-lookup"><span data-stu-id="21288-390">Possible Buffer overflow failure</span></span>
        -   <span data-ttu-id="21288-391">Сбой сбоя</span><span class="sxs-lookup"><span data-stu-id="21288-391">Crash failure</span></span>
    -   <span data-ttu-id="21288-392">Дополнительные сведения см. [здесь](/previous-versions/windows/hh920280(v=win.10)).</span><span class="sxs-lookup"><span data-stu-id="21288-392">For details, refer [here](/previous-versions/windows/hh920280(v=win.10)).</span></span>
-   <span data-ttu-id="21288-393">Корректирующие действия</span><span class="sxs-lookup"><span data-stu-id="21288-393">Corrective actions</span></span>
    -   <span data-ttu-id="21288-394">Устраните проблему, обнаруженную в тестах, и устраните ее.</span><span class="sxs-lookup"><span data-stu-id="21288-394">Troubleshoot and fix the problem identified by the tests.</span></span> <span data-ttu-id="21288-395">Выполните повторную сборку приложения и повторите тестирование.</span><span class="sxs-lookup"><span data-stu-id="21288-395">Rebuild and re-test the app.</span></span>

## <a name="windows-security-features-test"></a><span data-ttu-id="21288-396">Тестирование функций безопасности Windows</span><span class="sxs-lookup"><span data-stu-id="21288-396">Windows security features test</span></span>

-   <span data-ttu-id="21288-397">Историческая справка</span><span class="sxs-lookup"><span data-stu-id="21288-397">Background</span></span>
    -   <span data-ttu-id="21288-398">Приложения должны принять участие в функциях безопасности Windows.</span><span class="sxs-lookup"><span data-stu-id="21288-398">Applications must opt-into Windows security features.</span></span> <span data-ttu-id="21288-399">Изменение используемых по умолчанию защитных средств Windows может подвергнуть пользователей повышенному риску.</span><span class="sxs-lookup"><span data-stu-id="21288-399">Changing the default Windows security protections can put customers at increased risk.</span></span>
-   <span data-ttu-id="21288-400">Сведения о тесте</span><span class="sxs-lookup"><span data-stu-id="21288-400">Test details</span></span>
    -   <span data-ttu-id="21288-401">Проверяет безопасность приложения, запуская средство BinScope Binary Analyzer.</span><span class="sxs-lookup"><span data-stu-id="21288-401">Tests the app's security by running the BinScope Binary Analyzer.</span></span> <span data-ttu-id="21288-402">Дополнительные сведения см. [здесь](/previous-versions/windows/hh920280(v=win.10)).</span><span class="sxs-lookup"><span data-stu-id="21288-402">For details, refer [here](/previous-versions/windows/hh920280(v=win.10)).</span></span>
-   <span data-ttu-id="21288-403">Корректирующие действия</span><span class="sxs-lookup"><span data-stu-id="21288-403">Corrective actions</span></span>
    -   <span data-ttu-id="21288-404">Устраните проблему, обнаруженную в тестах, и устраните ее.</span><span class="sxs-lookup"><span data-stu-id="21288-404">Troubleshoot and fix the problem identified by the tests.</span></span> <span data-ttu-id="21288-405">Выполните повторную сборку приложения и повторите тестирование.</span><span class="sxs-lookup"><span data-stu-id="21288-405">Rebuild and re-test the app.</span></span>

## <a name="high-dpi-test"></a><span data-ttu-id="21288-406">Тестирование с высоким разрешением</span><span class="sxs-lookup"><span data-stu-id="21288-406">High DPI test</span></span>

<span data-ttu-id="21288-407">Для приложений Win32 настоятельно рекомендуется учитывать DPI.</span><span class="sxs-lookup"><span data-stu-id="21288-407">It is highly recommended for the Win32 apps to be DPI aware.</span></span> <span data-ttu-id="21288-408">Это ключевой элемент, позволяющий обеспечить единообразное отображение пользовательского интерфейса приложения в различных параметрах отображения с высоким разрешением.</span><span class="sxs-lookup"><span data-stu-id="21288-408">It is the key to make the app UI look consistently good across a wide variety of high-DPI display settings.</span></span> <span data-ttu-id="21288-409">В приложении, не поддерживающем DPI, в параметрах дисплея с высоким разрешением могут возникать проблемы, например неправильное масштабирование элементов пользовательского интерфейса, обрезанный текст и размытые изображения.</span><span class="sxs-lookup"><span data-stu-id="21288-409">A non-DPI-aware app running on a high-DPI display setting may have problems such as incorrect scaling of UI elements, clipped text, and blurry images.</span></span> <span data-ttu-id="21288-410">Существует два способа объявления приложения с учетом DPI.</span><span class="sxs-lookup"><span data-stu-id="21288-410">There are two ways to declare an app is DPI aware.</span></span> <span data-ttu-id="21288-411">Один — объявить DPI.</span><span class="sxs-lookup"><span data-stu-id="21288-411">One is to declare DPI.</span></span>

-   <span data-ttu-id="21288-412">Историческая справка</span><span class="sxs-lookup"><span data-stu-id="21288-412">Background</span></span>
    -   <span data-ttu-id="21288-413">Эта проверка проверит два аспекта приложения: основные исполняемые файлы, например, пользовательские точки входа приложения должны быть манифестами для обеспечения высокого DPI и вызывать соответствующие API для поддержки высокого DPI.</span><span class="sxs-lookup"><span data-stu-id="21288-413">This check will validate two aspects of an app, the main executable(s) e.g. user facing app entry points must be manifested for HIGH-DPI awareness and that the proper APIs are being called to support HIGH-DPI.</span></span> <span data-ttu-id="21288-414">Приложение завершится ошибкой, если одно или оба этих условия отсутствуют.</span><span class="sxs-lookup"><span data-stu-id="21288-414">The app will fail if one or both of these conditions are missing.</span></span> <span data-ttu-id="21288-415">Эта проверка приводит к появлению нового раздела в отчете о рабочем столе, см. пример ниже.</span><span class="sxs-lookup"><span data-stu-id="21288-415">This check will introduce a new section in the desktop report, see example below.</span></span>
-   <span data-ttu-id="21288-416">Сведения о тесте</span><span class="sxs-lookup"><span data-stu-id="21288-416">Test Details</span></span>
    -   <span data-ttu-id="21288-417">Тест выдаст предупреждение при обнаружении следующих элементов:</span><span class="sxs-lookup"><span data-stu-id="21288-417">Test will generate a warning when we detect any of the following:</span></span>
        -   <span data-ttu-id="21288-418">Основной EXE-файл не объявляет сведения о DPI в своем манифесте и не вызывает API Сетпроцессдпиаваре.</span><span class="sxs-lookup"><span data-stu-id="21288-418">The main EXE doesn’t declare DPI awareness in its manifest and it doesn’t call SetProcessDPIAware API.</span></span> <span data-ttu-id="21288-419">(Предупредите разработчика, если он забудет добавить манифест осведомленности о DPI).</span><span class="sxs-lookup"><span data-stu-id="21288-419">(Warn the developer if he forgets to add DPI awareness manifest).</span></span>
        -   <span data-ttu-id="21288-420">Основной EXE-файл не объявляет о соотношении DPI в своем манифесте, но вызывает API Сетпроцессдпиаваре (предупредите разработчика, что он должен использовать манифест для объявления осведомленности о DPI вместо вызова API).</span><span class="sxs-lookup"><span data-stu-id="21288-420">The main EXE doesn’t declare DPI awareness in its manifest, but it calls SetProcessDPIAware API (Warn the developer that he should use manifest to declare DPI awareness instead of calling the API).</span></span>
        -   <span data-ttu-id="21288-421">Маинексе объявляет сведения о DPI в своем манифесте, но также вызывает API Сетпроцессдпиаваре (предупредите разработчика, что вызов этого API не требуется).</span><span class="sxs-lookup"><span data-stu-id="21288-421">The mainEXE declares DPI awareness in its manifest, but it also calls SetProcessDPIAware API (Warn the developer that calling that API is not necessary).</span></span>
        -   <span data-ttu-id="21288-422">Для двоичных файлов, которые не являются главными исполняемыми файлами, если они вызывают API, выдайте предупреждение (вызов API не рекомендуется).</span><span class="sxs-lookup"><span data-stu-id="21288-422">For the binaries which are not main EXEs, if they calls the API, give a warning (Calling the API is not recommended).</span></span>
-   <span data-ttu-id="21288-423">Корректирующие действия</span><span class="sxs-lookup"><span data-stu-id="21288-423">Corrective actions</span></span>
    -   <span data-ttu-id="21288-424">Использование функции Сетпроцессдпиаваре () не рекомендуется.</span><span class="sxs-lookup"><span data-stu-id="21288-424">The use of SetProcessDPIAware() function is discouraged.</span></span> <span data-ttu-id="21288-425">Если библиотека DLL кэширует параметры DPI во время инициализации, вызов Сетпроцессдпиаваре () в приложении может создать условие состязания.</span><span class="sxs-lookup"><span data-stu-id="21288-425">If a DLL caches DPI settings during its initialization, invoking SetProcessDPIAware() in the app may generate a race condition.</span></span> <span data-ttu-id="21288-426">Вызов функции Сетпроцессдпиаваре () в библиотеке DLL не рекомендуется или.</span><span class="sxs-lookup"><span data-stu-id="21288-426">Calling SetProcessDPIAware() function in a DLL is not a good practice either.</span></span>
-   <span data-ttu-id="21288-427">Дополнительные сведения</span><span class="sxs-lookup"><span data-stu-id="21288-427">Additional Information</span></span>
    -   <span data-ttu-id="21288-428">[Написание приложений с высоким разрешением](https://msdn.microsoft.com/library/windows/desktop/mt843498(v=vs.85).aspx(d=robot))</span><span class="sxs-lookup"><span data-stu-id="21288-428">[Writing High-DPI apps](https://msdn.microsoft.com/library/windows/desktop/mt843498(v=vs.85).aspx(d=robot))</span></span>

 

 