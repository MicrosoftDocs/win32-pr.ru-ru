---
title: текслдб-PS
description: Инструкция по загрузке смещенной текстуры. В этой инструкции используется четвертый элемент (. a или. w) для смещения уровня детализации для выборки текстуры непосредственно перед выборкой.
ms.assetid: cafd72c9-b7bb-4e3f-8a8c-de26a4446864
ms.topic: reference
ms.date: 05/31/2018
topic_type:
- apiref
api_name: ''
api_type: ''
api_location: ''
ms.openlocfilehash: 912c4c61f6c1f2b6bef46c7c5b6ea17223df5eb8
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/20/2020
ms.locfileid: "104134018"
---
# <a name="texldb---ps"></a>текслдб-PS

Инструкция по загрузке смещенной текстуры. В этой инструкции используется четвертый элемент (. a или. w) для смещения уровня детализации для выборки текстуры непосредственно перед выборкой.

## <a name="syntax"></a>Синтаксис



| текслдб DST, src0, src1 |
|------------------------|



 

Где:

-   DST — это регистр назначения.
-   src0 — это исходный регистр, предоставляющий координаты текстуры для образца текстуры. См. раздел [регистрация координат текстуры](dx9-graphics-reference-asm-ps-registers-texture-coordinate.md).
-   src1 определяет [образец (Direct3D 9 ASM-PS)](dx9-graphics-reference-asm-ps-registers-sampler.md) \# , где \# указывает, какой номер образца текстуры следует вычислить. Этот образец связан с текстурой и состоянием выборки, определенным в [**D3DSAMPLERSTATETYPE**](/windows/desktop/direct3d9/d3dsamplerstatetype).

Ограничения при использовании текслдб см. в описании инструкций [текслд-PS \_ 2 \_ 0 и up](texld---ps-2-0.md) .

### <a name="ps_2_0-and-ps_2_x"></a>PS \_ 2 \_ 0 и PS \_ 2 \_ x

DST должен быть [временным регистром](dx9-graphics-reference-asm-ps-registers-temporary.md) (r \# ), и допускается только ксизв маска (маска по умолчанию).

src0 должен быть либо [регистром координаты текстуры](dx9-graphics-reference-asm-ps-registers-texture-coordinate.md) (t \# ), либо [временным регистром](dx9-graphics-reference-asm-ps-registers-temporary.md) (r \# ) без модификатора или свиззле.

src1 должны быть [образцами (Direct3D 9 ASM-PS)](dx9-graphics-reference-asm-ps-registers-sampler.md) без \# модификатора или свиззле.

Если \_ \_ бит крепления D3DD3DPSHADERCAPS2 0 нодепендентреадлимит не установлен (в D3DPSHADERCAPS2 \_ 0), данная инструкция текстуры (текслд, текслдп, текслдб, текслдд) может быть зависеть от третьего порядка. Инструкция текстуры, зависимая от первого порядка, представляет собой текстурную инструкцию, в которой одно из следующих:

-   src0 — это [временный регистр](dx9-graphics-reference-asm-ps-registers-temporary.md) (r \# ).
-   летнее время было записано еще раз.

Инструкция текстуры, зависимая от второго порядка, определяется как Текстурная инструкция, которая считывает или выполняет запись [во временный регистр](dx9-graphics-reference-asm-ps-registers-temporary.md) (r \# ), содержимое которого перед выполнением инструкции текстуры зависят (возможно, косвенно) от результата инструкции текстуры, зависящей от первого заказа. Инструкция текстуры, зависимая от (<sup>n),</sup>является производной от (n-1)-<sup>го</sup>порядка текстуры.

### <a name="ps_3_0"></a>PS \_ 3 \_ 0

src1 должны быть [образцами (Direct3D 9 ASM-PS)](dx9-graphics-reference-asm-ps-registers-sampler.md) без \# модификатора. Свиззле разрешено для src1, и при применении результаты поиска текстур предварительно свиззлед перед записью в летнее время.

## <a name="remarks"></a>Примечания



| Версии шейдеров пикселей | 1\_1 | 1\_2 | 1 \_ 3 | 1\_4 | 2 \_ 0 | 2 \_ x | 2 \_ SW | 3 \_ 0 | 3 \_ SW |
|-----------------------|------|------|------|------|------|------|-------|------|-------|
| текслдб                |      |      |      |      | x    | x    | x     | x    | x     |



 

текслдб отменяет уровень детализации mipmap, вычисленный обычным образом как часть примера процесса с помощью значения (со знаком) в src0. w. Положительные значения смещения приведут к тому, что выбирается меньшая MIP-карты, и наоборот. Для PS \_ 2 \_ 0 и PS \_ 2 \_ x значения смещения могут находиться в диапазоне от \[ -3,0, + 3,0 \] . Для PS \_ 3 \_ 0 значения смещения могут находиться в диапазоне от \[ -16,0, + 15,0 \] . Значения смещения за пределами этих диапазонов приводят к неопределенным результатам. Состояние образца D3DSAMP \_ мипмаплодбиас по-прежнему соблюдается, а к нему добавляется сдвиг текслдб, но для каждого пикселя. После того как пересмещенный уровень детализации будет вычислен, D3DSAMP \_ максмиплевел по-прежнему соблюдается и выполняется образец текстуры. После текслдб содержимое src0 не изменяется (если только DST не является одним и тем же регистром).

Количество координат, необходимых для выполнения образца текстуры для src0, зависит от того, как был объявлен src1, а также от компонента. w. Типы образцов объявляются с помощью [дкл \_ самплертипе (SM2, SM3-PS ASM)](dcl-samplertype---ps.md). Если src1 объявлен как 2D-образец, src0 должен содержать координаты. ксив; Если src1 объявляется как образец куба или как образец тома, src0 должен содержать координаты. ксизв. Допускается выборка двухмерной текстуры с помощью координат. ксизв (координата. z игнорируется).

Если исходная текстура содержит менее четырех компонентов, значения по умолчанию помещаются в отсутствующие компоненты. Значения по умолчанию зависят от формата текстуры, как показано в следующей таблице.



| Формат текстуры                                                                                          | Значения по умолчанию       |
|---------------------------------------------------------------------------------------------------------|----------------------|
| D3DFMT \_ R5G6B5, D3DFMT \_ R8G8B8, D3DFMT \_ 8, D3DFMT \_ L16, D3DFMT \_ R3G3B2, D3DFMT \_ CxV8U8, D3DFMT \_ L6V5U5 | A = 1,0              |
| D3DFMT \_ V8U8, D3DFMT \_ V16U16, D3DFMT \_ G16R16, D3DFMT \_ G16R16F, D3DFMT \_ G32R32F                          | B = A = 1,0          |
| D3DFMT \_ A8                                                                                              | R = G = B = 0,0      |
| D3DFMT \_ R16F, D3DFMT \_ R32F                                                                              | G = B = A = 1,0      |
| Все форматы глубины и трафарета                                                                               | R = B = 0,0, A = 1,0 |



 

## <a name="related-topics"></a>См. также

<dl> <dt>

[Инструкции шейдера пикселей](dx9-graphics-reference-asm-ps-instructions.md)
</dt> </dl>

 

 