---
description: API веб-служб на устройствах (WSDAPI) используется для разработки клиентских приложений, позволяющих находить и получать доступ к устройствам, а для разработки узлов устройств и связанных служб, работающих под управлением Windows Vista и Windows Server 2008.
ms.assetid: 2b23d7d3-3b06-48c8-993e-49c72b139624
title: Общие сведения о интерфейсах WSDAPI
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 1f3e728971741f97707c1dc72effdaf0ca17dbb2
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "105692810"
---
# <a name="overview-of-the-wsdapi-interfaces"></a><span data-ttu-id="bc4e4-103">Общие сведения о интерфейсах WSDAPI</span><span class="sxs-lookup"><span data-stu-id="bc4e4-103">Overview of the WSDAPI Interfaces</span></span>

<span data-ttu-id="bc4e4-104">API веб-служб на устройствах (WSDAPI) используется для разработки клиентских приложений, позволяющих находить и получать доступ к устройствам, а для разработки узлов устройств и связанных служб, работающих под управлением Windows Vista и Windows Server 2008.</span><span class="sxs-lookup"><span data-stu-id="bc4e4-104">Web Services on Devices API (WSDAPI) is used to develop client applications that find and access devices, and to develop device hosts and associated services that run on Windows Vista and Windows Server 2008.</span></span> <span data-ttu-id="bc4e4-105">API [обнаружения функций](/previous-versions/windows/desktop/fundisc/fd-portal) и средство [всдкодежен](web-services-for-devices-code-generator.md) — это дополнительные средства, которые можно использовать для разработки клиентов, устройств и служб.</span><span class="sxs-lookup"><span data-stu-id="bc4e4-105">The [Function Discovery](/previous-versions/windows/desktop/fundisc/fd-portal) API and the [WsdCodeGen](web-services-for-devices-code-generator.md) tool are supplemental tools that can be used for client, device host, and service development.</span></span> <span data-ttu-id="bc4e4-106">Интерфейсы WSDAPI можно использовать непосредственно для предоставления расширенной функциональности.</span><span class="sxs-lookup"><span data-stu-id="bc4e4-106">The WSDAPI interfaces can be used directly to expose advanced functionality.</span></span>

## <a name="major-wsdapi-interfaces"></a><span data-ttu-id="bc4e4-107">Основные интерфейсы WSDAPI</span><span class="sxs-lookup"><span data-stu-id="bc4e4-107">Major WSDAPI interfaces</span></span>

<span data-ttu-id="bc4e4-108">Четыре основных интерфейса WSDAPI: [**ивсдисковерипровидер**](/windows/desktop/api/WsdDisco/nn-wsddisco-iwsdiscoveryprovider), [**ивсдисковерипублишер**](/windows/desktop/api/WsdDisco/nn-wsddisco-iwsdiscoverypublisher), [**ивсддевицепрокси**](/windows/desktop/api/WsdClient/nn-wsdclient-iwsddeviceproxy)и [**ивсддевицехост**](/windows/desktop/api/WsdHost/nn-wsdhost-iwsddevicehost).</span><span class="sxs-lookup"><span data-stu-id="bc4e4-108">The four major WSDAPI interfaces are [**IWSDiscoveryProvider**](/windows/desktop/api/WsdDisco/nn-wsddisco-iwsdiscoveryprovider), [**IWSDiscoveryPublisher**](/windows/desktop/api/WsdDisco/nn-wsddisco-iwsdiscoverypublisher), [**IWSDDeviceProxy**](/windows/desktop/api/WsdClient/nn-wsdclient-iwsddeviceproxy), and [**IWSDDeviceHost**](/windows/desktop/api/WsdHost/nn-wsdhost-iwsddevicehost).</span></span> <span data-ttu-id="bc4e4-109">Список всех интерфейсов WSDAPI см. в разделе [Web Services on Devices interfaces](web-services-for-devices-interfaces.md).</span><span class="sxs-lookup"><span data-stu-id="bc4e4-109">For a list of all of the WSDAPI interfaces, see [Web Services on Devices Interfaces](web-services-for-devices-interfaces.md).</span></span>

## <a name="iwsdiscoveryprovider"></a><span data-ttu-id="bc4e4-110">ивсдисковерипровидер</span><span class="sxs-lookup"><span data-stu-id="bc4e4-110">IWSDiscoveryProvider</span></span>

<span data-ttu-id="bc4e4-111">[**Ивсдисковерипровидер**](/windows/desktop/api/WsdDisco/nn-wsddisco-iwsdiscoveryprovider) используется для реализации функции WS-Discovery на клиентах.</span><span class="sxs-lookup"><span data-stu-id="bc4e4-111">[**IWSDiscoveryProvider**](/windows/desktop/api/WsdDisco/nn-wsddisco-iwsdiscoveryprovider) is used to implement WS-Discovery functionality on clients.</span></span>

<span data-ttu-id="bc4e4-112">[**Ивсдисковерипровидер**](/windows/desktop/api/WsdDisco/nn-wsddisco-iwsdiscoveryprovider) проблемы WS-Discovery [проверку](probe-message.md) и [разрешение](resolve-message.md) сообщений, а затем получает сообщения [Hello](hello-message.md), [Bye](bye-message.md), [ProbeMatch](probematches-message.md)и [ресолвематчес](resolvematches-message.md) .</span><span class="sxs-lookup"><span data-stu-id="bc4e4-112">[**IWSDiscoveryProvider**](/windows/desktop/api/WsdDisco/nn-wsddisco-iwsdiscoveryprovider) issues WS-Discovery [Probe](probe-message.md) and [Resolve](resolve-message.md) messages, and receives [Hello](hello-message.md), [Bye](bye-message.md), [ProbeMatches](probematches-message.md), and [ResolveMatches](resolvematches-message.md) messages.</span></span> <span data-ttu-id="bc4e4-113">Используйте сведения, полученные через интерфейс **ивсдисковерипровидер** при создании интерфейса [**ивсддевицепрокси**](/windows/desktop/api/WsdClient/nn-wsdclient-iwsddeviceproxy) , используемого для описания и управления конкретным устройством DPWS.</span><span class="sxs-lookup"><span data-stu-id="bc4e4-113">Use the information retrieved through the **IWSDiscoveryProvider** interface when creating an [**IWSDDeviceProxy**](/windows/desktop/api/WsdClient/nn-wsdclient-iwsddeviceproxy) interface used to describe and control a specific DPWS device.</span></span>

<span data-ttu-id="bc4e4-114">Интерфейс [**ивсдисковерипровидер**](/windows/desktop/api/WsdDisco/nn-wsddisco-iwsdiscoveryprovider) необязателен при простом разрешении определенного адреса DPWS устройства перед созданием прокси-сервера устройства.</span><span class="sxs-lookup"><span data-stu-id="bc4e4-114">An [**IWSDiscoveryProvider**](/windows/desktop/api/WsdDisco/nn-wsddisco-iwsdiscoveryprovider) interface is not necessary when simply resolving a particular DPWS device address before creating a device proxy.</span></span> <span data-ttu-id="bc4e4-115">[**Всдкреатедевицепрокси**](/windows/desktop/api/WsdClient/nf-wsdclient-wsdcreatedeviceproxy) будет автоматически разрешать адрес устройства, если это необходимо.</span><span class="sxs-lookup"><span data-stu-id="bc4e4-115">[**WSDCreateDeviceProxy**](/windows/desktop/api/WsdClient/nf-wsdclient-wsdcreatedeviceproxy) will automatically resolve the device address if required.</span></span>

<span data-ttu-id="bc4e4-116">API [обнаружения функций](/previous-versions/windows/desktop/fundisc/fd-portal) можно использовать для универсального обнаружения устройств и служб, так как API может обнаруживать DPWS устройства, а также устройства, использующие другие протоколы.</span><span class="sxs-lookup"><span data-stu-id="bc4e4-116">The [Function Discovery](/previous-versions/windows/desktop/fundisc/fd-portal) API can be used for generic device and service discovery, as the API can discover DPWS devices and also devices using other protocols.</span></span> <span data-ttu-id="bc4e4-117">При написании универсального приложения обнаружения рассмотрите возможность использования обнаружения функций.</span><span class="sxs-lookup"><span data-stu-id="bc4e4-117">Consider using Function Discovery when writing a generic discovery application.</span></span>

## <a name="iwsdiscoverypublisher"></a><span data-ttu-id="bc4e4-118">ивсдисковерипублишер</span><span class="sxs-lookup"><span data-stu-id="bc4e4-118">IWSDiscoveryPublisher</span></span>

<span data-ttu-id="bc4e4-119">[**Ивсдисковерипублишер**](/windows/desktop/api/WsdDisco/nn-wsddisco-iwsdiscoverypublisher) используется для реализации WS-Discovery функциональных возможностей в целевых службах, таких как устройства.</span><span class="sxs-lookup"><span data-stu-id="bc4e4-119">[**IWSDiscoveryPublisher**](/windows/desktop/api/WsdDisco/nn-wsddisco-iwsdiscoverypublisher) is used to implement WS-Discovery functionality on target services, such as devices.</span></span>

<span data-ttu-id="bc4e4-120">[**Ивсдисковерипублишер**](/windows/desktop/api/WsdDisco/nn-wsddisco-iwsdiscoverypublisher) позволяет приложению публиковать свое присутствие с помощью WS-Discovery сообщений Hello и Bye.</span><span class="sxs-lookup"><span data-stu-id="bc4e4-120">[**IWSDiscoveryPublisher**](/windows/desktop/api/WsdDisco/nn-wsddisco-iwsdiscoverypublisher) allows an application to publish its presence using WS-Discovery Hello and Bye messages.</span></span> <span data-ttu-id="bc4e4-121">Этот интерфейс позволяет приложению получать зонды и разрешать запросы, а затем создавать и отправлять ответы ProbeMatch и Ресолвематчес.</span><span class="sxs-lookup"><span data-stu-id="bc4e4-121">This interface allows an application to receive Probe and Resolve requests, and construct and send ProbeMatches and ResolveMatches responses.</span></span>

<span data-ttu-id="bc4e4-122">Интерфейс [**ивсдисковерипублишер**](/windows/desktop/api/WsdDisco/nn-wsddisco-iwsdiscoverypublisher) необязателен, если просто публикуется существование объекта [**ивсддевицехост**](/windows/desktop/api/WsdHost/nn-wsdhost-iwsddevicehost) .</span><span class="sxs-lookup"><span data-stu-id="bc4e4-122">An [**IWSDiscoveryPublisher**](/windows/desktop/api/WsdDisco/nn-wsddisco-iwsdiscoverypublisher) interface is not necessary when simply publishing the existence of an [**IWSDDeviceHost**](/windows/desktop/api/WsdHost/nn-wsdhost-iwsddevicehost) object.</span></span> <span data-ttu-id="bc4e4-123">**Ивсддевицехост** управляет собственным присутствием WS-Discovery.</span><span class="sxs-lookup"><span data-stu-id="bc4e4-123">**IWSDDeviceHost** manages its own WS-Discovery presence.</span></span>

## <a name="iwsddeviceproxy"></a><span data-ttu-id="bc4e4-124">ивсддевицепрокси</span><span class="sxs-lookup"><span data-stu-id="bc4e4-124">IWSDDeviceProxy</span></span>

<span data-ttu-id="bc4e4-125">[**Ивсддевицепрокси**](/windows/desktop/api/WsdClient/nn-wsdclient-iwsddeviceproxy) используется для реализации функций WS-Discovery, WS-MetadataExchange и управления на стороне клиента.</span><span class="sxs-lookup"><span data-stu-id="bc4e4-125">[**IWSDDeviceProxy**](/windows/desktop/api/WsdClient/nn-wsdclient-iwsddeviceproxy) is used to implement client-side WS-Discovery, WS-MetadataExchange, and control functionality.</span></span> <span data-ttu-id="bc4e4-126">Эта функция включает необязательные возможности безопасного канала, WS-Eventing и вложений.</span><span class="sxs-lookup"><span data-stu-id="bc4e4-126">This functionality includes optional secure channel, WS-Eventing, and attachment capabilities.</span></span>

<span data-ttu-id="bc4e4-127">Интерфейс [**ивсддевицепрокси**](/windows/desktop/api/WsdClient/nn-wsdclient-iwsddeviceproxy) имеет три следующих применения.</span><span class="sxs-lookup"><span data-stu-id="bc4e4-127">The [**IWSDDeviceProxy**](/windows/desktop/api/WsdClient/nn-wsdclient-iwsddeviceproxy) interface has the following three uses.</span></span>

-   <span data-ttu-id="bc4e4-128">Разрешает адреса логических устройств, если это необходимо.</span><span class="sxs-lookup"><span data-stu-id="bc4e4-128">Resolves logical device addresses, if necessary.</span></span>
-   <span data-ttu-id="bc4e4-129">Инициирует запросы метаданных к устройствам для перечисления типов и адресов служб.</span><span class="sxs-lookup"><span data-stu-id="bc4e4-129">Initiates metadata requests to devices to enumerate the types and addresses of services.</span></span>
-   <span data-ttu-id="bc4e4-130">Предоставляет источник для объектов [**ивсдсервицепрокси**](/windows/desktop/api/WsdClient/nn-wsdclient-iwsdserviceproxy) , которые можно использовать для выдаче управляющих сообщений конкретным службам на устройстве.</span><span class="sxs-lookup"><span data-stu-id="bc4e4-130">Provides a source for [**IWSDServiceProxy**](/windows/desktop/api/WsdClient/nn-wsdclient-iwsdserviceproxy) objects, which can be used to issue control messages to specific services on a device.</span></span>

<span data-ttu-id="bc4e4-131">Объект [**ивсддевицепрокси**](/windows/desktop/api/WsdClient/nn-wsdclient-iwsddeviceproxy) обычно создается и используется целиком в коде, созданном [всдкодежен](web-services-for-devices-code-generator.md).</span><span class="sxs-lookup"><span data-stu-id="bc4e4-131">The [**IWSDDeviceProxy**](/windows/desktop/api/WsdClient/nn-wsdclient-iwsddeviceproxy) object is typically created and used entirely inside code generated by [WsdCodeGen](web-services-for-devices-code-generator.md).</span></span>

## <a name="iwsddevicehost"></a><span data-ttu-id="bc4e4-132">ивсддевицехост</span><span class="sxs-lookup"><span data-stu-id="bc4e4-132">IWSDDeviceHost</span></span>

<span data-ttu-id="bc4e4-133">[**Ивсддевицехост**](/windows/desktop/api/WsdHost/nn-wsdhost-iwsddevicehost) используется для реализации функций WS-Discovery, WS-MetadataExchange и размещения служб на стороне устройства.</span><span class="sxs-lookup"><span data-stu-id="bc4e4-133">[**IWSDDeviceHost**](/windows/desktop/api/WsdHost/nn-wsdhost-iwsddevicehost) is used to implement device-side WS-Discovery, WS-MetadataExchange, and service hosting functionality.</span></span> <span data-ttu-id="bc4e4-134">Размещенные службы могут реагировать на управляющие сообщения и могут поддерживать безопасный канал, WS-Eventing и вложения.</span><span class="sxs-lookup"><span data-stu-id="bc4e4-134">Hosted services may respond to control messages, and may support secure channel, WS-Eventing, and attachment capabilities.</span></span>

<span data-ttu-id="bc4e4-135">Интерфейс [**ивсддевицехост**](/windows/desktop/api/WsdHost/nn-wsdhost-iwsddevicehost) использует следующие способы.</span><span class="sxs-lookup"><span data-stu-id="bc4e4-135">The [**IWSDDeviceHost**](/windows/desktop/api/WsdHost/nn-wsdhost-iwsddevicehost) interface has the following uses.</span></span>

-   <span data-ttu-id="bc4e4-136">Размещает объекты службы.</span><span class="sxs-lookup"><span data-stu-id="bc4e4-136">Hosts service objects.</span></span>
-   <span data-ttu-id="bc4e4-137">Сообщает о присутствии узла устройства в сети с помощью WS-Discovery.</span><span class="sxs-lookup"><span data-stu-id="bc4e4-137">Announces the presence of a device host on the network using WS-Discovery.</span></span>
-   <span data-ttu-id="bc4e4-138">Реагирует на запросы WS-MetadataExchange и описывает типы и расположения размещенных служб.</span><span class="sxs-lookup"><span data-stu-id="bc4e4-138">Responds to WS-MetadataExchange requests and describes the types and locations of hosted services.</span></span>
-   <span data-ttu-id="bc4e4-139">Отправляет сетевые запросы в объекты службы.</span><span class="sxs-lookup"><span data-stu-id="bc4e4-139">Dispatches network requests into service objects.</span></span>

<span data-ttu-id="bc4e4-140">Функции управления подписками WS-Discovery, WS-MetadataExchange и WS-Eventing полностью обрабатываются в объекте узла устройства.</span><span class="sxs-lookup"><span data-stu-id="bc4e4-140">WS-Discovery, WS-MetadataExchange, and WS-Eventing subscription management functionality is handled entirely within the device host object.</span></span> <span data-ttu-id="bc4e4-141">Чтобы служба могла быть размещена внутри узла устройства, должны выполняться следующие требования.</span><span class="sxs-lookup"><span data-stu-id="bc4e4-141">Before a service can be hosted inside a device host, the following requirements must be met.</span></span>

-   <span data-ttu-id="bc4e4-142">Узел должен быть создан путем вызова [**всдкреатедевицехост**](/windows/desktop/api/WsdHost/nf-wsdhost-wsdcreatedevicehost).</span><span class="sxs-lookup"><span data-stu-id="bc4e4-142">The host must be created by calling [**WSDCreateDeviceHost**](/windows/desktop/api/WsdHost/nf-wsdhost-wsdcreatedevicehost).</span></span>
-   <span data-ttu-id="bc4e4-143">Необходимо зарегистрировать метаданные, связанные со службой.</span><span class="sxs-lookup"><span data-stu-id="bc4e4-143">The metadata associated with the service must be registered.</span></span>
-   <span data-ttu-id="bc4e4-144">Сама служба должна быть зарегистрирована.</span><span class="sxs-lookup"><span data-stu-id="bc4e4-144">The service itself must be registered.</span></span>
-   <span data-ttu-id="bc4e4-145">Необходимо запустить узел устройства.</span><span class="sxs-lookup"><span data-stu-id="bc4e4-145">The device host must be started.</span></span>

<span data-ttu-id="bc4e4-146">Объект [**ивсддевицехост**](/windows/desktop/api/WsdHost/nn-wsdhost-iwsddevicehost) обычно создается и используется внутри кода, созданного [всдкодежен](web-services-for-devices-code-generator.md).</span><span class="sxs-lookup"><span data-stu-id="bc4e4-146">The [**IWSDDeviceHost**](/windows/desktop/api/WsdHost/nn-wsdhost-iwsddevicehost) object is typically created and used inside code generated by [WsdCodeGen](web-services-for-devices-code-generator.md).</span></span>

 

 
