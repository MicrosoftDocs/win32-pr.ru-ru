---
description: Список диагностических процедур для использования при устранении неполадок в приложениях WSDAPI.
ms.assetid: befe4234-8d3a-4fc5-9a7d-faca94964af6
title: Устранение неполадок других приложений WSDAPI
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 28a421f26237cc14d07a43e00faeb6d8bf49aa02
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "105701784"
---
# <a name="troubleshooting-other-wsdapi-applications"></a><span data-ttu-id="a551b-103">Устранение неполадок других приложений WSDAPI</span><span class="sxs-lookup"><span data-stu-id="a551b-103">Troubleshooting Other WSDAPI Applications</span></span>

<span data-ttu-id="a551b-104">Приложения могут напрямую вызывать интерфейсы и функции WSDAPI для выполнения обнаружения устройств и обмена метаданными.</span><span class="sxs-lookup"><span data-stu-id="a551b-104">Applications can directly call into WSDAPI interfaces and functions to perform device discovery and metadata exchange.</span></span> <span data-ttu-id="a551b-105">Шаблоны сообщений, используемые этими приложениями, различаются.</span><span class="sxs-lookup"><span data-stu-id="a551b-105">The message patterns used by these applications vary.</span></span>

<span data-ttu-id="a551b-106">Цель этого руководство по устранению неполадок заключается в том, чтобы разработчики приложений могли успешно реализовать прокси-сервер устройства.</span><span class="sxs-lookup"><span data-stu-id="a551b-106">The goal of this troubleshooting guide is to help WSDAPI application developers successfully implement a device proxy.</span></span> <span data-ttu-id="a551b-107">Это средство не предназначено для диагностики всех аспектов WSDAPI.</span><span class="sxs-lookup"><span data-stu-id="a551b-107">This guide is not intended to help troubleshoot all aspects of WSDAPI.</span></span> <span data-ttu-id="a551b-108">Если прокси-сервер устройства был успешно создан, а клиент и узел могут видеть друг друга в сети, это не поможет решить проблемы приложения.</span><span class="sxs-lookup"><span data-stu-id="a551b-108">If the device proxy has been successfully created and the client and host can see each other on the network, then this guide cannot address the application's problems.</span></span> <span data-ttu-id="a551b-109">Чтобы устранить эти проблемы с приложением, следуйте инструкциям в разделе [Включение трассировки WSDAPI](enabling-wsdapi-tracing.md) и обратитесь в службу поддержки Майкрософт за дальнейшей помощью.</span><span class="sxs-lookup"><span data-stu-id="a551b-109">To troubleshoot these application problems, follow the instructions in [Enabling WSDAPI Tracing](enabling-wsdapi-tracing.md) and contact Microsoft support for further assistance.</span></span>

## <a name="troubleshooting-clients-calling-wsdcreatedeviceproxy"></a><span data-ttu-id="a551b-110">Устранение неполадок клиентов, вызывающих Всдкреатедевицепрокси</span><span class="sxs-lookup"><span data-stu-id="a551b-110">Troubleshooting clients calling WSDCreateDeviceProxy</span></span>

<span data-ttu-id="a551b-111">Приложения вызывают [**всдкреатедевицепрокси**](/windows/desktop/api/WsdClient/nf-wsdclient-wsdcreatedeviceproxy) для создания и инициализации экземпляра интерфейса [**ивсддевицепрокси**](/windows/desktop/api/WsdClient/nn-wsdclient-iwsddeviceproxy) .</span><span class="sxs-lookup"><span data-stu-id="a551b-111">Applications call [**WSDCreateDeviceProxy**](/windows/desktop/api/WsdClient/nf-wsdclient-wsdcreatedeviceproxy) to create and initialize an instance of the [**IWSDDeviceProxy**](/windows/desktop/api/WsdClient/nn-wsdclient-iwsddeviceproxy) interface.</span></span> <span data-ttu-id="a551b-112">Этот объект прокси-сервера устройства можно использовать для объявления служб на устройстве, а также для обмена метаданными.</span><span class="sxs-lookup"><span data-stu-id="a551b-112">This device proxy object can be used to advertise services on a device and also to exchange metadata.</span></span>

<span data-ttu-id="a551b-113">Приложение, вызывающее [**всдкреатедевицепрокси**](/windows/desktop/api/WsdClient/nf-wsdclient-wsdcreatedeviceproxy) , всегда использует следующие сообщения.</span><span class="sxs-lookup"><span data-stu-id="a551b-113">An application calling [**WSDCreateDeviceProxy**](/windows/desktop/api/WsdClient/nf-wsdclient-wsdcreatedeviceproxy) always uses the following messages.</span></span>

-   [<span data-ttu-id="a551b-114">Получить</span><span class="sxs-lookup"><span data-stu-id="a551b-114">Get</span></span>](get--metadata-exchange--http-request-and-message.md)
-   [<span data-ttu-id="a551b-115">GetResponse</span><span class="sxs-lookup"><span data-stu-id="a551b-115">GetResponse</span></span>](getresponse--metadata-exchange--message.md)

<span data-ttu-id="a551b-116">Приложение, вызывающее [**всдкреатедевицепрокси**](/windows/desktop/api/WsdClient/nf-wsdclient-wsdcreatedeviceproxy) , иногда использует следующие сообщения.</span><span class="sxs-lookup"><span data-stu-id="a551b-116">An application calling [**WSDCreateDeviceProxy**](/windows/desktop/api/WsdClient/nf-wsdclient-wsdcreatedeviceproxy) sometimes uses the following messages.</span></span>

-   [<span data-ttu-id="a551b-117">Разрешить</span><span class="sxs-lookup"><span data-stu-id="a551b-117">Resolve</span></span>](resolve-message.md)
-   [<span data-ttu-id="a551b-118">ресолвематчес</span><span class="sxs-lookup"><span data-stu-id="a551b-118">ResolveMatches</span></span>](resolvematches-message.md)

<span data-ttu-id="a551b-119">[Разрешения](resolve-message.md) и [ресолвематчес](resolvematches-message.md) сообщения создаются, когда адрес логического устройства (т. е. адрес устройства в формате urn: UUID: {GUID}) передается в *псздевицеид*.</span><span class="sxs-lookup"><span data-stu-id="a551b-119">[Resolve](resolve-message.md) and [ResolveMatches](resolvematches-message.md) messages are generated when a logical device address (that is, a device address of the form urn:uuid:{guid}) is passed to *pszDeviceId*.</span></span> <span data-ttu-id="a551b-120">Эти сообщения не создаются, когда адрес физического устройства передается в *псздевицеид*.</span><span class="sxs-lookup"><span data-stu-id="a551b-120">These messages are not generated when a physical device address is passed to *pszDeviceId*.</span></span> <span data-ttu-id="a551b-121">При использовании разрешения и Ресолвематчес сообщений они отправляются перед сообщениями [Get](get--metadata-exchange--http-request-and-message.md) и [GetResponse](getresponse--metadata-exchange--message.md) .</span><span class="sxs-lookup"><span data-stu-id="a551b-121">When Resolve and ResolveMatches messages are used, they are sent before the [Get](get--metadata-exchange--http-request-and-message.md) and [GetResponse](getresponse--metadata-exchange--message.md) messages.</span></span>

<span data-ttu-id="a551b-122">Следующие процедуры диагностики следует использовать (по порядку) для выявления проблем с приложением, вызывающим [**всдкреатедевицепрокси**](/windows/desktop/api/WsdClient/nf-wsdclient-wsdcreatedeviceproxy) с адресом физического устройства.</span><span class="sxs-lookup"><span data-stu-id="a551b-122">The following diagnostic procedures should be used (in order) to help identify problems with an application calling [**WSDCreateDeviceProxy**](/windows/desktop/api/WsdClient/nf-wsdclient-wsdcreatedeviceproxy) with a physical device address.</span></span>

1.  <span data-ttu-id="a551b-123">[Проверьте параметры адаптера и брандмауэра](inspecting-adapter-and-firewall-settings.md).</span><span class="sxs-lookup"><span data-stu-id="a551b-123">[Inspect adapter and firewall settings](inspecting-adapter-and-firewall-settings.md).</span></span>
2.  <span data-ttu-id="a551b-124">[Используйте универсальный узел и клиент для обмена метаданными HTTP](using-a-generic-host-and-client-for-http-metadata-exchange.md).</span><span class="sxs-lookup"><span data-stu-id="a551b-124">[Use a generic host and client for HTTP metadata exchange](using-a-generic-host-and-client-for-http-metadata-exchange.md).</span></span>
3.  <span data-ttu-id="a551b-125">[Используйте ведение журнала WinHTTP для проверки получения трафика](using-winhttp-logging-to-verify-get-traffic.md).</span><span class="sxs-lookup"><span data-stu-id="a551b-125">[Use WinHTTP logging to verify Get traffic](using-winhttp-logging-to-verify-get-traffic.md).</span></span>
4.  <span data-ttu-id="a551b-126">[Проверьте сетевые трассировки для обмена метаданными HTTP](inspecting-network-traces-for-http-metadata-exchange.md).</span><span class="sxs-lookup"><span data-stu-id="a551b-126">[Inspect network traces for HTTP metadata exchange](inspecting-network-traces-for-http-metadata-exchange.md).</span></span>

<span data-ttu-id="a551b-127">Следующие процедуры диагностики следует использовать (по порядку) для выявления проблем с приложением, вызывающим [**всдкреатедевицепрокси**](/windows/desktop/api/WsdClient/nf-wsdclient-wsdcreatedeviceproxy) с адресом логического устройства.</span><span class="sxs-lookup"><span data-stu-id="a551b-127">The following diagnostic procedures should be used (in order) to help identify problems with an application calling [**WSDCreateDeviceProxy**](/windows/desktop/api/WsdClient/nf-wsdclient-wsdcreatedeviceproxy) with a logical device address.</span></span>

1.  <span data-ttu-id="a551b-128">[Проверьте параметры адаптера и брандмауэра](inspecting-adapter-and-firewall-settings.md).</span><span class="sxs-lookup"><span data-stu-id="a551b-128">[Inspect adapter and firewall settings](inspecting-adapter-and-firewall-settings.md).</span></span>
2.  <span data-ttu-id="a551b-129">[Используйте универсальный узел и клиент для протокола UDP WS-Discovery](using-a-generic-host-and-client-for-udp-ws-discovery.md).</span><span class="sxs-lookup"><span data-stu-id="a551b-129">[Use a generic host and client for UDP WS-Discovery](using-a-generic-host-and-client-for-udp-ws-discovery.md).</span></span>
3.  <span data-ttu-id="a551b-130">[Используйте клиент отладки WSD для проверки многоадресного трафика](using-wsddebug-client-to-verify-multicast-traffic.md).</span><span class="sxs-lookup"><span data-stu-id="a551b-130">[Use WSD Debug Client to verify multicast traffic](using-wsddebug-client-to-verify-multicast-traffic.md).</span></span>
4.  <span data-ttu-id="a551b-131">[Проверьте сетевые трассировки для протокола UDP WS-Discovery](inspecting-network-traces-for-udp-ws-discovery.md).</span><span class="sxs-lookup"><span data-stu-id="a551b-131">[Inspect network traces for UDP WS-Discovery](inspecting-network-traces-for-udp-ws-discovery.md).</span></span>
5.  <span data-ttu-id="a551b-132">[Используйте универсальный узел и клиент для обмена метаданными HTTP](using-a-generic-host-and-client-for-http-metadata-exchange.md).</span><span class="sxs-lookup"><span data-stu-id="a551b-132">[Use a generic host and client for HTTP metadata exchange](using-a-generic-host-and-client-for-http-metadata-exchange.md).</span></span>
6.  <span data-ttu-id="a551b-133">[Используйте ведение журнала WinHTTP для проверки получения трафика](using-winhttp-logging-to-verify-get-traffic.md).</span><span class="sxs-lookup"><span data-stu-id="a551b-133">[Use WinHTTP logging to verify Get traffic](using-winhttp-logging-to-verify-get-traffic.md).</span></span>
7.  <span data-ttu-id="a551b-134">[Проверьте сетевые трассировки для обмена метаданными HTTP](inspecting-network-traces-for-http-metadata-exchange.md).</span><span class="sxs-lookup"><span data-stu-id="a551b-134">[Inspect network traces for HTTP metadata exchange](inspecting-network-traces-for-http-metadata-exchange.md).</span></span>

<span data-ttu-id="a551b-135">Убедитесь, что сообщения [Resolve](resolve-message.md) и [ресолвематчес](resolvematches-message.md) созданы и соответствуют требованиям к трафику.</span><span class="sxs-lookup"><span data-stu-id="a551b-135">Verify that [Resolve](resolve-message.md) and [ResolveMatches](resolvematches-message.md) messages are generated and meet traffic requirements.</span></span> <span data-ttu-id="a551b-136">Нет необходимости искать сообщения [зонда](probe-message.md) или [ProbeMatch](probematches-message.md) в выходных данных клиента отладки WSD или в трассировках сети.</span><span class="sxs-lookup"><span data-stu-id="a551b-136">It is not necessary to look for [Probe](probe-message.md) or [ProbeMatches](probematches-message.md) messages in the WSD Debug Client output or in the network traces.</span></span>

## <a name="troubleshooting-clients-calling-wsdcreatedeviceproxyadvanced"></a><span data-ttu-id="a551b-137">Устранение неполадок клиентов, вызывающих Всдкреатедевицепроксядванцед</span><span class="sxs-lookup"><span data-stu-id="a551b-137">Troubleshooting clients calling WSDCreateDeviceProxyAdvanced</span></span>

<span data-ttu-id="a551b-138">Приложения вызывают [**всдкреатедевицепроксядванцед**](/windows/desktop/api/WsdClient/nf-wsdclient-wsdcreatedeviceproxyadvanced) для создания и инициализации экземпляра интерфейса [**ивсддевицепрокси**](/windows/desktop/api/WsdClient/nn-wsdclient-iwsddeviceproxy) .</span><span class="sxs-lookup"><span data-stu-id="a551b-138">Applications call [**WSDCreateDeviceProxyAdvanced**](/windows/desktop/api/WsdClient/nf-wsdclient-wsdcreatedeviceproxyadvanced) to create and initialize an instance of the [**IWSDDeviceProxy**](/windows/desktop/api/WsdClient/nn-wsdclient-iwsddeviceproxy) interface.</span></span> <span data-ttu-id="a551b-139">В отличие от [**всдкреатедевицепрокси**](/windows/desktop/api/WsdClient/nf-wsdclient-wsdcreatedeviceproxy), **Всдкреатедевицепроксядванцед** имеет параметр *пдевицеаддресс* , который используется для определения адреса транспортного устройства.</span><span class="sxs-lookup"><span data-stu-id="a551b-139">Unlike [**WSDCreateDeviceProxy**](/windows/desktop/api/WsdClient/nf-wsdclient-wsdcreatedeviceproxy), **WSDCreateDeviceProxyAdvanced** has a *pDeviceAddress* parameter that is used to define the device transport address.</span></span> <span data-ttu-id="a551b-140">Если указан этот транспортный адрес, разрешение логического адреса не требуется, а [разрешения](resolve-message.md) и [ресолвематчес](resolvematches-message.md) сообщения не создаются.</span><span class="sxs-lookup"><span data-stu-id="a551b-140">If this transport address is specified, then logical address resolution is not required and [Resolve](resolve-message.md) and [ResolveMatches](resolvematches-message.md) messages are not generated.</span></span>

<span data-ttu-id="a551b-141">Если *пдевицеаддресс* имеет значение **null** , а *псздевицеид* является логическим адресом, необходимо разрешение [адреса и разрешение и](resolve-message.md) [ресолвематчес](resolvematches-message.md) сообщений.</span><span class="sxs-lookup"><span data-stu-id="a551b-141">If *pDeviceAddress* is set to **NULL** and *pszDeviceId* is a logical address, then address resolution is required and [Resolve](resolve-message.md) and [ResolveMatches](resolvematches-message.md) messages are generated.</span></span>

<span data-ttu-id="a551b-142">Следующие процедуры диагностики следует использовать (по порядку) для выявления проблем с приложением, вызывающим [**всдкреатедевицепроксядванцед**](/windows/desktop/api/WsdClient/nf-wsdclient-wsdcreatedeviceproxyadvanced) , с параметром _пдевицеаддресс_ , отличным от **null**.</span><span class="sxs-lookup"><span data-stu-id="a551b-142">The following diagnostic procedures should be used (in order) to help identify problems with an application calling [**WSDCreateDeviceProxyAdvanced**](/windows/desktop/api/WsdClient/nf-wsdclient-wsdcreatedeviceproxyadvanced) with a non-**NULL**_pDeviceAddress_ parameter.</span></span> <span data-ttu-id="a551b-143">Эти процедуры также можно использовать, если *пдевицеаддресс* имеет **значение NULL** , а *псздевицеид* — физический адрес.</span><span class="sxs-lookup"><span data-stu-id="a551b-143">These procedures can also be used when *pDeviceAddress* is **NULL** and *pszDeviceId* is a physical address.</span></span>

1.  <span data-ttu-id="a551b-144">[Проверьте параметры адаптера и брандмауэра](inspecting-adapter-and-firewall-settings.md).</span><span class="sxs-lookup"><span data-stu-id="a551b-144">[Inspect adapter and firewall settings](inspecting-adapter-and-firewall-settings.md).</span></span>
2.  <span data-ttu-id="a551b-145">[Используйте универсальный узел и клиент для обмена метаданными HTTP](using-a-generic-host-and-client-for-http-metadata-exchange.md).</span><span class="sxs-lookup"><span data-stu-id="a551b-145">[Use a generic host and client for HTTP metadata exchange](using-a-generic-host-and-client-for-http-metadata-exchange.md).</span></span>
3.  <span data-ttu-id="a551b-146">[Используйте ведение журнала WinHTTP для проверки получения трафика](using-winhttp-logging-to-verify-get-traffic.md).</span><span class="sxs-lookup"><span data-stu-id="a551b-146">[Use WinHTTP logging to verify Get traffic](using-winhttp-logging-to-verify-get-traffic.md).</span></span>
4.  <span data-ttu-id="a551b-147">[Проверьте сетевые трассировки для обмена метаданными HTTP](inspecting-network-traces-for-http-metadata-exchange.md).</span><span class="sxs-lookup"><span data-stu-id="a551b-147">[Inspect network traces for HTTP metadata exchange](inspecting-network-traces-for-http-metadata-exchange.md).</span></span>

<span data-ttu-id="a551b-148">Следующие процедуры диагностики следует использовать (по порядку) для выявления проблем с приложением, вызывающим [**всдкреатедевицепроксядванцед**](/windows/desktop/api/WsdClient/nf-wsdclient-wsdcreatedeviceproxyadvanced) с *пдевицеаддресс* , для которых задано **значение NULL** , а для *псздевицеид* задан логический адрес.</span><span class="sxs-lookup"><span data-stu-id="a551b-148">The following diagnostic procedures should be used (in order) to help identify problems with an application calling [**WSDCreateDeviceProxyAdvanced**](/windows/desktop/api/WsdClient/nf-wsdclient-wsdcreatedeviceproxyadvanced) with *pDeviceAddress* set to **NULL** and with *pszDeviceId* set to a logical address.</span></span>

1.  <span data-ttu-id="a551b-149">[Проверьте параметры адаптера и брандмауэра](inspecting-adapter-and-firewall-settings.md).</span><span class="sxs-lookup"><span data-stu-id="a551b-149">[Inspect adapter and firewall settings](inspecting-adapter-and-firewall-settings.md).</span></span>
2.  <span data-ttu-id="a551b-150">[Используйте универсальный узел и клиент для протокола UDP WS-Discovery](using-a-generic-host-and-client-for-udp-ws-discovery.md).</span><span class="sxs-lookup"><span data-stu-id="a551b-150">[Use a generic host and client for UDP WS-Discovery](using-a-generic-host-and-client-for-udp-ws-discovery.md).</span></span>
3.  <span data-ttu-id="a551b-151">[Используйте клиент отладки WSD для проверки многоадресного трафика](using-wsddebug-client-to-verify-multicast-traffic.md).</span><span class="sxs-lookup"><span data-stu-id="a551b-151">[Use WSD Debug Client to verify multicast traffic](using-wsddebug-client-to-verify-multicast-traffic.md).</span></span>
4.  <span data-ttu-id="a551b-152">[Проверьте сетевые трассировки для протокола UDP WS-Discovery](inspecting-network-traces-for-udp-ws-discovery.md).</span><span class="sxs-lookup"><span data-stu-id="a551b-152">[Inspect network traces for UDP WS-Discovery](inspecting-network-traces-for-udp-ws-discovery.md).</span></span>
5.  <span data-ttu-id="a551b-153">[Используйте универсальный узел и клиент для обмена метаданными HTTP](using-a-generic-host-and-client-for-http-metadata-exchange.md).</span><span class="sxs-lookup"><span data-stu-id="a551b-153">[Use a generic host and client for HTTP metadata exchange](using-a-generic-host-and-client-for-http-metadata-exchange.md).</span></span>
6.  <span data-ttu-id="a551b-154">[Используйте ведение журнала WinHTTP для проверки получения трафика](using-winhttp-logging-to-verify-get-traffic.md).</span><span class="sxs-lookup"><span data-stu-id="a551b-154">[Use WinHTTP logging to verify Get traffic](using-winhttp-logging-to-verify-get-traffic.md).</span></span>
7.  <span data-ttu-id="a551b-155">[Проверьте сетевые трассировки для обмена метаданными HTTP](inspecting-network-traces-for-http-metadata-exchange.md).</span><span class="sxs-lookup"><span data-stu-id="a551b-155">[Inspect network traces for HTTP metadata exchange](inspecting-network-traces-for-http-metadata-exchange.md).</span></span>

<span data-ttu-id="a551b-156">Убедитесь, что сообщения [Resolve](resolve-message.md) и [ресолвематчес](resolvematches-message.md) созданы и соответствуют требованиям к трафику.</span><span class="sxs-lookup"><span data-stu-id="a551b-156">Verify that [Resolve](resolve-message.md) and [ResolveMatches](resolvematches-message.md) messages are generated and meet traffic requirements.</span></span> <span data-ttu-id="a551b-157">Нет необходимости искать сообщения [зонда](probe-message.md) или [ProbeMatch](probematches-message.md) в выходных данных клиента отладки WSD или в трассировках сети.</span><span class="sxs-lookup"><span data-stu-id="a551b-157">It is not necessary to look for [Probe](probe-message.md) or [ProbeMatches](probematches-message.md) messages in the WSD Debug Client output or in the network traces.</span></span>

## <a name="troubleshooting-clients-using-the-iwsdiscoveryprovider-interface"></a><span data-ttu-id="a551b-158">Устранение неполадок клиентов с помощью интерфейса Ивсдисковерипровидер</span><span class="sxs-lookup"><span data-stu-id="a551b-158">Troubleshooting clients using the IWSDiscoveryProvider interface</span></span>

<span data-ttu-id="a551b-159">Приложения, вызывающие интерфейс [**ивсдисковерипровидер**](/windows/desktop/api/WsdDisco/nn-wsddisco-iwsdiscoveryprovider) , не выполняют обмен метаданными.</span><span class="sxs-lookup"><span data-stu-id="a551b-159">Applications calling into the [**IWSDiscoveryProvider**](/windows/desktop/api/WsdDisco/nn-wsddisco-iwsdiscoveryprovider) interface do not perform metadata exchange.</span></span> <span data-ttu-id="a551b-160">Этот интерфейс используется только для обнаружения.</span><span class="sxs-lookup"><span data-stu-id="a551b-160">This interface is only used for discovery.</span></span> <span data-ttu-id="a551b-161">Шаблоны сообщений и процедуры устранения неполадок различаются для каждого метода, вызываемого в интерфейсе **ивсдисковерипровидер** .</span><span class="sxs-lookup"><span data-stu-id="a551b-161">The message patterns and troubleshooting procedures are different for each method called on the **IWSDiscoveryProvider** interface.</span></span>

<span data-ttu-id="a551b-162">Когда приложение вызывает [**ивсдисковерипровидер:: сеарчбитипе**](/windows/desktop/api/WsdDisco/nf-wsddisco-iwsdiscoveryprovider-searchbytype), создается сообщение [пробы](probe-message.md) .</span><span class="sxs-lookup"><span data-stu-id="a551b-162">When an application calls [**IWSDiscoveryProvider::SearchByType**](/windows/desktop/api/WsdDisco/nf-wsddisco-iwsdiscoveryprovider-searchbytype), a [Probe](probe-message.md) message is generated.</span></span> <span data-ttu-id="a551b-163">Сообщение пробы отправляется с помощью многоадресной рассылки UDP на порт 3702.</span><span class="sxs-lookup"><span data-stu-id="a551b-163">The Probe message is sent by UDP multicast to port 3702.</span></span> <span data-ttu-id="a551b-164">В ответе создается сообщение [ProbeMatch](probematches-message.md) .</span><span class="sxs-lookup"><span data-stu-id="a551b-164">A [ProbeMatches](probematches-message.md) message is generated in response.</span></span> <span data-ttu-id="a551b-165">Сообщение ProbeMatch отправляется по адресу UDP и исходит из порта 3702.</span><span class="sxs-lookup"><span data-stu-id="a551b-165">The ProbeMatches message is sent by UDP unicast and it originates from port 3702.</span></span>

<span data-ttu-id="a551b-166">Когда приложение вызывает [**ивсдисковерипровидер:: сеарчбид**](/windows/desktop/api/WsdDisco/nf-wsddisco-iwsdiscoveryprovider-searchbyid), создается сообщение [разрешения](resolve-message.md) .</span><span class="sxs-lookup"><span data-stu-id="a551b-166">When an application calls [**IWSDiscoveryProvider::SearchById**](/windows/desktop/api/WsdDisco/nf-wsddisco-iwsdiscoveryprovider-searchbyid), a [Resolve](resolve-message.md) message is generated.</span></span> <span data-ttu-id="a551b-167">Сообщение с разрешением отправляется многоадресной передачей UDP на порт 3702.</span><span class="sxs-lookup"><span data-stu-id="a551b-167">A Resolve message is sent by UDP multicast to port 3702.</span></span> <span data-ttu-id="a551b-168">В ответе создается сообщение [ресолвематчес](resolvematches-message.md) .</span><span class="sxs-lookup"><span data-stu-id="a551b-168">A [ResolveMatches](resolvematches-message.md) message is generated in response.</span></span> <span data-ttu-id="a551b-169">Ресолвематчес отправляется по адресу UDP и исходит от порта 3702.</span><span class="sxs-lookup"><span data-stu-id="a551b-169">The ResolveMatches is sent by UDP unicast and it originates from port 3702.</span></span>

<span data-ttu-id="a551b-170">Следующие процедуры диагностики следует использовать (по порядку) для выявления проблем с приложением, вызывающим [**ивсдисковерипровидер:: сеарчбитипе**](/windows/desktop/api/WsdDisco/nf-wsddisco-iwsdiscoveryprovider-searchbytype) или [**Ивсдисковерипровидер:: сеарчбид**](/windows/desktop/api/WsdDisco/nf-wsddisco-iwsdiscoveryprovider-searchbyid).</span><span class="sxs-lookup"><span data-stu-id="a551b-170">The following diagnostic procedures should be used (in order) to help identify problems with an application calling [**IWSDiscoveryProvider::SearchByType**](/windows/desktop/api/WsdDisco/nf-wsddisco-iwsdiscoveryprovider-searchbytype) or [**IWSDiscoveryProvider::SearchById**](/windows/desktop/api/WsdDisco/nf-wsddisco-iwsdiscoveryprovider-searchbyid).</span></span> <span data-ttu-id="a551b-171">Убедитесь, что сообщения, созданные вызванным API, удовлетворяют требованиям к трафику.</span><span class="sxs-lookup"><span data-stu-id="a551b-171">Verify that the messages generated by the called API satisfy the traffic requirements.</span></span>

1.  <span data-ttu-id="a551b-172">[Проверьте параметры адаптера и брандмауэра](inspecting-adapter-and-firewall-settings.md).</span><span class="sxs-lookup"><span data-stu-id="a551b-172">[Inspect adapter and firewall settings](inspecting-adapter-and-firewall-settings.md).</span></span>
2.  <span data-ttu-id="a551b-173">[Используйте универсальный узел и клиент для протокола UDP WS-Discovery](using-a-generic-host-and-client-for-udp-ws-discovery.md).</span><span class="sxs-lookup"><span data-stu-id="a551b-173">[Use a generic host and client for UDP WS-Discovery](using-a-generic-host-and-client-for-udp-ws-discovery.md).</span></span>
3.  <span data-ttu-id="a551b-174">[Используйте клиент отладки WSD для проверки многоадресного трафика](using-wsddebug-client-to-verify-multicast-traffic.md).</span><span class="sxs-lookup"><span data-stu-id="a551b-174">[Use WSD Debug Client to verify multicast traffic](using-wsddebug-client-to-verify-multicast-traffic.md).</span></span>
4.  <span data-ttu-id="a551b-175">[Проверьте сетевые трассировки для протокола UDP WS-Discovery](inspecting-network-traces-for-udp-ws-discovery.md).</span><span class="sxs-lookup"><span data-stu-id="a551b-175">[Inspect network traces for UDP WS-Discovery](inspecting-network-traces-for-udp-ws-discovery.md).</span></span>

<span data-ttu-id="a551b-176">Если приложение вызывает [**ивсдисковерипровидер:: сеарчбяддресс**](/windows/desktop/api/WsdDisco/nf-wsddisco-iwsdiscoveryprovider-searchbyaddress), это приложение с направленным обнаружением.</span><span class="sxs-lookup"><span data-stu-id="a551b-176">If an application calls [**IWSDiscoveryProvider::SearchByAddress**](/windows/desktop/api/WsdDisco/nf-wsddisco-iwsdiscoveryprovider-searchbyaddress), then it is a directed discovery application.</span></span> <span data-ttu-id="a551b-177">Дополнительные сведения об устранении неполадок см. в разделе [Устранение неполадок приложений с помощью](troubleshooting-applications-using-directed-discovery.md)управляемого обнаружения.</span><span class="sxs-lookup"><span data-stu-id="a551b-177">For more troubleshooting information, see [Troubleshooting Applications Using Directed Discovery](troubleshooting-applications-using-directed-discovery.md).</span></span>

## <a name="related-topics"></a><span data-ttu-id="a551b-178">См. также</span><span class="sxs-lookup"><span data-stu-id="a551b-178">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="a551b-179">начало работы с разрешениями WSDAPI</span><span class="sxs-lookup"><span data-stu-id="a551b-179">Getting Started with WSDAPI Troubleshooting</span></span>](getting-started-with-wsdapi-troubleshooting.md)
</dt> </dl>

 

 



