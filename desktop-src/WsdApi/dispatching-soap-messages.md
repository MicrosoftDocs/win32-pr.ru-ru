---
description: Существует множество способов справиться с отправкой сообщений SOAP к соответствующей службе. Два простейших механизма — это доставка на транспортном уровне, а также отправка адресов и действий.
ms.assetid: 988dc505-5d1f-46df-9340-107483bb9581
title: Отправка сообщений SOAP
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: b4a60e896557a64b840ec890ddc5c5d2e2cf8295
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "104545866"
---
# <a name="dispatching-soap-messages"></a><span data-ttu-id="50738-104">Отправка сообщений SOAP</span><span class="sxs-lookup"><span data-stu-id="50738-104">Dispatching SOAP Messages</span></span>

<span data-ttu-id="50738-105">Существует множество способов справиться с отправкой сообщений SOAP к соответствующей службе.</span><span class="sxs-lookup"><span data-stu-id="50738-105">There are many ways to handle dispatching received SOAP messages to the appropriate service.</span></span> <span data-ttu-id="50738-106">Два простейших механизма — это доставка на транспортном уровне, а также отправка адресов и действий.</span><span class="sxs-lookup"><span data-stu-id="50738-106">The two simplest mechanisms are transport level dispatch, and address and action dispatch.</span></span>

## <a name="transport-level-dispatch"></a><span data-ttu-id="50738-107">Доставка транспортного уровня</span><span class="sxs-lookup"><span data-stu-id="50738-107">Transport level dispatch</span></span>

<span data-ttu-id="50738-108">При использовании диспетчеризации на транспортном уровне базовый HTTP-сервер (например, [API HTTP](/windows/desktop/Http/http-api-start-page)) используется для управления маршрутизацией запросов на устройство и его службы.</span><span class="sxs-lookup"><span data-stu-id="50738-108">With transport level dispatch, the underlying HTTP server (such as the [HTTP API](/windows/desktop/Http/http-api-start-page)) is used to manage routing of requests to the device and its services.</span></span> <span data-ttu-id="50738-109">Сервер предоставляет разные URL-адреса для каждой службы, а для устройства и различные приемники регистрируются для каждого URL-адреса.</span><span class="sxs-lookup"><span data-stu-id="50738-109">The server provides a different URL for each service and for the device and different sinks are registered for each URL.</span></span> <span data-ttu-id="50738-110">Это позволяет разрабатывать код таким образом, чтобы каждая служба была изолирована от другой, либо выполняется как отдельные компоненты в рамках одного процесса, либо выполняется как отдельные процессы.</span><span class="sxs-lookup"><span data-stu-id="50738-110">This allows code to be designed such that each service is isolated from the other, either running as separate components within the same process or running as separate processes.</span></span>

<span data-ttu-id="50738-111">Доставка на транспортном уровне имеет несколько преимуществ.</span><span class="sxs-lookup"><span data-stu-id="50738-111">Transport level dispatch has a few advantages.</span></span> <span data-ttu-id="50738-112">Сообщения можно отправить в соответствующий компонент без предварительного анализа конверта SOAP или текста сообщения.</span><span class="sxs-lookup"><span data-stu-id="50738-112">Messages can be dispatched to the appropriate component without first parsing the SOAP envelope or message body.</span></span> <span data-ttu-id="50738-113">Кроме того, можно повторно использовать существующий механизм маршрутизации сообщений, предоставляемых большинством реализаций HTTP-серверов. Это означает, что пользовательский код диспетчеризации не нужен.</span><span class="sxs-lookup"><span data-stu-id="50738-113">Also, the existing mechanism for routing messages provided by most HTTP server implementations can be reused, which means custom dispatching code is unnecessary.</span></span> <span data-ttu-id="50738-114">Он также изолирует код обработки SOAP между службами, что обеспечивает уровень безопасности, так как защищенные службы не позволяют перемещать сообщения через общий код.</span><span class="sxs-lookup"><span data-stu-id="50738-114">It also isolates the SOAP processing code between services, which provides a level of security, as secure services avoid having messages travel through common code.</span></span>

## <a name="address-and-action-dispatch"></a><span data-ttu-id="50738-115">Отправка адреса и действия</span><span class="sxs-lookup"><span data-stu-id="50738-115">Address and action dispatch</span></span>

<span data-ttu-id="50738-116">Адрес и отправка действий полагаются на заголовки SOAP для определения соответствующей службы, для которой отправляется сообщение.</span><span class="sxs-lookup"><span data-stu-id="50738-116">Address and action dispatch relies on the SOAP headers to determine the appropriate service to which the message is dispatched.</span></span> <span data-ttu-id="50738-117">Эта модель также может использовать дополнительные сведения, например параметры ссылок, для дальнейшей помощи в диспетчеризации.</span><span class="sxs-lookup"><span data-stu-id="50738-117">This model may also use additional information, such as reference parameters, to further help dispatching.</span></span>

<span data-ttu-id="50738-118">Эта модель способствует повторному использованию кода во всем многоуровневой стеке обмена сообщениями, так как весь код процессора SOAP совместно используется всеми службами.</span><span class="sxs-lookup"><span data-stu-id="50738-118">This model encourages code reuse throughout a layered messaging stack, as all code up to the SOAP processor is shared by all services.</span></span> <span data-ttu-id="50738-119">Кроме того, разные транспортные адреса для служб не являются обязательными. Это означает, что адреса UUID можно использовать для конечных точек службы.</span><span class="sxs-lookup"><span data-stu-id="50738-119">Also, distinct transport addresses for services are not required, which means that UUID addresses can be used for service endpoints.</span></span> <span data-ttu-id="50738-120">Адрес и отправка действий также преобразуются непосредственно в модель программирования.</span><span class="sxs-lookup"><span data-stu-id="50738-120">Address and action dispatch also translates more directly to a programming model.</span></span> <span data-ttu-id="50738-121">Разработчики могут подключать службы и устройства к одному компоненту, который управляет маршрутизацией, а не привязывать их к уровню HTTP или создавать отдельные компоненты для каждой службы.</span><span class="sxs-lookup"><span data-stu-id="50738-121">Developers can plug services and devices into a single component which manages routing, rather than having to tie into a HTTP layer or creating separate components for each service.</span></span>

 

 
