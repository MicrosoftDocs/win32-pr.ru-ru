---
description: Описывает средства, с помощью которых приложение или поставщик услуг может подключаться к смарт-карте с помощью подсистемы смарт-карт.
ms.assetid: 27f8f25f-1883-4070-94a4-0d3c51032378
title: Доступ к смарт-карте
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: b155d467c9de28b1e02dea01511ea1e71d574eb1
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "105650844"
---
# <a name="accessing-a-smart-card"></a><span data-ttu-id="533cb-103">Доступ к смарт-карте</span><span class="sxs-lookup"><span data-stu-id="533cb-103">Accessing a Smart Card</span></span>

<span data-ttu-id="533cb-104">Подсистема [*смарт-карт*](/windows/desktop/SecGloss/s-gly) предоставляет несколько средств для подключения поставщика приложения или [*службы*](/windows/desktop/SecGloss/c-gly) к смарт-карте:</span><span class="sxs-lookup"><span data-stu-id="533cb-104">The [*smart card*](/windows/desktop/SecGloss/s-gly) subsystem provides several means for an application or [*service provider*](/windows/desktop/SecGloss/c-gly) to connect to a smart card:</span></span>

-   <span data-ttu-id="533cb-105">Приложение может вызвать [**скардконнект**](/windows/desktop/api/Winscard/nf-winscard-scardconnecta) для подключения к карточке, которая находится в данном модуле чтения.</span><span class="sxs-lookup"><span data-stu-id="533cb-105">An application can call [**SCardConnect**](/windows/desktop/api/Winscard/nf-winscard-scardconnecta) to connect to a card that resides in a given reader.</span></span> <span data-ttu-id="533cb-106">Это самый простой способ установить связь со смарт-картой.</span><span class="sxs-lookup"><span data-stu-id="533cb-106">This is the simplest way to establish communication with a smart card.</span></span>
-   <span data-ttu-id="533cb-107">Приложение может искать определенную смарт-карту в заданной группе читателей.</span><span class="sxs-lookup"><span data-stu-id="533cb-107">An application can search for a specific smart card within a given reader group.</span></span> <span data-ttu-id="533cb-108">Приложение идентифицирует карточку по ее отображаемому имени и указывает список читателей, в которых может появиться карточка.</span><span class="sxs-lookup"><span data-stu-id="533cb-108">The application identifies the card by its display name, and specifies a list of readers in which the card may appear.</span></span> <span data-ttu-id="533cb-109">[*Диспетчер ресурсов*](/windows/desktop/SecGloss/r-gly) выполняет поиск в списке модулей чтения для всех карточек со [*строкой ATR*](/windows/desktop/SecGloss/a-gly) , соответствующей именованной карточке, и возвращает сведения о состоянии приложению.</span><span class="sxs-lookup"><span data-stu-id="533cb-109">The [*resource manager*](/windows/desktop/SecGloss/r-gly) searches the list of readers for any cards with an [*ATR string*](/windows/desktop/SecGloss/a-gly) that matches the named card, and returns status information to the application.</span></span> <span data-ttu-id="533cb-110">[*Подсистема смарт-карт*](/windows/desktop/SecGloss/s-gly) никогда не помещает графический пользовательский интерфейс или взаимодействует с картой, если вы не получите строку ATR.</span><span class="sxs-lookup"><span data-stu-id="533cb-110">The [*smart card subsystem*](/windows/desktop/SecGloss/s-gly) never puts up a GUI or interacts with the card beyond obtaining the ATR string.</span></span> <span data-ttu-id="533cb-111">Однако он предоставляет достаточно информации для приложения или общего элемента управления, чтобы проанализировать пользователя с помощью поиска нужной карты или типа карты.</span><span class="sxs-lookup"><span data-stu-id="533cb-111">It does, however, supply sufficient information for the application or a common control to be able to walk the user through locating the desired card or card type.</span></span> <span data-ttu-id="533cb-112">Это приводит к сопоставлению запроса с конкретным модулем чтения, на который направляется дальнейший ввод-вывод.</span><span class="sxs-lookup"><span data-stu-id="533cb-112">This results in mapping the request to a specific reader, to which further I/O is directed.</span></span>
-   <span data-ttu-id="533cb-113">Приложение может запросить список карточек, поддерживающих заданный набор интерфейсов смарт-карт.</span><span class="sxs-lookup"><span data-stu-id="533cb-113">An application can request a list of cards supporting a given set of smart card interfaces.</span></span> <span data-ttu-id="533cb-114">Затем приложение может использовать список в предыдущем случае.</span><span class="sxs-lookup"><span data-stu-id="533cb-114">The application can then use the list in the previous case.</span></span> <span data-ttu-id="533cb-115">Это позволяет приложениям подключаться к картам в зависимости от их возможностей, не обращаясь к их именам.</span><span class="sxs-lookup"><span data-stu-id="533cb-115">This allows applications to connect to cards based on their capabilities, without regard to their names.</span></span>

<span data-ttu-id="533cb-116">Когда приложение ищет карточку, оно предоставляет массив имен модулей чтения, в котором будет выглядеть.</span><span class="sxs-lookup"><span data-stu-id="533cb-116">When an application looks for a card, it supplies an array of reader names in which to look.</span></span> <span data-ttu-id="533cb-117">Для каждого элемента Reader в массиве диспетчер ресурсов предоставляет следующие сведения:</span><span class="sxs-lookup"><span data-stu-id="533cb-117">For each reader element in the array, the resource manager supplies the following information:</span></span>

-   <span data-ttu-id="533cb-118">Доступно ли средство чтения для использования этим приложением.</span><span class="sxs-lookup"><span data-stu-id="533cb-118">Whether the reader is available for use by this application.</span></span>
-   <span data-ttu-id="533cb-119">Указывает, вставлена ли в этот модуль чтения карта, и если да, то какова ее строка ATR.</span><span class="sxs-lookup"><span data-stu-id="533cb-119">Whether there is a card inserted into this reader, and if so, what its ATR string is.</span></span>
-   <span data-ttu-id="533cb-120">Совпадает ли строка ATR карточки с любыми строками "ATR" запрашиваемых карточек.</span><span class="sxs-lookup"><span data-stu-id="533cb-120">Whether the card's ATR string matches any of the requested cards' ATR strings.</span></span>

<span data-ttu-id="533cb-121">Приложение использует возвращенные сведения для применения дополнительных фильтров к картам или для запроса пользователя на выбор нужной карточки.</span><span class="sxs-lookup"><span data-stu-id="533cb-121">The application uses the returned information to apply further filters to the cards or to prompt the user to select the desired card.</span></span> <span data-ttu-id="533cb-122">Обратите внимание, что один или несколько возвращенных списков читателей могут быть открыты для монопольного использования другими приложениями, поэтому доступ к этому списку читателей не гарантируется.</span><span class="sxs-lookup"><span data-stu-id="533cb-122">Note that one or more of the returned list of readers may be opened for exclusive use by other applications, so access to this list of readers is not guaranteed.</span></span>

 

 
