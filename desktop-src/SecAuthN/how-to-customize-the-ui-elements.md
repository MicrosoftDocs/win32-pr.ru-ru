---
description: Веб-страница настраивает пользовательский интерфейс с заголовком, значком и цветом заголовка с помощью тегов метаданных, определенных на веб-странице.
ms.assetid: 6F1E0B2E-E013-4C5B-86A4-0AF8606D0C12
title: Настройка элементов пользовательского интерфейса
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 19314f8e4c5d4944a500a0eef3aa0f75cd231b12
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "103911880"
---
# <a name="how-to-customize-the-ui-elements"></a><span data-ttu-id="a9975-103">Настройка элементов пользовательского интерфейса</span><span class="sxs-lookup"><span data-stu-id="a9975-103">How to customize the UI elements</span></span>

<span data-ttu-id="a9975-104">Веб-страница настраивает пользовательский интерфейс с заголовком, значком и цветом заголовка с помощью тегов метаданных, определенных на веб-странице.</span><span class="sxs-lookup"><span data-stu-id="a9975-104">A web page customizes the user interface (UI) with the title, icon, and header color by using metadata tags defined on the web page.</span></span> <span data-ttu-id="a9975-105">Веб-разработчики могут использовать <meta> теги HTML для просмотра индивидуальной и фирменной символики поставщика в пользовательском интерфейсе брокера веб-проверки подлинности.</span><span class="sxs-lookup"><span data-stu-id="a9975-105">Web developers can use HTML <meta> tags to display the provider's personality and brand in the Web Authentication Broker UI.</span></span> <span data-ttu-id="a9975-106">Кроме того, разработчики могут направлять более сложные действия пользователя, например регистрацию и восстановление паролей.</span><span class="sxs-lookup"><span data-stu-id="a9975-106">In addition, developers can direct more intricate user actions, for example signing up and recovering passwords.</span></span> <span data-ttu-id="a9975-107">Концепция очень похожа на функцию закрепленных сайтов в Windows Internet Explorer 9 и Windows 7.</span><span class="sxs-lookup"><span data-stu-id="a9975-107">The concept is very similar to Pinned Sites feature of the Windows Internet Explorer 9 and Windows 7.</span></span>

<span data-ttu-id="a9975-108">Помимо настройки пользовательского интерфейса в области веб-страницы, на веб-странице также должны использоваться стили элементов управления Windows 8, включена поддержка сенсорного ввода и при необходимости открываться ссылки в браузере.</span><span class="sxs-lookup"><span data-stu-id="a9975-108">In addition to customizing the user interface around the web page area, the web page should also take advantage of the Windows 8 controls’ styles, be enabled for touch, and enable links to be opened in the browser where appropriate.</span></span>

<span data-ttu-id="a9975-109">Ниже приведен пример веб-страницы, использующей модель настройки брокера веб-проверки подлинности.</span><span class="sxs-lookup"><span data-stu-id="a9975-109">The following is an example of a web page that has taken advantage of the Web Authentication Broker customization model.</span></span> ![элементы пользовательского интерфейса брокера веб-проверки подлинности](images/wab-figure7.png)

## <a name="instructions"></a><span data-ttu-id="a9975-111">Инструкции</span><span class="sxs-lookup"><span data-stu-id="a9975-111">Instructions</span></span>

### <a name="step-1-customize-the-icon"></a><span data-ttu-id="a9975-112">Шаг 1. Настройка значка</span><span class="sxs-lookup"><span data-stu-id="a9975-112">Step 1: Customize the icon</span></span>

<span data-ttu-id="a9975-113">Веб-страница может предоставить значок с помощью тега meta мсвебдиалог-Logo.</span><span class="sxs-lookup"><span data-stu-id="a9975-113">The web page can provide an icon by using an mswebdialog-logo meta tag.</span></span>

``` syntax
<meta name="mswebdialog-logo" content="https://www.contoso.com/logo.png"/>
```

<span data-ttu-id="a9975-114">Содержимое — это URL-адрес, который может быть относительно страницы или абсолютным.</span><span class="sxs-lookup"><span data-stu-id="a9975-114">The content is a URL that can be a page relative or absolute.</span></span> <span data-ttu-id="a9975-115">Схема URL-адреса может быть HTTP или HTTPS.</span><span class="sxs-lookup"><span data-stu-id="a9975-115">The scheme of the URL can be HTTP or HTTPS.</span></span> <span data-ttu-id="a9975-116">Файл должен иметь формат PNG или JPG.</span><span class="sxs-lookup"><span data-stu-id="a9975-116">The format of the file should be either PNG or JPG.</span></span> <span data-ttu-id="a9975-117">Размер изображения должен быть 30x30 пикселей.</span><span class="sxs-lookup"><span data-stu-id="a9975-117">The size of the image should be 30x30 pixels.</span></span> <span data-ttu-id="a9975-118">Если изображение имеет другой размер, оно будет масштабироваться по размеру операционной системы в соответствии с 30x30 пространством.</span><span class="sxs-lookup"><span data-stu-id="a9975-118">If the image is of the different size, it will be scaled down or up by the operating system to fit the 30x30 space.</span></span> <span data-ttu-id="a9975-119">Образ должен быть спроектирован так, чтобы его можно было использовать при масштабировании до 140% и 180% для учета экранов с более высоким разрешением.</span><span class="sxs-lookup"><span data-stu-id="a9975-119">The image should be designed to render well when scaled up to 140% and 180% to account for higher resolution screens.</span></span> <span data-ttu-id="a9975-120">Чтобы проверить различные факторы масштабирования, используйте [пример приложения SDK для брокера веб-проверки подлинности](https://github.com/microsoft/Windows-universal-samples/tree/master/Samples/WebAuthenticationBroker) , загруженный в Visual Studio 11, который позволяет имитировать различные факторы разрешения и масштабирования с помощью окон устройств в режиме конструктора.</span><span class="sxs-lookup"><span data-stu-id="a9975-120">To test different scaling factors, use the [Web Authentication Broker SDK sample app](https://github.com/microsoft/Windows-universal-samples/tree/master/Samples/WebAuthenticationBroker) loaded in Visual Studio 11 which allows simulating different resolutions and scaling factors using the Device windows of the Design mode.</span></span>

### <a name="step-2-customize-the-title-text"></a><span data-ttu-id="a9975-121">Шаг 2. Настройка текста заголовка</span><span class="sxs-lookup"><span data-stu-id="a9975-121">Step 2: Customize the title text</span></span>

<span data-ttu-id="a9975-122">Веб-страница может предоставить заголовок с помощью тега meta мсвебдиалог-Title.</span><span class="sxs-lookup"><span data-stu-id="a9975-122">The web page can provide the title by using the mswebdialog-title meta tag.</span></span>

``` syntax
<meta name="mswebdialog-title" content="Contoso Social"/>
```

<span data-ttu-id="a9975-123">Заголовок должен быть кратким и должен отражать торговую марку поставщика (например, Contoso).</span><span class="sxs-lookup"><span data-stu-id="a9975-123">The title should be short and should reflect the brand of the provider (for example, Contoso).</span></span>

### <a name="step-3-customize-the-header-color"></a><span data-ttu-id="a9975-124">Шаг 3. Настройка цвета заголовка</span><span class="sxs-lookup"><span data-stu-id="a9975-124">Step 3: Customize the header color</span></span>

<span data-ttu-id="a9975-125">Веб-страница может предоставить цвет, представляющий удостоверение торговой марки, которое будет использоваться для заголовка диалогового окна с помощью тега meta мсвебдиалог-Header-Color.</span><span class="sxs-lookup"><span data-stu-id="a9975-125">The web page can provide the color that represents its brand identity to be used for the header of the dialog by using the mswebdialog-header-color meta tag.</span></span>

``` syntax
<meta name="mswebdialog-header-color" content="#1267DF"/>
```

<span data-ttu-id="a9975-126">Цвет может быть любым значением, указанным здесь.</span><span class="sxs-lookup"><span data-stu-id="a9975-126">The color can be any value specified here.</span></span> <span data-ttu-id="a9975-127">Однако брокер веб-проверки подлинности будет игнорировать любое значение Alpha Channel.</span><span class="sxs-lookup"><span data-stu-id="a9975-127">However, the Web Authentication Broker will ignore any alpha channel value.</span></span> <span data-ttu-id="a9975-128">В частности, с помощью этого цвета и цветов, используемых на странице в целом, рекомендуется следовать тем же цветам, которые используются в приложении Windows 8 поставщика, если такое приложение существует.</span><span class="sxs-lookup"><span data-stu-id="a9975-128">With this color specifically and with colors used on the page in general, it is recommended to follow the same colors used in provider’s Windows 8 app if such app exists.</span></span>

> [!Note]  
> <span data-ttu-id="a9975-129">Значки и цвета кэшируются на каждом сервере на клиенте после синтаксического анализа мета тегов.</span><span class="sxs-lookup"><span data-stu-id="a9975-129">Icons and colors are cached per server on the client once META tags are parsed.</span></span> <span data-ttu-id="a9975-130">Очистите кэш клиента перед запуском пользовательского интерфейса, чтобы изменения вступили в силу.</span><span class="sxs-lookup"><span data-stu-id="a9975-130">Clear the client cache before launching the UI in order for the changes to take effect.</span></span> <span data-ttu-id="a9975-131">Для этого измените следующие параметры реестра.</span><span class="sxs-lookup"><span data-stu-id="a9975-131">To do so, modify the following registry settings.</span></span>

 

``` syntax
// Registry location under HKLM used for setting various AuthHost parameters.
#define AUTH_HOST_LOCAL_MACHINE_REGPATH \
    L"SOFTWARE\\Microsoft\\Windows NT\\CurrentVersion\\Image File Execution Options\\authhost.exe"
// MaxAge to use for downloading logo images
#define AUTH_HOST_LOGO_IMAGE_MAX_AGE_SECONDS_REG_VALUE_NAME \
    L"LogoImageMaxAgeSeconds"
// 24 hours
#define AUTH_HOST_LOGO_IMAGE_MAX_AGE_SECONDS_DEFAULT        \
    (24 * 60 * 60)
```

<span data-ttu-id="a9975-132">После загрузки значка он снова не забирается в течение 24 часов.</span><span class="sxs-lookup"><span data-stu-id="a9975-132">Once an icon is downloaded it is not picked up again for 24 hours.</span></span> <span data-ttu-id="a9975-133">Чтобы протестировать изображения с логотипами, задайте для раздела реестра выше меньшее значение.</span><span class="sxs-lookup"><span data-stu-id="a9975-133">In order to test with logo images, set the reg key above with a lower value.</span></span>

### <a name="step-4-customize-the-web-page"></a><span data-ttu-id="a9975-134">Шаг 4. Настройка веб-страницы</span><span class="sxs-lookup"><span data-stu-id="a9975-134">Step 4: Customize the web page</span></span>

<span data-ttu-id="a9975-135">Помимо настройки пользовательского интерфейса для веб-страницы, разработчики также должны создавать веб-страницы, которые легко и интегрируются с общим интерфейсом Windows 8.</span><span class="sxs-lookup"><span data-stu-id="a9975-135">In addition to customizing the UI around the web page, developers should also create web pages that are seamless and integrated with the overall Windows 8 experience.</span></span> <span data-ttu-id="a9975-136">Сюда входит использование рекомендуемых стилей, проверка работы веб-страниц с устройствами с поддержкой сенсорного ввода и открытие определенных веб-страниц в веб-браузере.</span><span class="sxs-lookup"><span data-stu-id="a9975-136">This includes using recommended styles, making sure web pages work great with touch enabled devices, and open certain web pages in the web browser.</span></span>

-   <span data-ttu-id="a9975-137">Задание стиля</span><span class="sxs-lookup"><span data-stu-id="a9975-137">Styling</span></span>

    <span data-ttu-id="a9975-138">Настоятельно рекомендуется использовать стиль, рекомендованный здесь, чтобы создать более согласованный пользовательский интерфейс для веб-страниц посредника проверки подлинности и других компонентов пользовательского интерфейса Windows 8.</span><span class="sxs-lookup"><span data-stu-id="a9975-138">It is strongly encouraged to use the styling recommended here to create a more consistent user experience across Web Authentication Broker web pages and other UI components of Windows 8.</span></span> <span data-ttu-id="a9975-139">Веб-страница должна использовать белый фон без границ.</span><span class="sxs-lookup"><span data-stu-id="a9975-139">The web page should use a white background and no borders.</span></span> <span data-ttu-id="a9975-140">Кнопки, такие как имя входа или Отмена, должны располагаться в правом нижнем углу и использовать тот же цвет, что и заголовок.</span><span class="sxs-lookup"><span data-stu-id="a9975-140">The buttons such as Login or Cancel should be positioned at the right bottom corner and use the same color as the header.</span></span> <span data-ttu-id="a9975-141">Наконец, поскольку брокер веб-проверки подлинности предоставляет кнопку "назад", рассмотрите возможность полного удаления кнопки отмены с веб-страницы.</span><span class="sxs-lookup"><span data-stu-id="a9975-141">Finally, since Web Authentication Broker provides a Back button, consider eliminating a Cancel button from the web page completely.</span></span>

-   <span data-ttu-id="a9975-142">Включение сенсорного ввода</span><span class="sxs-lookup"><span data-stu-id="a9975-142">Enabling touch</span></span>

    <span data-ttu-id="a9975-143">Веб-страница должна быть разработана с учетом сенсорного взаимодействия с пользователем.</span><span class="sxs-lookup"><span data-stu-id="a9975-143">The web page should be designed with a touch-based user interaction in mind.</span></span> <span data-ttu-id="a9975-144">Дополнительные сведения о проектировании для сенсорного ввода в Windows 8 см. в разделе [Проектирование сенсорного взаимодействия](https://msdn.microsoft.com/library/Hh465415(v=Win.10).aspx) .</span><span class="sxs-lookup"><span data-stu-id="a9975-144">For more information about designing for touch in Windows 8, see the [Touch interaction design](https://msdn.microsoft.com/library/Hh465415(v=Win.10).aspx) topic.</span></span>

-   <span data-ttu-id="a9975-145">Настройка целевого объекта гиперссылок</span><span class="sxs-lookup"><span data-stu-id="a9975-145">Customizing target of the hyperlinks</span></span>

    <span data-ttu-id="a9975-146">Посредник веб-аутентификации отлично подходит для доставки веб-страниц, для которых требуется одно действие пользователя, такое как вход в систему или авторизация OAuth.</span><span class="sxs-lookup"><span data-stu-id="a9975-146">Web Authentication Broker is great for delivering web pages that require a single user action such as logon or OAuth authorization pages.</span></span> <span data-ttu-id="a9975-147">Однако для более сложных пользовательских потоков, таких как создание учетной записи, восстановление после утери или забытого пароля, отображение заявлений о конфиденциальности и т. д., когда пользователь должен вкладывать некоторое время в понимание и выполнение последовательности, рекомендуется запускать эти страницы в предпочитаемом браузере пользователя для поддержки полной навигации и просмотра.</span><span class="sxs-lookup"><span data-stu-id="a9975-147">However, for more intricate user flows such as account creation, recovering from a lost or forgotten password, showing privacy statements and so on, where the user is expected to invest some time in understanding and completing the flow, it is recommended that these pages be launched in the user’s preferred browser to support full-navigation and reach browsing.</span></span> <span data-ttu-id="a9975-148">Посредник веб-проверки подлинности по умолчанию не позволяет открывать новые окна браузера с веб-страницы (Дополнительные сведения см. в разделе "новые окна").</span><span class="sxs-lookup"><span data-stu-id="a9975-148">Web Authentication Broker by default doesn’t allow new browser windows to be opened from a web page (see section No New windows By Default for more details).</span></span> <span data-ttu-id="a9975-149">Однако с помощью тега meta `mswebdialog-newwindowurl` веб-страница может объявлять, какие URL-адреса следует открывать в браузере.</span><span class="sxs-lookup"><span data-stu-id="a9975-149">However, by using the meta tag `mswebdialog-newwindowurl` the web page can declare which URLs should be opened in the browser.</span></span>

    <span data-ttu-id="a9975-150">`mswebdialog-newwindowurl`Компонент позволяет веб-странице указать URL-адрес или часть URL-адреса, который брокер веб-проверки подлинности будет использовать для сопоставления (левое строковое совпадение) с каждым запросом на открытие URL-адреса в новом окне либо с помощью целевого атрибута, либо метода Window. Open ().</span><span class="sxs-lookup"><span data-stu-id="a9975-150">The `mswebdialog-newwindowurl` allows the web page to specify a URL or part of the URL that the Web Authentication Broker will use to match (left-hand string match) against every time it is asked to open a URL in a new window either by using the target attribute or window.open() method.</span></span> <span data-ttu-id="a9975-151">В случае совпадения URL-адрес будет открыт в пользовательском браузере по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="a9975-151">If there is a match, the URL will be opened in the user’s default browser.</span></span> <span data-ttu-id="a9975-152">Если совпадений нет, посредник веб-аутентификации перейдет к самому URL-адресу (поведение по умолчанию).</span><span class="sxs-lookup"><span data-stu-id="a9975-152">If there is no match, the Web Authentication Broker will navigate to the URL itself (default behavior).</span></span> <span data-ttu-id="a9975-153">Пример: `<meta name="mswebdialog-newwindowurl" content="https://www.contoso.com/privacy"/>`</span><span class="sxs-lookup"><span data-stu-id="a9975-153">For example:`<meta name="mswebdialog-newwindowurl" content="https://www.contoso.com/privacy"/>`</span></span>

    <span data-ttu-id="a9975-154">В случае с этим тегом META посредник веб-аутентификации откроет в https://www.contoso.com/privacy/policy.html браузере, но будет напрямую переходить к https://www.contoso.com/termsofuse.html .</span><span class="sxs-lookup"><span data-stu-id="a9975-154">In the case of this meta tag, the Web Authentication Broker will open the https://www.contoso.com/privacy/policy.html in the browser, but will directly navigate to https://www.contoso.com/termsofuse.html.</span></span> <span data-ttu-id="a9975-155">Обратите внимание, что этот мета-тег не влияет на ссылки, которые не пытаются открыть в новом окне (например, ссылки, не использующие целевой атрибут или метод Window. Open ()).</span><span class="sxs-lookup"><span data-stu-id="a9975-155">Note that links that don’t attempt to open in a new window (for example, links that are not using target attribute or window.open() method) are not affected by this meta tag.</span></span> <span data-ttu-id="a9975-156">Содержимое — это URL-адрес, который может быть относительно страницы или абсолютным.</span><span class="sxs-lookup"><span data-stu-id="a9975-156">The content is a URL that can be a page relative or absolute.</span></span> <span data-ttu-id="a9975-157">Схема URL-адреса может быть HTTP или HTTPS.</span><span class="sxs-lookup"><span data-stu-id="a9975-157">The scheme of the URL can be HTTP or HTTPS.</span></span> <span data-ttu-id="a9975-158">Необходимо определить `mswebdialog-newwindowurl` теги META, чтобы охватить все ссылки, не являющиеся частью основного пользовательского потока, например заявления о конфиденциальности, формы регистрации и т. д.</span><span class="sxs-lookup"><span data-stu-id="a9975-158">You should define `mswebdialog-newwindowurl` meta tags to cover any links that are not part of the core user flow such as privacy statements, sign up forms, and such.</span></span> <span data-ttu-id="a9975-159">Если вы поддерживаете вход с помощью стороннего поставщика проверки подлинности (например, OpenID Connect providers), убедитесь, что эти взаимодействия сохраняются в брокере веб-аутентификации.</span><span class="sxs-lookup"><span data-stu-id="a9975-159">If you support login with a third-party authentication provider (for example, OpenID providers), make sure to keep those interactions within the Web Authentication Broker.</span></span> <span data-ttu-id="a9975-160">Чтобы разрешить открытие всех ссылок на странице в браузере, используйте синтаксис звездочки, например, `  <meta name="mswebdialog-newwindowurl" content="*"/>` Обратите внимание, что " \* " может использоваться только в монопольном режиме и не может сочетаться с другим URL-адресом, например " https://www.contoso.com/\ \*" не является допустимым синтаксисом.</span><span class="sxs-lookup"><span data-stu-id="a9975-160">To enable all links on your page as safe to be opened in the browser, use the star syntax, such as, `  <meta name="mswebdialog-newwindowurl" content="*"/>` Note that the “\*” can only be used exclusively and can’t be combined with another URL, for example, "https://www.contoso.com/\*" is not a valid syntax.</span></span>

### <a name="step-5-rules-applied-to-all-meta-tags"></a><span data-ttu-id="a9975-161">Шаг 5. правила, применяемые ко всем тегам META</span><span class="sxs-lookup"><span data-stu-id="a9975-161">Step 5: Rules applied to all meta tags</span></span>

<span data-ttu-id="a9975-162">Когда брокер веб-проверки подлинности обрабатывает теги META, применяются следующие правила.</span><span class="sxs-lookup"><span data-stu-id="a9975-162">When Web Authentication Broker processes meta tags, the following rules apply:</span></span>

-   <span data-ttu-id="a9975-163">Результат тега meta будет сохранен на всех страницах в домене второго уровня (например, contoso.com), если только не встретится другой мета-тег с таким же именем, но с другим содержимым.</span><span class="sxs-lookup"><span data-stu-id="a9975-163">The effect of the meta tag will persist across all pages under same second level domain (for example, contoso.com) unless another meta tag of the same name but different content is encountered.</span></span>
-   <span data-ttu-id="a9975-164">Если на одной странице встречается несколько Meta-тегов одного и того же имени, то брокер проверки подлинности будет выбирать только один из них и игнорировать остальные.</span><span class="sxs-lookup"><span data-stu-id="a9975-164">If multiple meta tags of the same name are encountered on the same page, the Web Authentication Broker will choose only one of them and ignore the rest.</span></span> <span data-ttu-id="a9975-165">Выбранный конкретный мета-тег не определен.</span><span class="sxs-lookup"><span data-stu-id="a9975-165">Which specific meta tag is chosen is undefined.</span></span>
    > [!Note]  
    > <span data-ttu-id="a9975-166">Это правило не применяется к `mswebdialog-newwindowurl` тегу meta, допускающему использование нескольких экземпляров на одной странице.</span><span class="sxs-lookup"><span data-stu-id="a9975-166">This rule does not apply to the `mswebdialog-newwindowurl` meta tag that allows multiple instances on the same page.</span></span>

     

## <a name="related-topics"></a><span data-ttu-id="a9975-167">Связанные темы</span><span class="sxs-lookup"><span data-stu-id="a9975-167">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="a9975-168">Рекомендации по разработке веб-страниц</span><span class="sxs-lookup"><span data-stu-id="a9975-168">Considerations for the web page development</span></span>](considerations-for-the-web-page-development.md)
</dt> <dt>

[<span data-ttu-id="a9975-169">Пример приложения SDK брокера веб-проверки подлинности</span><span class="sxs-lookup"><span data-stu-id="a9975-169">Web Authentication Broker SDK sample app</span></span>](https://github.com/microsoft/Windows-universal-samples/tree/master/Samples/WebAuthenticationBroker)
</dt> <dt>

[<span data-ttu-id="a9975-170">**Windows.Security.Authentication.Web**</span><span class="sxs-lookup"><span data-stu-id="a9975-170">**Windows.Security.Authentication.Web**</span></span>](/uwp/api/Windows.Security.Authentication.Web)
</dt> </dl>

 

 
