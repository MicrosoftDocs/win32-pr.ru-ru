---
description: Каждый сервер может установить в реестре значение раздела реестра MachineID, которое устанавливается как фиксированная часть идентификатора сеанса.
ms.assetid: 1B373496-1C1B-4D4B-8CAC-B572C58E43A2
title: Балансировка нагрузки с помощью канала Schannel
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: dce190d665f4cc41eb0615a2ddc83e0ee54798d8
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "103910347"
---
# <a name="load-balancing-using-schannel"></a><span data-ttu-id="d55f4-103">Балансировка нагрузки с помощью канала Schannel</span><span class="sxs-lookup"><span data-stu-id="d55f4-103">Load balancing using Schannel</span></span>

<span data-ttu-id="d55f4-104">Каждый сервер может установить в реестре значение раздела реестра MachineID, которое устанавливается как фиксированная часть идентификатора сеанса.</span><span class="sxs-lookup"><span data-stu-id="d55f4-104">Each server can set a MachineID registry key value in the registry that gets set as a fixed part of the session ID.</span></span> <span data-ttu-id="d55f4-105">Раздел реестра MachineID является типом значения **reg \_ DWORD** .</span><span class="sxs-lookup"><span data-stu-id="d55f4-105">The MachineID registry key is a **REG\_DWORD** value type.</span></span> <span data-ttu-id="d55f4-106">Балансировщик нагрузки может использовать эту часть идентификатора сеанса, чтобы определить, какой сервер создал сеанс SSL и может поддерживать карту для этого сервера.</span><span class="sxs-lookup"><span data-stu-id="d55f4-106">The load balancer can use this part of the session ID to determine which server has generated the SSL session and can maintain the map to that server.</span></span> <span data-ttu-id="d55f4-107">Идентификатор сеанса является частью подтверждения SSL/TLS, передаваемого по сети.</span><span class="sxs-lookup"><span data-stu-id="d55f4-107">The session ID is part of the SSL/TLS handshake that is sent over the wire.</span></span> <span data-ttu-id="d55f4-108">При возобновлении или повторном подключении к клиенту код балансировщика нагрузки должен использовать второй **параметр DWORD** в идентификаторе сеанса.</span><span class="sxs-lookup"><span data-stu-id="d55f4-108">The load balancer code should be using the second **DWORD** in the session ID when resuming or reconnecting to the client.</span></span> <span data-ttu-id="d55f4-109">Второй **DWORD** идентификатора случайного сеанса, созданного сервером SChannel, заменяется **DWORD** , хранящимся в реестре.</span><span class="sxs-lookup"><span data-stu-id="d55f4-109">The second **DWORD** of the random session ID generated by an Schannel server is replaced by the **DWORD** stored in the registry.</span></span> <span data-ttu-id="d55f4-110">Параметр реестра для **DWORD** не может иметь значение 0xFFFFFFFF.</span><span class="sxs-lookup"><span data-stu-id="d55f4-110">The registry value for the **DWORD** cannot be 0xffffffff.</span></span>

<span data-ttu-id="d55f4-111">Значение раздела реестра выглядит следующим образом.</span><span class="sxs-lookup"><span data-stu-id="d55f4-111">The registry key value is as follows.</span></span>

```
HKEY_LOCAL_MACHINE
   SYSTEM
      CurrentControlSet
         Control
            SecurityProviders
               SCHANNEL
                  MachineID<dl>
<dt>

                  Data type
</dt>
<dd>                  REG_DWORD</dd>
</dl>
```

 

 



