---
description: Семантика для датаграммы, или без соединения, немного отличаются от контекстов, ориентированных на соединение.
ms.assetid: f312796c-cbe6-4be9-9886-52fdb34ced6b
title: Контексты датаграмм
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 8d233a0ba397e67a13b1c25588cf81b6f12c31d1
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "104154774"
---
# <a name="datagram-contexts"></a>Контексты датаграмм

Семантика для [*датаграммы*](/windows/desktop/SecGloss/d-gly), или без соединения, немного отличаются от контекстов, ориентированных на соединение. В [*контексте*](/windows/desktop/SecGloss/c-gly)датаграммы без подключения сервер не может определить, когда клиент завершил работу или завершил соединение иным образом. Иными словами, уведомление о завершении не передается из транспортного приложения на сервер, как это происходит в контексте, ориентированном на соединение.

Чтобы использовать контекст датаграммы, клиент устанавливает флаг "ISC \_ req \_ Datagram" в вызове функции [**InitializeSecurityContext (General)**](/windows/win32/api/sspi/nf-sspi-initializesecuritycontexta) .

> [!IMPORTANT]
> Пакет [Microsoft Kerberos](microsoft-kerberos.md) не поддерживает контексты датаграмм в пользовательском режиме.

 

Для лучшей поддержки некоторых моделей, в частности RPC в стиле DCE, применяются следующие правила, если клиент использует контекст датаграммы:

-   [*Пакет безопасности*](/windows/desktop/SecGloss/s-gly) не создает [*BLOB*](/windows/desktop/SecGloss/b-gly) -объект проверки подлинности (большой двоичный объект) при первом вызове [**InitializeSecurityContext (General)**](/windows/win32/api/sspi/nf-sspi-initializesecuritycontexta). Однако клиент может использовать возвращенный контекст безопасности в вызове функции [**макесигнатуре**](/windows/desktop/api/Sspi/nf-sspi-makesignature) , чтобы создать сигнатуру для сообщения.
-   Пакет безопасности должен допускать многократное повторное установление контекста, чтобы разрешить серверу удалять подключение без уведомления. Это означает, что все ключи, используемые в функциях [**макесигнатуре**](/windows/desktop/api/Sspi/nf-sspi-makesignature) и [**VerifySignature**](/windows/desktop/api/Sspi/nf-sspi-verifysignature) , могут быть сброшены в целостное [*состояние*](/windows/desktop/SecGloss/s-gly).
-   Пакет безопасности позволяет вызывающему объекту указать сведения о последовательности и предоставляет эту информацию о последовательности на стороне получателя. Это дополнение к любой информации о последовательности, поддерживаемой пакетом.

Пакет безопасности устанавливает \_ флаг SECPKG флага \_ датаграммы, чтобы указать, что он поддерживает семантику датаграммы.

 

 
