---
description: Содержит список и описание обязанностей Winlogon.
ms.assetid: 5aef4164-11bd-4acc-b851-de982e35d2b5
title: Обязанности Winlogon
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: a7842df1d4194dc7086f658a13f6725af8fa0d88
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "103998400"
---
# <a name="responsibilities-of-winlogon"></a><span data-ttu-id="5a424-103">Обязанности Winlogon</span><span class="sxs-lookup"><span data-stu-id="5a424-103">Responsibilities of Winlogon</span></span>

<span data-ttu-id="5a424-104">[*Winlogon*](../secgloss/w-gly.md) имеет следующие обязанности:</span><span class="sxs-lookup"><span data-stu-id="5a424-104">[*Winlogon*](../secgloss/w-gly.md) has the following responsibilities:</span></span>

-   <span data-ttu-id="5a424-105">Защита оконных станций и рабочих столов</span><span class="sxs-lookup"><span data-stu-id="5a424-105">Window station and desktop protection</span></span>

    <span data-ttu-id="5a424-106">Winlogon настраивает защиту рабочей станции и соответствующих настольных систем, чтобы обеспечить правильную доступность каждого из них.</span><span class="sxs-lookup"><span data-stu-id="5a424-106">Winlogon sets the protection of the window station and corresponding desktops to ensure that each is properly accessible.</span></span> <span data-ttu-id="5a424-107">Как правило, это означает, что локальная система будет иметь полный доступ к этим объектам и что интерактивный вошедший в систему пользователь будет иметь доступ на чтение к объекту Windows Station и полный доступ к объекту рабочего стола приложения.</span><span class="sxs-lookup"><span data-stu-id="5a424-107">In general, this means that the local system will have full access to these objects and that an interactively logged-on user will have read access to the window station object and full access to the application desktop object.</span></span>

-   <span data-ttu-id="5a424-108">Стандартное распознавание SAS</span><span class="sxs-lookup"><span data-stu-id="5a424-108">Standard SAS recognition</span></span>

    <span data-ttu-id="5a424-109">Winlogon имеет специальные обработчики для сервера User32, которые позволяют отслеживать события [*последовательности*](../secgloss/s-gly.md) Ctrl + Alt + Del.</span><span class="sxs-lookup"><span data-stu-id="5a424-109">Winlogon has special hooks into the User32 server that allow it to monitor CTRL+ALT+DEL [*secure attention sequence*](../secgloss/s-gly.md) (SAS) events.</span></span> <span data-ttu-id="5a424-110">Winlogon делает эту информацию о событии SAS доступной для использования в качестве SAS или в рамках их SAS.</span><span class="sxs-lookup"><span data-stu-id="5a424-110">Winlogon makes this SAS event information available to GINAs to use as their SAS, or as part of their SAS.</span></span> <span data-ttu-id="5a424-111">В целом, модели GINA должны самостоятельно отслеживать вирусы. Однако все [*модели GINA*](../secgloss/g-gly.md) , имеющие стандартную комбинацию клавиш Ctrl + Alt + Del в качестве одного из распознаваемых версий, должны использовать поддержку Winlogon, предоставляемую для этой цели.</span><span class="sxs-lookup"><span data-stu-id="5a424-111">In general, GINAs should monitor SASs on their own; however, any [*GINA*](../secgloss/g-gly.md) that has the standard CTRL+ALT+DEL SAS as one of the SASs it recognizes should use the Winlogon support provided for this purpose.</span></span>

-   <span data-ttu-id="5a424-112">Диспетчеризация подпрограммы SAS</span><span class="sxs-lookup"><span data-stu-id="5a424-112">SAS routine dispatching</span></span>

    <span data-ttu-id="5a424-113">При обнаружении программой Winlogon события SAS или при доставке SAS в Winlogon с помощью GINA Winlogon устанавливает соответствующее состояние, изменяет рабочий стол Winlogon и вызывает одну из функций обработки SAS модели GINA.</span><span class="sxs-lookup"><span data-stu-id="5a424-113">When Winlogon encounters a SAS event or when a SAS is delivered to Winlogon by the GINA, Winlogon sets the state accordingly, changes to the Winlogon desktop, and calls one of the SAS processing functions of the GINA.</span></span>

-   <span data-ttu-id="5a424-114">Загрузка профиля пользователя</span><span class="sxs-lookup"><span data-stu-id="5a424-114">User profile loading</span></span>

    <span data-ttu-id="5a424-115">Когда пользователи входят в систему, их профили пользователей загружаются в реестр.</span><span class="sxs-lookup"><span data-stu-id="5a424-115">When users log on, their user profiles are loaded into the registry.</span></span> <span data-ttu-id="5a424-116">Таким образом, процессы пользователя могут использовать специальный раздел реестра HKEY \_ текущий \_ пользователь.</span><span class="sxs-lookup"><span data-stu-id="5a424-116">In this way, the processes of the user can use the special registry key HKEY\_CURRENT\_USER.</span></span> <span data-ttu-id="5a424-117">Winlogon делает это автоматически после успешного входа, но перед активацией оболочки для вошедшего в систему пользователя.</span><span class="sxs-lookup"><span data-stu-id="5a424-117">Winlogon does this automatically after a successful logon but before activation of the shell for the newly logged-on user.</span></span>

-   <span data-ttu-id="5a424-118">Назначение безопасности пользовательской оболочке</span><span class="sxs-lookup"><span data-stu-id="5a424-118">Assignment of security to user shell</span></span>

    <span data-ttu-id="5a424-119">При входе пользователя в систему GINA отвечает за создание одного или нескольких начальных процессов для этого пользователя.</span><span class="sxs-lookup"><span data-stu-id="5a424-119">When a user logs on, the GINA is responsible for creating one or more initial processes for that user.</span></span> <span data-ttu-id="5a424-120">Winlogon предоставляет функцию поддержки для модели GINA, которая позволяет применить к этим процессам безопасность вновь вошедшего в систему пользователя.</span><span class="sxs-lookup"><span data-stu-id="5a424-120">Winlogon provides a support function for the GINA to apply the security of the newly logged-on user to these processes.</span></span> <span data-ttu-id="5a424-121">Однако предпочтительным способом сделать это является то, что GINA вызывает функцию Windows [**параметр CreateProcessAsUser**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createprocessasusera)и позволяет системе предоставлять службу.</span><span class="sxs-lookup"><span data-stu-id="5a424-121">However, the preferred way to do this is for the GINA to call the Windows function [**CreateProcessAsUser**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createprocessasusera), and let the system provide the service.</span></span>

-   <span data-ttu-id="5a424-122">Экранная заставка</span><span class="sxs-lookup"><span data-stu-id="5a424-122">Screen saver control</span></span>

    <span data-ttu-id="5a424-123">Winlogon отслеживает действия клавиатуры и мыши, чтобы определить, когда следует активировать экранные заставки.</span><span class="sxs-lookup"><span data-stu-id="5a424-123">Winlogon monitors keyboard and mouse activity to determine when to activate screen savers.</span></span> <span data-ttu-id="5a424-124">После активации заставки Winlogon продолжит отслеживать действия клавиатуры и мыши, чтобы определить, когда следует прервать экранную заставку.</span><span class="sxs-lookup"><span data-stu-id="5a424-124">After the screen saver is activated, Winlogon continues to monitor keyboard and mouse activity to determine when to terminate the screen saver.</span></span> <span data-ttu-id="5a424-125">Если экранная заставка помечена как безопасная, Winlogon считает ее заблокированной.</span><span class="sxs-lookup"><span data-stu-id="5a424-125">If the screen saver is marked as secure, Winlogon treats the workstation as locked.</span></span> <span data-ttu-id="5a424-126">При работе с мышью или клавиатурой Winlogon вызывает функцию [**влксдисплайлоккеднотице**](/windows/desktop/api/Winwlx/nf-winwlx-wlxdisplaylockednotice) для модели GINA и заблокированной работы рабочей станции.</span><span class="sxs-lookup"><span data-stu-id="5a424-126">When there is mouse or keyboard activity, Winlogon invokes the [**WlxDisplayLockedNotice**](/windows/desktop/api/Winwlx/nf-winwlx-wlxdisplaylockednotice) function of the GINA and locked workstation behavior resumes.</span></span> <span data-ttu-id="5a424-127">Если экранная заставка небезопасна, любое действие с клавиатурой или мышью прерывает экранную заставку без уведомления модели GINA.</span><span class="sxs-lookup"><span data-stu-id="5a424-127">If the screen saver is not secure, any keyboard or mouse activity terminates the screen saver without notification to the GINA.</span></span>

-   <span data-ttu-id="5a424-128">Поддержка нескольких поставщиков сетевых услуг</span><span class="sxs-lookup"><span data-stu-id="5a424-128">Multiple network provider support</span></span>

    <span data-ttu-id="5a424-129">Несколько сетей, установленных в системе Windows, можно включить в процесс проверки подлинности и в операциях обновления паролей.</span><span class="sxs-lookup"><span data-stu-id="5a424-129">Multiple networks installed on a Windows system can be included in the authentication process and in password-updating operations.</span></span> <span data-ttu-id="5a424-130">Это позволяет дополнительным сетям собирать сведения о идентификации и проверке подлинности во время обычного входа в систему с помощью безопасного рабочего стола Winlogon.</span><span class="sxs-lookup"><span data-stu-id="5a424-130">This inclusion lets additional networks gather identification and authentication information all at once during normal logon, using the secure desktop of Winlogon.</span></span> <span data-ttu-id="5a424-131">Некоторые параметры, необходимые службам Winlogon, доступным для GINA, явным образом поддерживают эти дополнительные поставщики сети.</span><span class="sxs-lookup"><span data-stu-id="5a424-131">Some of the parameters required in the Winlogon services available to GINAs explicitly support these additional network providers.</span></span>

 

 
