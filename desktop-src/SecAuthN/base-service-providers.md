---
description: Эти поставщики услуг предоставляют базовые возможности смарт-карт.
ms.assetid: 1d887c4c-095c-4e1e-8b9a-7761acda2cbf
title: Поставщики базовых служб
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 25dfa6c190e7a09ed4dfceafb983878906e8e3b2
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "103998727"
---
# <a name="base-service-providers"></a><span data-ttu-id="107d9-103">Поставщики базовых служб</span><span class="sxs-lookup"><span data-stu-id="107d9-103">Base Service Providers</span></span>

<span data-ttu-id="107d9-104">Эти [*поставщики услуг*](/windows/desktop/SecGloss/c-gly) предоставляют базовые возможности [*смарт-карт*](/windows/desktop/SecGloss/s-gly) .</span><span class="sxs-lookup"><span data-stu-id="107d9-104">These [*service providers*](/windows/desktop/SecGloss/c-gly) provide the basic [*smart card*](/windows/desktop/SecGloss/s-gly) capabilities.</span></span> <span data-ttu-id="107d9-105">Они могут использоваться для доступа к одной смарт-карте, или их COM-интерфейсы можно объединять, чтобы предоставить несколько возможностей в рамках одного поставщика услуг.</span><span class="sxs-lookup"><span data-stu-id="107d9-105">They can be used to access a single smart card capability, or their COM interfaces can be combined to provide several capabilities within a single service provider.</span></span> <span data-ttu-id="107d9-106">Эти поставщики услуг являются стандартными блоками для разработки дополнительных функциональных возможностей для других поставщиков услуг.</span><span class="sxs-lookup"><span data-stu-id="107d9-106">These service providers are the building blocks for developing additional functionality to other service providers.</span></span>

<span data-ttu-id="107d9-107">Следующие задачи могут выполняться интерфейсами базовых поставщиков служб, предоставляемыми пакетом SDK для смарт-карт.</span><span class="sxs-lookup"><span data-stu-id="107d9-107">The following tasks can be performed by base service provider interfaces supplied by the Smart Card SDK.</span></span>



| <span data-ttu-id="107d9-108">Задача</span><span class="sxs-lookup"><span data-stu-id="107d9-108">Task</span></span>                                                                                                                   | <span data-ttu-id="107d9-109">Интерфейсы базовых поставщиков служб</span><span class="sxs-lookup"><span data-stu-id="107d9-109">Base service provider interfaces</span></span>         | <span data-ttu-id="107d9-110">DLL</span><span class="sxs-lookup"><span data-stu-id="107d9-110">DLL</span></span>      |
|------------------------------------------------------------------------------------------------------------------------|------------------------------------------|----------|
| <span data-ttu-id="107d9-111">Подключение к смарт-карте, реализация транзакций, закрытие подключений и т. д.</span><span class="sxs-lookup"><span data-stu-id="107d9-111">Connect to a smart card, implement transactions, close connections, and so on.</span></span>                                         | [<span data-ttu-id="107d9-112">**Карточка**</span><span class="sxs-lookup"><span data-stu-id="107d9-112">**ISCard**</span></span>](iscard.md)                 | <span data-ttu-id="107d9-113">скардссп</span><span class="sxs-lookup"><span data-stu-id="107d9-113">SCardSSP</span></span> |
| <span data-ttu-id="107d9-114">Обслуживание команды КАТЕГОРИЯХ APDU и [*ответа категориях APDU*](/windows/desktop/SecGloss/r-gly).</span><span class="sxs-lookup"><span data-stu-id="107d9-114">Maintain a command APDU and [*reply APDU*](/windows/desktop/SecGloss/r-gly).</span></span>          | [<span data-ttu-id="107d9-115">**искардкмд**</span><span class="sxs-lookup"><span data-stu-id="107d9-115">**ISCardCmd**</span></span>](iscardcmd.md)           | <span data-ttu-id="107d9-116">скардссп</span><span class="sxs-lookup"><span data-stu-id="107d9-116">SCardSSP</span></span> |
| <span data-ttu-id="107d9-117">Запросите [*базу данных смарт-карты*](/windows/desktop/SecGloss/s-gly).</span><span class="sxs-lookup"><span data-stu-id="107d9-117">Query the [*smart card database*](/windows/desktop/SecGloss/s-gly).</span></span> | [<span data-ttu-id="107d9-118">**искарддатабасе**</span><span class="sxs-lookup"><span data-stu-id="107d9-118">**ISCardDatabase**</span></span>](iscarddatabase.md) | <span data-ttu-id="107d9-119">скардссп</span><span class="sxs-lookup"><span data-stu-id="107d9-119">SCardSSP</span></span> |
| <span data-ttu-id="107d9-120">Нахождение смарт-карты или читателя.</span><span class="sxs-lookup"><span data-stu-id="107d9-120">Locate a smart card or reader.</span></span>                                                                                         | [<span data-ttu-id="107d9-121">**искардлокате**</span><span class="sxs-lookup"><span data-stu-id="107d9-121">**ISCardLocate**</span></span>](iscardlocate.md)     | <span data-ttu-id="107d9-122">скардссп</span><span class="sxs-lookup"><span data-stu-id="107d9-122">SCardSSP</span></span> |
| <span data-ttu-id="107d9-123">Создайте команду ISO7816-4 КАТЕГОРИЯХ APDU.</span><span class="sxs-lookup"><span data-stu-id="107d9-123">Build an ISO7816-4 command APDU.</span></span>                                                                                       | [<span data-ttu-id="107d9-124">**ISCardISO7816**</span><span class="sxs-lookup"><span data-stu-id="107d9-124">**ISCardISO7816**</span></span>](iscardiso7816.md)   | <span data-ttu-id="107d9-125">скардссп</span><span class="sxs-lookup"><span data-stu-id="107d9-125">SCardSSP</span></span> |
| <span data-ttu-id="107d9-126">Заключите буфер IStream в оболочку с помощью типов, совместимых с Visual Basic.</span><span class="sxs-lookup"><span data-stu-id="107d9-126">Wrap an Istream buffer by using Visual Basic–compatible types.</span></span>                                                         | [<span data-ttu-id="107d9-127">**ибитебуффер**</span><span class="sxs-lookup"><span data-stu-id="107d9-127">**IByteBuffer**</span></span>](ibytebuffer.md)       | <span data-ttu-id="107d9-128">скардссп</span><span class="sxs-lookup"><span data-stu-id="107d9-128">SCardSSP</span></span> |



 

<span data-ttu-id="107d9-129">В следующей процедуре показано типичное использование этих интерфейсов базовых поставщиков служб.</span><span class="sxs-lookup"><span data-stu-id="107d9-129">The following procedure shows a typical use of these base service provider interfaces.</span></span> <span data-ttu-id="107d9-130">[**В этом**](iscard.md)примере для выполнения транзакции используются интерфейсы [**ISCardISO7816**](iscardiso7816.md)и [**искардкмд**](iscardcmd.md) .</span><span class="sxs-lookup"><span data-stu-id="107d9-130">In this example, the [**ISCard**](iscard.md), [**ISCardISO7816**](iscardiso7816.md), and [**ISCardCmd**](iscardcmd.md) interfaces are used to perform a transaction.</span></span>

<span data-ttu-id="107d9-131">**Выполнение транзакции**</span><span class="sxs-lookup"><span data-stu-id="107d9-131">**To perform a transaction**</span></span>

1.  <span data-ttu-id="107d9-132">Создайте экземпляр для всех необходимых интерфейсов поставщика базовой службы (например, ISCardISO7816 [**и**](iscard.md) [**искардкмд**](iscardcmd.md)) [](iscardiso7816.md).</span><span class="sxs-lookup"><span data-stu-id="107d9-132">Create an instance for all base service provider interfaces needed (for example, [**ISCard**](iscard.md), [**ISCardISO7816**](iscardiso7816.md), and [**ISCardCmd**](iscardcmd.md)).</span></span>
2.  <span data-ttu-id="107d9-133">Подключитесь к определенной смарт-карте с помощью методов в интерфейсе [**карты**](iscard.md) .</span><span class="sxs-lookup"><span data-stu-id="107d9-133">Connect to a particular smart card by using the methods in the [**ISCard**](iscard.md) interface.</span></span>
3.  <span data-ttu-id="107d9-134">С помощью [**ISCardISO7816**](iscardiso7816.md) и объекта [**ИСКАРДКМД**](iscardcmd.md) создайте команду ISO 7816-4, вызвав метод **ISCardISO7816** .</span><span class="sxs-lookup"><span data-stu-id="107d9-134">Using [**ISCardISO7816**](iscardiso7816.md) and an [**ISCardCmd**](iscardcmd.md) object, build an ISO 7816-4 command by calling the **ISCardISO7816** method.</span></span> <span data-ttu-id="107d9-135">Команда содержится в **искардкмд** в качестве команды категориях APDU.</span><span class="sxs-lookup"><span data-stu-id="107d9-135">The command is contained in **ISCardCmd** as the command APDU.</span></span>
4.  <span data-ttu-id="107d9-136">Выполните транзакцию с картой, вызвав метод [**Transaction и**](iscard.md) передав созданный объект [**искардкмд**](iscardcmd.md) .</span><span class="sxs-lookup"><span data-stu-id="107d9-136">Do a transaction with the card by calling the [**ISCard**](iscard.md) transaction method and passing the created [**ISCardCmd**](iscardcmd.md) object.</span></span> <span data-ttu-id="107d9-137">По завершении транзакции результаты сохраняются в **искардкмд** ответе категориях APDU.</span><span class="sxs-lookup"><span data-stu-id="107d9-137">When the transaction is complete, the results are stored in the **ISCardCmd** reply APDU.</span></span>
5.  <span data-ttu-id="107d9-138">Интерпретировать [**искардкмд**](iscardcmd.md) Reply категориях APDU и повторить.</span><span class="sxs-lookup"><span data-stu-id="107d9-138">Interpret the [**ISCardCmd**](iscardcmd.md) reply APDU and repeat.</span></span>
6.  <span data-ttu-id="107d9-139">Выпустите все интерфейсы после завершения операций.</span><span class="sxs-lookup"><span data-stu-id="107d9-139">Release all interfaces when operations are complete.</span></span>

<span data-ttu-id="107d9-140">Сведения о команде КАТЕГОРИЯХ APDU, встроенной в библиотеки DLL, см. в разделе [Построение команды ISO7816-4 категориях APDU](building-an-iso7816-4-apdu-command.md).</span><span class="sxs-lookup"><span data-stu-id="107d9-140">For information about the APDU command built within the DLLs, see [Building an ISO7816-4 APDU Command](building-an-iso7816-4-apdu-command.md).</span></span>

 

 
