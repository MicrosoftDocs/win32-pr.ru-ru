---
description: Интерфейс ISCardISO7816 предоставляет методы для реализации функциональности ISO 7816-4.
ms.assetid: c940c44f-0556-48ef-91f4-502f4c0dfc02
title: Интерфейс ISCardISO7816 (Скардссп. h)
ms.topic: reference
ms.date: 05/31/2018
topic_type:
- APIRef
- kbSyntax
api_name:
- ISCardISO7816
api_type:
- COM
api_location:
- Scardssp.dll
ms.openlocfilehash: 09e5dc9e84a36148e240e4ba2d31f04216454994
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "103813616"
---
# <a name="iscardiso7816-interface"></a><span data-ttu-id="02dac-103">Интерфейс ISCardISO7816</span><span class="sxs-lookup"><span data-stu-id="02dac-103">ISCardISO7816 interface</span></span>

<span data-ttu-id="02dac-104">\[Интерфейс **ISCardISO7816** доступен для использования в операционных системах, указанных в разделе требования.</span><span class="sxs-lookup"><span data-stu-id="02dac-104">\[The **ISCardISO7816** interface is available for use in the operating systems specified in the Requirements section.</span></span> <span data-ttu-id="02dac-105">Он недоступен для использования в Windows Server 2003 с пакетом обновления 1 (SP1) и более поздней версии, Windows Vista, Windows Server 2008 и последующих версиях операционной системы.</span><span class="sxs-lookup"><span data-stu-id="02dac-105">It is not available for use in Windows Server 2003 with Service Pack 1 (SP1) and later, Windows Vista, Windows Server 2008, and subsequent versions of the operating system.</span></span> <span data-ttu-id="02dac-106">[Модули смарт-карт](/previous-versions/windows/desktop/secsmart/smart-card-modules) предоставляют аналогичные функции.\]</span><span class="sxs-lookup"><span data-stu-id="02dac-106">The [Smart Card Modules](/previous-versions/windows/desktop/secsmart/smart-card-modules) provide similar functionality.\]</span></span>

<span data-ttu-id="02dac-107">Интерфейс **ISCardISO7816** предоставляет методы для реализации функциональности ISO 7816-4.</span><span class="sxs-lookup"><span data-stu-id="02dac-107">The **ISCardISO7816** interface provides methods for implementing ISO 7816-4 functionality.</span></span> <span data-ttu-id="02dac-108">За исключением [**сетдефаултклассид**](iscardiso7816-setdefaultclassid.md), эти методы создают команду [*блока данных протокола приложения*](../secgloss/a-gly.md) (категориях APDU), инкапсулированную в объекте [**искардкмд**](iscardcmd.md) .</span><span class="sxs-lookup"><span data-stu-id="02dac-108">With the exception of [**SetDefaultClassId**](iscardiso7816-setdefaultclassid.md), these methods create an [*application protocol data unit*](../secgloss/a-gly.md) (APDU) command that is encapsulated in a [**ISCardCmd**](iscardcmd.md) object.</span></span>

<span data-ttu-id="02dac-109">Спецификация ISO 7816-4 определяет стандартные команды, доступные на [*смарт-картах*](../secgloss/s-gly.md).</span><span class="sxs-lookup"><span data-stu-id="02dac-109">The ISO 7816-4 specification defines standard commands available on [*smart cards*](../secgloss/s-gly.md).</span></span> <span data-ttu-id="02dac-110">Спецификация также определяет, как должна быть создана команда КАТЕГОРИЯХ APDU смарт-карты и отправлена на смарт-карту для выполнения.</span><span class="sxs-lookup"><span data-stu-id="02dac-110">The specification also defines how a smart card APDU command should be constructed and sent to the smart card for execution.</span></span> <span data-ttu-id="02dac-111">Этот интерфейс автоматизирует процесс сборки.</span><span class="sxs-lookup"><span data-stu-id="02dac-111">This interface automates the building process.</span></span>

<span data-ttu-id="02dac-112">В следующем примере показано типичное использование интерфейса **ISCardISO7816** .</span><span class="sxs-lookup"><span data-stu-id="02dac-112">The following example shows a typical use of the **ISCardISO7816** interface.</span></span> <span data-ttu-id="02dac-113">В этом случае для создания команды КАТЕГОРИЯХ APDU используется интерфейс **ISCardISO7816** .</span><span class="sxs-lookup"><span data-stu-id="02dac-113">In this case, the **ISCardISO7816** interface is used to build an APDU command.</span></span>

<span data-ttu-id="02dac-114">**Отправка транзакции на определенную карточку**</span><span class="sxs-lookup"><span data-stu-id="02dac-114">**To submit a transaction to a specific card**</span></span>

1.  <span data-ttu-id="02dac-115">Создайте интерфейс **ISCardISO7816** и [**искардкмд**](iscardcmd.md) .</span><span class="sxs-lookup"><span data-stu-id="02dac-115">Create an **ISCardISO7816** and [**ISCardCmd**](iscardcmd.md) interface.</span></span>

    <span data-ttu-id="02dac-116">Интерфейс [**искардкмд**](iscardcmd.md) используется для инкапсуляции категориях APDU.</span><span class="sxs-lookup"><span data-stu-id="02dac-116">The [**ISCardCmd**](iscardcmd.md) interface is used to encapsulate the APDU.</span></span>

2.  <span data-ttu-id="02dac-117">Вызовите соответствующий метод интерфейса **ISCardISO7816** , передав необходимые параметры и указатель интерфейса [**искардкмд**](iscardcmd.md) .</span><span class="sxs-lookup"><span data-stu-id="02dac-117">Call the appropriate method of the **ISCardISO7816** interface, passing the required parameters and the [**ISCardCmd**](iscardcmd.md) interface pointer.</span></span>

    <span data-ttu-id="02dac-118">Команда ISO 7816-4 КАТЕГОРИЯХ APDU будет создана и инкапсулирована в интерфейсе [**искардкмд**](iscardcmd.md) .</span><span class="sxs-lookup"><span data-stu-id="02dac-118">The ISO 7816-4 APDU command will be built and encapsulated in the [**ISCardCmd**](iscardcmd.md) interface.</span></span>

3.  <span data-ttu-id="02dac-119">Освободите интерфейсы **ISCardISO7816** и [**искардкмд**](iscardcmd.md) .</span><span class="sxs-lookup"><span data-stu-id="02dac-119">Release the **ISCardISO7816** and [**ISCardCmd**](iscardcmd.md) interfaces.</span></span>

> [!Note]  
> <span data-ttu-id="02dac-120">Если последовательность битов в таблице не определена, следует предположить, что на страницах справочника по методам предполагается, что битовая последовательность зарезервирована для будущего использования или для конкретного поставщика.</span><span class="sxs-lookup"><span data-stu-id="02dac-120">In the method reference pages, if a bit sequence in a table is not defined, assume that bit sequence is reserved for future use or proprietary to a specific vendor.</span></span>

 

## <a name="members"></a><span data-ttu-id="02dac-121">Элементы</span><span class="sxs-lookup"><span data-stu-id="02dac-121">Members</span></span>

<span data-ttu-id="02dac-122">Интерфейс **ISCardISO7816** наследует от интерфейса [**IDispatch**](/windows/win32/api/oaidl/nn-oaidl-idispatch) .</span><span class="sxs-lookup"><span data-stu-id="02dac-122">The **ISCardISO7816** interface inherits from the [**IDispatch**](/windows/win32/api/oaidl/nn-oaidl-idispatch) interface.</span></span> <span data-ttu-id="02dac-123">**ISCardISO7816** также имеет следующие типы членов:</span><span class="sxs-lookup"><span data-stu-id="02dac-123">**ISCardISO7816** also has these types of members:</span></span>

-   [<span data-ttu-id="02dac-124">Методы</span><span class="sxs-lookup"><span data-stu-id="02dac-124">Methods</span></span>](#methods)

### <a name="methods"></a><span data-ttu-id="02dac-125">Методы</span><span class="sxs-lookup"><span data-stu-id="02dac-125">Methods</span></span>

<span data-ttu-id="02dac-126">Интерфейс **ISCardISO7816** содержит следующие методы.</span><span class="sxs-lookup"><span data-stu-id="02dac-126">The **ISCardISO7816** interface has these methods.</span></span>



| <span data-ttu-id="02dac-127">Метод</span><span class="sxs-lookup"><span data-stu-id="02dac-127">Method</span></span>                                                             | <span data-ttu-id="02dac-128">Описание</span><span class="sxs-lookup"><span data-stu-id="02dac-128">Description</span></span>                                                                                                                                                                                                                                                                                                        |
|:-------------------------------------------------------------------|:-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="02dac-129">**аппендрекорд**</span><span class="sxs-lookup"><span data-stu-id="02dac-129">**AppendRecord**</span></span>](iscardiso7816-appendrecord.md)                 | <span data-ttu-id="02dac-130">Конструирует команду, которая добавляет запись в конец простейшего файла (EF).</span><span class="sxs-lookup"><span data-stu-id="02dac-130">Constructs a command that appends a record to the end of an elementary file (EF).</span></span><br/>                                                                                                                                                                                                                       |
| [<span data-ttu-id="02dac-131">**ерасебинари**</span><span class="sxs-lookup"><span data-stu-id="02dac-131">**EraseBinary**</span></span>](iscardiso7816-erasebinary.md)                   | <span data-ttu-id="02dac-132">Применяет часть содержимого EF к логическому удаленному состоянию последовательно, начиная с заданного смещения.</span><span class="sxs-lookup"><span data-stu-id="02dac-132">Sets part of the content of an EF to its logical erased state, sequentially, starting from a given offset.</span></span><br/>                                                                                                                                                                                              |
| [<span data-ttu-id="02dac-133">**екстерналаусентикате**</span><span class="sxs-lookup"><span data-stu-id="02dac-133">**ExternalAuthenticate**</span></span>](iscardiso7816-externalauthenticate.md) | <span data-ttu-id="02dac-134">Условно обновляет состояние безопасности, используя результат вычислений на карте, на основе запроса, который ранее был выдан картой (например, \_ командой "получить \_ запрос"),, возможно, секретный ключ, хранящийся на карте, и данные проверки подлинности, передаваемые устройством интерфейса.</span><span class="sxs-lookup"><span data-stu-id="02dac-134">Conditionally updates the security status using the result of the computation by the card, based on a challenge previously issued by the card (for example, by the INS\_GET\_CHALLENGE command), a possibly secret key stored in the card, and authentication data transmitted by the interface device.</span></span><br/> |
| [<span data-ttu-id="02dac-135">**Вызов**</span><span class="sxs-lookup"><span data-stu-id="02dac-135">**GetChallenge**</span></span>](iscardiso7816-getchallenge.md)                 | <span data-ttu-id="02dac-136">Требует выдачи запроса на использование в процедуре, связанной с безопасностью.</span><span class="sxs-lookup"><span data-stu-id="02dac-136">Requires the issuing of a challenge for use in a security-related procedure.</span></span><br/>                                                                                                                                                                                                                            |
| [<span data-ttu-id="02dac-137">**GetData**</span><span class="sxs-lookup"><span data-stu-id="02dac-137">**GetData**</span></span>](iscardiso7816-getdata.md)                           | <span data-ttu-id="02dac-138">Извлекает один примитивный объект данных или набор объектов данных, содержащихся в сконструированном объекте данных, в зависимости от типа указанного файла.</span><span class="sxs-lookup"><span data-stu-id="02dac-138">Retrieves a single primitive data object or a set of data objects contained in a constructed data object, based on the type of file specified.</span></span><br/>                                                                                                                                                          |
| [<span data-ttu-id="02dac-139">**GetResponse**</span><span class="sxs-lookup"><span data-stu-id="02dac-139">**GetResponse**</span></span>](iscardiso7816-getresponse.md)                   | <span data-ttu-id="02dac-140">Передает из карточки в Апдус устройства интерфейса, которые в противном случае не могут быть переданы доступными протоколами.</span><span class="sxs-lookup"><span data-stu-id="02dac-140">Transmits from the card to the interface device APDUs that otherwise could not be transmitted by the available protocols.</span></span><br/>                                                                                                                                                                               |
| [<span data-ttu-id="02dac-141">**интерналаусентикате**</span><span class="sxs-lookup"><span data-stu-id="02dac-141">**InternalAuthenticate**</span></span>](iscardiso7816-internalauthenticate.md) | <span data-ttu-id="02dac-142">Инициирует вычисление данных проверки подлинности картой с помощью данных запроса, отправленных с устройства интерфейса, и соответствующего секрета, хранящегося на карте.</span><span class="sxs-lookup"><span data-stu-id="02dac-142">Initiates the computation of the authentication data by the card using the challenge data sent from the interface device and a relevant secret stored in the card.</span></span><br/>                                                                                                                                      |
| [<span data-ttu-id="02dac-143">**манажечаннел**</span><span class="sxs-lookup"><span data-stu-id="02dac-143">**ManageChannel**</span></span>](iscardiso7816-managechannel.md)               | <span data-ttu-id="02dac-144">Открывает и закрывает логические каналы.</span><span class="sxs-lookup"><span data-stu-id="02dac-144">Opens and closes logical channels.</span></span><br/>                                                                                                                                                                                                                                                                      |
| [<span data-ttu-id="02dac-145">**путдата**</span><span class="sxs-lookup"><span data-stu-id="02dac-145">**PutData**</span></span>](iscardiso7816-putdata.md)                           | <span data-ttu-id="02dac-146">Хранит один объект примитивных данных или один или несколько объектов данных, содержащихся в сконструированном объекте данных, в текущем [*контексте Resource Manager*](../secgloss/r-gly.md).</span><span class="sxs-lookup"><span data-stu-id="02dac-146">Stores one primitive data object, or one or more data objects contained in a constructed data object, within the current [*resource manager context*](../secgloss/r-gly.md).</span></span><br/>                                                    |
| [<span data-ttu-id="02dac-147">**реадбинари**</span><span class="sxs-lookup"><span data-stu-id="02dac-147">**ReadBinary**</span></span>](iscardiso7816-readbinary.md)                     | <span data-ttu-id="02dac-148">Создает команду, которая получает ответное сообщение, которое дает часть содержимого EF с прозрачной структурой.</span><span class="sxs-lookup"><span data-stu-id="02dac-148">Constructs a command that acquires a response message that gives that part of the contents of an EF with transparent structure.</span></span><br/>                                                                                                                                                                         |
| [<span data-ttu-id="02dac-149">**реадрекорд**</span><span class="sxs-lookup"><span data-stu-id="02dac-149">**ReadRecord**</span></span>](iscardiso7816-readrecord.md)                     | <span data-ttu-id="02dac-150">Конструирует команду, которая считывает содержимое указанных записей простейшего файла.</span><span class="sxs-lookup"><span data-stu-id="02dac-150">Constructs a command that reads the contents of the specified records of an elementary file.</span></span><br/>                                                                                                                                                                                                            |
| [<span data-ttu-id="02dac-151">**селектфиле**</span><span class="sxs-lookup"><span data-stu-id="02dac-151">**SelectFile**</span></span>](iscardiso7816-selectfile.md)                     | <span data-ttu-id="02dac-152">Задает текущий файл в логическом канале.</span><span class="sxs-lookup"><span data-stu-id="02dac-152">Sets a current file within a logical channel.</span></span><br/>                                                                                                                                                                                                                                                           |
| [<span data-ttu-id="02dac-153">**сетдефаултклассид**</span><span class="sxs-lookup"><span data-stu-id="02dac-153">**SetDefaultClassId**</span></span>](iscardiso7816-setdefaultclassid.md)       | <span data-ttu-id="02dac-154">Назначает байт идентификатора стандартного класса, который будет использоваться во всех операциях при создании команды ISO 7816-4 КАТЕГОРИЯХ APDU.</span><span class="sxs-lookup"><span data-stu-id="02dac-154">Assigns a standard class ID byte that will be used in all operations when constructing an ISO 7816-4 command APDU.</span></span><br/>                                                                                                                                                                                      |
| [<span data-ttu-id="02dac-155">**упдатебинари**</span><span class="sxs-lookup"><span data-stu-id="02dac-155">**UpdateBinary**</span></span>](iscardiso7816-updatebinary.md)                 | <span data-ttu-id="02dac-156">Инициирует обновление битов, уже существующих в EF, с битами, заданной в команде КАТЕГОРИЯХ APDU.</span><span class="sxs-lookup"><span data-stu-id="02dac-156">Initiates the update of the bits already present in an EF with the bits given in the command APDU.</span></span><br/>                                                                                                                                                                                                      |
| [<span data-ttu-id="02dac-157">**упдатерекорд**</span><span class="sxs-lookup"><span data-stu-id="02dac-157">**UpdateRecord**</span></span>](iscardiso7816-updaterecord.md)                 | <span data-ttu-id="02dac-158">Конструирует команду, которая инициирует обновление определенной записи.</span><span class="sxs-lookup"><span data-stu-id="02dac-158">Constructs a command that initiates the updating of a specific record.</span></span><br/>                                                                                                                                                                                                                                  |
| [<span data-ttu-id="02dac-159">**Проверка**</span><span class="sxs-lookup"><span data-stu-id="02dac-159">**Verify**</span></span>](iscardiso7816-verify.md)                             | <span data-ttu-id="02dac-160">Инициирует сравнение в карточке данных проверки, отправленных с устройства интерфейса, с ссылочными данными, хранящимися на карте.</span><span class="sxs-lookup"><span data-stu-id="02dac-160">Initiates the comparison in the card of the verification data sent from the interface device with the reference data stored in the card.</span></span><br/>                                                                                                                                                                |
| [<span data-ttu-id="02dac-161">**вритебинари**</span><span class="sxs-lookup"><span data-stu-id="02dac-161">**WriteBinary**</span></span>](iscardiso7816-writebinary.md)                   | <span data-ttu-id="02dac-162">Инициирует запись двоичных значений в EF.</span><span class="sxs-lookup"><span data-stu-id="02dac-162">Initiates the writing of binary values into an EF.</span></span><br/>                                                                                                                                                                                                                                                      |
| [<span data-ttu-id="02dac-163">**вритерекорд**</span><span class="sxs-lookup"><span data-stu-id="02dac-163">**WriteRecord**</span></span>](iscardiso7816-writerecord.md)                   | <span data-ttu-id="02dac-164">Создает команду, которая записывает запись.</span><span class="sxs-lookup"><span data-stu-id="02dac-164">Constructs a command that writes a record.</span></span><br/>                                                                                                                                                                                                                                                              |



 

## <a name="requirements"></a><span data-ttu-id="02dac-165">Требования</span><span class="sxs-lookup"><span data-stu-id="02dac-165">Requirements</span></span>



| <span data-ttu-id="02dac-166">Требование</span><span class="sxs-lookup"><span data-stu-id="02dac-166">Requirement</span></span> | <span data-ttu-id="02dac-167">Значение</span><span class="sxs-lookup"><span data-stu-id="02dac-167">Value</span></span> |
|-------------------------------------|-----------------------------------------------------------------------------------------|
| <span data-ttu-id="02dac-168">Минимальная версия клиента</span><span class="sxs-lookup"><span data-stu-id="02dac-168">Minimum supported client</span></span><br/> | <span data-ttu-id="02dac-169">Только для \[ классических приложений Windows XP\]</span><span class="sxs-lookup"><span data-stu-id="02dac-169">Windows XP \[desktop apps only\]</span></span><br/>                                             |
| <span data-ttu-id="02dac-170">Минимальная версия сервера</span><span class="sxs-lookup"><span data-stu-id="02dac-170">Minimum supported server</span></span><br/> | <span data-ttu-id="02dac-171">\[Только для настольных приложений Windows Server 2003\]</span><span class="sxs-lookup"><span data-stu-id="02dac-171">Windows Server 2003 \[desktop apps only\]</span></span><br/>                                    |
| <span data-ttu-id="02dac-172">Окончание поддержки клиента</span><span class="sxs-lookup"><span data-stu-id="02dac-172">End of client support</span></span><br/>    | <span data-ttu-id="02dac-173">Windows XP</span><span class="sxs-lookup"><span data-stu-id="02dac-173">Windows XP</span></span><br/>                                                                   |
| <span data-ttu-id="02dac-174">Поддержка конца сервера</span><span class="sxs-lookup"><span data-stu-id="02dac-174">End of server support</span></span><br/>    | <span data-ttu-id="02dac-175">Windows Server 2003</span><span class="sxs-lookup"><span data-stu-id="02dac-175">Windows Server 2003</span></span><br/>                                                          |
| <span data-ttu-id="02dac-176">Header</span><span class="sxs-lookup"><span data-stu-id="02dac-176">Header</span></span><br/>                   | <dl> <span data-ttu-id="02dac-177"><dt>Скардссп. h</dt></span><span class="sxs-lookup"><span data-stu-id="02dac-177"><dt>Scardssp.h</dt></span></span> </dl>   |
| <span data-ttu-id="02dac-178">Библиотека типов</span><span class="sxs-lookup"><span data-stu-id="02dac-178">Type library</span></span><br/>             | <dl> <span data-ttu-id="02dac-179"><dt>Скардсрв. tlb</dt></span><span class="sxs-lookup"><span data-stu-id="02dac-179"><dt>Scardsrv.tlb</dt></span></span> </dl> |
| <span data-ttu-id="02dac-180">DLL</span><span class="sxs-lookup"><span data-stu-id="02dac-180">DLL</span></span><br/>                      | <dl> <span data-ttu-id="02dac-181"><dt>Scardssp.dll</dt></span><span class="sxs-lookup"><span data-stu-id="02dac-181"><dt>Scardssp.dll</dt></span></span> </dl> |
| <span data-ttu-id="02dac-182">IID</span><span class="sxs-lookup"><span data-stu-id="02dac-182">IID</span></span><br/>                      | <span data-ttu-id="02dac-183">IID \_ ISCardISO7816 определен как 53B6AA68-3F56-11D0-916B-00AA00C18068</span><span class="sxs-lookup"><span data-stu-id="02dac-183">IID\_ISCardISO7816 is defined as 53B6AA68-3F56-11D0-916B-00AA00C18068</span></span><br/>        |



 

 
