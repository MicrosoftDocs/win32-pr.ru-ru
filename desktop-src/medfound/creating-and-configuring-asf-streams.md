---
description: Каждый файл ASF содержит один или несколько потоков. Объект профиля ASF представляет коллекцию потоков ASF. Для кодирования ASF необходимо создать и настроить потоки, которые необходимо закодировать.
ms.assetid: cc89e8bc-58ff-48e2-9668-0dcd6cfd25e1
title: Создание и настройка потоков ASF
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: d8eabce588022dd66947f34e4dcd9db61f26448b
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "105656099"
---
# <a name="creating-and-configuring-asf-streams"></a><span data-ttu-id="d2821-105">Создание и настройка потоков ASF</span><span class="sxs-lookup"><span data-stu-id="d2821-105">Creating and Configuring ASF Streams</span></span>

<span data-ttu-id="d2821-106">Каждый файл ASF содержит один или несколько потоков.</span><span class="sxs-lookup"><span data-stu-id="d2821-106">Each ASF file contains one or more streams.</span></span> <span data-ttu-id="d2821-107">Объект [профиля ASF](asf-profile.md) представляет коллекцию потоков ASF.</span><span class="sxs-lookup"><span data-stu-id="d2821-107">The [ASF Profile](asf-profile.md) object represents a collection of ASF streams.</span></span> <span data-ttu-id="d2821-108">Для кодирования ASF необходимо создать и настроить потоки, которые необходимо закодировать.</span><span class="sxs-lookup"><span data-stu-id="d2821-108">For ASF encoding, you must create and configure the streams that you want to encode.</span></span>

<span data-ttu-id="d2821-109">Приложение может выполнять следующие задачи с помощью объекта профиля ASF:</span><span class="sxs-lookup"><span data-stu-id="d2821-109">An application can perform the following tasks with the ASF profile object:</span></span>

-   <span data-ttu-id="d2821-110">Добавление или удаление потока.</span><span class="sxs-lookup"><span data-stu-id="d2821-110">Add or remove a stream.</span></span>
-   <span data-ttu-id="d2821-111">Получение параметров конфигурации потока.</span><span class="sxs-lookup"><span data-stu-id="d2821-111">Obtain a stream's configuration settings.</span></span>
-   <span data-ttu-id="d2821-112">Настройка расширений полезных данных.</span><span class="sxs-lookup"><span data-stu-id="d2821-112">Configure payload extensions.</span></span>
-   <span data-ttu-id="d2821-113">Добавление, удаление или изменение объекта взаимного исключения ASF.</span><span class="sxs-lookup"><span data-stu-id="d2821-113">Add, remove, or modify an ASF mutual exclusion object.</span></span>

<span data-ttu-id="d2821-114">В этом разделе содержатся следующие подразделы.</span><span class="sxs-lookup"><span data-stu-id="d2821-114">This topic contains the following sections.</span></span>

-   [<span data-ttu-id="d2821-115">Создание нового потока</span><span class="sxs-lookup"><span data-stu-id="d2821-115">Creating a New Stream</span></span>](#creating-a-new-stream)
-   [<span data-ttu-id="d2821-116">Назначение номеров потоков</span><span class="sxs-lookup"><span data-stu-id="d2821-116">Assigning Stream Numbers</span></span>](#assigning-stream-numbers)
-   [<span data-ttu-id="d2821-117">Настройка значений сегментов с утечкой</span><span class="sxs-lookup"><span data-stu-id="d2821-117">Setting Leaky Bucket Values</span></span>](#setting-leaky-bucket-values)
-   [<span data-ttu-id="d2821-118">Расширения полезных данных</span><span class="sxs-lookup"><span data-stu-id="d2821-118">Payload Extensions</span></span>](#payload-extensions)
-   [<span data-ttu-id="d2821-119">Добавление потока в профиль</span><span class="sxs-lookup"><span data-stu-id="d2821-119">Adding a Stream to the Profile</span></span>](#adding-a-stream-to-the-profile)
-   [<span data-ttu-id="d2821-120">См. также</span><span class="sxs-lookup"><span data-stu-id="d2821-120">Related topics</span></span>](#related-topics)

## <a name="creating-a-new-stream"></a><span data-ttu-id="d2821-121">Создание нового потока</span><span class="sxs-lookup"><span data-stu-id="d2821-121">Creating a New Stream</span></span>

<span data-ttu-id="d2821-122">Объект профиля ASF должен содержать параметры конфигурации по крайней мере для одного потока ASF.</span><span class="sxs-lookup"><span data-stu-id="d2821-122">An ASF profile object must contain configuration settings for at least one ASF stream.</span></span> <span data-ttu-id="d2821-123">Каждый поток представлен объектом *конфигурации потока* , который предоставляет интерфейс [**имфасфстреамконфиг**](/windows/desktop/api/wmcontainer/nn-wmcontainer-imfasfstreamconfig) .</span><span class="sxs-lookup"><span data-stu-id="d2821-123">Each stream is represented by a *stream configuration* object, which exposes the [**IMFASFStreamConfig**](/windows/desktop/api/wmcontainer/nn-wmcontainer-imfasfstreamconfig) interface.</span></span> <span data-ttu-id="d2821-124">Сведения в объекте конфигурации потока соответствуют объекту свойств потока и объектам расширенных свойств потока в заголовке файла ASF.</span><span class="sxs-lookup"><span data-stu-id="d2821-124">The information in the stream configuration object corresponds to the Stream Properties Object and the Extended Stream Properties Objects in the ASF file header.</span></span> <span data-ttu-id="d2821-125">(См. раздел [Структура файлов ASF](asf-file-structure.md).)</span><span class="sxs-lookup"><span data-stu-id="d2821-125">(See [ASF File Structure](asf-file-structure.md).)</span></span>

<span data-ttu-id="d2821-126">Чтобы добавить поток в профиль ASF, выполните следующие действия.</span><span class="sxs-lookup"><span data-stu-id="d2821-126">To add a stream to an ASF profile, perform the following steps:</span></span>

1.  <span data-ttu-id="d2821-127">Создайте объект конфигурации пустого потока потока.</span><span class="sxs-lookup"><span data-stu-id="d2821-127">Create an empty stream stream configuration object.</span></span>
2.  <span data-ttu-id="d2821-128">Настройте поток в соответствии с требованиями приложения.</span><span class="sxs-lookup"><span data-stu-id="d2821-128">Configure the stream according to the application's requirements.</span></span>
3.  <span data-ttu-id="d2821-129">Добавьте поток в профиль.</span><span class="sxs-lookup"><span data-stu-id="d2821-129">Add the stream to the profile.</span></span>

<span data-ttu-id="d2821-130">Чтобы создать поток для профиля, вызовите метод [**имфасфпрофиле:: креатестреам**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfprofile-createstream) , чтобы создать пустой объект конфигурации потока и получить указатель в параметре *ппистреам* .</span><span class="sxs-lookup"><span data-stu-id="d2821-130">To create a stream for the profile, call [**IMFASFProfile::CreateStream**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfprofile-createstream) to create an empty stream configuration object and receive the pointer in the *ppIStream* parameter.</span></span> <span data-ttu-id="d2821-131">**Креатестреам** должен иметь тип создаваемого потока.</span><span class="sxs-lookup"><span data-stu-id="d2821-131">**CreateStream** needs to know the type of the stream to create.</span></span> <span data-ttu-id="d2821-132">Наиболее распространенными типами потоков, используемых в файлах ASF, являются потоки аудио и видео.</span><span class="sxs-lookup"><span data-stu-id="d2821-132">The most common types of streams used in ASF files are audio and video streams.</span></span> <span data-ttu-id="d2821-133">В Media Foundation типы потоков обозначаются объектом типа мультимедиа, предоставляющим интерфейс [**имфмедиатипе**](/windows/desktop/api/mfobjects/nn-mfobjects-imfmediatype) .</span><span class="sxs-lookup"><span data-stu-id="d2821-133">In Media Foundation, the stream types are denoted by the media type object that exposes the [**IMFMediaType**](/windows/desktop/api/mfobjects/nn-mfobjects-imfmediatype) interface.</span></span> <span data-ttu-id="d2821-134">Основной тип носителя определяет категорию потока цифрового мультимедиа, например аудио или видео.</span><span class="sxs-lookup"><span data-stu-id="d2821-134">The major type of the media type defines the category of the digital media stream, such as audio or video.</span></span> <span data-ttu-id="d2821-135">Подтип определяет формат основного типа.</span><span class="sxs-lookup"><span data-stu-id="d2821-135">The subtype defines the format of the major type.</span></span> <span data-ttu-id="d2821-136">Начальный тип носителя, заданный **креатестреам** , можно изменить с помощью объекта конфигурации Steam.</span><span class="sxs-lookup"><span data-stu-id="d2821-136">The initial media type set by **CreateStream** can be changed by using the steam configuration object.</span></span> <span data-ttu-id="d2821-137">Чтобы получить тип мультимедиа для потока, вызовите метод [**имфасфстреамконфиг:: жетмедиатипе**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfstreamconfig-getmediatype) или, чтобы получить основной тип вызова [**Имфасфстреамконфиг:: жетстреамтипе**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfstreamconfig-getstreamtype).</span><span class="sxs-lookup"><span data-stu-id="d2821-137">To retrieve the media type for the stream, call [**IMFASFStreamConfig::GetMediaType**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfstreamconfig-getmediatype) or to retrieve the major type call [**IMFASFStreamConfig::GetStreamType**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfstreamconfig-getstreamtype).</span></span> <span data-ttu-id="d2821-138">Исходный тип носителя для потока можно заменить новым настроенным типом мультимедиа путем вызова [**имфасфстреамконфиг:: сетмедиатипе**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfstreamconfig-setmediatype).</span><span class="sxs-lookup"><span data-stu-id="d2821-138">The initial media type for a stream can be replaced with a new configured media type by calling [**IMFASFStreamConfig::SetMediaType**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfstreamconfig-setmediatype).</span></span>

<span data-ttu-id="d2821-139">Значение, если приложение создает профиль из допустимого дескриптора представления путем вызова [**мфкреатеасфпрофилефромпресентатиондескриптор**](/windows/desktop/api/wmcontainer/nf-wmcontainer-mfcreateasfprofilefrompresentationdescriptor).</span><span class="sxs-lookup"><span data-stu-id="d2821-139">If an application creates a profile from a valid presentation descriptor by calling [**MFCreateASFProfileFromPresentationDescriptor**](/windows/desktop/api/wmcontainer/nf-wmcontainer-mfcreateasfprofilefrompresentationdescriptor).</span></span> <span data-ttu-id="d2821-140">Функция автоматически задает объекты конфигурации потока для каждого потока и задает их в профиле.</span><span class="sxs-lookup"><span data-stu-id="d2821-140">The function automatically sets the stream configuration objects for each of the streams and sets them on the profile.</span></span> <span data-ttu-id="d2821-141">Типы потоковых мультимедиа задаются на основе дескрипторов потоков, связанных с идентификатором представления.</span><span class="sxs-lookup"><span data-stu-id="d2821-141">The stream media types are set based on the stream descriptors associated with the presentation descriptor.</span></span>

## <a name="assigning-stream-numbers"></a><span data-ttu-id="d2821-142">Назначение номеров потоков</span><span class="sxs-lookup"><span data-stu-id="d2821-142">Assigning Stream Numbers</span></span>

<span data-ttu-id="d2821-143">Потокам всех типов должен быть присвоен номер потока.</span><span class="sxs-lookup"><span data-stu-id="d2821-143">Streams of all types must be assigned a stream number.</span></span> <span data-ttu-id="d2821-144">Номера потоков не должны быть последовательными, но должны находиться в диапазоне от 1 до 127.</span><span class="sxs-lookup"><span data-stu-id="d2821-144">Stream numbers need not be sequential but must be in the range from 1 to 127.</span></span> <span data-ttu-id="d2821-145">Чтобы назначить номера потоков, вызовите метод [**имфасфстреамконфиг:: сетстреамнумбер**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfstreamconfig-setstreamnumber).</span><span class="sxs-lookup"><span data-stu-id="d2821-145">To assign stream numbers, call [**IMFASFStreamConfig::SetStreamNumber**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfstreamconfig-setstreamnumber).</span></span> <span data-ttu-id="d2821-146">Чтобы получить вызов номера потока, [**имфасфстреамконфиг:: жетстреамнумбер**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfstreamconfig-getstreamnumber).</span><span class="sxs-lookup"><span data-stu-id="d2821-146">To get the stream number call, [**IMFASFStreamConfig::GetStreamNumber**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfstreamconfig-getstreamnumber).</span></span>

> [!Note]  
> <span data-ttu-id="d2821-147">Номер потока отличается от индекса потока, который используется при получении потоков в профиле с помощью [**имфасфпрофиле::-Stream**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfprofile-getstream).</span><span class="sxs-lookup"><span data-stu-id="d2821-147">A stream number is different from a stream index, which you use when getting streams in a profile by using [**IMFASFProfile::GetStream**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfprofile-getstream).</span></span> <span data-ttu-id="d2821-148">Индекс потока — это число, присвоенное потоку объектом Profile.</span><span class="sxs-lookup"><span data-stu-id="d2821-148">The stream index is a number assigned to the stream by the profile object.</span></span> <span data-ttu-id="d2821-149">Индексы потоков находятся в диапазоне от 0 до числа потоков, полученных с помощью [**имфасфпрофиле:: жетстреамкаунт**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfprofile-getstreamcount).</span><span class="sxs-lookup"><span data-stu-id="d2821-149">Stream indexes range between 0 and one less than the number of streams retrieved by [**IMFASFProfile::GetStreamCount**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfprofile-getstreamcount).</span></span> <span data-ttu-id="d2821-150">Вы также можете получить поток из профиля по номеру потока, вызвав [**имфасфпрофиле:: жетстреамбинумбер**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfprofile-getstreambynumber).</span><span class="sxs-lookup"><span data-stu-id="d2821-150">You can also get a stream from the profile by stream number by calling [**IMFASFProfile::GetStreamByNumber**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfprofile-getstreambynumber).</span></span>

 

## <a name="setting-leaky-bucket-values"></a><span data-ttu-id="d2821-151">Настройка значений сегментов с утечкой</span><span class="sxs-lookup"><span data-stu-id="d2821-151">Setting Leaky Bucket Values</span></span>

<span data-ttu-id="d2821-152">Каждый объект конфигурации потока, представляющий поток, должен иметь связанные параметры сегмента утечки, скорость потока и значения окна буфера.</span><span class="sxs-lookup"><span data-stu-id="d2821-152">Each stream configuration object that represents a stream must have associated leaky bucket parameters, bit rate and buffer window values.</span></span>

<span data-ttu-id="d2821-153">Эти значения доступны для приложения с помощью атрибута [**MF \_ асфстреамконфиг \_ LEAKYBUCKET1**](mf-asfstreamconfig-leakybucket1-attribute.md) и атрибута [**MF \_ асфстреамконфиг \_ LEAKYBUCKET2**](mf-asfstreamconfig-leakybucket2-attribute.md) .</span><span class="sxs-lookup"><span data-stu-id="d2821-153">These values are available to the application through the [**MF\_ASFSTREAMCONFIG\_LEAKYBUCKET1**](mf-asfstreamconfig-leakybucket1-attribute.md) attribute and the [**MF\_ASFSTREAMCONFIG\_LEAKYBUCKET2**](mf-asfstreamconfig-leakybucket2-attribute.md) attribute.</span></span> <span data-ttu-id="d2821-154">Для кодировки файлов фактические значения зависят от типа кодировки и определяются кодировщиком.</span><span class="sxs-lookup"><span data-stu-id="d2821-154">For file encoding, the actual values depend on the type of encoding and are decided by the encoder.</span></span> <span data-ttu-id="d2821-155">Если у вас уже есть настроенный кодировщик и для кодировщика задан тип выходных данных, приложение должно запросить у кодировщика параметры сегмента утечки и задать значения в этих атрибутах.</span><span class="sxs-lookup"><span data-stu-id="d2821-155">If you already have a configured encoder and the output type is set on the encoder, the application must query the encoder for the leaky bucket parameters and set the values in these attributes.</span></span>

<span data-ttu-id="d2821-156">Если вы используете компоненты уровня конвейера и настраиваете потоки для приемника мультимедиа ASF, скорее всего, у вас нет настроенного кодировщика.</span><span class="sxs-lookup"><span data-stu-id="d2821-156">If you are using the pipeline layer components and configuring the streams for the ASF media sink, most likely, you do not have a configured encoder.</span></span> <span data-ttu-id="d2821-157">В этом случае необходимо запросить согласования типов кодировщика после носителя и задать обновленное значение в свойстве [**мфпкэй \_ асфстреамсинк \_ исправлена \_ леакибуккет**](mfpkey-asfstreamsink-corrected-leakybucket-property.md) хранилища свойств приемника ASF Media.</span><span class="sxs-lookup"><span data-stu-id="d2821-157">In this case, you must query the encoder post-media type negotiations and set the updated value in the [**MFPKEY\_ASFSTREAMSINK\_CORRECTED\_LEAKYBUCKET**](mfpkey-asfstreamsink-corrected-leakybucket-property.md) property of the ASF media sink's property store.</span></span> <span data-ttu-id="d2821-158">Хранилище свойств кодирования извлекается с помощью объекта Контентинфо, связанного с профилем.</span><span class="sxs-lookup"><span data-stu-id="d2821-158">The encoding property store is retrieved through the of the ContentInfo object associated with the profile.</span></span> <span data-ttu-id="d2821-159">Обновленные значения автоматически отражаются в значениях атрибута контейнера утечки потока.</span><span class="sxs-lookup"><span data-stu-id="d2821-159">The updated values are reflected in the stream's leaky bucket attribute values automatically.</span></span> <span data-ttu-id="d2821-160">Общие сведения о сегментах утечки и о том, как получить значение сегмента утечки из кодировщика, см. в разделе [модель буфера для сегмента утечки](the-leaky-bucket-buffer-model.md).</span><span class="sxs-lookup"><span data-stu-id="d2821-160">For general information about leaky buckets and how to get the leaky bucket value from the encoder, see the [The Leaky Bucket Buffer Model](the-leaky-bucket-buffer-model.md).</span></span>

## <a name="payload-extensions"></a><span data-ttu-id="d2821-161">Расширения полезных данных</span><span class="sxs-lookup"><span data-stu-id="d2821-161">Payload Extensions</span></span>

<span data-ttu-id="d2821-162">Данные мультимедиа для потоков добавляются в объект данных ASF в качестве [образцов мультимедиа](media-samples.md) [мультиплексора ASF](asf-multiplexer.md).</span><span class="sxs-lookup"><span data-stu-id="d2821-162">Media data for the streams are added to the ASF Data Object as [Media Samples](media-samples.md) by the [ASF Multiplexer](asf-multiplexer.md).</span></span> <span data-ttu-id="d2821-163">Эти примеры носителей могут содержать данные расширения полезных данных: данные кода времени SMPTE, неквадратные пропорции, длительность выборки и, если в примере он содержится, кадр контрольного ключа.</span><span class="sxs-lookup"><span data-stu-id="d2821-163">These media samples can contain payload extension data: SMPTE time code data, non-square pixel aspect ratio, sample duration, and if the sample contains it, a video key frame.</span></span> <span data-ttu-id="d2821-164">Список поддерживаемых типов расширений полезных данных см. в разделе [идентификаторы GUID расширения полезных данных ASF](asf-payload-extension-guids.md).</span><span class="sxs-lookup"><span data-stu-id="d2821-164">For a list of the supported payload extension types, see [ASF Payload Extension GUIDs](asf-payload-extension-guids.md).</span></span>

<span data-ttu-id="d2821-165">Поток должен быть настроен для приема расширения полезных данных, чтобы во время создания примера мультиплексор мог добавить дополнительные данные в каждый выбор для этого потока.</span><span class="sxs-lookup"><span data-stu-id="d2821-165">A stream must be configured to accept payload extension so that during sample generation the multiplexer can add the supplementary data to each sample for that stream.</span></span>

<span data-ttu-id="d2821-166">Чтобы получить общее число расширений полезной нагрузки, установленных в потоке, вызовите [**имфасфстреамконфиг:: жетпайлоадекстенсионкаунт**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfstreamconfig-getpayloadextensioncount) , а затем перечислите список, вызвав [**Имфасфстреамконфиг:: жетпайлоадекстенсион**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfstreamconfig-getpayloadextension).</span><span class="sxs-lookup"><span data-stu-id="d2821-166">To get the total number of payload extensions set on the stream, call [**IMFASFStreamConfig::GetPayloadExtensionCount**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfstreamconfig-getpayloadextensioncount) and then enumerate the list by calling [**IMFASFStreamConfig::GetPayloadExtension**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfstreamconfig-getpayloadextension).</span></span> <span data-ttu-id="d2821-167">Чтобы добавить расширение полезных данных для потока, вызовите метод [**имфасфстреамконфиг:: аддпайлоадекстенсион**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfstreamconfig-addpayloadextension).</span><span class="sxs-lookup"><span data-stu-id="d2821-167">To add payload extension for the stream, call [**IMFASFStreamConfig::AddPayloadExtension**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfstreamconfig-addpayloadextension).</span></span> <span data-ttu-id="d2821-168">Это приведет к добавлению дополнительных данных в отдельные примеры носителей, созданные для потока.</span><span class="sxs-lookup"><span data-stu-id="d2821-168">This will add supplementary data to individual media samples generated for the stream.</span></span>

<span data-ttu-id="d2821-169">Чтобы удалить существующие расширения полезных данных, связанные с потоком, вызовите [**имфасфстреамконфиг:: ремовеаллпайлоадекстенсионс**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfstreamconfig-removeallpayloadextensions).</span><span class="sxs-lookup"><span data-stu-id="d2821-169">To remove existing payload extensions associated with the stream, call [**IMFASFStreamConfig::RemoveAllPayloadExtensions**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfstreamconfig-removeallpayloadextensions).</span></span>

## <a name="adding-a-stream-to-the-profile"></a><span data-ttu-id="d2821-170">Добавление потока в профиль</span><span class="sxs-lookup"><span data-stu-id="d2821-170">Adding a Stream to the Profile</span></span>

<span data-ttu-id="d2821-171">После настройки потока вызовите [**имфасфпрофиле:: сетстреам**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfprofile-setstream) , чтобы добавить поток в профиль.</span><span class="sxs-lookup"><span data-stu-id="d2821-171">After a stream is configured, call [**IMFASFProfile::SetStream**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfprofile-setstream) to add the stream to the profile.</span></span>

<span data-ttu-id="d2821-172">Чтобы удалить существующий поток в профиле, вызовите метод [**имфасфпрофиле:: ремовестреам**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfprofile-removestream).</span><span class="sxs-lookup"><span data-stu-id="d2821-172">To remove an existing stream in the profile, call [**IMFASFProfile::RemoveStream**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfprofile-removestream).</span></span>

<span data-ttu-id="d2821-173">Настроенный профиль должен быть установлен для объекта Контентинфо путем вызова [**имфасфконтентинфо:: сетпрофиле**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfcontentinfo-setprofile).</span><span class="sxs-lookup"><span data-stu-id="d2821-173">The configured profile must be set on the ContentInfo object by calling [**IMFASFContentInfo::SetProfile**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfcontentinfo-setprofile).</span></span> <span data-ttu-id="d2821-174">При внесении изменений в существующий поток необходимо снова добавить его в профиль и задать профиль для объекта Контентинфо.</span><span class="sxs-lookup"><span data-stu-id="d2821-174">If make changes to an existing stream, you must add it again to the profile and set the profile on the ContentInfo object.</span></span>

## <a name="related-topics"></a><span data-ttu-id="d2821-175">См. также</span><span class="sxs-lookup"><span data-stu-id="d2821-175">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="d2821-176">Профиль ASF</span><span class="sxs-lookup"><span data-stu-id="d2821-176">ASF Profile</span></span>](asf-profile.md)
</dt> <dt>

[<span data-ttu-id="d2821-177">Поддержка ASF в Media Foundation</span><span class="sxs-lookup"><span data-stu-id="d2821-177">ASF Support in Media Foundation</span></span>](asf-support-in-media-foundation.md)
</dt> <dt>

[<span data-ttu-id="d2821-178">Компоненты ASF Вмконтаинер</span><span class="sxs-lookup"><span data-stu-id="d2821-178">WMContainer ASF Components</span></span>](wmcontainer-asf-components.md)
</dt> </dl>

 

 



