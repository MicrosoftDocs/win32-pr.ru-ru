---
description: В этом разделе описывается структура файла в формате ASF.
ms.assetid: 4a817efa-5452-46bf-8921-2ba199c21949
title: Структура файла ASF
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 672067b5f933884326038a93b6d4538c68558856
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "104539656"
---
# <a name="asf-file-structure"></a>Структура файла ASF

В этом разделе описывается структура файла в формате ASF.

Чтобы получить подробные сведения о файлах ASF, скачайте [спецификацию ASF](https://www.microsoft.com/downloads/details.aspx?displaylang=en&FamilyID=56de5ee4-51ca-46c6-903b-97390ad14fea). Вы также можете использовать средство [Windows Media ASF Viewer 9 Series](https://www.microsoft.com/downloads/details.aspx?displaylang=en&FamilyID=56de5ee4-51ca-46c6-903b-97390ad14fea) для просмотра структуры существующего файла ASF.

Базовая единица Организации для файлов ASF называется *объектом*. Объект файла ASF содержит следующие данные.



| Данные                                                        | Размер     |
|-------------------------------------------------------------|----------|
| Идентификатор GUID, определяющий объект.                          | 128 бит |
| Размер объекта.                                     | 64 — бит. |
| Данные объекта. Данные объекта могут содержать другие объекты ASF. | Возможны разные варианты.  |



 

> [!Note]  
> Объект ASF-файла — это просто фрагмент данных. Это не объект в смысле программирования на компьютере.

 

Файл ASF содержит три типа файловых объектов верхнего уровня.



| Файл ASF                                                                                                                      | Описание                                          |
|--------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------|
| <span id="_Header_Object"></span><span id="_header_object"></span><span id="_HEADER_OBJECT"></span> Объект Header<br/>         | Содержит сведения о файле ASF.<br/>  |
| <span id="Data_Object"></span><span id="data_object"></span><span id="DATA_OBJECT"></span>Объект данных<br/>                     | Содержит пакеты данных мультимедиа.<br/>           |
| <span id="_Index_Object_s_"></span><span id="_index_object_s_"></span><span id="_INDEX_OBJECT_S_"></span> Объекты индекса<br/> | Содержит один или несколько индексов. (Необязательно.)<br/> |



 

На следующей схеме показана структура файла ASF.

![Схема, показывающая структуру файлов ASF, включая элементы в заголовке, данных и индексе](images/asf-components04.png)

Диаграмма не рисуется для масштабирования; обычно объект данных состоит из большей части файла.

### <a name="header-object"></a>Объект Header

Объект заголовка является обязательным и отображается в начале каждого ASF-файла. Он содержит глобальные атрибуты файлов и сведения о потоках в файле ASF. Эти сведения используются для интерпретации и воспроизведения данных в файле.

Объект заголовка содержит несколько подобъектов мадатори:

-   Объект свойств файла описывает глобальные атрибуты файла, например размер файла, длительность воспроизведения, число пакетов данных, минимальный и максимальный размер пакета и максимальную скорость.
-   Объект расширения заголовка позволяет добавлять дополнительные функции в файл ASF, сохраняя при этом обратную совместимость.
-   Объект свойств потока описывает один поток в файле. Файл ASF должен содержать по крайней мере один поток, поэтому по крайней мере один объект свойств потока.

Объект заголовка может содержать дополнительные дополнительные сведения, включая метаданные о файле (например, заголовок и автора), список кодеков, используемых для кодирования файла, и сведения о защите содержимого.

### <a name="data-object"></a>Объект данных

Объект данных ASF содержит все данные мультимедиа для файла ASF. Этот объект является обязательным и должен следовать за объектом заголовка ASF.

Объект данных делится на *пакеты* данных. Каждый пакет содержит данные для одного или нескольких потоков в файле. Пакет данных содержит заголовок пакета данных, который предоставляет сведения о синтаксическом анализе пакетов, а также полезные данные для фактических данных мультимедиа. Со всеми пакетами данных связано время презентации и они упорядочиваются в полученном порядке.

Сведения о содержимом объекта данных, например размер пакета и число пакетов, хранятся в объекте заголовка.

### <a name="index-object"></a>Объект index

Объект index является необязательным и является последним объектом в ASF-файле. Файл ASF может содержать более одного объекта индекса. Объект index обеспечивает произвольный доступ на основе времени к объекту данных ASF.

Простой объект индекса — это еще один тип индекса.

## <a name="related-topics"></a>См. также

<dl> <dt>

[Поддержка ASF в Media Foundation](asf-support-in-media-foundation.md)
</dt> </dl>

 

 




