---
description: Источник файлов MPEG-4 анализирует файлы MP4 и 3GPP.
ms.assetid: e64c1554-9702-4cc0-98ad-8a33e04ed09d
title: Источник файла MPEG-4
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: c90df56d58df19a53c37436bd631a1cc68dd8114
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "104263511"
---
# <a name="mpeg-4-file-source"></a><span data-ttu-id="a61d5-103">Источник файла MPEG-4</span><span class="sxs-lookup"><span data-stu-id="a61d5-103">MPEG-4 File Source</span></span>

<span data-ttu-id="a61d5-104">Источник файлов MPEG-4 анализирует файлы MP4 и 3GPP.</span><span class="sxs-lookup"><span data-stu-id="a61d5-104">The MPEG-4 file source parses MP4 and 3GPP files.</span></span> <span data-ttu-id="a61d5-105">Дополнительные сведения о формате файла MP4 см. в следующих документах по стандартам:</span><span class="sxs-lookup"><span data-stu-id="a61d5-105">For more information about the MP4 file format, refer to the following standards documents:</span></span>

-   <span data-ttu-id="a61d5-106">ISO/IEC 14496-12: *информационные технологии — Программирование звуковых визуальных объектов — часть 12: формат файла основного носителя ISO*</span><span class="sxs-lookup"><span data-stu-id="a61d5-106">ISO/IEC 14496-12: *Information technology -- Coding of audio-visual objects -- Part 12: ISO Base Media File Format*</span></span>
-   <span data-ttu-id="a61d5-107">ISO/IEC 14496-14: *информационные технологии — Программирование звуковых визуальных объектов — часть 14: формат файла MP4*</span><span class="sxs-lookup"><span data-stu-id="a61d5-107">ISO/IEC 14496-14: *Information technology -- Coding of audio-visual objects -- Part 14: MP4 File Format*</span></span>

> [!Note]  
> <span data-ttu-id="a61d5-108">(Эти ресурсы могут быть недоступны в некоторых языках и странах.)</span><span class="sxs-lookup"><span data-stu-id="a61d5-108">(These resources may not be available in some languages and countries.)</span></span>

 

<span data-ttu-id="a61d5-109">Источник файлов MPEG-4 не расшифровывает аудио-и видеоданные в файле.</span><span class="sxs-lookup"><span data-stu-id="a61d5-109">The MPEG-4 file source does not decode the audio/video data in the file.</span></span>

<span data-ttu-id="a61d5-110">В этом разделе содержатся следующие подразделы.</span><span class="sxs-lookup"><span data-stu-id="a61d5-110">This topic contains the following sections:</span></span>

## <a name="file-extensions-and-mime-types"></a><span data-ttu-id="a61d5-111">Расширения файлов и типы MIME</span><span class="sxs-lookup"><span data-stu-id="a61d5-111">File Extensions and MIME Types</span></span>

<span data-ttu-id="a61d5-112">Источник файлов MPEG-4 является источником мультимедиа по умолчанию для следующих расширений имен файлов.</span><span class="sxs-lookup"><span data-stu-id="a61d5-112">The MPEG-4 file source is the default media source for the following file name extensions.</span></span>



| <span data-ttu-id="a61d5-113">Расширение файла</span><span class="sxs-lookup"><span data-stu-id="a61d5-113">File extension</span></span> | <span data-ttu-id="a61d5-114">Описание</span><span class="sxs-lookup"><span data-stu-id="a61d5-114">Description</span></span>           |
|----------------|-----------------------|
| <span data-ttu-id="a61d5-115">.3g2</span><span class="sxs-lookup"><span data-stu-id="a61d5-115">.3g2</span></span>           | <span data-ttu-id="a61d5-116">3GPP2</span><span class="sxs-lookup"><span data-stu-id="a61d5-116">3GPP2</span></span>                 |
| <span data-ttu-id="a61d5-117">.3gp</span><span class="sxs-lookup"><span data-stu-id="a61d5-117">.3gp</span></span>           | <span data-ttu-id="a61d5-118">3GPP</span><span class="sxs-lookup"><span data-stu-id="a61d5-118">3GPP</span></span>                  |
| <span data-ttu-id="a61d5-119">.3gp2</span><span class="sxs-lookup"><span data-stu-id="a61d5-119">.3gp2</span></span>          | <span data-ttu-id="a61d5-120">3GPP2</span><span class="sxs-lookup"><span data-stu-id="a61d5-120">3GPP2</span></span>                 |
| <span data-ttu-id="a61d5-121">.3gpp</span><span class="sxs-lookup"><span data-stu-id="a61d5-121">.3gpp</span></span>          | <span data-ttu-id="a61d5-122">3GPP</span><span class="sxs-lookup"><span data-stu-id="a61d5-122">3GPP</span></span>                  |
| <span data-ttu-id="a61d5-123">.m4a</span><span class="sxs-lookup"><span data-stu-id="a61d5-123">.m4a</span></span>           | <span data-ttu-id="a61d5-124">Аудио MPEG-4</span><span class="sxs-lookup"><span data-stu-id="a61d5-124">MPEG-4 audio</span></span>          |
| <span data-ttu-id="a61d5-125">.m4v</span><span class="sxs-lookup"><span data-stu-id="a61d5-125">.m4v</span></span>           | <span data-ttu-id="a61d5-126">Видео MPEG-4</span><span class="sxs-lookup"><span data-stu-id="a61d5-126">MPEG-4 video</span></span>          |
| <span data-ttu-id="a61d5-127">.mov</span><span class="sxs-lookup"><span data-stu-id="a61d5-127">.mov</span></span>           | <span data-ttu-id="a61d5-128">Ролик Apple QuickTime</span><span class="sxs-lookup"><span data-stu-id="a61d5-128">Apple QuickTime Movie</span></span> |
| <span data-ttu-id="a61d5-129">.mp4</span><span class="sxs-lookup"><span data-stu-id="a61d5-129">.mp4</span></span>           | <span data-ttu-id="a61d5-130">Аудио или видео MPEG-4</span><span class="sxs-lookup"><span data-stu-id="a61d5-130">MPEG-4 audio or video</span></span> |
| <span data-ttu-id="a61d5-131">.mp4v</span><span class="sxs-lookup"><span data-stu-id="a61d5-131">.mp4v</span></span>          | <span data-ttu-id="a61d5-132">Видео MPEG-4</span><span class="sxs-lookup"><span data-stu-id="a61d5-132">MPEG-4 video</span></span>          |



 

<span data-ttu-id="a61d5-133">Он также является источником мультимедиа по умолчанию для следующих типов MIME.</span><span class="sxs-lookup"><span data-stu-id="a61d5-133">It is also the default media source for the following MIME types.</span></span>



| <span data-ttu-id="a61d5-134">тип MIME</span><span class="sxs-lookup"><span data-stu-id="a61d5-134">MIME type</span></span>   | <span data-ttu-id="a61d5-135">Описание</span><span class="sxs-lookup"><span data-stu-id="a61d5-135">Description</span></span>  |
|-------------|--------------|
| <span data-ttu-id="a61d5-136">аудио/3GPP</span><span class="sxs-lookup"><span data-stu-id="a61d5-136">audio/3gpp</span></span>  | <span data-ttu-id="a61d5-137">3GPP аудио</span><span class="sxs-lookup"><span data-stu-id="a61d5-137">3GPP audio</span></span>   |
| <span data-ttu-id="a61d5-138">аудио/3GPP2</span><span class="sxs-lookup"><span data-stu-id="a61d5-138">audio/3gpp2</span></span> | <span data-ttu-id="a61d5-139">3GPP2 аудио</span><span class="sxs-lookup"><span data-stu-id="a61d5-139">3GPP2 audio</span></span>  |
| <span data-ttu-id="a61d5-140">аудио/MP4</span><span class="sxs-lookup"><span data-stu-id="a61d5-140">audio/mp4</span></span>   | <span data-ttu-id="a61d5-141">Аудио MPEG-4</span><span class="sxs-lookup"><span data-stu-id="a61d5-141">MPEG-4 audio</span></span> |
| <span data-ttu-id="a61d5-142">видео и 3GPP</span><span class="sxs-lookup"><span data-stu-id="a61d5-142">video/3gpp</span></span>  | <span data-ttu-id="a61d5-143">видео 3GPP</span><span class="sxs-lookup"><span data-stu-id="a61d5-143">3GPP video</span></span>   |
| <span data-ttu-id="a61d5-144">видео и 3GPP2</span><span class="sxs-lookup"><span data-stu-id="a61d5-144">video/3gpp2</span></span> | <span data-ttu-id="a61d5-145">видео 3GPP2</span><span class="sxs-lookup"><span data-stu-id="a61d5-145">3GPP2 video</span></span>  |
| <span data-ttu-id="a61d5-146">видео и MP4</span><span class="sxs-lookup"><span data-stu-id="a61d5-146">video/mp4</span></span>   | <span data-ttu-id="a61d5-147">Видео MPEG-4</span><span class="sxs-lookup"><span data-stu-id="a61d5-147">MPEG-4 video</span></span> |



 

## <a name="media-types"></a><span data-ttu-id="a61d5-148">Типы носителей</span><span class="sxs-lookup"><span data-stu-id="a61d5-148">Media Types</span></span>

<span data-ttu-id="a61d5-149">MP4 — это расширяемый формат контейнеров.</span><span class="sxs-lookup"><span data-stu-id="a61d5-149">MP4 is an extensible container format.</span></span> <span data-ttu-id="a61d5-150">Спецификация MP4 не определяет фиксированную структуру для описания типов мультимедиа в контейнере MP4.</span><span class="sxs-lookup"><span data-stu-id="a61d5-150">The MP4 specification does not define a fixed structure for describing media types in an MP4 container.</span></span> <span data-ttu-id="a61d5-151">Вместо этого он определяет иерархию объектов, позволяющую определять пользовательские структуры для каждого формата.</span><span class="sxs-lookup"><span data-stu-id="a61d5-151">Instead, it defines an object hierarchy that allows custom structures to be defined for each format.</span></span> <span data-ttu-id="a61d5-152">Описание формата хранится в поле "пример описания" ("стсд") для этого потока.</span><span class="sxs-lookup"><span data-stu-id="a61d5-152">The format description is stored in the sample description ('stsd') box for that stream.</span></span> <span data-ttu-id="a61d5-153">В поле Описание примера содержится список образцов записей.</span><span class="sxs-lookup"><span data-stu-id="a61d5-153">The sample description box contains a list of sample entries.</span></span> <span data-ttu-id="a61d5-154">Для каждой записи примера 4-байтовый код, аналогичный набору FOURCC, определяет структуру формата.</span><span class="sxs-lookup"><span data-stu-id="a61d5-154">For each sample entry, a 4-byte code, similar to a FOURCC, defines the format structure.</span></span>

<span data-ttu-id="a61d5-155">Это расширение означает, что источник файла MPEG-4 не может распознать каждое возможное описание формата.</span><span class="sxs-lookup"><span data-stu-id="a61d5-155">This extensibility means the MPEG-4 file source cannot recognize every possible format description.</span></span> <span data-ttu-id="a61d5-156">Вместо этого он использует двухуровневый подход при создании типов мультимедиа для потоков.</span><span class="sxs-lookup"><span data-stu-id="a61d5-156">Instead, it takes a two-tiered approach when creating media types for the streams.</span></span> <span data-ttu-id="a61d5-157">Как минимум каждый тип носителя содержит следующие атрибуты.</span><span class="sxs-lookup"><span data-stu-id="a61d5-157">At a minimum, every media type contains the following attributes.</span></span>



| <span data-ttu-id="a61d5-158">attribute</span><span class="sxs-lookup"><span data-stu-id="a61d5-158">Attribute</span></span>                                                                     | <span data-ttu-id="a61d5-159">Описание</span><span class="sxs-lookup"><span data-stu-id="a61d5-159">Description</span></span>                                                    |
|-------------------------------------------------------------------------------|----------------------------------------------------------------|
| [<span data-ttu-id="a61d5-160">**\_ \_ основной тип MF \_ MT**</span><span class="sxs-lookup"><span data-stu-id="a61d5-160">**MF\_MT\_MAJOR\_TYPE**</span></span>](mf-mt-major-type-attribute.md)                     | <span data-ttu-id="a61d5-161">Равно **мфмедиатипе \_ Audio** или **мфмедиатипе \_ Video**.</span><span class="sxs-lookup"><span data-stu-id="a61d5-161">Equal to **MFMediaType\_Audio** or **MFMediaType\_Video**.</span></span>     |
| [<span data-ttu-id="a61d5-162">**подтип MF \_ MT \_**</span><span class="sxs-lookup"><span data-stu-id="a61d5-162">**MF\_MT\_SUBTYPE**</span></span>](mf-mt-subtype-attribute.md)                            | <span data-ttu-id="a61d5-163">Указывает подтип потока.</span><span class="sxs-lookup"><span data-stu-id="a61d5-163">Specifies the stream subtype.</span></span>                                  |
| [<span data-ttu-id="a61d5-164">\_ \_ \_ Описание образца MPEG4 \_ MF</span><span class="sxs-lookup"><span data-stu-id="a61d5-164">MF\_MT\_MPEG4\_SAMPLE\_DESCRIPTION</span></span>](mf-mt-mpeg4-sample-description.md)      | <span data-ttu-id="a61d5-165">Содержит полное поле описания примера как двоичный BLOB-объект.</span><span class="sxs-lookup"><span data-stu-id="a61d5-165">Contains the complete sample description box as a binary blob.</span></span> |
| [<span data-ttu-id="a61d5-166">\_ \_ \_ \_ Запись текущего примера \_ в MF MT</span><span class="sxs-lookup"><span data-stu-id="a61d5-166">MF\_MT\_MPEG4\_CURRENT\_SAMPLE\_ENTRY</span></span>](mf-mt-mpeg4-current-sample-entry.md) | <span data-ttu-id="a61d5-167">Задает текущую запись в поле Описание образца.</span><span class="sxs-lookup"><span data-stu-id="a61d5-167">Specifies the current entry in the sample description box.</span></span>     |



 

<span data-ttu-id="a61d5-168">Источник файлов MPEG-4 распознает некоторые примеры типов записей.</span><span class="sxs-lookup"><span data-stu-id="a61d5-168">The MPEG-4 file source recognizes some sample entry types.</span></span> <span data-ttu-id="a61d5-169">Для этих записей можно выполнить синтаксический анализ структуры формата и создать полный тип мультимедиа с дополнительными атрибутами, описывающими сведения о формате.</span><span class="sxs-lookup"><span data-stu-id="a61d5-169">For these entries, it can parse the format structure and create a complete media type, with additional attributes that describe the format details.</span></span> <span data-ttu-id="a61d5-170">См. раздел [атрибуты типа носителя](media-type-attributes.md).</span><span class="sxs-lookup"><span data-stu-id="a61d5-170">See [Media Type Attributes](media-type-attributes.md).</span></span>

<span data-ttu-id="a61d5-171">Источник файлов MPEG-4 может анализировать следующие записи образцов.</span><span class="sxs-lookup"><span data-stu-id="a61d5-171">The MPEG-4 file source can parse the following sample entries.</span></span>



| <span data-ttu-id="a61d5-172">Пример кода записи</span><span class="sxs-lookup"><span data-stu-id="a61d5-172">Sample entry code</span></span> | <span data-ttu-id="a61d5-173">Основной тип</span><span class="sxs-lookup"><span data-stu-id="a61d5-173">Major type</span></span> | <span data-ttu-id="a61d5-174">Subtype</span><span class="sxs-lookup"><span data-stu-id="a61d5-174">Subtype</span></span>                                                               | <span data-ttu-id="a61d5-175">Описание</span><span class="sxs-lookup"><span data-stu-id="a61d5-175">Description</span></span>                                         | <span data-ttu-id="a61d5-176">Примечания</span><span class="sxs-lookup"><span data-stu-id="a61d5-176">Notes</span></span>                                                                                                                                                                                            |
|-------------------|------------|-----------------------------------------------------------------------|-----------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="a61d5-177">"Алав"</span><span class="sxs-lookup"><span data-stu-id="a61d5-177">'alaw'</span></span>            | <span data-ttu-id="a61d5-178">звук;</span><span class="sxs-lookup"><span data-stu-id="a61d5-178">Audio</span></span>      | <span data-ttu-id="a61d5-179">**\_Формат волны \_ Алав**</span><span class="sxs-lookup"><span data-stu-id="a61d5-179">**WAVE\_FORMAT\_ALAW**</span></span>                                                | <span data-ttu-id="a61d5-180">Написание закона</span><span class="sxs-lookup"><span data-stu-id="a61d5-180">A-law coding</span></span>                                        |                                                                                                                                                                                                  |
| <span data-ttu-id="a61d5-181">Рисунок</span><span class="sxs-lookup"><span data-stu-id="a61d5-181">'jpeg'</span></span>            | <span data-ttu-id="a61d5-182">Видео</span><span class="sxs-lookup"><span data-stu-id="a61d5-182">Video</span></span>      | <span data-ttu-id="a61d5-183">**Мфвидеоформат \_ мжпг**</span><span class="sxs-lookup"><span data-stu-id="a61d5-183">**MFVideoFormat\_MJPG**</span></span>                                               | <span data-ttu-id="a61d5-184">Фото — поток JPEG</span><span class="sxs-lookup"><span data-stu-id="a61d5-184">Photo-JPEG stream</span></span>                                   | <span data-ttu-id="a61d5-185">Формат контейнера QuickTime также поддерживает потоки перемещения JPEG с записями "мжпа" или "мжпб", но источник файлов MPEG-4 не предоставляет полный тип носителя для этих типов.</span><span class="sxs-lookup"><span data-stu-id="a61d5-185">The QuickTime container format also supports motion JPEG streams with 'mjpa' or 'mjpb' entries, but the MPEG-4 file source does not provide a complete media type for those types.</span></span>               |
| <span data-ttu-id="a61d5-186">'avc1'</span><span class="sxs-lookup"><span data-stu-id="a61d5-186">'avc1'</span></span>            | <span data-ttu-id="a61d5-187">Видео</span><span class="sxs-lookup"><span data-stu-id="a61d5-187">Video</span></span>      | <span data-ttu-id="a61d5-188">**Мфвидеоформат \_ H264 Single bitrate**</span><span class="sxs-lookup"><span data-stu-id="a61d5-188">**MFVideoFormat\_H264**</span></span>                                               | <span data-ttu-id="a61d5-189">Видео H. 264</span><span class="sxs-lookup"><span data-stu-id="a61d5-189">H.264 video</span></span>                                         |                                                                                                                                                                                                  |
| <span data-ttu-id="a61d5-190">'mp4a'</span><span class="sxs-lookup"><span data-stu-id="a61d5-190">'mp4a'</span></span>            | <span data-ttu-id="a61d5-191">звук;</span><span class="sxs-lookup"><span data-stu-id="a61d5-191">Audio</span></span>      | <span data-ttu-id="a61d5-192">**Мфаудиоформат \_ AAC**</span><span class="sxs-lookup"><span data-stu-id="a61d5-192">**MFAudioFormat\_AAC**</span></span><br/> <span data-ttu-id="a61d5-193">**Мфаудиоформат \_ MP3**</span><span class="sxs-lookup"><span data-stu-id="a61d5-193">**MFAudioFormat\_MP3**</span></span><br/>   | <span data-ttu-id="a61d5-194">AAC или MP3</span><span class="sxs-lookup"><span data-stu-id="a61d5-194">AAC or MP3</span></span>                                          | <span data-ttu-id="a61d5-195">Запись "mp4a" может описывать другие аудио-форматы MPEG, но источник файлов MPEG-4 не анализирует структуру формата.</span><span class="sxs-lookup"><span data-stu-id="a61d5-195">The 'mp4a' entry can describe other MPEG audio formats, but the MPEG-4 file source does not parse the format structure.</span></span>                                                                          |
| <span data-ttu-id="a61d5-196">'mp4v'</span><span class="sxs-lookup"><span data-stu-id="a61d5-196">'mp4v'</span></span>            | <span data-ttu-id="a61d5-197">Видео</span><span class="sxs-lookup"><span data-stu-id="a61d5-197">Video</span></span>      | <span data-ttu-id="a61d5-198">**Мфвидеоформат \_ M4S2**</span><span class="sxs-lookup"><span data-stu-id="a61d5-198">**MFVideoFormat\_M4S2**</span></span><br/> <span data-ttu-id="a61d5-199">**Мфвидеоформат \_ MP4V**</span><span class="sxs-lookup"><span data-stu-id="a61d5-199">**MFVideoFormat\_MP4V**</span></span><br/> | <span data-ttu-id="a61d5-200">MPEG-4 часть 2</span><span class="sxs-lookup"><span data-stu-id="a61d5-200">MPEG-4 part 2</span></span>                                       | <span data-ttu-id="a61d5-201">**Мфвидеоформат \_ M4S2** используется для простого профиля MPEG-4 Part 2.</span><span class="sxs-lookup"><span data-stu-id="a61d5-201">**MFVideoFormat\_M4S2** is used for MPEG-4 part 2 Simple Profile.</span></span><br/> <span data-ttu-id="a61d5-202">**Мфвидеоформат \_ MP4V** используется для всех других профилей MPEG-4 Part 2, включая расширенный простой профиль.</span><span class="sxs-lookup"><span data-stu-id="a61d5-202">**MFVideoFormat\_MP4V** is used for all other MPEG-4 part 2 profiles, including Advanced Simple Profile.</span></span><br/> |
| <span data-ttu-id="a61d5-203">чтен</span><span class="sxs-lookup"><span data-stu-id="a61d5-203">'raw '</span></span>            | <span data-ttu-id="a61d5-204">звук;</span><span class="sxs-lookup"><span data-stu-id="a61d5-204">Audio</span></span>      | <span data-ttu-id="a61d5-205">**Мфаудиоформат \_ PCM**</span><span class="sxs-lookup"><span data-stu-id="a61d5-205">**MFAudioFormat\_PCM**</span></span>                                                | <span data-ttu-id="a61d5-206">8-разрядный звук PCM</span><span class="sxs-lookup"><span data-stu-id="a61d5-206">8-bit PCM audio</span></span>                                     |                                                                                                                                                                                                  |
| <span data-ttu-id="a61d5-207">"СОВТ"</span><span class="sxs-lookup"><span data-stu-id="a61d5-207">'sowt'</span></span>            | <span data-ttu-id="a61d5-208">звук;</span><span class="sxs-lookup"><span data-stu-id="a61d5-208">Audio</span></span>      | <span data-ttu-id="a61d5-209">**Мфаудиоформат \_ PCM**</span><span class="sxs-lookup"><span data-stu-id="a61d5-209">**MFAudioFormat\_PCM**</span></span>                                                | <span data-ttu-id="a61d5-210">16-битный звук PCM с прямым порядком байтов</span><span class="sxs-lookup"><span data-stu-id="a61d5-210">16-bit little-endian PCM audio</span></span>                      |                                                                                                                                                                                                  |
| <span data-ttu-id="a61d5-211">парных</span><span class="sxs-lookup"><span data-stu-id="a61d5-211">'twos'</span></span>            | <span data-ttu-id="a61d5-212">звук;</span><span class="sxs-lookup"><span data-stu-id="a61d5-212">Audio</span></span>      | <span data-ttu-id="a61d5-213">**Мфаудиоформат \_ PCM**</span><span class="sxs-lookup"><span data-stu-id="a61d5-213">**MFAudioFormat\_PCM**</span></span>                                                | <span data-ttu-id="a61d5-214">16-битный звук PCM с обратным порядком байтов</span><span class="sxs-lookup"><span data-stu-id="a61d5-214">16-bit big-endian PCM audio</span></span>                         | <span data-ttu-id="a61d5-215">Источник файлов MPEG-4 преобразует звуковые данные в формат с прямым порядком байтов.</span><span class="sxs-lookup"><span data-stu-id="a61d5-215">The MPEG-4 file source converts the audio data to little-endian format.</span></span>                                                                                                                          |
| <span data-ttu-id="a61d5-216">"Улав"</span><span class="sxs-lookup"><span data-stu-id="a61d5-216">'ulaw'</span></span>            | <span data-ttu-id="a61d5-217">звук;</span><span class="sxs-lookup"><span data-stu-id="a61d5-217">Audio</span></span>      | <span data-ttu-id="a61d5-218">**\_Формат волны \_ мулав**</span><span class="sxs-lookup"><span data-stu-id="a61d5-218">**WAVE\_FORMAT\_MULAW**</span></span>                                               | <span data-ttu-id="a61d5-219">μное написание закона</span><span class="sxs-lookup"><span data-stu-id="a61d5-219">μ-law coding</span></span>                                        |                                                                                                                                                                                                  |
| <span data-ttu-id="a61d5-220">"VC-1"</span><span class="sxs-lookup"><span data-stu-id="a61d5-220">'vc-1'</span></span>            | <span data-ttu-id="a61d5-221">Видео</span><span class="sxs-lookup"><span data-stu-id="a61d5-221">Video</span></span>      | <span data-ttu-id="a61d5-222">**Мфвидеоформат \_ WVC1**</span><span class="sxs-lookup"><span data-stu-id="a61d5-222">**MFVideoFormat\_WVC1**</span></span>                                               | <span data-ttu-id="a61d5-223">Видео VC-1</span><span class="sxs-lookup"><span data-stu-id="a61d5-223">VC-1 video</span></span>                                          |                                                                                                                                                                                                  |
| <span data-ttu-id="a61d5-224">None</span><span class="sxs-lookup"><span data-stu-id="a61d5-224">'NONE'</span></span>            | <span data-ttu-id="a61d5-225">звук;</span><span class="sxs-lookup"><span data-stu-id="a61d5-225">Audio</span></span>      | <span data-ttu-id="a61d5-226">**Мфаудиоформат \_ PCM**</span><span class="sxs-lookup"><span data-stu-id="a61d5-226">**MFAudioFormat\_PCM**</span></span>                                                | <span data-ttu-id="a61d5-227">8-битный или 16-битный звук PCM с обратным порядком байтов</span><span class="sxs-lookup"><span data-stu-id="a61d5-227">8-bit or 16-bit big-endian PCM audio</span></span>                | <span data-ttu-id="a61d5-228">Источник файлов MPEG-4 преобразует звуковые данные в формат с прямым порядком байтов.</span><span class="sxs-lookup"><span data-stu-id="a61d5-228">The MPEG-4 file source converts the audio data to little-endian format.</span></span>                                                                                                                          |
| <span data-ttu-id="a61d5-229">0x00000000</span><span class="sxs-lookup"><span data-stu-id="a61d5-229">0x00000000</span></span>        | <span data-ttu-id="a61d5-230">звук;</span><span class="sxs-lookup"><span data-stu-id="a61d5-230">Audio</span></span>      | <span data-ttu-id="a61d5-231">**Мфаудиоформат \_ PCM**</span><span class="sxs-lookup"><span data-stu-id="a61d5-231">**MFAudioFormat\_PCM**</span></span>                                                | <span data-ttu-id="a61d5-232">8-битный или 16-битный звук PCM с обратным порядком байтов</span><span class="sxs-lookup"><span data-stu-id="a61d5-232">8-bit or 16-bit big-endian PCM audio</span></span>                | <span data-ttu-id="a61d5-233">Источник файлов MPEG-4 преобразует звуковые данные в формат с прямым порядком байтов.</span><span class="sxs-lookup"><span data-stu-id="a61d5-233">The MPEG-4 file source converts the audio data to little-endian format.</span></span>                                                                                                                          |
| <span data-ttu-id="a61d5-234">0x6d730002</span><span class="sxs-lookup"><span data-stu-id="a61d5-234">0x6d730002</span></span>        | <span data-ttu-id="a61d5-235">звук;</span><span class="sxs-lookup"><span data-stu-id="a61d5-235">Audio</span></span>      | <span data-ttu-id="a61d5-236">**\_Формат волны \_ ADPCM**</span><span class="sxs-lookup"><span data-stu-id="a61d5-236">**WAVE\_FORMAT\_ADPCM**</span></span>                                               | <span data-ttu-id="a61d5-237">Адаптивное разностное импульсное программное средство модуляции (ADPCM)</span><span class="sxs-lookup"><span data-stu-id="a61d5-237">Adaptive Differential Pulse Code Modulation (ADPCM)</span></span> |                                                                                                                                                                                                  |
| <span data-ttu-id="a61d5-238">0x6d730011</span><span class="sxs-lookup"><span data-stu-id="a61d5-238">0x6d730011</span></span>        | <span data-ttu-id="a61d5-239">звук;</span><span class="sxs-lookup"><span data-stu-id="a61d5-239">Audio</span></span>      | <span data-ttu-id="a61d5-240">**\_Формат волны \_ Има \_ ADPCM**</span><span class="sxs-lookup"><span data-stu-id="a61d5-240">**WAVE\_FORMAT\_IMA\_ADPCM**</span></span>                                          | <span data-ttu-id="a61d5-241">СЖАТИЯ</span><span class="sxs-lookup"><span data-stu-id="a61d5-241">ADPCM</span></span>                                               |                                                                                                                                                                                                  |



 

<span data-ttu-id="a61d5-242">Для любых других кодов, не показанных в предыдущей таблице, тип источника MPEG-4 задает следующий подтип:</span><span class="sxs-lookup"><span data-stu-id="a61d5-242">For any other codes not shown in the previous table, the MPEG-4 file source sets the subtype as follows:</span></span>

1.  <span data-ttu-id="a61d5-243">*подтип* = MFMPEG4Format \_ base</span><span class="sxs-lookup"><span data-stu-id="a61d5-243">*subtype* = MFMPEG4Format\_Base</span></span>
2.  <span data-ttu-id="a61d5-244">*подтип*. Файл1 = пример кода записи</span><span class="sxs-lookup"><span data-stu-id="a61d5-244">*subtype*.Data1 = sample entry code</span></span>

<span data-ttu-id="a61d5-245">Для кодов, не показанных в таблице, декодер должен использовать атрибут [ \_ Description для \_ \_ \_ описания образца в MF](mf-mt-mpeg4-sample-description.md) , чтобы проанализировать поле описания.</span><span class="sxs-lookup"><span data-stu-id="a61d5-245">For codes not shown in the table, a decoder must use the [MF\_MT\_MPEG4\_SAMPLE\_DESCRIPTION](mf-mt-mpeg4-sample-description.md) attribute to parse the sample description box.</span></span>

<span data-ttu-id="a61d5-246">Список примеров кодов входа и ссылки на соответствующие спецификации см. на веб-сайте [центра регистрации MP4](https://mp4ra.org) .</span><span class="sxs-lookup"><span data-stu-id="a61d5-246">For a list of sample entry codes and links to relevant specifications, see the ['MP4' Registration Authority](https://mp4ra.org) website.</span></span>

## <a name="limitations"></a><span data-ttu-id="a61d5-247">Ограничения</span><span class="sxs-lookup"><span data-stu-id="a61d5-247">Limitations</span></span>

<span data-ttu-id="a61d5-248">Источник файлов MPEG-4 не поддерживает следующие возможности файлов MP4:</span><span class="sxs-lookup"><span data-stu-id="a61d5-248">The MPEG-4 file source does not support the following features of MP4 files:</span></span>

-   <span data-ttu-id="a61d5-249">Внешние дорожки.</span><span class="sxs-lookup"><span data-stu-id="a61d5-249">External tracks.</span></span>
-   <span data-ttu-id="a61d5-250">Фрагменты роликов (поля "moof" или "mfra").</span><span class="sxs-lookup"><span data-stu-id="a61d5-250">Movie fragments ('moof' or 'mfra' boxes).</span></span> <span data-ttu-id="a61d5-251">"moof" поддерживается в Windows 8.</span><span class="sxs-lookup"><span data-stu-id="a61d5-251">'moof' is supported in Windows 8.</span></span>
-   <span data-ttu-id="a61d5-252">Потоковые презентации.</span><span class="sxs-lookup"><span data-stu-id="a61d5-252">Streamed presentations.</span></span> <span data-ttu-id="a61d5-253">Источник файлов MPEG-4 автоматически игнорирует дорожки подсказок.</span><span class="sxs-lookup"><span data-stu-id="a61d5-253">The MPEG-4 file source silently ignores hint tracks.</span></span>
-   <span data-ttu-id="a61d5-254">Поиск по коду времени SMPTE.</span><span class="sxs-lookup"><span data-stu-id="a61d5-254">Seeking by SMPTE time code.</span></span>
-   <span data-ttu-id="a61d5-255">("Кмов") атомы.</span><span class="sxs-lookup"><span data-stu-id="a61d5-255">Compressed ('cmov') atoms.</span></span>

<span data-ttu-id="a61d5-256">Поддерживаются только потоки видео и аудио.</span><span class="sxs-lookup"><span data-stu-id="a61d5-256">Only video and audio streams are supported.</span></span> <span data-ttu-id="a61d5-257">Все дорожки, содержащие другие типы потоков, игнорируются без уведомления.</span><span class="sxs-lookup"><span data-stu-id="a61d5-257">Any tracks that contain other stream types are silently ignored.</span></span> <span data-ttu-id="a61d5-258">Данные мультимедиа должны размещаться в атомах "mdat".</span><span class="sxs-lookup"><span data-stu-id="a61d5-258">Media data must be placed inside 'mdat' atoms.</span></span>

<span data-ttu-id="a61d5-259">Если на компьютере установлена поддержка обновления платформы для Windows Vista, источник файлов MPEG-4 доступен в Windows Vista, но доступен только в Windows Vista с помощью [средства чтения исходного кода](source-reader.md).</span><span class="sxs-lookup"><span data-stu-id="a61d5-259">If Platform Update Supplement for Windows Vista is installed, the MPEG-4 file source is available on Windows Vista, but is accessible on Windows Vista only by using the [Source Reader](source-reader.md).</span></span>

## <a name="windows-8-updates-to-mpeg-4-source-and-sink"></a><span data-ttu-id="a61d5-260">Обновления Windows 8 для источника и приемника MPEG-4</span><span class="sxs-lookup"><span data-stu-id="a61d5-260">Windows 8 updates to MPEG-4 source and sink</span></span>

-   <span data-ttu-id="a61d5-261">Поддержка вращения чтения и записи добавлена в источнике и приемнике Windows 8 MPEG-4.</span><span class="sxs-lookup"><span data-stu-id="a61d5-261">Rotation read and write support added in Windows 8 MPEG-4 source and sink.</span></span> <span data-ttu-id="a61d5-262">Это не поддерживается в источнике и приемнике Windows 7 MPEG-4.</span><span class="sxs-lookup"><span data-stu-id="a61d5-262">This is not supported in the Windows 7 MPEG-4 source and sink.</span></span>

    <span data-ttu-id="a61d5-263">Источник MPEG-4 считывает угол поворота для активной видеодорожки в виде суммы угла вращения из "мвхд" и из "ткхд".</span><span class="sxs-lookup"><span data-stu-id="a61d5-263">MPEG-4 source reads the rotation angle for an active video track as the sum of the rotation angle from ‘mvhd’ and from ‘tkhd’.</span></span>

    <span data-ttu-id="a61d5-264">Приемник Microsoft MPEG-4 записывает угол вращения в "ткхд", но записывает матрицу 0 градусов (Identity) в "мвхд".</span><span class="sxs-lookup"><span data-stu-id="a61d5-264">Microsoft MPEG-4 sink writes the rotation angle in ‘tkhd’ but writes 0 degree (identity) matrix in ‘mvhd’.</span></span> <span data-ttu-id="a61d5-265">Обратите внимание, что приемник Microsoft MPEG-4 поддерживает только одну видеодорожку.</span><span class="sxs-lookup"><span data-stu-id="a61d5-265">Note, Microsoft MPEG-4 sink only supports single video track.</span></span>

    <span data-ttu-id="a61d5-266">Ипропертисторе считывает угол поворота только для первой видеодорожки в виде суммы угла вращения из "мвхд" и из "ткхд".</span><span class="sxs-lookup"><span data-stu-id="a61d5-266">IPropertyStore reads the rotation angle for only the first video track as the sum of the rotation angle from ‘mvhd’ and from ‘tkhd’.</span></span>

    <span data-ttu-id="a61d5-267">Ипропертисторе записывает угол поворота только для первой видеодорожки в "ткхд" после того, как угол вращения изменяется в соответствии с углом вращения в "мвхд", если он существует.</span><span class="sxs-lookup"><span data-stu-id="a61d5-267">IPropertyStore writes the rotation angle for only the first video track in ‘tkhd’ after the rotation angle is adjusted according to the rotation angle in ‘mvhd’, if it exists.</span></span>

-   <span data-ttu-id="a61d5-268">Фрагменты роликов ("moof") поддерживаются в источнике и приемнике Windows 8 MPEG-4, но "mfra" — нет.</span><span class="sxs-lookup"><span data-stu-id="a61d5-268">Movie fragments ('moof') is supported in Windows 8 MPEG-4 source and sink, but 'mfra' is not.</span></span>
-   <span data-ttu-id="a61d5-269">H. 263 поддерживается в источнике Windows 8 MPEG-4.</span><span class="sxs-lookup"><span data-stu-id="a61d5-269">H.263 is supported in Windows 8 MPEG-4 source.</span></span>

    <span data-ttu-id="a61d5-270">Источник MPEG-4 теперь сопоставляет два объекта FourCC "H263" и 263 "в формате MPEG-4 с типом мультимедиа **мфвидеоформат \_ H263**.</span><span class="sxs-lookup"><span data-stu-id="a61d5-270">MPEG-4 source now maps two fourcc’s of ‘h263’ and ‘s263’ in MPEG-4 file format to the media type of **MFVideoFormat\_H263**.</span></span>

-   <span data-ttu-id="a61d5-271">Дополнительная поддержка FourCC добавлена для МЖПЕГ в источнике Windows 8 MPEG-4.</span><span class="sxs-lookup"><span data-stu-id="a61d5-271">More fourcc support added for MJPEG in Windows 8 MPEG-4 source.</span></span>

    <span data-ttu-id="a61d5-272">Источник MPEG-4 сопоставляет фаукк из "DMB1" с типом мультимедиа **мфвидеоформат \_ мжпг**.</span><span class="sxs-lookup"><span data-stu-id="a61d5-272">MPEG-4 source maps foucc of ‘dmb1’ to the media type of **MFVideoFormat\_MJPG**.</span></span>

-   <span data-ttu-id="a61d5-273">Поддержка метаданных фуригана добавлена в источник Windows 8 MPEG-4.</span><span class="sxs-lookup"><span data-stu-id="a61d5-273">Furigana metadata support added in Windows 8 MPEG-4 source.</span></span>

    <span data-ttu-id="a61d5-274">Источник MPEG-4 считывает метаданные фуригана из "СОАЛ", "взлетел", "соаа", "сонм" и "Соко".</span><span class="sxs-lookup"><span data-stu-id="a61d5-274">MPEG-4 source reads Furigana metadata from ’soal’, ‘soar’, ‘soaa’, ‘sonm’, and ‘soco’.</span></span> <span data-ttu-id="a61d5-275">Ипропертисторе считывает метаданные Фуригнана через набор соответствующих PKEY.</span><span class="sxs-lookup"><span data-stu-id="a61d5-275">IPropertyStore reads Furignana metadata through the set of corresponding PKEYs.</span></span>

    <span data-ttu-id="a61d5-276">В следующей таблице показано сопоставление канонического имени оболочки, ключа свойства и идентификатора поля/тега в формате файла MPEG-4.</span><span class="sxs-lookup"><span data-stu-id="a61d5-276">The following table shows the mapping between the shell canonical name, the property key, and the box/tag ID in MPEG-4 file format.</span></span>

    

    | <span data-ttu-id="a61d5-277">Поле</span><span class="sxs-lookup"><span data-stu-id="a61d5-277">Field</span></span>                                | <span data-ttu-id="a61d5-278">Ключ свойства</span><span class="sxs-lookup"><span data-stu-id="a61d5-278">Property Key</span></span>                         | <span data-ttu-id="a61d5-279">ИДЕНТИФИКАТОР тега или Box</span><span class="sxs-lookup"><span data-stu-id="a61d5-279">Tag/Box ID</span></span> |
    |--------------------------------------|--------------------------------------|------------|
    | <span data-ttu-id="a61d5-280">System. Music. Албумтитлесортоверриде</span><span class="sxs-lookup"><span data-stu-id="a61d5-280">System.Music.AlbumTitleSortOverride</span></span>  | <span data-ttu-id="a61d5-281">\_ \_ Албумтитлесортоверриденая музыка PKEY</span><span class="sxs-lookup"><span data-stu-id="a61d5-281">PKEY\_Music\_AlbumTitleSortOverride</span></span>  | <span data-ttu-id="a61d5-282">соал</span><span class="sxs-lookup"><span data-stu-id="a61d5-282">soal</span></span>       |
    | <span data-ttu-id="a61d5-283">System. Music. Артистсортоверриде</span><span class="sxs-lookup"><span data-stu-id="a61d5-283">System.Music.ArtistSortOverride</span></span>      | <span data-ttu-id="a61d5-284">\_ \_ Артистсортоверриденая музыка PKEY</span><span class="sxs-lookup"><span data-stu-id="a61d5-284">PKEY\_Music\_ArtistSortOverride</span></span>      | <span data-ttu-id="a61d5-285">взлетел</span><span class="sxs-lookup"><span data-stu-id="a61d5-285">soar</span></span>       |
    | <span data-ttu-id="a61d5-286">System. Music. Албумартистсортоверриде</span><span class="sxs-lookup"><span data-stu-id="a61d5-286">System.Music.AlbumArtistSortOverride</span></span> | <span data-ttu-id="a61d5-287">\_ \_ Албумартистсортоверриденая музыка PKEY</span><span class="sxs-lookup"><span data-stu-id="a61d5-287">PKEY\_Music\_AlbumArtistSortOverride</span></span> | <span data-ttu-id="a61d5-288">соаа</span><span class="sxs-lookup"><span data-stu-id="a61d5-288">soaa</span></span>       |
    | <span data-ttu-id="a61d5-289">System. Титлесортоверриде</span><span class="sxs-lookup"><span data-stu-id="a61d5-289">System.TitleSortOverride</span></span>             | <span data-ttu-id="a61d5-290">PKEY \_ титлесортоверриде</span><span class="sxs-lookup"><span data-stu-id="a61d5-290">PKEY \_TitleSortOverride</span></span>             | <span data-ttu-id="a61d5-291">сонм</span><span class="sxs-lookup"><span data-stu-id="a61d5-291">sonm</span></span>       |
    | <span data-ttu-id="a61d5-292">System. Music. Компосерсортоверриде</span><span class="sxs-lookup"><span data-stu-id="a61d5-292">System.Music.ComposerSortOverride</span></span>    | <span data-ttu-id="a61d5-293">\_ \_ Компосерсортоверриденая музыка PKEY</span><span class="sxs-lookup"><span data-stu-id="a61d5-293">PKEY\_Music\_ComposerSortOverride</span></span>    | <span data-ttu-id="a61d5-294">соко</span><span class="sxs-lookup"><span data-stu-id="a61d5-294">soco</span></span>       |

    

     

-   <span data-ttu-id="a61d5-295">Поддержка стерео 3D Atom добавлена в источнике Windows 8 MPEG-4.</span><span class="sxs-lookup"><span data-stu-id="a61d5-295">Stereo 3D atom support added in Windows 8 MPEG-4 source.</span></span>

-   <span data-ttu-id="a61d5-296">Поддержка AC3 и DD + добавлена в источник и приемник Windows 8 MPEG-4.</span><span class="sxs-lookup"><span data-stu-id="a61d5-296">AC3 and DD+ support added in Windows 8 MPEG-4 source and sink.</span></span>
-   <span data-ttu-id="a61d5-297">Файлы размером более 4 гигабайт (ГБ) поддерживаются в приемнике MPEG-4 Windows 8 для нефрагментированного MP4.</span><span class="sxs-lookup"><span data-stu-id="a61d5-297">Files larger than 4 gigabytes (GB) are supported in Windows 8 MPEG-4 sink for non-fragmental MP4.</span></span>
-   <span data-ttu-id="a61d5-298">Очистка оптимизирована в источнике Windows 8 MPEG-4.</span><span class="sxs-lookup"><span data-stu-id="a61d5-298">Scrubbing has been optimized in Windows 8 MPEG-4 source.</span></span>

    <span data-ttu-id="a61d5-299">Чтобы сократить задержку, сведения о двух ближайших ключевых кадрах для конкретной должности предоставляются через [**имфсикинфо:: жетнеаресткэйфрамес**](/windows/desktop/api/mfidl/nf-mfidl-imfseekinfo-getnearestkeyframes).</span><span class="sxs-lookup"><span data-stu-id="a61d5-299">To reduce latency, information for the two nearest key frames for a particular seek position are exposed through [**IMFSeekInfo::GetNearestKeyFrames**](/windows/desktop/api/mfidl/nf-mfidl-imfseekinfo-getnearestkeyframes).</span></span> <span data-ttu-id="a61d5-300">Так как ключевой кадр не имеет зависимых кадров, он представляет кадр после декодирования только одного кадра.</span><span class="sxs-lookup"><span data-stu-id="a61d5-300">Since the key frame does not have dependent frames, it presents the frame after decoding only one frame.</span></span> <span data-ttu-id="a61d5-301">Используйте [**имфжетсервице::-Service**](/windows/desktop/api/mfidl/nf-mfidl-imfgetservice-getservice) для получения этого интерфейса через источник мультимедиа, конвейер или приложение.</span><span class="sxs-lookup"><span data-stu-id="a61d5-301">Use [**IMFGetService::GetService**](/windows/desktop/api/mfidl/nf-mfidl-imfgetservice-getservice) to obtain this interface through the media source, pipeline, or application.</span></span>

    <span data-ttu-id="a61d5-302">Задайте для параметра rate (нулевое значение) в источнике MPEG-4.</span><span class="sxs-lookup"><span data-stu-id="a61d5-302">Set rate to zero in MPEG-4 source.</span></span> <span data-ttu-id="a61d5-303">Если конвейер находится в режиме очистки, скорость равна нулю.</span><span class="sxs-lookup"><span data-stu-id="a61d5-303">When the pipeline is in scrubbing mode, the rate is zero.</span></span>

-   <span data-ttu-id="a61d5-304">SPS и PPS могут храниться в образцах данных в приемнике MPEG-4.</span><span class="sxs-lookup"><span data-stu-id="a61d5-304">SPS and PPS can be stored in sample data in MPEG-4 sink.</span></span>

    <span data-ttu-id="a61d5-305">[MF \_ Атрибут \_ \_ транзитного спсппс MPEG4SINK](mf-mpeg4sink-spspps-passthrough.md) в приемнике MPEG-4 определен, чтобы разрешить сохранение SPS и PPS вместе со входными образцами (H. 264 Video Data).</span><span class="sxs-lookup"><span data-stu-id="a61d5-305">[MF\_MPEG4SINK\_SPSPPS\_PASSTHROUGH](mf-mpeg4sink-spspps-passthrough.md) attribute on MPEG-4 sink is defined to allow SPS’s and PPS’s to be saved together with input samples (H.264 video data).</span></span> <span data-ttu-id="a61d5-306">Созданные зажимы MP4 воспроизводятся с помощью Windows 7 MPEG-4 и других источников.</span><span class="sxs-lookup"><span data-stu-id="a61d5-306">The produced mp4 clips are play-able by Windows 7 MPEG-4 source and others.</span></span>

-   <span data-ttu-id="a61d5-307">SPS и PPS можно извлечь из примеров входных данных в приемнике MPEG-4.</span><span class="sxs-lookup"><span data-stu-id="a61d5-307">SPS and PPS can be extracted from input samples in MPEG-4 sink.</span></span>

    <span data-ttu-id="a61d5-308">Если в качестве входного носителя для приемника MPEG-4 не заданы протоколы SPS и PPS с использованием [ \_ \_ \_ \_ заголовка последовательного входа MPEG MT](mf-mt-mpeg-sequence-header-attribute.md) , приемник MPEG-4 попытается извлечь SPS и PPS из входных образцов.</span><span class="sxs-lookup"><span data-stu-id="a61d5-308">When SPS and PPS are not set through [MF\_MT\_MPEG\_SEQUENCE\_HEADER](mf-mt-mpeg-sequence-header-attribute.md) on input media type of the MPEG-4 sink, MPEG-4 sink will try to extract SPS and PPS from input samples.</span></span> <span data-ttu-id="a61d5-309">Приемник MPEG-4 игнорирует все входные образцы, пока не найдет первый сервер SPS и PPS, так как все входные образцы без SPS и PPS не поддерживают декодирование.</span><span class="sxs-lookup"><span data-stu-id="a61d5-309">MPEG-4 sink ignores any input samples until it finds the first SPS and PPS, because all input samples without SPS and PPS are not decode-able.</span></span>

-   <span data-ttu-id="a61d5-310">Объемная информация в записи конфигурации AVC поддерживается для нефрагментированного MP4.</span><span class="sxs-lookup"><span data-stu-id="a61d5-310">3D information in AVC configuration record is supported for non-fragmental MP4.</span></span>
-   <span data-ttu-id="a61d5-311">НАЛУ длина предоставляется для сжатых образцов H. 264 для оптимизации H. 264 ВЛД ДКСВА декодирования.</span><span class="sxs-lookup"><span data-stu-id="a61d5-311">NALU length is exposed for H.264 compressed samples to optimize H.264 VLD DXVA decoding.</span></span>

    <span data-ttu-id="a61d5-312">Набор исходных файлов MPEG- [4 \_ имеет длину MF налу, \_ \_ установленную](mf-nalu-length-set.md) на выходном типе носителя **мфвидеоформат \_ H264 Single bitrate** или **мфвидеоформат \_ H264 Single bitrate**.</span><span class="sxs-lookup"><span data-stu-id="a61d5-312">MPEG-4 source sets [MF\_NALU\_LENGTH\_SET](mf-nalu-length-set.md) on the output media type of **MFVideoFormat\_H264** or **MFVideoFormat\_h264**.</span></span> <span data-ttu-id="a61d5-313">Он задает большой двоичный [объект \_ налу \_ длины \_ MF](mf-nalu-length-information.md) для каждого выходного образца с 4-байтовой длиной налу для разных налу в одном сжатом примере.</span><span class="sxs-lookup"><span data-stu-id="a61d5-313">It sets the blob of [MF\_NALU\_LENGTH\_INFORMATION](mf-nalu-length-information.md) on each output sample, with four-byte NALU length for different NALU’s in one compressed sample.</span></span>

-   <span data-ttu-id="a61d5-314">Добавлена поддержка для звука MPEG2 ADTS в источнике MP4.</span><span class="sxs-lookup"><span data-stu-id="a61d5-314">Support added for MPEG2 ADTS audio in MP4 source.</span></span>

## <a name="related-topics"></a><span data-ttu-id="a61d5-315">См. также</span><span class="sxs-lookup"><span data-stu-id="a61d5-315">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="a61d5-316">Источники и приемники мультимедиа</span><span class="sxs-lookup"><span data-stu-id="a61d5-316">Media Sources and Sinks</span></span>](media-sources-and-sinks.md)
</dt> <dt>

[<span data-ttu-id="a61d5-317">Поддержка MPEG-4 в Media Foundation</span><span class="sxs-lookup"><span data-stu-id="a61d5-317">MPEG-4 Support in Media Foundation</span></span>](mpeg-4-support-in-media-foundation.md)
</dt> <dt>

[<span data-ttu-id="a61d5-318">Поддерживаемые форматы мультимедиа в Media Foundation</span><span class="sxs-lookup"><span data-stu-id="a61d5-318">Supported Media Formats in Media Foundation</span></span>](supported-media-formats-in-media-foundation.md)
</dt> </dl>

 

 




