---
description: Использование взаимного исключения для потоков ASF
ms.assetid: fdd31eac-1dd6-45f0-90fb-d5a74c85db2e
title: Использование взаимного исключения для потоков ASF
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 411b5aa0638ab1c56298b93d01e8de99920abc6c
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "105647269"
---
# <a name="using-mutual-exclusion-for-asf-streams"></a><span data-ttu-id="9a485-103">Использование взаимного исключения для потоков ASF</span><span class="sxs-lookup"><span data-stu-id="9a485-103">Using Mutual Exclusion for ASF Streams</span></span>

<span data-ttu-id="9a485-104">Содержимое ASF может содержать несколько взаимоисключающих потоков.</span><span class="sxs-lookup"><span data-stu-id="9a485-104">ASF content can contain multiple streams that are mutually exclusive.</span></span> <span data-ttu-id="9a485-105">Эти потоки не могут быть прочитаны одновременно, но только один из них читается за раз.</span><span class="sxs-lookup"><span data-stu-id="9a485-105">These streams cannot be read concurrently but only one of them is read at a time.</span></span> <span data-ttu-id="9a485-106">Например, файл может содержать набор потоков, включающих то же содержимое, которое закодировано с разной скоростью.</span><span class="sxs-lookup"><span data-stu-id="9a485-106">For example, the file can contain a set of streams that includes the same content encoded at a different bit rate.</span></span> <span data-ttu-id="9a485-107">Используемый поток определяется пропускной способностью, доступной для приложения, которое осуществляет потоковую передачу содержимого.</span><span class="sxs-lookup"><span data-stu-id="9a485-107">The stream that is used is determined by the bandwidth available to the application that streams the content.</span></span> <span data-ttu-id="9a485-108">Объект взаимного исключения ASF, который является частью объекта Header, хранит сведения о группе взаимоисключающих потоков.</span><span class="sxs-lookup"><span data-stu-id="9a485-108">The ASF Mutual Exclusion Object, which is part of the Header Object, stores information about the group of mutually exclusive streams.</span></span>

<span data-ttu-id="9a485-109">В Media Foundation для каждого объекта взаимного исключения ASF существует *взаимоисключающий* объект, предоставляющий интерфейс [**имфасфмутуалексклусион**](/windows/desktop/api/wmcontainer/nn-wmcontainer-imfasfmutualexclusion) .</span><span class="sxs-lookup"><span data-stu-id="9a485-109">In Media Foundation, the *mutual exclusion* object that exposes the [**IMFASFMutualExclusion**](/windows/desktop/api/wmcontainer/nn-wmcontainer-imfasfmutualexclusion) interface exists for every ASF Mutual Exclusion Object.</span></span> <span data-ttu-id="9a485-110">Объект профиля содержит ссылку на все объекты взаимного исключения.</span><span class="sxs-lookup"><span data-stu-id="9a485-110">The profile object holds reference to all mutual exclusion objects.</span></span>

<span data-ttu-id="9a485-111">Объект взаимного исключения хранит сведения о группе взаимоисключающих потоков в качестве записей.</span><span class="sxs-lookup"><span data-stu-id="9a485-111">The mutual exclusion object stores information about the group of mutually exclusive streams as records.</span></span> <span data-ttu-id="9a485-112">Объект взаимного исключения может иметь несколько записей, которые можно использовать для создания сложных сценариев.</span><span class="sxs-lookup"><span data-stu-id="9a485-112">A mutual exclusion object can have multiple records that can be used to create complex scenarios.</span></span> <span data-ttu-id="9a485-113">Каждая запись содержит один или несколько потоков, которые не могут сосуществовать в другой записи, обслуживаемой взаимоисключающим объектом, в зависимости от типа взаимного исключения, например скорости потока.</span><span class="sxs-lookup"><span data-stu-id="9a485-113">Each record contains one or more streams that cannot coexist with streams in another record, maintained by the mutual exclusion object, depending on the type of mutual exclusion, such as bit rate.</span></span>

<span data-ttu-id="9a485-114">Распространенным примером сложного взаимного исключения является файл, содержащий три звуковых потока одного и того же содержимого с различными скоростями в каждом из трех языков.</span><span class="sxs-lookup"><span data-stu-id="9a485-114">A common example of complex mutual exclusion is a file that contains three audio streams of the same content at various bit rates in each of three languages.</span></span> <span data-ttu-id="9a485-115">За раз следует воспроизводить только один из девяти потоков, но существуют два типа, по которым они являются взаимоисключающими: язык и скорость.</span><span class="sxs-lookup"><span data-stu-id="9a485-115">Only one of the nine streams should be played at a time, but there are two types by which they are mutually exclusive: language and bit rate.</span></span>

<span data-ttu-id="9a485-116">В этом примере для девяти потоков назначаются следующие номера потоков:</span><span class="sxs-lookup"><span data-stu-id="9a485-116">For this example, the nine streams are assigned the following stream numbers:</span></span>

<dl> <span data-ttu-id="9a485-117">1-Language 1, скорость разрядов 1</span><span class="sxs-lookup"><span data-stu-id="9a485-117">1 - Language 1, bit rate 1</span></span>  
<span data-ttu-id="9a485-118">2 — язык 1, скорость разрядов 2</span><span class="sxs-lookup"><span data-stu-id="9a485-118">2 - Language 1, bit rate 2</span></span>  
<span data-ttu-id="9a485-119">3 — язык 1, скорость разрядов 3</span><span class="sxs-lookup"><span data-stu-id="9a485-119">3 - Language 1, bit rate 3</span></span>  
<span data-ttu-id="9a485-120">4 — язык 2, скорость по разрядности 1</span><span class="sxs-lookup"><span data-stu-id="9a485-120">4 - Language 2, bit rate 1</span></span>  
<span data-ttu-id="9a485-121">5 — язык 2, скорость передачи 2</span><span class="sxs-lookup"><span data-stu-id="9a485-121">5 - Language 2, bit rate 2</span></span>  
<span data-ttu-id="9a485-122">6 — язык 2, скорость передачи 3</span><span class="sxs-lookup"><span data-stu-id="9a485-122">6 - Language 2, bit rate 3</span></span>  
<span data-ttu-id="9a485-123">7 — язык 3, скорость разрядов 1</span><span class="sxs-lookup"><span data-stu-id="9a485-123">7 - Language 3, bit rate 1</span></span>  
<span data-ttu-id="9a485-124">8-язык 3, скорость разрядов 2</span><span class="sxs-lookup"><span data-stu-id="9a485-124">8 - Language 3, bit rate 2</span></span>  
<span data-ttu-id="9a485-125">9-язык 3, скорость разрядов 3</span><span class="sxs-lookup"><span data-stu-id="9a485-125">9 - Language 3, bit rate 3</span></span>  
</dl>

<span data-ttu-id="9a485-126">Этот сценарий можно реализовать с помощью следующих четырех взаимоисключающих объектов:</span><span class="sxs-lookup"><span data-stu-id="9a485-126">This scenario can be implemented by using the following four mutual exclusion objects:</span></span>

-   <span data-ttu-id="9a485-127">Первый объект взаимоисключающего исключения включает потоки 1, 2 и 3, взаимоисключающие с интенсивностью битов.</span><span class="sxs-lookup"><span data-stu-id="9a485-127">The first mutual exclusion object includes streams 1, 2, and 3, mutually exclusive by bit rate.</span></span> <span data-ttu-id="9a485-128">Каждый поток имеет собственную запись.</span><span class="sxs-lookup"><span data-stu-id="9a485-128">Each stream has its own record.</span></span>
-   <span data-ttu-id="9a485-129">Второй объект взаимного исключения включает потоки 4, 5 и 6, взаимоисключающие с поразрядной скоростью.</span><span class="sxs-lookup"><span data-stu-id="9a485-129">The second mutual exclusion object includes streams 4, 5, and 6, mutually exclusive by bit rate.</span></span> <span data-ttu-id="9a485-130">Каждый поток имеет собственную запись.</span><span class="sxs-lookup"><span data-stu-id="9a485-130">Each stream has its own record.</span></span>
-   <span data-ttu-id="9a485-131">Третий взаимно исключенный объект включает 7, 8 и 9, взаимоисключающий с интенсивностью битов.</span><span class="sxs-lookup"><span data-stu-id="9a485-131">The third mutual exclusion object includes 7, 8, and 9, mutually exclusive by bit rate.</span></span> <span data-ttu-id="9a485-132">Каждый поток имеет собственную запись.</span><span class="sxs-lookup"><span data-stu-id="9a485-132">Each stream has its own record.</span></span>
-   <span data-ttu-id="9a485-133">Четвертый объект взаимного исключения содержит три записи, первый из которых включает потоки 1, 2 и 3; второй, включая потоки 4, 5 и 6; а треть, включая потоки 7, 8 и 9.</span><span class="sxs-lookup"><span data-stu-id="9a485-133">The fourth mutual exclusion object contains three records, the first including streams 1, 2, and 3; the second including streams 4, 5, and 6; and the third including streams 7, 8, and 9.</span></span> <span data-ttu-id="9a485-134">Эти записи являются взаимоисключающими по отношению к языку.</span><span class="sxs-lookup"><span data-stu-id="9a485-134">These records are mutually exclusive by language.</span></span>

<span data-ttu-id="9a485-135">При воспроизведении файла, созданного таким способом, приложение потоковой передачи сначала выбирает язык, поскольку вероятность его изменения ниже, а затем выбирается скорость.</span><span class="sxs-lookup"><span data-stu-id="9a485-135">When playing a file created in this way, the streaming application selects the language first because it is less likely to change in the middle of presentation and then selects a bit rate.</span></span>

## <a name="mutual-exclusion-object-creation-and-configuration"></a><span data-ttu-id="9a485-136">Создание и настройка взаимоисключающих объектов</span><span class="sxs-lookup"><span data-stu-id="9a485-136">Mutual Exclusion Object Creation and Configuration</span></span>

<span data-ttu-id="9a485-137">В следующем списке приведено описание процесса настройки взаимоисключающего объекта.</span><span class="sxs-lookup"><span data-stu-id="9a485-137">The following list summarizes the process of configuring a mutual exclusion object:</span></span>

1.  <span data-ttu-id="9a485-138">Создайте объект взаимного исключения.</span><span class="sxs-lookup"><span data-stu-id="9a485-138">Create a mutual exclusion object.</span></span>
2.  <span data-ttu-id="9a485-139">Задает тип взаимного исключения.</span><span class="sxs-lookup"><span data-stu-id="9a485-139">Set the type of mutual exclusion.</span></span>
3.  <span data-ttu-id="9a485-140">Настройте объект взаимного исключения, добавив записи и связанные потоки.</span><span class="sxs-lookup"><span data-stu-id="9a485-140">Configure the mutual exclusion object by adding records and the associated streams.</span></span>
4.  <span data-ttu-id="9a485-141">Добавьте объект взаимного исключения в профиль.</span><span class="sxs-lookup"><span data-stu-id="9a485-141">Add the mutual exclusion object to the profile.</span></span>

<span data-ttu-id="9a485-142">Создание и настройка взаимоисключающего объекта</span><span class="sxs-lookup"><span data-stu-id="9a485-142">To create and configure a mutual exclusion object</span></span>

1.  <span data-ttu-id="9a485-143">Вызовите метод [**имфасфпрофиле:: креатемутуалексклусион**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfprofile-createmutualexclusion) , чтобы создать пустой объект взаимного исключения.</span><span class="sxs-lookup"><span data-stu-id="9a485-143">Call [**IMFASFProfile::CreateMutualExclusion**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfprofile-createmutualexclusion) to create an empty mutual exclusion object.</span></span>
2.  <span data-ttu-id="9a485-144">Вызовите метод [**имфасфмутуалексклусион:: сеттипе**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfmutualexclusion-settype) , чтобы задать критерий взаимоисключающего потока.</span><span class="sxs-lookup"><span data-stu-id="9a485-144">Call [**IMFASFMutualExclusion::SetType**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfmutualexclusion-settype) to set the criterion of the mutually exclusive stream.</span></span>

    <span data-ttu-id="9a485-145">Потоки могут быть взаимоисключающими по отношению к языку, скорости разрядности, презентации и настраиваемым критериям.</span><span class="sxs-lookup"><span data-stu-id="9a485-145">The streams can be mutually exclusive by language, bit rate, presentation, and custom criteria.</span></span> <span data-ttu-id="9a485-146">Тип представлен как GUID.</span><span class="sxs-lookup"><span data-stu-id="9a485-146">The type is represented as a GUID.</span></span> <span data-ttu-id="9a485-147">Список этих констант см. в разделе [идентификаторы GUID типа взаимного исключения ASF](asf-mutual-exclusion-type-guids.md).</span><span class="sxs-lookup"><span data-stu-id="9a485-147">For a list of these constants, see [ASF Mutual Exclusion Type GUIDs](asf-mutual-exclusion-type-guids.md).</span></span>

3.  <span data-ttu-id="9a485-148">Вызовите [**имфасфмутуалексклусион:: аддрекорд**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfmutualexclusion-addrecord) , чтобы добавить запись в объект взаимного исключения.</span><span class="sxs-lookup"><span data-stu-id="9a485-148">Call [**IMFASFMutualExclusion::AddRecord**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfmutualexclusion-addrecord) to add a record to the mutual exclusion object.</span></span>

    <span data-ttu-id="9a485-149">Этот метод добавляет пустую запись и присваивает ей индекс записи, начинающийся с нуля.</span><span class="sxs-lookup"><span data-stu-id="9a485-149">This method adds an empty record and assigns it a record index starting with zero.</span></span>

4.  <span data-ttu-id="9a485-150">Вызовите метод [**имфасфмутуалексклусион:: аддстреамфоррекорд**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfmutualexclusion-addstreamforrecord) , чтобы добавить номер потока в запись, указанную в индексе записи.</span><span class="sxs-lookup"><span data-stu-id="9a485-150">Call [**IMFASFMutualExclusion::AddStreamForRecord**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfmutualexclusion-addstreamforrecord) to add the stream number to the record specified by the record index.</span></span>

    <span data-ttu-id="9a485-151">Каждая запись включает один или несколько потоков.</span><span class="sxs-lookup"><span data-stu-id="9a485-151">Each record includes one or more streams.</span></span> <span data-ttu-id="9a485-152">Каждый поток в записи является взаимоисключающим для всех потоков в каждой другой записи.</span><span class="sxs-lookup"><span data-stu-id="9a485-152">Every stream in a record is mutually exclusive of all streams in every other record.</span></span> <span data-ttu-id="9a485-153">Чтобы получить количество потоков в записи, вызовите [**имфасфмутуалексклусион:: жетстреамсфоррекорд**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfmutualexclusion-getstreamsforrecord) , указав индекс записи.</span><span class="sxs-lookup"><span data-stu-id="9a485-153">To get the number of streams in a record, call [**IMFASFMutualExclusion::GetStreamsForRecord**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfmutualexclusion-getstreamsforrecord) by specifying the record index.</span></span>

    <span data-ttu-id="9a485-154">Чтобы удалить поток из записи, вызовите [**имфасфмутуалексклусион:: ремовестреамфромрекорд**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfmutualexclusion-removestreamfromrecord) и укажите индекс записи и номер потока.</span><span class="sxs-lookup"><span data-stu-id="9a485-154">To remove a stream from the record, call [**IMFASFMutualExclusion::RemoveStreamFromRecord**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfmutualexclusion-removestreamfromrecord) and specify the record index and the stream number.</span></span>

5.  <span data-ttu-id="9a485-155">Вызовите метод [**имфасфпрофиле:: аддмутуалексклусион**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfprofile-addmutualexclusion) , чтобы добавить в профиль настроенный объект взаимного исключения.</span><span class="sxs-lookup"><span data-stu-id="9a485-155">Call [**IMFASFProfile::AddMutualExclusion**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfprofile-addmutualexclusion) to add the configured mutual exclusion object to the profile.</span></span>

## <a name="enumerating-mutual-exclusion-objects-in-a-profile"></a><span data-ttu-id="9a485-156">Перечисление взаимоисключающих объектов в профиле</span><span class="sxs-lookup"><span data-stu-id="9a485-156">Enumerating Mutual Exclusion Objects in a Profile</span></span>

<span data-ttu-id="9a485-157">Если [**имфасфпрофиле:: аддмутуалексклусион**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfprofile-addmutualexclusion) выполняется, он присваивает индекс указанному объекту, начиная с нуля.</span><span class="sxs-lookup"><span data-stu-id="9a485-157">If [**IMFASFProfile::AddMutualExclusion**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfprofile-addmutualexclusion) succeeds, it assigns an index to the specified object, starting at zero.</span></span>

<span data-ttu-id="9a485-158">Чтобы перечислить взаимоисключающие объекты, связанные с профилем, вызовите [**имфасфпрофиле:: жетмутуалексклусионкаунт**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfprofile-getmutualexclusioncount) и пройдите по списку, вызвав [**Имфасфпрофиле:: жетмутуалексклусион**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfprofile-getmutualexclusion).</span><span class="sxs-lookup"><span data-stu-id="9a485-158">To enumerate the mutual exclusion objects associated with a profile, call [**IMFASFProfile::GetMutualExclusionCount**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfprofile-getmutualexclusioncount) and loop through the list by calling [**IMFASFProfile::GetMutualExclusion**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfprofile-getmutualexclusion).</span></span> <span data-ttu-id="9a485-159">Взаимно исключаемые индексы являются последовательными и находятся в диапазоне от 0 до значения, меньшего, чем число потоков, извлекаемых функцией **жетмутуалексклусионкаунт**.</span><span class="sxs-lookup"><span data-stu-id="9a485-159">Mutual exclusion indexes are sequential and range between 0 and one less than the number of streams retrieved by **GetMutualExclusionCount**.</span></span>

<span data-ttu-id="9a485-160">Объект взаимного исключения удаляется из профиля путем вызова [**имфасфпрофиле:: ремовемутуалексклусион**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfprofile-removemutualexclusion).</span><span class="sxs-lookup"><span data-stu-id="9a485-160">A mutual exclusion object is removed from the profile by calling [**IMFASFProfile::RemoveMutualExclusion**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfprofile-removemutualexclusion).</span></span> <span data-ttu-id="9a485-161">Профиль переназначит взаимоисключающие индексы, чтобы они были последовательными, начиная с нуля.</span><span class="sxs-lookup"><span data-stu-id="9a485-161">The profile reassigns the mutual exclusion indexes so that they are sequential starting with zero.</span></span> <span data-ttu-id="9a485-162">Это перезаписывает ранее сохраненные индексы, которые больше не являются допустимыми после вызова этого метода.</span><span class="sxs-lookup"><span data-stu-id="9a485-162">This overwrites previously stored indexes, which are no longer valid after calling this method.</span></span> <span data-ttu-id="9a485-163">Это освобождает связанные записи взаимоисключающих потоков.</span><span class="sxs-lookup"><span data-stu-id="9a485-163">This releases the associated mutual exclusion stream records.</span></span>

## <a name="removing-records-in-a-mutual-exclusion-object"></a><span data-ttu-id="9a485-164">Удаление записей в взаимоисключающем объекте</span><span class="sxs-lookup"><span data-stu-id="9a485-164">Removing Records in a Mutual Exclusion Object</span></span>

<span data-ttu-id="9a485-165">Чтобы удалить запись из взаимоисключающего объекта, вызовите метод [**имфасфмутуалексклусион:: ремоверекорд**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfmutualexclusion-removerecord).</span><span class="sxs-lookup"><span data-stu-id="9a485-165">To remove a record from a mutual exclusion object, call [**IMFASFMutualExclusion::RemoveRecord**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfmutualexclusion-removerecord).</span></span> <span data-ttu-id="9a485-166">В случае успешности этого метода объект взаимного исключения индексирует оставшиеся записи, чтобы они были последовательными, начиная с нуля.</span><span class="sxs-lookup"><span data-stu-id="9a485-166">If this method succeeds, the mutual exclusion object indexes the remaining records so that they are sequential starting with zero.</span></span> <span data-ttu-id="9a485-167">Приложение должно перечислить записи, чтобы обеспечить правильный индекс для каждой записи.</span><span class="sxs-lookup"><span data-stu-id="9a485-167">The application should enumerate the records to ensure the correct index for each record.</span></span> <span data-ttu-id="9a485-168">Для этого вызовите [**имфасфмутуалексклусион:: жетрекордкаунт**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfmutualexclusion-getrecordcount) и передавайте цикл по записям, вызвав [**Имфасфмутуалексклусион:: жетстреамсфоррекорд**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfmutualexclusion-getstreamsforrecord).</span><span class="sxs-lookup"><span data-stu-id="9a485-168">To do so, call [**IMFASFMutualExclusion::GetRecordCount**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfmutualexclusion-getrecordcount) and loop through the records by calling [**IMFASFMutualExclusion::GetStreamsForRecord**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfmutualexclusion-getstreamsforrecord).</span></span>

<span data-ttu-id="9a485-169">Удаление записи с самым высоким индексом не влияет на другие индексы.</span><span class="sxs-lookup"><span data-stu-id="9a485-169">Removing the record with the highest index has no effect on the other indexes.</span></span>

## <a name="modifying-a-mutual-exclusion-object"></a><span data-ttu-id="9a485-170">Изменение взаимоисключающего объекта</span><span class="sxs-lookup"><span data-stu-id="9a485-170">Modifying a Mutual Exclusion Object</span></span>

<span data-ttu-id="9a485-171">Чтобы изменить конфигурацию взаимоисключающего объекта в профиле, приложение должно заменить существующий объект взаимного исключения другим объектом, содержащим новые параметры.</span><span class="sxs-lookup"><span data-stu-id="9a485-171">To change the configuration of the mutual exclusion object in the profile, the application must replace the existing mutual exclusion object with another object that contains the new settings.</span></span>

<span data-ttu-id="9a485-172">Изменение конфигурации объекта взаимного исключения в профиле</span><span class="sxs-lookup"><span data-stu-id="9a485-172">To change the configuration of the mutual exclusion object in the profile</span></span>

1.  <span data-ttu-id="9a485-173">Перечислите взаимоисключающие объекты в профиле, чтобы получить объект, который необходимо изменить.</span><span class="sxs-lookup"><span data-stu-id="9a485-173">Enumerate the mutual exclusion objects in the profile to get the object that needs to be changed.</span></span>
2.  <span data-ttu-id="9a485-174">Вызовите [**имфасфмутуалексклусион:: Clone**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfmutualexclusion-clone) , чтобы клонировать объект взаимного исключения.</span><span class="sxs-lookup"><span data-stu-id="9a485-174">Call [**IMFASFMutualExclusion::Clone**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfmutualexclusion-clone) to clone the mutual exclusion object.</span></span>

3.  <span data-ttu-id="9a485-175">При необходимости настройте клонированный объект.</span><span class="sxs-lookup"><span data-stu-id="9a485-175">Configure the cloned object as required.</span></span>
4.  <span data-ttu-id="9a485-176">Вызовите метод [**имфасфпрофиле:: ремовемутуалексклусион**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfprofile-removemutualexclusion) , чтобы удалить старый объект взаимного исключения из профиля.</span><span class="sxs-lookup"><span data-stu-id="9a485-176">Call [**IMFASFProfile::RemoveMutualExclusion**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfprofile-removemutualexclusion) to remove the old mutual exclusion object from the profile.</span></span>

5.  <span data-ttu-id="9a485-177">Вызовите [**имфасфпрофиле:: аддмутуалексклусион**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfprofile-addmutualexclusion) , чтобы добавить обновленный объект взаимного исключения в профиль.</span><span class="sxs-lookup"><span data-stu-id="9a485-177">Call [**IMFASFProfile::AddMutualExclusion**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfprofile-addmutualexclusion) to add the updated mutual exclusion object to the profile.</span></span>

## <a name="related-topics"></a><span data-ttu-id="9a485-178">См. также</span><span class="sxs-lookup"><span data-stu-id="9a485-178">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="9a485-179">Профиль ASF</span><span class="sxs-lookup"><span data-stu-id="9a485-179">ASF Profile</span></span>](asf-profile.md)
</dt> </dl>

 

 



