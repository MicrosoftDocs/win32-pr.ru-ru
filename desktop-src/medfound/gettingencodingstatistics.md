---
description: описывает статистику, которую можно получить из Windowsного кодека мультимедиа.
ms.assetid: 86c029af-e0fb-436a-b758-3f7d10c8bdeb
title: Получение статистики кодировки (Microsoft Media Foundation)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: cfa718a27894ea3e91faa953cb7b23e6c92b57c93d4b0fc0cf2c15b6995f28b3
ms.sourcegitcommit: e6600f550f79bddfe58bd4696ac50dd52cb03d7e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119449164"
---
# <a name="getting-encoding-statistics-microsoft-media-foundation"></a>Получение статистики кодировки (Microsoft Media Foundation)

Сведения о том, что происходит в сеансе кодирования, обычно немедленно доступны в виде кодов ошибок, возвращаемых при обработке образцов. Однако есть некоторые статистические данные, которые можно получить из кодека о различных аспектах кодирования.

## <a name="video-frame-information"></a>Сведения о кадре видео

Некоторые статистические данные о видео, которые можно извлекать с учетом количества кадров, обрабатываемых кодировщиком. Существует три свойства номера кадра, которые можно прочитать из видеокодировщика:

-   [Мфпкэй \_ ТОТАЛФРАМЕС](mfpkey-totalframesproperty.md) — это число кадров, обрабатываемых во входном потоке DMO.
-   [Мфпкэй \_ КОДЕДФРАМЕС](mfpkey-codedframesproperty.md) — число закодированных кадров. Вычитая это значение из общего числа переданных кадров, можно определить, сколько кадров было удалено.
-   [Мфпкэй \_ ЗЕРОБИТЕФРАМЕС](mfpkey-zerobyteframesproperty.md) — число кадров, не закодированных, так как уже включено Дублированное содержимое. Это значение не вычитается из числа закодированных кадров, сообщаемых DMO.

В любое время во время кодирования можно считывать свойства кадров видео. Это может быть полезно при определении пригодности параметров кодировки для содержимого. Если между итоговыми кадрами и закодированными кадрами существует большая разница, сжатое содержимое может не соответствовать требованиям к качеству. После завершения кодирования можно прочитать окончательные значения.

## <a name="vbr-buffer-statistics"></a>Статистика буфера VBR

В зависимости от используемого режима кодировки некоторые или все параметры буфера могут быть определены во время кодирования (например, скорость потока с частотой, определяемая качеством, не известна до кодирования содержимого). Существует четыре свойства буфера VBR, которые можно получить с помощью метода **ипропертибаг:: Read** :

-   [Мфпкэй \_ РАВГ](mfpkey-ravgproperty.md) — это средняя скорость потока содержимого VBR.
-   [Мфпкэй \_ БАВГ](mfpkey-bavgproperty.md) — это окно буфера для средней скорости потока.
-   [Мфпкэй \_ РМАКС](mfpkey-rmaxproperty.md) — это Пиковая скорость содержимого VBR.
-   [Мфпкэй \_ БМАКС](mfpkey-bmaxproperty.md) — пиковое окно буфера.

После начала обработки образцов не следует считывать какие бы то ни было свойства VBR, пока не завершится кодирование потока. В противном случае кодировщик интерпретирует запрос как сигнал о завершении кодирования. Следующий пример, который вы обрабатываете, рассматривается как новый сеанс кодирования.

## <a name="related-topics"></a>Связанные темы

<dl> <dt>

[Кодеки Windows Media](windows-media-codecs.md)
</dt> </dl>

 

 



