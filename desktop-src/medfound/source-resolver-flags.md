---
description: Определяет поведение сопоставителя источников. Эти флаги также используются обработчиками схем и обработчиками байтового потока.
ms.assetid: fe0b9090-5d2a-41a4-a806-57c874d3b3a2
title: Флаги сопоставителя источника (Мфидл. h)
ms.topic: reference
ms.date: 05/31/2018
ms.openlocfilehash: 31efe47f75151f78958903cb514653edb6c5aa08
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "103811543"
---
# <a name="source-resolver-flags"></a><span data-ttu-id="368de-104">Флаги сопоставителя источника</span><span class="sxs-lookup"><span data-stu-id="368de-104">Source Resolver Flags</span></span>

<span data-ttu-id="368de-105">Определяет поведение сопоставителя источников.</span><span class="sxs-lookup"><span data-stu-id="368de-105">Defines the behavior of the source resolver.</span></span> <span data-ttu-id="368de-106">Эти флаги также используются обработчиками схем и обработчиками байтового потока.</span><span class="sxs-lookup"><span data-stu-id="368de-106">These flags are also used by scheme handlers and byte stream handlers.</span></span>



| <span data-ttu-id="368de-107">Константа/значение</span><span class="sxs-lookup"><span data-stu-id="368de-107">Constant/value</span></span>                                                                                                                                                                                                                                                                                                                                                                                               | <span data-ttu-id="368de-108">Описание</span><span class="sxs-lookup"><span data-stu-id="368de-108">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|:-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span id="MF_RESOLUTION_MEDIASOURCE"></span><span id="mf_resolution_mediasource"></span><dl> <span data-ttu-id="368de-109"><dt>**MF \_ РЕШЕНИЕ \_ медиасаурце**</dt> <dt>0x00000001</dt></span><span class="sxs-lookup"><span data-stu-id="368de-109"><dt>**MF\_RESOLUTION\_MEDIASOURCE**</dt> <dt>0x00000001</dt></span></span> </dl>                                                                                                                                           | <span data-ttu-id="368de-110">Попытка создать источник мультимедиа.</span><span class="sxs-lookup"><span data-stu-id="368de-110">Attempt to create a media source.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| <span id="MF_RESOLUTION_BYTESTREAM"></span><span id="mf_resolution_bytestream"></span><dl> <span data-ttu-id="368de-111"><dt>**MF \_ РАЗРЕШЕНИЕ \_ BYTESTREAM**</dt> <dt>0x00000002</dt></span><span class="sxs-lookup"><span data-stu-id="368de-111"><dt>**MF\_RESOLUTION\_BYTESTREAM**</dt> <dt>0x00000002</dt></span></span> </dl>                                                                                                                                              | <span data-ttu-id="368de-112">Попытка создать байтовый поток.</span><span class="sxs-lookup"><span data-stu-id="368de-112">Attempt to create a byte stream.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| <span id="MF_RESOLUTION_CONTENT_DOES_NOT_HAVE_TO_MATCH_EXTENSION_OR_MIME_TYPE_"></span><span id="mf_resolution_content_does_not_have_to_match_extension_or_mime_type_"></span><dl> <span data-ttu-id="368de-113"><dt> **\_ Содержимое разрешения \_ MF \_ \_ не \_ обязательно \_ \_ соответствует \_ расширению \_ или \_ \_ типу MIME**</dt> <dt>0x00000010</dt></span><span class="sxs-lookup"><span data-stu-id="368de-113"><dt>**MF\_RESOLUTION\_CONTENT\_DOES\_NOT\_HAVE\_TO\_MATCH\_EXTENSION\_OR\_MIME\_TYPE** </dt> <dt>0x00000010</dt></span></span> </dl> | <span data-ttu-id="368de-114">Если разрешение источника завершается неудачей с помощью обработчика потока байтов, зарегистрированного для типа MIME или расширения имени файла, сопоставитель источника перечисляет все зарегистрированные обработчики потока байтов.</span><span class="sxs-lookup"><span data-stu-id="368de-114">If source resolution fails using the byte-stream handler that is registered for the MIME type or file name extension, the source resolver enumerates through all of the registered byte-stream handlers.</span></span><br/> <span data-ttu-id="368de-115">Обработчики потока байтов регистрируются с помощью расширения имени файла или типа MIME.</span><span class="sxs-lookup"><span data-stu-id="368de-115">Byte-stream handlers are registered by file name extension or MIME type.</span></span> <span data-ttu-id="368de-116">Изначально сопоставитель источников пытается использовать обработчик, который соответствует расширению имени файла или типу MIME.</span><span class="sxs-lookup"><span data-stu-id="368de-116">Initially, the source resolver attempts to use a handler that matches the file name extension or the MIME type.</span></span> <span data-ttu-id="368de-117">Если это не удается, по умолчанию выполняется полное разрешение источника, и сопоставитель источника возвращает приложению код ошибки.</span><span class="sxs-lookup"><span data-stu-id="368de-117">If that fails, then by default the entire source resolution fails and the source resolver returns an error code to the application.</span></span> <span data-ttu-id="368de-118">Однако если этот флаг указан, сопоставитель источника по-своему будет перечислять все зарегистрированные обработчики потока байтов.</span><span class="sxs-lookup"><span data-stu-id="368de-118">If this flag is specified, however, the source resolver continues to enumerates through all of the registered byte-stream handlers.</span></span> <span data-ttu-id="368de-119">Возможно, неверно соответствующий обработчик может успешно создать источник мультимедиа.</span><span class="sxs-lookup"><span data-stu-id="368de-119">Possibly a mis-matched handler can successfully create the media source.</span></span><br/> <span data-ttu-id="368de-120">Этот флаг не может использоваться вместе с \_ \_ \_ флагом "хранить байтовый \_ поток в состоянии" с \_ \_ \_ ошибкой.</span><span class="sxs-lookup"><span data-stu-id="368de-120">This flag cannot be combined with the MF\_RESOLUTION\_KEEP\_BYTE\_STREAM\_ALIVE\_ON\_FAIL flag.</span></span> <span data-ttu-id="368de-121">Дополнительные сведения см. в разделе "Примечания".</span><span class="sxs-lookup"><span data-stu-id="368de-121">See Remarks for more information.</span></span><br/> |
| <span id="MF_RESOLUTION_KEEP_BYTE_STREAM_ALIVE_ON_FAIL"></span><span id="mf_resolution_keep_byte_stream_alive_on_fail"></span><dl> <span data-ttu-id="368de-122"><dt>**MF \_ РАЗРЕШЕНИЕ " \_ поддерживать \_ байтовый \_ поток \_ в состоянии" \_ при \_ сбое**</dt> <dt>0x00000020</dt></span><span class="sxs-lookup"><span data-stu-id="368de-122"><dt>**MF\_RESOLUTION\_KEEP\_BYTE\_STREAM\_ALIVE\_ON\_FAIL**</dt> <dt>0x00000020</dt></span></span> </dl>                                                                             | <span data-ttu-id="368de-123">Если разрешение источника завершается неудачей, сопоставитель источника не закрывает байтовый поток.</span><span class="sxs-lookup"><span data-stu-id="368de-123">If the source resolution fails, the source resolver does not close the byte stream.</span></span> <span data-ttu-id="368de-124">По умолчанию сопоставитель источника закрывает байтовый поток при сбое.</span><span class="sxs-lookup"><span data-stu-id="368de-124">By default, the source resolver closes the byte stream on failure.</span></span><br/> <span data-ttu-id="368de-125">Если этот флаг используется и разрешение источника завершается неудачно, вызывающий объект должен снова вызвать метод и установить \_ \_ для содержимого разрешения MF \_ \_ \_ \_ \_ несоответствие \_ расширения \_ или \_ \_ флага типа MIME.</span><span class="sxs-lookup"><span data-stu-id="368de-125">If this flag is used and the source resolution fails, the caller should call the method again and set the MF\_RESOLUTION\_CONTENT\_DOES\_NOT\_HAVE\_TO\_MATCH\_EXTENSION\_OR\_MIME\_TYPE flag.</span></span><br/> <span data-ttu-id="368de-126">Этот флаг нельзя использовать вместе с \_ \_ содержимым разрешения MF \_ не должно совпадать с \_ \_ \_ \_ \_ \_ \_ флагом расширения или \_ типа MIME.</span><span class="sxs-lookup"><span data-stu-id="368de-126">This flag cannot be combined with the MF\_RESOLUTION\_CONTENT\_DOES\_NOT\_HAVE\_TO\_MATCH\_EXTENSION\_OR\_MIME\_TYPE flag.</span></span> <span data-ttu-id="368de-127">Дополнительные сведения см. в разделе "Примечания".</span><span class="sxs-lookup"><span data-stu-id="368de-127">See Remarks for more information.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                   |
| <span id="MF_RESOLUTION_READ"></span><span id="mf_resolution_read"></span><dl> <span data-ttu-id="368de-128"><dt>**MF \_ РАЗРЕШЕНИЕ \_ Read**</dt> <dt>0x00010000</dt></span><span class="sxs-lookup"><span data-stu-id="368de-128"><dt>**MF\_RESOLUTION\_READ**</dt> <dt>0x00010000</dt></span></span> </dl>                                                                                                                                                                | <span data-ttu-id="368de-129">Запрашивает доступ на чтение к источнику.</span><span class="sxs-lookup"><span data-stu-id="368de-129">Requests read access to the source.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| <span id="MF_RESOLUTION_WRITE"></span><span id="mf_resolution_write"></span><dl> <span data-ttu-id="368de-130"><dt>**MF \_ РАЗРЕШЕНИЕ \_ Write**</dt> <dt>0x00020000</dt></span><span class="sxs-lookup"><span data-stu-id="368de-130"><dt>**MF\_RESOLUTION\_WRITE**</dt> <dt>0x00020000</dt></span></span> </dl>                                                                                                                                                             | <span data-ttu-id="368de-131">Запрашивает доступ на запись к источнику.</span><span class="sxs-lookup"><span data-stu-id="368de-131">Requests write access to the source.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| <span id="MF_RESOLUTION_DISABLE_LOCAL_PLUGINS"></span><span id="mf_resolution_disable_local_plugins"></span><dl> <span data-ttu-id="368de-132"><dt>**MF \_ РАЗРЕШЕНИЕ \_ отключения \_ локальных \_ подключаемых модулей**</dt> <dt>0x00000040</dt></span><span class="sxs-lookup"><span data-stu-id="368de-132"><dt>**MF\_RESOLUTION\_DISABLE\_LOCAL\_PLUGINS**</dt> <dt>0x00000040</dt></span></span> </dl>                                                                                                           | <span data-ttu-id="368de-133">Сопоставитель источников не будет использовать локально зарегистрированную схему или подключаемые модули обработчика ByteStream.</span><span class="sxs-lookup"><span data-stu-id="368de-133">The source resolver will not use locally registered scheme or bytestream handler plugins.</span></span><br/> <span data-ttu-id="368de-134">Требуется Windows 8.</span><span class="sxs-lookup"><span data-stu-id="368de-134">Requires Windows 8.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |



## <a name="remarks"></a><span data-ttu-id="368de-135">Комментарии</span><span class="sxs-lookup"><span data-stu-id="368de-135">Remarks</span></span>

<span data-ttu-id="368de-136">Приложение устанавливает эти флаги при использовании интерфейса [**имфсаурцересолвер**](/windows/desktop/api/mfidl/nn-mfidl-imfsourceresolver) .</span><span class="sxs-lookup"><span data-stu-id="368de-136">The application sets these flags when it uses the [**IMFSourceResolver**](/windows/desktop/api/mfidl/nn-mfidl-imfsourceresolver) interface.</span></span> <span data-ttu-id="368de-137">Сопоставитель источников передает те же флаги методам [**имфбитестреамхандлер:: бегинкреатеобжект**](/windows/desktop/api/mfidl/nf-mfidl-imfbytestreamhandler-begincreateobject) и [**Имфсчемехандлер:: бегинкреатеобжект**](/windows/desktop/api/mfidl/nf-mfidl-imfschemehandler-begincreateobject) .</span><span class="sxs-lookup"><span data-stu-id="368de-137">The source resolver passes the same flags to the [**IMFByteStreamHandler::BeginCreateObject**](/windows/desktop/api/mfidl/nf-mfidl-imfbytestreamhandler-begincreateobject) and [**IMFSchemeHandler::BeginCreateObject**](/windows/desktop/api/mfidl/nf-mfidl-imfschemehandler-begincreateobject) methods.</span></span>

<span data-ttu-id="368de-138">Необходимо указать одно из \_ флагов разрешения MF \_ МЕДИАСАУРЦЕ или MF \_ Resolution \_ BYTESTREAM.</span><span class="sxs-lookup"><span data-stu-id="368de-138">You must specify one of the MF\_RESOLUTION\_MEDIASOURCE or MF\_RESOLUTION\_BYTESTREAM flags.</span></span> <span data-ttu-id="368de-139">Остальные флаги являются необязательными.</span><span class="sxs-lookup"><span data-stu-id="368de-139">The remaining flags are all optional.</span></span>

<span data-ttu-id="368de-140">\_ \_ \_ \_ \_ \_ Для следующего сценария определено разрешение MF Streaming Byte in \_ Failed.</span><span class="sxs-lookup"><span data-stu-id="368de-140">The MF\_RESOLUTION\_KEEP\_BYTE\_STREAM\_ALIVE\_ON\_FAIL flag is defined for the following scenario:</span></span>

1.  <span data-ttu-id="368de-141">Приложение пытается открыть источник по сети.</span><span class="sxs-lookup"><span data-stu-id="368de-141">The application attempts to open a source over the network.</span></span> <span data-ttu-id="368de-142">Приложение задает для параметра разрешения MF значение " \_ \_ поддерживать \_ поток байтов" \_ \_ в состоянии " \_ сбой" \_ .</span><span class="sxs-lookup"><span data-stu-id="368de-142">The application sets the MF\_RESOLUTION\_KEEP\_BYTE\_STREAM\_ALIVE\_ON\_FAIL flag.</span></span>

2.  <span data-ttu-id="368de-143">URL-адрес источника содержит неверное расширение имени файла.</span><span class="sxs-lookup"><span data-stu-id="368de-143">The source's URL contains the wrong file name extension.</span></span> <span data-ttu-id="368de-144">Так как расширение имени файла не является правильным, обработчик потока байтов по умолчанию не может создать источник мультимедиа.</span><span class="sxs-lookup"><span data-stu-id="368de-144">Because the file name extension is wrong, the default byte-stream handler cannot create the media source.</span></span> <span data-ttu-id="368de-145">Так как приложение устанавливает для параметра \_ разрешения \_ MF \_ \_ поток \_ активности потока \_ в состоянии \_ Fail, сопоставитель источника кэширует байтовый поток.</span><span class="sxs-lookup"><span data-stu-id="368de-145">Because the application set the MF\_RESOLUTION\_KEEP\_BYTE\_STREAM\_ALIVE\_ON\_FAIL flag, the source resolver caches the byte stream.</span></span>

3.  <span data-ttu-id="368de-146">Сопоставитель источника возвращает приложению код ошибки.</span><span class="sxs-lookup"><span data-stu-id="368de-146">The source resolver returns an error code to the application.</span></span>

4.  <span data-ttu-id="368de-147">Клиент снова открывает источник, в этот раз Настройка \_ содержимого для разрешения MF \_ \_ \_ не \_ \_ должна \_ совпадать с \_ расширением \_ или \_ \_ флагом типа MIME.</span><span class="sxs-lookup"><span data-stu-id="368de-147">The client opens the source again, this time setting the MF\_RESOLUTION\_CONTENT\_DOES\_NOT\_HAVE\_TO\_MATCH\_EXTENSION\_OR\_MIME\_TYPE flag.</span></span> <span data-ttu-id="368de-148">Этот флаг приводит к тому, что сопоставитель источника пытается проверить все зарегистрированные обработчики, а не только обработчик по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="368de-148">This flag causes the source resolver to try all of the registered handlers instead of just the default handler.</span></span> <span data-ttu-id="368de-149">Поскольку поток байтов был кэширован, сопоставитель источника не должен снова открывать байтовый поток.</span><span class="sxs-lookup"><span data-stu-id="368de-149">Because the byte stream was cached, the source resolver does not have to open the byte stream again.</span></span>

## <a name="requirements"></a><span data-ttu-id="368de-150">Требования</span><span class="sxs-lookup"><span data-stu-id="368de-150">Requirements</span></span>



| <span data-ttu-id="368de-151">Требование</span><span class="sxs-lookup"><span data-stu-id="368de-151">Requirement</span></span> | <span data-ttu-id="368de-152">Значение</span><span class="sxs-lookup"><span data-stu-id="368de-152">Value</span></span> |
|-------------------------------------|------------------------------------------------------------------------------------|
| <span data-ttu-id="368de-153">Минимальная версия клиента</span><span class="sxs-lookup"><span data-stu-id="368de-153">Minimum supported client</span></span><br/> | <span data-ttu-id="368de-154">Только для \[ классических приложений Windows Vista\]</span><span class="sxs-lookup"><span data-stu-id="368de-154">Windows Vista \[desktop apps only\]</span></span><br/>                                     |
| <span data-ttu-id="368de-155">Минимальная версия сервера</span><span class="sxs-lookup"><span data-stu-id="368de-155">Minimum supported server</span></span><br/> | <span data-ttu-id="368de-156">\[Только для настольных приложений Windows Server 2008\]</span><span class="sxs-lookup"><span data-stu-id="368de-156">Windows Server 2008 \[desktop apps only\]</span></span><br/>                               |
| <span data-ttu-id="368de-157">Header</span><span class="sxs-lookup"><span data-stu-id="368de-157">Header</span></span><br/>                   | <dl> <span data-ttu-id="368de-158"><dt>Мфидл. h</dt></span><span class="sxs-lookup"><span data-stu-id="368de-158"><dt>Mfidl.h</dt></span></span> </dl> |



## <a name="see-also"></a><span data-ttu-id="368de-159">См. также раздел</span><span class="sxs-lookup"><span data-stu-id="368de-159">See also</span></span>

<dl> <dt>

[<span data-ttu-id="368de-160">Константы Media Foundation</span><span class="sxs-lookup"><span data-stu-id="368de-160">Media Foundation Constants</span></span>](media-foundation-constants.md)
</dt> <dt>

[<span data-ttu-id="368de-161">**имфбитестреамхандлер**</span><span class="sxs-lookup"><span data-stu-id="368de-161">**IMFByteStreamHandler**</span></span>](/windows/desktop/api/mfidl/nn-mfidl-imfbytestreamhandler)
</dt> <dt>

[<span data-ttu-id="368de-162">**имфсчемехандлер**</span><span class="sxs-lookup"><span data-stu-id="368de-162">**IMFSchemeHandler**</span></span>](/windows/desktop/api/mfidl/nn-mfidl-imfschemehandler)
</dt> <dt>

[<span data-ttu-id="368de-163">**имфсаурцересолвер**</span><span class="sxs-lookup"><span data-stu-id="368de-163">**IMFSourceResolver**</span></span>](/windows/desktop/api/mfidl/nn-mfidl-imfsourceresolver)
</dt> <dt>

[<span data-ttu-id="368de-164">Сопоставитель источников</span><span class="sxs-lookup"><span data-stu-id="368de-164">Source Resolver</span></span>](source-resolver.md)
</dt> </dl>

 

 




