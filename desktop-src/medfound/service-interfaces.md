---
description: Интерфейсы службы
ms.assetid: 264a0e86-49e9-4777-956b-a83e9db52a25
title: Интерфейсы службы
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 31687cc1c1283eb59c7731743eaf4ece0127b392
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "105711399"
---
# <a name="service-interfaces"></a><span data-ttu-id="135dd-103">Интерфейсы службы</span><span class="sxs-lookup"><span data-stu-id="135dd-103">Service Interfaces</span></span>

<span data-ttu-id="135dd-104">Некоторые интерфейсы в Media Foundation должны быть получены путем вызова метода [**имфжетсервице:: WebService**](/windows/desktop/api/mfidl/nf-mfidl-imfgetservice-getservice) , а не путем вызова **QueryInterface**.</span><span class="sxs-lookup"><span data-stu-id="135dd-104">Some interfaces in Media Foundation must be obtained by calling [**IMFGetService::GetService**](/windows/desktop/api/mfidl/nf-mfidl-imfgetservice-getservice) instead of by calling **QueryInterface**.</span></span> <span data-ttu-id="135dd-105">Метод [**WebMethod**](/windows/desktop/api/mfidl/nn-mfidl-imfgetservice) работает, как QueryInterface, но со следующими отличиями.</span><span class="sxs-lookup"><span data-stu-id="135dd-105">The [**GetService**](/windows/desktop/api/mfidl/nn-mfidl-imfgetservice) method works like QueryInterface, but with the following differences:</span></span>

-   <span data-ttu-id="135dd-106">В дополнение к идентификатору интерфейса в нем принимается идентификатор GUID идентификатора службы.</span><span class="sxs-lookup"><span data-stu-id="135dd-106">It takes a service identifier GUID in addition to the interface identifier.</span></span>
-   <span data-ttu-id="135dd-107">Он может вернуть указатель на другой объект, реализующий интерфейс, вместо того чтобы возвращать указатель на исходный объект, к которому выполняется запрос.</span><span class="sxs-lookup"><span data-stu-id="135dd-107">It can return a pointer to another object that implements the interface, instead of returning a pointer to the original object that is queried.</span></span>

> [!Note]  
> <span data-ttu-id="135dd-108">Интерфейс [**имфжетсервице**](/windows/desktop/api/mfidl/nn-mfidl-imfgetservice) очень похож на интерфейс **IServiceProvider** , используемый в некоторых других API.</span><span class="sxs-lookup"><span data-stu-id="135dd-108">The [**IMFGetService**](/windows/desktop/api/mfidl/nn-mfidl-imfgetservice) interface is very similar to the **IServiceProvider** interface used in some other APIs.</span></span>

 

<span data-ttu-id="135dd-109">*Служба* — это определенный интерфейс, полученный из определенного класса объектов через интерфейс [**имфжетсервице**](/windows/desktop/api/mfidl/nn-mfidl-imfgetservice) .</span><span class="sxs-lookup"><span data-stu-id="135dd-109">A *service* is a particular interface obtained from a particular class of objects through the [**IMFGetService**](/windows/desktop/api/mfidl/nn-mfidl-imfgetservice) interface.</span></span> <span data-ttu-id="135dd-110">Определены следующие службы.</span><span class="sxs-lookup"><span data-stu-id="135dd-110">The following services are defined.</span></span>



| <span data-ttu-id="135dd-111">Идентификатор службы</span><span class="sxs-lookup"><span data-stu-id="135dd-111">Service identifier</span></span>                          | <span data-ttu-id="135dd-112">Интерфейс</span><span class="sxs-lookup"><span data-stu-id="135dd-112">Interface</span></span>                                                                                                                                | <span data-ttu-id="135dd-113">Объекты, которые могут предоставлять доступ к этой службе</span><span class="sxs-lookup"><span data-stu-id="135dd-113">Objects that might expose this service</span></span>                                                                                                            |
|---------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="135dd-114">\_ \_ служба поставщика метаданных \_ MF</span><span class="sxs-lookup"><span data-stu-id="135dd-114">MF\_METADATA\_PROVIDER\_SERVICE</span></span>             | [<span data-ttu-id="135dd-115">**имфметадатапровидер**</span><span class="sxs-lookup"><span data-stu-id="135dd-115">**IMFMetadataProvider**</span></span>](/windows/desktop/api/mfidl/nn-mfidl-imfmetadataprovider)                                                                                       | <span data-ttu-id="135dd-116">Источники мультимедиа</span><span class="sxs-lookup"><span data-stu-id="135dd-116">Media sources</span></span>                                                                                                                                     |
| <span data-ttu-id="135dd-117">\_Служба MF медиасаурце \_</span><span class="sxs-lookup"><span data-stu-id="135dd-117">MF\_MEDIASOURCE\_SERVICE</span></span>                    | [<span data-ttu-id="135dd-118">**имфмедиасаурце**</span><span class="sxs-lookup"><span data-stu-id="135dd-118">**IMFMediaSource**</span></span>](/windows/desktop/api/mfidl/nn-mfidl-imfmediasource)                                                                                                 | <span data-ttu-id="135dd-119">Поддерживается в Windows 8.1 и более поздних версиях.</span><span class="sxs-lookup"><span data-stu-id="135dd-119">Supported in Windows 8.1 and later.</span></span><br/>                                                                                                    |
| <span data-ttu-id="135dd-120">\_PMP \_ сервера MF \_</span><span class="sxs-lookup"><span data-stu-id="135dd-120">MF\_PMP\_SERVER\_CONTEXT</span></span>                    | [<span data-ttu-id="135dd-121">**имфпмпсервер**</span><span class="sxs-lookup"><span data-stu-id="135dd-121">**IMFPMPServer**</span></span>](/windows/desktop/api/mfidl/nn-mfidl-imfpmpserver)                                                                                                     | <span data-ttu-id="135dd-122">Сеанс защищенного пути к носителю (PMP).</span><span class="sxs-lookup"><span data-stu-id="135dd-122">Protected media path (PMP) Media Session.</span></span>                                                                                                         |
| <span data-ttu-id="135dd-123">\_службы MF Quality \_ Services</span><span class="sxs-lookup"><span data-stu-id="135dd-123">MF\_QUALITY\_SERVICES</span></span>                       | [<span data-ttu-id="135dd-124">**имфкуалитядвисе**</span><span class="sxs-lookup"><span data-stu-id="135dd-124">**IMFQualityAdvise**</span></span>](/windows/desktop/api/mfidl/nn-mfidl-imfqualityadvise)                                                                                             | <span data-ttu-id="135dd-125">Источники мультимедиа.</span><span class="sxs-lookup"><span data-stu-id="135dd-125">Media sources.</span></span>                                                                                                                                    |
| <span data-ttu-id="135dd-126">\_ \_ Служба управления скоростью \_ MF</span><span class="sxs-lookup"><span data-stu-id="135dd-126">MF\_RATE\_CONTROL\_SERVICE</span></span>                  | [<span data-ttu-id="135dd-127">**имфратеконтрол**</span><span class="sxs-lookup"><span data-stu-id="135dd-127">**IMFRateControl**</span></span>](/windows/desktop/api/mfidl/nn-mfidl-imfratecontrol)                                                                                                 | <span data-ttu-id="135dd-128">Источники мультимедиа, сеанс мультимедиа</span><span class="sxs-lookup"><span data-stu-id="135dd-128">Media sources, Media Session</span></span>                                                                                                                      |
| <span data-ttu-id="135dd-129">\_ \_ Служба управления скоростью \_ MF</span><span class="sxs-lookup"><span data-stu-id="135dd-129">MF\_RATE\_CONTROL\_SERVICE</span></span>                  | [<span data-ttu-id="135dd-130">**имфратесуппорт**</span><span class="sxs-lookup"><span data-stu-id="135dd-130">**IMFRateSupport**</span></span>](/windows/desktop/api/mfidl/nn-mfidl-imfratesupport)                                                                                                 | <span data-ttu-id="135dd-131">Источники мультимедиа, приемники мультимедиа, сеанс мультимедиа</span><span class="sxs-lookup"><span data-stu-id="135dd-131">Media sources, media sinks, Media Session</span></span>                                                                                                         |
| <span data-ttu-id="135dd-132">\_Удаленный \_ прокси-сервер MF</span><span class="sxs-lookup"><span data-stu-id="135dd-132">MF\_REMOTE\_PROXY</span></span>                           | [<span data-ttu-id="135dd-133">**имфремотепрокси**</span><span class="sxs-lookup"><span data-stu-id="135dd-133">**IMFRemoteProxy**</span></span>](/windows/desktop/api/mfidl/nn-mfidl-imfremoteproxy)                                                                                                 | <span data-ttu-id="135dd-134">Учетные записи-посредники для удаленных объектов.</span><span class="sxs-lookup"><span data-stu-id="135dd-134">Proxies for remote objects.</span></span>                                                                                                                       |
| <span data-ttu-id="135dd-135">\_Служба MF Sami \_</span><span class="sxs-lookup"><span data-stu-id="135dd-135">MF\_SAMI\_SERVICE</span></span>                           | [<span data-ttu-id="135dd-136">**имфсамистиле**</span><span class="sxs-lookup"><span data-stu-id="135dd-136">**IMFSAMIStyle**</span></span>](/windows/desktop/api/mfidl/nn-mfidl-imfsamistyle)                                                                                                     | <span data-ttu-id="135dd-137">Синхронизированный доступный источник мультимедиа обмена мультимедиа (SAMI).</span><span class="sxs-lookup"><span data-stu-id="135dd-137">Synchronized Accessible Media Interchange (SAMI) media source.</span></span>                                                                                    |
| <span data-ttu-id="135dd-138">\_ \_ \_ служба поставщика представления источника \_ MF</span><span class="sxs-lookup"><span data-stu-id="135dd-138">MF\_SOURCE\_PRESENTATION\_PROVIDER\_SERVICE</span></span> | [<span data-ttu-id="135dd-139">**имфмедиасаурцепресентатионпровидер**</span><span class="sxs-lookup"><span data-stu-id="135dd-139">**IMFMediaSourcePresentationProvider**</span></span>](/windows/desktop/api/mfidl/nn-mfidl-imfmediasourcepresentationprovider)                                                         | <span data-ttu-id="135dd-140">Источник Sequencer</span><span class="sxs-lookup"><span data-stu-id="135dd-140">Sequencer source</span></span>                                                                                                                                  |
| <span data-ttu-id="135dd-141">Служба времени код MF \_ \_</span><span class="sxs-lookup"><span data-stu-id="135dd-141">MF\_TIMECODE\_SERVICE</span></span>                       | [<span data-ttu-id="135dd-142">**имфтимекодетранслате**</span><span class="sxs-lookup"><span data-stu-id="135dd-142">**IMFTimecodeTranslate**</span></span>](/windows/desktop/api/mfidl/nn-mfidl-imftimecodetranslate)                                                                                     | <span data-ttu-id="135dd-143">Источник носителя ASF.</span><span class="sxs-lookup"><span data-stu-id="135dd-143">ASF media source.</span></span>                                                                                                                                 |
| <span data-ttu-id="135dd-144">\_ \_ \_ Служба редактора атрибутов MF \_ топоноде</span><span class="sxs-lookup"><span data-stu-id="135dd-144">MF\_TOPONODE\_ATTRIBUTE\_EDITOR\_SERVICE</span></span>    | [<span data-ttu-id="135dd-145">**имфтопологинодеаттрибутидитор**</span><span class="sxs-lookup"><span data-stu-id="135dd-145">**IMFTopologyNodeAttributeEditor**</span></span>](/windows/desktop/api/mfidl/nn-mfidl-imftopologynodeattributeeditor)                                                                 | <span data-ttu-id="135dd-146">Сеанс мультимедиа</span><span class="sxs-lookup"><span data-stu-id="135dd-146">Media session</span></span>                                                                                                                                     |
| <span data-ttu-id="135dd-147">\_инкапсулированный в оболочку \_ объект</span><span class="sxs-lookup"><span data-stu-id="135dd-147">MF\_WRAPPED\_OBJECT</span></span>                         | [<span data-ttu-id="135dd-148">**имфбитестреам**</span><span class="sxs-lookup"><span data-stu-id="135dd-148">**IMFByteStream**</span></span>](/windows/desktop/api/mfobjects/nn-mfobjects-imfbytestream)                                                                                                   | <span data-ttu-id="135dd-149">Обтекаемые объекты</span><span class="sxs-lookup"><span data-stu-id="135dd-149">Wrapped objects</span></span>                                                                                                                                   |
| <span data-ttu-id="135dd-150">\_Служба буфера с оболочкой MF \_ \_</span><span class="sxs-lookup"><span data-stu-id="135dd-150">MF\_WRAPPED\_BUFFER\_SERVICE</span></span>                |                                                                                                                                          | <span data-ttu-id="135dd-151">Поддерживается в Windows 8.1 и более поздних версиях.</span><span class="sxs-lookup"><span data-stu-id="135dd-151">Supported in Windows 8.1 and later.</span></span><br/>                                                                                                    |
| <span data-ttu-id="135dd-152">\_ \_ Пример службы с УПАКОВАНной MF \_</span><span class="sxs-lookup"><span data-stu-id="135dd-152">MF\_WRAPPED\_SAMPLE\_SERVIC</span></span>                 |                                                                                                                                          | <span data-ttu-id="135dd-153">Поддерживается в Windows 8.1 и более поздних версиях.</span><span class="sxs-lookup"><span data-stu-id="135dd-153">Supported in Windows 8.1 and later.</span></span><br/>                                                                                                    |
| <span data-ttu-id="135dd-154">MF \_ ворккуеуе \_ Services</span><span class="sxs-lookup"><span data-stu-id="135dd-154">MF\_WORKQUEUE\_SERVICES</span></span>                     | [<span data-ttu-id="135dd-155">**имфворккуеуесервицес**</span><span class="sxs-lookup"><span data-stu-id="135dd-155">**IMFWorkQueueServices**</span></span>](/windows/desktop/api/mfidl/nn-mfidl-imfworkqueueservices)                                                                                     | <span data-ttu-id="135dd-156">Сеанс мультимедиа</span><span class="sxs-lookup"><span data-stu-id="135dd-156">Media session</span></span>                                                                                                                                     |
| <span data-ttu-id="135dd-157">\_Служба мфнет савежоб \_</span><span class="sxs-lookup"><span data-stu-id="135dd-157">MFNET\_SAVEJOB\_SERVICE</span></span>                     | [<span data-ttu-id="135dd-158">**имфсавежоб**</span><span class="sxs-lookup"><span data-stu-id="135dd-158">**IMFSaveJob**</span></span>](/windows/desktop/api/mfidl/nn-mfidl-imfsavejob)                                                                                                         | <span data-ttu-id="135dd-159">Байтовые потоки</span><span class="sxs-lookup"><span data-stu-id="135dd-159">Byte streams</span></span>                                                                                                                                      |
| <span data-ttu-id="135dd-160">\_Служба статистики \_ мфнетсаурце</span><span class="sxs-lookup"><span data-stu-id="135dd-160">MFNETSOURCE\_STATISTICS\_SERVICE</span></span>            | <span data-ttu-id="135dd-161">**ипропертисторе**</span><span class="sxs-lookup"><span data-stu-id="135dd-161">**IPropertyStore**</span></span>                                                                                                                       | <span data-ttu-id="135dd-162">Источник сети.</span><span class="sxs-lookup"><span data-stu-id="135dd-162">Network source.</span></span> <span data-ttu-id="135dd-163">Используйте эту службу для получения статистики сети.</span><span class="sxs-lookup"><span data-stu-id="135dd-163">Use this service to retrieve network statistics.</span></span> <span data-ttu-id="135dd-164">См [**. \_ свойство мфнетсаурце Statistics**](mfnetsource-statistics-property.md).</span><span class="sxs-lookup"><span data-stu-id="135dd-164">See [**MFNETSOURCE\_STATISTICS Property**](mfnetsource-statistics-property.md).</span></span> |
| <span data-ttu-id="135dd-165">\_ \_ служба политики MR \_ Audio</span><span class="sxs-lookup"><span data-stu-id="135dd-165">MR\_AUDIO\_POLICY\_SERVICE</span></span>                  | [<span data-ttu-id="135dd-166">**имфаудиополици**</span><span class="sxs-lookup"><span data-stu-id="135dd-166">**IMFAudioPolicy**</span></span>](/windows/desktop/api/mfidl/nn-mfidl-imfaudiopolicy)                                                                                                 | <span data-ttu-id="135dd-167">Модуль подготовки звука</span><span class="sxs-lookup"><span data-stu-id="135dd-167">Audio renderer</span></span>                                                                                                                                    |
| <span data-ttu-id="135dd-168">\_Служба буфера \_ Mr</span><span class="sxs-lookup"><span data-stu-id="135dd-168">MR\_BUFFER\_SERVICE</span></span>                         | <span data-ttu-id="135dd-169">**IDirect3DSurface9**</span><span class="sxs-lookup"><span data-stu-id="135dd-169">**IDirect3DSurface9**</span></span>                                                                                                                    | <span data-ttu-id="135dd-170">Буферы поверхности DirectX</span><span class="sxs-lookup"><span data-stu-id="135dd-170">DirectX surface buffers</span></span>                                                                                                                           |
| <span data-ttu-id="135dd-171">\_ \_ Служба тома для политики записи \_ MR \_</span><span class="sxs-lookup"><span data-stu-id="135dd-171">MR\_CAPTURE\_POLICY\_VOLUME\_SERVICE</span></span>        | [<span data-ttu-id="135dd-172">**имфсимплеаудиоволуме**</span><span class="sxs-lookup"><span data-stu-id="135dd-172">**IMFSimpleAudioVolume**</span></span>](/windows/desktop/api/mfidl/nn-mfidl-imfsimpleaudiovolume)                                                                                     | <span data-ttu-id="135dd-173">Источник записи звука</span><span class="sxs-lookup"><span data-stu-id="135dd-173">Audio capture source</span></span>                                                                                                                              |
| <span data-ttu-id="135dd-174">\_ \_ Служба томов с политикой MR \_</span><span class="sxs-lookup"><span data-stu-id="135dd-174">MR\_POLICY\_VOLUME\_SERVICE</span></span>                 | [<span data-ttu-id="135dd-175">**имфсимплеаудиоволуме**</span><span class="sxs-lookup"><span data-stu-id="135dd-175">**IMFSimpleAudioVolume**</span></span>](/windows/desktop/api/mfidl/nn-mfidl-imfsimpleaudiovolume)                                                                                     | <span data-ttu-id="135dd-176">Модуль подготовки звука</span><span class="sxs-lookup"><span data-stu-id="135dd-176">Audio renderer</span></span>                                                                                                                                    |
| <span data-ttu-id="135dd-177">\_ \_ Служба тома MR \_ Stream</span><span class="sxs-lookup"><span data-stu-id="135dd-177">MR\_STREAM\_VOLUME\_SERVICE</span></span>                 | [<span data-ttu-id="135dd-178">**имфаудиостреамволуме**</span><span class="sxs-lookup"><span data-stu-id="135dd-178">**IMFAudioStreamVolume**</span></span>](/windows/desktop/api/mfidl/nn-mfidl-imfaudiostreamvolume)                                                                                     | <span data-ttu-id="135dd-179">Модуль подготовки звука</span><span class="sxs-lookup"><span data-stu-id="135dd-179">Audio renderer</span></span>                                                                                                                                    |
| <span data-ttu-id="135dd-180">\_ \_ Служба ускорения видео Mr \_</span><span class="sxs-lookup"><span data-stu-id="135dd-180">MR\_VIDEO\_ACCELERATION\_SERVICE</span></span>            | <span data-ttu-id="135dd-181">[**IDirect3DDeviceManager9**](/windows/desktop/api/dxva2api/nn-dxva2api-idirect3ddevicemanager9), [ **идиректксвидеоакцелератионсервице**](/windows/desktop/api/dxva2api/nn-dxva2api-idirectxvideoaccelerationservice)</span><span class="sxs-lookup"><span data-stu-id="135dd-181">[**IDirect3DDeviceManager9**](/windows/desktop/api/dxva2api/nn-dxva2api-idirect3ddevicemanager9), [**IDirectXVideoAccelerationService**](/windows/desktop/api/dxva2api/nn-dxva2api-idirectxvideoaccelerationservice)</span></span> | <span data-ttu-id="135dd-182">Улучшенный обработчик видео (Евр)</span><span class="sxs-lookup"><span data-stu-id="135dd-182">Enhanced video renderer (EVR)</span></span>                                                                                                                     |
| <span data-ttu-id="135dd-183">\_ \_ Служба ускорения видео Mr \_</span><span class="sxs-lookup"><span data-stu-id="135dd-183">MR\_VIDEO\_ACCELERATION\_SERVICE</span></span>            | [<span data-ttu-id="135dd-184">**идиректксвидеомемориконфигуратион**</span><span class="sxs-lookup"><span data-stu-id="135dd-184">**IDirectXVideoMemoryConfiguration**</span></span>](/windows/desktop/api/dxva2api/nn-dxva2api-idirectxvideomemoryconfiguration)                                                             | <span data-ttu-id="135dd-185">Входные сигналы в фильтре Евр DirectShow</span><span class="sxs-lookup"><span data-stu-id="135dd-185">Input pins on the DirectShow EVR filter</span></span>                                                                                                           |
| <span data-ttu-id="135dd-186">\_ \_ Служба ускорения видео Mr \_</span><span class="sxs-lookup"><span data-stu-id="135dd-186">MR\_VIDEO\_ACCELERATION\_SERVICE</span></span>            | [<span data-ttu-id="135dd-187">**Интерфейс Имфвидеосамплеаллокатор**</span><span class="sxs-lookup"><span data-stu-id="135dd-187">**IMFVideoSampleAllocator Interface**</span></span>](/windows/desktop/api/mfidl/nn-mfidl-imfvideosampleallocator)                                                                     | <span data-ttu-id="135dd-188">Приемники потоков Евр.</span><span class="sxs-lookup"><span data-stu-id="135dd-188">EVR stream sinks.</span></span>                                                                                                                                 |
| <span data-ttu-id="135dd-189">\_ \_ Служба видеомикшера MR \_</span><span class="sxs-lookup"><span data-stu-id="135dd-189">MR\_VIDEO\_MIXER\_SERVICE</span></span>                   | <span data-ttu-id="135dd-190">Различные интерфейсы, предоставляемые микшером Евр.</span><span class="sxs-lookup"><span data-stu-id="135dd-190">Various interfaces exposed by the EVR mixer.</span></span> <span data-ttu-id="135dd-191">См. раздел [Использование элементов управления видео микшера](using-the-video-mixer-controls.md).</span><span class="sxs-lookup"><span data-stu-id="135dd-191">See [Using the Video Mixer Controls](using-the-video-mixer-controls.md).</span></span>                   | <span data-ttu-id="135dd-192">евр</span><span class="sxs-lookup"><span data-stu-id="135dd-192">EVR</span></span>                                                                                                                                               |
| <span data-ttu-id="135dd-193">\_ \_ Служба прорисовки видео Mr \_</span><span class="sxs-lookup"><span data-stu-id="135dd-193">MR\_VIDEO\_RENDER\_SERVICE</span></span>                  | <span data-ttu-id="135dd-194">Различные интерфейсы, предоставляемые средством отображения Евр.</span><span class="sxs-lookup"><span data-stu-id="135dd-194">Various interfaces exposed by the EVR presenter.</span></span> <span data-ttu-id="135dd-195">См. раздел [Использование элементов управления отображением видео](using-the-video-display-controls.md).</span><span class="sxs-lookup"><span data-stu-id="135dd-195">See [Using the Video Display Controls](using-the-video-display-controls.md).</span></span>           | <span data-ttu-id="135dd-196">евр</span><span class="sxs-lookup"><span data-stu-id="135dd-196">EVR</span></span>                                                                                                                                               |



 

<span data-ttu-id="135dd-197">Для получения интерфейсов, перечисленных в этой таблице, из объектов, перечисленных в этой таблице, необходимо использовать [**службу**](/windows/desktop/api/mfidl/nf-mfidl-imfgetservice-getservice) Get.</span><span class="sxs-lookup"><span data-stu-id="135dd-197">You must use [**GetService**](/windows/desktop/api/mfidl/nf-mfidl-imfgetservice-getservice) to get the interfaces listed in this table from the objects listed in this table.</span></span>

<span data-ttu-id="135dd-198">В некоторых случаях интерфейс возвращается в виде службы одним классом объектов и возвращается через **QueryInterface** другим классом объектов.</span><span class="sxs-lookup"><span data-stu-id="135dd-198">In some cases, an interface is returned as a service by one class of objects, and returned through **QueryInterface** by another class of objects.</span></span> <span data-ttu-id="135dd-199">На страницах ссылок для каждого интерфейса указывается, когда следует использовать [**службу**](/windows/desktop/api/mfidl/nf-mfidl-imfgetservice-getservice) IsReference и когда следует использовать **QueryInterface**.</span><span class="sxs-lookup"><span data-stu-id="135dd-199">The reference pages for each interface indicate when to use [**GetService**](/windows/desktop/api/mfidl/nf-mfidl-imfgetservice-getservice) and when to use **QueryInterface**.</span></span>

> [!Caution]  
> <span data-ttu-id="135dd-200">Объект может быть реализован таким образом, что он возвращает интерфейс службы через **QueryInterface** и [**GetObject.**](/windows/desktop/api/mfidl/nf-mfidl-imfgetservice-getservice)</span><span class="sxs-lookup"><span data-stu-id="135dd-200">An object might be implemented in such a way that it returns a service interface through **QueryInterface** as well as [**GetService**](/windows/desktop/api/mfidl/nf-mfidl-imfgetservice-getservice).</span></span> <span data-ttu-id="135dd-201">Однако использование **QueryInterface** , если требуется **услуга** , может привести к проблемам совместимости позже.</span><span class="sxs-lookup"><span data-stu-id="135dd-201">However, using **QueryInterface** when **GetService** is required might lead to compatibility problems later.</span></span>

 

<span data-ttu-id="135dd-202">Функция [**мфжетсервице**](/windows/desktop/api/mfidl/nf-mfidl-mfgetservice) — это вспомогательная функция, которая запрашивает объект для [**имфжетсервице**](/windows/desktop/api/mfidl/nn-mfidl-imfgetservice) , а затем [**вызывает метод GetObject**](/windows/desktop/api/mfidl/nf-mfidl-imfgetservice-getservice) объекта.</span><span class="sxs-lookup"><span data-stu-id="135dd-202">The [**MFGetService**](/windows/desktop/api/mfidl/nf-mfidl-mfgetservice) function is a helper function that queries an object for [**IMFGetService**](/windows/desktop/api/mfidl/nn-mfidl-imfgetservice) and then calls the object's [**GetService**](/windows/desktop/api/mfidl/nf-mfidl-imfgetservice-getservice) method.</span></span>

## <a name="examples"></a><span data-ttu-id="135dd-203">Примеры</span><span class="sxs-lookup"><span data-stu-id="135dd-203">Examples</span></span>

<span data-ttu-id="135dd-204">В следующем примере запрос к сеансу мультимедиа для [**имфжетсервице**](/windows/desktop/api/mfidl/nn-mfidl-imfgetservice) и получение интерфейса [**имфратеконтрол**](/windows/desktop/api/mfidl/nn-mfidl-imfratecontrol) .</span><span class="sxs-lookup"><span data-stu-id="135dd-204">The following example queries the Media Session for [**IMFGetService**](/windows/desktop/api/mfidl/nn-mfidl-imfgetservice) and gets the [**IMFRateControl**](/windows/desktop/api/mfidl/nn-mfidl-imfratecontrol) interface.</span></span>


```C++
IMFGetService *pGetService = NULL;
IMFRateControl *pRateControl = NULL;
HRESULT hr = S_OK;

hr = pMediaSession->QueryInterface(
    IID_IMFGetService, 
    (void**)&pGetService);

if (SUCCEEDED(hr))
{
    hr = pGetService->GetService(
        MF_RATE_CONTROL_SERVICE, 
        IID_IMFRateControl,
        (void**)&pRateControl);
}
if (SUCCEEDED(hr))
{
    // Use IMFRateControl. (Not shown.)
}

// Clean up.
SAFE_REELEASE(pGetService);
SAFE_RELEASE(pRateControl);
```



<span data-ttu-id="135dd-205">Следующий пример эквивалентен предыдущему примеру, но использует функцию [**мфжетсервице**](/windows/desktop/api/mfidl/nf-mfidl-mfgetservice) .</span><span class="sxs-lookup"><span data-stu-id="135dd-205">The following example is equivalent to the previous example but uses the [**MFGetService**](/windows/desktop/api/mfidl/nf-mfidl-mfgetservice) function.</span></span>


```C++
IMFRateControl *pRateControl = NULL;
HRESULT hr = S_OK;

hr = MFGetService(
    pMediaSession, 
    MF_RATE_CONTROL_SERVICE, 
    IID_IMFRateControl, 
    (void**) &pRateCtl 
); 
if (SUCCEEDED(hr))
{
    // Use IMFRateControl. (Not shown.)
}

// Clean up.
SAFE_RELEASE(pRateControl);
```



## <a name="related-topics"></a><span data-ttu-id="135dd-206">См. также</span><span class="sxs-lookup"><span data-stu-id="135dd-206">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="135dd-207">**Интерфейс Имфжетсервице**</span><span class="sxs-lookup"><span data-stu-id="135dd-207">**IMFGetService Interface**</span></span>](/windows/desktop/api/mfidl/nn-mfidl-imfgetservice)
</dt> <dt>

[<span data-ttu-id="135dd-208">Media Foundation API платформы</span><span class="sxs-lookup"><span data-stu-id="135dd-208">Media Foundation Platform APIs</span></span>](media-foundation-platform-apis.md)
</dt> </dl>

 

 




