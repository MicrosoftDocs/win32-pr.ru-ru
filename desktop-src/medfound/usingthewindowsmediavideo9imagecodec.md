---
description: Использование категории изображений Windows Media Video 9,1
ms.assetid: b77e955b-767b-4b64-9421-bacac9edf09c
title: Использование категории изображений Windows Media Video 9,1
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 44b545d37b61a1c89ffdd69615b28f636aa98b32
ms.sourcegitcommit: c16214e53680dc71d1c07111b51f72b82a4512d8
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/03/2021
ms.locfileid: "105684780"
---
# <a name="using-the-windows-media-video-91-image-category"></a><span data-ttu-id="658ee-103">Использование категории изображений Windows Media Video 9,1</span><span class="sxs-lookup"><span data-stu-id="658ee-103">Using the Windows Media Video 9.1 Image Category</span></span>

<span data-ttu-id="658ee-104">Категория изображений Windows Media Video 9,1 отличается от других категорий вывода, поддерживаемых кодировщиком и декодером Windows Media Video 9.</span><span class="sxs-lookup"><span data-stu-id="658ee-104">The Windows Media Video 9.1 Image category is different from the other output categories supported by the Windows Media Video 9 encoder and decoder.</span></span> <span data-ttu-id="658ee-105">Вместо обработки несжатого видео он принимает специальные образцы, состоящие из структурированных данных преобразования и, иногда, растровых изображений RGB, на которых выполняются преобразования.</span><span class="sxs-lookup"><span data-stu-id="658ee-105">Instead of processing uncompressed video, it takes special input samples that consist of structured transformation data and, occasionally, RGB bitmap images on which the transformations are performed.</span></span>

<span data-ttu-id="658ee-106">Закодированное содержимое изображения Windows Media Video 9,1 практически идентично содержимому обычного закодированного содержимого Windows Media видео 9, но определяется его собственным FOURCC ("ВМВП").</span><span class="sxs-lookup"><span data-stu-id="658ee-106">The encoded Windows Media Video 9.1 Image content is virtually identical to regular Windows Media Video 9 encoded content, but it is identified by its own FOURCC ("WMVP").</span></span>

<span data-ttu-id="658ee-107">Тип выходных данных кодировщика для видеоизображения задается точно так же, как и стандартное видео Windows Media, за исключением того, что для параметров подтипа и сжатия должны быть заданы идентификаторы изображений видео.</span><span class="sxs-lookup"><span data-stu-id="658ee-107">The encoder output type for video image is set in exactly the same way as standard Windows Media video, except that the subtype and compression values must be set to the video image identifiers.</span></span> <span data-ttu-id="658ee-108">Это включает в себя необходимость получить частные данные кодека и добавить их в структуру [**видеоинфохеадер**](/previous-versions/windows/desktop/api/amvideo/ns-amvideo-videoinfoheader) .</span><span class="sxs-lookup"><span data-stu-id="658ee-108">This includes the need to obtain codec private data and append it to the [**VIDEOINFOHEADER**](/previous-versions/windows/desktop/api/amvideo/ns-amvideo-videoinfoheader) structure.</span></span> <span data-ttu-id="658ee-109">Дополнительные сведения см. в разделе [Настройка кодирования видео](configuringvideoencoding.md).</span><span class="sxs-lookup"><span data-stu-id="658ee-109">For more information, see [Configuring Video Encoding](configuringvideoencoding.md).</span></span>

<span data-ttu-id="658ee-110">Конфигурация входного типа для видеоизображения также очень похожа на входную конфигурацию для других видеокодировщиков.</span><span class="sxs-lookup"><span data-stu-id="658ee-110">The input type configuration for video image is also very similar to input configuration for the other video encoders.</span></span> <span data-ttu-id="658ee-111">Вы можете получить частично завершенный [**\_ \_ тип мультимедиа DMO**](/previous-versions/windows/desktop/api/mediaobj/ns-mediaobj-dmo_media_type) из кодировщика, вызвав [**имедиаобжект:: жетинпуттипе**](/previous-versions/windows/desktop/api/mediaobj/nf-mediaobj-imediaobject-getinputtype), или, если вы используете Media Foundation SDK, вызвав [**имфтрансформ:: жетинпутаваилаблетипе**](/windows/desktop/api/mftransform/nf-mftransform-imftransform-getinputavailabletype) и извлекая **\_ \_ тип мультимедиа DMO** с помощью [**мфкреатеаммедиатипефроммфмедиатипе**](/windows/desktop/api/mfapi/nf-mfapi-mfcreateammediatypefrommfmediatype).</span><span class="sxs-lookup"><span data-stu-id="658ee-111">You can retrieve a partially completed [**DMO\_MEDIA\_TYPE**](/previous-versions/windows/desktop/api/mediaobj/ns-mediaobj-dmo_media_type) from the encoder by calling [**IMediaObject::GetInputType**](/previous-versions/windows/desktop/api/mediaobj/nf-mediaobj-imediaobject-getinputtype), or if you are using the Media Foundation SDK, by calling [**IMFTransform::GetInputAvailableType**](/windows/desktop/api/mftransform/nf-mftransform-imftransform-getinputavailabletype) and retrieving the **DMO\_MEDIA\_TYPE** by using [**MFCreateAMMediaTypeFromMFMediaType**](/windows/desktop/api/mfapi/nf-mfapi-mfcreateammediatypefrommfmediatype).</span></span> <span data-ttu-id="658ee-112">Затем вы устанавливаете размер фрейма и структуру формата [**видеоинфохеадер**](/previous-versions/windows/desktop/api/amvideo/ns-amvideo-videoinfoheader) так же, как и для стандартного видео.</span><span class="sxs-lookup"><span data-stu-id="658ee-112">You then set the frame size and the [**VIDEOINFOHEADER**](/previous-versions/windows/desktop/api/amvideo/ns-amvideo-videoinfoheader) format structure, just as you would for standard video.</span></span> <span data-ttu-id="658ee-113">Как и в случае с типом выходных данных, необходимо убедиться, что подтипы и значения сжатия заданы соответствующим образом.</span><span class="sxs-lookup"><span data-stu-id="658ee-113">As with the output type, you need to ensure that the subtype and compression values are set appropriately.</span></span>

## <a name="creating-input-samples"></a><span data-ttu-id="658ee-114">Создание примеров входных данных</span><span class="sxs-lookup"><span data-stu-id="658ee-114">Creating Input Samples</span></span>

<span data-ttu-id="658ee-115">Примеры входных данных для кодека видеоизображения структурированы.</span><span class="sxs-lookup"><span data-stu-id="658ee-115">The input samples for the video image codec are structured.</span></span> <span data-ttu-id="658ee-116">Определение структуры и констант, используемых для изображения видео, не включается в интерфейсы кодеков аудио и видео Windows Media.</span><span class="sxs-lookup"><span data-stu-id="658ee-116">The definition of the structure and constants used for video image are not included with the Windows Media Audio and Video codec interfaces.</span></span> <span data-ttu-id="658ee-117">Эти определения включены в пакет SDK Windows Media Format, и их использование полностью описано в документации пакета SDK Windows Media Format.</span><span class="sxs-lookup"><span data-stu-id="658ee-117">These definitions are included in the Windows Media Format SDK, and their use is fully explained in the Windows Media Format SDK documentation.</span></span>

## <a name="decoding"></a><span data-ttu-id="658ee-118">Декодирование</span><span class="sxs-lookup"><span data-stu-id="658ee-118">Decoding</span></span>

<span data-ttu-id="658ee-119">Не существует специальных требований для декодирования видео снимка экрана.</span><span class="sxs-lookup"><span data-stu-id="658ee-119">There are no special requirements for decoding screen capture video.</span></span> <span data-ttu-id="658ee-120">В отличие от другого подтипа (МЕДИАСУБТИПЕ \_ вмвп), используемого для ввода декодера, поток сжатого видеоизображения по сути идентичен стандартному потоку видео Windows Media.</span><span class="sxs-lookup"><span data-stu-id="658ee-120">Other than a different subtype (MEDIASUBTYPE\_WMVP) used for decoder input, the compressed video image stream is essentially identical to a standard Windows Media Video stream.</span></span>

## <a name="related-topics"></a><span data-ttu-id="658ee-121">См. также</span><span class="sxs-lookup"><span data-stu-id="658ee-121">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="658ee-122">Работа с видео</span><span class="sxs-lookup"><span data-stu-id="658ee-122">Working with Video</span></span>](workingwithvideo.md)
</dt> </dl>

 

 
