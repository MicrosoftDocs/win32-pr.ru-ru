---
description: Конфигурация для каждого приложения перенаправляет зависимость конкретного приложения от одной версии параллельной сборки к другой версии сборки.
ms.assetid: b7988385-c87e-443c-8ec3-84ab3c172eab
title: Конфигурация для каждого приложения
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 7b17543c9972deefe2a2beda1f5eeba1c5ace2ba
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "104272059"
---
# <a name="per-application-configuration"></a>Конфигурация для каждого приложения

Конфигурация для каждого приложения перенаправляет зависимость конкретного приложения от одной версии параллельной сборки к другой версии сборки. Настройка для каждого приложения может оказаться необходимой, если для правильной работы конкретного приложения требуется версия сборки, которая отличается от версии, обычно указанной в качестве [конфигурации по умолчанию](default-configuration.md) или [конфигурации издателя](publisher-configuration.md). Например, глобальное обновление версии сборки издателем может исправить сборку, но приостановить это конкретное приложение. В этом случае можно использовать конфигурацию для каждого приложения, чтобы приложение продолжало работать с предыдущей версией сборки.

Начиная с Windows Server 2003, конфигурация для каждого приложения всегда переопределяет [конфигурацию по умолчанию](default-configuration.md) для каждого приложения. Конфигурация на уровне приложения переопределяет [конфигурацию издателя](publisher-configuration.md) для каждого приложения, только если в [файле конфигурации приложения](application-configuration-files.md) указан параметр *Apply = «No»* в **Publisherpolicy Apply** , а в базе данных совместимости приложений присутствует соответствующая запись.

> [!Note]  
> В Windows XP конфигурация для каждого приложения переопределяет конфигурацию [конфигурации по умолчанию](default-configuration.md) и [издателя](publisher-configuration.md) на уровне приложения. Дополнительные сведения см. [в статье Настройка для каждого приложения в Windows XP](per-application-configuration-on-windows-xp.md).

 

Начиная с Windows Server 2003, конфигурация для каждого приложения будет переопределять [конфигурацию издателя](publisher-configuration.md) , если в [файле конфигурации приложения](application-configuration-files.md) указано *apply = «yes»* в **publisherpolicy Apply** , а флаг Енаблеаппконфиг установлен для приложения в базе данных совместимости приложений. Эта возможность переопределять конфигурацию издателя с помощью конфигурации для каждого приложения позволяет запускать приложение в безопасном режиме. Дополнительные сведения о базе данных совместимости приложений и безопасный режим см. в разделе набор средств для обеспечения совместимости приложений Windows. Набор средств для обеспечения совместимости приложений Windows можно получить из [https://www.microsoft.com/downloads](https://www.microsoft.com/Downloads/) .

> [!Note]  
> Если вы подаете компоненты с помощью [файла конфигурации приложения](application-configuration-files.md) (config-файла), который указывает *Apply = «No»* в **publisherpolicy Apply**, это приведет к сбою при создании контекста активации. Конфигурация для каждого приложения будет пропущена, если вы подаете компоненты с файлом. config с указанием *apply = «yes»* в **publisherpolicy Apply**.

 

Администраторы приложений могут реализовать конфигурацию для отдельных приложений путем создания и установки файлов конфигурации приложений и обновления базы данных совместимости приложений. После этого файл конфигурации приложения должен быть развернут и установлен в той же папке, что и исполняемый файл приложения. Список схем файлов см. в разделе [Схема файла конфигурации приложения](application-configuration-file-schema.md). База данных совместимости приложений должна распространяться, как описано в разделе набор средств для обеспечения совместимости приложений.

> [!Note]  
> Если приложение выполняется в безопасном режиме, оно не будет принимать важные исправления безопасности или исправления ошибок. издатель сборки может выдаваться в виде файлов конфигурации издателя. Таким образом, приложение, использующее конфигурацию для каждого приложения, может оставаться незащищенным или продолжать работать неправильно даже после применения новой сборки с этими исправлениями в системе. По этой причине разработчики приложений никогда не должны поставлять приложение с конфигурацией для каждого приложения. Конфигурация для каждого приложения должна использоваться только корпоративными администраторами как временное исправление, когда приложение разбивается по конфигурации издателя. В этом случае постоянное решение заключается в том, что разработчики сборки и разработчиков приложения должны будут работать вместе, чтобы обеспечить полную обратную совместимость сборок с конфигурацией издателя.

 

Ниже приведен пример файла конфигурации приложения. Дополнительные сведения см. в разделе файлы конфигурации приложения.

``` syntax
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<configuration>
 <windows>
  <assemblyBinding xmlns="urn:schemas-microsoft-com:asm.v1">
   <assemblyIdentity  processorArchitecture="X86" name="Microsoft.Windows.mysampleApp" type="win32" version="1.0.0.0"/>
   <publisherPolicy apply="no"/>                     
   <dependentAssembly>
    <assemblyIdentity type="win32" processorArchitecture="x86" name="Microsoft.Windows.SampleAssembly" publicKeyToken="0000000000000000"/>
    <bindingRedirect oldVersion="2.0.0.0" newVersion="2.0.1.0"/>
   </dependentAssembly>
  </assemblyBinding>
 </windows>
</configuration>
```

Администратор приложения должен добавить необходимые записи в базу данных совместимости приложений. Скачайте и установите набор средств для обеспечения совместимости приложений Windows 2,6 из [https://www.microsoft.com/downloads](https://www.microsoft.com/Downloads/) . Создайте новую пользовательскую или обновите существующую базу данных с помощью администратора совместимости, как описано в наборе средств. Исправление совместимости, которое вы хотите выбрать для уровня совместимости приложения, — Енаблеаппконфиг. Необходимо всегда тестировать приложения перед установкой новой базы данных совместимости.

 

 



