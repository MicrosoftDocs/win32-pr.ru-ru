---
description: Следующие функции используются при создании и обслуживании файлов заполнителей и каталогов.
ms.assetid: 68B667E2-E8C6-41F9-A0E2-C8CDF60D6472
title: Функции фильтрации в облаке
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: afc055b688339f2c7da231e6d2e91700aa3a35cf
ms.sourcegitcommit: c7add10d695482e1ceb72d62b8a4ebd84ea050f7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "103990819"
---
# <a name="cloud-filter-functions"></a><span data-ttu-id="2250f-103">Функции фильтрации в облаке</span><span class="sxs-lookup"><span data-stu-id="2250f-103">Cloud Filter Functions</span></span>

<span data-ttu-id="2250f-104">Следующие функции используются при создании и обслуживании файлов заполнителей и каталогов.</span><span class="sxs-lookup"><span data-stu-id="2250f-104">The following functions are used in creating and maintaining placeholder files and directories.</span></span>

## <a name="in-this-section"></a><span data-ttu-id="2250f-105">В этом разделе</span><span class="sxs-lookup"><span data-stu-id="2250f-105">In this section</span></span>



| <span data-ttu-id="2250f-106">Раздел</span><span class="sxs-lookup"><span data-stu-id="2250f-106">Topic</span></span>                                                                                                  | <span data-ttu-id="2250f-107">Описание</span><span class="sxs-lookup"><span data-stu-id="2250f-107">Description</span></span>                                                                                                                                                                                                          |
|--------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="2250f-108">**кфклосехандле**</span><span class="sxs-lookup"><span data-stu-id="2250f-108">**CfCloseHandle**</span></span>](/windows/desktop/api/cfapi/nf-cfapi-cfclosehandle)<br/>                                                 | <span data-ttu-id="2250f-109">Закрывает файл или маркер каталога, возвращенные [**кфопенфилевисоплокк**](/windows/desktop/api/cfapi/nf-cfapi-cfopenfilewithoplock).</span><span class="sxs-lookup"><span data-stu-id="2250f-109">Closes the file or directory handle returned by [**CfOpenFileWithOplock**](/windows/desktop/api/cfapi/nf-cfapi-cfopenfilewithoplock).</span></span> <span data-ttu-id="2250f-110">Этот параметр не следует использовать с стандартными дескрипторами файлов Win32 только для дескрипторов, используемых в Кфапи. h.</span><span class="sxs-lookup"><span data-stu-id="2250f-110">This should not be used with standard Win32 file handles, only on handles used within CfApi.h.</span></span><br/> |
| [<span data-ttu-id="2250f-111">**кфконнектсинкрут**</span><span class="sxs-lookup"><span data-stu-id="2250f-111">**CfConnectSyncRoot**</span></span>](/windows/desktop/api/cfapi/nf-cfapi-cfconnectsyncroot)<br/>                                         | <span data-ttu-id="2250f-112">Инициирует двунаправленную связь между поставщиком синхронизации и API фильтра синхронизации.</span><span class="sxs-lookup"><span data-stu-id="2250f-112">Initiates bi-directional communication between a sync provider and the sync filter API.</span></span><br/>                                                                                                                   |
| [<span data-ttu-id="2250f-113">**кфконверттоплацехолдер**</span><span class="sxs-lookup"><span data-stu-id="2250f-113">**CfConvertToPlaceholder**</span></span>](/windows/desktop/api/cfapi/nf-cfapi-cfconverttoplaceholder)<br/>                               | <span data-ttu-id="2250f-114">Преобразует нормальный файл или каталог в файл заполнителя или каталог.</span><span class="sxs-lookup"><span data-stu-id="2250f-114">Converts a normal file/directory to a placeholder file/directory.</span></span><br/>                                                                                                                                         |
| [<span data-ttu-id="2250f-115">**кфкреатеплацехолдерс**</span><span class="sxs-lookup"><span data-stu-id="2250f-115">**CfCreatePlaceholders**</span></span>](/windows/desktop/api/cfapi/nf-cfapi-cfcreateplaceholders)<br/>                                   | <span data-ttu-id="2250f-116">Создает один или несколько новых файлов заполнителей или каталогов в корневом дереве синхронизации.</span><span class="sxs-lookup"><span data-stu-id="2250f-116">Creates one or more new placeholder files or directories under a sync root tree.</span></span><br/>                                                                                                                          |
| [<span data-ttu-id="2250f-117">**кфдисконнектсинкрут**</span><span class="sxs-lookup"><span data-stu-id="2250f-117">**CfDisconnectSyncRoot**</span></span>](/windows/desktop/api/cfapi/nf-cfapi-cfdisconnectsyncroot)<br/>                                   | <span data-ttu-id="2250f-118">Отключает канал связи, созданный [**кфконнектсинкрут**](/windows/desktop/api/cfapi/nf-cfapi-cfconnectsyncroot).</span><span class="sxs-lookup"><span data-stu-id="2250f-118">Disconnects a communication channel created by [**CfConnectSyncRoot**](/windows/desktop/api/cfapi/nf-cfapi-cfconnectsyncroot).</span></span><br/>                                                                                                       |
| [<span data-ttu-id="2250f-119">**кфексекуте**</span><span class="sxs-lookup"><span data-stu-id="2250f-119">**CfExecute**</span></span>](/windows/desktop/api/cfapi/nf-cfapi-cfexecute)<br/>                                                         | <span data-ttu-id="2250f-120">Главная точка входа для всех операций заполнителя на основе ключа подключения.</span><span class="sxs-lookup"><span data-stu-id="2250f-120">The main entry point for all connection key based placeholder operations.</span></span> <span data-ttu-id="2250f-121">Он предназначен для использования поставщиком синхронизации для реагирования на различные обратные вызовы от платформы.</span><span class="sxs-lookup"><span data-stu-id="2250f-121">It is intended to be used by a sync provider to respond to various callbacks from the platform.</span></span><br/>                                 |
| [<span data-ttu-id="2250f-122">**кфжеткоррелатионвектор**</span><span class="sxs-lookup"><span data-stu-id="2250f-122">**CfGetCorrelationVector**</span></span>](/windows/desktop/api/cfapi/nf-cfapi-cfgetcorrelationvector)<br/>                               | <span data-ttu-id="2250f-123">Позволяет поставщику синхронизации запрашивать текущий вектор корреляции для заданного файла заполнителя.</span><span class="sxs-lookup"><span data-stu-id="2250f-123">Allows the sync provider to query the current correlation vector for a given placeholder file.</span></span><br/>                                                                                                            |
| [<span data-ttu-id="2250f-124">**кфжетплацехолдеринфо**</span><span class="sxs-lookup"><span data-stu-id="2250f-124">**CfGetPlaceholderInfo**</span></span>](/windows/desktop/api/cfapi/nf-cfapi-cfgetplaceholderinfo)<br/>                                   | <span data-ttu-id="2250f-125">Получает различные характеристики файла-заполнителя или папки.</span><span class="sxs-lookup"><span data-stu-id="2250f-125">Gets various characteristics of a placeholder file or folder.</span></span><br/>                                                                                                                                             |
| [<span data-ttu-id="2250f-126">**кфжетплацехолдерранжеинфо**</span><span class="sxs-lookup"><span data-stu-id="2250f-126">**CfGetPlaceholderRangeInfo**</span></span>](/windows/desktop/api/cfapi/nf-cfapi-cfgetplaceholderrangeinfo)<br/>                         | <span data-ttu-id="2250f-127">Возвращает сведения о диапазоне файла или папки заполнителя.</span><span class="sxs-lookup"><span data-stu-id="2250f-127">Gets range information about a placeholder file or folder.</span></span><br/>                                                                                                                                                |
| [<span data-ttu-id="2250f-128">**кфжетплацехолдерстатефроматтрибутетаг**</span><span class="sxs-lookup"><span data-stu-id="2250f-128">**CfGetPlaceholderStateFromAttributeTag**</span></span>](/windows/desktop/api/cfapi/nf-cfapi-cfgetplaceholderstatefromattributetag)<br/> | <span data-ttu-id="2250f-129">Возвращает набор состояний заполнителя на основе значений *FileAttributes* и *репарсетаг* файла.</span><span class="sxs-lookup"><span data-stu-id="2250f-129">Gets a set of placeholder states based on the *FileAttributes* and *ReparseTag* values of the file.</span></span><br/>                                                                                                       |
| [<span data-ttu-id="2250f-130">**кфжетплацехолдерстатефромфилеинфо**</span><span class="sxs-lookup"><span data-stu-id="2250f-130">**CfGetPlaceholderStateFromFileInfo**</span></span>](/windows/desktop/api/cfapi/nf-cfapi-cfgetplaceholderstatefromfileinfo)<br/>         | <span data-ttu-id="2250f-131">Возвращает набор состояний заполнителя на основе различных сведений файла.</span><span class="sxs-lookup"><span data-stu-id="2250f-131">Gets a set of placeholder states based on the various information of the file.</span></span><br/>                                                                                                                            |
| [<span data-ttu-id="2250f-132">**кфжетплацехолдерстатефромфинддата**</span><span class="sxs-lookup"><span data-stu-id="2250f-132">**CfGetPlaceholderStateFromFindData**</span></span>](/windows/desktop/api/cfapi/nf-cfapi-cfgetplaceholderstatefromfinddata)<br/>         | <span data-ttu-id="2250f-133">Получает набор состояний заполнителя на основе \_ \_ структуры данных Win32 Find.</span><span class="sxs-lookup"><span data-stu-id="2250f-133">Gets a set of placeholder states based on the WIN32\_FIND\_DATA structure.</span></span><br/>                                                                                                                                |
| [<span data-ttu-id="2250f-134">**кфжетплатформинфо**</span><span class="sxs-lookup"><span data-stu-id="2250f-134">**CfGetPlatformInfo**</span></span>](/windows/desktop/api/cfapi/nf-cfapi-cfgetplatforminfo)<br/>                                         | <span data-ttu-id="2250f-135">Возвращает сведения о версии платформы.</span><span class="sxs-lookup"><span data-stu-id="2250f-135">Gets the platform version information.</span></span><br/>                                                                                                                                                                    |
| [<span data-ttu-id="2250f-136">**кфжетсинкрутинфобихандле**</span><span class="sxs-lookup"><span data-stu-id="2250f-136">**CfGetSyncRootInfoByHandle**</span></span>](/windows/desktop/api/cfapi/nf-cfapi-cfgetsyncrootinfobyhandle)<br/>                         | <span data-ttu-id="2250f-137">Получает различные характеристики корня синхронизации, содержащего заданный файл, заданный с помощью маркера файла.</span><span class="sxs-lookup"><span data-stu-id="2250f-137">Gets various characteristics of the sync root containing a given file specified by a file handle.</span></span><br/>                                                                                                         |
| [<span data-ttu-id="2250f-138">**кфжетсинкрутинфобипас**</span><span class="sxs-lookup"><span data-stu-id="2250f-138">**CfGetSyncRootInfoByPath**</span></span>](/windows/desktop/api/cfapi/nf-cfapi-cfgetsyncrootinfobypath)<br/>                             | <span data-ttu-id="2250f-139">Получает различные корневые сведения синхронизации по заданному файлу в корне синхронизации.</span><span class="sxs-lookup"><span data-stu-id="2250f-139">Gets various sync root information given a file under the sync root.</span></span><br/>                                                                                                                                      |
| [<span data-ttu-id="2250f-140">**кфжеттрансферкэй**</span><span class="sxs-lookup"><span data-stu-id="2250f-140">**CfGetTransferKey**</span></span>](/windows/desktop/api/cfapi/nf-cfapi-cfgettransferkey)<br/>                                           | <span data-ttu-id="2250f-141">Инициирует перенос данных в файл заполнителя или папку.</span><span class="sxs-lookup"><span data-stu-id="2250f-141">Initiates a transfer of data into a placeholder file or folder.</span></span><br/>                                                                                                                                           |
| [<span data-ttu-id="2250f-142">**CfGetWin32HandleFromProtectedHandle**</span><span class="sxs-lookup"><span data-stu-id="2250f-142">**CfGetWin32HandleFromProtectedHandle**</span></span>](/windows/desktop/api/cfapi/nf-cfapi-cfgetwin32handlefromprotectedhandle)<br/>     | <span data-ttu-id="2250f-143">Преобразует защищенный маркер в маркер Win32, чтобы его можно было использовать со всеми API-интерфейсами Win32 на основе маркеров.</span><span class="sxs-lookup"><span data-stu-id="2250f-143">Converts a protected handle to a Win32 handle so that it can be used with all handle-based Win32 APIs.</span></span> <br/>                                                                                                   |
| [<span data-ttu-id="2250f-144">**кфхидратеплацехолдер**</span><span class="sxs-lookup"><span data-stu-id="2250f-144">**CfHydratePlaceholder**</span></span>](/windows/desktop/api/cfapi/nf-cfapi-cfhydrateplaceholder)<br/>                                   | <span data-ttu-id="2250f-145">Восстанавливает файл заполнителя, гарантируя, что указанный диапазон байтов имеется на диске в заполнителе.</span><span class="sxs-lookup"><span data-stu-id="2250f-145">Hydrates a placeholder file by ensuring that the specified byte range is present on-disk in the placeholder.</span></span> <span data-ttu-id="2250f-146">Это допустимо только для файлов.</span><span class="sxs-lookup"><span data-stu-id="2250f-146">This is valid for files only.</span></span><br/>                                                                |
| [<span data-ttu-id="2250f-147">**кфопенфилевисоплокк**</span><span class="sxs-lookup"><span data-stu-id="2250f-147">**CfOpenFileWithOplock**</span></span>](/windows/desktop/api/cfapi/nf-cfapi-cfopenfilewithoplock)<br/>                                   | <span data-ttu-id="2250f-148">Открывает асинхронный непрозрачный маркер для файла или каталога (как для обычных, так и для файлов заполнителей) и настраивает соответствующую жесткую блокировку на основе флагов открытия.</span><span class="sxs-lookup"><span data-stu-id="2250f-148">Opens an asynchronous opaque handle to a file or directory (for both normal and placeholder files) and sets up a proper oplock on it based on the open flags.</span></span><br/>                                             |
| [<span data-ttu-id="2250f-149">**кфкуерисинкпровидерстатус**</span><span class="sxs-lookup"><span data-stu-id="2250f-149">**CfQuerySyncProviderStatus**</span></span>](/windows/desktop/api/cfapi/nf-cfapi-cfquerysyncproviderstatus)<br/>                         | <span data-ttu-id="2250f-150">Запрашивает у поставщика синхронизации, чтобы получить состояние поставщика.</span><span class="sxs-lookup"><span data-stu-id="2250f-150">Queries a sync provider to get the status of the provider.</span></span><br/>                                                                                                                                                |
| [<span data-ttu-id="2250f-151">**кфреференцепротектедхандле**</span><span class="sxs-lookup"><span data-stu-id="2250f-151">**CfReferenceProtectedHandle**</span></span>](/windows/desktop/api/cfapi/nf-cfapi-cfreferenceprotectedhandle)<br/>                       | <span data-ttu-id="2250f-152">Позволяет вызывающему объекту ссылаться на защищенный обработчик на маркер Win32, который можно использовать с API-интерфейсами Win32, не являющимися Кфапи.</span><span class="sxs-lookup"><span data-stu-id="2250f-152">Allows the caller to reference a protected handle to a Win32 handle which can be used with non-CfApi Win32 APIs.</span></span> <br/>                                                                                         |
| [<span data-ttu-id="2250f-153">**кфрегистерсинкрут**</span><span class="sxs-lookup"><span data-stu-id="2250f-153">**CfRegisterSyncRoot**</span></span>](/windows/desktop/api/cfapi/nf-cfapi-cfregistersyncroot)<br/>                                       | <span data-ttu-id="2250f-154">Выполняет одновременную регистрацию корня синхронизации.</span><span class="sxs-lookup"><span data-stu-id="2250f-154">Performs a one time sync root registration.</span></span><br/>                                                                                                                                                               |
| [<span data-ttu-id="2250f-155">**кфрелеасепротектедхандле**</span><span class="sxs-lookup"><span data-stu-id="2250f-155">**CfReleaseProtectedHandle**</span></span>](/windows/desktop/api/cfapi/nf-cfapi-cfreleaseprotectedhandle)<br/>                           | <span data-ttu-id="2250f-156">Освобождает защищенный дескриптор, на который ссылается [**кфреференцепротектедхандле**](/windows/desktop/api/cfapi/nf-cfapi-cfreferenceprotectedhandle).</span><span class="sxs-lookup"><span data-stu-id="2250f-156">Releases a protected handle referenced by [**CfReferenceProtectedHandle**](/windows/desktop/api/cfapi/nf-cfapi-cfreferenceprotectedhandle).</span></span><br/>                                                                                          |
| [<span data-ttu-id="2250f-157">**кфрелеасетрансферкэй**</span><span class="sxs-lookup"><span data-stu-id="2250f-157">**CfReleaseTransferKey**</span></span>](/windows/desktop/api/cfapi/nf-cfapi-cfreleasetransferkey)<br/>                                   | <span data-ttu-id="2250f-158">Освобождает ключ перемещения, полученный [**кфжеттрансферкэй**](/windows/desktop/api/cfapi/nf-cfapi-cfgettransferkey).</span><span class="sxs-lookup"><span data-stu-id="2250f-158">Releases a transfer key obtained by [**CfGetTransferKey**](/windows/desktop/api/cfapi/nf-cfapi-cfgettransferkey).</span></span><br/>                                                                                                                    |
| [<span data-ttu-id="2250f-159">**кфрепортпровидерпрогресс**</span><span class="sxs-lookup"><span data-stu-id="2250f-159">**CfReportProviderProgress**</span></span>](/windows/desktop/api/cfapi/nf-cfapi-cfreportproviderprogress)<br/>                           | <span data-ttu-id="2250f-160">Позволяет поставщику синхронизации сообщать о ходе выполнения по внешнему каналу.</span><span class="sxs-lookup"><span data-stu-id="2250f-160">Allows a sync provider to report progress out-of-band.</span></span><br/>                                                                                                                                                    |
| [<span data-ttu-id="2250f-161">**кфрепортсинкстатус**</span><span class="sxs-lookup"><span data-stu-id="2250f-161">**CfReportSyncStatus**</span></span>](/windows/desktop/api/cfapi/nf-cfapi-cfreportsyncstatus)<br/>                                       | <span data-ttu-id="2250f-162">Позволяет поставщику синхронизации уведомлять платформу о своем состоянии в указанном корне синхронизации, не требуя сначала подключаться с помощью вызова [**кфконнектсинкрут**](/windows/desktop/api/cfapi/nf-cfapi-cfconnectsyncroot) .</span><span class="sxs-lookup"><span data-stu-id="2250f-162">Allows a sync provider to notify the platform of its status on a specified sync root without having to connect with a call to [**CfConnectSyncRoot**](/windows/desktop/api/cfapi/nf-cfapi-cfconnectsyncroot) first.</span></span> <br/>                 |
| [<span data-ttu-id="2250f-163">**кфревертплацехолдер**</span><span class="sxs-lookup"><span data-stu-id="2250f-163">**CfRevertPlaceholder**</span></span>](/windows/desktop/api/cfapi/nf-cfapi-cfrevertplaceholder)<br/>                                     | <span data-ttu-id="2250f-164">Возвращает заполнитель к обычному файлу, удаляя все особые характеристики, такие как тег повторного анализа, удостоверение файла и т. д.</span><span class="sxs-lookup"><span data-stu-id="2250f-164">Reverts a placeholder back to a regular file, stripping away all special characteristics such as the reparse tag, the file identity, etc.</span></span><br/>                                                                 |
| [<span data-ttu-id="2250f-165">**кфсеткоррелатионвектор**</span><span class="sxs-lookup"><span data-stu-id="2250f-165">**CfSetCorrelationVector**</span></span>](/windows/desktop/api/cfapi/nf-cfapi-cfsetcorrelationvector)<br/>                               | <span data-ttu-id="2250f-166">Позволяет поставщику синхронизации указать платформе использовать конкретный вектор корреляции для телеметрии в файле заполнителя.</span><span class="sxs-lookup"><span data-stu-id="2250f-166">Allows a sync provider to instruct the platform to use a specific correlation vector for telemetry purposes on a placeholder file.</span></span> <span data-ttu-id="2250f-167">Это необязательно.</span><span class="sxs-lookup"><span data-stu-id="2250f-167">This is optional.</span></span><br/>                                                      |
| [<span data-ttu-id="2250f-168">**кфсетинсинкстате**</span><span class="sxs-lookup"><span data-stu-id="2250f-168">**CfSetInSyncState**</span></span>](/windows/desktop/api/cfapi/nf-cfapi-cfsetinsyncstate)<br/>                                           | <span data-ttu-id="2250f-169">Задает состояние в синхронизации для файла или папки заполнителя.</span><span class="sxs-lookup"><span data-stu-id="2250f-169">Sets the in-sync state for a placeholder file or folder.</span></span><br/>                                                                                                                                                  |
| [<span data-ttu-id="2250f-170">**кфсетпинстате**</span><span class="sxs-lookup"><span data-stu-id="2250f-170">**CfSetPinState**</span></span>](/windows/desktop/api/cfapi/nf-cfapi-cfsetpinstate)<br/>                                                 | <span data-ttu-id="2250f-171">Здесь задается состояние закрепления заполнителя, используемое для представления намерений пользователя.</span><span class="sxs-lookup"><span data-stu-id="2250f-171">This sets the pin state of a placeholder, used to represent a user s intent.</span></span> <span data-ttu-id="2250f-172">Эта функция может быть вызвана любым приложением (не только поставщиком синхронизации).</span><span class="sxs-lookup"><span data-stu-id="2250f-172">Any application (not just the sync provider) can call this function.</span></span><br/>                                                         |
| [<span data-ttu-id="2250f-173">**кфунрегистерсинкрут**</span><span class="sxs-lookup"><span data-stu-id="2250f-173">**CfUnregisterSyncRoot**</span></span>](/windows/desktop/api/cfapi/nf-cfapi-cfunregistersyncroot)<br/>                                   | <span data-ttu-id="2250f-174">Отменяет регистрацию ранее зарегистрированного корня синхронизации.</span><span class="sxs-lookup"><span data-stu-id="2250f-174">Unregisters a previously registered sync root.</span></span><br/>                                                                                                                                                            |
| [<span data-ttu-id="2250f-175">**кфупдатеплацехолдер**</span><span class="sxs-lookup"><span data-stu-id="2250f-175">**CfUpdatePlaceholder**</span></span>](/windows/desktop/api/cfapi/nf-cfapi-cfupdateplaceholder)<br/>                                     | <span data-ttu-id="2250f-176">Обновляет характеристики файла заполнителя или каталога.</span><span class="sxs-lookup"><span data-stu-id="2250f-176">Updates characteristics of the placeholder file or directory.</span></span><br/>                                                                                                                                             |
| [<span data-ttu-id="2250f-177">**кфупдатесинкпровидерстатус**</span><span class="sxs-lookup"><span data-stu-id="2250f-177">**CfUpdateSyncProviderStatus**</span></span>](/windows/desktop/api/cfapi/nf-cfapi-cfupdatesyncproviderstatus)<br/>                       | <span data-ttu-id="2250f-178">Обновляет текущее состояние поставщика синхронизации.</span><span class="sxs-lookup"><span data-stu-id="2250f-178">Updates the current status of the sync provider.</span></span><br/>                                                                                                                                                          |



 

 

