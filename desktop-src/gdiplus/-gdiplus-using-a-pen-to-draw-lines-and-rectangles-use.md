---
description: Для рисования линий и прямоугольников необходим объект Graphics и объект Pen. Объект Graphics предоставляет метод DrawLine, а объект Pen сохраняет функции линии, такие как цвет и ширина.
ms.assetid: f2e4144f-f2f1-49db-bfdf-ffce3023b4cb
title: Рисование линий и прямоугольников с помощью пера
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 9b335caf7e2ecbad6bc49965ff757809c3b1179c
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "103991631"
---
# <a name="using-a-pen-to-draw-lines-and-rectangles"></a>Рисование линий и прямоугольников с помощью пера

Для рисования линий и прямоугольников необходим объект [**Graphics**](/windows/win32/api/gdiplusgraphics/nl-gdiplusgraphics-graphics) и объект [**Pen**](/windows/win32/api/gdipluspen/nl-gdipluspen-pen) . Объект **Graphics** предоставляет метод [DrawLine](/windows/win32/api/gdiplusgraphics/nf-gdiplusgraphics-graphics-drawline(inconstpen_inint_inint_inint_inint)) , а объект **Pen** сохраняет функции линии, такие как цвет и ширина.

В следующем примере рисуется строка от (20, 10) до (300, 100). Пусть **графика** — существующий объект [**Graphics**](/windows/win32/api/gdiplusgraphics/nl-gdiplusgraphics-graphics) .


```
Pen pen(Color(255, 0, 0, 0));
graphics.DrawLine(&pen, 20, 10, 300, 100);
```



Первый оператор кода использует конструктор класса [**Pen**](/windows/win32/api/gdipluspen/nl-gdipluspen-pen) для создания черного пера. Одним из аргументов, передаваемых конструктору **Pen** , является объект [**Color**](/windows/win32/api/gdipluscolor/nl-gdipluscolor-color) . Значения, используемые для создания объекта **Color** — (255, 0, 0, 0) — соответствуют альфа-, красному, зеленому и синему компонентам цвета. Эти значения определяют непрозрачное черное перо.

В следующем примере демонстрируется рисование прямоугольника с верхним левым углом в точке (10, 10). Ширина прямоугольника равна 100 и высоте 50. Второй аргумент, передаваемый конструктору [**Pen**](/windows/win32/api/gdipluspen/nl-gdipluspen-pen) , указывает, что ширина пера равна 5 пикселам.


```
Pen blackPen(Color(255, 0, 0, 0), 5);
stat = graphics.DrawRectangle(&blackPen, 10, 10, 100, 50);
```



При прорисовке прямоугольника перо центрируется по границе прямоугольника. Так как ширина пера равна 5, стороны прямоугольника выводятся в ширину 5 пикселей, то есть 1 пиксель рисуется на границе, 2 пиксела нарисованы внутри, а 2 пиксела — снаружи. Дополнительные сведения о выравнивании пера см. в разделе [Настройка ширины и выравнивания пера](-gdiplus-setting-pen-width-and-alignment-use.md).

На следующем рисунке показан итоговый прямоугольник. Пунктирные линии показывают, где будет нарисован прямоугольник, если толщина пера была равна одному пикселю. Увеличенное представление верхнего левого угла прямоугольника показывает, что толстые черные линии центрируются по пунктирным линиям.

![Иллюстрация прямоугольника, рисуемого толстой черной линией, которая окружает тонкую, серую, пунктирную линию](images/pens1.png)

 

 



