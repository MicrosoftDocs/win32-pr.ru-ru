---
description: В следующих разделах описаны некоторые из новых функций Windows GDI+.
ms.assetid: 0257a23c-560e-472e-863a-6ab5881dc156
title: Новые возможности
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: ca79ddb4cabd14cc2eaa2493033a78cc7377f8e9
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "103809653"
---
# <a name="new-features"></a><span data-ttu-id="b6a6c-103">Новые возможности</span><span class="sxs-lookup"><span data-stu-id="b6a6c-103">New Features</span></span>

<span data-ttu-id="b6a6c-104">В следующих разделах описаны некоторые из новых функций Windows GDI+.</span><span class="sxs-lookup"><span data-stu-id="b6a6c-104">The following sections describe several of the new features in Windows GDI+.</span></span>

-   [<span data-ttu-id="b6a6c-105">Градиентные кисти</span><span class="sxs-lookup"><span data-stu-id="b6a6c-105">Gradient Brushes</span></span>](#gradient-brushes)
-   [<span data-ttu-id="b6a6c-106">Фундаментальные сплайны</span><span class="sxs-lookup"><span data-stu-id="b6a6c-106">Cardinal Splines</span></span>](#cardinal-splines)
-   [<span data-ttu-id="b6a6c-107">Независимые объекты Path</span><span class="sxs-lookup"><span data-stu-id="b6a6c-107">Independent Path Objects</span></span>](#independent-path-objects)
-   [<span data-ttu-id="b6a6c-108">Преобразования и объект Matrix</span><span class="sxs-lookup"><span data-stu-id="b6a6c-108">Transformations and the Matrix Object</span></span>](#transformations-and-the-matrix-object)
-   [<span data-ttu-id="b6a6c-109">Масштабируемые регионы</span><span class="sxs-lookup"><span data-stu-id="b6a6c-109">Scalable Regions</span></span>](#scalable-regions)
-   [<span data-ttu-id="b6a6c-110">Альфа-смешение</span><span class="sxs-lookup"><span data-stu-id="b6a6c-110">Alpha Blending</span></span>](#alpha-blending)
-   [<span data-ttu-id="b6a6c-111">Поддержка нескольких форматов изображений</span><span class="sxs-lookup"><span data-stu-id="b6a6c-111">Support for Multiple Image Formats</span></span>](#support-for-multiple-image-formats)

## <a name="gradient-brushes"></a><span data-ttu-id="b6a6c-112">Градиентные кисти</span><span class="sxs-lookup"><span data-stu-id="b6a6c-112">Gradient Brushes</span></span>

<span data-ttu-id="b6a6c-113">GDI+ расширяется на интерфейс графических устройств Windows (GDI), предоставляя линейные градиенты и градиенты вдоль пути для заливки фигур, контуров и регионов.</span><span class="sxs-lookup"><span data-stu-id="b6a6c-113">GDI+ expands on Windows Graphics Device Interface (GDI) by providing linear gradient and path gradient brushes for filling shapes, paths, and regions.</span></span> <span data-ttu-id="b6a6c-114">Градиентные кисти также можно использовать для рисования линий, кривых и контуров.</span><span class="sxs-lookup"><span data-stu-id="b6a6c-114">Gradient brushes can also be used to draw lines, curves, and paths.</span></span> <span data-ttu-id="b6a6c-115">При заполнении фигуры с помощью линейной градиентной кисти цвет постепенно меняется при перемещении по фигуре.</span><span class="sxs-lookup"><span data-stu-id="b6a6c-115">When you fill a shape with a linear gradient brush, the color gradually changes as you move across the shape.</span></span> <span data-ttu-id="b6a6c-116">Например, предположим, что вы создаете горизонтальную градиентную кисть, указав синюю точку на левом крае фигуры и зеленую на правой границе.</span><span class="sxs-lookup"><span data-stu-id="b6a6c-116">For example, suppose you create a horizontal gradient brush by specifying blue at the left edge of a shape and green at the right edge.</span></span> <span data-ttu-id="b6a6c-117">При заполнении этой формы с помощью горизонтальной градиентной кисти она постепенно меняется с синего на зеленую при переходе от левого края к правому.</span><span class="sxs-lookup"><span data-stu-id="b6a6c-117">When you fill that shape with the horizontal gradient brush, it will gradually change from blue to green as you move from its left edge to its right edge.</span></span> <span data-ttu-id="b6a6c-118">Аналогично, фигура, заполненная вертикальной градиентной кистью, изменит цвет при перемещении сверху вниз.</span><span class="sxs-lookup"><span data-stu-id="b6a6c-118">Similarly, a shape filled with a vertical gradient brush will change color as you move from top to bottom.</span></span> <span data-ttu-id="b6a6c-119">На следующем рисунке показан эллипс, заполненный горизонтальной градиентной кистью, и область, заполненная кистью с диагональным градиентом.</span><span class="sxs-lookup"><span data-stu-id="b6a6c-119">The following illustration shows an ellipse filled with a horizontal gradient brush and a region filled with a diagonal gradient brush.</span></span>

![Иллюстрация фигуры, заполненной горизонтальным градиентом и одной, зафиксированной диагональным градиентом](images/aboutgdip01-art01.png)

<span data-ttu-id="b6a6c-121">При заполнении фигуры с помощью кисти градиента контура у вас есть разнообразные параметры для указания способа изменения цветов при переходе от одной части фигуры к другой.</span><span class="sxs-lookup"><span data-stu-id="b6a6c-121">When you fill a shape with a path gradient brush, you have a variety of options for specifying how the colors change as you move from one portion of the shape to another.</span></span> <span data-ttu-id="b6a6c-122">Один из вариантов — иметь центральный цвет и цвет границы, чтобы Пиксели постепенно изменялись от одного цвета к другому при переходе от середины фигуры к внешним краям.</span><span class="sxs-lookup"><span data-stu-id="b6a6c-122">One option is to have a center color and a boundary color so that the pixels change gradually from one color to the other as you move from the middle of the shape towards the outer edges.</span></span> <span data-ttu-id="b6a6c-123">На следующем рисунке показан контур (созданный из пары сплайнов Безье), заполненный с помощью кисти градиента вдоль пути.</span><span class="sxs-lookup"><span data-stu-id="b6a6c-123">The following illustration shows a path (created from a pair of Bézier splines) filled with a path gradient brush.</span></span>

![Иллюстрация фигуры, похожей на знак бесконечности, заполнена синим, где половины соответствуют голубому цвету на краях.](images/aboutgdip01-art02.png)

## <a name="cardinal-splines"></a><span data-ttu-id="b6a6c-125">Фундаментальные сплайны</span><span class="sxs-lookup"><span data-stu-id="b6a6c-125">Cardinal Splines</span></span>

<span data-ttu-id="b6a6c-126">GDI+ поддерживает фундаментальные сплайны, которые не поддерживаются в GDI.</span><span class="sxs-lookup"><span data-stu-id="b6a6c-126">GDI+ supports cardinal splines, which are not supported in GDI.</span></span> <span data-ttu-id="b6a6c-127">Фундаментальный сплайн — это последовательность отдельных кривых, Объединенных для формирования более крупной кривой.</span><span class="sxs-lookup"><span data-stu-id="b6a6c-127">A cardinal spline is a sequence of individual curves joined to form a larger curve.</span></span> <span data-ttu-id="b6a6c-128">Сплайн задается массивом точек и проходит через каждую точку в этом массиве.</span><span class="sxs-lookup"><span data-stu-id="b6a6c-128">The spline is specified by an array of points and passes through each point in that array.</span></span> <span data-ttu-id="b6a6c-129">Фундаментальный сплайн передается плавно (без острых углов) через каждую точку массива и, таким же, становится более четким, чем путь, созданный путем соединения прямых линий.</span><span class="sxs-lookup"><span data-stu-id="b6a6c-129">A cardinal spline passes smoothly (no sharp corners) through each point in the array and thus is more refined than a path created by connecting straight lines.</span></span> <span data-ttu-id="b6a6c-130">На следующем рисунке показаны два контура, один из которых создается путем соединения прямых линий, а второй — в качестве фундаментального сплайна.</span><span class="sxs-lookup"><span data-stu-id="b6a6c-130">The following illustration shows two paths, one created by connecting straight lines and one created as a cardinal spline.</span></span>

![Иллюстрация, показывающая одну и ту же пять точек дважды: после соединения фундаментальным сплайном другие сегменты по строкам](images/aboutgdip01-art03.png)

## <a name="independent-path-objects"></a><span data-ttu-id="b6a6c-132">Независимые объекты Path</span><span class="sxs-lookup"><span data-stu-id="b6a6c-132">Independent Path Objects</span></span>

<span data-ttu-id="b6a6c-133">В GDI путь принадлежит к контексту устройства, а путь уничтожается при его прорисовке.</span><span class="sxs-lookup"><span data-stu-id="b6a6c-133">In GDI, a path belongs to a device context, and the path is destroyed as it is drawn.</span></span> <span data-ttu-id="b6a6c-134">При использовании GDI+ рисование выполняется [**графическим**](/windows/desktop/api/gdiplusgraphics/nl-gdiplusgraphics-graphics) объектом, и вы можете создавать и обслуживать несколько объектов [**GraphicsPath**](/windows/desktop/api/gdipluspath/nl-gdipluspath-graphicspath) , отделяющих от объекта **Graphics** .</span><span class="sxs-lookup"><span data-stu-id="b6a6c-134">With GDI+, drawing is performed by a [**Graphics**](/windows/desktop/api/gdiplusgraphics/nl-gdiplusgraphics-graphics) object, and you can create and maintain several [**GraphicsPath**](/windows/desktop/api/gdipluspath/nl-gdipluspath-graphicspath) objects that are separate from the **Graphics** object.</span></span> <span data-ttu-id="b6a6c-135">Объект **GraphicsPath** не уничтожается действием рисования, поэтому можно использовать один и тот же объект **GraphicsPath** , чтобы нарисовать путь несколько раз.</span><span class="sxs-lookup"><span data-stu-id="b6a6c-135">A **GraphicsPath** object is not destroyed by the drawing action, so you can use the same **GraphicsPath** object to draw a path several times.</span></span>

## <a name="transformations-and-the-matrix-object"></a><span data-ttu-id="b6a6c-136">Преобразования и объект Matrix</span><span class="sxs-lookup"><span data-stu-id="b6a6c-136">Transformations and the Matrix Object</span></span>

<span data-ttu-id="b6a6c-137">GDI+ предоставляет объект [**Matrix**](/windows/desktop/api/gdiplusmatrix/nl-gdiplusmatrix-matrix) , мощный инструмент, который позволяет легко и гибко преобразовывать (вращение, переводы и т. д.).</span><span class="sxs-lookup"><span data-stu-id="b6a6c-137">GDI+ provides the [**Matrix**](/windows/desktop/api/gdiplusmatrix/nl-gdiplusmatrix-matrix) object, a powerful tool that makes transformations (rotations, translations, and so on) easy and flexible.</span></span> <span data-ttu-id="b6a6c-138">Объект Matrix работает в сочетании с преобразованными объектами.</span><span class="sxs-lookup"><span data-stu-id="b6a6c-138">A matrix object works in conjunction with the objects that are transformed.</span></span> <span data-ttu-id="b6a6c-139">Например, объект [**GraphicsPath**](/windows/desktop/api/gdipluspath/nl-gdipluspath-graphicspath) имеет метод [**GraphicsPath:: Transform**](/windows/desktop/api/Gdipluspath/nf-gdipluspath-graphicspath-transform) , который получает адрес объекта **Matrix** в качестве аргумента.</span><span class="sxs-lookup"><span data-stu-id="b6a6c-139">For example, a [**GraphicsPath**](/windows/desktop/api/gdipluspath/nl-gdipluspath-graphicspath) object has a [**GraphicsPath::Transform**](/windows/desktop/api/Gdipluspath/nf-gdipluspath-graphicspath-transform) method that receives the address of a **Matrix** object as an argument.</span></span> <span data-ttu-id="b6a6c-140">Одна матрица размером 3 × 3 может содержать одно преобразование или последовательность преобразований.</span><span class="sxs-lookup"><span data-stu-id="b6a6c-140">A single 3×3 matrix can store one transformation or a sequence of transformations.</span></span> <span data-ttu-id="b6a6c-141">На следующем рисунке показан путь до и после последовательности двух преобразований (первый масштаб, затем повернуть).</span><span class="sxs-lookup"><span data-stu-id="b6a6c-141">The following illustration shows a path before and after a sequence of two transformations (first scale, then rotate).</span></span>

![Иллюстрация, показывающая контур фигуры, а также тот же контур, но с более узким и повернутым](images/aboutgdip01-art04.png)

## <a name="scalable-regions"></a><span data-ttu-id="b6a6c-143">Масштабируемые регионы</span><span class="sxs-lookup"><span data-stu-id="b6a6c-143">Scalable Regions</span></span>

<span data-ttu-id="b6a6c-144">GDI+ значительно расширяет возможности GDI с поддержкой регионов.</span><span class="sxs-lookup"><span data-stu-id="b6a6c-144">GDI+ expands greatly on GDI with its support for regions.</span></span> <span data-ttu-id="b6a6c-145">В GDI регионы хранятся в координатах устройства, а единственное преобразование, которое может быть применено к региону, — это перевод.</span><span class="sxs-lookup"><span data-stu-id="b6a6c-145">In GDI, regions are stored in device coordinates, and the only transformation that can be applied to a region is a translation.</span></span> <span data-ttu-id="b6a6c-146">GDI+ хранит регионы в мировых координатах и позволяет региону выполнять любое преобразование (например, масштабирование), которое может храниться в матрице преобразования.</span><span class="sxs-lookup"><span data-stu-id="b6a6c-146">GDI+ stores regions in world coordinates and allows a region to undergo any transformation (scaling, for example) that can be stored in a transformation matrix.</span></span> <span data-ttu-id="b6a6c-147">На следующем рисунке показан регион до и после последовательности из трех преобразований: масштабирование, вращение и перевод.</span><span class="sxs-lookup"><span data-stu-id="b6a6c-147">The following illustration shows a region before and after a sequence of three transformations: scale, rotate, and translate.</span></span>

![Иллюстрация, показывающая фигуру, расположенную по осям координат, затем та же самая фигура, но крупная, повернутая и преобразованная вправо](images/aboutgdip01-art05.png)

## <a name="alpha-blending"></a><span data-ttu-id="b6a6c-149">Альфа-смешение</span><span class="sxs-lookup"><span data-stu-id="b6a6c-149">Alpha Blending</span></span>

<span data-ttu-id="b6a6c-150">Обратите внимание, что на предыдущем рисунке можно увидеть непреобразованную область (заполненную красным цветом) с помощью преобразованной области (заполненной штриховым кистью).</span><span class="sxs-lookup"><span data-stu-id="b6a6c-150">Note that in the previous figure, you can see the untransformed region (filled with red) through the transformed region (filled with a hatch brush).</span></span> <span data-ttu-id="b6a6c-151">Это стало возможным благодаря альфа-смешению, которое поддерживается GDI+.</span><span class="sxs-lookup"><span data-stu-id="b6a6c-151">This is made possible by alpha blending, which is supported by GDI+.</span></span> <span data-ttu-id="b6a6c-152">При использовании альфа-смешения можно указать прозрачность цвета заливки.</span><span class="sxs-lookup"><span data-stu-id="b6a6c-152">With alpha blending, you can specify the transparency of a fill color.</span></span> <span data-ttu-id="b6a6c-153">Прозрачный цвет смешивается с цветом фона — чем более прозрачный цвет заливки, тем больше фон показывается.</span><span class="sxs-lookup"><span data-stu-id="b6a6c-153">A transparent color is blended with the background color — the more transparent you make a fill color, the more the background shows through.</span></span> <span data-ttu-id="b6a6c-154">На следующем рисунке показаны четыре эллипса, которые заполняются одним и тем же цветом (красным) на разных уровнях прозрачности.</span><span class="sxs-lookup"><span data-stu-id="b6a6c-154">The following illustration shows four ellipses that are filled with the same color (red) at different transparency levels.</span></span>

![Иллюстрация, демонстрирующая четыре эллипса различной прозрачности перекрывают полупрозрачный прямоугольник](images/aboutgdip01-art06.png)

## <a name="support-for-multiple-image-formats"></a><span data-ttu-id="b6a6c-156">Поддержка нескольких форматов изображений</span><span class="sxs-lookup"><span data-stu-id="b6a6c-156">Support for Multiple Image Formats</span></span>

<span data-ttu-id="b6a6c-157">Интерфейс GDI+ предоставляет классы [**Image**](/windows/desktop/api/gdiplusheaders/nl-gdiplusheaders-image), [**Bitmap**](/windows/desktop/api/gdiplusheaders/nl-gdiplusheaders-bitmap)и [**Metafile**](/windows/desktop/api/gdiplusheaders/nl-gdiplusheaders-metafile) , которые позволяют загружать, сохранять изображения и работать с ними в различных форматах.</span><span class="sxs-lookup"><span data-stu-id="b6a6c-157">GDI+ provides the [**Image**](/windows/desktop/api/gdiplusheaders/nl-gdiplusheaders-image), [**Bitmap**](/windows/desktop/api/gdiplusheaders/nl-gdiplusheaders-bitmap), and [**Metafile**](/windows/desktop/api/gdiplusheaders/nl-gdiplusheaders-metafile) classes, which allow you to load, save and manipulate images in a variety of formats.</span></span> <span data-ttu-id="b6a6c-158">Поддерживаются следующие форматы:</span><span class="sxs-lookup"><span data-stu-id="b6a6c-158">The following formats are supported:</span></span>

-   <span data-ttu-id="b6a6c-159">BMP</span><span class="sxs-lookup"><span data-stu-id="b6a6c-159">BMP</span></span>
-   <span data-ttu-id="b6a6c-160">GIF</span><span class="sxs-lookup"><span data-stu-id="b6a6c-160">Graphics Interchange Format (GIF)</span></span>
-   <span data-ttu-id="b6a6c-161">JPEG</span><span class="sxs-lookup"><span data-stu-id="b6a6c-161">JPEG</span></span>
-   <span data-ttu-id="b6a6c-162">Exif</span><span class="sxs-lookup"><span data-stu-id="b6a6c-162">Exif</span></span>
-   <span data-ttu-id="b6a6c-163">PNG</span><span class="sxs-lookup"><span data-stu-id="b6a6c-163">PNG</span></span>
-   <span data-ttu-id="b6a6c-164">TIFF</span><span class="sxs-lookup"><span data-stu-id="b6a6c-164">TIFF</span></span>
-   <span data-ttu-id="b6a6c-165">ЗНАЧОК</span><span class="sxs-lookup"><span data-stu-id="b6a6c-165">ICON</span></span>
-   <span data-ttu-id="b6a6c-166">WMF</span><span class="sxs-lookup"><span data-stu-id="b6a6c-166">WMF</span></span>
-   <span data-ttu-id="b6a6c-167">EMF</span><span class="sxs-lookup"><span data-stu-id="b6a6c-167">EMF</span></span>

 

 



