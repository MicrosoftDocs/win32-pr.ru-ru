---
title: О процессе преобразования
description: О процессе преобразования
ms.assetid: 147b82fd-9e82-4acf-8f8a-43eb02e99024
keywords:
- Проигрыватель Windows Media, процесс преобразования
- Подключаемые модули проигрывателя Windows Media, преобразование
- подключаемые модули, преобразование
- подключаемые модули преобразования, процесс
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 2d6fe2f2bbedf03b78c0d19abaf3793e8e92c788
ms.sourcegitcommit: 48d1c892045445bcbd0f22bafa2fd3861ffaa6e7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/19/2020
ms.locfileid: "104069585"
---
# <a name="about-the-conversion-process"></a>О процессе преобразования

После того как проигрыватель Windows Media создаст экземпляр подключаемого модуля преобразования, процесс продолжится следующим образом.

1.  Проигрыватель вызывает [ивмпконверт:: конвертфиле](/previous-versions/windows/desktop/api/wmpservices/nf-wmpservices-iwmpconvert-convertfile).
2.  Подключаемый модуль преобразует файл, указанный в параметре *бстринпутфиле* , в формат ASF.
3.  Если по какой-то причине преобразование завершается неудачей, подключаемый модуль возвращает соответствующий код ошибки, и процесс останавливается.
4.  Если преобразование выполнено, подключаемый модуль помещает преобразованный файл в папку, указанную в параметре *бстрдестинатионфолдер* , и возвращает полный путь к преобразованному файлу с помощью параметра *пбстраутпутфиле* .
5.  Подключаемый модуль возвращает код успешного выполнения из **конвертфиле**.
6.  Проигрыватель копирует преобразованный файл в папку в иерархии папок музыки пользователя. Именно там, где проигрыватель копирует файл, зависит от содержимого. В рамках этого процесса проигрыватель может переименовать файл.
7.  Проигрыватель копирует исходный (непреобразованный) файл в папку в иерархии папок музыки пользователя. В рамках этого процесса проигрыватель может переименовать файл. Это копия файла, используемая проигрывателем при синхронизации пользователем содержимого с компьютера с устройством, для которого требуется исходный формат файла. Этот файл называется *теневым файлом*.
8.  Проигрыватель добавляет сведения о преобразованном файле в библиотеку. Сюда входит установка значения атрибута **шадовфилепас** в новое расположение, в котором сохранен файл тени.

Если необходимо работать с преобразованным файлом, можно запросить библиотеку для получения содержимого с помощью атрибутов **контентдистрибутор** и **WM/уникуефилеидентифиер** . Если необходимо работать с теневым файлом, необходимо извлечь объект **мультимедиа** для преобразованного файла, а затем запросить атрибут **шадовфилепас** . См. раздел [Добавление метаданных в преобразованные файлы](adding-metadata-to-converted-files.md).

## <a name="related-topics"></a>См. также

<dl> <dt>

[**О подключаемых модулях преобразования**](about-conversion-plug-ins.md)
</dt> <dt>

[**Добавление метаданных в преобразованные файлы**](adding-metadata-to-converted-files.md)
</dt> <dt>

[**Считывание значений атрибутов**](reading-attribute-values.md)
</dt> <dt>

[**Атрибут Шадовфилепас**](shadowfilepath-attribute.md)
</dt> <dt>

[**Атрибут WM/Контентдистрибутор**](wm-contentdistributor-attribute.md)
</dt> <dt>

[**Атрибут WM/Уникуефилеидентифиер**](wm-uniquefileidentifier-attribute.md)
</dt> </dl>

 

 




