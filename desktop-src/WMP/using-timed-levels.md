---
title: Использование уровней времени
description: Использование уровней времени
ms.assetid: 4a253521-3036-488a-98bc-62596b538f68
keywords:
- визуализации, события с превышением времени
- Пользовательские визуализации, события с превышением времени
- визуализации, массив частоты
- Пользовательские визуализации, массив частоты
- визуализации, массив форм
- Пользовательские визуализации, массив форм
- визуализации, переменная состояния
- Пользовательские визуализации, переменная состояния
- визуализации, переменная timeStamp
- Пользовательские визуализации, переменная timeStamp
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 6f2d9a23818d57305b3b205ea2e17b6dda2884e2
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/16/2019
ms.locfileid: "104067999"
---
# <a name="using-timed-levels"></a>Использование уровней времени

Структура **тимедлевел** состоит из 2 2 многомерных массивов, значения состояния и значения метки времени.

## <a name="frequency-array"></a>Массив частоты

Массив периодичности является двумерным массивом. Первое измерение каждого массива соответствует стерео аудио-каналу (слева или справа), а второе соответствует уровню частоты (в байтах) моментального снимка, где спектр звука делится на 1024 регионов.

Данные массива частоты, предоставляемые проигрывателем Windows Media, можно получить следующим образом:


```C++
TimedLevel *pLevels;
int snapshot = pLevels->frequency[0][0];
```



Значение моментального снимка — для левого канала и содержит значение наименьшей части спектра частот. Например, если моментальный снимок имеет большое значение, это указывает на то, что самая низкая 1024th часть спектра частот имеет широкую частоту. Нулевое значение указывает на отсутствие значений с низкой частотой в части спектра для левого канала. Если у вас есть сигнал монофоник, то только первое измерение имеет допустимые значения.

Если сигнал не стерео, второй массив будет содержать копию сигнала Mono. То есть частота \[ 0 \] \[ *n* \] и частота \[ 1 \] \[ *n* \] будут содержать одни и те же данные, где *n* — индекс в определенной ячейке.

## <a name="waveform-array"></a>Массив форм

Массив форм-волнового типа также является двумерным массивом. Первое измерение массива соответствует каналу (слева или справа), а второе соответствует уровням питания (в байтах) моментального снимка, в котором звуковая мощность разбивается на 1024 смежных сегментов времени.

Данные массива волны можно получить из проигрывателя Windows Media следующим образом:


```C++
TimedLevel *pLevels;
int snapshot = pLevels->waveform[0][0];

```



Значение snapshot предназначено для левого канала и содержит первое значение квантованияного снимка значений питания. При создании моментального снимка он состоит из 1024 маленьких добавочных измерений в отношении звуковых возможностей. Наименьшее значение массива формируется первым добавочным измерением звуковой мощности. Обратите внимание, что значения степени измеряются от-128 до + 127, а значения в диапазоне от 0 до 255. Если у вас есть монофоник волна, то только первое измерение будет иметь допустимые значения.

Если сигнал не стерео, второй массив будет содержать копию сигнала Mono. То есть, волна \[ 0 \] \[ *n* \] и волна \[ 1 \] \[ *n* \] будут содержать одни и те же данные, где *n* — индекс в определенной ячейке.

## <a name="state"></a>Состояние

Переменная состояния отражает состояние воспроизведения звука проигрывателя Windows Media. Значения перечисления Плайерстате


```C++
    stop_state              = 0,    // audio is currently stopped
    pause_state             = 1,    // audio is currently paused
    play_state              = 2     // audio is currently playing

```



Эту переменную можно использовать для выполнения различных действий в зависимости от состояния воспроизведения звука. Например, можно воспроизвести один тип визуализации при воспроизведении звука, а другой — при его остановке.

## <a name="time-stamp"></a>Метка времени

Переменная timeStamp отражает текущее время создания моментального снимка. Это можно использовать для измерения частоты создания моментальных снимков.

Эту переменную можно использовать для времени анимации. Если моментальные снимки слишком часто используются, вы можете постепенно снизить изображение, чтобы оно отображалось выбранным способом.

## <a name="related-topics"></a>См. также

<dl> <dt>

[**Реализация отрисовки**](implementing-render.md)
</dt> </dl>

 

 




