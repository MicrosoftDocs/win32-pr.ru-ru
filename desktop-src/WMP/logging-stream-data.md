---
title: Ведение журнала данных потока
description: Ведение журнала данных потока
ms.assetid: c902a755-afdd-4dea-bc3e-036555fdff10
keywords:
- Windows Списки воспроизведения мультимедийных метафайлов, ведение журнала данных потока
- списки воспроизведения, ведение журнала данных потока
- списки воспроизведения метафайлов, ведение журнала данных потока
- Windows Списки воспроизведения мультимедийных метафайлов, ведение журнала потоковых данных
- списки воспроизведения, ведение журнала потоковых данных
- списки воспроизведения метафайлов, ведение журнала потоковых данных
- ведение журнала данных потока
- ведение журнала потоковых данных
- проигрыватель Windows Media, ведение журнала данных потока
- проигрыватель Windows Media, ведение журнала данных в потоке
ms.topic: article
ms.date: 05/31/2018
topic_type:
- kbArticle
api_name: ''
api_type: ''
api_location: ''
ms.openlocfilehash: c0a2ae6fe4b647e8a5c19fc6f30562973b3280f37cd3af3a1b9d9093771959de
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "118118868"
---
# <a name="logging-stream-data"></a>Ведение журнала данных потока

Записанные в журнал данные могут быть получены и использованы для определения поведения средства просмотра, например частоту просмотра потока или просмотра пользователем потока, а также времени, в течение которого пользователь просматривал поток и в течение определенного качества.

Данные журнала автоматически отправляются на сервер, с которого был создан список воспроизведения. Можно также отправить данные журнала на дополнительные серверы, включая веб-серверы, которые используются исключительно для ведения журнала. Для этого используйте элемент **логурл** , указав допустимый URL-адрес для атрибута **href** . Элементы **логурл** можно включать в качестве дочерних элементов для элемента **ASX** и как дочерние элементы отдельных элементов **записи** . При первом открытии списка воспроизведения данные журнала отправляются на сервер-источник и каждый URL-адрес, указанный в **логурл** потомков элемента **ASX** . Затем при достижении каждой записи данные, относящиеся к этой записи, отправляются каждому URL-адресу, указанному в **логурл** потомков элемента **entry** .

пакет SDK Windows Media Format поддерживает элемент **логурл** через интерфейс **ивмсреадернетворкконфиг** и следующие методы:


```XML
HRESULT AddLoggingUrl(LPCWSTR pwszUrl);
HRESULT GetLoggingUrl(DWORD dwIndex, LPCWSTR pwszUrl, DWORD *pcchUrl);
HRESULT GetLoggingUrlCount(DWORD *pdwUrlCount);
HRESULT ResetLoggingUrlList();

```



В дополнение к сведениям, которые регистрируются автоматически, список воспроизведения метафайлов может регистрировать пользовательскую информацию с помощью элемента **param** . Чтобы использовать элемент **param** таким образом, задайте для атрибута **Name** значение "log:", за которым следует имя поля журнала, а также необязательное пространство имен XML, отделенное от имени поля другим двоеточием (":"). Все после второго двоеточия рассматривается как пространство имен, поэтому имя поля не должно содержать двоеточие.

В поле журнала, указанном в атрибуте **Name** , задается значение атрибута **value** . Если журнал еще не содержит поле с указанным именем, оно будет добавлено.

**Пример кода**


```XML

    <ASX version="3.0">
      <LOGURL href="https://www.proseware.com/log.asp?SomeArg=SomeVal" />
      <ENTRY>
        <REF href="mms://ucast.proseware.com/Media1.wma" />
        <LOGURL href="https://www.proseware.com/cgi-bin/logging.pl?SomeArg=SomeVal" />
        <LOGURL href="https://www.proseware.com/WMLogging.dll?SomeArg=SomeVal" />
        <PARAM name="log:cs-media-role" value="Advertisement"/>
        <PARAM name="log:cs-media-name:namespace" value="Music"/>
        <REF href=rtsp://ucast.proseware.com/Media1.wma"/>
      </ENTRY>
      <ENTRY>
        <REF href="mms://ucast.proseware.com/Media2.wma"/>
      </ENTRY>
    </ASX>
    

```



## <a name="related-topics"></a>Связанные темы

<dl> <dt>

[**Списки воспроизведения метафайлов**](metafile-playlists.md)
</dt> <dt>

[**Windows Справочник по элементам метафайлов мультимедиа**](windows-media-metafile-elements-reference.md)
</dt> </dl>

 

 




