---
description: Процесс использует функцию CreateFile для открытия маркера для ресурса связи.
ms.assetid: eaef6067-97a6-40c4-84ec-c0d86af6bb4a
title: Дескрипторы ресурсов связи
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: f709fc041f6125d93a1c52f3e17b77c96f35825c
ms.sourcegitcommit: c7add10d695482e1ceb72d62b8a4ebd84ea050f7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "104423354"
---
# <a name="communications-resource-handles"></a>Дескрипторы ресурсов связи

Процесс использует функцию [**CreateFile**](/windows/desktop/api/fileapi/nf-fileapi-createfilea) для открытия маркера для ресурса связи. Например, при указании параметра COM1 открывается маркер для последовательного порта, а порт LPT1 открывает маркер параллельного порта. Если указанный ресурс в настоящее время используется другим процессом, **CreateFile** завершается ошибкой. Любой поток процесса может использовать маркер, возвращаемый **CreateFile** , для обнаружения ресурса в любой из функций, обращающихся к ресурсу.

Когда процесс вызывает [**CreateFile**](/windows/desktop/api/fileapi/nf-fileapi-createfilea) для открытия ресурса связи, он задает следующие атрибуты:

-   Какой тип доступа для чтения и записи существует для указанного ресурса.
-   Может ли этот маркер наследоваться дочерними процессами.
-   Может ли этот маркер использоваться в операциях ввода-вывода с перекрытием (асинхронных). (Описание операций с перекрытием см. в разделе [Синхронизация](/windows/desktop/Sync/synchronization).)

Когда процесс использует [**CreateFile**](/windows/desktop/api/fileapi/nf-fileapi-createfilea) для открытия ресурса связи, он должен указать определенные значения для следующих параметров:

-   Параметр *фдвшаремоде* должен быть равен нулю, что открывает ресурс для монопольного доступа.
-   Параметр *фдвкреате* должен содержать \_ флаг Open existing.
-   Параметр *хтемплатефиле* должен иметь **значение NULL**.

При использовании функции [**CreateFile**](/windows/desktop/api/fileapi/nf-fileapi-createfilea) для открытия обработчика непосредственно на устройстве приложение должно использовать специальные символы " \\ \\ . \\ " для обнаружения устройства. Например, чтобы открыть обработчик для диска A, укажите \\ \\ . \\ ответ. для параметра *Лпсзнаме* **CreateFile**. Вызывающий процесс может использовать маркер в функции [**DeviceIoControl**](/windows/win32/api/ioapiset/nf-ioapiset-deviceiocontrol) для отправки управляющих кодов на устройство.

 

 
