---
description: Перекрывающиеся операции позволяют потоку выполнять трудоемкую операцию ввода-вывода в фоновом режиме, освобождая поток для выполнения других задач.
ms.assetid: 8c0eb20d-685a-4750-8253-a87089b68509
title: Перекрывающиеся операции
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 19d8dc9e39386e25129d3e7d7a5281a8299d54ed
ms.sourcegitcommit: c7add10d695482e1ceb72d62b8a4ebd84ea050f7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "104496206"
---
# <a name="overlapped-operations"></a>Перекрывающиеся операции

Перекрывающиеся операции позволяют потоку выполнять трудоемкую операцию ввода-вывода в фоновом режиме, освобождая поток для выполнения других задач. Чтобы включить перекрывающиеся операции ввода-вывода для ресурса связи, поток должен указать флаг с **\_ \_ перекрытием флага файла** в функции [**CreateFile**](/windows/desktop/api/fileapi/nf-fileapi-createfilea) при открытии этого маркера. Чтобы выполнить функцию [**ReadFile**](/windows/desktop/api/fileapi/nf-fileapi-readfile) или [**WriteFile**](/windows/desktop/api/fileapi/nf-fileapi-writefile) в качестве перекрывающейся операции, вызывающий поток должен указать указатель на структуру [**OVERLAPPED**](/windows/desktop/api/minwinbase/ns-minwinbase-overlapped) . **ПЕРЕкрывающаяся** структура должна содержать маркер для объекта события ручного сброса (не автоматического сброса). Система устанавливает состояние объекта события на несигнальное, когда вызов функции ввода-вывода возвращается до завершения операции. Система устанавливает состояние объекта события, чтобы сообщить о завершении операции. Поток использует функцию Wait для проверки текущего состояния объекта события или для ожидания сигнала о его состоянии.

Функции [**реадфиликс**](/windows/desktop/api/fileapi/nf-fileapi-readfileex) и [**вритефиликс**](/windows/desktop/api/fileapi/nf-fileapi-writefileex) могут быть выполнены только как перекрывающиеся операции. Вызывающий поток задает указатель на функцию [**филеиокомплетионраутине**](/windows/desktop/api/minwinbase/nc-minwinbase-lpoverlapped_completion_routine) , которая выполняется при завершении перекрывающейся операции. Подсистема завершения выполняется, только если вызывающий поток выполняет операцию с предупреждением.

Дополнительные сведения об объектах событий, функциях ожидания, предупреждающих ожиданий и подпрограммых завершения см. в статье [о синхронизации](/windows/desktop/Sync/about-synchronization).

 

 
