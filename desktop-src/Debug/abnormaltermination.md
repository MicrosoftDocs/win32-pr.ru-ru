---
description: Указывает, \_ \_ завершается ли блок Try обработчика завершения в обычном режиме. Функцию можно вызывать только в \_ \_ блоке finally обработчика завершения.
ms.assetid: 0ddaef1f-03f0-45fc-9c5e-8d6a26a73245
title: Макрос Абнормалтерминатион
ms.topic: reference
ms.date: 05/31/2018
topic_type:
- APIRef
- kbSyntax
api_name:
- AbnormalTermination
api_type:
- NA
api_location: ''
ms.openlocfilehash: 7c4869f36d8ba70c8dcd8ca526949d489f455e8c
ms.sourcegitcommit: c7add10d695482e1ceb72d62b8a4ebd84ea050f7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "103990721"
---
# <a name="abnormaltermination-macro"></a>Макрос Абнормалтерминатион

Указывает, завершается ли блок **\_ \_ try** обработчика завершения в обычном режиме. Функцию можно вызывать только в блоке **\_ \_ finally** обработчика завершения.

> [!Note]  
> Оптимизирующий компилятор Microsoft C/C++ интерпретирует эту функцию как ключевое слово, а ее использование вне соответствующего синтаксиса обработки исключений приводит к ошибке компилятора.

 

## <a name="syntax"></a>Синтаксис


```C++
BOOL AbnormalTermination(void);
```



## <a name="parameters"></a>Параметры

Этот макрос не имеет параметров.

## <a name="return-value"></a>Возвращаемое значение

Если блок **\_ \_ try** аварийно завершает работу, возвращаемое значение не равно нулю.

Если блок **\_ \_ try** завершается обычным образом, возвращаемое значение равно нулю.

## <a name="remarks"></a>Комментарии

Блок **\_ \_ try** обычно завершается, только если выполнение покидает блок последовательно после выполнения последней инструкции в блоке. Инструкции (такие как **return**, **goto**, **Continue** или **break**), которые приводят к завершению блока **\_ \_ try** , вызывают аварийное завершение блока. Это происходит, даже если такая инструкция является последней инструкцией в блоке **\_ \_ try** .

Аномальное завершение блока **\_ \_ try** приводит к тому, что система ищет в обратном направлении все кадры стека, чтобы определить, должны ли быть вызваны какие-либо обработчики завершения. Это может привести к выполнению сотен инструкций, поэтому важно избегать аварийного завершения блока **\_ \_ try** из-за инструкций **return**, **goto**, **Continue** или **break** . Обратите внимание, что эти инструкции не создают исключение, даже если завершение ненормально.

Чтобы избежать аварийного завершения, выполнение продолжается до конца блока. Можно также выполнить инструкцию **\_ \_ Leave** . Оператор **\_ \_ Leave** позволяет немедленно завершить блок **\_ \_ try** , не вызывая аварийного завершения и снижения его производительности. Чтобы определить, поддерживается ли оператор **\_ \_ Leave** , проверьте документацию по компилятору.

## <a name="requirements"></a>Требования



| Требование | Значение |
|-------------------------------------|------------------------------------------------------|
| Минимальная версия клиента<br/> | Только для \[ классических приложений Windows XP\]<br/>          |
| Минимальная версия сервера<br/> | \[Только для настольных приложений Windows Server 2003\]<br/> |



## <a name="see-also"></a>См. также раздел

<dl> <dt>

[Функции структурированной обработки исключений](structured-exception-handling-functions.md)
</dt> <dt>

[Общие сведения об обработке структурированных исключений](structured-exception-handling.md)
</dt> </dl>

 

 




