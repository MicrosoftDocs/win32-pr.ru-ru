---
description: После загрузки файла символов в обработчик символов приложение может использовать функции указателя символов для возврата символьной информации для указанного адреса.
ms.assetid: bfc068e1-eced-4ab2-80a3-acc2ed07c841
title: Поиск символов
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 5f65830032cf363771b14f779726c59d976e8d30
ms.sourcegitcommit: c7add10d695482e1ceb72d62b8a4ebd84ea050f7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "104140786"
---
# <a name="finding-symbols"></a><span data-ttu-id="2fce6-103">Поиск символов</span><span class="sxs-lookup"><span data-stu-id="2fce6-103">Finding Symbols</span></span>

<span data-ttu-id="2fce6-104">После загрузки файла символов в обработчик символов приложение может использовать функции указателя символов для возврата символьной информации для указанного адреса.</span><span class="sxs-lookup"><span data-stu-id="2fce6-104">After a symbol file has been loaded into the symbol handler, an application can use the symbol locator functions to return symbol information for a specified address.</span></span> <span data-ttu-id="2fce6-105">Эти функции также могут найти имя файла исходного кода и расположение номера строки для адреса.</span><span class="sxs-lookup"><span data-stu-id="2fce6-105">These functions can also find a source code file name and line number location for an address.</span></span>

## <a name="enumerating-symbol-files"></a><span data-ttu-id="2fce6-106">Перечисление файлов символов</span><span class="sxs-lookup"><span data-stu-id="2fce6-106">Enumerating Symbol Files</span></span>

<span data-ttu-id="2fce6-107">Чтобы получить список всех файлов символов, загруженных по имени модуля, вызовите функцию [**SymEnumerateModules64**](/windows/desktop/api/Dbghelp/nf-dbghelp-symenumeratemodules) .</span><span class="sxs-lookup"><span data-stu-id="2fce6-107">To retrieve a list of all symbol files loaded by module name, call the [**SymEnumerateModules64**](/windows/desktop/api/Dbghelp/nf-dbghelp-symenumeratemodules) function.</span></span> <span data-ttu-id="2fce6-108">Пример см. в разделе [Перечисление модулей символов](enumerating-symbol-modules.md).</span><span class="sxs-lookup"><span data-stu-id="2fce6-108">For an example, see [Enumerating Symbol Modules](enumerating-symbol-modules.md).</span></span> <span data-ttu-id="2fce6-109">Чтобы получить список символов для данного модуля, вызовите функцию [**сименумсимболс**](/windows/desktop/api/Dbghelp/nf-dbghelp-symenumsymbols) .</span><span class="sxs-lookup"><span data-stu-id="2fce6-109">To retrieve a list of symbols for a given module, call the [**SymEnumSymbols**](/windows/desktop/api/Dbghelp/nf-dbghelp-symenumsymbols) function.</span></span> <span data-ttu-id="2fce6-110">Пример см. в разделе [перечисление символов](enumerating-symbols.md).</span><span class="sxs-lookup"><span data-stu-id="2fce6-110">For an example, see [Enumerating Symbols](enumerating-symbols.md).</span></span>

## <a name="retrieving-symbols-by-address"></a><span data-ttu-id="2fce6-111">Извлечение символов по адресу</span><span class="sxs-lookup"><span data-stu-id="2fce6-111">Retrieving Symbols by Address</span></span>

<span data-ttu-id="2fce6-112">Чтобы получить символьные сведения для определенного адреса, используйте функцию [**симфромаддр**](/windows/desktop/api/Dbghelp/nf-dbghelp-symfromaddr) .</span><span class="sxs-lookup"><span data-stu-id="2fce6-112">To retrieve symbolic information for a specific address, use the [**SymFromAddr**](/windows/desktop/api/Dbghelp/nf-dbghelp-symfromaddr) function.</span></span> <span data-ttu-id="2fce6-113">Эта функция получает сведения и сохраняет их в структуре [**\_ сведений о символах**](/windows/desktop/api/DbgHelp/ns-dbghelp-symbol_info) .</span><span class="sxs-lookup"><span data-stu-id="2fce6-113">This function retrieves information and stores it in a [**SYMBOL\_INFO**](/windows/desktop/api/DbgHelp/ns-dbghelp-symbol_info) structure.</span></span> <span data-ttu-id="2fce6-114">Так как имена символов имеют переменную длину, необходимо указать дополнительное место в буфере после объявления структуры **\_ сведений о символах** .</span><span class="sxs-lookup"><span data-stu-id="2fce6-114">Because symbol names are variable in length, you must provide additional buffer space following the **SYMBOL\_INFO** structure declaration.</span></span> <span data-ttu-id="2fce6-115">Пример см. в разделе [Получение символьной информации по адресу](retrieving-symbol-information-by-address.md).</span><span class="sxs-lookup"><span data-stu-id="2fce6-115">For an example, see [Retrieving Symbol Information by Address](retrieving-symbol-information-by-address.md).</span></span>

<span data-ttu-id="2fce6-116">Обратите внимание, что адрес не обязательно должен находиться на границе символа.</span><span class="sxs-lookup"><span data-stu-id="2fce6-116">Note that the address does not need to be on a symbol boundary.</span></span> <span data-ttu-id="2fce6-117">Если адрес поступает после начала символа, но перед концом символа (начало символа плюс размер символа), функция обнаружит символ.</span><span class="sxs-lookup"><span data-stu-id="2fce6-117">If the address comes after the beginning of a symbol but before the end of the symbol (the beginning of the symbol plus the symbol size), the function will locate the symbol.</span></span>

## <a name="retrieving-symbols-by-symbol-name"></a><span data-ttu-id="2fce6-118">Извлечение символов по имени символа</span><span class="sxs-lookup"><span data-stu-id="2fce6-118">Retrieving Symbols by Symbol Name</span></span>

<span data-ttu-id="2fce6-119">Чтобы получить символьную информацию в [**структуре \_ символьной**](/windows/desktop/api/DbgHelp/ns-dbghelp-symbol_info) информации для конкретного модуля и имени символа, используйте функцию [**симфромнаме**](/windows/desktop/api/Dbghelp/nf-dbghelp-symfromname) .</span><span class="sxs-lookup"><span data-stu-id="2fce6-119">To retrieve symbolic information in a [**SYMBOL\_INFO**](/windows/desktop/api/DbgHelp/ns-dbghelp-symbol_info) structure for a specific module and symbol name, use the [**SymFromName**](/windows/desktop/api/Dbghelp/nf-dbghelp-symfromname) function.</span></span> <span data-ttu-id="2fce6-120">Если задана отложенная загрузка символов, **симфромнаме** будет пытаться загрузить файл символов для модуля, если он еще не загружен.</span><span class="sxs-lookup"><span data-stu-id="2fce6-120">If deferred symbol loading is set, **SymFromName** will attempt to load the symbol file for a module if it has not already been loaded.</span></span> <span data-ttu-id="2fce6-121">Чтобы указать имя модуля вместе с именем символа, используйте *модуль* синтаксиса! *Симнаме*.</span><span class="sxs-lookup"><span data-stu-id="2fce6-121">To specify a module name along with a symbol name, use the syntax *Module*!*SymName*.</span></span> <span data-ttu-id="2fce6-122">Символ "!" отделяет имя модуля от имени символа.</span><span class="sxs-lookup"><span data-stu-id="2fce6-122">The "!" character delimits the module name from the symbol name.</span></span> <span data-ttu-id="2fce6-123">Пример см. в разделе [Получение символьной информации по имени](retrieving-symbol-information-by-name.md).</span><span class="sxs-lookup"><span data-stu-id="2fce6-123">For an example, see [Retrieving Symbol Information by Name](retrieving-symbol-information-by-name.md).</span></span>

## <a name="retrieving-line-numbers-by-address"></a><span data-ttu-id="2fce6-124">Получение номеров строк по адресу</span><span class="sxs-lookup"><span data-stu-id="2fce6-124">Retrieving Line Numbers by Address</span></span>

<span data-ttu-id="2fce6-125">Чтобы получить расположение исходного кода для определенного адреса, используйте функцию [**SymGetLineFromAddr64**](/windows/desktop/api/Dbghelp/nf-dbghelp-symgetlinefromaddr) .</span><span class="sxs-lookup"><span data-stu-id="2fce6-125">To retrieve the source code location for a specific address, use the [**SymGetLineFromAddr64**](/windows/desktop/api/Dbghelp/nf-dbghelp-symgetlinefromaddr) function.</span></span> <span data-ttu-id="2fce6-126">Эта функция заполняет структуру [**Imagehlp \_ LINE64**](/windows/desktop/api/DbgHelp/ns-dbghelp-imagehlp_line) , включающую в себя имя исходного файла и номер строки, на которую указывает указанный адрес.</span><span class="sxs-lookup"><span data-stu-id="2fce6-126">This function fills an [**IMAGEHLP\_LINE64**](/windows/desktop/api/DbgHelp/ns-dbghelp-imagehlp_line) structure that includes the source file name and line number location referred to by the specified address.</span></span> <span data-ttu-id="2fce6-127">Пример см. в разделе [Получение символьной информации по адресу](retrieving-symbol-information-by-address.md).</span><span class="sxs-lookup"><span data-stu-id="2fce6-127">For an example, see [Retrieving Symbol Information by Address](retrieving-symbol-information-by-address.md).</span></span>

## <a name="retrieving-line-numbers-by-symbol-name"></a><span data-ttu-id="2fce6-128">Извлечение номеров строк по имени символа</span><span class="sxs-lookup"><span data-stu-id="2fce6-128">Retrieving Line Numbers by Symbol Name</span></span>

<span data-ttu-id="2fce6-129">Чтобы получить расположение исходного кода для конкретного имени символа, используйте функцию [**SymGetLineFromName64**](/windows/desktop/api/Dbghelp/nf-dbghelp-symgetlinefromname) .</span><span class="sxs-lookup"><span data-stu-id="2fce6-129">To retrieve source code location for a specific symbol name, use the [**SymGetLineFromName64**](/windows/desktop/api/Dbghelp/nf-dbghelp-symgetlinefromname) function.</span></span> <span data-ttu-id="2fce6-130">Эта функция похожа на [**SymGetSymFromName64**](/windows/desktop/api/Dbghelp/nf-dbghelp-symgetsymfromname), но получает структуру [**Imagehlp \_ LINE64**](/windows/desktop/api/DbgHelp/ns-dbghelp-imagehlp_line) .</span><span class="sxs-lookup"><span data-stu-id="2fce6-130">This function is similar to [**SymGetSymFromName64**](/windows/desktop/api/Dbghelp/nf-dbghelp-symgetsymfromname), but retrieves an [**IMAGEHLP\_LINE64**](/windows/desktop/api/DbgHelp/ns-dbghelp-imagehlp_line) structure.</span></span> <span data-ttu-id="2fce6-131">Чтобы использовать [**SymGetLineFromAddr64**](/windows/desktop/api/Dbghelp/nf-dbghelp-symgetlinefromaddr) или **SymGetLineFromName64**, необходимо задать параметр Load Lines ( \_ строки загрузки Симопт \_ ) с помощью функции [**симсетоптионс**](/windows/desktop/api/Dbghelp/nf-dbghelp-symsetoptions) .</span><span class="sxs-lookup"><span data-stu-id="2fce6-131">To use [**SymGetLineFromAddr64**](/windows/desktop/api/Dbghelp/nf-dbghelp-symgetlinefromaddr) or **SymGetLineFromName64**, you must set the load lines option (SYMOPT\_LOAD\_LINES) using the [**SymSetOptions**](/windows/desktop/api/Dbghelp/nf-dbghelp-symsetoptions) function.</span></span> <span data-ttu-id="2fce6-132">Пример см. в разделе [Получение символьной информации по имени](retrieving-symbol-information-by-name.md).</span><span class="sxs-lookup"><span data-stu-id="2fce6-132">For an example, see [Retrieving Symbol Information by Name](retrieving-symbol-information-by-name.md).</span></span>

 

 



