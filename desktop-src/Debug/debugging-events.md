---
description: Событие отладки — это инцидент в отлаживаемом процессе, который заставляет систему уведомлять отладчик.
ms.assetid: 43ca51f1-ba73-4031-96c3-5815311ce6f6
title: События отладки
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: bee6d159dded992e56ac05bc1d751246cd051733
ms.sourcegitcommit: c7add10d695482e1ceb72d62b8a4ebd84ea050f7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "104072349"
---
# <a name="debugging-events"></a><span data-ttu-id="0c6c6-103">События отладки</span><span class="sxs-lookup"><span data-stu-id="0c6c6-103">Debugging Events</span></span>

<span data-ttu-id="0c6c6-104">Событие отладки — это инцидент в отлаживаемом процессе, который заставляет систему уведомлять отладчик.</span><span class="sxs-lookup"><span data-stu-id="0c6c6-104">A debugging event is an incident in the process being debugged that causes the system to notify the debugger.</span></span> <span data-ttu-id="0c6c6-105">События отладки включают создание процесса, создание потока, загрузку библиотеки динамической компоновки (DLL), выгрузку библиотеки DLL, отправку выходной строки и создание исключения.</span><span class="sxs-lookup"><span data-stu-id="0c6c6-105">Debugging events include creating a process, creating a thread, loading a dynamic-link library (DLL), unloading a DLL, sending an output string, and generating an exception.</span></span>

<span data-ttu-id="0c6c6-106">Если событие отладки происходит, когда отладчик ожидает один из них, система заполняет структуру [**\_ событий отладки**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) , указанную параметром [**ваитфордебужевент**](/windows/win32/api/debugapi/nf-debugapi-waitfordebugevent) , на сведения, описывающие событие.</span><span class="sxs-lookup"><span data-stu-id="0c6c6-106">If a debugging event occurs while a debugger is waiting for one, the system fills the [**DEBUG\_EVENT**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) structure specified by [**WaitForDebugEvent**](/windows/win32/api/debugapi/nf-debugapi-waitfordebugevent) with information describing the event.</span></span>

<span data-ttu-id="0c6c6-107">Когда система уведомляет отладчик о событии отладки, она также приостанавливает все потоки в затронутом процессе.</span><span class="sxs-lookup"><span data-stu-id="0c6c6-107">When the system notifies the debugger of a debugging event, it also suspends all threads in the affected process.</span></span> <span data-ttu-id="0c6c6-108">Потоки не возобновляют выполнение, пока отладчик не продолжит событие отладки с помощью [**континуедебужевент**](/windows/win32/api/debugapi/nf-debugapi-continuedebugevent).</span><span class="sxs-lookup"><span data-stu-id="0c6c6-108">The threads do not resume execution until the debugger continues the debugging event by using [**ContinueDebugEvent**](/windows/win32/api/debugapi/nf-debugapi-continuedebugevent).</span></span> <span data-ttu-id="0c6c6-109">При отладке процесса могут возникнуть следующие события отладки.</span><span class="sxs-lookup"><span data-stu-id="0c6c6-109">The following debugging events may occur while a process is being debugged.</span></span>



| <span data-ttu-id="0c6c6-110">Событие отладки</span><span class="sxs-lookup"><span data-stu-id="0c6c6-110">Debugging event</span></span>                          | <span data-ttu-id="0c6c6-111">Описание</span><span class="sxs-lookup"><span data-stu-id="0c6c6-111">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
|------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="0c6c6-112">СОЗДАТЬ \_ \_ событие отладки \_ процесса</span><span class="sxs-lookup"><span data-stu-id="0c6c6-112">CREATE\_PROCESS\_DEBUG\_EVENT</span></span><br/> | <span data-ttu-id="0c6c6-113">Создается каждый раз при создании нового процесса в отлаживаемом процессе или когда отладчик начинает отладку уже активного процесса.</span><span class="sxs-lookup"><span data-stu-id="0c6c6-113">Generated whenever a new process is created in a process being debugged or whenever the debugger begins debugging an already active process.</span></span> <span data-ttu-id="0c6c6-114">Система создает это событие отладки до начала выполнения процесса в пользовательском режиме и до того, как система создаст другие события отладки для нового процесса.</span><span class="sxs-lookup"><span data-stu-id="0c6c6-114">The system generates this debugging event before the process begins to execute in user mode and before the system generates any other debugging events for the new process.</span></span> <br/> <span data-ttu-id="0c6c6-115">Структура [**\_ событий Debug**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) содержит структуру [**\_ \_ отладочной \_ информации процесса создания**](/windows/win32/api/minwinbase/ns-minwinbase-create_process_debug_info) .</span><span class="sxs-lookup"><span data-stu-id="0c6c6-115">The [**DEBUG\_EVENT**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) structure contains a [**CREATE\_PROCESS\_DEBUG\_INFO**](/windows/win32/api/minwinbase/ns-minwinbase-create_process_debug_info) structure.</span></span> <span data-ttu-id="0c6c6-116">Эта структура включает в себя маркер нового процесса, обработчик файла изображения процесса, обработчик исходного потока процесса и другие сведения, описывающие новый процесс.</span><span class="sxs-lookup"><span data-stu-id="0c6c6-116">This structure includes a handle to the new process, a handle to the process's image file, a handle to the process's initial thread, and other information that describes the new process.</span></span><br/> <span data-ttu-id="0c6c6-117">Обработчик процесса имеет \_ \_ доступ к виртуальной машине Read и Process для \_ \_ записи.</span><span class="sxs-lookup"><span data-stu-id="0c6c6-117">The handle to the process has PROCESS\_VM\_READ and PROCESS\_VM\_WRITE access.</span></span> <span data-ttu-id="0c6c6-118">Если отладчик имеет такие типы доступа к потоку, он может считывать и записывать данные в память процесса с помощью функций [**реадпроцессмемори**](/windows/win32/api/memoryapi/nf-memoryapi-readprocessmemory) и [**вритепроцессмемори**](/windows/win32/api/memoryapi/nf-memoryapi-writeprocessmemory) .</span><span class="sxs-lookup"><span data-stu-id="0c6c6-118">If a debugger has these types of access to a thread, it can read and write to the process's memory by using the [**ReadProcessMemory**](/windows/win32/api/memoryapi/nf-memoryapi-readprocessmemory) and [**WriteProcessMemory**](/windows/win32/api/memoryapi/nf-memoryapi-writeprocessmemory) functions.</span></span> <span data-ttu-id="0c6c6-119">Если система ранее сообщила о событии завершения \_ процесса \_ Debug \_ , система закрывает этот обработчик, когда отладчик вызывает функцию [**континуедебужевент**](/windows/win32/api/debugapi/nf-debugapi-continuedebugevent) .</span><span class="sxs-lookup"><span data-stu-id="0c6c6-119">If the system previously reported an EXIT\_PROCESS\_DEBUG\_EVENT event, the system closes this handle when the debugger calls the [**ContinueDebugEvent**](/windows/win32/api/debugapi/nf-debugapi-continuedebugevent) function.</span></span><br/> <span data-ttu-id="0c6c6-120">Обработчик файла образа процесса имеет универсальный \_ доступ для чтения и открыт для совместного использования с доступом на чтение.</span><span class="sxs-lookup"><span data-stu-id="0c6c6-120">The handle to the process's image file has GENERIC\_READ access and is opened for read-sharing.</span></span> <span data-ttu-id="0c6c6-121">Отладчик должен закрыть этот обработчик при обработке \_ события создания процесса \_ отладки \_ .</span><span class="sxs-lookup"><span data-stu-id="0c6c6-121">The debugger should close this handle while processing CREATE\_PROCESS\_DEBUG\_EVENT.</span></span><br/> <span data-ttu-id="0c6c6-122">Обработчику исходного потока процесса назначен \_ \_ контекст Get, \_ контекст набора потоков \_ , а \_ приостановка потока — \_ возобновление доступа к потоку.</span><span class="sxs-lookup"><span data-stu-id="0c6c6-122">The handle to the process's initial thread has THREAD\_GET\_CONTEXT, THREAD\_SET\_CONTEXT, and THREAD\_SUSPEND\_RESUME access to the thread.</span></span> <span data-ttu-id="0c6c6-123">Если отладчик имеет такие типы доступа к потоку, он может считывать и записывать в регистры потока с помощью функций [**GetThreadContext**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getthreadcontext) и [**SetThreadContext**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-setthreadcontext) и может приостанавливать и возобновлять поток с помощью функций [**суспендсреад**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-suspendthread) и [**ресумесреад**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-resumethread) .</span><span class="sxs-lookup"><span data-stu-id="0c6c6-123">If a debugger has these types of access to a thread, it can read from and write to the thread's registers by using the [**GetThreadContext**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getthreadcontext) and [**SetThreadContext**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-setthreadcontext) functions and can suspend and resume the thread by using the [**SuspendThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-suspendthread) and [**ResumeThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-resumethread) functions.</span></span> <span data-ttu-id="0c6c6-124">Если система ранее сообщила о событии завершения \_ процесса \_ Debug \_ , система закрывает этот обработчик, когда отладчик вызывает функцию [**континуедебужевент**](/windows/win32/api/debugapi/nf-debugapi-continuedebugevent) .</span><span class="sxs-lookup"><span data-stu-id="0c6c6-124">If the system previously reported an EXIT\_PROCESS\_DEBUG\_EVENT event, the system closes this handle when the debugger calls the [**ContinueDebugEvent**](/windows/win32/api/debugapi/nf-debugapi-continuedebugevent) function.</span></span><br/> |
| <span data-ttu-id="0c6c6-125">СОЗДАТЬ \_ \_ событие отладки \_ потока</span><span class="sxs-lookup"><span data-stu-id="0c6c6-125">CREATE\_THREAD\_DEBUG\_EVENT</span></span><br/>  | <span data-ttu-id="0c6c6-126">Создается всякий раз, когда создается новый поток в отлаживаемом процессе или когда отладчик начинает отладку уже активного процесса.</span><span class="sxs-lookup"><span data-stu-id="0c6c6-126">Generated whenever a new thread is created in a process being debugged or whenever the debugger begins debugging an already active process.</span></span> <span data-ttu-id="0c6c6-127">Это событие отладки создается до начала выполнения нового потока в пользовательском режиме.</span><span class="sxs-lookup"><span data-stu-id="0c6c6-127">This debugging event is generated before the new thread begins to execute in user mode.</span></span> <br/> <span data-ttu-id="0c6c6-128">Структура [**\_ событий Debug**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) содержит структуру [**\_ \_ отладочной \_ информации о создании потока**](/windows/win32/api/minwinbase/ns-minwinbase-create_thread_debug_info) .</span><span class="sxs-lookup"><span data-stu-id="0c6c6-128">The [**DEBUG\_EVENT**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) structure contains a [**CREATE\_THREAD\_DEBUG\_INFO**](/windows/win32/api/minwinbase/ns-minwinbase-create_thread_debug_info) structure.</span></span> <span data-ttu-id="0c6c6-129">Эта структура включает в себя маркер нового потока и начальный адрес потока.</span><span class="sxs-lookup"><span data-stu-id="0c6c6-129">This structure includes a handle to the new thread and the thread's starting address.</span></span> <span data-ttu-id="0c6c6-130">Этот обработчик имеет \_ контекст получения \_ контекста, \_ контекста набора потоков \_ и \_ приостановки потока \_ возобновление доступа к потоку.</span><span class="sxs-lookup"><span data-stu-id="0c6c6-130">The handle has THREAD\_GET\_CONTEXT, THREAD\_SET\_CONTEXT, and THREAD\_SUSPEND\_RESUME access to the thread.</span></span> <span data-ttu-id="0c6c6-131">Если отладчик имеет такие типы доступа к потоку, он может считывать и записывать в регистры потока с помощью функций [**GetThreadContext**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getthreadcontext) и [**SetThreadContext**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-setthreadcontext) и может приостанавливать и возобновлять поток с помощью функций [**суспендсреад**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-suspendthread) и [**ресумесреад**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-resumethread) .</span><span class="sxs-lookup"><span data-stu-id="0c6c6-131">If a debugger has these types of access to a thread, it can read from and write to the thread's registers by using the [**GetThreadContext**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getthreadcontext) and [**SetThreadContext**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-setthreadcontext) functions and can suspend and resume the thread by using the [**SuspendThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-suspendthread) and [**ResumeThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-resumethread) functions.</span></span><br/> <span data-ttu-id="0c6c6-132">Если система ранее сообщила о событии \_ \_ события отладки потока выхода \_ , система закрывает обработчик в новом потоке, когда отладчик вызывает функцию [**континуедебужевент**](/windows/win32/api/debugapi/nf-debugapi-continuedebugevent) .</span><span class="sxs-lookup"><span data-stu-id="0c6c6-132">If the system previously reported an EXIT\_THREAD\_DEBUG\_EVENT event, the system closes the handle to the new thread when the debugger calls the [**ContinueDebugEvent**](/windows/win32/api/debugapi/nf-debugapi-continuedebugevent) function.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| <span data-ttu-id="0c6c6-133">\_событие отладки \_ исключения</span><span class="sxs-lookup"><span data-stu-id="0c6c6-133">EXCEPTION\_DEBUG\_EVENT</span></span><br/>       | <span data-ttu-id="0c6c6-134">Создается каждый раз при возникновении исключения в отлаживаемом процессе.</span><span class="sxs-lookup"><span data-stu-id="0c6c6-134">Generated whenever an exception occurs in the process being debugged.</span></span> <span data-ttu-id="0c6c6-135">К возможным исключениям относятся попытки доступа к недоступной памяти, выполнение инструкций точки останова, попытка деления на ноль или любое другое исключение, указанное в [структурированной обработке исключений](structured-exception-handling.md).</span><span class="sxs-lookup"><span data-stu-id="0c6c6-135">Possible exceptions include attempting to access inaccessible memory, executing breakpoint instructions, attempting to divide by zero, or any other exception noted in [Structured Exception Handling](structured-exception-handling.md).</span></span> <br/> <span data-ttu-id="0c6c6-136">Структура [**\_ событий Debug**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) содержит структуру [**\_ \_ сведений об отладке исключения**](/windows/win32/api/minwinbase/ns-minwinbase-exception_debug_info) .</span><span class="sxs-lookup"><span data-stu-id="0c6c6-136">The [**DEBUG\_EVENT**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) structure contains an [**EXCEPTION\_DEBUG\_INFO**](/windows/win32/api/minwinbase/ns-minwinbase-exception_debug_info) structure.</span></span> <span data-ttu-id="0c6c6-137">Эта структура описывает исключение, вызвавшее событие отладки.</span><span class="sxs-lookup"><span data-stu-id="0c6c6-137">This structure describes the exception that caused the debugging event.</span></span><br/> <span data-ttu-id="0c6c6-138">Помимо стандартных условий исключений, во время отладки процесса консоли может возникнуть дополнительный код исключения.</span><span class="sxs-lookup"><span data-stu-id="0c6c6-138">Besides the standard exception conditions, an additional exception code can occur during console process debugging.</span></span> <span data-ttu-id="0c6c6-139">Система создает \_ код исключения элемента управления dbg \_ , когда Ctrl + c является входным для процесса консоли, который ОБРАБАТЫВАЕТ сигналы Ctrl + c и отлаживается.</span><span class="sxs-lookup"><span data-stu-id="0c6c6-139">The system generates a DBG\_CONTROL\_C exception code when CTRL+C is input to a console process that handles CTRL+C signals and is being debugged.</span></span> <span data-ttu-id="0c6c6-140">Этот код исключения не предназначен для обработки приложениями.</span><span class="sxs-lookup"><span data-stu-id="0c6c6-140">This exception code is not meant to be handled by applications.</span></span> <span data-ttu-id="0c6c6-141">Приложение никогда не должно использовать обработчик исключений, чтобы справиться с ним.</span><span class="sxs-lookup"><span data-stu-id="0c6c6-141">An application should never use an exception handler to deal with it.</span></span> <span data-ttu-id="0c6c6-142">Он вызывается только для преимуществ отладчика и используется только при присоединении отладчика к процессу консоли.</span><span class="sxs-lookup"><span data-stu-id="0c6c6-142">It is raised only for the benefit of the debugger and is only used when a debugger is attached to the console process.</span></span><br/> <span data-ttu-id="0c6c6-143">Если процесс не отлаживается или отладчик передает \_ \_ необработанное исключение элемента управления dbg (с помощью команды GN), выполняется поиск в списке функций обработчика приложения, как описано в статье о функции [**SetConsoleCtrlHandler**](/windows/console/setconsolectrlhandler) .</span><span class="sxs-lookup"><span data-stu-id="0c6c6-143">If a process is not being debugged or if the debugger passes on the DBG\_CONTROL\_C exception unhandled (through the gn command), the application's list of handler functions is searched, as documented for the [**SetConsoleCtrlHandler**](/windows/console/setconsolectrlhandler) function.</span></span><br/> <span data-ttu-id="0c6c6-144">Если отладчик обрабатывает \_ исключение элемента управления dbg \_ (с помощью команды GH), приложение не будет заметит CTRL + C, за исключением следующего кода.</span><span class="sxs-lookup"><span data-stu-id="0c6c6-144">If the debugger handles the DBG\_CONTROL\_C exception (through the gh command), an application will not notice the CTRL+C except in code like this.</span></span><br/> `while ((inputChar = getchar()) != EOF) ...`<br/> <span data-ttu-id="0c6c6-145">Поэтому отладчик не может быть использован для прекращения ожидания чтения в таком коде из процесса завершения.</span><span class="sxs-lookup"><span data-stu-id="0c6c6-145">Thus, the debugger cannot be used to stop the read wait in such code from terminating.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                           |
| <span data-ttu-id="0c6c6-146">выход \_ из \_ обработки \_ события отладки</span><span class="sxs-lookup"><span data-stu-id="0c6c6-146">EXIT\_PROCESS\_DEBUG\_EVENT</span></span><br/>   | <span data-ttu-id="0c6c6-147">Создается каждый раз при завершении отладки последнего потока в процессе.</span><span class="sxs-lookup"><span data-stu-id="0c6c6-147">Generated whenever the last thread in a process being debugged exits.</span></span> <span data-ttu-id="0c6c6-148">Это событие отладки происходит сразу после того, как система выгружает библиотеки DLL процесса и обновляет код завершения процесса.</span><span class="sxs-lookup"><span data-stu-id="0c6c6-148">This debugging event occurs immediately after the system unloads the process's DLLs and updates the process's exit code.</span></span> <br/> <span data-ttu-id="0c6c6-149">Структура [**\_ событий Debug**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) содержит структуру [**\_ \_ отладочной \_ информации о процессе выхода**](/windows/win32/api/minwinbase/ns-minwinbase-exit_process_debug_info) , которая указывает код выхода.</span><span class="sxs-lookup"><span data-stu-id="0c6c6-149">The [**DEBUG\_EVENT**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) structure contains an [**EXIT\_PROCESS\_DEBUG\_INFO**](/windows/win32/api/minwinbase/ns-minwinbase-exit_process_debug_info) structure that specifies the exit code.</span></span><br/> <span data-ttu-id="0c6c6-150">Отладчик освобождает все внутренние структуры, связанные с процессом, при получении этого события отладки.</span><span class="sxs-lookup"><span data-stu-id="0c6c6-150">The debugger deallocates any internal structures associated with the process on receipt of this debugging event.</span></span> <span data-ttu-id="0c6c6-151">Система закрывает обработчик отладчика для завершения процесса и всех потоков процесса.</span><span class="sxs-lookup"><span data-stu-id="0c6c6-151">The system closes the debugger's handle to the exiting process and all of the process's threads.</span></span> <span data-ttu-id="0c6c6-152">Отладчик не должен закрывать эти дескрипторы.</span><span class="sxs-lookup"><span data-stu-id="0c6c6-152">The debugger should not close these handles.</span></span><br/> <span data-ttu-id="0c6c6-153">Часть процесса завершения работы в режиме ядра не может быть завершена до тех пор, пока отладчик, получающий это событие, вызывает [**континуедебужевент**](/windows/win32/api/debugapi/nf-debugapi-continuedebugevent).</span><span class="sxs-lookup"><span data-stu-id="0c6c6-153">The kernel-mode portion of process shutdown cannot be completed until the debugger that receives this event calls [**ContinueDebugEvent**](/windows/win32/api/debugapi/nf-debugapi-continuedebugevent).</span></span> <span data-ttu-id="0c6c6-154">До тех пор дескрипторы процессов открыты, а виртуальное адресное пространство не освобождается, поэтому отладчик может проверить дочерний процесс.</span><span class="sxs-lookup"><span data-stu-id="0c6c6-154">Until then, the process handles are open and the virtual address space is not released, so the debugger can examine the child process.</span></span> <span data-ttu-id="0c6c6-155">Чтобы получать уведомления о завершении процесса завершения работы в режиме ядра, следует дублировать дескриптор, возвращенный с помощью \_ \_ события создания отладки процесса \_ , вызвать **континуедебужевент**, а затем дождаться сигнала повторяющегося дескриптора процесса.</span><span class="sxs-lookup"><span data-stu-id="0c6c6-155">To receive notification when the kernel-mode portion of process shutdown is complete, duplicate the handle returned with CREATE\_PROCESS\_DEBUG\_EVENT, call **ContinueDebugEvent**, and then wait for the duplicated process handle to be signaled.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| <span data-ttu-id="0c6c6-156">выйти \_ из \_ события отладки потока \_</span><span class="sxs-lookup"><span data-stu-id="0c6c6-156">EXIT\_THREAD\_DEBUG\_EVENT</span></span><br/>    | <span data-ttu-id="0c6c6-157">Создается всякий раз, когда происходит завершение работы потока, который является частью отлаживаемого процесса.</span><span class="sxs-lookup"><span data-stu-id="0c6c6-157">Generated whenever a thread that is part of a process being debugged exits.</span></span> <span data-ttu-id="0c6c6-158">Система создает это событие отладки сразу после обновления кода выхода потока.</span><span class="sxs-lookup"><span data-stu-id="0c6c6-158">The system generates this debugging event immediately after it updates the thread's exit code.</span></span> <br/> <span data-ttu-id="0c6c6-159">Структура [**\_ событий Debug**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) содержит структуру [**\_ \_ \_ сведений об отладке потока выхода**](/windows/win32/api/minwinbase/ns-minwinbase-exit_thread_debug_info) , которая указывает код выхода.</span><span class="sxs-lookup"><span data-stu-id="0c6c6-159">The [**DEBUG\_EVENT**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) structure contains an [**EXIT\_THREAD\_DEBUG\_INFO**](/windows/win32/api/minwinbase/ns-minwinbase-exit_thread_debug_info) structure that specifies the exit code.</span></span><br/> <span data-ttu-id="0c6c6-160">Это событие отладки не происходит, если поток выхода является последним потоком процесса.</span><span class="sxs-lookup"><span data-stu-id="0c6c6-160">This debugging event does not occur if the exiting thread is the last thread of a process.</span></span> <span data-ttu-id="0c6c6-161">В этом случае \_ \_ \_ происходит событие завершения отладки процесса отладки.</span><span class="sxs-lookup"><span data-stu-id="0c6c6-161">In this case, the EXIT\_PROCESS\_DEBUG\_EVENT debugging event occurs instead.</span></span><br/> <span data-ttu-id="0c6c6-162">Отладчик освобождает все внутренние структуры, связанные с потоком, при получении этого события отладки.</span><span class="sxs-lookup"><span data-stu-id="0c6c6-162">The debugger deallocates any internal structures associated with the thread on receipt of this debugging event.</span></span> <span data-ttu-id="0c6c6-163">Система закрывает обработчик отладчика в потоке выхода.</span><span class="sxs-lookup"><span data-stu-id="0c6c6-163">The system closes the debugger's handle to the exiting thread.</span></span> <span data-ttu-id="0c6c6-164">Отладчик не должен закрывать этот обработчик.</span><span class="sxs-lookup"><span data-stu-id="0c6c6-164">The debugger should not close this handle.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| <span data-ttu-id="0c6c6-165">ЗАГРУЗИТЬ \_ \_ событие отладки библиотеки DLL \_</span><span class="sxs-lookup"><span data-stu-id="0c6c6-165">LOAD\_DLL\_DEBUG\_EVENT</span></span><br/>       | <span data-ttu-id="0c6c6-166">Создается каждый раз, когда отлаживаемый процесс загружает библиотеку DLL.</span><span class="sxs-lookup"><span data-stu-id="0c6c6-166">Generated whenever a process being debugged loads a DLL.</span></span> <span data-ttu-id="0c6c6-167">Это событие отладки происходит, когда системный загрузчик разрешает ссылки на библиотеку DLL или когда отлаживаемый процесс использует функцию [**LoadLibrary**](/windows/win32/api/libloaderapi/nf-libloaderapi-loadlibrarya) .</span><span class="sxs-lookup"><span data-stu-id="0c6c6-167">This debugging event occurs when the system loader resolves links to a DLL or when the debugged process uses the [**LoadLibrary**](/windows/win32/api/libloaderapi/nf-libloaderapi-loadlibrarya) function.</span></span> <span data-ttu-id="0c6c6-168">Это событие отладки происходит только в первый раз, когда система прикрепляет библиотеку DLL к виртуальному адресному пространству процесса.</span><span class="sxs-lookup"><span data-stu-id="0c6c6-168">This debugging event only occurs the first time the system attaches a DLL to the virtual address space of a process.</span></span> <br/> <span data-ttu-id="0c6c6-169">Структура [**\_ событий Debug**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) содержит структуру [**\_ \_ отладочной \_ информации о загрузке DLL**](/windows/win32/api/minwinbase/ns-minwinbase-load_dll_debug_info) .</span><span class="sxs-lookup"><span data-stu-id="0c6c6-169">The [**DEBUG\_EVENT**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) structure contains a [**LOAD\_DLL\_DEBUG\_INFO**](/windows/win32/api/minwinbase/ns-minwinbase-load_dll_debug_info) structure.</span></span> <span data-ttu-id="0c6c6-170">Эта структура включает в себя обработчик для вновь загруженной библиотеки DLL, базовый адрес библиотеки DLL и другие сведения, описывающие библиотеку DLL.</span><span class="sxs-lookup"><span data-stu-id="0c6c6-170">This structure includes a handle to the newly loaded DLL, the base address of the DLL, and other information that describes the DLL.</span></span> <span data-ttu-id="0c6c6-171">Отладчик должен закрыть обработчик для обработчика DLL при обработке \_ \_ события отладки Load DLL \_ .</span><span class="sxs-lookup"><span data-stu-id="0c6c6-171">The debugger should close the handle to the DLL handle while processing LOAD\_DLL\_DEBUG\_EVENT.</span></span><br/> <span data-ttu-id="0c6c6-172">Как правило, отладчик загружает таблицу символов, связанную с библиотекой DLL, при получении этого события отладки.</span><span class="sxs-lookup"><span data-stu-id="0c6c6-172">Typically, a debugger loads a symbol table associated with the DLL on receipt of this debugging event.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| <span data-ttu-id="0c6c6-173">ВЫХОДное \_ \_ событие строки отладки \_</span><span class="sxs-lookup"><span data-stu-id="0c6c6-173">OUTPUT\_DEBUG\_STRING\_EVENT</span></span><br/>  | <span data-ttu-id="0c6c6-174">Создается, когда отлаживаемый процесс использует</span><span class="sxs-lookup"><span data-stu-id="0c6c6-174">Generated when a process being debugged uses the</span></span> <br/><span data-ttu-id="0c6c6-175">Функция [**OutputDebugString**](/windows/win32/api/debugapi/nf-debugapi-outputdebugstringa) .</span><span class="sxs-lookup"><span data-stu-id="0c6c6-175">[**OutputDebugString**](/windows/win32/api/debugapi/nf-debugapi-outputdebugstringa) function.</span></span> <span data-ttu-id="0c6c6-176">Структура [**\_ событий Debug**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) содержит [**выходную структуру \_ отладочной \_ строки \_**](/windows/win32/api/minwinbase/ns-minwinbase-output_debug_string_info) .</span><span class="sxs-lookup"><span data-stu-id="0c6c6-176">The [**DEBUG\_EVENT**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) structure contains an [**OUTPUT\_DEBUG\_STRING\_INFO**](/windows/win32/api/minwinbase/ns-minwinbase-output_debug_string_info) structure.</span></span> <span data-ttu-id="0c6c6-177">Эта структура задает адрес, длину и формат строки отладки.</span><span class="sxs-lookup"><span data-stu-id="0c6c6-177">This structure specifies the address, length, and format of the debugging string.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| <span data-ttu-id="0c6c6-178">событие "выгрузка \_ отладки DLL" \_ \_</span><span class="sxs-lookup"><span data-stu-id="0c6c6-178">UNLOAD\_DLL\_DEBUG\_EVENT</span></span><br/>     | <span data-ttu-id="0c6c6-179">Создается каждый раз, когда отлаживаемый процесс выгружает библиотеку DLL с помощью функции [**FreeLibrary**](/windows/win32/api/libloaderapi/nf-libloaderapi-freelibrary) .</span><span class="sxs-lookup"><span data-stu-id="0c6c6-179">Generated whenever a process being debugged unloads a DLL by using the [**FreeLibrary**](/windows/win32/api/libloaderapi/nf-libloaderapi-freelibrary) function.</span></span> <span data-ttu-id="0c6c6-180">Это событие отладки происходит только в момент последней выгрузки библиотеки DLL из адресного пространства процесса (то есть когда счетчик использования библиотеки DLL равен нулю).</span><span class="sxs-lookup"><span data-stu-id="0c6c6-180">This debugging event only occurs the last time a DLL is unloaded from a process's address space (that is, when the DLL's usage count is zero).</span></span> <br/> <span data-ttu-id="0c6c6-181">Структура [**\_ событий Debug**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) содержит структуру [**\_ \_ отладочной \_ информации о выгрузке DLL**](/windows/win32/api/minwinbase/ns-minwinbase-unload_dll_debug_info) .</span><span class="sxs-lookup"><span data-stu-id="0c6c6-181">The [**DEBUG\_EVENT**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) structure contains an [**UNLOAD\_DLL\_DEBUG\_INFO**](/windows/win32/api/minwinbase/ns-minwinbase-unload_dll_debug_info) structure.</span></span> <span data-ttu-id="0c6c6-182">Эта структура задает базовый адрес библиотеки DLL в адресном пространстве процесса, который выгружает библиотеку DLL.</span><span class="sxs-lookup"><span data-stu-id="0c6c6-182">This structure specifies the base address of the DLL in the address space of the process that unloads the DLL.</span></span><br/> <span data-ttu-id="0c6c6-183">Как правило, отладчик выгружает таблицу символов, связанную с библиотекой DLL, при получении этого события отладки.</span><span class="sxs-lookup"><span data-stu-id="0c6c6-183">Typically, a debugger unloads a symbol table associated with the DLL upon receiving this debugging event.</span></span><br/> <span data-ttu-id="0c6c6-184">Когда процесс завершается, система автоматически выгружает DLL-файлы процесса, но не создает \_ \_ событие Отладка отладочного события отладки DLL \_ .</span><span class="sxs-lookup"><span data-stu-id="0c6c6-184">When a process exits, the system automatically unloads the process's DLLs, but does not generate an UNLOAD\_DLL\_DEBUG\_EVENT debugging event.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| <span data-ttu-id="0c6c6-185">\_событие копирования</span><span class="sxs-lookup"><span data-stu-id="0c6c6-185">RIP\_EVENT</span></span><br/>                    | <span data-ttu-id="0c6c6-186">Создается каждый раз, когда отлаживаемый процесс выходит за пределы элемента управления отладчика системы.</span><span class="sxs-lookup"><span data-stu-id="0c6c6-186">Generated whenever a process being debugged dies outside of the control of the system debugger.</span></span><br/> <span data-ttu-id="0c6c6-187">Структура [**\_ событий Debug**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) содержит структуру [**\_ сведений RIP**](/windows/win32/api/minwinbase/ns-minwinbase-rip_info) .</span><span class="sxs-lookup"><span data-stu-id="0c6c6-187">The [**DEBUG\_EVENT**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) structure contains a [**RIP\_INFO**](/windows/win32/api/minwinbase/ns-minwinbase-rip_info) structure.</span></span> <span data-ttu-id="0c6c6-188">Эта структура указывает ошибку и тип ошибки.</span><span class="sxs-lookup"><span data-stu-id="0c6c6-188">This structure specifies the error and type of error.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |



 

 

 
