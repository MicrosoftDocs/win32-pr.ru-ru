---
title: Администрирование сервера и порта RAS
description: Функции администрирования сервера RAS позволяют получить сведения об указанном сервере RAS и его портах. Эти функции также позволяют завершить подключение на указанном порту сервера удаленного доступа.
ms.assetid: 783b0ded-7c0e-49eb-8040-563d5dd675f0
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 2af21dfeda38a1c1147bf864a1fa1959092ac946
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/16/2019
ms.locfileid: "104068247"
---
# <a name="ras-server-and-port-administration"></a><span data-ttu-id="f93e7-104">Администрирование сервера и порта RAS</span><span class="sxs-lookup"><span data-stu-id="f93e7-104">RAS Server and Port Administration</span></span>

<span data-ttu-id="f93e7-105">Функции администрирования сервера RAS позволяют получить сведения об указанном сервере RAS и его портах.</span><span class="sxs-lookup"><span data-stu-id="f93e7-105">The RAS server administration functions enable you to get information about a specified RAS server and its ports.</span></span> <span data-ttu-id="f93e7-106">Эти функции также позволяют завершить подключение на указанном порту сервера удаленного доступа.</span><span class="sxs-lookup"><span data-stu-id="f93e7-106">These functions also enable you to terminate a connection on a specified RAS server port.</span></span>

<span data-ttu-id="f93e7-107">Функция [**расадминсервержетинфо**](rasadminservergetinfo.md) возвращает структуру [**RAS- \_ сервера \_ 0**](ras-server-0-str.md) , содержащую сведения о конфигурации сервера удаленного доступа.</span><span class="sxs-lookup"><span data-stu-id="f93e7-107">The [**RasAdminServerGetInfo**](rasadminservergetinfo.md) function returns a [**RAS\_SERVER\_0**](ras-server-0-str.md) structure that contains information about the configuration of a RAS server.</span></span> <span data-ttu-id="f93e7-108">Возвращаемые сведения включают число портов, доступных в настоящее время для подключения, количество используемых в данный момент портов и номер версии сервера.</span><span class="sxs-lookup"><span data-stu-id="f93e7-108">The returned information includes the number of ports currently available for connection, the number of ports currently in use, and the server version number.</span></span>

<span data-ttu-id="f93e7-109">Функция [**расадминпортенум**](rasadminportenum.md) извлекает массив структур [**\_ портов RAS \_ 0**](ras-port-0-str.md) , содержащий сведения для каждого из портов, настроенных на сервере удаленного доступа.</span><span class="sxs-lookup"><span data-stu-id="f93e7-109">The [**RasAdminPortEnum**](rasadminportenum.md) function retrieves an array of [**RAS\_PORT\_0**](ras-port-0-str.md) structures that contains information for each of the ports configured on a RAS server.</span></span> <span data-ttu-id="f93e7-110">Сведения для каждого порта включают в себя:</span><span class="sxs-lookup"><span data-stu-id="f93e7-110">The information for each port includes:</span></span>

-   <span data-ttu-id="f93e7-111">Имя порта</span><span class="sxs-lookup"><span data-stu-id="f93e7-111">The name of the port</span></span>
-   <span data-ttu-id="f93e7-112">Сведения об устройстве, подключенном к порту</span><span class="sxs-lookup"><span data-stu-id="f93e7-112">Information about the device attached to the port</span></span>
-   <span data-ttu-id="f93e7-113">Является ли RAS-сервер, связанный с портом, сервером Windows NT или Windows 2000</span><span class="sxs-lookup"><span data-stu-id="f93e7-113">Whether the RAS server associated with the port is a Windows NT/Windows 2000 Server</span></span>
-   <span data-ttu-id="f93e7-114">Используется ли порт в данный момент, и, если это так, сведения о подключении</span><span class="sxs-lookup"><span data-stu-id="f93e7-114">Whether the port is currently in use, and if it is, information about the connection</span></span>

<span data-ttu-id="f93e7-115">Вы можете вызвать функцию [**расадминпортжетинфо**](rasadminportgetinfo.md) , чтобы получить дополнительные сведения об указанном порте на сервере удаленного доступа.</span><span class="sxs-lookup"><span data-stu-id="f93e7-115">You can call the [**RasAdminPortGetInfo**](rasadminportgetinfo.md) function to get additional information about a specified port on a RAS server.</span></span> <span data-ttu-id="f93e7-116">Эта функция возвращает структуру [**\_ порта RAS \_ 1**](ras-port-1-str.md) , которая содержит структуру [**\_ порта RAS \_ 0**](/windows/desktop/api/Mprapi/ns-mprapi-ras_port_0) и дополнительные сведения о текущем состоянии порта.</span><span class="sxs-lookup"><span data-stu-id="f93e7-116">This function returns a [**RAS\_PORT\_1**](ras-port-1-str.md) structure that contains a [**RAS\_PORT\_0**](/windows/desktop/api/Mprapi/ns-mprapi-ras_port_0) structure and additional information about the current state of the port.</span></span> <span data-ttu-id="f93e7-117">Функция **расадминпортжетинфо** также возвращает массив структур [**\_ параметров RAS**](ras-parameters-str.md) , описывающих значения всех ключей, связанных с портом.</span><span class="sxs-lookup"><span data-stu-id="f93e7-117">The **RasAdminPortGetInfo** function also returns an array of [**RAS\_PARAMETERS**](ras-parameters-str.md) structures that describe the values of any media-specific keys associated with the port.</span></span> <span data-ttu-id="f93e7-118">Структура **\_ параметров RAS** использует значение из перечисления [**\_ \_ форматов params RAS**](ras-params-format-str.md) , чтобы указать формат значения для каждого ключа, относящегося к носителю.</span><span class="sxs-lookup"><span data-stu-id="f93e7-118">A **RAS\_PARAMETERS** structure uses a value from the [**RAS\_PARAMS\_FORMAT**](ras-params-format-str.md) enumeration to indicate the format of the value for each media-specific key.</span></span>

<span data-ttu-id="f93e7-119">Функция [**расадминпортжетинфо**](rasadminportgetinfo.md) также возвращает структуру [**\_ \_ статистики порта RAS**](ras-port-statistics-str.md) , которая содержит различные статистические счетчики для текущего соединения (если таковые имеются) в порте.</span><span class="sxs-lookup"><span data-stu-id="f93e7-119">The [**RasAdminPortGetInfo**](rasadminportgetinfo.md) function also returns a [**RAS\_PORT\_STATISTICS**](ras-port-statistics-str.md) structure that contains various statistic counters for the current connection, if any, on the port.</span></span> <span data-ttu-id="f93e7-120">Для порта, который является частью многоканального подключения, **расадминпортжетинфо** возвращает статистику для отдельного порта и совокупную статистику для всех портов, участвующих в соединении.</span><span class="sxs-lookup"><span data-stu-id="f93e7-120">For a port that is part of a multilink connection, **RasAdminPortGetInfo** returns statistics for the individual port and cumulative statistics for all ports involved in the connection.</span></span> <span data-ttu-id="f93e7-121">Для сброса счетчиков статистики для порта можно использовать функцию [**расадминпортклеарстатистикс**](rasadminportclearstatistics.md) .</span><span class="sxs-lookup"><span data-stu-id="f93e7-121">You can use the [**RasAdminPortClearStatistics**](rasadminportclearstatistics.md) function to reset the statistic counters for the port.</span></span> <span data-ttu-id="f93e7-122">Функция [**расадминпортдисконнект**](rasadminportdisconnect.md) отключает используемый порт.</span><span class="sxs-lookup"><span data-stu-id="f93e7-122">The [**RasAdminPortDisconnect**](rasadminportdisconnect.md) function disconnects a port that is in use.</span></span>

<span data-ttu-id="f93e7-123">Используйте функцию [**расадминфрибуффер**](rasadminfreebuffer.md) для освобождения памяти, выделенной функциями [**расадминпортенум**](rasadminportenum.md) и [**расадминпортжетинфо**](rasadminportgetinfo.md) .</span><span class="sxs-lookup"><span data-stu-id="f93e7-123">Use the [**RasAdminFreeBuffer**](rasadminfreebuffer.md) function to free memory allocated by the [**RasAdminPortEnum**](rasadminportenum.md) and [**RasAdminPortGetInfo**](rasadminportgetinfo.md) functions.</span></span> <span data-ttu-id="f93e7-124">Используйте функцию [**расадминжетеррорстринг**](rasadmingeterrorstring.md) для получения строки, которая описывает код ошибки RAS, возвращенный одной из функций администрирования сервера RAS (расадмин).</span><span class="sxs-lookup"><span data-stu-id="f93e7-124">Use the [**RasAdminGetErrorString**](rasadmingeterrorstring.md) function to get a string that describes a RAS error code returned by one of the RAS server administration (RasAdmin) functions.</span></span>

 

 




