---
title: Приостановленные состояния
description: Во время операции подключения возможны случаи, когда удаленный сервер не может продолжать работу без дополнительных сведений от локального пользователя.
ms.assetid: a1a36b2a-33df-4cba-85a6-f4225779cd63
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 914acb85ccf74c92b4bd4119966a421faddeb011
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/20/2020
ms.locfileid: "104339057"
---
# <a name="paused-states"></a><span data-ttu-id="2077f-103">Приостановленные состояния</span><span class="sxs-lookup"><span data-stu-id="2077f-103">Paused States</span></span>

<span data-ttu-id="2077f-104">Во время операции подключения возможны случаи, когда удаленный сервер не может продолжать работу без дополнительных сведений от локального пользователя.</span><span class="sxs-lookup"><span data-stu-id="2077f-104">During a connection operation, there can be times when the remote server cannot proceed without additional information from the local user.</span></span> <span data-ttu-id="2077f-105">Начиная с Windows NT 3,5, функция [**rasdial**](/windows/desktop/api/Ras/nf-ras-rasdiala) поддерживает приостановленные состояния.</span><span class="sxs-lookup"><span data-stu-id="2077f-105">Beginning with Windows NT 3.5, the [**RasDial**](/windows/desktop/api/Ras/nf-ras-rasdiala) function supports paused states.</span></span> <span data-ttu-id="2077f-106">Приостановленное состояние позволяет диспетчеру подключений удаленного доступа приостановить операцию подключения, чтобы клиентское приложение RAS может получать данные от пользователя.</span><span class="sxs-lookup"><span data-stu-id="2077f-106">A paused state allows the Remote Access Connection Manager to suspend a connection operation so the RAS client application can collect information from the user.</span></span>

<span data-ttu-id="2077f-107">Приостановленные состояния полезны в следующих ситуациях.</span><span class="sxs-lookup"><span data-stu-id="2077f-107">Paused states are useful in the following situations:</span></span>

-   <span data-ttu-id="2077f-108">Когда пользователю необходимо указать номер [обратного вызова](callback-connections.md) .</span><span class="sxs-lookup"><span data-stu-id="2077f-108">When the user needs to provide a [callback](callback-connections.md) number.</span></span>
-   <span data-ttu-id="2077f-109">При сбое проверки подлинности пользователя пользователь может ввести другое имя пользователя и пароль.</span><span class="sxs-lookup"><span data-stu-id="2077f-109">When the user authentication fails, the user can type in a different user name and password.</span></span>
-   <span data-ttu-id="2077f-110">По истечении срока действия пароля пользователь может указать новый пароль.</span><span class="sxs-lookup"><span data-stu-id="2077f-110">When the user's password has expired, the user can provide a new password.</span></span>

<span data-ttu-id="2077f-111">По умолчанию поддержка приостановленного состояния отключена.</span><span class="sxs-lookup"><span data-stu-id="2077f-111">By default, paused state support is disabled.</span></span> <span data-ttu-id="2077f-112">Клиенты RAS, которые хотят поддерживать приостановленные состояния, должны установить \_ флаг рдеоптс пауседстатес в структуре [**расдиалекстенсионс**](/previous-versions/windows/desktop/legacy/aa377029(v=vs.85)) , передаваемой в качестве параметра в [**rasdial**](/windows/desktop/api/Ras/nf-ras-rasdiala).</span><span class="sxs-lookup"><span data-stu-id="2077f-112">RAS clients that want to support paused states must set the RDEOPTS\_PausedStates flag in the [**RASDIALEXTENSIONS**](/previous-versions/windows/desktop/legacy/aa377029(v=vs.85)) structure passed as a parameter to [**RasDial**](/windows/desktop/api/Ras/nf-ras-rasdiala).</span></span>

<span data-ttu-id="2077f-113">Когда происходит приостановленное состояние, диспетчер подключений удаленного доступа вызывает обработчик уведомлений клиента.</span><span class="sxs-lookup"><span data-stu-id="2077f-113">When a paused state occurs, the Remote Access Connection Manager invokes the client's notification handler.</span></span> <span data-ttu-id="2077f-114">Если поддержка приостановленного состояния отключена, то сообщение уведомления указывает на ошибку, а операция подключения завершается ошибкой.</span><span class="sxs-lookup"><span data-stu-id="2077f-114">If paused state support is disabled, the notification message indicates an error, and the connection operation fails.</span></span> <span data-ttu-id="2077f-115">Если он включен, диспетчер соединений приостанавливает операцию подключения для ожидания ответа клиента RAS.</span><span class="sxs-lookup"><span data-stu-id="2077f-115">If it is enabled, the Connection Manager pauses the connection operation to wait for the RAS client's response.</span></span> <span data-ttu-id="2077f-116">Клиент RAS может возобновить операцию подключения с помощью второго вызова [**rasdial**](/windows/desktop/api/Ras/nf-ras-rasdiala) или завершить его, вызвав функцию [**рашангуп**](/windows/desktop/api/Ras/nf-ras-rashangupa) .</span><span class="sxs-lookup"><span data-stu-id="2077f-116">The RAS client can resume the connection operation by a second [**RasDial**](/windows/desktop/api/Ras/nf-ras-rasdiala) call, or terminate it by calling the [**RasHangUp**](/windows/desktop/api/Ras/nf-ras-rashangupa) function.</span></span>

<span data-ttu-id="2077f-117">После получения входных данных пользователя клиент RAS перезапускает операцию подключения, вызвав программу [**rasdial**](/windows/desktop/api/Ras/nf-ras-rasdiala) снова.</span><span class="sxs-lookup"><span data-stu-id="2077f-117">After getting the user's input, the RAS client restarts the connection operation by calling [**RasDial**](/windows/desktop/api/Ras/nf-ras-rasdiala) again.</span></span> <span data-ttu-id="2077f-118">Во втором вызове **rasdial** необходимо указать следующие сведения:</span><span class="sxs-lookup"><span data-stu-id="2077f-118">This second **RasDial** call must specify the following information:</span></span>

-   <span data-ttu-id="2077f-119">Маркер соединения, который был возвращен исходным вызовом [**rasdial**](/windows/desktop/api/Ras/nf-ras-rasdiala) .</span><span class="sxs-lookup"><span data-stu-id="2077f-119">The connection handle that was returned by the original [**RasDial**](/windows/desktop/api/Ras/nf-ras-rasdiala) call.</span></span>
-   <span data-ttu-id="2077f-120">Тот же обработчик уведомлений, что и исходный вызов [**rasdial**](/windows/desktop/api/Ras/nf-ras-rasdiala) .</span><span class="sxs-lookup"><span data-stu-id="2077f-120">The same notification handler as the original [**RasDial**](/windows/desktop/api/Ras/nf-ras-rasdiala) call.</span></span>
-   <span data-ttu-id="2077f-121">Входные данные пользователя в соответствующих элементах структуры [**расдиалпарамс**](/previous-versions/windows/desktop/legacy/aa377238(v=vs.85)) .</span><span class="sxs-lookup"><span data-stu-id="2077f-121">The user's input in the appropriate members of the [**RASDIALPARAMS**](/previous-versions/windows/desktop/legacy/aa377238(v=vs.85)) structure.</span></span> <span data-ttu-id="2077f-122">Другие члены структуры **расдиалпарамс** должны иметь те же сведения, что указаны в исходном вызове [**rasdial**](/windows/desktop/api/Ras/nf-ras-rasdiala) .</span><span class="sxs-lookup"><span data-stu-id="2077f-122">Other members of the **RASDIALPARAMS** structure should have the same information as specified in the original [**RasDial**](/windows/desktop/api/Ras/nf-ras-rasdiala) call.</span></span>

<span data-ttu-id="2077f-123">Второй вызов [**rasdial**](/windows/desktop/api/Ras/nf-ras-rasdiala) не может быть сделан в обработчике уведомлений.</span><span class="sxs-lookup"><span data-stu-id="2077f-123">The second [**RasDial**](/windows/desktop/api/Ras/nf-ras-rasdiala) call cannot be made from within the notification handler.</span></span>

 

 