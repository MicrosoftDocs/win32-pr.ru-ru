---
title: Администрирование пользователей RAS
description: Сервер удаленного доступа использует базу данных учетных записей пользователей, содержащую сведения о наборе учетных записей пользователей.
ms.assetid: b58767b0-9b76-4d43-953a-ea772643745e
keywords:
- Администрирование RAS, администрирование пользователей
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 742bf3e357ef813a60c67f991b6e5829879d3e1a
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/20/2020
ms.locfileid: "105672381"
---
# <a name="ras-user-administration"></a><span data-ttu-id="8789e-104">Администрирование пользователей RAS</span><span class="sxs-lookup"><span data-stu-id="8789e-104">RAS User Administration</span></span>

<span data-ttu-id="8789e-105">Сервер удаленного доступа использует базу данных учетных записей пользователей, содержащую сведения о наборе учетных записей пользователей.</span><span class="sxs-lookup"><span data-stu-id="8789e-105">A RAS server uses a user account database that contains information about a set of user accounts.</span></span> <span data-ttu-id="8789e-106">Эти сведения включают в себя привилегии RAS пользователя, которые представляют собой набор битовых флагов, определяющих реакцию сервера удаленного доступа на подключение пользователя к Connect.</span><span class="sxs-lookup"><span data-stu-id="8789e-106">The information includes a user's RAS privileges, which are a set of bit flags that determine how the RAS server responds when the user calls to connect.</span></span> <span data-ttu-id="8789e-107">Функции администрирования сервера RAS находят базу данных учетных записей пользователей, а также получают и устанавливают права доступа RAS для учетных записей пользователей.</span><span class="sxs-lookup"><span data-stu-id="8789e-107">The RAS server administration functions locate the user account database, and get and set the RAS privileges for user accounts.</span></span>

<span data-ttu-id="8789e-108">Сервер удаленного доступа может быть частью домена операционной системы или автономным компьютером, на котором работает Серверная или профессиональная версия операционной системы.</span><span class="sxs-lookup"><span data-stu-id="8789e-108">A RAS server can be part of an operating system domain or it can be a stand-alone machine that runs the server or professional version of the operating system.</span></span> <span data-ttu-id="8789e-109">Для сервера, который входит в состав домена, база данных учетных записей пользователей хранится на сервере, который является основным контроллером домена (PDC).</span><span class="sxs-lookup"><span data-stu-id="8789e-109">For a server that is part of a domain, the user account database is stored on the server that is the primary domain controller (PDC).</span></span> <span data-ttu-id="8789e-110">Изолированный сервер хранит собственную локальную базу данных учетных записей пользователей.</span><span class="sxs-lookup"><span data-stu-id="8789e-110">A stand-alone server stores its own local user account database.</span></span> <span data-ttu-id="8789e-111">Чтобы получить имя сервера, на котором хранится база данных учетных записей пользователей, используемая указанным сервером RAS, можно вызвать функцию [**мпрадминжетпдксервер**](/windows/desktop/api/Mprapi/nf-mprapi-mpradmingetpdcserver) .</span><span class="sxs-lookup"><span data-stu-id="8789e-111">To get the name of the server that stores the user account database used by a specified RAS server, you can call the [**MprAdminGetPDCServer**](/windows/desktop/api/Mprapi/nf-mprapi-mpradmingetpdcserver) function.</span></span> <span data-ttu-id="8789e-112">Затем можно использовать имя сервера учетных записей пользователей в вызове функции [**неткуеридисплайинформатион**](/windows/win32/api/lmaccess/nf-lmaccess-netquerydisplayinformation) для перечисления пользователей в базе данных учетных записей пользователей.</span><span class="sxs-lookup"><span data-stu-id="8789e-112">You can then use the name of the user account server in a call to the [**NetQueryDisplayInformation**](/windows/win32/api/lmaccess/nf-lmaccess-netquerydisplayinformation) function to enumerate the users in a user account database.</span></span> <span data-ttu-id="8789e-113">Можно также использовать имя сервера в вызовах функций [**мпрадминусержетинфо**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminusergetinfo) и [**мпрадминусерсетинфо**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminusersetinfo) , чтобы получить и задать права доступа RAS для указанной учетной записи пользователя.</span><span class="sxs-lookup"><span data-stu-id="8789e-113">You can also use the server name in calls to the [**MprAdminUserGetInfo**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminusergetinfo) and [**MprAdminUserSetInfo**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminusersetinfo) functions to get and set the RAS privileges for a specified user account.</span></span>

<span data-ttu-id="8789e-114">Функции [**мпрадминусержетинфо**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminusergetinfo) и [**мпрадминусерсетинфо**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminusersetinfo) используют структуру [**пользователя RAS \_ \_ 0**](/windows/desktop/api/Mprapi/ns-mprapi-ras_user_0) для указания прав доступа пользователя и номера телефона для обратного вызова.</span><span class="sxs-lookup"><span data-stu-id="8789e-114">The [**MprAdminUserGetInfo**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminusergetinfo) and [**MprAdminUserSetInfo**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminusersetinfo) functions use the [**RAS\_USER\_0**](/windows/desktop/api/Mprapi/ns-mprapi-ras_user_0) structure to specify a user's RAS privileges and call-back phone number.</span></span> <span data-ttu-id="8789e-115">Права доступа RAS указывают на следующие сведения:</span><span class="sxs-lookup"><span data-stu-id="8789e-115">The RAS privileges indicate the following information:</span></span>

-   <span data-ttu-id="8789e-116">Может ли пользователь устанавливать удаленное соединение с сервером или с доменом, к которому принадлежит сервер.</span><span class="sxs-lookup"><span data-stu-id="8789e-116">Whether the user can make a remote connection to the server or the domain to which the server belongs.</span></span>
-   <span data-ttu-id="8789e-117">Указывает, устанавливает ли пользователь соединение через вызов, в котором сервер RAS зависает, а затем обращается к пользователю для установления соединения.</span><span class="sxs-lookup"><span data-stu-id="8789e-117">Whether the user establishes a connection through a call back, in which the RAS server hangs up and then calls back to the user to establish the connection.</span></span>

<span data-ttu-id="8789e-118">Каждая учетная запись пользователя задает один из следующих флагов для указания прав на обратный вызов пользователя.</span><span class="sxs-lookup"><span data-stu-id="8789e-118">Each user account specifies one of the following flags to indicate the user's call-back privileges.</span></span>



| <span data-ttu-id="8789e-119">Значение</span><span class="sxs-lookup"><span data-stu-id="8789e-119">Value</span></span>                      | <span data-ttu-id="8789e-120">Значение</span><span class="sxs-lookup"><span data-stu-id="8789e-120">Meaning</span></span>                                                                                                                                                                                                                                                                        |
|----------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="8789e-121">\_Обратный вызов расприв</span><span class="sxs-lookup"><span data-stu-id="8789e-121">RASPRIV\_NoCallback</span></span>        | <span data-ttu-id="8789e-122">Сервер RAS не выполняет обратный вызов пользователя для установления соединения.</span><span class="sxs-lookup"><span data-stu-id="8789e-122">The RAS server does not call back the user to establish a connection.</span></span>                                                                                                                                                                                                          |
| <span data-ttu-id="8789e-123">РАСПРИВ \_ админсеткаллбакк</span><span class="sxs-lookup"><span data-stu-id="8789e-123">RASPRIV\_AdminSetCallback</span></span>  | <span data-ttu-id="8789e-124">Когда пользователь вызывает, сервер RAS зависает и вызывает предустановленный номер телефона обратного вызова, хранящийся в базе данных учетных записей пользователей.</span><span class="sxs-lookup"><span data-stu-id="8789e-124">When the user calls, the RAS server hangs up and calls a preset call-back phone number stored in the user account database.</span></span> <span data-ttu-id="8789e-125">Элемент **сзфоненумбер** в структуре [**User RAS \_ \_ 0**](/windows/desktop/api/Mprapi/ns-mprapi-ras_user_0) содержит номер телефона обратного вызова пользователя.</span><span class="sxs-lookup"><span data-stu-id="8789e-125">The **szPhoneNumber** member of the [**RAS\_USER\_0**](/windows/desktop/api/Mprapi/ns-mprapi-ras_user_0) structure contains the user's call-back phone number.</span></span>                       |
| <span data-ttu-id="8789e-126">РАСПРИВ \_ каллерсеткаллбакк</span><span class="sxs-lookup"><span data-stu-id="8789e-126">RASPRIV\_CallerSetCallback</span></span> | <span data-ttu-id="8789e-127">Когда пользователь вызывает, сервер RAS предоставляет возможность указать номер телефона, по которому будет выполнен обратный вызов пользователя.</span><span class="sxs-lookup"><span data-stu-id="8789e-127">When the user calls, the RAS server provides the option of specifying a phone number at which to call back the user.</span></span> <span data-ttu-id="8789e-128">Пользователь также может немедленно подключиться, не вызвав обратно.</span><span class="sxs-lookup"><span data-stu-id="8789e-128">The user can also choose to connect immediately without the call back.</span></span> <span data-ttu-id="8789e-129">Элемент **сзфоненумбер** содержит номер по умолчанию, который пользователь может переопределить.</span><span class="sxs-lookup"><span data-stu-id="8789e-129">The **szPhoneNumber** member contains a default number that the user can override.</span></span> |



 

 

 