---
title: Изменение Interface-Specific и глобальных сведений для клиентов
description: Чтобы изменить сведения об интерфейсе для конкретного клиента, например NAT, сначала используйте соответствующий параметр \ 0034; Сведения \ 0034; Функция для получения текущих данных.
ms.assetid: 208e356b-328e-416d-881c-732fed460ebf
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 3e5c8f2ef3c37d75db1cc7686a67108530b16b28
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/16/2019
ms.locfileid: "103986476"
---
# <a name="changing-interface-specific-and-global-information-for-clients"></a><span data-ttu-id="0dfae-103">Изменение Interface-Specific и глобальных сведений для клиентов</span><span class="sxs-lookup"><span data-stu-id="0dfae-103">Changing Interface-Specific and Global Information for Clients</span></span>

<span data-ttu-id="0dfae-104">Чтобы изменить сведения об интерфейсе для конкретного клиента, например NAT, сначала используйте соответствующую функцию "с информацией" для получения текущих данных.</span><span class="sxs-lookup"><span data-stu-id="0dfae-104">To change the interface information for a specific client, for example NAT, first use the appropriate "GetInfo" function to retrieve the current information.</span></span> <span data-ttu-id="0dfae-105">Если маршрутизатор работает, используйте [**мпрадмининтерфацетранспортжетинфо**](/windows/desktop/api/Mprapi/nf-mprapi-mpradmininterfacetransportgetinfo).</span><span class="sxs-lookup"><span data-stu-id="0dfae-105">If the router is running, use [**MprAdminInterfaceTransportGetInfo**](/windows/desktop/api/Mprapi/nf-mprapi-mpradmininterfacetransportgetinfo).</span></span> <span data-ttu-id="0dfae-106">Если маршрутизатор не работает, используйте [**мпрконфигинтерфацетранспортжетинфо**](/windows/desktop/api/Mprapi/nf-mprapi-mprconfiginterfacetransportgetinfo).</span><span class="sxs-lookup"><span data-stu-id="0dfae-106">If the router is not running, use the [**MprConfigInterfaceTransportGetInfo**](/windows/desktop/api/Mprapi/nf-mprapi-mprconfiginterfacetransportgetinfo).</span></span> <span data-ttu-id="0dfae-107">Этот вызов извлекает сведения обо всех клиентах, работающих на указанном интерфейсе.</span><span class="sxs-lookup"><span data-stu-id="0dfae-107">This call retrieves the information for all the clients running on the specified interface.</span></span> <span data-ttu-id="0dfae-108">Например, если и OSPF, и RIP выполняются на определенном интерфейсе, этот вызов получает сведения об интерфейсе для обоих.</span><span class="sxs-lookup"><span data-stu-id="0dfae-108">For example, if both OSPF and RIP are running on a particular interface, this call retrieves the interface information for both.</span></span> <span data-ttu-id="0dfae-109">Используйте функцию [**мпринфоблоккфинд**](/windows/desktop/api/Mprapi/nf-mprapi-mprinfoblockfind) для нахождение информационного блока, соответствующего клиенту, который необходимо изменить.</span><span class="sxs-lookup"><span data-stu-id="0dfae-109">Use the [**MprInfoBlockFind**](/windows/desktop/api/Mprapi/nf-mprapi-mprinfoblockfind) function to locate the information block that corresponds to the client you want to modify.</span></span> <span data-ttu-id="0dfae-110">Затем используйте функцию [**мпринфоблокксет**](/windows/desktop/api/Mprapi/nf-mprapi-mprinfoblockset) для выполнения изменений.</span><span class="sxs-lookup"><span data-stu-id="0dfae-110">Then use the [**MprInfoBlockSet**](/windows/desktop/api/Mprapi/nf-mprapi-mprinfoblockset) function to perform the modifications.</span></span> <span data-ttu-id="0dfae-111">Наконец, используйте [**мпрадмининтерфацетранспортсетинфо**](/windows/desktop/api/Mprapi/nf-mprapi-mpradmininterfacetransportsetinfo) или [**мпрконфигинтерфацесетинфо**](/windows/desktop/api/Mprapi/nf-mprapi-mprconfiginterfacesetinfo) , чтобы внести изменения в выполняющийся маршрутизатор или конфигурацию маршрутизатора в реестре.</span><span class="sxs-lookup"><span data-stu-id="0dfae-111">Lastly, use [**MprAdminInterfaceTransportSetInfo**](/windows/desktop/api/Mprapi/nf-mprapi-mpradmininterfacetransportsetinfo) or [**MprConfigInterfaceSetInfo**](/windows/desktop/api/Mprapi/nf-mprapi-mprconfiginterfacesetinfo) to make the changes to either the running router or the router configuration in the registry.</span></span>

<span data-ttu-id="0dfae-112">Сведения о глобальном клиенте — это сведения, не относящиеся к конкретному интерфейсу, на котором работает клиент.</span><span class="sxs-lookup"><span data-stu-id="0dfae-112">Global client information is information that is not specific to any particular interface on which the client is running.</span></span> <span data-ttu-id="0dfae-113">Аналогичная процедура используется для изменения глобальных данных для конкретного клиента.</span><span class="sxs-lookup"><span data-stu-id="0dfae-113">Use a similar procedure to modify global information for a specific client.</span></span> <span data-ttu-id="0dfae-114">Сначала получите глобальные сведения для всех клиентов, использующих [**мпрадминтранспортжетинфо**](/windows/desktop/api/Mprapi/nf-mprapi-mpradmintransportgetinfo) или [**мпрконфигтранспортжетинфо**](/windows/desktop/api/Mprapi/nf-mprapi-mprconfigtransportgetinfo).</span><span class="sxs-lookup"><span data-stu-id="0dfae-114">First retrieve the global information for all the clients using [**MprAdminTransportGetInfo**](/windows/desktop/api/Mprapi/nf-mprapi-mpradmintransportgetinfo) or [**MprConfigTransportGetInfo**](/windows/desktop/api/Mprapi/nf-mprapi-mprconfigtransportgetinfo).</span></span> <span data-ttu-id="0dfae-115">Затем используйте функции Мпринфо для изменения информации.</span><span class="sxs-lookup"><span data-stu-id="0dfae-115">Then use the MprInfo functions to modify the information.</span></span> <span data-ttu-id="0dfae-116">Наконец, используйте функции [**мпрадминтранспортсетинфо**](/windows/desktop/api/Mprapi/nf-mprapi-mpradmintransportsetinfo) или [**мпрконфигтранспортсетинфо**](/windows/desktop/api/Mprapi/nf-mprapi-mprconfigtransportsetinfo) , чтобы сохранить измененные сведения обратно на работающем маршрутизаторе или в реестре.</span><span class="sxs-lookup"><span data-stu-id="0dfae-116">Lastly, use the [**MprAdminTransportSetInfo**](/windows/desktop/api/Mprapi/nf-mprapi-mpradmintransportsetinfo) or [**MprConfigTransportSetInfo**](/windows/desktop/api/Mprapi/nf-mprapi-mprconfigtransportsetinfo) functions to save the modified information back to either the running router or the registry.</span></span>

<span data-ttu-id="0dfae-117">Вызовы к предыдущим функциям администрирования проходят через диспетчер динамического интерфейса (DIM) и в конечном итоге преобразуют их в вызовы от диспетчера маршрутизатора к самим клиентам.</span><span class="sxs-lookup"><span data-stu-id="0dfae-117">Calls to the preceding administration functions go through the Dynamic Interface Manager (DIM), and eventually translate into calls from the router manager to the clients themselves.</span></span> <span data-ttu-id="0dfae-118">Все клиенты, независимо от того, являются ли они протоколами маршрутизации, должны соответствовать интерфейсу, описанному в разделе [интерфейс протокола маршрутизатора](about-routing-protocol-interface.md).</span><span class="sxs-lookup"><span data-stu-id="0dfae-118">All clients, whether or not they are routing protocols, must conform to the interface described in the section [Router Protocol Interface](about-routing-protocol-interface.md).</span></span> <span data-ttu-id="0dfae-119">В рамках этого интерфейса протокол маршрутизации должен поддерживать следующие функции (Кроме других):</span><span class="sxs-lookup"><span data-stu-id="0dfae-119">As part of this interface, the routing protocol must support the following functions (among others):</span></span>

-   [<span data-ttu-id="0dfae-120">**жетглобалинфо**</span><span class="sxs-lookup"><span data-stu-id="0dfae-120">**GetGlobalInfo**</span></span>](/windows/desktop/api/Routprot/nc-routprot-pget_global_info)
-   [<span data-ttu-id="0dfae-121">**сетглобалинфо**</span><span class="sxs-lookup"><span data-stu-id="0dfae-121">**SetGlobalInfo**</span></span>](/windows/desktop/api/Routprot/nc-routprot-pset_global_info)
-   [<span data-ttu-id="0dfae-122">**жетинтерфацеинфо**</span><span class="sxs-lookup"><span data-stu-id="0dfae-122">**GetInterfaceInfo**</span></span>](/windows/desktop/api/Routprot/nc-routprot-pget_interface_info)
-   [<span data-ttu-id="0dfae-123">**сетинтерфацеинфо**</span><span class="sxs-lookup"><span data-stu-id="0dfae-123">**SetInterfaceInfo**</span></span>](/windows/desktop/api/Routprot/nc-routprot-pset_interface_info)

<span data-ttu-id="0dfae-124">Диспетчер маршрутизаторов вызывает функции [**жетинтерфацеинфо**](/windows/desktop/api/Routprot/nc-routprot-pget_interface_info) для каждого клиента, чтобы собрать сведения, возвращаемые при вызове функции [**мпрадмининтерфацетранспортжетинфо**](/windows/desktop/api/Mprapi/nf-mprapi-mpradmininterfacetransportgetinfo).</span><span class="sxs-lookup"><span data-stu-id="0dfae-124">The router manager calls the [**GetInterfaceInfo**](/windows/desktop/api/Routprot/nc-routprot-pget_interface_info) functions for each of the clients to gather the information that is returned from a call to [**MprAdminInterfaceTransportGetInfo**](/windows/desktop/api/Mprapi/nf-mprapi-mpradmininterfacetransportgetinfo).</span></span> <span data-ttu-id="0dfae-125">Аналогично, когда диспетчер маршрутизатора получает обновленные сведения через вызов [**мпрадмининтерфацетранспортсетинфо**](/windows/desktop/api/Mprapi/nf-mprapi-mpradmininterfacetransportsetinfo) , он использует функции [**сетинтерфацеинфо**](/windows/desktop/api/Routprot/nc-routprot-pset_interface_info) для обновления сведений об интерфейсе для каждого из клиентов.</span><span class="sxs-lookup"><span data-stu-id="0dfae-125">Similarly, when the router manager receives updated information via [**MprAdminInterfaceTransportSetInfo**](/windows/desktop/api/Mprapi/nf-mprapi-mpradmininterfacetransportsetinfo) call, it uses the [**SetInterfaceInfo**](/windows/desktop/api/Routprot/nc-routprot-pset_interface_info) functions to update the interface information for each of the clients.</span></span>

 

 




