---
description: Предоставляется несколько функций, которые извлекают сведения об управлении доступом из списка управления доступом (ACL).
ms.assetid: a0839c49-09e9-4407-8702-051b88ef2231
title: Получение сведений из ACL
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 5f87aebc2bc9b05191b5026b990714c2519091be
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "104266237"
---
# <a name="getting-information-from-an-acl"></a><span data-ttu-id="c856a-103">Получение сведений из ACL</span><span class="sxs-lookup"><span data-stu-id="c856a-103">Getting Information from an ACL</span></span>

<span data-ttu-id="c856a-104">Предоставляется несколько функций, которые извлекают сведения об управлении доступом из [*списка управления доступом*](/windows/desktop/SecGloss/a-gly) (ACL).</span><span class="sxs-lookup"><span data-stu-id="c856a-104">Several functions are provided that retrieve access control information from an [*access control list*](/windows/desktop/SecGloss/a-gly) (ACL).</span></span> <span data-ttu-id="c856a-105">К ним относятся функции для определения прав доступа, которые предоставляет ACL или выполняет аудит для указанного [доверенного лица](trustees.md).</span><span class="sxs-lookup"><span data-stu-id="c856a-105">These include functions for determining the access rights that an ACL grants or audits for a specified [trustee](trustees.md).</span></span> <span data-ttu-id="c856a-106">Другие функции позволяют извлекать сведения о [*записях контроля доступа*](/windows/desktop/SecGloss/a-gly) (ACE) в ACL.</span><span class="sxs-lookup"><span data-stu-id="c856a-106">Other functions enable you to extract information about the [*access control entries*](/windows/desktop/SecGloss/a-gly) (ACEs) in an ACL.</span></span>

<span data-ttu-id="c856a-107">Функция [**жетексплиЦитентриесфромакл**](/windows/desktop/api/Aclapi/nf-aclapi-getexplicitentriesfromacla) извлекает массив [**явных структур \_ доступа**](/windows/desktop/api/AccCtrl/ns-accctrl-explicit_access_a) , описывающих записи ACE в ACL.</span><span class="sxs-lookup"><span data-stu-id="c856a-107">The [**GetExplicitEntriesFromAcl**](/windows/desktop/api/Aclapi/nf-aclapi-getexplicitentriesfromacla) function retrieves an array of [**EXPLICIT\_ACCESS**](/windows/desktop/api/AccCtrl/ns-accctrl-explicit_access_a) structures that describe the ACEs in an ACL.</span></span> <span data-ttu-id="c856a-108">Это может быть полезно при копировании данных ACE из одного списка ACL в другой.</span><span class="sxs-lookup"><span data-stu-id="c856a-108">This can be useful when copying ACE information from one ACL to another.</span></span> <span data-ttu-id="c856a-109">Например, вызов **жетексплиЦитентриесфромакл** для получения сведений об ACE в одном списке управления доступом может следовать за передачей **явных структур \_ доступа** в вызове функции [**Сетентриесинакл**](/windows/desktop/api/Aclapi/nf-aclapi-setentriesinacla) для создания эквивалентных записей ACE в новом списке управления доступом.</span><span class="sxs-lookup"><span data-stu-id="c856a-109">For example, a call to **GetExplicitEntriesFromAcl** to get information about the ACEs in one ACL can be followed by passing the returned **EXPLICIT\_ACCESS** structures in a call to the [**SetEntriesInAcl**](/windows/desktop/api/Aclapi/nf-aclapi-setentriesinacla) function to create equivalent ACEs in a new ACL.</span></span>

<span data-ttu-id="c856a-110">Функция [**жетеффективеригхтсфромакл**](/windows/desktop/api/Aclapi/nf-aclapi-geteffectiverightsfromacla) позволяет определить действующие права доступа, предоставленные DACL для указанного доверенного лица.</span><span class="sxs-lookup"><span data-stu-id="c856a-110">The [**GetEffectiveRightsFromAcl**](/windows/desktop/api/Aclapi/nf-aclapi-geteffectiverightsfromacla) function enables you to determine the effective access rights that a DACL grants to a specified trustee.</span></span> <span data-ttu-id="c856a-111">Действующие права доступа доверенного лица — это права доступа, которые предоставляются DACL доверенному лицу или группам, членом которых является Данное доверенное лицо.</span><span class="sxs-lookup"><span data-stu-id="c856a-111">The trustee's effective access rights are the access rights that a DACL grants to the trustee or to any groups of which the trustee is a member.</span></span> <span data-ttu-id="c856a-112">**Жетеффективеригхтсфромакл** проверяет все разрешенные права доступа и запрещенный доступ к ним в указанном списке DACL.</span><span class="sxs-lookup"><span data-stu-id="c856a-112">**GetEffectiveRightsFromAcl** checks all access-allowed and access-denied ACEs in the specified DACL.</span></span>

<span data-ttu-id="c856a-113">**Чтобы определить права доступа доверенного лица к объекту, выполните следующие действия.**</span><span class="sxs-lookup"><span data-stu-id="c856a-113">**Use the following steps to determine a trustee's access rights to an object**</span></span>

1.  <span data-ttu-id="c856a-114">Вызовите функцию [**жетсекуритинфо**](/windows/desktop/api/Aclapi/nf-aclapi-getsecurityinfo) или [**жетнамедсекуритинфо**](/windows/desktop/api/Aclapi/nf-aclapi-getnamedsecurityinfoa) , чтобы получить указатель на список DACL объекта.</span><span class="sxs-lookup"><span data-stu-id="c856a-114">Call the [**GetSecurityInfo**](/windows/desktop/api/Aclapi/nf-aclapi-getsecurityinfo) or [**GetNamedSecurityInfo**](/windows/desktop/api/Aclapi/nf-aclapi-getnamedsecurityinfoa) function to get a pointer to an object's DACL.</span></span>
2.  <span data-ttu-id="c856a-115">Вызовите функцию [**жетеффективеригхтсфромакл**](/windows/desktop/api/Aclapi/nf-aclapi-geteffectiverightsfromacla) , чтобы получить права доступа, предоставленные DACL для указанного доверенного лица.</span><span class="sxs-lookup"><span data-stu-id="c856a-115">Call the [**GetEffectiveRightsFromAcl**](/windows/desktop/api/Aclapi/nf-aclapi-geteffectiverightsfromacla) function to retrieve the access rights that the DACL grants to a specified trustee.</span></span>

<span data-ttu-id="c856a-116">Функция [**жетаудитедпермиссионсфромакл**](/windows/desktop/api/Aclapi/nf-aclapi-getauditedpermissionsfromacla) позволяет проверить список SACL, чтобы определить права доступа для аудита для указанного доверенного лица или для всех групп, членом которых является Данное доверенное лицо.</span><span class="sxs-lookup"><span data-stu-id="c856a-116">The [**GetAuditedPermissionsFromAcl**](/windows/desktop/api/Aclapi/nf-aclapi-getauditedpermissionsfromacla) function enables you to check a SACL to determine the audited access rights for a specified trustee or for any groups of which the trustee is a member.</span></span> <span data-ttu-id="c856a-117">Права аудита указывают типы попыток доступа, которые приводят к созданию записи аудита системой в журнале событий безопасности.</span><span class="sxs-lookup"><span data-stu-id="c856a-117">The audited rights indicate the types of access attempts that cause the system to generate an audit record in the security event log.</span></span> <span data-ttu-id="c856a-118">Функция возвращает две [*маски доступа*](/windows/desktop/SecGloss/a-gly): одну, содержащую права доступа, отслеживаемые для неудачных попыток доступа, и другую, которая содержит права доступа, отслеживаемые для успешного доступа.</span><span class="sxs-lookup"><span data-stu-id="c856a-118">The function returns two [*access masks*](/windows/desktop/SecGloss/a-gly): one containing the access rights monitored for failed access attempts, and another containing the access rights monitored for successful access.</span></span> <span data-ttu-id="c856a-119">**Жетаудитедпермиссионсфромакл** проверяет все ACE аудита системы в списке SACL.</span><span class="sxs-lookup"><span data-stu-id="c856a-119">**GetAuditedPermissionsFromAcl** checks all system-audit ACEs in a SACL.</span></span>

 

 
