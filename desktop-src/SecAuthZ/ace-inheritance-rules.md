---
description: Система распространяет наследуемые записи управления доступом (ACE) на дочерние объекты в соответствии с набором правил наследования.
ms.assetid: 08f76aaa-8379-4ba8-9735-7568001bcd53
title: Правила наследования ACE
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: a1e8c786ebcc8450e8e5da1833f34fc85c37ea9f
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "103813295"
---
# <a name="ace-inheritance-rules"></a><span data-ttu-id="a9788-103">Правила наследования ACE</span><span class="sxs-lookup"><span data-stu-id="a9788-103">ACE Inheritance Rules</span></span>

<span data-ttu-id="a9788-104">Система распространяет наследуемые [*записи управления доступом*](/windows/desktop/SecGloss/a-gly) (ACE) на дочерние объекты в соответствии с набором правил наследования.</span><span class="sxs-lookup"><span data-stu-id="a9788-104">The system propagates inheritable [*access control entries*](/windows/desktop/SecGloss/a-gly) (ACEs) to child objects according to a set of inheritance rules.</span></span> <span data-ttu-id="a9788-105">Система размещает наследуемые ACE в [*списке управления доступом на уровне пользователей*](/windows/desktop/SecGloss/d-gly) (DACL) в соответствии с предпочтительным [порядком ACE в DACL](order-of-aces-in-a-dacl.md).</span><span class="sxs-lookup"><span data-stu-id="a9788-105">The system places inherited ACEs in the [*discretionary access control list*](/windows/desktop/SecGloss/d-gly) (DACL) of the child according to the preferred [order of ACEs in a DACL](order-of-aces-in-a-dacl.md).</span></span> <span data-ttu-id="a9788-106">Система устанавливает наследуемый \_ флаг ACE во всех наследуемых ACE.</span><span class="sxs-lookup"><span data-stu-id="a9788-106">The system sets the INHERITED\_ACE flag in all inherited ACEs.</span></span>

<span data-ttu-id="a9788-107">ACE, наследуемые дочерними объектами Container и uncontain, различаются в зависимости от сочетаний флагов наследования.</span><span class="sxs-lookup"><span data-stu-id="a9788-107">The ACEs inherited by container and noncontainer child objects differ, depending on the combinations of inheritance flags.</span></span> <span data-ttu-id="a9788-108">Эти правила наследования работают одинаково для списков DACL и [*систем управления доступом к системе*](/windows/desktop/SecGloss/s-gly) (SACL).</span><span class="sxs-lookup"><span data-stu-id="a9788-108">These inheritance rules work the same for both DACLs and [*system access control lists*](/windows/desktop/SecGloss/s-gly) (SACLs).</span></span>



| <span data-ttu-id="a9788-109">Флаг родительского элемента ACE</span><span class="sxs-lookup"><span data-stu-id="a9788-109">Parent ACE flag</span></span>                                  | <span data-ttu-id="a9788-110">Воздействие на дочерний список ACL</span><span class="sxs-lookup"><span data-stu-id="a9788-110">Effect on child ACL</span></span>                                                                                                                                                                                                                      |
|--------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="a9788-111">Объект \_ наследует \_ только ACE</span><span class="sxs-lookup"><span data-stu-id="a9788-111">OBJECT\_INHERIT\_ACE only</span></span>                        | <span data-ttu-id="a9788-112">Невложенные дочерние объекты: наследуются как действующие ACE.</span><span class="sxs-lookup"><span data-stu-id="a9788-112">Noncontainer child objects: Inherited as an effective ACE.</span></span> <span data-ttu-id="a9788-113">Дочерние объекты-контейнеры. контейнеры наследуют ACE только для наследования, если не \_ \_ установлен флаг "распространение наследования \_ битов".</span><span class="sxs-lookup"><span data-stu-id="a9788-113">Container child objects: Containers inherit an inherit-only ACE unless the NO\_PROPAGATE\_INHERIT\_ACE bit flag is also set.</span></span><br/>                                       |
| <span data-ttu-id="a9788-114">КОНТЕЙНЕР \_ наследует \_ только ACE</span><span class="sxs-lookup"><span data-stu-id="a9788-114">CONTAINER\_INHERIT\_ACE only</span></span>                     | <span data-ttu-id="a9788-115">Неконтейнерные дочерние объекты: не влияет на дочерний объект.</span><span class="sxs-lookup"><span data-stu-id="a9788-115">Noncontainer child objects: No effect on the child object.</span></span> <span data-ttu-id="a9788-116">Дочерние объекты контейнера: дочерний объект наследует эффективный элемент ACE.</span><span class="sxs-lookup"><span data-stu-id="a9788-116">Container child objects: The child object inherits an effective ACE.</span></span> <span data-ttu-id="a9788-117">Наследуемый элемент ACE наследуется, если не \_ \_ установлен флаг "распространение наследования \_ битового объекта ACE".</span><span class="sxs-lookup"><span data-stu-id="a9788-117">The inherited ACE is inheritable unless the NO\_PROPAGATE\_INHERIT\_ACE bit flag is also set.</span></span><br/> |
| <span data-ttu-id="a9788-118">КОНТЕЙНЕР \_ наследует \_ ACE и объект \_ наследует \_ ACE</span><span class="sxs-lookup"><span data-stu-id="a9788-118">CONTAINER\_INHERIT\_ACE and OBJECT\_INHERIT\_ACE</span></span> | <span data-ttu-id="a9788-119">Невложенные дочерние объекты: наследуются как действующие ACE.</span><span class="sxs-lookup"><span data-stu-id="a9788-119">Noncontainer child objects: Inherited as an effective ACE.</span></span> <span data-ttu-id="a9788-120">Дочерние объекты контейнера: дочерний объект наследует эффективный элемент ACE.</span><span class="sxs-lookup"><span data-stu-id="a9788-120">Container child objects: The child object inherits an effective ACE.</span></span> <span data-ttu-id="a9788-121">Наследуемый элемент ACE наследуется, если не \_ \_ установлен флаг "распространение наследования \_ битового объекта ACE".</span><span class="sxs-lookup"><span data-stu-id="a9788-121">The inherited ACE is inheritable unless the NO\_PROPAGATE\_INHERIT\_ACE bit flag is also set.</span></span><br/> |
| <span data-ttu-id="a9788-122">Флаги наследования не заданы</span><span class="sxs-lookup"><span data-stu-id="a9788-122">No inheritance flags set</span></span>                         | <span data-ttu-id="a9788-123">Не влияет на дочерние контейнеры и неконтейнерные объекты.</span><span class="sxs-lookup"><span data-stu-id="a9788-123">No effect on child container or noncontainer objects.</span></span>                                                                                                                                                                                    |



 

<span data-ttu-id="a9788-124">Если наследуемый ACE является эффективным элементом ACE для дочернего объекта, система сопоставляет все общие права с конкретными правами дочернего объекта.</span><span class="sxs-lookup"><span data-stu-id="a9788-124">If an inherited ACE is an effective ACE for the child object, the system maps any generic rights to the specific rights for the child object.</span></span> <span data-ttu-id="a9788-125">Аналогичным образом система сопоставляет универсальные [*идентификаторы безопасности*](/windows/desktop/SecGloss/s-gly) (SID), такие как создатель- \_ владелец, с соответствующим идентификатором безопасности.</span><span class="sxs-lookup"><span data-stu-id="a9788-125">Similarly, the system maps generic [*security identifiers*](/windows/desktop/SecGloss/s-gly) (SIDs), such as CREATOR\_OWNER, to the appropriate SID.</span></span> <span data-ttu-id="a9788-126">Если унаследованный элемент ACE является элементом управления доступом только для наследования, все общие права или универсальные идентификаторы безопасности остаются неизменными, чтобы их можно было сопоставлять соответствующим образом, если запись ACE наследуется следующим поколением дочерних объектов.</span><span class="sxs-lookup"><span data-stu-id="a9788-126">If an inherited ACE is an inherit-only ACE, any generic rights or generic SIDs are left unchanged so that they can be mapped appropriately when the ACE is inherited by the next generation of child objects.</span></span>

<span data-ttu-id="a9788-127">В случае, когда объект-контейнер наследует ACE, который одновременно эффективен в контейнере и наследуется его потомками, контейнер может наследовать два элемента ACE.</span><span class="sxs-lookup"><span data-stu-id="a9788-127">For a case in which a container object inherits an ACE that is both effective on the container and inheritable by its descendants, the container may inherit two ACEs.</span></span> <span data-ttu-id="a9788-128">Это происходит, если Наследуемая запись ACE содержит общие сведения.</span><span class="sxs-lookup"><span data-stu-id="a9788-128">This occurs if the inheritable ACE contains generic information.</span></span> <span data-ttu-id="a9788-129">Контейнер наследует элемент управления доступом только для наследования, который содержит общие сведения и эффективный элемент управления доступом, в котором сопоставлена универсальная информация.</span><span class="sxs-lookup"><span data-stu-id="a9788-129">The container inherits an inherit-only ACE that contains the generic information and an effective-only ACE in which the generic information has been mapped.</span></span>

<span data-ttu-id="a9788-130">[ACE конкретного объекта](object-specific-aces.md) имеет элемент **инхеритедобжекттипе** , который может содержать идентификатор GUID для обнаружения типа объекта, который может наследовать ACE.</span><span class="sxs-lookup"><span data-stu-id="a9788-130">An [object-specific ACE](object-specific-aces.md) has an **InheritedObjectType** member that can contain a GUID to identify the type of object that can inherit the ACE.</span></span>

<span data-ttu-id="a9788-131">Если идентификатор GUID **инхеритедобжекттипе** не указан, правила наследования для записи ACE для конкретного объекта будут такими же, как и для стандартной записи ACE.</span><span class="sxs-lookup"><span data-stu-id="a9788-131">If the **InheritedObjectType** GUID is not specified, the inheritance rules for an object-specific ACE are the same as for a standard ACE.</span></span>

<span data-ttu-id="a9788-132">Если указан идентификатор GUID **инхеритедобжекттипе** , запись ACE наследуется объектами, соответствующими идентификатору GUID \_ , если задан объект, наследуемый \_ ACE, и КОНТЕЙНЕРы, соответствующие GUID, если \_ установлен контейнер наследовать \_ ACE.</span><span class="sxs-lookup"><span data-stu-id="a9788-132">If the **InheritedObjectType** GUID is specified, the ACE is inheritable by objects that match the GUID if OBJECT\_INHERIT\_ACE is set, and by containers that match the GUID if CONTAINER\_INHERIT\_ACE is set.</span></span> <span data-ttu-id="a9788-133">Обратите внимание, что сейчас только объекты DS поддерживают записи ACE для конкретного объекта, и ДОМЕНная служба обрабатывает все типы объектов как контейнеры.</span><span class="sxs-lookup"><span data-stu-id="a9788-133">Note that currently only DS objects support object-specific ACEs, and the DS treats all object types as containers.</span></span>

 

