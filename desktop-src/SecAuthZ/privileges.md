---
description: Право доступа является правым для учетной записи, такой как учетная запись пользователя или группы, для выполнения различных операций, связанных с системой на локальном компьютере, таких как завершение работы системы, загрузка драйверов устройств или изменение системного времени.
ms.assetid: fe6aae0f-93eb-4aba-a6ac-45e71c251c51
title: Привилегии
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: cccedffdf5786da07dd2cfd77c3de428ee15ba94
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "103991254"
---
# <a name="privileges"></a><span data-ttu-id="6d42d-103">Привилегии</span><span class="sxs-lookup"><span data-stu-id="6d42d-103">Privileges</span></span>

<span data-ttu-id="6d42d-104">Право [*доступа*](/windows/desktop/SecGloss/p-gly) является правым для учетной записи, такой как учетная запись пользователя или группы, для выполнения различных операций, связанных с системой на локальном компьютере, таких как завершение работы системы, загрузка драйверов устройств или изменение системного времени.</span><span class="sxs-lookup"><span data-stu-id="6d42d-104">A [*privilege*](/windows/desktop/SecGloss/p-gly) is the right of an account, such as a user or group account, to perform various system-related operations on the local computer, such as shutting down the system, loading device drivers, or changing the system time.</span></span> <span data-ttu-id="6d42d-105">Привилегии отличаются правами доступа двумя способами.</span><span class="sxs-lookup"><span data-stu-id="6d42d-105">Privileges differ from access rights in two ways:</span></span>

-   <span data-ttu-id="6d42d-106">Привилегии управляют доступом к системным ресурсам и задачам, связанным с системой, в то время как права доступа управляют доступом к [защищаемым объектам](securable-objects.md).</span><span class="sxs-lookup"><span data-stu-id="6d42d-106">Privileges control access to system resources and system-related tasks, whereas access rights control access to [securable objects](securable-objects.md).</span></span>
-   <span data-ttu-id="6d42d-107">Системный администратор назначает привилегии учетным записям пользователей и групп, в то время как система предоставляет или запрещает доступ к защищаемому объекту на основе прав доступа, предоставленных ACE в списке DACL объекта.</span><span class="sxs-lookup"><span data-stu-id="6d42d-107">A system administrator assigns privileges to user and group accounts, whereas the system grants or denies access to a securable object based on the access rights granted in the ACEs in the object's DACL.</span></span>

<span data-ttu-id="6d42d-108">Каждая система имеет базу данных учетных записей, в которой хранятся привилегии, удерживаемые учетными записями пользователей и групп.</span><span class="sxs-lookup"><span data-stu-id="6d42d-108">Each system has an account database that stores the privileges held by user and group accounts.</span></span> <span data-ttu-id="6d42d-109">Когда пользователь входит в систему, система создает [маркер доступа](access-tokens.md) , содержащий список привилегий пользователя, включая тех, которые были предоставлены пользователю или группам, к которым принадлежит пользователь.</span><span class="sxs-lookup"><span data-stu-id="6d42d-109">When a user logs on, the system produces an [access token](access-tokens.md) that contains a list of the user's privileges, including those granted to the user or to groups to which the user belongs.</span></span> <span data-ttu-id="6d42d-110">Обратите внимание, что права доступа применяются только к локальному компьютеру. Учетная запись домена может иметь разные привилегии на разных компьютерах.</span><span class="sxs-lookup"><span data-stu-id="6d42d-110">Note that the privileges apply only to the local computer; a domain account can have different privileges on different computers.</span></span>

<span data-ttu-id="6d42d-111">Когда пользователь пытается выполнить привилегированную операцию, система проверяет маркер доступа пользователя, чтобы определить, содержит ли пользователь необходимые привилегии, и, если это так, проверяет, включены ли привилегии.</span><span class="sxs-lookup"><span data-stu-id="6d42d-111">When the user tries to perform a privileged operation, the system checks the user's access token to determine whether the user holds the necessary privileges, and if so, it checks whether the privileges are enabled.</span></span> <span data-ttu-id="6d42d-112">Если пользователь не проходит эти тесты, система не выполняет эту операцию.</span><span class="sxs-lookup"><span data-stu-id="6d42d-112">If the user fails these tests, the system does not perform the operation.</span></span>

<span data-ttu-id="6d42d-113">Чтобы определить привилегии, удерживаемые маркером доступа, вызовите функцию [**GetTokenInformation**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-gettokeninformation) , которая также указывает, какие привилегии включены.</span><span class="sxs-lookup"><span data-stu-id="6d42d-113">To determine the privileges held in an access token, call the [**GetTokenInformation**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-gettokeninformation) function, which also indicates which privileges are enabled.</span></span> <span data-ttu-id="6d42d-114">Большинство привилегий по умолчанию отключены.</span><span class="sxs-lookup"><span data-stu-id="6d42d-114">Most privileges are disabled by default.</span></span>

<span data-ttu-id="6d42d-115">API Windows определяет набор строковых констант, таких как SE \_ ассигнпримаритокен \_ Name, для определения различных привилегий.</span><span class="sxs-lookup"><span data-stu-id="6d42d-115">The Windows API defines a set of string constants, such as SE\_ASSIGNPRIMARYTOKEN\_NAME, to identify the various privileges.</span></span> <span data-ttu-id="6d42d-116">Эти константы одинаковы для всех систем и определяются в Winnt. h.</span><span class="sxs-lookup"><span data-stu-id="6d42d-116">These constants are the same on all systems and are defined in Winnt.h.</span></span> <span data-ttu-id="6d42d-117">Таблицу привилегий, определенных Windows, см. в разделе [константы прав доступа](authorization-constants.md).</span><span class="sxs-lookup"><span data-stu-id="6d42d-117">For a table of the privileges defined by Windows, see [Privilege Constants](authorization-constants.md).</span></span> <span data-ttu-id="6d42d-118">Однако функции, которые получают и корректируют привилегии в маркере доступа, используют тип [**LUID**](/windows/desktop/api/Winnt/ns-winnt-luid) для распознавания привилегий.</span><span class="sxs-lookup"><span data-stu-id="6d42d-118">However, the functions that get and adjust the privileges in an access token use the [**LUID**](/windows/desktop/api/Winnt/ns-winnt-luid) type to identify privileges.</span></span> <span data-ttu-id="6d42d-119">Значения **LUID** для привилегий могут отличаться от одного компьютера к другому и от одной загрузки к другому на том же компьютере.</span><span class="sxs-lookup"><span data-stu-id="6d42d-119">The **LUID** values for a privilege can differ from one computer to another, and from one boot to another on the same computer.</span></span> <span data-ttu-id="6d42d-120">Чтобы получить текущий **LUID** , соответствующий одной из строковых констант, используйте функцию [**LookupPrivilegeValue**](/windows/desktop/api/Winbase/nf-winbase-lookupprivilegevaluea) .</span><span class="sxs-lookup"><span data-stu-id="6d42d-120">To get the current **LUID** that corresponds to one of the string constants, use the [**LookupPrivilegeValue**](/windows/desktop/api/Winbase/nf-winbase-lookupprivilegevaluea) function.</span></span> <span data-ttu-id="6d42d-121">Используйте функцию [**лукуппривилеженаме**](/windows/desktop/api/Winbase/nf-winbase-lookupprivilegenamea) для преобразования **LUID** в соответствующую строковую константу.</span><span class="sxs-lookup"><span data-stu-id="6d42d-121">Use the [**LookupPrivilegeName**](/windows/desktop/api/Winbase/nf-winbase-lookupprivilegenamea) function to convert a **LUID** to its corresponding string constant.</span></span>

<span data-ttu-id="6d42d-122">Система предоставляет набор отображаемых имен, описывающих каждый из привилегий.</span><span class="sxs-lookup"><span data-stu-id="6d42d-122">The system provides a set of display names that describe each of the privileges.</span></span> <span data-ttu-id="6d42d-123">Они полезны, когда необходимо отобразить описание привилегий для пользователя.</span><span class="sxs-lookup"><span data-stu-id="6d42d-123">These are useful when you need to display a description of a privilege to the user.</span></span> <span data-ttu-id="6d42d-124">Используйте функцию [**лукуппривилежедисплайнаме**](/windows/desktop/api/Winbase/nf-winbase-lookupprivilegedisplaynamea) для получения строки описания, которая соответствует строковой константе для привилегии.</span><span class="sxs-lookup"><span data-stu-id="6d42d-124">Use the [**LookupPrivilegeDisplayName**](/windows/desktop/api/Winbase/nf-winbase-lookupprivilegedisplaynamea) function to retrieve a description string that corresponds to the string constant for a privilege.</span></span> <span data-ttu-id="6d42d-125">Например, в системах, использующих английский язык США, отображаемое имя для \_ \_ права доступа к имени SYSTEMTIME имеет значение "Изменить системное время".</span><span class="sxs-lookup"><span data-stu-id="6d42d-125">For example, on systems that use U.S. English, the display name for the SE\_SYSTEMTIME\_NAME privilege is "Change the system time".</span></span>

<span data-ttu-id="6d42d-126">С помощью функции [**привилежечекк**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-privilegecheck) можно определить, содержит ли маркер доступа указанный набор привилегий.</span><span class="sxs-lookup"><span data-stu-id="6d42d-126">You can use the [**PrivilegeCheck**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-privilegecheck) function to determine whether an access token holds a specified set of privileges.</span></span> <span data-ttu-id="6d42d-127">Это полезно в основном для серверных приложений, выполняющих олицетворение клиента.</span><span class="sxs-lookup"><span data-stu-id="6d42d-127">This is useful primarily to server applications that are impersonating a client.</span></span>

<span data-ttu-id="6d42d-128">Системный администратор может использовать средства администрирования, такие как диспетчер пользователей, для добавления или удаления привилегий для учетных записей пользователей и групп.</span><span class="sxs-lookup"><span data-stu-id="6d42d-128">A system administrator can use administrative tools, such as User Manager, to add or remove privileges for user and group accounts.</span></span> <span data-ttu-id="6d42d-129">Администраторы могут программно использовать функции [*локального центра безопасности*](/windows/desktop/SecGloss/l-gly) (LSA) для работы с привилегиями.</span><span class="sxs-lookup"><span data-stu-id="6d42d-129">Administrators can programmatically use the [*Local Security Authority*](/windows/desktop/SecGloss/l-gly) (LSA) functions to work with privileges.</span></span> <span data-ttu-id="6d42d-130">Функции [**лсааддаккаунтригхтс**](/windows/desktop/api/ntsecapi/nf-ntsecapi-lsaaddaccountrights) и [**лсаремовеаккаунтригхтс**](/windows/desktop/api/ntsecapi/nf-ntsecapi-lsaremoveaccountrights) добавляют или удаляют привилегии из учетной записи.</span><span class="sxs-lookup"><span data-stu-id="6d42d-130">The [**LsaAddAccountRights**](/windows/desktop/api/ntsecapi/nf-ntsecapi-lsaaddaccountrights) and [**LsaRemoveAccountRights**](/windows/desktop/api/ntsecapi/nf-ntsecapi-lsaremoveaccountrights) functions add or remove privileges from an account.</span></span> <span data-ttu-id="6d42d-131">Функция [**лсаенумератеаккаунтригхтс**](/windows/desktop/api/ntsecapi/nf-ntsecapi-lsaenumerateaccountrights) перечисляет привилегии, удерживаемые указанной учетной записью.</span><span class="sxs-lookup"><span data-stu-id="6d42d-131">The [**LsaEnumerateAccountRights**](/windows/desktop/api/ntsecapi/nf-ntsecapi-lsaenumerateaccountrights) function enumerates the privileges held by a specified account.</span></span> <span data-ttu-id="6d42d-132">Функция [**лсаенумератеаккаунтсвисусерригхт**](/windows/desktop/api/ntsecapi/nf-ntsecapi-lsaenumerateaccountswithuserright) перечисляет учетные записи, которые содержат указанные привилегии.</span><span class="sxs-lookup"><span data-stu-id="6d42d-132">The [**LsaEnumerateAccountsWithUserRight**](/windows/desktop/api/ntsecapi/nf-ntsecapi-lsaenumerateaccountswithuserright) function enumerates the accounts that hold a specified privilege.</span></span>

## <a name="related-topics"></a><span data-ttu-id="6d42d-133">См. также</span><span class="sxs-lookup"><span data-stu-id="6d42d-133">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="6d42d-134">Константы авторизации</span><span class="sxs-lookup"><span data-stu-id="6d42d-134">Authorization Constants</span></span>](authorization-constants.md)
</dt> <dt>

[<span data-ttu-id="6d42d-135">Включение и отключение привилегий в C++</span><span class="sxs-lookup"><span data-stu-id="6d42d-135">Enabling and Disabling Privileges in C++</span></span>](enabling-and-disabling-privileges-in-c--.md)
</dt> </dl>

 

 
