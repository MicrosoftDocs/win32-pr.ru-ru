---
description: Идентификатор безопасности (SID) — это уникальное значение переменной длины, используемое для идентификации доверенного лица.
ms.assetid: 7cb07bcd-70f4-43dd-8382-320fcff151c7
title: Идентификаторы безопасности
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 0368b2484cd8766aa7fa74c24679e82b10854e9d
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "105650562"
---
# <a name="security-identifiers"></a><span data-ttu-id="d0b66-103">Идентификаторы безопасности</span><span class="sxs-lookup"><span data-stu-id="d0b66-103">Security Identifiers</span></span>

<span data-ttu-id="d0b66-104">[*Идентификатор безопасности*](/windows/desktop/SecGloss/s-gly) (SID) — это уникальное значение переменной длины, используемое для идентификации [доверенного лица](trustees.md).</span><span class="sxs-lookup"><span data-stu-id="d0b66-104">A [*security identifier*](/windows/desktop/SecGloss/s-gly) (SID) is a unique value of variable length used to identify a [trustee](trustees.md).</span></span> <span data-ttu-id="d0b66-105">Каждая учетная запись имеет уникальный идентификатор безопасности, выданный центром сертификации, например контроллер домена Windows, и хранящийся в базе данных безопасности.</span><span class="sxs-lookup"><span data-stu-id="d0b66-105">Each account has a unique SID issued by an authority, such as a Windows domain controller, and stored in a security database.</span></span> <span data-ttu-id="d0b66-106">Каждый раз, когда пользователь входит в систему, система получает идентификатор безопасности для этого пользователя из базы данных и помещает его в [*маркер доступа*](/windows/desktop/SecGloss/a-gly) для этого пользователя.</span><span class="sxs-lookup"><span data-stu-id="d0b66-106">Each time a user logs on, the system retrieves the SID for that user from the database and places it in the [*access token*](/windows/desktop/SecGloss/a-gly) for that user.</span></span> <span data-ttu-id="d0b66-107">Система использует идентификатор безопасности в маркере доступа для обнаружения пользователя во всех последующих взаимодействиях с системой безопасности Windows.</span><span class="sxs-lookup"><span data-stu-id="d0b66-107">The system uses the SID in the access token to identify the user in all subsequent interactions with Windows security.</span></span> <span data-ttu-id="d0b66-108">Если идентификатор безопасности был использован в качестве уникального идентификатора для пользователя или группы, он не может использоваться повторно для идентификации другого пользователя или группы.</span><span class="sxs-lookup"><span data-stu-id="d0b66-108">When a SID has been used as the unique identifier for a user or group, it cannot ever be used again to identify another user or group.</span></span>

<span data-ttu-id="d0b66-109">Безопасность Windows использует идентификаторы безопасности в следующих элементах безопасности:</span><span class="sxs-lookup"><span data-stu-id="d0b66-109">Windows security uses SIDs in the following security elements:</span></span>

-   <span data-ttu-id="d0b66-110">В [дескрипторах безопасности](security-descriptors.md) для обнаружения владельца объекта и основной группы;</span><span class="sxs-lookup"><span data-stu-id="d0b66-110">In [security descriptors](security-descriptors.md) to identify the owner of an object and primary group</span></span>
-   <span data-ttu-id="d0b66-111">В [записях управления доступом](access-control-entries.md)для обнаружения доверенного лица, доступ к которому разрешен, запрещен или проверен.</span><span class="sxs-lookup"><span data-stu-id="d0b66-111">In [access control entries](access-control-entries.md), to identify the trustee for whom access is allowed, denied, or audited</span></span>
-   <span data-ttu-id="d0b66-112">В [маркерах доступа](access-tokens.md)для указания пользователя и групп, к которым принадлежит пользователь;</span><span class="sxs-lookup"><span data-stu-id="d0b66-112">In [access tokens](access-tokens.md), to identify the user and the groups to which the user belongs</span></span>

<span data-ttu-id="d0b66-113">В дополнение к уникальным созданным, специфическим для домена идентификаторам безопасности, назначенным конкретным пользователям и группам, существуют [хорошо известные идентификаторы безопасности](well-known-sids.md) , определяющие универсальные группы и универсальных пользователей.</span><span class="sxs-lookup"><span data-stu-id="d0b66-113">In addition to the uniquely created, domain-specific SIDs assigned to specific users and groups, there are [well-known SIDs](well-known-sids.md) that identify generic groups and generic users.</span></span> <span data-ttu-id="d0b66-114">Например, известные идентификаторы SID, все и мир, указывают группу, включающую всех пользователей.</span><span class="sxs-lookup"><span data-stu-id="d0b66-114">For example, the well-known SIDs, Everyone and World, identify a group that includes all users.</span></span>

<span data-ttu-id="d0b66-115">Большинству приложений не требуется работать с идентификаторами безопасности.</span><span class="sxs-lookup"><span data-stu-id="d0b66-115">Most applications never need to work with SIDs.</span></span> <span data-ttu-id="d0b66-116">Так как имена [известных идентификаторов безопасности](well-known-sids.md) могут различаться, следует использовать функции для создания идентификатора SID из предопределенных констант вместо использования имени ИЗВЕСТНОГО идентификатора безопасности.</span><span class="sxs-lookup"><span data-stu-id="d0b66-116">Because the names of [well-known SIDs](well-known-sids.md) can vary, you should use the functions to build the SID from predefined constants rather than using the name of the well-known SID.</span></span> <span data-ttu-id="d0b66-117">Например, в английской версии операционной системы Windows есть известный идентификатор безопасности с именем «Builtin \\ Администраторы», который может иметь другое имя в международных версиях системы.</span><span class="sxs-lookup"><span data-stu-id="d0b66-117">For example, the U.S. English version of the Windows operating system has a well-known SID named "BUILTIN\\Administrators" that might have a different name on international versions of the system.</span></span> <span data-ttu-id="d0b66-118">Пример, который создает известный идентификатор безопасности, см. в разделе [Поиск идентификатора SID в маркере доступа на языке C++](searching-for-a-sid-in-an-access-token-in-c--.md).</span><span class="sxs-lookup"><span data-stu-id="d0b66-118">For an example that builds a well-known SID, see [Searching for a SID in an Access Token in C++](searching-for-a-sid-in-an-access-token-in-c--.md).</span></span>

<span data-ttu-id="d0b66-119">Если вам нужно работать с идентификаторами SID, не следует манипулировать ими напрямую.</span><span class="sxs-lookup"><span data-stu-id="d0b66-119">If you do need to work with SIDs, do not manipulate them directly.</span></span> <span data-ttu-id="d0b66-120">Вместо этого используйте следующие функции.</span><span class="sxs-lookup"><span data-stu-id="d0b66-120">Instead, use the following functions.</span></span>



| <span data-ttu-id="d0b66-121">Функция</span><span class="sxs-lookup"><span data-stu-id="d0b66-121">Function</span></span>                                                       | <span data-ttu-id="d0b66-122">Описание</span><span class="sxs-lookup"><span data-stu-id="d0b66-122">Description</span></span>                                                                                                                                               |
|----------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="d0b66-123">**аллокатеандинитиализесид**</span><span class="sxs-lookup"><span data-stu-id="d0b66-123">**AllocateAndInitializeSid**</span></span>](/windows/win32/api/securitybaseapi/nf-securitybaseapi-allocateandinitializesid)   | <span data-ttu-id="d0b66-124">Выделяет и инициализирует идентификатор безопасности с указанным числом подцентров.</span><span class="sxs-lookup"><span data-stu-id="d0b66-124">Allocates and initializes a SID with the specified number of subauthorities.</span></span>                                                                              |
| [<span data-ttu-id="d0b66-125">**Функция ConvertSidToStringSid вернула**</span><span class="sxs-lookup"><span data-stu-id="d0b66-125">**ConvertSidToStringSid**</span></span>](/windows/desktop/api/Sddl/nf-sddl-convertsidtostringsida)         | <span data-ttu-id="d0b66-126">Преобразует идентификатор безопасности в строковый формат, подходящий для дисплеев, хранения или транспорта.</span><span class="sxs-lookup"><span data-stu-id="d0b66-126">Converts a SID to a string format suitable for display, storage, or transport.</span></span>                                                                            |
| [<span data-ttu-id="d0b66-127">**конвертстрингсидтосид**</span><span class="sxs-lookup"><span data-stu-id="d0b66-127">**ConvertStringSidToSid**</span></span>](/windows/desktop/api/Sddl/nf-sddl-convertstringsidtosida)         | <span data-ttu-id="d0b66-128">Преобразует идентификатор SID строкового формата в допустимый, функциональный идентификатор SID.</span><span class="sxs-lookup"><span data-stu-id="d0b66-128">Converts a string-format SID to a valid, functional SID.</span></span>                                                                                                  |
| [<span data-ttu-id="d0b66-129">**кописид**</span><span class="sxs-lookup"><span data-stu-id="d0b66-129">**CopySid**</span></span>](/windows/win32/api/securitybaseapi/nf-securitybaseapi-copysid)                                     | <span data-ttu-id="d0b66-130">Копирует идентификатор безопасности источника в буфер.</span><span class="sxs-lookup"><span data-stu-id="d0b66-130">Copies a source SID to a buffer.</span></span>                                                                                                                          |
| [<span data-ttu-id="d0b66-131">**екуалпрефикссид**</span><span class="sxs-lookup"><span data-stu-id="d0b66-131">**EqualPrefixSid**</span></span>](/windows/win32/api/securitybaseapi/nf-securitybaseapi-equalprefixsid)                       | <span data-ttu-id="d0b66-132">Проверяет два значения префикса SID на равенство.</span><span class="sxs-lookup"><span data-stu-id="d0b66-132">Tests two SID prefix values for equality.</span></span> <span data-ttu-id="d0b66-133">Префикс SID — это весь идентификатор безопасности, за исключением последнего значения подавтора.</span><span class="sxs-lookup"><span data-stu-id="d0b66-133">A SID prefix is the entire SID except for the last subauthority value.</span></span>                                          |
| [<span data-ttu-id="d0b66-134">**екуалсид**</span><span class="sxs-lookup"><span data-stu-id="d0b66-134">**EqualSid**</span></span>](/windows/win32/api/securitybaseapi/nf-securitybaseapi-equalsid)                                   | <span data-ttu-id="d0b66-135">Проверяет два идентификатора безопасности на равенство.</span><span class="sxs-lookup"><span data-stu-id="d0b66-135">Tests two SIDs for equality.</span></span> <span data-ttu-id="d0b66-136">Они должны точно соответствовать, чтобы считаться равными.</span><span class="sxs-lookup"><span data-stu-id="d0b66-136">They must match exactly to be considered equal.</span></span>                                                                              |
| [<span data-ttu-id="d0b66-137">**фрисид**</span><span class="sxs-lookup"><span data-stu-id="d0b66-137">**FreeSid**</span></span>](/windows/win32/api/securitybaseapi/nf-securitybaseapi-freesid)                                     | <span data-ttu-id="d0b66-138">Освобождает ранее выделенный SID с помощью функции [**аллокатеандинитиализесид**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-allocateandinitializesid) .</span><span class="sxs-lookup"><span data-stu-id="d0b66-138">Frees a previously allocated SID by using the [**AllocateAndInitializeSid**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-allocateandinitializesid) function.</span></span>                                      |
| [<span data-ttu-id="d0b66-139">**жетленгссид**</span><span class="sxs-lookup"><span data-stu-id="d0b66-139">**GetLengthSid**</span></span>](/windows/win32/api/securitybaseapi/nf-securitybaseapi-getlengthsid)                           | <span data-ttu-id="d0b66-140">Возвращает длину идентификатора безопасности.</span><span class="sxs-lookup"><span data-stu-id="d0b66-140">Retrieves the length of a SID.</span></span>                                                                                                                            |
| [<span data-ttu-id="d0b66-141">**жетсидидентифиераусорити**</span><span class="sxs-lookup"><span data-stu-id="d0b66-141">**GetSidIdentifierAuthority**</span></span>](/windows/win32/api/securitybaseapi/nf-securitybaseapi-getsididentifierauthority) | <span data-ttu-id="d0b66-142">Получает указатель на центр идентификации для идентификатора безопасности.</span><span class="sxs-lookup"><span data-stu-id="d0b66-142">Retrieves a pointer to the identifier authority for a SID.</span></span>                                                                                                |
| [<span data-ttu-id="d0b66-143">**жетсидленгсрекуиред**</span><span class="sxs-lookup"><span data-stu-id="d0b66-143">**GetSidLengthRequired**</span></span>](/windows/win32/api/securitybaseapi/nf-securitybaseapi-getsidlengthrequired)           | <span data-ttu-id="d0b66-144">Возвращает размер буфера, необходимого для хранения идентификатора безопасности с указанным числом подхранилищ.</span><span class="sxs-lookup"><span data-stu-id="d0b66-144">Retrieves the size of the buffer required to store a SID with a specified number of subauthorities.</span></span>                                                       |
| [<span data-ttu-id="d0b66-145">**жетсидсубаусорити**</span><span class="sxs-lookup"><span data-stu-id="d0b66-145">**GetSidSubAuthority**</span></span>](/windows/win32/api/securitybaseapi/nf-securitybaseapi-getsidsubauthority)               | <span data-ttu-id="d0b66-146">Извлекает указатель на заданную подавторку в идентификаторе безопасности.</span><span class="sxs-lookup"><span data-stu-id="d0b66-146">Retrieves a pointer to a specified subauthority in a SID.</span></span>                                                                                                 |
| [<span data-ttu-id="d0b66-147">**жетсидсубаусоритикаунт**</span><span class="sxs-lookup"><span data-stu-id="d0b66-147">**GetSidSubAuthorityCount**</span></span>](/windows/win32/api/securitybaseapi/nf-securitybaseapi-getsidsubauthoritycount)     | <span data-ttu-id="d0b66-148">Возвращает количество подцентров в идентификаторе безопасности.</span><span class="sxs-lookup"><span data-stu-id="d0b66-148">Retrieves the number of subauthorities in a SID.</span></span>                                                                                                          |
| [<span data-ttu-id="d0b66-149">**инитиализесид**</span><span class="sxs-lookup"><span data-stu-id="d0b66-149">**InitializeSid**</span></span>](/windows/win32/api/securitybaseapi/nf-securitybaseapi-initializesid)                         | <span data-ttu-id="d0b66-150">Инициализирует структуру [**идентификатора безопасности**](/windows/desktop/api/Winnt/ns-winnt-sid) .</span><span class="sxs-lookup"><span data-stu-id="d0b66-150">Initializes a [**SID**](/windows/desktop/api/Winnt/ns-winnt-sid) structure.</span></span>                                                                                                               |
| [<span data-ttu-id="d0b66-151">**исвалидсид**</span><span class="sxs-lookup"><span data-stu-id="d0b66-151">**IsValidSid**</span></span>](/windows/win32/api/securitybaseapi/nf-securitybaseapi-isvalidsid)                               | <span data-ttu-id="d0b66-152">Проверяет допустимость идентификатора безопасности, проверяя, что номер редакции находится в известном диапазоне, а число вложений меньше максимального.</span><span class="sxs-lookup"><span data-stu-id="d0b66-152">Tests the validity of a SID by verifying that the revision number is within a known range and that the number of subauthorities is less than the maximum.</span></span> |
| [<span data-ttu-id="d0b66-153">**LookupAccountName**</span><span class="sxs-lookup"><span data-stu-id="d0b66-153">**LookupAccountName**</span></span>](/windows/desktop/api/Winbase/nf-winbase-lookupaccountnamea)                 | <span data-ttu-id="d0b66-154">Возвращает идентификатор безопасности, соответствующий указанному имени учетной записи.</span><span class="sxs-lookup"><span data-stu-id="d0b66-154">Retrieves the SID that corresponds to a specified account name.</span></span>                                                                                           |
| [<span data-ttu-id="d0b66-155">**LookupAccountSid**</span><span class="sxs-lookup"><span data-stu-id="d0b66-155">**LookupAccountSid**</span></span>](/windows/desktop/api/Winbase/nf-winbase-lookupaccountsida)                   | <span data-ttu-id="d0b66-156">Возвращает имя учетной записи, соответствующее указанному идентификатору безопасности.</span><span class="sxs-lookup"><span data-stu-id="d0b66-156">Retrieves the account name that corresponds to a specified SID.</span></span>                                                                                           |



 

 

 
