---
description: Чтобы определить, является ли дескриптор безопасности самостоятельным или абсолютным, вызовите функцию Жетсекуритидескрипторконтрол и установите флаг "SE \_ Self \_ Relative" \_ параметра управления дескриптором безопасности \_ .
ms.assetid: dab2844b-7df9-446c-aacf-380a0a805cbc
title: Абсолютные и Self-Relative дескрипторы безопасности
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: b57406e194a31e79594394913055609e2981e5cb
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "103998723"
---
# <a name="absolute-and-self-relative-security-descriptors"></a><span data-ttu-id="451bf-103">Абсолютные и Self-Relative дескрипторы безопасности</span><span class="sxs-lookup"><span data-stu-id="451bf-103">Absolute and Self-Relative Security Descriptors</span></span>

<span data-ttu-id="451bf-104">[*Дескриптор безопасности*](/windows/desktop/SecGloss/s-gly) может иметь либо [*абсолютный*](/windows/desktop/SecGloss/a-gly) , либо [*относительный*](/windows/desktop/SecGloss/s-gly) формат.</span><span class="sxs-lookup"><span data-stu-id="451bf-104">A [*security descriptor*](/windows/desktop/SecGloss/s-gly) can be in either [*absolute*](/windows/desktop/SecGloss/a-gly) or [*self-relative*](/windows/desktop/SecGloss/s-gly) format.</span></span> <span data-ttu-id="451bf-105">В абсолютном формате дескриптор безопасности содержит указатели на сведения, а не на саму информацию.</span><span class="sxs-lookup"><span data-stu-id="451bf-105">In absolute format, a security descriptor contains pointers to its information, not the information itself.</span></span> <span data-ttu-id="451bf-106">В автономном формате дескриптор безопасности хранит структуру [**\_ дескриптора безопасности**](/windows/desktop/api/Winnt/ns-winnt-security_descriptor) и связанные с ней сведения о безопасности в непрерывном блоке памяти.</span><span class="sxs-lookup"><span data-stu-id="451bf-106">In self-relative format, a security descriptor stores a [**SECURITY\_DESCRIPTOR**](/windows/desktop/api/Winnt/ns-winnt-security_descriptor) structure and associated security information in a contiguous block of memory.</span></span> <span data-ttu-id="451bf-107">Чтобы определить, является ли дескриптор безопасности самостоятельным или абсолютным, вызовите функцию [**жетсекуритидескрипторконтрол**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-getsecuritydescriptorcontrol) и установите флаг "SE \_ Self \_ Relative" параметра [**\_ \_ управления дескриптором безопасности**](security-descriptor-control.md) .</span><span class="sxs-lookup"><span data-stu-id="451bf-107">To determine whether a security descriptor is self-relative or absolute, call the [**GetSecurityDescriptorControl**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-getsecuritydescriptorcontrol) function and check the SE\_SELF\_RELATIVE flag of the [**SECURITY\_DESCRIPTOR\_CONTROL**](security-descriptor-control.md) parameter.</span></span> <span data-ttu-id="451bf-108">Для преобразования между этими двумя форматами можно использовать функции [**макеселфрелативесд**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-makeselfrelativesd) и [**предполагался сбой makeabsolutesd**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-makeabsolutesd) .</span><span class="sxs-lookup"><span data-stu-id="451bf-108">You can use the [**MakeSelfRelativeSD**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-makeselfrelativesd) and [**MakeAbsoluteSD**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-makeabsolutesd) functions for converting between these two formats.</span></span>

<span data-ttu-id="451bf-109">Абсолютный формат полезен при создании дескриптора безопасности и указателей на все компоненты, например при наличии параметров по умолчанию для владельца, группы и избирательного списка управления доступом.</span><span class="sxs-lookup"><span data-stu-id="451bf-109">The absolute format is useful when you are building a security descriptor and have pointers to all of the components, for example, when default settings for the owner, group, and discretionary ACL are available.</span></span> <span data-ttu-id="451bf-110">В этом случае можно вызвать функцию [**InitializeSecurityDescriptor**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-initializesecuritydescriptor) , чтобы инициализировать структуру [**\_ дескриптора безопасности**](/windows/desktop/api/Winnt/ns-winnt-security_descriptor) , а затем вызвать такие функции, как [**SetSecurityDescriptorDacl**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-setsecuritydescriptordacl) , чтобы назначить дескриптору безопасности списки ACL и идентификаторы безопасности.</span><span class="sxs-lookup"><span data-stu-id="451bf-110">In this case, you can call the [**InitializeSecurityDescriptor**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-initializesecuritydescriptor) function to initialize a [**SECURITY\_DESCRIPTOR**](/windows/desktop/api/Winnt/ns-winnt-security_descriptor) structure, and then call functions such as [**SetSecurityDescriptorDacl**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-setsecuritydescriptordacl) to assign ACL and SID pointers to the security descriptor.</span></span>

<span data-ttu-id="451bf-111">В автономном формате дескриптор безопасности всегда начинается со структуры [**\_ дескриптора безопасности**](/windows/desktop/api/Winnt/ns-winnt-security_descriptor) , но другие компоненты дескриптора безопасности могут следовать структуре в любом порядке.</span><span class="sxs-lookup"><span data-stu-id="451bf-111">In self-relative format, a security descriptor always begins with a [**SECURITY\_DESCRIPTOR**](/windows/desktop/api/Winnt/ns-winnt-security_descriptor) structure, but the other components of the security descriptor can follow the structure in any order.</span></span> <span data-ttu-id="451bf-112">Вместо использования адресов памяти компоненты дескриптора безопасности определяются по смещению от начала дескриптора.</span><span class="sxs-lookup"><span data-stu-id="451bf-112">Instead of using memory addresses, the security descriptor's components are identified by offsets from the beginning of the descriptor.</span></span> <span data-ttu-id="451bf-113">Этот формат полезен, если дескриптор безопасности должен храниться на диске, передаваться по протоколу связи или копироваться в память.</span><span class="sxs-lookup"><span data-stu-id="451bf-113">This format is useful when a security descriptor must be stored on disk, transmitted by means of a communications protocol, or copied in memory.</span></span>

<span data-ttu-id="451bf-114">За исключением [**предполагался сбой makeabsolutesd**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-makeabsolutesd), все функции, возвращающие дескриптор безопасности, используют автономный формат.</span><span class="sxs-lookup"><span data-stu-id="451bf-114">Except for [**MakeAbsoluteSD**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-makeabsolutesd), all functions that return a security descriptor do so using the self-relative format.</span></span> <span data-ttu-id="451bf-115">Дескрипторы безопасности, передаваемые в качестве аргументов в функцию, могут быть либо самостоятельными, либо абсолютными формами.</span><span class="sxs-lookup"><span data-stu-id="451bf-115">Security descriptors passed as arguments to a function can be either self-relative or absolute form.</span></span> <span data-ttu-id="451bf-116">Дополнительные сведения см. в документации по функции.</span><span class="sxs-lookup"><span data-stu-id="451bf-116">For more information, refer to the documentation for the function.</span></span>

 

 
