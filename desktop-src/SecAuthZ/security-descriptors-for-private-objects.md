---
description: Для создания дескриптора безопасности защищенный сервер может использовать ту же процедуру, которую приложение будет использовать для создания дескриптора безопасности защищаемого объекта.
ms.assetid: f40c4b62-a3f0-4e66-875e-2ef904d052e5
title: Дескрипторы безопасности для закрытых объектов
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 97c40dc5c4e9f0a3d0e641874153d2862d038a19
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "103991252"
---
# <a name="security-descriptors-for-private-objects"></a>Дескрипторы безопасности для закрытых объектов

Для создания [*дескриптора безопасности*](/windows/desktop/SecGloss/s-gly)защищенный сервер может использовать ту же процедуру, которую приложение будет использовать для создания дескриптора безопасности защищаемого объекта. Пример кода см. [в разделе Создание дескриптора безопасности для нового объекта в C++](creating-a-security-descriptor-for-a-new-object-in-c--.md). Кроме того, защищенное серверное приложение для этого может вызвать функцию [**буилдсекуритидескриптор**](/windows/desktop/api/Aclapi/nf-aclapi-buildsecuritydescriptora) . Если указатель на существующий [*дескриптор безопасности*](/windows/desktop/SecGloss/s-gly) предоставляется в **буилдсекуритидескриптор**, он создаст новый дескриптор безопасности со сведениями, полученными из этого дескриптора безопасности, которые были объединены с новыми данными управления доступом, передаваемыми в качестве параметров в вызове функции. Владелец и группа по желанию указываются в структурах [**доверенных лиц**](/windows/desktop/api/AccCtrl/ns-accctrl-trustee_a) , переданных в функцию. Дескриптор безопасности, созданный **буилдсекуритидескриптор** , находится в *автономном* формате.

Кроме того, API Windows предоставляет набор функций для слияния сведений о клиентской безопасности со сведениями, унаследованными от дескриптора безопасности для родительского объекта или из дескриптора безопасности по умолчанию. Функции [**креатеприватеобжектсекурити**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-createprivateobjectsecurity), [**жетприватеобжектсекурити**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-getprivateobjectsecurity), [**сетприватеобжектсекурити**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-setprivateobjectsecurity)и [**DestroyPrivateObjectSecurity**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-destroyprivateobjectsecurity) предоставляют возможность получения сведений по умолчанию из [*маркера доступа*](/windows/desktop/SecGloss/a-gly), поддержки наследования и работы с конкретными частями дескриптора безопасности. Это может быть полезно, когда клиент создает закрытый объект в иерархии защищенных объектов. Например, функцию **креатеприватеобжектсекурити** можно использовать для создания дескриптора безопасности, содержащего ACE, заданные клиентом, ACE, наследуемые от родительского объекта, и владельца по умолчанию из маркера доступа клиента создания. Хотя [**буилдсекуритидескриптор**](/windows/desktop/api/Aclapi/nf-aclapi-buildsecuritydescriptora) создает дескрипторы безопасности из информации об управлении доступом, передаваемой в вызов функции, или из существующего дескриптора безопасности, **креатеприватеобжектсекурити** создает описатель безопасности исключительно из информации в существующих описательах безопасности.

Функция [**лукупсекуритидескрипторпартс**](/windows/desktop/api/Aclapi/nf-aclapi-lookupsecuritydescriptorpartsa) получает сведения о дескрипторе безопасности из существующего [*самоотносительного дескриптора безопасности*](/windows/desktop/SecGloss/s-gly). Эти сведения включают спецификацию владельца и группы, число записей ACE в списке SACL или DACL, а также список записей ACE в списках SACL или DACL.

 

 
